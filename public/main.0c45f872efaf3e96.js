var Uj=Object.defineProperty,Bj=Object.defineProperties,jj=Object.getOwnPropertyDescriptors,VR=Object.getOwnPropertySymbols,Vj=Object.prototype.hasOwnProperty,Hj=Object.prototype.propertyIsEnumerable,HR=(Gr,Ln,me)=>Ln in Gr?Uj(Gr,Ln,{enumerable:!0,configurable:!0,writable:!0,value:me}):Gr[Ln]=me,zR=(Gr,Ln)=>{for(var me in Ln||(Ln={}))Vj.call(Ln,me)&&HR(Gr,me,Ln[me]);if(VR)for(var me of VR(Ln))Hj.call(Ln,me)&&HR(Gr,me,Ln[me]);return Gr},WR=(Gr,Ln)=>Bj(Gr,jj(Ln));(self.webpackChunktp_final_clinicas_2022=self.webpackChunktp_final_clinicas_2022||[]).push([[179],{7128:(Gr,Ln,me)=>{"use strict";me.d(Ln,{nm:()=>wn});var C=me(880),Ne=(me(5e3),me(3692),me(5867),me(5861)),I=me(9681),tt=me(4859),Qe=me(2090),nt=me(1877);const ze=new Map,qe={activated:!1,tokenObservers:[]},Fe={initialized:!1,enabled:!1};function He(Sn){return ze.get(Sn)||qe}function xe(Sn,Tn){ze.set(Sn,Tn)}function we(){return Fe}class se{constructor(Tn,Hn,Or,jr,ni){if(this.operation=Tn,this.retryPolicy=Hn,this.getWaitDuration=Or,this.lowerBound=jr,this.upperBound=ni,this.pending=null,this.nextErrorWaitInterval=jr,jr>ni)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(Tn){var Hn=this;return(0,Ne.Z)(function*(){Hn.stop();try{Hn.pending=new Qe.BH,yield function pe(Sn){return new Promise(Tn=>{setTimeout(Tn,Sn)})}(Hn.getNextRun(Tn)),Hn.pending.resolve(),yield Hn.pending.promise,Hn.pending=new Qe.BH,yield Hn.operation(),Hn.pending.resolve(),yield Hn.pending.promise,Hn.process(!0).catch(()=>{})}catch(Or){Hn.retryPolicy(Or)?Hn.process(!1).catch(()=>{}):Hn.stop()}})()}getNextRun(Tn){if(Tn)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const Hn=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),Hn}}}const L=new Qe.LL("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function re(Sn){if(!He(Sn).activated)throw L.create("use-before-activation",{appName:Sn.name})}function F(Sn,Tn){return ae.apply(this,arguments)}function ae(){return(ae=(0,Ne.Z)(function*({url:Sn,body:Tn},Hn){var Or,jr;const ni={"Content-Type":"application/json"},as=Hn.getImmediate({optional:!0});if(as){const jo=yield as.getHeartbeatsHeader();jo&&(ni["X-Firebase-Client"]=jo)}const Us={method:"POST",body:JSON.stringify(Tn),headers:ni};let ji,ro;try{ji=yield fetch(Sn,Us)}catch(jo){throw L.create("fetch-network-error",{originalErrorMessage:null===(Or=jo)||void 0===Or?void 0:Or.message})}if(200!==ji.status)throw L.create("fetch-status-error",{httpStatus:ji.status});try{ro=yield ji.json()}catch(jo){throw L.create("fetch-parse-error",{originalErrorMessage:null===(jr=jo)||void 0===jr?void 0:jr.message})}const Co=ro.ttl.match(/^([\d.]+)(s)$/);if(!Co||!Co[2]||isNaN(Number(Co[1])))throw L.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${ro.ttl}`});const Ca=1e3*Number(Co[1]),Sa=Date.now();return{token:ro.token,expireTimeMillis:Sa+Ca,issuedAtTimeMillis:Sa}})).apply(this,arguments)}function De(Sn,Tn){const{projectId:Hn,appId:Or,apiKey:jr}=Sn.options;return{url:`https://content-firebaseappcheck.googleapis.com/v1/projects/${Hn}/apps/${Or}:exchangeDebugToken?key=${jr}`,body:{debug_token:Tn}}}const We="firebase-app-check-store";let Je=null;function Z(){return Je||(Je=new Promise((Sn,Tn)=>{var Hn;try{const Or=indexedDB.open("firebase-app-check-database",1);Or.onsuccess=jr=>{Sn(jr.target.result)},Or.onerror=jr=>{var ni;Tn(L.create("storage-open",{originalErrorMessage:null===(ni=jr.target.error)||void 0===ni?void 0:ni.message}))},Or.onupgradeneeded=jr=>{0===jr.oldVersion&&jr.target.result.createObjectStore(We,{keyPath:"compositeKey"})}}catch(Or){Tn(L.create("storage-open",{originalErrorMessage:null===(Hn=Or)||void 0===Hn?void 0:Hn.message}))}}),Je)}function j(){return(j=(0,Ne.Z)(function*(Sn,Tn){const Or=(yield Z()).transaction(We,"readwrite"),ni=Or.objectStore(We).put({compositeKey:Sn,value:Tn});return new Promise((as,Us)=>{ni.onsuccess=ji=>{as()},Or.onerror=ji=>{var ro;Us(L.create("storage-set",{originalErrorMessage:null===(ro=ji.target.error)||void 0===ro?void 0:ro.message}))}})})).apply(this,arguments)}const Ue=new nt.Yd("@firebase/app-check");function Ft(Sn,Tn){return(0,Qe.hl)()?function Oe(Sn,Tn){return function at(Sn,Tn){return j.apply(this,arguments)}(function Ee(Sn){return`${Sn.options.appId}-${Sn.name}`}(Sn),Tn)}(Sn,Tn).catch(Hn=>{Ue.warn(`Failed to write token to IndexedDB. Error: ${Hn}`)}):Promise.resolve()}function Nn(){return we().enabled}function $n(){return yn.apply(this,arguments)}function yn(){return(yn=(0,Ne.Z)(function*(){const Sn=we();if(Sn.enabled&&Sn.token)return Sn.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")})).apply(this,arguments)}const ke={error:"UNKNOWN_ERROR"};function ft(Sn){return Qe.US.encodeString(JSON.stringify(Sn),!1)}function It(Sn){return ct.apply(this,arguments)}function ct(){return(ct=(0,Ne.Z)(function*(Sn,Tn=!1){const Hn=Sn.app;re(Hn);const Or=He(Hn);let ni,jr=Or.token;if(!jr){const ji=yield Or.cachedTokenPromise;ji&&Mr(ji)&&(jr=ji)}if(!Tn&&jr&&Mr(jr))return{token:jr.token};let Us,as=!1;if(Nn()){Or.exchangeTokenPromise||(Or.exchangeTokenPromise=F(De(Hn,yield $n()),Sn.heartbeatServiceProvider).then(ro=>(Or.exchangeTokenPromise=void 0,ro)),as=!0);const ji=yield Or.exchangeTokenPromise;return yield Ft(Hn,ji),xe(Hn,Object.assign(Object.assign({},Or),{token:ji})),{token:ji.token}}try{Or.exchangeTokenPromise||(Or.exchangeTokenPromise=Or.provider.getToken().then(ji=>(Or.exchangeTokenPromise=void 0,ji)),as=!0),jr=yield Or.exchangeTokenPromise}catch(ji){"appCheck/throttled"===ji.code?Ue.warn(ji.message):Ue.error(ji),ni=ji}return jr?(Us={token:jr.token},xe(Hn,Object.assign(Object.assign({},Or),{token:jr})),yield Ft(Hn,jr)):Us=dr(ni),as&&mr(Hn,Us),Us})).apply(this,arguments)}function nn(Sn,Tn){const Hn=He(Sn),Or=Hn.tokenObservers.filter(jr=>jr.next!==Tn);0===Or.length&&Hn.tokenRefresher&&Hn.tokenRefresher.isRunning()&&Hn.tokenRefresher.stop(),xe(Sn,Object.assign(Object.assign({},Hn),{tokenObservers:Or}))}function jn(Sn){const{app:Tn}=Sn,Hn=He(Tn);let Or=Hn.tokenRefresher;Or||(Or=function br(Sn){const{app:Tn}=Sn;return new se((0,Ne.Z)(function*(){let Or;if(Or=He(Tn).token?yield It(Sn,!0):yield It(Sn),Or.error)throw Or.error}),()=>!0,()=>{const Hn=He(Tn);if(Hn.token){let Or=Hn.token.issuedAtTimeMillis+.5*(Hn.token.expireTimeMillis-Hn.token.issuedAtTimeMillis)+3e5;return Or=Math.min(Or,Hn.token.expireTimeMillis-3e5),Math.max(0,Or-Date.now())}return 0},3e4,96e4)}(Sn),xe(Tn,Object.assign(Object.assign({},Hn),{tokenRefresher:Or}))),!Or.isRunning()&&Hn.isTokenAutoRefreshEnabled&&Or.start()}function mr(Sn,Tn){const Hn=He(Sn).tokenObservers;for(const Or of Hn)try{"EXTERNAL"===Or.type&&null!=Tn.error?Or.error(Tn.error):Or.next(Tn)}catch(jr){}}function Mr(Sn){return Sn.expireTimeMillis-Date.now()>0}function dr(Sn){return{token:ft(ke),error:Sn}}class zr{constructor(Tn,Hn){this.app=Tn,this.heartbeatServiceProvider=Hn}_delete(){const{tokenObservers:Tn}=He(this.app);for(const Hn of Tn)nn(this.app,Hn.next);return Promise.resolve()}}const Rs="app-check-internal";!function va(){(0,I._registerComponent)(new tt.wA("app-check",Sn=>function Pr(Sn,Tn){return new zr(Sn,Tn)}(Sn.getProvider("app").getImmediate(),Sn.getProvider("heartbeat")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((Sn,Tn,Hn)=>{Sn.getProvider(Rs).initialize()})),(0,I._registerComponent)(new tt.wA(Rs,Sn=>function fn(Sn){return{getToken:Tn=>It(Sn,Tn),addTokenListener:Tn=>function jt(Sn,Tn,Hn,Or){const{app:jr}=Sn,ni=He(jr),as={next:Hn,error:Or,type:Tn};if(xe(jr,Object.assign(Object.assign({},ni),{tokenObservers:[...ni.tokenObservers,as]})),ni.token&&Mr(ni.token)){const Us=ni.token;Promise.resolve().then(()=>{Hn({token:Us.token}),jn(Sn)}).catch(()=>{})}ni.cachedTokenPromise.then(()=>jn(Sn))}(Sn,"INTERNAL",Tn),removeTokenListener:Tn=>nn(Sn.app,Tn)}}(Sn.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),(0,I.registerVersion)("@firebase/app-check","0.5.10")}();class wn{constructor(){return(0,C.vb)("app-check")}}"undefined"!=typeof window&&window},3692:(Gr,Ln,me)=>{"use strict";me.d(Ln,{Ot:()=>ve,ZF:()=>W,hX:()=>He,z6:()=>Ne});var C=me(5867),h=me(5e3),it=me(880);class ve{constructor(se){return se}}class Ne{constructor(){return(0,C.C6)()}}const Qe=new h.OlP("angularfire2._apps"),nt={provide:ve,useFactory:function tt(oe){return oe&&1===oe.length?oe[0]:new ve((0,C.Mq)())},deps:[[new h.FiY,Qe]]},ze={provide:Ne,deps:[[new h.FiY,Qe]]};function qe(oe){return(se,pe)=>{const Ce=se.runOutsideAngular(()=>oe(pe));return new ve(Ce)}}let Fe=(()=>{class oe{constructor(pe){(0,C.KN)("angularfire",it.q4.full,"core"),(0,C.KN)("angularfire",it.q4.full,"app"),(0,C.KN)("angular",h.q4F.full,pe.toString())}}return oe.\u0275fac=function(pe){return new(pe||oe)(h.LFG(h.Lbi))},oe.\u0275mod=h.oAB({type:oe}),oe.\u0275inj=h.cJS({providers:[nt,ze]}),oe})();function He(oe,...se){return{ngModule:Fe,providers:[{provide:Qe,useFactory:qe(oe),multi:!0,deps:[h.R0b,h.zs3,it.HU,...se]}]}}const W=(0,it.u3)(C.ZF,!0)},3385:(Gr,Ln,me)=>{"use strict";me.d(Ln,{zQ:()=>G,ww:()=>F,rT:()=>L,f7:()=>re,L6:()=>pe,_Q:()=>Ce,lh:()=>Q,Qv:()=>se,nw:()=>P});var C=me(5e3),h=me(7579),it=me(9646),ve=me(8306),Ne=me(8996),I=me(6451),tt=me(3900),Qe=me(576);function nt(ae,R){return(0,Qe.m)(R)?(0,tt.w)(()=>ae,R):(0,tt.w)(()=>ae)}var ze=me(5363),qe=me(4004),Fe=me(3151),He=me(590),xe=me(9468),we=me(9300),de=me(880),W=me(2011),fe=me(9808),ye=me(7128),Se=me(127);const se=new C.OlP("angularfire2.auth.use-emulator"),pe=new C.OlP("angularfire2.auth.settings"),Ce=new C.OlP("angularfire2.auth.tenant-id"),L=new C.OlP("angularfire2.auth.langugage-code"),Q=new C.OlP("angularfire2.auth.use-device-language"),re=new C.OlP("angularfire.auth.persistence"),P=(ae,R,z,De,Ke,dt,We,Te)=>(0,W.cc)(`${ae.name}.auth`,"AngularFireAuth",ae.name,()=>{const Je=R.runOutsideAngular(()=>ae.auth());if(z&&Je.useEmulator(...z),De&&(Je.tenantId=De),Je.languageCode=Ke,dt&&Je.useDeviceLanguage(),We)for(const[Z,ne]of Object.entries(We))Je.settings[Z]=ne;return Te&&Je.setPersistence(Te),Je},[z,De,Ke,dt,We,Te]);let G=(()=>{class ae{constructor(z,De,Ke,dt,We,Te,Je,Z,ne,Oe,$e,ot){const at=new h.x,j=(0,it.of)(void 0).pipe((0,ze.Q)(We.outsideAngular),(0,tt.w)(()=>dt.runOutsideAngular(()=>Promise.resolve().then(me.bind(me,5881)))),(0,qe.U)(()=>(0,W.on)(z,dt,De)),(0,qe.U)(be=>P(be,dt,Te,Z,ne,Oe,Je,$e)),(0,Fe.d)({bufferSize:1,refCount:!1}));if((0,fe.PM)(Ke))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=(0,it.of)(null);else{j.pipe((0,He.P)()).subscribe();const J=j.pipe((0,tt.w)(lt=>lt.getRedirectResult().then(Tt=>Tt,()=>null)),de.iC,(0,Fe.d)({bufferSize:1,refCount:!1})),Ee=j.pipe((0,tt.w)(lt=>new ve.y(Tt=>({unsubscribe:dt.runOutsideAngular(()=>lt.onAuthStateChanged(Ft=>Tt.next(Ft),Ft=>Tt.error(Ft),()=>Tt.complete()))})))),Ue=j.pipe((0,tt.w)(lt=>new ve.y(Tt=>({unsubscribe:dt.runOutsideAngular(()=>lt.onIdTokenChanged(Ft=>Tt.next(Ft),Ft=>Tt.error(Ft),()=>Tt.complete()))}))));this.authState=J.pipe(nt(Ee),(0,xe.R)(We.outsideAngular),(0,ze.Q)(We.insideAngular)),this.user=J.pipe(nt(Ue),(0,xe.R)(We.outsideAngular),(0,ze.Q)(We.insideAngular)),this.idToken=this.user.pipe((0,tt.w)(lt=>lt?(0,Ne.D)(lt.getIdToken()):(0,it.of)(null))),this.idTokenResult=this.user.pipe((0,tt.w)(lt=>lt?(0,Ne.D)(lt.getIdTokenResult()):(0,it.of)(null))),this.credential=(0,I.T)(J,at,this.authState.pipe((0,we.h)(lt=>!lt))).pipe((0,qe.U)(lt=>(null==lt?void 0:lt.user)?lt:null),(0,xe.R)(We.outsideAngular),(0,ze.Q)(We.insideAngular))}return(0,W.pX)(this,j,dt,{spy:{apply:(be,J,Ee)=>{(be.startsWith("signIn")||be.startsWith("createUser"))&&Ee.then(Ue=>at.next(Ue))}}})}}return ae.\u0275fac=function(z){return new(z||ae)(C.LFG(W.Dh),C.LFG(W.xv,8),C.LFG(C.Lbi),C.LFG(C.R0b),C.LFG(de.HU),C.LFG(se,8),C.LFG(pe,8),C.LFG(Ce,8),C.LFG(L,8),C.LFG(Q,8),C.LFG(re,8),C.LFG(ye.nm,8))},ae.\u0275prov=C.Yz7({token:ae,factory:ae.\u0275fac,providedIn:"any"}),ae})(),F=(()=>{class ae{constructor(){Se.Z.registerVersion("angularfire",de.q4.full,"auth-compat")}}return ae.\u0275fac=function(z){return new(z||ae)},ae.\u0275mod=C.oAB({type:ae}),ae.\u0275inj=C.cJS({providers:[G]}),ae})()},3290:(Gr,Ln,me)=>{"use strict";me.d(Ln,{ST:()=>Pr,yb:()=>fn});var C=me(5e3),h=me(4986),it=me(8306),ve=me(8996),Ne=me(9646),I=me(880),tt=me(8675),Qe=me(1520),nt=me(4004),ze=me(5026),qe=me(1884),Fe=me(9300),He=me(2011),xe=me(9808),de=(me(5881),me(3942)),W=me(5525),fe=me(2090),ye=me(4859);function se(mt,Be){if(void 0===Be)return{merge:!1};if(void 0!==Be.mergeFields&&void 0!==Be.merge)throw new W.WA("invalid-argument",`Invalid options passed to function ${mt}(): You cannot specify both "merge" and "mergeFields".`);return Be}function pe(){if("undefined"==typeof Uint8Array)throw new W.WA("unimplemented","Uint8Arrays are not available in this environment.")}function Ce(){if(!(0,W.Me)())throw new W.WA("unimplemented","Blobs are unavailable in Firestore in this environment.")}class L{constructor(Be){this._delegate=Be}static fromBase64String(Be){return Ce(),new L(W.Jj.fromBase64String(Be))}static fromUint8Array(Be){return pe(),new L(W.Jj.fromUint8Array(Be))}toBase64(){return Ce(),this._delegate.toBase64()}toUint8Array(){return pe(),this._delegate.toUint8Array()}isEqual(Be){return this._delegate.isEqual(Be._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}function Q(mt){return function re(mt,Be){if("object"!=typeof mt||null===mt)return!1;const et=mt;for(const ht of Be)if(ht in et&&"function"==typeof et[ht])return!0;return!1}(mt,["next","error","complete"])}class P{enableIndexedDbPersistence(Be,et){return(0,W.ST)(Be._delegate,{forceOwnership:et})}enableMultiTabIndexedDbPersistence(Be){return(0,W.fH)(Be._delegate)}clearIndexedDbPersistence(Be){return(0,W.Fc)(Be._delegate)}}class G{constructor(Be,et,ht){this._delegate=et,this._persistenceProvider=ht,this.INTERNAL={delete:()=>this.terminate()},Be instanceof W.l7||(this._appCompat=Be)}get _databaseId(){return this._delegate._databaseId}settings(Be){const et=this._delegate._getSettings();!Be.merge&&et.host!==Be.host&&(0,W.yq)("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),Be.merge&&delete(Be=Object.assign(Object.assign({},et),Be)).merge,this._delegate._setSettings(Be)}useEmulator(Be,et,ht={}){(0,W.at)(this._delegate,Be,et,ht)}enableNetwork(){return(0,W.Ix)(this._delegate)}disableNetwork(){return(0,W.TF)(this._delegate)}enablePersistence(Be){let et=!1,ht=!1;return Be&&(et=!!Be.synchronizeTabs,ht=!!Be.experimentalForceOwningTab,(0,W.Wi)("synchronizeTabs",et,"experimentalForceOwningTab",ht)),et?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,ht)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return(0,W.Mx)(this._delegate)}onSnapshotsInSync(Be){return(0,W.sc)(this._delegate,Be)}get app(){if(!this._appCompat)throw new W.WA("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(Be){try{return new ot(this,(0,W.hJ)(this._delegate,Be))}catch(et){throw dt(et,"collection()","Firestore.collection()")}}doc(Be){try{return new Ke(this,(0,W.JU)(this._delegate,Be))}catch(et){throw dt(et,"doc()","Firestore.doc()")}}collectionGroup(Be){try{return new ne(this,(0,W.B$)(this._delegate,Be))}catch(et){throw dt(et,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(Be){return(0,W.i3)(this._delegate,et=>Be(new R(this,et)))}batch(){return(0,W.qY)(this._delegate),new z(new W.PU(this._delegate,Be=>(0,W.GL)(this._delegate,Be)))}loadBundle(Be){return(0,W.Pb)(this._delegate,Be)}namedQuery(Be){return(0,W.L$)(this._delegate,Be).then(et=>et?new ne(this,et):null)}}class F extends W.u7{constructor(Be){super(),this.firestore=Be}convertBytes(Be){return new L(new W.Jj(Be))}convertReference(Be){const et=this.convertDocumentKey(Be,this.firestore._databaseId);return Ke.forKey(et,this.firestore,null)}}class R{constructor(Be,et){this._firestore=Be,this._delegate=et,this._userDataWriter=new F(Be)}get(Be){const et=at(Be);return this._delegate.get(et).then(ht=>new Je(this._firestore,new W.xU(this._firestore._delegate,this._userDataWriter,ht._key,ht._document,ht.metadata,et.converter)))}set(Be,et,ht){const Nt=at(Be);return ht?(se("Transaction.set",ht),this._delegate.set(Nt,et,ht)):this._delegate.set(Nt,et),this}update(Be,et,ht,...Nt){const pn=at(Be);return 2===arguments.length?this._delegate.update(pn,et):this._delegate.update(pn,et,ht,...Nt),this}delete(Be){const et=at(Be);return this._delegate.delete(et),this}}class z{constructor(Be){this._delegate=Be}set(Be,et,ht){const Nt=at(Be);return ht?(se("WriteBatch.set",ht),this._delegate.set(Nt,et,ht)):this._delegate.set(Nt,et),this}update(Be,et,ht,...Nt){const pn=at(Be);return 2===arguments.length?this._delegate.update(pn,et):this._delegate.update(pn,et,ht,...Nt),this}delete(Be){const et=at(Be);return this._delegate.delete(et),this}commit(){return this._delegate.commit()}}class De{constructor(Be,et,ht){this._firestore=Be,this._userDataWriter=et,this._delegate=ht}fromFirestore(Be,et){const ht=new W.$q(this._firestore._delegate,this._userDataWriter,Be._key,Be._document,Be.metadata,null);return this._delegate.fromFirestore(new Z(this._firestore,ht),null!=et?et:{})}toFirestore(Be,et){return et?this._delegate.toFirestore(Be,et):this._delegate.toFirestore(Be)}static getInstance(Be,et){const ht=De.INSTANCES;let Nt=ht.get(Be);Nt||(Nt=new WeakMap,ht.set(Be,Nt));let pn=Nt.get(et);return pn||(pn=new De(Be,new F(Be),et),Nt.set(et,pn)),pn}}De.INSTANCES=new WeakMap;class Ke{constructor(Be,et){this.firestore=Be,this._delegate=et,this._userDataWriter=new F(Be)}static forPath(Be,et,ht){if(Be.length%2!=0)throw new W.WA("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${Be.canonicalString()} has ${Be.length}`);return new Ke(et,new W.my(et._delegate,ht,new W.Ky(Be)))}static forKey(Be,et,ht){return new Ke(et,new W.my(et._delegate,ht,Be))}get id(){return this._delegate.id}get parent(){return new ot(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(Be){try{return new ot(this.firestore,(0,W.hJ)(this._delegate,Be))}catch(et){throw dt(et,"collection()","DocumentReference.collection()")}}isEqual(Be){return(Be=(0,fe.m9)(Be))instanceof W.my&&(0,W.Eo)(this._delegate,Be)}set(Be,et){et=se("DocumentReference.set",et);try{return et?(0,W.pl)(this._delegate,Be,et):(0,W.pl)(this._delegate,Be)}catch(ht){throw dt(ht,"setDoc()","DocumentReference.set()")}}update(Be,et,...ht){try{return 1===arguments.length?(0,W.r7)(this._delegate,Be):(0,W.r7)(this._delegate,Be,et,...ht)}catch(Nt){throw dt(Nt,"updateDoc()","DocumentReference.update()")}}delete(){return(0,W.oe)(this._delegate)}onSnapshot(...Be){const et=We(Be),ht=Te(Be,Nt=>new Je(this.firestore,new W.xU(this.firestore._delegate,this._userDataWriter,Nt._key,Nt._document,Nt.metadata,this._delegate.converter)));return(0,W.cf)(this._delegate,et,ht)}get(Be){let et;return et="cache"===(null==Be?void 0:Be.source)?(0,W.kl)(this._delegate):"server"===(null==Be?void 0:Be.source)?(0,W.Xk)(this._delegate):(0,W.QT)(this._delegate),et.then(ht=>new Je(this.firestore,new W.xU(this.firestore._delegate,this._userDataWriter,ht._key,ht._document,ht.metadata,this._delegate.converter)))}withConverter(Be){return new Ke(this.firestore,this._delegate.withConverter(Be?De.getInstance(this.firestore,Be):null))}}function dt(mt,Be,et){return mt.message=mt.message.replace(Be,et),mt}function We(mt){for(const Be of mt)if("object"==typeof Be&&!Q(Be))return Be;return{}}function Te(mt,Be){var et,ht;let Nt;return Nt=Q(mt[0])?mt[0]:Q(mt[1])?mt[1]:"function"==typeof mt[0]?{next:mt[0],error:mt[1],complete:mt[2]}:{next:mt[1],error:mt[2],complete:mt[3]},{next:pn=>{Nt.next&&Nt.next(Be(pn))},error:null===(et=Nt.error)||void 0===et?void 0:et.bind(Nt),complete:null===(ht=Nt.complete)||void 0===ht?void 0:ht.bind(Nt)}}class Je{constructor(Be,et){this._firestore=Be,this._delegate=et}get ref(){return new Ke(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(Be){return this._delegate.data(Be)}get(Be,et){return this._delegate.get(Be,et)}isEqual(Be){return(0,W.qK)(this._delegate,Be._delegate)}}class Z extends Je{data(Be){const et=this._delegate.data(Be);return(0,W.K9)(void 0!==et,"Document in a QueryDocumentSnapshot should exist"),et}}class ne{constructor(Be,et){this.firestore=Be,this._delegate=et,this._userDataWriter=new F(Be)}where(Be,et,ht){try{return new ne(this.firestore,(0,W.IO)(this._delegate,(0,W.ar)(Be,et,ht)))}catch(Nt){throw dt(Nt,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(Be,et){try{return new ne(this.firestore,(0,W.IO)(this._delegate,(0,W.Xo)(Be,et)))}catch(ht){throw dt(ht,/(orderBy|where)\(\)/,"Query.$1()")}}limit(Be){try{return new ne(this.firestore,(0,W.IO)(this._delegate,(0,W.b9)(Be)))}catch(et){throw dt(et,"limit()","Query.limit()")}}limitToLast(Be){try{return new ne(this.firestore,(0,W.IO)(this._delegate,(0,W.vh)(Be)))}catch(et){throw dt(et,"limitToLast()","Query.limitToLast()")}}startAt(...Be){try{return new ne(this.firestore,(0,W.IO)(this._delegate,(0,W.e0)(...Be)))}catch(et){throw dt(et,"startAt()","Query.startAt()")}}startAfter(...Be){try{return new ne(this.firestore,(0,W.IO)(this._delegate,(0,W.TQ)(...Be)))}catch(et){throw dt(et,"startAfter()","Query.startAfter()")}}endBefore(...Be){try{return new ne(this.firestore,(0,W.IO)(this._delegate,(0,W.Lx)(...Be)))}catch(et){throw dt(et,"endBefore()","Query.endBefore()")}}endAt(...Be){try{return new ne(this.firestore,(0,W.IO)(this._delegate,(0,W.Wu)(...Be)))}catch(et){throw dt(et,"endAt()","Query.endAt()")}}isEqual(Be){return(0,W.iE)(this._delegate,Be._delegate)}get(Be){let et;return et="cache"===(null==Be?void 0:Be.source)?(0,W.UQ)(this._delegate):"server"===(null==Be?void 0:Be.source)?(0,W.zN)(this._delegate):(0,W.PL)(this._delegate),et.then(ht=>new $e(this.firestore,new W.W(this.firestore._delegate,this._userDataWriter,this._delegate,ht._snapshot)))}onSnapshot(...Be){const et=We(Be),ht=Te(Be,Nt=>new $e(this.firestore,new W.W(this.firestore._delegate,this._userDataWriter,this._delegate,Nt._snapshot)));return(0,W.cf)(this._delegate,et,ht)}withConverter(Be){return new ne(this.firestore,this._delegate.withConverter(Be?De.getInstance(this.firestore,Be):null))}}class Oe{constructor(Be,et){this._firestore=Be,this._delegate=et}get type(){return this._delegate.type}get doc(){return new Z(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class $e{constructor(Be,et){this._firestore=Be,this._delegate=et}get query(){return new ne(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(Be=>new Z(this._firestore,Be))}docChanges(Be){return this._delegate.docChanges(Be).map(et=>new Oe(this._firestore,et))}forEach(Be,et){this._delegate.forEach(ht=>{Be.call(et,new Z(this._firestore,ht))})}isEqual(Be){return(0,W.qK)(this._delegate,Be._delegate)}}class ot extends ne{constructor(Be,et){super(Be,et),this.firestore=Be,this._delegate=et}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const Be=this._delegate.parent;return Be?new Ke(this.firestore,Be):null}doc(Be){try{return new Ke(this.firestore,void 0===Be?(0,W.JU)(this._delegate):(0,W.JU)(this._delegate,Be))}catch(et){throw dt(et,"doc()","CollectionReference.doc()")}}add(Be){return(0,W.ET)(this._delegate,Be).then(et=>new Ke(this.firestore,et))}isEqual(Be){return(0,W.Eo)(this._delegate,Be._delegate)}withConverter(Be){return new ot(this.firestore,this._delegate.withConverter(Be?De.getInstance(this.firestore,Be):null))}}function at(mt){return(0,W.Cf)(mt,W.my)}class j{constructor(...Be){this._delegate=new W.Lz(...Be)}static documentId(){return new j(W.Xb.keyField().canonicalString())}isEqual(Be){return(Be=(0,fe.m9)(Be))instanceof W.Lz&&this._delegate._internalPath.isEqual(Be._internalPath)}}class be{constructor(Be){this._delegate=Be}static serverTimestamp(){const Be=(0,W.Bt)();return Be._methodName="FieldValue.serverTimestamp",new be(Be)}static delete(){const Be=(0,W.AK)();return Be._methodName="FieldValue.delete",new be(Be)}static arrayUnion(...Be){const et=(0,W.vr)(...Be);return et._methodName="FieldValue.arrayUnion",new be(et)}static arrayRemove(...Be){const et=(0,W.Ab)(...Be);return et._methodName="FieldValue.arrayRemove",new be(et)}static increment(Be){const et=(0,W.nP)(Be);return et._methodName="FieldValue.increment",new be(et)}isEqual(Be){return this._delegate.isEqual(Be._delegate)}}const J={Firestore:G,GeoPoint:W.F8,Timestamp:W.EK,Blob:L,Transaction:R,WriteBatch:z,DocumentReference:Ke,DocumentSnapshot:Je,Query:ne,QueryDocumentSnapshot:Z,QuerySnapshot:$e,CollectionReference:ot,FieldPath:j,FieldValue:be,setLogLevel:function ae(mt){(0,W.Ub)(mt)},CACHE_SIZE_UNLIMITED:W.IX};!function Ue(mt){(function Ee(mt,Be){mt.INTERNAL.registerComponent(new ye.wA("firestore-compat",et=>{const ht=et.getProvider("app-compat").getImmediate(),Nt=et.getProvider("firestore").getImmediate();return Be(ht,Nt)},"PUBLIC").setServiceProps(Object.assign({},J)))})(mt,(Be,et)=>new G(Be,et,new P)),mt.registerVersion("@firebase/firestore-compat","0.1.20")}(de.Z);var lt=me(3385),Tt=me(7128),Ft=me(127);function vn(mt,Be){return function $t(mt,Be=h.z){return new it.y(et=>{let ht;return null!=Be?Be.schedule(()=>{ht=mt.onSnapshot({includeMetadataChanges:!0},et)}):ht=mt.onSnapshot({includeMetadataChanges:!0},et),()=>{null!=ht&&ht()}})}(mt,Be)}function $n(mt,Be){return vn(mt,Be).pipe((0,nt.U)(et=>({payload:et,type:"query"})))}function yn(mt,Be){return $n(mt,Be).pipe((0,tt.O)(void 0),(0,Qe.G)(),(0,nt.U)(([et,ht])=>{const Nt=ht.payload.docChanges(),pn=Nt.map(Mn=>({type:Mn.type,payload:Mn}));return et&&JSON.stringify(et.payload.metadata)!==JSON.stringify(ht.payload.metadata)&&ht.payload.docs.forEach((Mn,xr)=>{const Dr=Nt.find(Ar=>Ar.doc.ref.isEqual(Mn.ref)),Zr=null==et?void 0:et.payload.docs.find(Ar=>Ar.ref.isEqual(Mn.ref));Dr&&JSON.stringify(Dr.doc.metadata)===JSON.stringify(Mn.metadata)||!Dr&&Zr&&JSON.stringify(Zr.metadata)===JSON.stringify(Mn.metadata)||pn.push({type:"modified",payload:{oldIndex:xr,newIndex:xr,type:"modified",doc:Mn}})}),pn}))}function hn(mt,Be,et){return yn(mt,et).pipe((0,ze.R)((ht,Nt)=>function ke(mt,Be,et){return Be.forEach(ht=>{et.indexOf(ht.type)>-1&&(mt=function It(mt,Be){switch(Be.type){case"added":if(!mt[Be.newIndex]||!mt[Be.newIndex].doc.ref.isEqual(Be.doc.ref))return ft(mt,Be.newIndex,0,Be);break;case"modified":if(null==mt[Be.oldIndex]||mt[Be.oldIndex].doc.ref.isEqual(Be.doc.ref)){if(Be.oldIndex!==Be.newIndex){const et=mt.slice();return et.splice(Be.oldIndex,1),et.splice(Be.newIndex,0,Be),et}return ft(mt,Be.newIndex,1,Be)}break;case"removed":if(mt[Be.oldIndex]&&mt[Be.oldIndex].doc.ref.isEqual(Be.doc.ref))return ft(mt,Be.oldIndex,1)}return mt}(mt,ht))}),mt}(ht,Nt.map(pn=>pn.payload),Be),[]),(0,qe.x)(),(0,nt.U)(ht=>ht.map(Nt=>({type:Nt.type,payload:Nt}))))}function ft(mt,Be,et,...ht){const Nt=mt.slice();return Nt.splice(Be,et,...ht),Nt}function ct(mt){return(!mt||0===mt.length)&&(mt=["added","removed","modified"]),mt}class jt{constructor(Be,et,ht){this.ref=Be,this.query=et,this.afs=ht}stateChanges(Be){let et=yn(this.query,this.afs.schedulers.outsideAngular);return Be&&Be.length>0&&(et=et.pipe((0,nt.U)(ht=>ht.filter(Nt=>Be.indexOf(Nt.type)>-1)))),et.pipe((0,tt.O)(void 0),(0,Qe.G)(),(0,Fe.h)(([ht,Nt])=>Nt.length>0||!ht),(0,nt.U)(([ht,Nt])=>Nt),I.iC)}auditTrail(Be){return this.stateChanges(Be).pipe((0,ze.R)((et,ht)=>[...et,...ht],[]))}snapshotChanges(Be){const et=ct(Be);return hn(this.query,et,this.afs.schedulers.outsideAngular).pipe(I.iC)}valueChanges(Be={}){return $n(this.query,this.afs.schedulers.outsideAngular).pipe((0,nt.U)(et=>et.payload.docs.map(ht=>Be.idField?Object.assign(Object.assign({},ht.data()),{[Be.idField]:ht.id}):ht.data())),I.iC)}get(Be){return(0,ve.D)(this.query.get(Be)).pipe(I.iC)}add(Be){return this.ref.add(Be)}doc(Be){return new nn(this.ref.doc(Be),this.afs)}}class nn{constructor(Be,et){this.ref=Be,this.afs=et}set(Be,et){return this.ref.set(Be,et)}update(Be){return this.ref.update(Be)}delete(){return this.ref.delete()}collection(Be,et){const ht=this.ref.collection(Be),{ref:Nt,query:pn}=zr(ht,et);return new jt(Nt,pn,this.afs)}snapshotChanges(){return function Nn(mt,Be){return vn(mt,Be).pipe((0,tt.O)(void 0),(0,Qe.G)(),(0,nt.U)(([et,ht])=>ht.exists?(null==et?void 0:et.exists)?{payload:ht,type:"modified"}:{payload:ht,type:"added"}:{payload:ht,type:"removed"}))}(this.ref,this.afs.schedulers.outsideAngular).pipe(I.iC)}valueChanges(Be={}){return this.snapshotChanges().pipe((0,nt.U)(({payload:et})=>Be.idField?Object.assign(Object.assign({},et.data()),{[Be.idField]:et.id}):et.data()))}get(Be){return(0,ve.D)(this.ref.get(Be)).pipe(I.iC)}}class jn{constructor(Be,et){this.query=Be,this.afs=et}stateChanges(Be){return Be&&0!==Be.length?yn(this.query,this.afs.schedulers.outsideAngular).pipe((0,nt.U)(et=>et.filter(ht=>Be.indexOf(ht.type)>-1)),(0,Fe.h)(et=>et.length>0),I.iC):yn(this.query,this.afs.schedulers.outsideAngular).pipe(I.iC)}auditTrail(Be){return this.stateChanges(Be).pipe((0,ze.R)((et,ht)=>[...et,...ht],[]))}snapshotChanges(Be){const et=ct(Be);return hn(this.query,et,this.afs.schedulers.outsideAngular).pipe(I.iC)}valueChanges(Be={}){return $n(this.query,this.afs.schedulers.outsideAngular).pipe((0,nt.U)(ht=>ht.payload.docs.map(Nt=>Be.idField?Object.assign({[Be.idField]:Nt.id},Nt.data()):Nt.data())),I.iC)}get(Be){return(0,ve.D)(this.query.get(Be)).pipe(I.iC)}}const br=new C.OlP("angularfire2.enableFirestorePersistence"),mr=new C.OlP("angularfire2.firestore.persistenceSettings"),Mr=new C.OlP("angularfire2.firestore.settings"),dr=new C.OlP("angularfire2.firestore.use-emulator");function zr(mt,Be=(et=>et)){return{query:Be(mt),ref:mt}}let Pr=(()=>{class mt{constructor(et,ht,Nt,pn,Mn,xr,Dr,Zr,Ar,On,mn,Rt,hr,vr,ai,ki,Zi){this.schedulers=Dr;const Wi=(0,He.on)(et,xr,ht),zs=Ar;On&&(0,lt.nw)(Wi,xr,mn,hr,vr,ai,Rt,ki),[this.firestore,this.persistenceEnabled$]=(0,He.cc)(`${Wi.name}.firestore`,"AngularFirestore",Wi.name,()=>{const Ws=xr.runOutsideAngular(()=>Wi.firestore());if(pn&&Ws.settings(pn),zs&&Ws.useEmulator(...zs),Nt&&!(0,xe.PM)(Mn)){const Ji=()=>{try{return(0,ve.D)(Ws.enablePersistence(Zr||void 0).then(()=>!0,()=>!1))}catch(gs){return"undefined"!=typeof console&&console.warn(gs),(0,Ne.of)(!1)}};return[Ws,xr.runOutsideAngular(Ji)]}return[Ws,(0,Ne.of)(!1)]},[pn,zs,Nt])}collection(et,ht){let Nt;Nt="string"==typeof et?this.firestore.collection(et):et;const{ref:pn,query:Mn}=zr(Nt,ht),xr=this.schedulers.ngZone.run(()=>pn);return new jt(xr,Mn,this)}collectionGroup(et,ht){const Nt=ht||(Mn=>Mn),pn=this.firestore.collectionGroup(et);return new jn(Nt(pn),this)}doc(et){let ht;ht="string"==typeof et?this.firestore.doc(et):et;const Nt=this.schedulers.ngZone.run(()=>ht);return new nn(Nt,this)}createId(){return this.firestore.collection("_").doc().id}}return mt.\u0275fac=function(et){return new(et||mt)(C.LFG(He.Dh),C.LFG(He.xv,8),C.LFG(br,8),C.LFG(Mr,8),C.LFG(C.Lbi),C.LFG(C.R0b),C.LFG(I.HU),C.LFG(mr,8),C.LFG(dr,8),C.LFG(lt.zQ,8),C.LFG(lt.Qv,8),C.LFG(lt.L6,8),C.LFG(lt._Q,8),C.LFG(lt.rT,8),C.LFG(lt.lh,8),C.LFG(lt.f7,8),C.LFG(Tt.nm,8))},mt.\u0275prov=C.Yz7({token:mt,factory:mt.\u0275fac,providedIn:"any"}),mt})(),fn=(()=>{class mt{constructor(){Ft.Z.registerVersion("angularfire",I.q4.full,"fst-compat")}static enablePersistence(et){return{ngModule:mt,providers:[{provide:br,useValue:!0},{provide:mr,useValue:et}]}}}return mt.\u0275fac=function(et){return new(et||mt)},mt.\u0275mod=C.oAB({type:mt}),mt.\u0275inj=C.cJS({providers:[Pr]}),mt})()},2084:(Gr,Ln,me)=>{"use strict";me.d(Ln,{Q1:()=>$i,TE:()=>_e});var C=me(8306),h=me(9646),it=me(8996),ve=me(4986),Ne=me(4482),I=me(5403),Qe=me(4004),nt=me(3900),ze=me(880),qe=me(5e3),Fe=me(2011),He=me(3942),xe=me(5861),we=me(9681),de=me(2090),W=me(4859);const fe="firebasestorage.googleapis.com",ye="storageBucket";class se extends de.ZR{constructor(K,gt){super(pe(K),`Firebase Storage: ${gt} (${pe(K)})`),this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,se.prototype)}_codeEquals(K){return pe(K)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(K){this.customData.serverResponse=K,this.message=this.customData.serverResponse?`${this._baseMessage}\n${this.customData.serverResponse}`:this._baseMessage}}function pe(V){return"storage/"+V}function Ce(){return new se("unknown","An unknown error occurred, please check the error payload for server response.")}function ae(){return new se("canceled","User canceled the upload/download.")}function Ke(){return new se("cannot-slice-blob","Cannot slice blob for upload. Please retry the upload.")}function Te(V){return new se("invalid-argument",V)}function Je(){return new se("app-deleted","The Firebase app was deleted.")}function Z(V){return new se("invalid-root-operation","The operation '"+V+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function ne(V,K){return new se("invalid-format","String does not match format '"+V+"': "+K)}function Oe(V){throw new se("internal-error","Internal error: "+V)}class $e{constructor(K,gt){this.bucket=K,this.path_=gt}get path(){return this.path_}get isRoot(){return 0===this.path.length}fullServerUrl(){const K=encodeURIComponent;return"/b/"+K(this.bucket)+"/o/"+K(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(K,gt){let Qt;try{Qt=$e.makeFromUrl(K,gt)}catch(xn){return new $e(K,"")}if(""===Qt.path)return Qt;throw function z(V){return new se("invalid-default-bucket","Invalid default bucket '"+V+"'.")}(K)}static makeFromUrl(K,gt){let Qt=null;const xn="([A-Za-z0-9.\\-_]+)",pi=new RegExp("^gs://"+xn+"(/(.*))?$","i");function es(Ro){Ro.path_=decodeURIComponent(Ro.path)}const Ko=gt.replace(/[.]/g,"\\."),ha=[{regex:pi,indices:{bucket:1,path:3},postModify:function er(Ro){"/"===Ro.path.charAt(Ro.path.length-1)&&(Ro.path_=Ro.path_.slice(0,-1))}},{regex:new RegExp(`^https?://${Ko}/v[A-Za-z0-9_]+/b/${xn}/o(/([^?#]*).*)?$`,"i"),indices:{bucket:1,path:3},postModify:es},{regex:new RegExp(`^https?://${gt===fe?"(?:storage.googleapis.com|storage.cloud.google.com)":gt}/${xn}/([^?#]*)`,"i"),indices:{bucket:1,path:2},postModify:es}];for(let Ro=0;Ro<ha.length;Ro++){const wu=ha[Ro],Jo=wu.regex.exec(K);if(Jo){let Gl=Jo[wu.indices.path];Gl||(Gl=""),Qt=new $e(Jo[wu.indices.bucket],Gl),wu.postModify(Qt);break}}if(null==Qt)throw function R(V){return new se("invalid-url","Invalid URL '"+V+"'.")}(K);return Qt}}class ot{constructor(K){this.promise_=Promise.reject(K)}getPromise(){return this.promise_}cancel(K=!1){}}function Ue(V){return"string"==typeof V||V instanceof String}function lt(V){return Tt()&&V instanceof Blob}function Tt(){return"undefined"!=typeof Blob}function Ft(V,K,gt,Qt){if(Qt<K)throw Te(`Invalid value for '${V}'. Expected ${K} or greater.`);if(Qt>gt)throw Te(`Invalid value for '${V}'. Expected ${gt} or less.`)}function $t(V,K,gt){let Qt=K;return null==gt&&(Qt=`https://${K}`),`${gt}://${Qt}/v0${V}`}function vn(V){const K=encodeURIComponent;let gt="?";for(const Qt in V)V.hasOwnProperty(Qt)&&(gt=gt+(K(Qt)+"=")+K(V[Qt])+"&");return gt=gt.slice(0,-1),gt}var Nn=(()=>{return(V=Nn||(Nn={}))[V.NO_ERROR=0]="NO_ERROR",V[V.NETWORK_ERROR=1]="NETWORK_ERROR",V[V.ABORT=2]="ABORT",Nn;var V})();class $n{constructor(K,gt,Qt,xn,er,Lr,pi,fi,es,Ds,Ko){this.url_=K,this.method_=gt,this.headers_=Qt,this.body_=xn,this.successCodes_=er,this.additionalRetryCodes_=Lr,this.callback_=pi,this.errorCallback_=fi,this.timeout_=es,this.progressCallback_=Ds,this.connectionFactory_=Ko,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((so,Ho)=>{this.resolve_=so,this.reject_=Ho,this.start_()})}start_(){const gt=(Qt,xn)=>{const er=this.resolve_,Lr=this.reject_,pi=xn.connection;if(xn.wasSuccessCode)try{const fi=this.callback_(pi,pi.getResponse());!function be(V){return void 0!==V}(fi)?er():er(fi)}catch(fi){Lr(fi)}else if(null!==pi){const fi=Ce();fi.serverResponse=pi.getErrorText(),Lr(this.errorCallback_?this.errorCallback_(pi,fi):fi)}else Lr(xn.canceled?this.appDelete_?Je():ae():function F(){return new se("retry-limit-exceeded","Max retry time for operation exceeded, please try again.")}())};this.canceled_?gt(0,new yn(!1,null,!0)):this.backoffId_=function at(V,K,gt){let Qt=1,xn=null,er=null,Lr=!1,pi=0;function fi(){return 2===pi}let es=!1;function Ds(...Es){es||(es=!0,K.apply(null,Es))}function Ko(Es){xn=setTimeout(()=>{xn=null,V(Ho,fi())},Es)}function so(){er&&clearTimeout(er)}function Ho(Es,...ua){if(es)return void so();if(Es)return so(),void Ds.call(null,Es,...ua);if(fi()||Lr)return so(),void Ds.call(null,Es,...ua);let ha;Qt<64&&(Qt*=2),1===pi?(pi=2,ha=0):ha=1e3*(Qt+Math.random()),Ko(ha)}let qs=!1;function No(Es){qs||(qs=!0,so(),!es&&(null!==xn?(Es||(pi=2),clearTimeout(xn),Ko(0)):Es||(pi=1)))}return Ko(0),er=setTimeout(()=>{Lr=!0,No(!0)},gt),No}((Qt,xn)=>{if(xn)return void Qt(!1,new yn(!1,null,!0));const er=this.connectionFactory_();this.pendingConnection_=er;const Lr=pi=>{null!==this.progressCallback_&&this.progressCallback_(pi.loaded,pi.lengthComputable?pi.total:-1)};null!==this.progressCallback_&&er.addUploadProgressListener(Lr),er.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{null!==this.progressCallback_&&er.removeUploadProgressListener(Lr),this.pendingConnection_=null;const pi=er.getErrorCode()===Nn.NO_ERROR,fi=er.getStatus();if(!pi||this.isRetryStatusCode_(fi)){const Ds=er.getErrorCode()===Nn.ABORT;return void Qt(!1,new yn(!1,null,Ds))}const es=-1!==this.successCodes_.indexOf(fi);Qt(!0,new yn(es,er))})},gt,this.timeout_)}getPromise(){return this.promise_}cancel(K){this.canceled_=!0,this.appDelete_=K||!1,null!==this.backoffId_&&function j(V){V(!1)}(this.backoffId_),null!==this.pendingConnection_&&this.pendingConnection_.abort()}isRetryStatusCode_(K){const gt=K>=500&&K<600,xn=-1!==[408,429].indexOf(K),er=-1!==this.additionalRetryCodes_.indexOf(K);return gt||xn||er}}class yn{constructor(K,gt,Qt){this.wasSuccessCode=K,this.connection=gt,this.canceled=!!Qt}}function nn(...V){const K=function jt(){return"undefined"!=typeof BlobBuilder?BlobBuilder:"undefined"!=typeof WebKitBlobBuilder?WebKitBlobBuilder:void 0}();if(void 0!==K){const gt=new K;for(let Qt=0;Qt<V.length;Qt++)gt.append(V[Qt]);return gt.getBlob()}if(Tt())return new Blob(V);throw new se("unsupported-environment","This browser doesn't seem to support creating Blobs")}const mr={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class Mr{constructor(K,gt){this.data=K,this.contentType=gt||null}}function dr(V,K){switch(V){case mr.RAW:return new Mr(zr(K));case mr.BASE64:case mr.BASE64URL:return new Mr(fn(V,K));case mr.DATA_URL:return new Mr(function Be(V){const K=new mt(V);return K.base64?fn(mr.BASE64,K.rest):function Pr(V){let K;try{K=decodeURIComponent(V)}catch(gt){throw ne(mr.DATA_URL,"Malformed data URL.")}return zr(K)}(K.rest)}(K),function et(V){return new mt(V).contentType}(K))}throw Ce()}function zr(V){const K=[];for(let gt=0;gt<V.length;gt++){let Qt=V.charCodeAt(gt);Qt<=127?K.push(Qt):Qt<=2047?K.push(192|Qt>>6,128|63&Qt):55296==(64512&Qt)?gt<V.length-1&&56320==(64512&V.charCodeAt(gt+1))?(Qt=65536|(1023&Qt)<<10|1023&V.charCodeAt(++gt),K.push(240|Qt>>18,128|Qt>>12&63,128|Qt>>6&63,128|63&Qt)):K.push(239,191,189):56320==(64512&Qt)?K.push(239,191,189):K.push(224|Qt>>12,128|Qt>>6&63,128|63&Qt)}return new Uint8Array(K)}function fn(V,K){switch(V){case mr.BASE64:{const xn=-1!==K.indexOf("-"),er=-1!==K.indexOf("_");if(xn||er)throw ne(V,"Invalid character '"+(xn?"-":"_")+"' found: is it base64url encoded?");break}case mr.BASE64URL:{const xn=-1!==K.indexOf("+"),er=-1!==K.indexOf("/");if(xn||er)throw ne(V,"Invalid character '"+(xn?"+":"/")+"' found: is it base64 encoded?");K=K.replace(/-/g,"+").replace(/_/g,"/");break}}let gt;try{gt=function br(V){return atob(V)}(K)}catch(xn){throw ne(V,"Invalid character found")}const Qt=new Uint8Array(gt.length);for(let xn=0;xn<gt.length;xn++)Qt[xn]=gt.charCodeAt(xn);return Qt}class mt{constructor(K){this.base64=!1,this.contentType=null;const gt=K.match(/^data:([^,]+)?,/);if(null===gt)throw ne(mr.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const Qt=gt[1]||null;null!=Qt&&(this.base64=function ht(V,K){return V.length>=K.length&&V.substring(V.length-K.length)===K}(Qt,";base64"),this.contentType=this.base64?Qt.substring(0,Qt.length-7):Qt),this.rest=K.substring(K.indexOf(",")+1)}}class Nt{constructor(K,gt){let Qt=0,xn="";lt(K)?(this.data_=K,Qt=K.size,xn=K.type):K instanceof ArrayBuffer?(gt?this.data_=new Uint8Array(K):(this.data_=new Uint8Array(K.byteLength),this.data_.set(new Uint8Array(K))),Qt=this.data_.length):K instanceof Uint8Array&&(gt?this.data_=K:(this.data_=new Uint8Array(K.length),this.data_.set(K)),Qt=K.length),this.size_=Qt,this.type_=xn}size(){return this.size_}type(){return this.type_}slice(K,gt){if(lt(this.data_)){const xn=function jn(V,K,gt){return V.webkitSlice?V.webkitSlice(K,gt):V.mozSlice?V.mozSlice(K,gt):V.slice?V.slice(K,gt):null}(this.data_,K,gt);return null===xn?null:new Nt(xn)}{const Qt=new Uint8Array(this.data_.buffer,K,gt-K);return new Nt(Qt,!0)}}static getBlob(...K){if(Tt()){const gt=K.map(Qt=>Qt instanceof Nt?Qt.data_:Qt);return new Nt(nn.apply(null,gt))}{const gt=K.map(Lr=>Ue(Lr)?dr(mr.RAW,Lr).data:Lr.data_);let Qt=0;gt.forEach(Lr=>{Qt+=Lr.byteLength});const xn=new Uint8Array(Qt);let er=0;return gt.forEach(Lr=>{for(let pi=0;pi<Lr.length;pi++)xn[er++]=Lr[pi]}),new Nt(xn,!0)}}uploadData(){return this.data_}}function pn(V){let K;try{K=JSON.parse(V)}catch(gt){return null}return function Ee(V){return"object"==typeof V&&!Array.isArray(V)}(K)?K:null}function Dr(V){const K=V.lastIndexOf("/",V.length-2);return-1===K?V:V.slice(K+1)}function Zr(V,K){return K}class Ar{constructor(K,gt,Qt,xn){this.server=K,this.local=gt||K,this.writable=!!Qt,this.xform=xn||Zr}}let On=null;function Rt(){if(On)return On;const V=[];V.push(new Ar("bucket")),V.push(new Ar("generation")),V.push(new Ar("metageneration")),V.push(new Ar("name","fullPath",!0));const gt=new Ar("name");gt.xform=function K(er,Lr){return function mn(V){return!Ue(V)||V.length<2?V:Dr(V)}(Lr)},V.push(gt);const xn=new Ar("size");return xn.xform=function Qt(er,Lr){return void 0!==Lr?Number(Lr):Lr},V.push(xn),V.push(new Ar("timeCreated")),V.push(new Ar("updated")),V.push(new Ar("md5Hash",null,!0)),V.push(new Ar("cacheControl",null,!0)),V.push(new Ar("contentDisposition",null,!0)),V.push(new Ar("contentEncoding",null,!0)),V.push(new Ar("contentLanguage",null,!0)),V.push(new Ar("contentType",null,!0)),V.push(new Ar("metadata","customMetadata",!0)),On=V,On}function ai(V,K,gt){const Qt=pn(K);return null===Qt?null:function vr(V,K,gt){const Qt={type:"file"},xn=gt.length;for(let er=0;er<xn;er++){const Lr=gt[er];Qt[Lr.local]=Lr.xform(Qt,K[Lr.server])}return function hr(V,K){Object.defineProperty(V,"ref",{get:function gt(){const er=new $e(V.bucket,V.fullPath);return K._makeStorageReference(er)}})}(Qt,V),Qt}(V,Qt,gt)}function Zi(V,K){const gt={},Qt=K.length;for(let xn=0;xn<Qt;xn++){const er=K[xn];er.writable&&(gt[er.server]=V[er.local])}return JSON.stringify(gt)}const Wi="prefixes";class gs{constructor(K,gt,Qt,xn){this.url=K,this.method=gt,this.handler=Qt,this.timeout=xn,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}function xs(V){if(!V)throw Ce()}function Rs(V,K){return function gt(Qt,xn){const er=ai(V,xn,K);return xs(null!==er),er}}function Hr(V){return function K(gt,Qt){let xn;return xn=401===gt.getStatus()?gt.getErrorText().includes("Firebase App Check token is invalid")?function P(){return new se("unauthorized-app","This app does not have permission to access Firebase Storage on this project.")}():function re(){return new se("unauthenticated","User is not authenticated, please authenticate using Firebase Authentication and try again.")}():402===gt.getStatus()?function Q(V){return new se("quota-exceeded","Quota for bucket '"+V+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}(V.bucket):403===gt.getStatus()?function G(V){return new se("unauthorized","User does not have permission to access '"+V+"'.")}(V.path):Qt,xn.serverResponse=Qt.serverResponse,xn}}function wn(V){const K=Hr(V);return function gt(Qt,xn){let er=K(Qt,xn);return 404===Qt.getStatus()&&(er=function L(V){return new se("object-not-found","Object '"+V+"' does not exist.")}(V.path)),er.serverResponse=xn.serverResponse,er}}function tr(V,K,gt){const xn=$t(K.fullServerUrl(),V.host,V._protocol),Lr=V.maxOperationRetryTime,pi=new gs(xn,"GET",Rs(V,gt),Lr);return pi.errorHandler=wn(K),pi}function kr(V,K,gt,Qt,xn){const er={};er.prefix=K.isRoot?"":K.path+"/",gt&&gt.length>0&&(er.delimiter=gt),Qt&&(er.pageToken=Qt),xn&&(er.maxResults=xn);const pi=$t(K.bucketOnlyServerUrl(),V.host,V._protocol),es=V.maxOperationRetryTime,Ds=new gs(pi,"GET",function va(V,K){return function gt(Qt,xn){const er=function Ji(V,K,gt){const Qt=pn(gt);return null===Qt?null:function Ws(V,K,gt){const Qt={prefixes:[],items:[],nextPageToken:gt.nextPageToken};if(gt[Wi])for(const xn of gt[Wi]){const er=xn.replace(/\/$/,""),Lr=V._makeStorageReference(new $e(K,er));Qt.prefixes.push(Lr)}if(gt.items)for(const xn of gt.items){const er=V._makeStorageReference(new $e(K,xn.name));Qt.items.push(er)}return Qt}(V,K,Qt)}(V,K,xn);return xs(null!==er),er}}(V,K.bucket),es);return Ds.urlParams=er,Ds.errorHandler=Hr(K),Ds}function Io(V,K,gt){const Qt=Object.assign({},gt);return Qt.fullPath=V.path,Qt.size=K.size(),Qt.contentType||(Qt.contentType=function Ls(V,K){return V&&V.contentType||K&&K.type()||"application/octet-stream"}(null,K)),Qt}class To{constructor(K,gt,Qt,xn){this.current=K,this.total=gt,this.finalized=!!Qt,this.metadata=xn||null}}function Ha(V,K){let gt=null;try{gt=V.getResponseHeader("X-Goog-Upload-Status")}catch(xn){xs(!1)}return xs(!!gt&&-1!==(K||["active"]).indexOf(gt)),gt}const Sn={STATE_CHANGED:"state_changed"},Tn={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function Hn(V){switch(V){case"running":case"pausing":case"canceling":return Tn.RUNNING;case"paused":return Tn.PAUSED;case"success":return Tn.SUCCESS;case"canceled":return Tn.CANCELED;default:return Tn.ERROR}}class Or{constructor(K,gt,Qt){if(function J(V){return"function"==typeof V}(K)||null!=gt||null!=Qt)this.next=K,this.error=null!=gt?gt:void 0,this.complete=null!=Qt?Qt:void 0;else{const er=K;this.next=er.next,this.error=er.error,this.complete=er.complete}}}function jr(V){return(...K)=>{Promise.resolve().then(()=>V(...K))}}class Us extends class as{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=Nn.NO_ERROR,this.sendPromise_=new Promise(K=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=Nn.ABORT,K()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=Nn.NETWORK_ERROR,K()}),this.xhr_.addEventListener("load",()=>{K()})})}send(K,gt,Qt,xn){if(this.sent_)throw Oe("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(gt,K,!0),void 0!==xn)for(const er in xn)xn.hasOwnProperty(er)&&this.xhr_.setRequestHeader(er,xn[er].toString());return void 0!==Qt?this.xhr_.send(Qt):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw Oe("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw Oe("cannot .getStatus() before sending");try{return this.xhr_.status}catch(K){return-1}}getResponse(){if(!this.sent_)throw Oe("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw Oe("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(K){return this.xhr_.getResponseHeader(K)}addUploadProgressListener(K){null!=this.xhr_.upload&&this.xhr_.upload.addEventListener("progress",K)}removeUploadProgressListener(K){null!=this.xhr_.upload&&this.xhr_.upload.removeEventListener("progress",K)}}{initXhr(){this.xhr_.responseType="text"}}function ji(){return new Us}class jo{constructor(K,gt,Qt=null){this._transferred=0,this._needToFetchStatus=!1,this._needToFetchMetadata=!1,this._observers=[],this._error=void 0,this._uploadUrl=void 0,this._request=void 0,this._chunkMultiplier=1,this._resolve=void 0,this._reject=void 0,this._ref=K,this._blob=gt,this._metadata=Qt,this._mappings=Rt(),this._resumable=this._shouldDoResumable(this._blob),this._state="running",this._errorHandler=xn=>{this._request=void 0,this._chunkMultiplier=1,xn._codeEquals("canceled")?(this._needToFetchStatus=!0,this.completeTransitions_()):(this._error=xn,this._transition("error"))},this._metadataErrorHandler=xn=>{this._request=void 0,xn._codeEquals("canceled")?this.completeTransitions_():(this._error=xn,this._transition("error"))},this._promise=new Promise((xn,er)=>{this._resolve=xn,this._reject=er,this._start()}),this._promise.then(null,()=>{})}_makeProgressCallback(){const K=this._transferred;return gt=>this._updateProgress(K+gt)}_shouldDoResumable(K){return K.size()>262144}_start(){"running"===this._state&&void 0===this._request&&(this._resumable?void 0===this._uploadUrl?this._createResumable():this._needToFetchStatus?this._fetchStatus():this._needToFetchMetadata?this._fetchMetadata():this._continueUpload():this._oneShotUpload())}_resolveToken(K){Promise.all([this._ref.storage._getAuthToken(),this._ref.storage._getAppCheckToken()]).then(([gt,Qt])=>{switch(this._state){case"running":K(gt,Qt);break;case"canceling":this._transition("canceled");break;case"pausing":this._transition("paused")}})}_createResumable(){this._resolveToken((K,gt)=>{const Qt=function za(V,K,gt,Qt,xn){const er=K.bucketOnlyServerUrl(),Lr=Io(K,Qt,xn),pi={name:Lr.fullPath},fi=$t(er,V.host,V._protocol),Ds={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${Qt.size()}`,"X-Goog-Upload-Header-Content-Type":Lr.contentType,"Content-Type":"application/json; charset=utf-8"},Ko=Zi(Lr,gt),qs=new gs(fi,"POST",function Ho(No){let Es;Ha(No);try{Es=No.getResponseHeader("X-Goog-Upload-URL")}catch(ua){xs(!1)}return xs(Ue(Es)),Es},V.maxUploadRetryTime);return qs.urlParams=pi,qs.headers=Ds,qs.body=Ko,qs.errorHandler=Hr(K),qs}(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),xn=this._ref.storage._makeRequest(Qt,ji,K,gt);this._request=xn,xn.getPromise().then(er=>{this._request=void 0,this._uploadUrl=er,this._needToFetchStatus=!1,this.completeTransitions_()},this._errorHandler)})}_fetchStatus(){const K=this._uploadUrl;this._resolveToken((gt,Qt)=>{const xn=function tl(V,K,gt,Qt){const fi=new gs(gt,"POST",function er(es){const Ds=Ha(es,["active","final"]);let Ko=null;try{Ko=es.getResponseHeader("X-Goog-Upload-Size-Received")}catch(Ho){xs(!1)}Ko||xs(!1);const so=Number(Ko);return xs(!isNaN(so)),new To(so,Qt.size(),"final"===Ds)},V.maxUploadRetryTime);return fi.headers={"X-Goog-Upload-Command":"query"},fi.errorHandler=Hr(K),fi}(this._ref.storage,this._ref._location,K,this._blob),er=this._ref.storage._makeRequest(xn,ji,gt,Qt);this._request=er,er.getPromise().then(Lr=>{Lr=Lr,this._request=void 0,this._updateProgress(Lr.current),this._needToFetchStatus=!1,Lr.finalized&&(this._needToFetchMetadata=!0),this.completeTransitions_()},this._errorHandler)})}_continueUpload(){const K=262144*this._chunkMultiplier,gt=new To(this._transferred,this._blob.size()),Qt=this._uploadUrl;this._resolveToken((xn,er)=>{let Lr;try{Lr=function Do(V,K,gt,Qt,xn,er,Lr,pi){const fi=new To(0,0);if(Lr?(fi.current=Lr.current,fi.total=Lr.total):(fi.current=0,fi.total=Qt.size()),Qt.size()!==fi.total)throw function dt(){return new se("server-file-wrong-size","Server recorded incorrect upload file size, please retry the upload.")}();const es=fi.total-fi.current;let Ds=es;xn>0&&(Ds=Math.min(Ds,xn));const Ko=fi.current,qs={"X-Goog-Upload-Command":Ds===es?"upload, finalize":"upload","X-Goog-Upload-Offset":`${fi.current}`},No=Qt.slice(Ko,Ko+Ds);if(null===No)throw Ke();const ha=new gs(gt,"POST",function Es(Ro,wu){const Jo=Ha(Ro,["active","final"]),bu=fi.current+Ds,Gl=Qt.size();let Wu;return Wu="final"===Jo?Rs(K,er)(Ro,wu):null,new To(bu,Gl,"final"===Jo,Wu)},K.maxUploadRetryTime);return ha.headers=qs,ha.body=No.uploadData(),ha.progressCallback=pi||null,ha.errorHandler=Hr(V),ha}(this._ref._location,this._ref.storage,Qt,this._blob,K,this._mappings,gt,this._makeProgressCallback())}catch(fi){return this._error=fi,void this._transition("error")}const pi=this._ref.storage._makeRequest(Lr,ji,xn,er);this._request=pi,pi.getPromise().then(fi=>{this._increaseMultiplier(),this._request=void 0,this._updateProgress(fi.current),fi.finalized?(this._metadata=fi.metadata,this._transition("success")):this.completeTransitions_()},this._errorHandler)})}_increaseMultiplier(){262144*this._chunkMultiplier<33554432&&(this._chunkMultiplier*=2)}_fetchMetadata(){this._resolveToken((K,gt)=>{const Qt=tr(this._ref.storage,this._ref._location,this._mappings),xn=this._ref.storage._makeRequest(Qt,ji,K,gt);this._request=xn,xn.getPromise().then(er=>{this._request=void 0,this._metadata=er,this._transition("success")},this._metadataErrorHandler)})}_oneShotUpload(){this._resolveToken((K,gt)=>{const Qt=function Ri(V,K,gt,Qt,xn){const er=K.bucketOnlyServerUrl(),Lr={"X-Goog-Upload-Protocol":"multipart"},fi=function pi(){let ha="";for(let Ro=0;Ro<2;Ro++)ha+=Math.random().toString().slice(2);return ha}();Lr["Content-Type"]="multipart/related; boundary="+fi;const es=Io(K,Qt,xn),Ds=Zi(es,gt),Ho=Nt.getBlob("--"+fi+"\r\nContent-Type: application/json; charset=utf-8\r\n\r\n"+Ds+"\r\n--"+fi+"\r\nContent-Type: "+es.contentType+"\r\n\r\n",Qt,"\r\n--"+fi+"--");if(null===Ho)throw Ke();const qs={name:es.fullPath},No=$t(er,V.host,V._protocol),ua=V.maxUploadRetryTime,Xo=new gs(No,"POST",Rs(V,gt),ua);return Xo.urlParams=qs,Xo.headers=Lr,Xo.body=Ho.uploadData(),Xo.errorHandler=Hr(K),Xo}(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),xn=this._ref.storage._makeRequest(Qt,ji,K,gt);this._request=xn,xn.getPromise().then(er=>{this._request=void 0,this._metadata=er,this._updateProgress(this._blob.size()),this._transition("success")},this._errorHandler)})}_updateProgress(K){const gt=this._transferred;this._transferred=K,this._transferred!==gt&&this._notifyObservers()}_transition(K){if(this._state!==K)switch(K){case"canceling":case"pausing":this._state=K,void 0!==this._request&&this._request.cancel();break;case"running":const gt="paused"===this._state;this._state=K,gt&&(this._notifyObservers(),this._start());break;case"paused":case"error":case"success":this._state=K,this._notifyObservers();break;case"canceled":this._error=ae(),this._state=K,this._notifyObservers()}}completeTransitions_(){switch(this._state){case"pausing":this._transition("paused");break;case"canceling":this._transition("canceled");break;case"running":this._start()}}get snapshot(){const K=Hn(this._state);return{bytesTransferred:this._transferred,totalBytes:this._blob.size(),state:K,metadata:this._metadata,task:this,ref:this._ref}}on(K,gt,Qt,xn){const er=new Or(gt||void 0,Qt||void 0,xn||void 0);return this._addObserver(er),()=>{this._removeObserver(er)}}then(K,gt){return this._promise.then(K,gt)}catch(K){return this.then(null,K)}_addObserver(K){this._observers.push(K),this._notifyObserver(K)}_removeObserver(K){const gt=this._observers.indexOf(K);-1!==gt&&this._observers.splice(gt,1)}_notifyObservers(){this._finishPromise(),this._observers.slice().forEach(gt=>{this._notifyObserver(gt)})}_finishPromise(){if(void 0!==this._resolve){let K=!0;switch(Hn(this._state)){case Tn.SUCCESS:jr(this._resolve.bind(null,this.snapshot))();break;case Tn.CANCELED:case Tn.ERROR:jr(this._reject.bind(null,this._error))();break;default:K=!1}K&&(this._resolve=void 0,this._reject=void 0)}}_notifyObserver(K){switch(Hn(this._state)){case Tn.RUNNING:case Tn.PAUSED:K.next&&jr(K.next.bind(K,this.snapshot))();break;case Tn.SUCCESS:K.complete&&jr(K.complete.bind(K))();break;default:K.error&&jr(K.error.bind(K,this._error))()}}resume(){const K="paused"===this._state||"pausing"===this._state;return K&&this._transition("running"),K}pause(){const K="running"===this._state;return K&&this._transition("pausing"),K}cancel(){const K="running"===this._state||"pausing"===this._state;return K&&this._transition("canceling"),K}}class Is{constructor(K,gt){this._service=K,this._location=gt instanceof $e?gt:$e.makeFromUrl(gt,K.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(K,gt){return new Is(K,gt)}get root(){const K=new $e(this._location.bucket,"");return this._newRef(this._service,K)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return Dr(this._location.path)}get storage(){return this._service}get parent(){const K=function Mn(V){if(0===V.length)return null;const K=V.lastIndexOf("/");return-1===K?"":V.slice(0,K)}(this._location.path);if(null===K)return null;const gt=new $e(this._location.bucket,K);return new Is(this._service,gt)}_throwIfRoot(K){if(""===this._location.path)throw Z(K)}}function nl(V,K,gt){return au.apply(this,arguments)}function au(){return(au=(0,xe.Z)(function*(V,K,gt){const xn=yield ic(V,{pageToken:gt});K.prefixes.push(...xn.prefixes),K.items.push(...xn.items),null!=xn.nextPageToken&&(yield nl(V,K,xn.nextPageToken))})).apply(this,arguments)}function ic(V,K){null!=K&&"number"==typeof K.maxResults&&Ft("options.maxResults",1,1e3,K.maxResults);const gt=K||{},Qt=kr(V.storage,V._location,"/",gt.pageToken,gt.maxResults);return V.storage.makeRequestWithTokens(Qt,ji)}function oc(V){V._throwIfRoot("getDownloadURL");const K=function Ni(V,K,gt){const xn=$t(K.fullServerUrl(),V.host,V._protocol),Lr=V.maxOperationRetryTime,pi=new gs(xn,"GET",function Eo(V,K){return function gt(Qt,xn){const er=ai(V,xn,K);return xs(null!==er),function ki(V,K,gt,Qt){const xn=pn(K);if(null===xn||!Ue(xn.downloadTokens))return null;const er=xn.downloadTokens;if(0===er.length)return null;const Lr=encodeURIComponent;return er.split(",").map(es=>{const Ko=V.fullPath;return $t("/b/"+Lr(V.bucket)+"/o/"+Lr(Ko),gt,Qt)+vn({alt:"media",token:es})})[0]}(er,xn,V.host,V._protocol)}}(V,gt),Lr);return pi.errorHandler=wn(K),pi}(V.storage,V._location,Rt());return V.storage.makeRequestWithTokens(K,ji).then(gt=>{if(null===gt)throw function We(){return new se("no-download-url","The given file does not have any download URLs.")}();return gt})}function Uc(V,K){const gt=function xr(V,K){const gt=K.split("/").filter(Qt=>Qt.length>0).join("/");return 0===V.length?gt:V+"/"+gt}(V._location.path,K),Qt=new $e(V._location.bucket,gt);return new Is(V.storage,Qt)}function lc(V,K){if(V instanceof Hl){const gt=V;if(null==gt._bucket)throw function De(){return new se("no-default-bucket","No default bucket found. Did you set the '"+ye+"' property when initializing the app?")}();const Qt=new Is(gt,gt._bucket);return null!=K?lc(Qt,K):Qt}return void 0!==K?Uc(V,K):V}function cc(V,K){if(K&&function ac(V){return/^[A-Za-z]+:\/\//.test(V)}(K)){if(V instanceof Hl)return function Wa(V,K){return new Is(V,K)}(V,K);throw Te("To use ref(service, url), the first argument must be a Storage instance.")}return lc(V,K)}function $o(V,K){const gt=null==K?void 0:K[ye];return null==gt?null:$e.makeFromBucketSpec(gt,V)}class Hl{constructor(K,gt,Qt,xn,er){this.app=K,this._authProvider=gt,this._appCheckProvider=Qt,this._url=xn,this._firebaseVersion=er,this._bucket=null,this._host=fe,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=12e4,this._maxUploadRetryTime=6e5,this._requests=new Set,this._bucket=null!=xn?$e.makeFromBucketSpec(xn,this._host):$o(this._host,this.app.options)}get host(){return this._host}set host(K){this._host=K,this._bucket=null!=this._url?$e.makeFromBucketSpec(this._url,K):$o(K,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(K){Ft("time",0,Number.POSITIVE_INFINITY,K),this._maxUploadRetryTime=K}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(K){Ft("time",0,Number.POSITIVE_INFINITY,K),this._maxOperationRetryTime=K}_getAuthToken(){var K=this;return(0,xe.Z)(function*(){if(K._overrideAuthToken)return K._overrideAuthToken;const gt=K._authProvider.getImmediate({optional:!0});if(gt){const Qt=yield gt.getToken();if(null!==Qt)return Qt.accessToken}return null})()}_getAppCheckToken(){var K=this;return(0,xe.Z)(function*(){const gt=K._appCheckProvider.getImmediate({optional:!0});return gt?(yield gt.getToken()).token:null})()}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(K=>K.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(K){return new Is(this,K)}_makeRequest(K,gt,Qt,xn){if(this._deleted)return new ot(Je());{const er=function ct(V,K,gt,Qt,xn,er){const Lr=vn(V.urlParams),pi=V.url+Lr,fi=Object.assign({},V.headers);return function ft(V,K){K&&(V["X-Firebase-GMPID"]=K)}(fi,K),function hn(V,K){null!==K&&K.length>0&&(V.Authorization="Firebase "+K)}(fi,gt),function ke(V,K){V["X-Firebase-Storage-Version"]="webjs/"+(null!=K?K:"AppManager")}(fi,er),function It(V,K){null!==K&&(V["X-Firebase-AppCheck"]=K)}(fi,Qt),new $n(pi,V.method,fi,V.body,V.successCodes,V.additionalRetryCodes,V.handler,V.errorHandler,V.timeout,V.progressCallback,xn)}(K,this._appId,Qt,xn,gt,this._firebaseVersion);return this._requests.add(er),er.getPromise().then(()=>this._requests.delete(er),()=>this._requests.delete(er)),er}}makeRequestWithTokens(K,gt){var Qt=this;return(0,xe.Z)(function*(){const[xn,er]=yield Promise.all([Qt._getAuthToken(),Qt._getAppCheckToken()]);return Qt._makeRequest(K,gt,xn,er).getPromise()})()}}const Ia="@firebase/storage";function Wl(V,K){return cc(V=(0,de.m9)(V),K)}function Ns(V,{instanceIdentifier:K}){const gt=V.getProvider("app").getImmediate(),Qt=V.getProvider("auth-internal"),xn=V.getProvider("app-check-internal");return new Hl(gt,Qt,xn,K,we.SDK_VERSION)}!function Le(){(0,we._registerComponent)(new W.wA("storage",Ns,"PUBLIC").setMultipleInstances(!0)),(0,we.registerVersion)(Ia,"0.9.8",""),(0,we.registerVersion)(Ia,"0.9.8","esm2017")}();class Et{constructor(K,gt,Qt){this._delegate=K,this.task=gt,this.ref=Qt}get bytesTransferred(){return this._delegate.bytesTransferred}get metadata(){return this._delegate.metadata}get state(){return this._delegate.state}get totalBytes(){return this._delegate.totalBytes}}class Re{constructor(K,gt){this._delegate=K,this._ref=gt,this.cancel=this._delegate.cancel.bind(this._delegate),this.catch=this._delegate.catch.bind(this._delegate),this.pause=this._delegate.pause.bind(this._delegate),this.resume=this._delegate.resume.bind(this._delegate)}get snapshot(){return new Et(this._delegate.snapshot,this,this._ref)}then(K,gt){return this._delegate.then(Qt=>{if(K)return K(new Et(Qt,this,this._ref))},gt)}on(K,gt,Qt,xn){let er;return gt&&(er="function"==typeof gt?Lr=>gt(new Et(Lr,this,this._ref)):{next:gt.next?Lr=>gt.next(new Et(Lr,this,this._ref)):void 0,complete:gt.complete||void 0,error:gt.error||void 0}),this._delegate.on(K,er,Qt||void 0,xn||void 0)}}class Mt{constructor(K,gt){this._delegate=K,this._service=gt}get prefixes(){return this._delegate.prefixes.map(K=>new En(K,this._service))}get items(){return this._delegate.items.map(K=>new En(K,this._service))}get nextPageToken(){return this._delegate.nextPageToken||null}}class En{constructor(K,gt){this._delegate=K,this.storage=gt}get name(){return this._delegate.name}get bucket(){return this._delegate.bucket}get fullPath(){return this._delegate.fullPath}toString(){return this._delegate.toString()}child(K){const gt=function Tc(V,K){return Uc(V,K)}(this._delegate,K);return new En(gt,this.storage)}get root(){return new En(this._delegate.root,this.storage)}get parent(){const K=this._delegate.parent;return null==K?null:new En(K,this.storage)}put(K,gt){return this._throwIfRoot("put"),new Re(function Bs(V,K,gt){return function Ks(V,K,gt){return V._throwIfRoot("uploadBytesResumable"),new jo(V,new Nt(K),gt)}(V=(0,de.m9)(V),K,gt)}(this._delegate,K,gt),this)}putString(K,gt=mr.RAW,Qt){this._throwIfRoot("putString");const xn=dr(gt,K),er=Object.assign({},Qt);return null==er.contentType&&null!=xn.contentType&&(er.contentType=xn.contentType),new Re(new jo(this._delegate,new Nt(xn.data,!0),er),this)}listAll(){return function vo(V){return function yu(V){const K={prefixes:[],items:[]};return nl(V,K).then(()=>K)}(V=(0,de.m9)(V))}(this._delegate).then(K=>new Mt(K,this.storage))}list(K){return function Yo(V,K){return ic(V=(0,de.m9)(V),K)}(this._delegate,K||void 0).then(gt=>new Mt(gt,this.storage))}getMetadata(){return function zl(V){return function _u(V){V._throwIfRoot("getMetadata");const K=tr(V.storage,V._location,Rt());return V.storage.makeRequestWithTokens(K,ji)}(V=(0,de.m9)(V))}(this._delegate)}updateMetadata(K){return function Bc(V,K){return function sc(V,K){V._throwIfRoot("updateMetadata");const gt=function us(V,K,gt,Qt){const er=$t(K.fullServerUrl(),V.host,V._protocol),pi=Zi(gt,Qt),es=V.maxOperationRetryTime,Ds=new gs(er,"PATCH",Rs(V,Qt),es);return Ds.headers={"Content-Type":"application/json; charset=utf-8"},Ds.body=pi,Ds.errorHandler=wn(K),Ds}(V.storage,V._location,K,Rt());return V.storage.makeRequestWithTokens(gt,ji)}(V=(0,de.m9)(V),K)}(this._delegate,K)}getDownloadURL(){return function Da(V){return oc(V=(0,de.m9)(V))}(this._delegate)}delete(){return this._throwIfRoot("delete"),function xu(V){return function rl(V){V._throwIfRoot("deleteObject");const K=function Li(V,K){const Qt=$t(K.fullServerUrl(),V.host,V._protocol),pi=new gs(Qt,"DELETE",function Lr(fi,es){},V.maxOperationRetryTime);return pi.successCodes=[200,204],pi.errorHandler=wn(K),pi}(V.storage,V._location);return V.storage.makeRequestWithTokens(K,ji)}(V=(0,de.m9)(V))}(this._delegate)}_throwIfRoot(K){if(""===this._delegate._location.path)throw Z(K)}}class yr{constructor(K,gt){this.app=K,this._delegate=gt}get maxOperationRetryTime(){return this._delegate.maxOperationRetryTime}get maxUploadRetryTime(){return this._delegate.maxUploadRetryTime}ref(K){if(Fr(K))throw Te("ref() expected a child path but got a URL, use refFromURL instead.");return new En(Wl(this._delegate,K),this)}refFromURL(K){if(!Fr(K))throw Te("refFromURL() expected a full URL but got a child path, use ref() instead.");try{$e.makeFromUrl(K,this._delegate.host)}catch(gt){throw Te("refFromUrl() expected a valid full URL but got an invalid one.")}return new En(Wl(this._delegate,K),this)}setMaxUploadRetryTime(K){this._delegate.maxUploadRetryTime=K}setMaxOperationRetryTime(K){this._delegate.maxOperationRetryTime=K}useEmulator(K,gt,Qt={}){!function sl(V,K,gt,Qt={}){!function la(V,K,gt,Qt={}){V.host=`${K}:${gt}`,V._protocol="http";const{mockUserToken:xn}=Qt;xn&&(V._overrideAuthToken="string"==typeof xn?xn:(0,de.Sg)(xn,V.app.options.projectId))}(V,K,gt,Qt)}(this._delegate,K,gt,Qt)}}function Fr(V){return/^[A-Za-z]+:\/\//.test(V)}function Lt(V,{instanceIdentifier:K}){const gt=V.getProvider("app-compat").getImmediate(),Qt=V.getProvider("storage").getImmediate({identifier:K});return new yr(gt,Qt)}!function Ut(V){const K={TaskState:Tn,TaskEvent:Sn,StringFormat:mr,Storage:yr,Reference:En};V.INTERNAL.registerComponent(new W.wA("storage-compat",Lt,"PUBLIC").setServiceProps(K).setMultipleInstances(!0)),V.registerVersion("@firebase/storage-compat","0.1.16")}(He.Z);var _n=me(7128),Xn=me(127);function ri(V){const K=function Tr(V){return new C.y(K=>{const gt=Lr=>K.next(Lr);gt(V.snapshot);const er=V.on("state_changed",gt);return V.then(Lr=>{gt(Lr),K.complete()},Lr=>{gt(V.snapshot),(Lr=>{K.error(Lr)})(Lr)}),function(){er()}}).pipe(function tt(V,K=ve.z){return(0,Ne.e)((gt,Qt)=>{let xn=null,er=null,Lr=null;const pi=()=>{if(xn){xn.unsubscribe(),xn=null;const es=er;er=null,Qt.next(es)}};function fi(){const es=Lr+V,Ds=K.now();if(Ds<es)return xn=this.schedule(void 0,es-Ds),void Qt.add(xn);pi()}gt.subscribe((0,I.x)(Qt,es=>{er=es,Lr=K.now(),xn||(xn=K.schedule(fi,V),Qt.add(xn))},()=>{pi(),Qt.complete()},void 0,()=>{er=xn=null}))})}(0))}(V);return{task:V,then:V.then.bind(V),catch:V.catch.bind(V),pause:V.pause.bind(V),cancel:V.cancel.bind(V),resume:V.resume.bind(V),snapshotChanges:()=>K,percentageChanges:()=>K.pipe((0,Qe.U)(gt=>gt.bytesTransferred/gt.totalBytes*100))}}function yi(V){return{getDownloadURL:()=>(0,h.of)(void 0).pipe(ze.fc,(0,nt.w)(()=>V.getDownloadURL()),ze.iC),getMetadata:()=>(0,h.of)(void 0).pipe(ze.fc,(0,nt.w)(()=>V.getMetadata()),ze.iC),delete:()=>(0,it.D)(V.delete()),child:K=>yi(V.child(K)),updateMetadata:K=>(0,it.D)(V.updateMetadata(K)),put:(K,gt)=>ri(V.put(K,gt)),putString:(K,gt,Qt)=>ri(V.putString(K,gt,Qt)),list:K=>(0,it.D)(V.list(K)),listAll:()=>(0,it.D)(V.listAll())}}const ii=new qe.OlP("angularfire2.storageBucket"),Vs=new qe.OlP("angularfire2.storage.maxUploadRetryTime"),ko=new qe.OlP("angularfire2.storage.maxOperationRetryTime"),io=new qe.OlP("angularfire2.storage.use-emulator");let $i=(()=>{class V{constructor(gt,Qt,xn,er,Lr,pi,fi,es,Ds,Ko){const so=(0,Fe.on)(gt,Lr,Qt);this.storage=(0,Fe.cc)(`${so.name}.storage.${xn}`,"AngularFireStorage",so.name,()=>{const Ho=Lr.runOutsideAngular(()=>so.storage(xn||void 0)),qs=Ds;return qs&&Ho.useEmulator(...qs),fi&&Ho.setMaxUploadRetryTime(fi),es&&Ho.setMaxOperationRetryTime(es),Ho},[fi,es])}ref(gt){return yi(this.storage.ref(gt))}refFromURL(gt){return yi(this.storage.refFromURL(gt))}upload(gt,Qt,xn){return yi(this.storage.ref(gt)).put(Qt,xn)}}return V.\u0275fac=function(gt){return new(gt||V)(qe.LFG(Fe.Dh),qe.LFG(Fe.xv,8),qe.LFG(ii,8),qe.LFG(qe.Lbi),qe.LFG(qe.R0b),qe.LFG(ze.HU),qe.LFG(Vs,8),qe.LFG(ko,8),qe.LFG(io,8),qe.LFG(_n.nm,8))},V.\u0275prov=qe.Yz7({token:V,factory:V.\u0275fac,providedIn:"any"}),V})(),Me=(()=>{class V{}return V.\u0275fac=function(gt){return new(gt||V)},V.\u0275mod=qe.oAB({type:V}),V.\u0275inj=qe.cJS({}),V})(),_e=(()=>{class V{constructor(){Xn.Z.registerVersion("angularfire",ze.q4.full,"gcs-compat")}}return V.\u0275fac=function(gt){return new(gt||V)},V.\u0275mod=qe.oAB({type:V}),V.\u0275inj=qe.cJS({providers:[$i],imports:[Me]}),V})()},2011:(Gr,Ln,me)=>{"use strict";me.d(Ln,{Dh:()=>Qe,GT:()=>I,Ot:()=>tt,cc:()=>xe,hO:()=>He,on:()=>ze,pX:()=>Ne,xv:()=>nt});var C=me(5e3),h=me(127),it=me(880);Gr=me.hmd(Gr);const ve=["ngOnDestroy"],Ne=(fe,ye,Se,oe={})=>new Proxy(fe,{get:(se,pe)=>Se.runOutsideAngular(()=>{var Ce;if(fe[pe])return(null===(Ce=null==oe?void 0:oe.spy)||void 0===Ce?void 0:Ce.get)&&oe.spy.get(pe,fe[pe]),fe[pe];if(ve.indexOf(pe)>-1)return()=>{};const L=ye.toPromise().then(Q=>{const re=Q&&Q[pe];return"function"==typeof re?re.bind(Q):re&&re.then?re.then(P=>Se.run(()=>P)):Se.run(()=>re)});return new Proxy(()=>{},{get:(Q,re)=>L[re],apply:(Q,re,P)=>L.then(G=>{var F;const ae=G&&G(...P);return(null===(F=null==oe?void 0:oe.spy)||void 0===F?void 0:F.apply)&&oe.spy.apply(pe,P,ae),ae})})})}),I=(fe,ye)=>{ye.forEach(Se=>{Object.getOwnPropertyNames(Se.prototype||Se).forEach(oe=>{Object.defineProperty(fe.prototype,oe,Object.getOwnPropertyDescriptor(Se.prototype||Se,oe))})})};class tt{constructor(ye){return ye}}const Qe=new C.OlP("angularfire2.app.options"),nt=new C.OlP("angularfire2.app.name");function ze(fe,ye,Se){const se="object"==typeof Se&&Se||{};se.name=se.name||"string"==typeof Se&&Se||"[DEFAULT]";const Ce=h.Z.apps.filter(L=>L&&L.name===se.name)[0]||ye.runOutsideAngular(()=>h.Z.initializeApp(fe,se));try{JSON.stringify(fe)!==JSON.stringify(Ce.options)&&qe("error",`${Ce.name} Firebase App already initialized with different options${Gr.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch(L){}return new tt(Ce)}const qe=(fe,...ye)=>{(0,C.X6Q)()&&"undefined"!=typeof console&&console[fe](...ye)},Fe={provide:tt,useFactory:ze,deps:[Qe,C.R0b,[new C.FiY,nt]]};let He=(()=>{class fe{constructor(Se){h.Z.registerVersion("angularfire",it.q4.full,"core"),h.Z.registerVersion("angularfire",it.q4.full,"app-compat"),h.Z.registerVersion("angular",C.q4F.full,Se.toString())}static initializeApp(Se,oe){return{ngModule:fe,providers:[{provide:Qe,useValue:Se},{provide:nt,useValue:oe}]}}}return fe.\u0275fac=function(Se){return new(Se||fe)(C.LFG(C.Lbi))},fe.\u0275mod=C.oAB({type:fe}),fe.\u0275inj=C.cJS({providers:[Fe]}),fe})();function xe(fe,ye,Se,oe,se){const[,pe,Ce]=globalThis.\u0275AngularfireInstanceCache.find(L=>L[0]===fe)||[];if(pe)return function we(fe,ye){try{return fe.toString()===ye.toString()}catch(Se){return fe===ye}}(se,Ce)||(W("error",`${ye} was already initialized on the ${Se} Firebase App with different settings.${de?" You may need to reload as Firebase is not HMR aware.":""}`),W("warn",{is:se,was:Ce})),pe;{const L=oe();return globalThis.\u0275AngularfireInstanceCache.push([fe,L,se]),L}}const de=!!Gr.hot,W=(fe,...ye)=>{(0,C.X6Q)()&&"undefined"!=typeof console&&console[fe](...ye)};globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=[])},880:(Gr,Ln,me)=>{"use strict";me.d(Ln,{q4:()=>Fl,iC:()=>Fr,fc:()=>En,HU:()=>Le,vb:()=>sl,JM:()=>Jc,nk:()=>Tc,u3:()=>Ms});var C=me(5e3),h=me(5867),it=me(5861),ve=me(9681),Ne=me(2090),I=me(4859),tt=me(1877);me(2833);const nt="@firebase/remote-config",xe=new Ne.LL("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class De{constructor(Ut,_n,Xn,Tr){this.client=Ut,this.storage=_n,this.storageCache=Xn,this.logger=Tr}isCachedDataFresh(Ut,_n){if(!_n)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const Xn=Date.now()-_n,Tr=Xn<=Ut;return this.logger.debug(`Config fetch cache check. Cache age millis: ${Xn}. Cache max age millis (minimumFetchIntervalMillis setting): ${Ut}. Is cache hit: ${Tr}.`),Tr}fetch(Ut){var _n=this;return(0,it.Z)(function*(){const[Xn,Tr]=yield Promise.all([_n.storage.getLastSuccessfulFetchTimestampMillis(),_n.storage.getLastSuccessfulFetchResponse()]);if(Tr&&_n.isCachedDataFresh(Ut.cacheMaxAgeMillis,Xn))return Tr;Ut.eTag=Tr&&Tr.eTag;const ri=yield _n.client.fetch(Ut),yi=[_n.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===ri.status&&yi.push(_n.storage.setLastSuccessfulFetchResponse(ri)),yield Promise.all(yi),ri})()}}function Ke(Lt=navigator){return Lt.languages&&Lt.languages[0]||Lt.language}class dt{constructor(Ut,_n,Xn,Tr,ri,yi){this.firebaseInstallations=Ut,this.sdkVersion=_n,this.namespace=Xn,this.projectId=Tr,this.apiKey=ri,this.appId=yi}fetch(Ut){var _n=this;return(0,it.Z)(function*(){var Xn,Tr,ri;const[yi,ii]=yield Promise.all([_n.firebaseInstallations.getId(),_n.firebaseInstallations.getToken()]),ko=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${_n.projectId}/namespaces/${_n.namespace}:fetch?key=${_n.apiKey}`,io={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":Ut.eTag||"*"},$i={sdk_version:_n.sdkVersion,app_instance_id:yi,app_instance_id_token:ii,app_id:_n.appId,language_code:Ke()},Ze={method:"POST",headers:io,body:JSON.stringify($i)},Me=fetch(ko,Ze),_e=new Promise((er,Lr)=>{Ut.signal.addEventListener(()=>{const pi=new Error("The operation was aborted.");pi.name="AbortError",Lr(pi)})});let V;try{yield Promise.race([Me,_e]),V=yield Me}catch(er){let Lr="fetch-client-network";throw"AbortError"===(null===(Xn=er)||void 0===Xn?void 0:Xn.name)&&(Lr="fetch-timeout"),xe.create(Lr,{originalErrorMessage:null===(Tr=er)||void 0===Tr?void 0:Tr.message})}let K=V.status;const gt=V.headers.get("ETag")||void 0;let Qt,xn;if(200===V.status){let er;try{er=yield V.json()}catch(Lr){throw xe.create("fetch-client-parse",{originalErrorMessage:null===(ri=Lr)||void 0===ri?void 0:ri.message})}Qt=er.entries,xn=er.state}if("INSTANCE_STATE_UNSPECIFIED"===xn?K=500:"NO_CHANGE"===xn?K=304:("NO_TEMPLATE"===xn||"EMPTY_CONFIG"===xn)&&(Qt={}),304!==K&&200!==K)throw xe.create("fetch-status",{httpStatus:K});return{status:K,eTag:gt,config:Qt}})()}}class Je{constructor(Ut,_n){this.client=Ut,this.storage=_n}fetch(Ut){var _n=this;return(0,it.Z)(function*(){const Xn=(yield _n.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return _n.attemptFetch(Ut,Xn)})()}attemptFetch(Ut,{throttleEndTimeMillis:_n,backoffCount:Xn}){var Tr=this;return(0,it.Z)(function*(){yield function We(Lt,Ut){return new Promise((_n,Xn)=>{const Tr=Math.max(Ut-Date.now(),0),ri=setTimeout(_n,Tr);Lt.addEventListener(()=>{clearTimeout(ri),Xn(xe.create("fetch-throttle",{throttleEndTimeMillis:Ut}))})})}(Ut.signal,_n);try{const ri=yield Tr.client.fetch(Ut);return yield Tr.storage.deleteThrottleMetadata(),ri}catch(ri){if(!function Te(Lt){if(!(Lt instanceof Ne.ZR&&Lt.customData))return!1;const Ut=Number(Lt.customData.httpStatus);return 429===Ut||500===Ut||503===Ut||504===Ut}(ri))throw ri;const yi={throttleEndTimeMillis:Date.now()+(0,Ne.$s)(Xn),backoffCount:Xn+1};return yield Tr.storage.setThrottleMetadata(yi),Tr.attemptFetch(Ut,yi)}})()}}class Oe{constructor(Ut,_n,Xn,Tr,ri){this.app=Ut,this._client=_n,this._storageCache=Xn,this._storage=Tr,this._logger=ri,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function $e(Lt,Ut){var _n;const Xn=Lt.target.error||void 0;return xe.create(Ut,{originalErrorMessage:Xn&&(null===(_n=Xn)||void 0===_n?void 0:_n.message)})}const ot="app_namespace_store";class J{constructor(Ut,_n,Xn,Tr=function be(){return new Promise((Lt,Ut)=>{var _n;try{const Xn=indexedDB.open("firebase_remote_config",1);Xn.onerror=Tr=>{Ut($e(Tr,"storage-open"))},Xn.onsuccess=Tr=>{Lt(Tr.target.result)},Xn.onupgradeneeded=Tr=>{0===Tr.oldVersion&&Tr.target.result.createObjectStore(ot,{keyPath:"compositeKey"})}}catch(Xn){Ut(xe.create("storage-open",{originalErrorMessage:null===(_n=Xn)||void 0===_n?void 0:_n.message}))}})}()){this.appId=Ut,this.appName=_n,this.namespace=Xn,this.openDbPromise=Tr}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(Ut){return this.set("last_fetch_status",Ut)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(Ut){return this.set("last_successful_fetch_timestamp_millis",Ut)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(Ut){return this.set("last_successful_fetch_response",Ut)}getActiveConfig(){return this.get("active_config")}setActiveConfig(Ut){return this.set("active_config",Ut)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(Ut){return this.set("active_config_etag",Ut)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(Ut){return this.set("throttle_metadata",Ut)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(Ut){var _n=this;return(0,it.Z)(function*(){const Xn=yield _n.openDbPromise;return new Promise((Tr,ri)=>{var yi;const Vs=Xn.transaction([ot],"readonly").objectStore(ot),ko=_n.createCompositeKey(Ut);try{const io=Vs.get(ko);io.onerror=$i=>{ri($e($i,"storage-get"))},io.onsuccess=$i=>{const Ze=$i.target.result;Tr(Ze?Ze.value:void 0)}}catch(io){ri(xe.create("storage-get",{originalErrorMessage:null===(yi=io)||void 0===yi?void 0:yi.message}))}})})()}set(Ut,_n){var Xn=this;return(0,it.Z)(function*(){const Tr=yield Xn.openDbPromise;return new Promise((ri,yi)=>{var ii;const ko=Tr.transaction([ot],"readwrite").objectStore(ot),io=Xn.createCompositeKey(Ut);try{const $i=ko.put({compositeKey:io,value:_n});$i.onerror=Ze=>{yi($e(Ze,"storage-set"))},$i.onsuccess=()=>{ri()}}catch($i){yi(xe.create("storage-set",{originalErrorMessage:null===(ii=$i)||void 0===ii?void 0:ii.message}))}})})()}delete(Ut){var _n=this;return(0,it.Z)(function*(){const Xn=yield _n.openDbPromise;return new Promise((Tr,ri)=>{var yi;const Vs=Xn.transaction([ot],"readwrite").objectStore(ot),ko=_n.createCompositeKey(Ut);try{const io=Vs.delete(ko);io.onerror=$i=>{ri($e($i,"storage-delete"))},io.onsuccess=()=>{Tr()}}catch(io){ri(xe.create("storage-delete",{originalErrorMessage:null===(yi=io)||void 0===yi?void 0:yi.message}))}})})()}createCompositeKey(Ut){return[this.appId,this.appName,this.namespace,Ut].join()}}class Ee{constructor(Ut){this.storage=Ut}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var Ut=this;return(0,it.Z)(function*(){const _n=Ut.storage.getLastFetchStatus(),Xn=Ut.storage.getLastSuccessfulFetchTimestampMillis(),Tr=Ut.storage.getActiveConfig(),ri=yield _n;ri&&(Ut.lastFetchStatus=ri);const yi=yield Xn;yi&&(Ut.lastSuccessfulFetchTimestampMillis=yi);const ii=yield Tr;ii&&(Ut.activeConfig=ii)})()}setLastFetchStatus(Ut){return this.lastFetchStatus=Ut,this.storage.setLastFetchStatus(Ut)}setLastSuccessfulFetchTimestampMillis(Ut){return this.lastSuccessfulFetchTimestampMillis=Ut,this.storage.setLastSuccessfulFetchTimestampMillis(Ut)}setActiveConfig(Ut){return this.activeConfig=Ut,this.storage.setActiveConfig(Ut)}}function Ft(){return $t.apply(this,arguments)}function $t(){return($t=(0,it.Z)(function*(){if(!(0,Ne.hl)())return!1;try{return yield(0,Ne.eu)()}catch(Lt){return!1}})).apply(this,arguments)}!function Ue(){(0,ve._registerComponent)(new I.wA("remote-config",function Lt(Ut,{instanceIdentifier:_n}){const Xn=Ut.getProvider("app").getImmediate(),Tr=Ut.getProvider("installations-internal").getImmediate();if("undefined"==typeof window)throw xe.create("registration-window");if(!(0,Ne.hl)())throw xe.create("indexed-db-unavailable");const{projectId:ri,apiKey:yi,appId:ii}=Xn.options;if(!ri)throw xe.create("registration-project-id");if(!yi)throw xe.create("registration-api-key");if(!ii)throw xe.create("registration-app-id");const Vs=new J(ii,Xn.name,_n=_n||"firebase"),ko=new Ee(Vs),io=new tt.Yd(nt);io.logLevel=tt.in.ERROR;const $i=new dt(Tr,ve.SDK_VERSION,_n,ri,yi,ii),Ze=new Je($i,Vs),Me=new De(Ze,Vs,ko,io),_e=new Oe(Xn,Me,ko,Vs,io);return function Ce(Lt){const Ut=(0,Ne.m9)(Lt);Ut._initializePromise||(Ut._initializePromise=Ut._storageCache.loadFromStorage().then(()=>{Ut._isInitializationComplete=!0}))}(_e),_e},"PUBLIC").setMultipleInstances(!0)),(0,ve.registerVersion)(nt,"0.3.10"),(0,ve.registerVersion)(nt,"0.3.10","esm2017")}();var vn=me(8766);const Nn="/firebase-messaging-sw.js",$n="/firebase-cloud-messaging-push-scope",yn="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",ke="google.c.a.c_id",ft="google.c.a.c_l",It="google.c.a.ts",ct="google.c.a.e";var nn=(()=>{return(Lt=nn||(nn={})).PUSH_RECEIVED="push-received",Lt.NOTIFICATION_CLICKED="notification-clicked",nn;var Lt})();function jn(Lt){const Ut=new Uint8Array(Lt);return btoa(String.fromCharCode(...Ut)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function br(Lt){const _n=(Lt+"=".repeat((4-Lt.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),Xn=atob(_n),Tr=new Uint8Array(Xn.length);for(let ri=0;ri<Xn.length;++ri)Tr[ri]=Xn.charCodeAt(ri);return Tr}const mr="fcm_token_details_db",dr="fcm_token_object_Store";function zr(Lt){return Pr.apply(this,arguments)}function Pr(){return Pr=(0,it.Z)(function*(Lt){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(ri=>ri.name).includes(mr))return null;let Ut=null;return(yield(0,vn.X3)(mr,5,{upgrade:(Xn=(0,it.Z)(function*(Tr,ri,yi,ii){var Vs;if(ri<2||!Tr.objectStoreNames.contains(dr))return;const ko=ii.objectStore(dr),io=yield ko.index("fcmSenderId").get(Lt);if(yield ko.clear(),io)if(2===ri){const $i=io;if(!$i.auth||!$i.p256dh||!$i.endpoint)return;Ut={token:$i.fcmToken,createTime:null!==(Vs=$i.createTime)&&void 0!==Vs?Vs:Date.now(),subscriptionOptions:{auth:$i.auth,p256dh:$i.p256dh,endpoint:$i.endpoint,swScope:$i.swScope,vapidKey:"string"==typeof $i.vapidKey?$i.vapidKey:jn($i.vapidKey)}}}else if(3===ri){const $i=io;Ut={token:$i.fcmToken,createTime:$i.createTime,subscriptionOptions:{auth:jn($i.auth),p256dh:jn($i.p256dh),endpoint:$i.endpoint,swScope:$i.swScope,vapidKey:jn($i.vapidKey)}}}else if(4===ri){const $i=io;Ut={token:$i.fcmToken,createTime:$i.createTime,subscriptionOptions:{auth:jn($i.auth),p256dh:jn($i.p256dh),endpoint:$i.endpoint,swScope:$i.swScope,vapidKey:jn($i.vapidKey)}}}}),function(ri,yi,ii,Vs){return Xn.apply(this,arguments)})})).close(),yield(0,vn.Lj)(mr),yield(0,vn.Lj)("fcm_vapid_details_db"),yield(0,vn.Lj)("undefined"),fn(Ut)?Ut:null;var Xn}),Pr.apply(this,arguments)}function fn(Lt){if(!Lt||!Lt.subscriptionOptions)return!1;const{subscriptionOptions:Ut}=Lt;return"number"==typeof Lt.createTime&&Lt.createTime>0&&"string"==typeof Lt.token&&Lt.token.length>0&&"string"==typeof Ut.auth&&Ut.auth.length>0&&"string"==typeof Ut.p256dh&&Ut.p256dh.length>0&&"string"==typeof Ut.endpoint&&Ut.endpoint.length>0&&"string"==typeof Ut.swScope&&Ut.swScope.length>0&&"string"==typeof Ut.vapidKey&&Ut.vapidKey.length>0}const et="firebase-messaging-store";let ht=null;function Nt(){return ht||(ht=(0,vn.X3)("firebase-messaging-database",1,{upgrade:(Lt,Ut)=>{0===Ut&&Lt.createObjectStore(et)}})),ht}function pn(Lt){return Mn.apply(this,arguments)}function Mn(){return(Mn=(0,it.Z)(function*(Lt){const Ut=On(Lt),Xn=yield(yield Nt()).transaction(et).objectStore(et).get(Ut);if(Xn)return Xn;{const Tr=yield zr(Lt.appConfig.senderId);if(Tr)return yield xr(Lt,Tr),Tr}})).apply(this,arguments)}function xr(Lt,Ut){return Dr.apply(this,arguments)}function Dr(){return(Dr=(0,it.Z)(function*(Lt,Ut){const _n=On(Lt),Tr=(yield Nt()).transaction(et,"readwrite");return yield Tr.objectStore(et).put(Ut,_n),yield Tr.done,Ut})).apply(this,arguments)}function Zr(Lt){return Ar.apply(this,arguments)}function Ar(){return(Ar=(0,it.Z)(function*(Lt){const Ut=On(Lt),Xn=(yield Nt()).transaction(et,"readwrite");yield Xn.objectStore(et).delete(Ut),yield Xn.done})).apply(this,arguments)}function On({appConfig:Lt}){return Lt.appId}const Rt=new Ne.LL("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function hr(Lt,Ut){return vr.apply(this,arguments)}function vr(){return(vr=(0,it.Z)(function*(Lt,Ut){var _n;const Xn=yield Ws(Lt),Tr=gs(Ut),ri={method:"POST",headers:Xn,body:JSON.stringify(Tr)};let yi;try{yi=yield(yield fetch(zs(Lt.appConfig),ri)).json()}catch(ii){throw Rt.create("token-subscribe-failed",{errorInfo:null===(_n=ii)||void 0===_n?void 0:_n.toString()})}if(yi.error)throw Rt.create("token-subscribe-failed",{errorInfo:yi.error.message});if(!yi.token)throw Rt.create("token-subscribe-no-token");return yi.token})).apply(this,arguments)}function ai(Lt,Ut){return ki.apply(this,arguments)}function ki(){return(ki=(0,it.Z)(function*(Lt,Ut){var _n;const Xn=yield Ws(Lt),Tr=gs(Ut.subscriptionOptions),ri={method:"PATCH",headers:Xn,body:JSON.stringify(Tr)};let yi;try{yi=yield(yield fetch(`${zs(Lt.appConfig)}/${Ut.token}`,ri)).json()}catch(ii){throw Rt.create("token-update-failed",{errorInfo:null===(_n=ii)||void 0===_n?void 0:_n.toString()})}if(yi.error)throw Rt.create("token-update-failed",{errorInfo:yi.error.message});if(!yi.token)throw Rt.create("token-update-no-token");return yi.token})).apply(this,arguments)}function Zi(Lt,Ut){return Wi.apply(this,arguments)}function Wi(){return(Wi=(0,it.Z)(function*(Lt,Ut){var _n;const Tr={method:"DELETE",headers:yield Ws(Lt)};try{const yi=yield(yield fetch(`${zs(Lt.appConfig)}/${Ut}`,Tr)).json();if(yi.error)throw Rt.create("token-unsubscribe-failed",{errorInfo:yi.error.message})}catch(ri){throw Rt.create("token-unsubscribe-failed",{errorInfo:null===(_n=ri)||void 0===_n?void 0:_n.toString()})}})).apply(this,arguments)}function zs({projectId:Lt}){return`https://fcmregistrations.googleapis.com/v1/projects/${Lt}/registrations`}function Ws(Lt){return Ji.apply(this,arguments)}function Ji(){return(Ji=(0,it.Z)(function*({appConfig:Lt,installations:Ut}){const _n=yield Ut.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":Lt.apiKey,"x-goog-firebase-installations-auth":`FIS ${_n}`})})).apply(this,arguments)}function gs({p256dh:Lt,auth:Ut,endpoint:_n,vapidKey:Xn}){const Tr={web:{endpoint:_n,auth:Ut,p256dh:Lt}};return Xn!==yn&&(Tr.web.applicationPubKey=Xn),Tr}const xs=6048e5;function Rs(Lt){return va.apply(this,arguments)}function va(){return(va=(0,it.Z)(function*(Lt){const Ut=yield Ni(Lt.swRegistration,Lt.vapidKey),_n={vapidKey:Lt.vapidKey,swScope:Lt.swRegistration.scope,endpoint:Ut.endpoint,auth:jn(Ut.getKey("auth")),p256dh:jn(Ut.getKey("p256dh"))},Xn=yield pn(Lt.firebaseDependencies);if(Xn){if(Li(Xn.subscriptionOptions,_n))return Date.now()>=Xn.createTime+xs?wn(Lt,{token:Xn.token,createTime:Date.now(),subscriptionOptions:_n}):Xn.token;try{yield Zi(Lt.firebaseDependencies,Xn.token)}catch(Tr){console.warn(Tr)}return kr(Lt.firebaseDependencies,_n)}return kr(Lt.firebaseDependencies,_n)})).apply(this,arguments)}function Eo(Lt){return Hr.apply(this,arguments)}function Hr(){return(Hr=(0,it.Z)(function*(Lt){const Ut=yield pn(Lt.firebaseDependencies);Ut&&(yield Zi(Lt.firebaseDependencies,Ut.token),yield Zr(Lt.firebaseDependencies));const _n=yield Lt.swRegistration.pushManager.getSubscription();return!_n||_n.unsubscribe()})).apply(this,arguments)}function wn(Lt,Ut){return tr.apply(this,arguments)}function tr(){return(tr=(0,it.Z)(function*(Lt,Ut){try{const _n=yield ai(Lt.firebaseDependencies,Ut),Xn=Object.assign(Object.assign({},Ut),{token:_n,createTime:Date.now()});return yield xr(Lt.firebaseDependencies,Xn),_n}catch(_n){throw yield Eo(Lt),_n}})).apply(this,arguments)}function kr(Lt,Ut){return Ai.apply(this,arguments)}function Ai(){return(Ai=(0,it.Z)(function*(Lt,Ut){const Xn={token:yield hr(Lt,Ut),createTime:Date.now(),subscriptionOptions:Ut};return yield xr(Lt,Xn),Xn.token})).apply(this,arguments)}function Ni(Lt,Ut){return us.apply(this,arguments)}function us(){return(us=(0,it.Z)(function*(Lt,Ut){return(yield Lt.pushManager.getSubscription())||Lt.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:br(Ut)})})).apply(this,arguments)}function Li(Lt,Ut){return Ut.vapidKey===Lt.vapidKey&&Ut.endpoint===Lt.endpoint&&Ut.auth===Lt.auth&&Ut.p256dh===Lt.p256dh}function Ls(Lt){const Ut={from:Lt.from,collapseKey:Lt.collapse_key,messageId:Lt.fcmMessageId};return function Io(Lt,Ut){if(!Ut.notification)return;Lt.notification={};const _n=Ut.notification.title;_n&&(Lt.notification.title=_n);const Xn=Ut.notification.body;Xn&&(Lt.notification.body=Xn);const Tr=Ut.notification.image;Tr&&(Lt.notification.image=Tr)}(Ut,Lt),function Ri(Lt,Ut){!Ut.data||(Lt.data=Ut.data)}(Ut,Lt),function To(Lt,Ut){var _n,Xn,Tr,ri,yi;if(!Ut.fcmOptions&&!(null===(_n=Ut.notification)||void 0===_n?void 0:_n.click_action))return;Lt.fcmOptions={};const ii=null!==(Tr=null===(Xn=Ut.fcmOptions)||void 0===Xn?void 0:Xn.link)&&void 0!==Tr?Tr:null===(ri=Ut.notification)||void 0===ri?void 0:ri.click_action;ii&&(Lt.fcmOptions.link=ii);const Vs=null===(yi=Ut.fcmOptions)||void 0===yi?void 0:yi.analytics_label;Vs&&(Lt.fcmOptions.analyticsLabel=Vs)}(Ut,Lt),Ut}function Ha(Lt){return"object"==typeof Lt&&!!Lt&&ke in Lt}function za(Lt,Ut){const _n=[];for(let Xn=0;Xn<Lt.length;Xn++)_n.push(Lt.charAt(Xn)),Xn<Ut.length&&_n.push(Ut.charAt(Xn));return _n.join("")}function Ys(Lt){return Rt.create("missing-app-config-values",{valueName:Lt})}za("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),za("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class Do{constructor(Ut,_n,Xn){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const Tr=function tl(Lt){if(!Lt||!Lt.options)throw Ys("App Configuration Object");if(!Lt.name)throw Ys("App Name");const Ut=["projectId","apiKey","appId","messagingSenderId"],{options:_n}=Lt;for(const Xn of Ut)if(!_n[Xn])throw Ys(Xn);return{appName:Lt.name,projectId:_n.projectId,apiKey:_n.apiKey,appId:_n.appId,senderId:_n.messagingSenderId}}(Ut);this.firebaseDependencies={app:Ut,appConfig:Tr,installations:_n,analyticsProvider:Xn}}_delete(){return Promise.resolve()}}function Sn(Lt){return Tn.apply(this,arguments)}function Tn(){return(Tn=(0,it.Z)(function*(Lt){var Ut;try{Lt.swRegistration=yield navigator.serviceWorker.register(Nn,{scope:$n}),Lt.swRegistration.update().catch(()=>{})}catch(_n){throw Rt.create("failed-service-worker-registration",{browserErrorMessage:null===(Ut=_n)||void 0===Ut?void 0:Ut.message})}})).apply(this,arguments)}function Hn(Lt,Ut){return Or.apply(this,arguments)}function Or(){return(Or=(0,it.Z)(function*(Lt,Ut){if(!Ut&&!Lt.swRegistration&&(yield Sn(Lt)),Ut||!Lt.swRegistration){if(!(Ut instanceof ServiceWorkerRegistration))throw Rt.create("invalid-sw-registration");Lt.swRegistration=Ut}})).apply(this,arguments)}function jr(Lt,Ut){return ni.apply(this,arguments)}function ni(){return(ni=(0,it.Z)(function*(Lt,Ut){Ut?Lt.vapidKey=Ut:Lt.vapidKey||(Lt.vapidKey=yn)})).apply(this,arguments)}function Us(){return(Us=(0,it.Z)(function*(Lt,Ut){if(!navigator)throw Rt.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw Rt.create("permission-blocked");return yield jr(Lt,null==Ut?void 0:Ut.vapidKey),yield Hn(Lt,null==Ut?void 0:Ut.serviceWorkerRegistration),Rs(Lt)})).apply(this,arguments)}function ji(Lt,Ut,_n){return ro.apply(this,arguments)}function ro(){return(ro=(0,it.Z)(function*(Lt,Ut,_n){const Xn=Co(Ut);(yield Lt.firebaseDependencies.analyticsProvider.get()).logEvent(Xn,{message_id:_n[ke],message_name:_n[ft],message_time:_n[It],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function Co(Lt){switch(Lt){case nn.NOTIFICATION_CLICKED:return"notification_open";case nn.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}function Sa(){return(Sa=(0,it.Z)(function*(Lt,Ut){const _n=Ut.data;if(!_n.isFirebaseMessaging)return;Lt.onMessageHandler&&_n.messageType===nn.PUSH_RECEIVED&&("function"==typeof Lt.onMessageHandler?Lt.onMessageHandler(Ls(_n)):Lt.onMessageHandler.next(Ls(_n)));const Xn=_n.data;Ha(Xn)&&"1"===Xn[ct]&&(yield ji(Lt,_n.messageType,Xn))})).apply(this,arguments)}const jo="@firebase/messaging",Ec=Lt=>{const Ut=new Do(Lt.getProvider("app").getImmediate(),Lt.getProvider("installations-internal").getImmediate(),Lt.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",_n=>function Ca(Lt,Ut){return Sa.apply(this,arguments)}(Ut,_n)),Ut},Xc=Lt=>{const Ut=Lt.getProvider("messaging").getImmediate();return{getToken:Xn=>function as(Lt,Ut){return Us.apply(this,arguments)}(Ut,Xn)}};function Ks(){return Vo.apply(this,arguments)}function Vo(){return(Vo=(0,it.Z)(function*(){try{yield(0,Ne.eu)()}catch(Lt){return!1}return"undefined"!=typeof window&&(0,Ne.hl)()&&(0,Ne.zI)()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}!function Aa(){(0,ve._registerComponent)(new I.wA("messaging",Ec,"PUBLIC")),(0,ve._registerComponent)(new I.wA("messaging-internal",Xc,"PRIVATE")),(0,ve.registerVersion)(jo,"0.9.15"),(0,ve.registerVersion)(jo,"0.9.15","esm2017")}();var Uc=me(7982),ac=me(4408),lc=me(7565);const $o=new class cc extends lc.v{}(class Wa extends ac.o{constructor(Ut,_n){super(Ut,_n),this.scheduler=Ut,this.work=_n}schedule(Ut,_n=0){return _n>0?super.schedule(Ut,_n):(this.delay=_n,this.state=Ut,this.scheduler.flush(this),this)}execute(Ut,_n){return _n>0||this.closed?super.execute(Ut,_n):this._execute(Ut,_n)}requestAsyncId(Ut,_n,Xn=0){return null!=Xn&&Xn>0||null==Xn&&this.delay>0?super.requestAsyncId(Ut,_n,Xn):Ut.flush(this)}});var Hl=me(4986),Ia=me(8306),ca=me(8505),Ol=me(5363),il=me(9468);const Fl=new C.GfV("7.3.0"),ya="__angularfire_symbol__analyticsIsSupportedValue",Bs="__angularfire_symbol__analyticsIsSupported",zl="__angularfire_symbol__remoteConfigIsSupportedValue",Bc="__angularfire_symbol__remoteConfigIsSupported",Yo="__angularfire_symbol__messagingIsSupportedValue",vo="__angularfire_symbol__messagingIsSupported";globalThis[Bs]||(globalThis[Bs]=(0,Uc.Gb)().then(Lt=>globalThis[ya]=Lt).catch(()=>globalThis[ya]=!1)),globalThis[vo]||(globalThis[vo]=Ks().then(Lt=>globalThis[Yo]=Lt).catch(()=>globalThis[Yo]=!1)),globalThis[Bc]||(globalThis[Bc]=Ft().then(Lt=>globalThis[zl]=Lt).catch(()=>globalThis[zl]=!1));const Tc={async:()=>globalThis[Bs],sync:()=>{const Lt=globalThis[ya];if(void 0===Lt)throw new Error((Lt=>`The APP_INITIALIZER that is "making" isSupported() sync for the sake of convenient DI has not resolved in this\ncontext. Rather than injecting ${Lt} in the constructor, first ensure that ${Lt} is supported by calling\n\`await isSupported()\`, then retrieve the instance from the injector manually \`injector.get(${Lt})\`.`)("Analytics"));return Lt}};function Jc(Lt,Ut,_n){if(Ut){if(1===Ut.length)return Ut[0];const ri=Ut.filter(yi=>yi.app===_n);if(1===ri.length)return ri[0]}return _n.container.getProvider(Lt).getImmediate({optional:!0})}const sl=(Lt,Ut)=>{const _n=Ut?[Ut]:(0,h.C6)(),Xn=[];return _n.forEach(Tr=>{Tr.container.getProvider(Lt).instances.forEach(yi=>{Xn.includes(yi)||Xn.push(yi)})}),Xn};function ql(){}class Cc{constructor(Ut,_n=$o){this.zone=Ut,this.delegate=_n}now(){return this.delegate.now()}schedule(Ut,_n,Xn){const Tr=this.zone;return this.delegate.schedule(function(yi){Tr.runGuarded(()=>{Ut.apply(this,[yi])})},_n,Xn)}}class Ns{constructor(Ut){this.zone=Ut,this.task=null}call(Ut,_n){const Xn=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",ql,{},ql,ql)),_n.pipe((0,ca.b)({next:Xn,complete:Xn,error:Xn})).subscribe(Ut).add(Xn)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let Le=(()=>{class Lt{constructor(_n){this.ngZone=_n,this.outsideAngular=_n.runOutsideAngular(()=>new Cc(Zone.current)),this.insideAngular=_n.run(()=>new Cc(Zone.current,Hl.z)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return Lt.\u0275fac=function(_n){return new(_n||Lt)(C.LFG(C.R0b))},Lt.\u0275prov=C.Yz7({token:Lt,factory:Lt.\u0275fac,providedIn:"root"}),Lt})();function Et(){const Lt=globalThis.\u0275AngularFireScheduler;if(!Lt)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return Lt}function Re(Lt){return Et().ngZone.runOutsideAngular(()=>Lt())}function Mt(Lt){return Et().ngZone.run(()=>Lt())}function En(Lt){return Lt.pipe((0,Ol.Q)(Et().outsideAngular))}function Fr(Lt){return Et(),function Pi(Lt){return function(_n){return(_n=_n.lift(new Ns(Lt.ngZone))).pipe((0,il.R)(Lt.outsideAngular),(0,Ol.Q)(Lt.insideAngular))}}(Et())(Lt)}const js=(Lt,Ut)=>function(){const Xn=arguments;return Ut&&setTimeout(()=>{"scheduled"===Ut.state&&Ut.invoke()},10),Mt(()=>Lt.apply(void 0,Xn))},Ms=(Lt,Ut)=>function(){let _n;const Xn=arguments;for(let ri=0;ri<arguments.length;ri++)"function"==typeof Xn[ri]&&(Ut&&(_n||(_n=Mt(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",ql,{},ql,ql)))),Xn[ri]=js(Xn[ri],_n));const Tr=Re(()=>Lt.apply(this,Xn));if(!Ut){if(Tr instanceof Ia.y){const ri=Et();return Tr.pipe((0,il.R)(ri.outsideAngular),(0,Ol.Q)(ri.insideAngular))}return Mt(()=>Tr)}return Tr instanceof Ia.y?Tr.pipe(Fr):Tr instanceof Promise?Mt(()=>new Promise((ri,yi)=>Tr.then(ii=>Mt(()=>ri(ii)),ii=>Mt(()=>yi(ii))))):"function"==typeof Tr&&_n?function(){return setTimeout(()=>{_n&&"scheduled"===_n.state&&_n.invoke()},10),Tr.apply(this,arguments)}:Mt(()=>Tr)}},3673:(Gr,Ln,me)=>{"use strict";me.d(Ln,{$:()=>ri,A:()=>qe,B:()=>xe,G:()=>tr,H:()=>Li,J:()=>Aa,L:()=>Dr,M:()=>cc,N:()=>Ia,P:()=>xl,Q:()=>ca,R:()=>nv,T:()=>Ol,U:()=>Hl,V:()=>Bs,W:()=>zl,X:()=>xu,Y:()=>Pi,Z:()=>Ms,_:()=>Ut,a:()=>bi,a0:()=>io,a1:()=>Ze,a2:()=>_e,a3:()=>K,a4:()=>Qt,a5:()=>er,a6:()=>pi,a7:()=>fi,a8:()=>Ds,a9:()=>Ko,aA:()=>Eh,aB:()=>Cs,aC:()=>Rl,aD:()=>Hf,aE:()=>Hr,aI:()=>ui,aL:()=>Fl,aa:()=>No,ab:()=>ua,ac:()=>ha,af:()=>bu,ag:()=>Wu,ah:()=>pd,ak:()=>ql,al:()=>Zl,an:()=>ol,ao:()=>da,ap:()=>zs,aq:()=>re,ar:()=>Wi,as:()=>ai,at:()=>Se,au:()=>rh,av:()=>$f,aw:()=>oe,ax:()=>L,ay:()=>G,az:()=>Zr,b:()=>Bh,c:()=>wh,d:()=>zo,e:()=>Xu,f:()=>Vc,g:()=>Wf,h:()=>ms,i:()=>hs,j:()=>Ya,k:()=>Bg,l:()=>qi,m:()=>Vg,n:()=>M0,o:()=>Qe,r:()=>_l,s:()=>uu,u:()=>_a});var C=me(5861),h=me(2090),it=me(9681),ve=me(655),Ne=me(1877),I=me(4859);const Qe={FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PASSWORD:"password",PHONE:"phone",TWITTER:"twitter.com"},qe={EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"};const xe=function Fe(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","login-blocked":"Login blocked by user-provided method: {$originalMessage}","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance."}},we=function He(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},de=new h.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),fe=new Ne.Yd("@firebase/auth");function ye(q,...S){fe.logLevel<=Ne.in.ERROR&&fe.error(`Auth (${it.SDK_VERSION}): ${q}`,...S)}function Se(q,...S){throw Ce(q,...S)}function oe(q,...S){return Ce(q,...S)}function se(q,S,k){const le=Object.assign(Object.assign({},we()),{[S]:k});return new h.LL("auth","Firebase",le).create(S,{appName:q.name})}function pe(q,S,k){if(!(S instanceof k))throw k.name!==S.constructor.name&&Se(q,"argument-error"),se(q,"argument-error",`Type of ${S.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Ce(q,...S){if("string"!=typeof q){const k=S[0],le=[...S.slice(1)];return le[0]&&(le[0].appName=q.name),q._errorFactory.create(k,...le)}return de.create(q,...S)}function L(q,S,...k){if(!q)throw Ce(S,...k)}function Q(q){const S="INTERNAL ASSERTION FAILED: "+q;throw ye(S),new Error(S)}function re(q,S){q||Q(S)}const P=new Map;function G(q){re(q instanceof Function,"Expected a class definition");let S=P.get(q);return S?(re(S instanceof q,"Instance stored in cache mismatched with class"),S):(S=new q,P.set(q,S),S)}function R(){var q;return"undefined"!=typeof self&&(null===(q=self.location)||void 0===q?void 0:q.href)||""}function z(){return"http:"===De()||"https:"===De()}function De(){var q;return"undefined"!=typeof self&&(null===(q=self.location)||void 0===q?void 0:q.protocol)||null}class We{constructor(S,k){this.shortDelay=S,this.longDelay=k,re(k>S,"Short delay should be less than long delay!"),this.isMobile=(0,h.uI)()||(0,h.b$)()}get(){return function Ke(){return!("undefined"!=typeof navigator&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(z()||(0,h.ru)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function Te(q,S){re(q.emulator,"Emulator should always be set here");const{url:k}=q.emulator;return S?`${k}${S.startsWith("/")?S.slice(1):S}`:k}class Je{static initialize(S,k,le){this.fetchImpl=S,k&&(this.headersImpl=k),le&&(this.responseImpl=le)}static fetch(){return this.fetchImpl?this.fetchImpl:"undefined"!=typeof self&&"fetch"in self?self.fetch:void Q("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:"undefined"!=typeof self&&"Headers"in self?self.Headers:void Q("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:"undefined"!=typeof self&&"Response"in self?self.Response:void Q("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const Z={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error"},ne=new We(3e4,6e4);function Oe(q,S){return q.tenantId&&!S.tenantId?Object.assign(Object.assign({},S),{tenantId:q.tenantId}):S}function $e(q,S,k,le){return ot.apply(this,arguments)}function ot(){return(ot=(0,C.Z)(function*(q,S,k,le,wt={}){return at(q,wt,(0,C.Z)(function*(){let zt={},Vn={};le&&("GET"===S?Vn=le:zt={body:JSON.stringify(le)});const Vr=(0,h.xO)(Object.assign({key:q.config.apiKey},Vn)).slice(1),Ei=yield q._getAdditionalHeaders();return Ei["Content-Type"]="application/json",q.languageCode&&(Ei["X-Firebase-Locale"]=q.languageCode),Je.fetch()(Ee(q,q.config.apiHost,k,Vr),Object.assign({method:S,headers:Ei,referrerPolicy:"no-referrer"},zt))}))})).apply(this,arguments)}function at(q,S,k){return j.apply(this,arguments)}function j(){return(j=(0,C.Z)(function*(q,S,k){q._canInitEmulator=!1;const le=Object.assign(Object.assign({},Z),S);try{const wt=new Ue(q),zt=yield Promise.race([k(),wt.promise]);wt.clearNetworkTimeout();const Vn=yield zt.json();if("needConfirmation"in Vn)throw lt(q,"account-exists-with-different-credential",Vn);if(zt.ok&&!("errorMessage"in Vn))return Vn;{const Vr=zt.ok?Vn.errorMessage:Vn.error.message,[Ei,Yi]=Vr.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===Ei)throw lt(q,"credential-already-in-use",Vn);if("EMAIL_EXISTS"===Ei)throw lt(q,"email-already-in-use",Vn);if("USER_DISABLED"===Ei)throw lt(q,"user-disabled",Vn);const Os=le[Ei]||Ei.toLowerCase().replace(/[_\s]+/g,"-");if(Yi)throw se(q,Os,Yi);Se(q,Os)}}catch(wt){if(wt instanceof h.ZR)throw wt;Se(q,"network-request-failed")}})).apply(this,arguments)}function be(q,S,k,le){return J.apply(this,arguments)}function J(){return(J=(0,C.Z)(function*(q,S,k,le,wt={}){const zt=yield $e(q,S,k,le,wt);return"mfaPendingCredential"in zt&&Se(q,"multi-factor-auth-required",{_serverResponse:zt}),zt})).apply(this,arguments)}function Ee(q,S,k,le){const wt=`${S}${k}?${le}`;return q.config.emulator?Te(q.config,wt):`${q.config.apiScheme}://${wt}`}class Ue{constructor(S){this.auth=S,this.timer=null,this.promise=new Promise((k,le)=>{this.timer=setTimeout(()=>le(oe(this.auth,"network-request-failed")),ne.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function lt(q,S,k){const le={appName:q.name};k.email&&(le.email=k.email),k.phoneNumber&&(le.phoneNumber=k.phoneNumber);const wt=oe(q,S,le);return wt.customData._tokenResponse=k,wt}function Ft(){return(Ft=(0,C.Z)(function*(q,S){return $e(q,"POST","/v1/accounts:delete",S)})).apply(this,arguments)}function $t(q,S){return vn.apply(this,arguments)}function vn(){return(vn=(0,C.Z)(function*(q,S){return $e(q,"POST","/v1/accounts:update",S)})).apply(this,arguments)}function Nn(q,S){return $n.apply(this,arguments)}function $n(){return($n=(0,C.Z)(function*(q,S){return $e(q,"POST","/v1/accounts:lookup",S)})).apply(this,arguments)}function yn(q){if(q)try{const S=new Date(Number(q));if(!isNaN(S.getTime()))return S.toUTCString()}catch(S){}}function ft(){return(ft=(0,C.Z)(function*(q,S=!1){const k=(0,h.m9)(q),le=yield k.getIdToken(S),wt=ct(le);L(wt&&wt.exp&&wt.auth_time&&wt.iat,k.auth,"internal-error");const zt="object"==typeof wt.firebase?wt.firebase:void 0,Vn=null==zt?void 0:zt.sign_in_provider;return{claims:wt,token:le,authTime:yn(It(wt.auth_time)),issuedAtTime:yn(It(wt.iat)),expirationTime:yn(It(wt.exp)),signInProvider:Vn||null,signInSecondFactor:(null==zt?void 0:zt.sign_in_second_factor)||null}})).apply(this,arguments)}function It(q){return 1e3*Number(q)}function ct(q){var S;const[k,le,wt]=q.split(".");if(void 0===k||void 0===le||void 0===wt)return ye("JWT malformed, contained fewer than 3 sections"),null;try{const zt=(0,h.tV)(le);return zt?JSON.parse(zt):(ye("Failed to decode base64 JWT payload"),null)}catch(zt){return ye("Caught error parsing JWT payload as JSON",null===(S=zt)||void 0===S?void 0:S.toString()),null}}function nn(q,S){return jn.apply(this,arguments)}function jn(){return(jn=(0,C.Z)(function*(q,S,k=!1){if(k)return S;try{return yield S}catch(le){throw le instanceof h.ZR&&br(le)&&q.auth.currentUser===q&&(yield q.auth.signOut()),le}})).apply(this,arguments)}function br({code:q}){return"auth/user-disabled"===q||"auth/user-token-expired"===q}class mr{constructor(S){this.user=S,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){!this.isRunning||(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(S){var k;if(S){const le=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),le}{this.errorBackoff=3e4;const wt=(null!==(k=this.user.stsTokenManager.expirationTime)&&void 0!==k?k:0)-Date.now()-3e5;return Math.max(0,wt)}}schedule(S=!1){var k=this;if(!this.isRunning)return;const le=this.getInterval(S);this.timerId=setTimeout((0,C.Z)(function*(){yield k.iteration()}),le)}iteration(){var S=this;return(0,C.Z)(function*(){var k;try{yield S.user.getIdToken(!0)}catch(le){return void("auth/network-request-failed"===(null===(k=le)||void 0===k?void 0:k.code)&&S.schedule(!0))}S.schedule()})()}}class Mr{constructor(S,k){this.createdAt=S,this.lastLoginAt=k,this._initializeTime()}_initializeTime(){this.lastSignInTime=yn(this.lastLoginAt),this.creationTime=yn(this.createdAt)}_copy(S){this.createdAt=S.createdAt,this.lastLoginAt=S.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function dr(q){return zr.apply(this,arguments)}function zr(){return(zr=(0,C.Z)(function*(q){var S;const k=q.auth,le=yield q.getIdToken(),wt=yield nn(q,Nn(k,{idToken:le}));L(null==wt?void 0:wt.users.length,k,"internal-error");const zt=wt.users[0];q._notifyReloadListener(zt);const Vn=(null===(S=zt.providerUserInfo)||void 0===S?void 0:S.length)?Be(zt.providerUserInfo):[],Vr=mt(q.providerData,Vn),Os=!!q.isAnonymous&&!(q.email&&zt.passwordHash||(null==Vr?void 0:Vr.length)),Lo={uid:zt.localId,displayName:zt.displayName||null,photoURL:zt.photoUrl||null,email:zt.email||null,emailVerified:zt.emailVerified||!1,phoneNumber:zt.phoneNumber||null,tenantId:zt.tenantId||null,providerData:Vr,metadata:new Mr(zt.createdAt,zt.lastLoginAt),isAnonymous:Os};Object.assign(q,Lo)})).apply(this,arguments)}function fn(){return(fn=(0,C.Z)(function*(q){const S=(0,h.m9)(q);yield dr(S),yield S.auth._persistUserIfCurrent(S),S.auth._notifyListenersIfCurrent(S)})).apply(this,arguments)}function mt(q,S){return[...q.filter(le=>!S.some(wt=>wt.providerId===le.providerId)),...S]}function Be(q){return q.map(S=>{var{providerId:k}=S,le=(0,ve._T)(S,["providerId"]);return{providerId:k,uid:le.rawId||"",displayName:le.displayName||null,email:le.email||null,phoneNumber:le.phoneNumber||null,photoURL:le.photoUrl||null}})}function ht(){return(ht=(0,C.Z)(function*(q,S){const k=yield at(q,{},(0,C.Z)(function*(){const le=(0,h.xO)({grant_type:"refresh_token",refresh_token:S}).slice(1),{tokenApiHost:wt,apiKey:zt}=q.config,Vn=Ee(q,wt,"/v1/token",`key=${zt}`),Vr=yield q._getAdditionalHeaders();return Vr["Content-Type"]="application/x-www-form-urlencoded",Je.fetch()(Vn,{method:"POST",headers:Vr,body:le})}));return{accessToken:k.access_token,expiresIn:k.expires_in,refreshToken:k.refresh_token}})).apply(this,arguments)}class Nt{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(S){L(S.idToken,"internal-error"),L(void 0!==S.idToken,"internal-error"),L(void 0!==S.refreshToken,"internal-error");const k="expiresIn"in S&&void 0!==S.expiresIn?Number(S.expiresIn):function jt(q){const S=ct(q);return L(S,"internal-error"),L(void 0!==S.exp,"internal-error"),L(void 0!==S.iat,"internal-error"),Number(S.exp)-Number(S.iat)}(S.idToken);this.updateTokensAndExpiration(S.idToken,S.refreshToken,k)}getToken(S,k=!1){var le=this;return(0,C.Z)(function*(){return L(!le.accessToken||le.refreshToken,S,"user-token-expired"),k||!le.accessToken||le.isExpired?le.refreshToken?(yield le.refresh(S,le.refreshToken),le.accessToken):null:le.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(S,k){var le=this;return(0,C.Z)(function*(){const{accessToken:wt,refreshToken:zt,expiresIn:Vn}=yield function et(q,S){return ht.apply(this,arguments)}(S,k);le.updateTokensAndExpiration(wt,zt,Number(Vn))})()}updateTokensAndExpiration(S,k,le){this.refreshToken=k||null,this.accessToken=S||null,this.expirationTime=Date.now()+1e3*le}static fromJSON(S,k){const{refreshToken:le,accessToken:wt,expirationTime:zt}=k,Vn=new Nt;return le&&(L("string"==typeof le,"internal-error",{appName:S}),Vn.refreshToken=le),wt&&(L("string"==typeof wt,"internal-error",{appName:S}),Vn.accessToken=wt),zt&&(L("number"==typeof zt,"internal-error",{appName:S}),Vn.expirationTime=zt),Vn}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(S){this.accessToken=S.accessToken,this.refreshToken=S.refreshToken,this.expirationTime=S.expirationTime}_clone(){return Object.assign(new Nt,this.toJSON())}_performRefresh(){return Q("not implemented")}}function pn(q,S){L("string"==typeof q||void 0===q,"internal-error",{appName:S})}class Mn{constructor(S){var{uid:k,auth:le,stsTokenManager:wt}=S,zt=(0,ve._T)(S,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new mr(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=k,this.auth=le,this.stsTokenManager=wt,this.accessToken=wt.accessToken,this.displayName=zt.displayName||null,this.email=zt.email||null,this.emailVerified=zt.emailVerified||!1,this.phoneNumber=zt.phoneNumber||null,this.photoURL=zt.photoURL||null,this.isAnonymous=zt.isAnonymous||!1,this.tenantId=zt.tenantId||null,this.providerData=zt.providerData?[...zt.providerData]:[],this.metadata=new Mr(zt.createdAt||void 0,zt.lastLoginAt||void 0)}getIdToken(S){var k=this;return(0,C.Z)(function*(){const le=yield nn(k,k.stsTokenManager.getToken(k.auth,S));return L(le,k.auth,"internal-error"),k.accessToken!==le&&(k.accessToken=le,yield k.auth._persistUserIfCurrent(k),k.auth._notifyListenersIfCurrent(k)),le})()}getIdTokenResult(S){return function ke(q){return ft.apply(this,arguments)}(this,S)}reload(){return function Pr(q){return fn.apply(this,arguments)}(this)}_assign(S){this!==S&&(L(this.uid===S.uid,this.auth,"internal-error"),this.displayName=S.displayName,this.photoURL=S.photoURL,this.email=S.email,this.emailVerified=S.emailVerified,this.phoneNumber=S.phoneNumber,this.isAnonymous=S.isAnonymous,this.tenantId=S.tenantId,this.providerData=S.providerData.map(k=>Object.assign({},k)),this.metadata._copy(S.metadata),this.stsTokenManager._assign(S.stsTokenManager))}_clone(S){return new Mn(Object.assign(Object.assign({},this),{auth:S,stsTokenManager:this.stsTokenManager._clone()}))}_onReload(S){L(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=S,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(S){this.reloadListener?this.reloadListener(S):this.reloadUserInfo=S}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(S,k=!1){var le=this;return(0,C.Z)(function*(){let wt=!1;S.idToken&&S.idToken!==le.stsTokenManager.accessToken&&(le.stsTokenManager.updateFromServerResponse(S),wt=!0),k&&(yield dr(le)),yield le.auth._persistUserIfCurrent(le),wt&&le.auth._notifyListenersIfCurrent(le)})()}delete(){var S=this;return(0,C.Z)(function*(){const k=yield S.getIdToken();return yield nn(S,function Tt(q,S){return Ft.apply(this,arguments)}(S.auth,{idToken:k})),S.stsTokenManager.clearRefreshToken(),S.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(S=>Object.assign({},S)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(S,k){var le,wt,zt,Vn,Vr,Ei,Yi,Os;const Lo=null!==(le=k.displayName)&&void 0!==le?le:void 0,mc=null!==(wt=k.email)&&void 0!==wt?wt:void 0,Ll=null!==(zt=k.phoneNumber)&&void 0!==zt?zt:void 0,ih=null!==(Vn=k.photoURL)&&void 0!==Vn?Vn:void 0,na=null!==(Vr=k.tenantId)&&void 0!==Vr?Vr:void 0,$h=null!==(Ei=k._redirectEventId)&&void 0!==Ei?Ei:void 0,O0=null!==(Yi=k.createdAt)&&void 0!==Yi?Yi:void 0,ff=null!==(Os=k.lastLoginAt)&&void 0!==Os?Os:void 0,{uid:Cd,emailVerified:F0,isAnonymous:lv,providerData:Fa,stsTokenManager:Zs}=k;L(Cd&&Zs,S,"internal-error");const Yl=Nt.fromJSON(this.name,Zs);L("string"==typeof Cd,S,"internal-error"),pn(Lo,S.name),pn(mc,S.name),L("boolean"==typeof F0,S,"internal-error"),L("boolean"==typeof lv,S,"internal-error"),pn(Ll,S.name),pn(ih,S.name),pn(na,S.name),pn($h,S.name),pn(O0,S.name),pn(ff,S.name);const cl=new Mn({uid:Cd,auth:S,email:mc,emailVerified:F0,displayName:Lo,isAnonymous:lv,photoURL:ih,phoneNumber:Ll,tenantId:na,stsTokenManager:Yl,createdAt:O0,lastLoginAt:ff});return Fa&&Array.isArray(Fa)&&(cl.providerData=Fa.map(Er=>Object.assign({},Er))),$h&&(cl._redirectEventId=$h),cl}static _fromIdTokenResponse(S,k,le=!1){return(0,C.Z)(function*(){const wt=new Nt;wt.updateFromServerResponse(k);const zt=new Mn({uid:k.localId,auth:S,stsTokenManager:wt,isAnonymous:le});return yield dr(zt),zt})()}}const Dr=(()=>{class q{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,C.Z)(function*(){return!0})()}_set(k,le){var wt=this;return(0,C.Z)(function*(){wt.storage[k]=le})()}_get(k){var le=this;return(0,C.Z)(function*(){const wt=le.storage[k];return void 0===wt?null:wt})()}_remove(k){var le=this;return(0,C.Z)(function*(){delete le.storage[k]})()}_addListener(k,le){}_removeListener(k,le){}}return q.type="NONE",q})();function Zr(q,S,k){return`firebase:${q}:${S}:${k}`}class Ar{constructor(S,k,le){this.persistence=S,this.auth=k,this.userKey=le;const{config:wt,name:zt}=this.auth;this.fullUserKey=Zr(this.userKey,wt.apiKey,zt),this.fullPersistenceKey=Zr("persistence",wt.apiKey,zt),this.boundEventHandler=k._onStorageEvent.bind(k),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(S){return this.persistence._set(this.fullUserKey,S.toJSON())}getCurrentUser(){var S=this;return(0,C.Z)(function*(){const k=yield S.persistence._get(S.fullUserKey);return k?Mn._fromJSON(S.auth,k):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(S){var k=this;return(0,C.Z)(function*(){if(k.persistence===S)return;const le=yield k.getCurrentUser();return yield k.removeCurrentUser(),k.persistence=S,le?k.setCurrentUser(le):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(S,k,le="authUser"){return(0,C.Z)(function*(){if(!k.length)return new Ar(G(Dr),S,le);const wt=(yield Promise.all(k.map(function(){var Yi=(0,C.Z)(function*(Os){if(yield Os._isAvailable())return Os});return function(Os){return Yi.apply(this,arguments)}}()))).filter(Yi=>Yi);let zt=wt[0]||G(Dr);const Vn=Zr(le,S.config.apiKey,S.name);let Vr=null;for(const Yi of k)try{const Os=yield Yi._get(Vn);if(Os){const Lo=Mn._fromJSON(S,Os);Yi!==zt&&(Vr=Lo),zt=Yi;break}}catch(Os){}const Ei=wt.filter(Yi=>Yi._shouldAllowMigration);return zt._shouldAllowMigration&&Ei.length?(zt=Ei[0],Vr&&(yield zt._set(Vn,Vr.toJSON())),yield Promise.all(k.map(function(){var Yi=(0,C.Z)(function*(Os){if(Os!==zt)try{yield Os._remove(Vn)}catch(Lo){}});return function(Os){return Yi.apply(this,arguments)}}())),new Ar(zt,S,le)):new Ar(zt,S,le)})()}}function On(q){const S=q.toLowerCase();if(S.includes("opera/")||S.includes("opr/")||S.includes("opios/"))return"Opera";if(vr(S))return"IEMobile";if(S.includes("msie")||S.includes("trident/"))return"IE";if(S.includes("edge/"))return"Edge";if(mn(S))return"Firefox";if(S.includes("silk/"))return"Silk";if(ki(S))return"Blackberry";if(Zi(S))return"Webos";if(Rt(S))return"Safari";if((S.includes("chrome/")||hr(S))&&!S.includes("edge/"))return"Chrome";if(ai(S))return"Android";{const le=q.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===(null==le?void 0:le.length))return le[1]}return"Other"}function mn(q=(0,h.z$)()){return/firefox\//i.test(q)}function Rt(q=(0,h.z$)()){const S=q.toLowerCase();return S.includes("safari/")&&!S.includes("chrome/")&&!S.includes("crios/")&&!S.includes("android")}function hr(q=(0,h.z$)()){return/crios\//i.test(q)}function vr(q=(0,h.z$)()){return/iemobile/i.test(q)}function ai(q=(0,h.z$)()){return/android/i.test(q)}function ki(q=(0,h.z$)()){return/blackberry/i.test(q)}function Zi(q=(0,h.z$)()){return/webos/i.test(q)}function Wi(q=(0,h.z$)()){return/iphone|ipad|ipod/i.test(q)}function zs(q=(0,h.z$)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(q)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(q)}function gs(q=(0,h.z$)()){return Wi(q)||ai(q)||Zi(q)||ki(q)||/windows phone/i.test(q)||vr(q)}function Rs(q,S=[]){let k;switch(q){case"Browser":k=On((0,h.z$)());break;case"Worker":k=`${On((0,h.z$)())}-${q}`;break;default:k=q}const le=S.length?S.join(","):"FirebaseCore-web";return`${k}/JsCore/${it.SDK_VERSION}/${le}`}class va{constructor(S){this.auth=S,this.queue=[]}pushCallback(S,k){const le=zt=>new Promise((Vn,Vr)=>{try{Vn(S(zt))}catch(Ei){Vr(Ei)}});le.onAbort=k,this.queue.push(le);const wt=this.queue.length-1;return()=>{this.queue[wt]=()=>Promise.resolve()}}runMiddleware(S){var k=this;return(0,C.Z)(function*(){var le;if(k.auth.currentUser===S)return;const wt=[];try{for(const zt of k.queue)yield zt(S),zt.onAbort&&wt.push(zt.onAbort)}catch(zt){wt.reverse();for(const Vn of wt)try{Vn()}catch(Vr){}throw k.auth._errorFactory.create("login-blocked",{originalMessage:null===(le=zt)||void 0===le?void 0:le.message})}})()}}class Eo{constructor(S,k,le){this.app=S,this.heartbeatServiceProvider=k,this.config=le,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new wn(this),this.idTokenSubscription=new wn(this),this.beforeStateQueue=new va(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=de,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=S.name,this.clientVersion=le.sdkClientVersion}_initializeWithPersistence(S,k){var le=this;return k&&(this._popupRedirectResolver=G(k)),this._initializationPromise=this.queue((0,C.Z)(function*(){var wt,zt;if(!le._deleted&&(le.persistenceManager=yield Ar.create(le,S),!le._deleted)){if(null===(wt=le._popupRedirectResolver)||void 0===wt?void 0:wt._shouldInitProactively)try{yield le._popupRedirectResolver._initialize(le)}catch(Vn){}yield le.initializeCurrentUser(k),le.lastNotifiedUid=(null===(zt=le.currentUser)||void 0===zt?void 0:zt.uid)||null,!le._deleted&&(le._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var S=this;return(0,C.Z)(function*(){if(S._deleted)return;const k=yield S.assertedPersistence.getCurrentUser();if(S.currentUser||k){if(S.currentUser&&k&&S.currentUser.uid===k.uid)return S._currentUser._assign(k),void(yield S.currentUser.getIdToken());yield S._updateCurrentUser(k,!0)}})()}initializeCurrentUser(S){var k=this;return(0,C.Z)(function*(){var le;const wt=yield k.assertedPersistence.getCurrentUser();let zt=wt,Vn=!1;if(S&&k.config.authDomain){yield k.getOrInitRedirectPersistenceManager();const Vr=null===(le=k.redirectUser)||void 0===le?void 0:le._redirectEventId,Ei=null==zt?void 0:zt._redirectEventId,Yi=yield k.tryRedirectSignIn(S);(!Vr||Vr===Ei)&&(null==Yi?void 0:Yi.user)&&(zt=Yi.user,Vn=!0)}if(!zt)return k.directlySetCurrentUser(null);if(!zt._redirectEventId){if(Vn)try{yield k.beforeStateQueue.runMiddleware(zt)}catch(Vr){zt=wt,k._popupRedirectResolver._overrideRedirectResult(k,()=>Promise.reject(Vr))}return zt?k.reloadAndSetCurrentUserOrClear(zt):k.directlySetCurrentUser(null)}return L(k._popupRedirectResolver,k,"argument-error"),yield k.getOrInitRedirectPersistenceManager(),k.redirectUser&&k.redirectUser._redirectEventId===zt._redirectEventId?k.directlySetCurrentUser(zt):k.reloadAndSetCurrentUserOrClear(zt)})()}tryRedirectSignIn(S){var k=this;return(0,C.Z)(function*(){let le=null;try{le=yield k._popupRedirectResolver._completeRedirectFn(k,S,!0)}catch(wt){yield k._setRedirectUser(null)}return le})()}reloadAndSetCurrentUserOrClear(S){var k=this;return(0,C.Z)(function*(){var le;try{yield dr(S)}catch(wt){if("auth/network-request-failed"!==(null===(le=wt)||void 0===le?void 0:le.code))return k.directlySetCurrentUser(null)}return k.directlySetCurrentUser(S)})()}useDeviceLanguage(){this.languageCode=function dt(){if("undefined"==typeof navigator)return null;const q=navigator;return q.languages&&q.languages[0]||q.language||null}()}_delete(){var S=this;return(0,C.Z)(function*(){S._deleted=!0})()}updateCurrentUser(S){var k=this;return(0,C.Z)(function*(){const le=S?(0,h.m9)(S):null;return le&&L(le.auth.config.apiKey===k.config.apiKey,k,"invalid-user-token"),k._updateCurrentUser(le&&le._clone(k))})()}_updateCurrentUser(S,k=!1){var le=this;return(0,C.Z)(function*(){if(!le._deleted)return S&&L(le.tenantId===S.tenantId,le,"tenant-id-mismatch"),k||(yield le.beforeStateQueue.runMiddleware(S)),le.queue((0,C.Z)(function*(){yield le.directlySetCurrentUser(S),le.notifyAuthListeners()}))})()}signOut(){var S=this;return(0,C.Z)(function*(){return yield S.beforeStateQueue.runMiddleware(null),(S.redirectPersistenceManager||S._popupRedirectResolver)&&(yield S._setRedirectUser(null)),S._updateCurrentUser(null,!0)})()}setPersistence(S){var k=this;return this.queue((0,C.Z)(function*(){yield k.assertedPersistence.setPersistence(G(S))}))}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(S){this._errorFactory=new h.LL("auth","Firebase",S())}onAuthStateChanged(S,k,le){return this.registerStateListener(this.authStateSubscription,S,k,le)}beforeAuthStateChanged(S,k){return this.beforeStateQueue.pushCallback(S,k)}onIdTokenChanged(S,k,le){return this.registerStateListener(this.idTokenSubscription,S,k,le)}toJSON(){var S;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(S=this._currentUser)||void 0===S?void 0:S.toJSON()}}_setRedirectUser(S,k){var le=this;return(0,C.Z)(function*(){const wt=yield le.getOrInitRedirectPersistenceManager(k);return null===S?wt.removeCurrentUser():wt.setCurrentUser(S)})()}getOrInitRedirectPersistenceManager(S){var k=this;return(0,C.Z)(function*(){if(!k.redirectPersistenceManager){const le=S&&G(S)||k._popupRedirectResolver;L(le,k,"argument-error"),k.redirectPersistenceManager=yield Ar.create(k,[G(le._redirectPersistence)],"redirectUser"),k.redirectUser=yield k.redirectPersistenceManager.getCurrentUser()}return k.redirectPersistenceManager})()}_redirectUserForId(S){var k=this;return(0,C.Z)(function*(){var le,wt;return k._isInitialized&&(yield k.queue((0,C.Z)(function*(){}))),(null===(le=k._currentUser)||void 0===le?void 0:le._redirectEventId)===S?k._currentUser:(null===(wt=k.redirectUser)||void 0===wt?void 0:wt._redirectEventId)===S?k.redirectUser:null})()}_persistUserIfCurrent(S){var k=this;return(0,C.Z)(function*(){if(S===k.currentUser)return k.queue((0,C.Z)(function*(){return k.directlySetCurrentUser(S)}))})()}_notifyListenersIfCurrent(S){S===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var S,k;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const le=null!==(k=null===(S=this.currentUser)||void 0===S?void 0:S.uid)&&void 0!==k?k:null;this.lastNotifiedUid!==le&&(this.lastNotifiedUid=le,this.authStateSubscription.next(this.currentUser))}registerStateListener(S,k,le,wt){if(this._deleted)return()=>{};const zt="function"==typeof k?k:k.next.bind(k),Vn=this._isInitialized?Promise.resolve():this._initializationPromise;return L(Vn,this,"internal-error"),Vn.then(()=>zt(this.currentUser)),"function"==typeof k?S.addObserver(k,le,wt):S.addObserver(k)}directlySetCurrentUser(S){var k=this;return(0,C.Z)(function*(){k.currentUser&&k.currentUser!==S&&(k._currentUser._stopProactiveRefresh(),S&&k.isProactiveRefreshEnabled&&S._startProactiveRefresh()),k.currentUser=S,S?yield k.assertedPersistence.setCurrentUser(S):yield k.assertedPersistence.removeCurrentUser()})()}queue(S){return this.operations=this.operations.then(S,S),this.operations}get assertedPersistence(){return L(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(S){!S||this.frameworks.includes(S)||(this.frameworks.push(S),this.frameworks.sort(),this.clientVersion=Rs(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var S=this;return(0,C.Z)(function*(){var k;const le={"X-Client-Version":S.clientVersion};S.app.options.appId&&(le["X-Firebase-gmpid"]=S.app.options.appId);const wt=yield null===(k=S.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===k?void 0:k.getHeartbeatsHeader();return wt&&(le["X-Firebase-Client"]=wt),le})()}}function Hr(q){return(0,h.m9)(q)}class wn{constructor(S){this.auth=S,this.observer=null,this.addObserver=(0,h.ne)(k=>this.observer=k)}get next(){return L(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function tr(q,S,k){const le=Hr(q);L(le._canInitEmulator,le,"emulator-config-failed"),L(/^https?:\/\//.test(S),le,"invalid-emulator-scheme");const wt=!!(null==k?void 0:k.disableWarnings),zt=kr(S),{host:Vn,port:Vr}=function Ai(q){const S=kr(q),k=/(\/\/)?([^?#/]+)/.exec(q.substr(S.length));if(!k)return{host:"",port:null};const le=k[2].split("@").pop()||"",wt=/^(\[[^\]]+\])(:|$)/.exec(le);if(wt){const zt=wt[1];return{host:zt,port:Ni(le.substr(zt.length+1))}}{const[zt,Vn]=le.split(":");return{host:zt,port:Ni(Vn)}}}(S);le.config.emulator={url:`${zt}//${Vn}${null===Vr?"":`:${Vr}`}/`},le.settings.appVerificationDisabledForTesting=!0,le.emulatorConfig=Object.freeze({host:Vn,port:Vr,protocol:zt.replace(":",""),options:Object.freeze({disableWarnings:wt})}),wt||function us(){function q(){const S=document.createElement("p"),k=S.style;S.innerText="Running in emulator mode. Do not use with production credentials.",k.position="fixed",k.width="100%",k.backgroundColor="#ffffff",k.border=".1em solid #000000",k.color="#b50000",k.bottom="0px",k.left="0px",k.margin="0px",k.zIndex="10000",k.textAlign="center",S.classList.add("firebase-emulator-warning"),document.body.appendChild(S)}"undefined"!=typeof console&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),"undefined"!=typeof window&&"undefined"!=typeof document&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",q):q())}()}function kr(q){const S=q.indexOf(":");return S<0?"":q.substr(0,S+1)}function Ni(q){if(!q)return null;const S=Number(q);return isNaN(S)?null:S}class Li{constructor(S,k){this.providerId=S,this.signInMethod=k}toJSON(){return Q("not implemented")}_getIdTokenResponse(S){return Q("not implemented")}_linkToIdToken(S,k){return Q("not implemented")}_getReauthenticationResolver(S){return Q("not implemented")}}function Ls(q,S){return Io.apply(this,arguments)}function Io(){return(Io=(0,C.Z)(function*(q,S){return $e(q,"POST","/v1/accounts:resetPassword",Oe(q,S))})).apply(this,arguments)}function Ri(q,S){return To.apply(this,arguments)}function To(){return(To=(0,C.Z)(function*(q,S){return $e(q,"POST","/v1/accounts:update",S)})).apply(this,arguments)}function Ha(q,S){return za.apply(this,arguments)}function za(){return(za=(0,C.Z)(function*(q,S){return $e(q,"POST","/v1/accounts:update",Oe(q,S))})).apply(this,arguments)}function Ys(){return(Ys=(0,C.Z)(function*(q,S){return be(q,"POST","/v1/accounts:signInWithPassword",Oe(q,S))})).apply(this,arguments)}function Do(q,S){return Sn.apply(this,arguments)}function Sn(){return(Sn=(0,C.Z)(function*(q,S){return $e(q,"POST","/v1/accounts:sendOobCode",Oe(q,S))})).apply(this,arguments)}function Tn(q,S){return Hn.apply(this,arguments)}function Hn(){return(Hn=(0,C.Z)(function*(q,S){return Do(q,S)})).apply(this,arguments)}function Or(q,S){return jr.apply(this,arguments)}function jr(){return(jr=(0,C.Z)(function*(q,S){return Do(q,S)})).apply(this,arguments)}function ni(q,S){return as.apply(this,arguments)}function as(){return(as=(0,C.Z)(function*(q,S){return Do(q,S)})).apply(this,arguments)}function Us(q,S){return ji.apply(this,arguments)}function ji(){return(ji=(0,C.Z)(function*(q,S){return Do(q,S)})).apply(this,arguments)}function Co(){return(Co=(0,C.Z)(function*(q,S){return be(q,"POST","/v1/accounts:signInWithEmailLink",Oe(q,S))})).apply(this,arguments)}function Sa(){return(Sa=(0,C.Z)(function*(q,S){return be(q,"POST","/v1/accounts:signInWithEmailLink",Oe(q,S))})).apply(this,arguments)}class jo extends Li{constructor(S,k,le,wt=null){super("password",le),this._email=S,this._password=k,this._tenantId=wt}static _fromEmailAndPassword(S,k){return new jo(S,k,"password")}static _fromEmailAndCode(S,k,le=null){return new jo(S,k,"emailLink",le)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(S){const k="string"==typeof S?JSON.parse(S):S;if((null==k?void 0:k.email)&&(null==k?void 0:k.password)){if("password"===k.signInMethod)return this._fromEmailAndPassword(k.email,k.password);if("emailLink"===k.signInMethod)return this._fromEmailAndCode(k.email,k.password,k.tenantId)}return null}_getIdTokenResponse(S){var k=this;return(0,C.Z)(function*(){switch(k.signInMethod){case"password":return function tl(q,S){return Ys.apply(this,arguments)}(S,{returnSecureToken:!0,email:k._email,password:k._password});case"emailLink":return function ro(q,S){return Co.apply(this,arguments)}(S,{email:k._email,oobCode:k._password});default:Se(S,"internal-error")}})()}_linkToIdToken(S,k){var le=this;return(0,C.Z)(function*(){switch(le.signInMethod){case"password":return Ri(S,{idToken:k,returnSecureToken:!0,email:le._email,password:le._password});case"emailLink":return function Ca(q,S){return Sa.apply(this,arguments)}(S,{idToken:k,email:le._email,oobCode:le._password});default:Se(S,"internal-error")}})()}_getReauthenticationResolver(S){return this._getIdTokenResponse(S)}}function Is(q,S){return Ec.apply(this,arguments)}function Ec(){return(Ec=(0,C.Z)(function*(q,S){return be(q,"POST","/v1/accounts:signInWithIdp",Oe(q,S))})).apply(this,arguments)}class Aa extends Li{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(S){const k=new Aa(S.providerId,S.signInMethod);return S.idToken||S.accessToken?(S.idToken&&(k.idToken=S.idToken),S.accessToken&&(k.accessToken=S.accessToken),S.nonce&&!S.pendingToken&&(k.nonce=S.nonce),S.pendingToken&&(k.pendingToken=S.pendingToken)):S.oauthToken&&S.oauthTokenSecret?(k.accessToken=S.oauthToken,k.secret=S.oauthTokenSecret):Se("argument-error"),k}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(S){const k="string"==typeof S?JSON.parse(S):S,{providerId:le,signInMethod:wt}=k,zt=(0,ve._T)(k,["providerId","signInMethod"]);if(!le||!wt)return null;const Vn=new Aa(le,wt);return Vn.idToken=zt.idToken||void 0,Vn.accessToken=zt.accessToken||void 0,Vn.secret=zt.secret,Vn.nonce=zt.nonce,Vn.pendingToken=zt.pendingToken||null,Vn}_getIdTokenResponse(S){return Is(S,this.buildRequest())}_linkToIdToken(S,k){const le=this.buildRequest();return le.idToken=k,Is(S,le)}_getReauthenticationResolver(S){const k=this.buildRequest();return k.autoCreate=!1,Is(S,k)}buildRequest(){const S={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)S.pendingToken=this.pendingToken;else{const k={};this.idToken&&(k.id_token=this.idToken),this.accessToken&&(k.access_token=this.accessToken),this.secret&&(k.oauth_token_secret=this.secret),k.providerId=this.providerId,this.nonce&&!this.pendingToken&&(k.nonce=this.nonce),S.postBody=(0,h.xO)(k)}return S}}function Ks(q,S){return Vo.apply(this,arguments)}function Vo(){return(Vo=(0,C.Z)(function*(q,S){return $e(q,"POST","/v1/accounts:sendVerificationCode",Oe(q,S))})).apply(this,arguments)}function nl(){return(nl=(0,C.Z)(function*(q,S){return be(q,"POST","/v1/accounts:signInWithPhoneNumber",Oe(q,S))})).apply(this,arguments)}function ic(){return(ic=(0,C.Z)(function*(q,S){const k=yield be(q,"POST","/v1/accounts:signInWithPhoneNumber",Oe(q,S));if(k.temporaryProof)throw lt(q,"account-exists-with-different-credential",k);return k})).apply(this,arguments)}const _u={USER_NOT_FOUND:"user-not-found"};function oc(){return(oc=(0,C.Z)(function*(q,S){return be(q,"POST","/v1/accounts:signInWithPhoneNumber",Oe(q,Object.assign(Object.assign({},S),{operation:"REAUTH"})),_u)})).apply(this,arguments)}class rl extends Li{constructor(S){super("phone","phone"),this.params=S}static _fromVerification(S,k){return new rl({verificationId:S,verificationCode:k})}static _fromTokenResponse(S,k){return new rl({phoneNumber:S,temporaryProof:k})}_getIdTokenResponse(S){return function yu(q,S){return nl.apply(this,arguments)}(S,this._makeVerificationRequest())}_linkToIdToken(S,k){return function au(q,S){return ic.apply(this,arguments)}(S,Object.assign({idToken:k},this._makeVerificationRequest()))}_getReauthenticationResolver(S){return function sc(q,S){return oc.apply(this,arguments)}(S,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:S,phoneNumber:k,verificationId:le,verificationCode:wt}=this.params;return S&&k?{temporaryProof:S,phoneNumber:k}:{sessionInfo:le,code:wt}}toJSON(){const S={providerId:this.providerId};return this.params.phoneNumber&&(S.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(S.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(S.verificationCode=this.params.verificationCode),this.params.verificationId&&(S.verificationId=this.params.verificationId),S}static fromJSON(S){"string"==typeof S&&(S=JSON.parse(S));const{verificationId:k,verificationCode:le,phoneNumber:wt,temporaryProof:zt}=S;return le||k||wt||zt?new rl({verificationId:k,verificationCode:le,phoneNumber:wt,temporaryProof:zt}):null}}class Wa{constructor(S){var k,le,wt,zt,Vn,Vr;const Ei=(0,h.zd)((0,h.pd)(S)),Yi=null!==(k=Ei.apiKey)&&void 0!==k?k:null,Os=null!==(le=Ei.oobCode)&&void 0!==le?le:null,Lo=function Uc(q){switch(q){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(wt=Ei.mode)&&void 0!==wt?wt:null);L(Yi&&Os&&Lo,"argument-error"),this.apiKey=Yi,this.operation=Lo,this.code=Os,this.continueUrl=null!==(zt=Ei.continueUrl)&&void 0!==zt?zt:null,this.languageCode=null!==(Vn=Ei.languageCode)&&void 0!==Vn?Vn:null,this.tenantId=null!==(Vr=Ei.tenantId)&&void 0!==Vr?Vr:null}static parseLink(S){const k=function ac(q){const S=(0,h.zd)((0,h.pd)(q)).link,k=S?(0,h.zd)((0,h.pd)(S)).deep_link_id:null,le=(0,h.zd)((0,h.pd)(q)).deep_link_id;return(le?(0,h.zd)((0,h.pd)(le)).link:null)||le||k||S||q}(S);try{return new Wa(k)}catch(le){return null}}}let cc=(()=>{class q{constructor(){this.providerId=q.PROVIDER_ID}static credential(k,le){return jo._fromEmailAndPassword(k,le)}static credentialWithLink(k,le){const wt=Wa.parseLink(le);return L(wt,"argument-error"),jo._fromEmailAndCode(k,wt.code,wt.tenantId)}}return q.PROVIDER_ID="password",q.EMAIL_PASSWORD_SIGN_IN_METHOD="password",q.EMAIL_LINK_SIGN_IN_METHOD="emailLink",q})();class $o{constructor(S){this.providerId=S,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(S){this.defaultLanguageCode=S}setCustomParameters(S){return this.customParameters=S,this}getCustomParameters(){return this.customParameters}}class la extends $o{constructor(){super(...arguments),this.scopes=[]}addScope(S){return this.scopes.includes(S)||this.scopes.push(S),this}getScopes(){return[...this.scopes]}}class Hl extends la{static credentialFromJSON(S){const k="string"==typeof S?JSON.parse(S):S;return L("providerId"in k&&"signInMethod"in k,"argument-error"),Aa._fromParams(k)}credential(S){return this._credential(Object.assign(Object.assign({},S),{nonce:S.rawNonce}))}_credential(S){return L(S.idToken||S.accessToken,"argument-error"),Aa._fromParams(Object.assign(Object.assign({},S),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(S){return Hl.oauthCredentialFromTaggedObject(S)}static credentialFromError(S){return Hl.oauthCredentialFromTaggedObject(S.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:S}){if(!S)return null;const{oauthIdToken:k,oauthAccessToken:le,oauthTokenSecret:wt,pendingToken:zt,nonce:Vn,providerId:Vr}=S;if(!le&&!wt&&!k&&!zt||!Vr)return null;try{return new Hl(Vr)._credential({idToken:k,accessToken:le,nonce:Vn,pendingToken:zt})}catch(Ei){return null}}}let Ia=(()=>{class q extends la{constructor(){super("facebook.com")}static credential(k){return Aa._fromParams({providerId:q.PROVIDER_ID,signInMethod:q.FACEBOOK_SIGN_IN_METHOD,accessToken:k})}static credentialFromResult(k){return q.credentialFromTaggedObject(k)}static credentialFromError(k){return q.credentialFromTaggedObject(k.customData||{})}static credentialFromTaggedObject({_tokenResponse:k}){if(!k||!("oauthAccessToken"in k)||!k.oauthAccessToken)return null;try{return q.credential(k.oauthAccessToken)}catch(le){return null}}}return q.FACEBOOK_SIGN_IN_METHOD="facebook.com",q.PROVIDER_ID="facebook.com",q})(),ca=(()=>{class q extends la{constructor(){super("google.com"),this.addScope("profile")}static credential(k,le){return Aa._fromParams({providerId:q.PROVIDER_ID,signInMethod:q.GOOGLE_SIGN_IN_METHOD,idToken:k,accessToken:le})}static credentialFromResult(k){return q.credentialFromTaggedObject(k)}static credentialFromError(k){return q.credentialFromTaggedObject(k.customData||{})}static credentialFromTaggedObject({_tokenResponse:k}){if(!k)return null;const{oauthIdToken:le,oauthAccessToken:wt}=k;if(!le&&!wt)return null;try{return q.credential(le,wt)}catch(zt){return null}}}return q.GOOGLE_SIGN_IN_METHOD="google.com",q.PROVIDER_ID="google.com",q})(),Ol=(()=>{class q extends la{constructor(){super("github.com")}static credential(k){return Aa._fromParams({providerId:q.PROVIDER_ID,signInMethod:q.GITHUB_SIGN_IN_METHOD,accessToken:k})}static credentialFromResult(k){return q.credentialFromTaggedObject(k)}static credentialFromError(k){return q.credentialFromTaggedObject(k.customData||{})}static credentialFromTaggedObject({_tokenResponse:k}){if(!k||!("oauthAccessToken"in k)||!k.oauthAccessToken)return null;try{return q.credential(k.oauthAccessToken)}catch(le){return null}}}return q.GITHUB_SIGN_IN_METHOD="github.com",q.PROVIDER_ID="github.com",q})();class Fl extends Li{constructor(S,k){super(S,S),this.pendingToken=k}_getIdTokenResponse(S){return Is(S,this.buildRequest())}_linkToIdToken(S,k){const le=this.buildRequest();return le.idToken=k,Is(S,le)}_getReauthenticationResolver(S){const k=this.buildRequest();return k.autoCreate=!1,Is(S,k)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(S){const k="string"==typeof S?JSON.parse(S):S,{providerId:le,signInMethod:wt,pendingToken:zt}=k;return le&&wt&&zt&&le===wt?new Fl(le,zt):null}static _create(S,k){return new Fl(S,k)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class Bs extends $o{constructor(S){L(S.startsWith("saml."),"argument-error"),super(S)}static credentialFromResult(S){return Bs.samlCredentialFromTaggedObject(S)}static credentialFromError(S){return Bs.samlCredentialFromTaggedObject(S.customData||{})}static credentialFromJSON(S){const k=Fl.fromJSON(S);return L(k,"argument-error"),k}static samlCredentialFromTaggedObject({_tokenResponse:S}){if(!S)return null;const{pendingToken:k,providerId:le}=S;if(!k||!le)return null;try{return Fl._create(le,k)}catch(wt){return null}}}let zl=(()=>{class q extends la{constructor(){super("twitter.com")}static credential(k,le){return Aa._fromParams({providerId:q.PROVIDER_ID,signInMethod:q.TWITTER_SIGN_IN_METHOD,oauthToken:k,oauthTokenSecret:le})}static credentialFromResult(k){return q.credentialFromTaggedObject(k)}static credentialFromError(k){return q.credentialFromTaggedObject(k.customData||{})}static credentialFromTaggedObject({_tokenResponse:k}){if(!k)return null;const{oauthAccessToken:le,oauthTokenSecret:wt}=k;if(!le||!wt)return null;try{return q.credential(le,wt)}catch(zt){return null}}}return q.TWITTER_SIGN_IN_METHOD="twitter.com",q.PROVIDER_ID="twitter.com",q})();function Bc(q,S){return Yo.apply(this,arguments)}function Yo(){return(Yo=(0,C.Z)(function*(q,S){return be(q,"POST","/v1/accounts:signUp",Oe(q,S))})).apply(this,arguments)}class vo{constructor(S){this.user=S.user,this.providerId=S.providerId,this._tokenResponse=S._tokenResponse,this.operationType=S.operationType}static _fromIdTokenResponse(S,k,le,wt=!1){return(0,C.Z)(function*(){const zt=yield Mn._fromIdTokenResponse(S,le,wt),Vn=Da(le);return new vo({user:zt,providerId:Vn,_tokenResponse:le,operationType:k})})()}static _forOperation(S,k,le){return(0,C.Z)(function*(){yield S._updateTokensIfNecessary(le,!0);const wt=Da(le);return new vo({user:S,providerId:wt,_tokenResponse:le,operationType:k})})()}}function Da(q){return q.providerId?q.providerId:"phoneNumber"in q?"phone":null}function xu(q){return Wl.apply(this,arguments)}function Wl(){return(Wl=(0,C.Z)(function*(q){var S;const k=Hr(q);if(yield k._initializationPromise,null===(S=k.currentUser)||void 0===S?void 0:S.isAnonymous)return new vo({user:k.currentUser,providerId:null,operationType:"signIn"});const le=yield Bc(k,{returnSecureToken:!0}),wt=yield vo._fromIdTokenResponse(k,"signIn",le,!0);return yield k._updateCurrentUser(wt.user),wt})).apply(this,arguments)}class Tc extends h.ZR{constructor(S,k,le,wt){var zt;super(k.code,k.message),this.operationType=le,this.user=wt,Object.setPrototypeOf(this,Tc.prototype),this.customData={appName:S.name,tenantId:null!==(zt=S.tenantId)&&void 0!==zt?zt:void 0,_serverResponse:k.customData._serverResponse,operationType:le}}static _fromErrorAndOperation(S,k,le,wt){return new Tc(S,k,le,wt)}}function Jc(q,S,k,le){return("reauthenticate"===S?k._getReauthenticationResolver(q):k._getIdTokenResponse(q)).catch(zt=>{throw"auth/multi-factor-auth-required"===zt.code?Tc._fromErrorAndOperation(q,zt,S,le):zt})}function sl(q){return new Set(q.map(({providerId:S})=>S).filter(S=>!!S))}function ql(q,S){return Cc.apply(this,arguments)}function Cc(){return(Cc=(0,C.Z)(function*(q,S){const k=(0,h.m9)(q);yield Et(!0,k,S);const{providerUserInfo:le}=yield $t(k.auth,{idToken:yield k.getIdToken(),deleteProvider:[S]}),wt=sl(le||[]);return k.providerData=k.providerData.filter(zt=>wt.has(zt.providerId)),wt.has("phone")||(k.phoneNumber=null),yield k.auth._persistUserIfCurrent(k),k})).apply(this,arguments)}function Ns(q,S){return Le.apply(this,arguments)}function Le(){return(Le=(0,C.Z)(function*(q,S,k=!1){const le=yield nn(q,S._linkToIdToken(q.auth,yield q.getIdToken()),k);return vo._forOperation(q,"link",le)})).apply(this,arguments)}function Et(q,S,k){return Re.apply(this,arguments)}function Re(){return(Re=(0,C.Z)(function*(q,S,k){yield dr(S);const wt=!1===q?"provider-already-linked":"no-such-provider";L(sl(S.providerData).has(k)===q,S.auth,wt)})).apply(this,arguments)}function Mt(q,S){return En.apply(this,arguments)}function En(){return(En=(0,C.Z)(function*(q,S,k=!1){var le;const{auth:wt}=q,zt="reauthenticate";try{const Vn=yield nn(q,Jc(wt,zt,S,q),k);L(Vn.idToken,wt,"internal-error");const Vr=ct(Vn.idToken);L(Vr,wt,"internal-error");const{sub:Ei}=Vr;return L(q.uid===Ei,wt,"user-mismatch"),vo._forOperation(q,zt,Vn)}catch(Vn){throw"auth/user-not-found"===(null===(le=Vn)||void 0===le?void 0:le.code)&&Se(wt,"user-mismatch"),Vn}})).apply(this,arguments)}function yr(q,S){return Fr.apply(this,arguments)}function Fr(){return(Fr=(0,C.Z)(function*(q,S,k=!1){const wt=yield Jc(q,"signIn",S),zt=yield vo._fromIdTokenResponse(q,"signIn",wt);return k||(yield q._updateCurrentUser(zt.user)),zt})).apply(this,arguments)}function Pi(q,S){return js.apply(this,arguments)}function js(){return(js=(0,C.Z)(function*(q,S){return yr(Hr(q),S)})).apply(this,arguments)}function Ms(q,S){return Lt.apply(this,arguments)}function Lt(){return(Lt=(0,C.Z)(function*(q,S){const k=(0,h.m9)(q);return yield Et(!1,k,S.providerId),Ns(k,S)})).apply(this,arguments)}function Ut(q,S){return _n.apply(this,arguments)}function _n(){return(_n=(0,C.Z)(function*(q,S){return Mt((0,h.m9)(q),S)})).apply(this,arguments)}function Xn(q,S){return Tr.apply(this,arguments)}function Tr(){return(Tr=(0,C.Z)(function*(q,S){return be(q,"POST","/v1/accounts:signInWithCustomToken",Oe(q,S))})).apply(this,arguments)}function ri(q,S){return yi.apply(this,arguments)}function yi(){return(yi=(0,C.Z)(function*(q,S){const k=Hr(q),le=yield Xn(k,{token:S,returnSecureToken:!0}),wt=yield vo._fromIdTokenResponse(k,"signIn",le);return yield k._updateCurrentUser(wt.user),wt})).apply(this,arguments)}class ii{constructor(S,k){this.factorId=S,this.uid=k.mfaEnrollmentId,this.enrollmentTime=new Date(k.enrolledAt).toUTCString(),this.displayName=k.displayName}static _fromServerResponse(S,k){return"phoneInfo"in k?Vs._fromServerResponse(S,k):Se(S,"internal-error")}}class Vs extends ii{constructor(S){super("phone",S),this.phoneNumber=S.phoneInfo}static _fromServerResponse(S,k){return new Vs(k)}}function ko(q,S,k){var le;L((null===(le=k.url)||void 0===le?void 0:le.length)>0,q,"invalid-continue-uri"),L(void 0===k.dynamicLinkDomain||k.dynamicLinkDomain.length>0,q,"invalid-dynamic-link-domain"),S.continueUrl=k.url,S.dynamicLinkDomain=k.dynamicLinkDomain,S.canHandleCodeInApp=k.handleCodeInApp,k.iOS&&(L(k.iOS.bundleId.length>0,q,"missing-ios-bundle-id"),S.iOSBundleId=k.iOS.bundleId),k.android&&(L(k.android.packageName.length>0,q,"missing-android-pkg-name"),S.androidInstallApp=k.android.installApp,S.androidMinimumVersionCode=k.android.minimumVersion,S.androidPackageName=k.android.packageName)}function io(q,S,k){return $i.apply(this,arguments)}function $i(){return($i=(0,C.Z)(function*(q,S,k){const le=(0,h.m9)(q),wt={requestType:"PASSWORD_RESET",email:S};k&&ko(le,wt,k),yield Or(le,wt)})).apply(this,arguments)}function Ze(q,S,k){return Me.apply(this,arguments)}function Me(){return(Me=(0,C.Z)(function*(q,S,k){yield Ls((0,h.m9)(q),{oobCode:S,newPassword:k})})).apply(this,arguments)}function _e(q,S){return V.apply(this,arguments)}function V(){return(V=(0,C.Z)(function*(q,S){yield Ha((0,h.m9)(q),{oobCode:S})})).apply(this,arguments)}function K(q,S){return gt.apply(this,arguments)}function gt(){return(gt=(0,C.Z)(function*(q,S){const k=(0,h.m9)(q),le=yield Ls(k,{oobCode:S}),wt=le.requestType;switch(L(wt,k,"internal-error"),wt){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":L(le.newEmail,k,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":L(le.mfaInfo,k,"internal-error");default:L(le.email,k,"internal-error")}let zt=null;return le.mfaInfo&&(zt=ii._fromServerResponse(Hr(k),le.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===le.requestType?le.newEmail:le.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===le.requestType?le.email:le.newEmail)||null,multiFactorInfo:zt},operation:wt}})).apply(this,arguments)}function Qt(q,S){return xn.apply(this,arguments)}function xn(){return(xn=(0,C.Z)(function*(q,S){const{data:k}=yield K((0,h.m9)(q),S);return k.email})).apply(this,arguments)}function er(q,S,k){return Lr.apply(this,arguments)}function Lr(){return(Lr=(0,C.Z)(function*(q,S,k){const le=Hr(q),wt=yield Bc(le,{returnSecureToken:!0,email:S,password:k}),zt=yield vo._fromIdTokenResponse(le,"signIn",wt);return yield le._updateCurrentUser(zt.user),zt})).apply(this,arguments)}function pi(q,S,k){return Pi((0,h.m9)(q),cc.credential(S,k))}function fi(q,S,k){return es.apply(this,arguments)}function es(){return(es=(0,C.Z)(function*(q,S,k){const le=(0,h.m9)(q),wt={requestType:"EMAIL_SIGNIN",email:S};L(k.handleCodeInApp,le,"argument-error"),k&&ko(le,wt,k),yield ni(le,wt)})).apply(this,arguments)}function Ds(q,S){const k=Wa.parseLink(S);return"EMAIL_SIGNIN"===(null==k?void 0:k.operation)}function Ko(q,S,k){return so.apply(this,arguments)}function so(){return(so=(0,C.Z)(function*(q,S,k){const le=(0,h.m9)(q),wt=cc.credentialWithLink(S,k||R());return L(wt._tenantId===(le.tenantId||null),le,"tenant-id-mismatch"),Pi(le,wt)})).apply(this,arguments)}function Ho(q,S){return qs.apply(this,arguments)}function qs(){return(qs=(0,C.Z)(function*(q,S){return $e(q,"POST","/v1/accounts:createAuthUri",Oe(q,S))})).apply(this,arguments)}function No(q,S){return Es.apply(this,arguments)}function Es(){return(Es=(0,C.Z)(function*(q,S){const le={identifier:S,continueUri:z()?R():"http://localhost"},{signinMethods:wt}=yield Ho((0,h.m9)(q),le);return wt||[]})).apply(this,arguments)}function ua(q,S){return Xo.apply(this,arguments)}function Xo(){return(Xo=(0,C.Z)(function*(q,S){const k=(0,h.m9)(q),wt={requestType:"VERIFY_EMAIL",idToken:yield q.getIdToken()};S&&ko(k.auth,wt,S);const{email:zt}=yield Tn(k.auth,wt);zt!==q.email&&(yield q.reload())})).apply(this,arguments)}function ha(q,S,k){return Ro.apply(this,arguments)}function Ro(){return(Ro=(0,C.Z)(function*(q,S,k){const le=(0,h.m9)(q),zt={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield q.getIdToken(),newEmail:S};k&&ko(le.auth,zt,k);const{email:Vn}=yield Us(le.auth,zt);Vn!==q.email&&(yield q.reload())})).apply(this,arguments)}function wu(q,S){return Jo.apply(this,arguments)}function Jo(){return(Jo=(0,C.Z)(function*(q,S){return $e(q,"POST","/v1/accounts:update",S)})).apply(this,arguments)}function bu(q,S){return Gl.apply(this,arguments)}function Gl(){return(Gl=(0,C.Z)(function*(q,{displayName:S,photoURL:k}){if(void 0===S&&void 0===k)return;const le=(0,h.m9)(q),zt={idToken:yield le.getIdToken(),displayName:S,photoUrl:k,returnSecureToken:!0},Vn=yield nn(le,wu(le.auth,zt));le.displayName=Vn.displayName||null,le.photoURL=Vn.photoUrl||null;const Vr=le.providerData.find(({providerId:Ei})=>"password"===Ei);Vr&&(Vr.displayName=le.displayName,Vr.photoURL=le.photoURL),yield le._updateTokensIfNecessary(Vn)})).apply(this,arguments)}function Wu(q,S){return qu((0,h.m9)(q),S,null)}function pd(q,S){return qu((0,h.m9)(q),null,S)}function qu(q,S,k){return lu.apply(this,arguments)}function lu(){return(lu=(0,C.Z)(function*(q,S,k){const{auth:le}=q,zt={idToken:yield q.getIdToken(),returnSecureToken:!0};S&&(zt.email=S),k&&(zt.password=k);const Vn=yield nn(q,Ri(le,zt));yield q._updateTokensIfNecessary(Vn,!0)})).apply(this,arguments)}class Ts{constructor(S,k,le={}){this.isNewUser=S,this.providerId=k,this.profile=le}}class ef extends Ts{constructor(S,k,le,wt){super(S,k,le),this.username=wt}}class Qo extends Ts{constructor(S,k){super(S,"facebook.com",k)}}class Lh extends ef{constructor(S,k){super(S,"github.com",k,"string"==typeof(null==k?void 0:k.login)?null==k?void 0:k.login:null)}}class ml extends Ts{constructor(S,k){super(S,"google.com",k)}}class gd extends ef{constructor(S,k,le){super(S,"twitter.com",k,le)}}function Zl(q){const{user:S,_tokenResponse:k}=q;return S.isAnonymous&&!k?{providerId:null,isNewUser:!1,profile:null}:function Gu(q){var S,k;if(!q)return null;const{providerId:le}=q,wt=q.rawUserInfo?JSON.parse(q.rawUserInfo):{},zt=q.isNewUser||"identitytoolkit#SignupNewUserResponse"===q.kind;if(!le&&(null==q?void 0:q.idToken)){const Vn=null===(k=null===(S=ct(q.idToken))||void 0===S?void 0:S.firebase)||void 0===k?void 0:k.sign_in_provider;if(Vn)return new Ts(zt,"anonymous"!==Vn&&"custom"!==Vn?Vn:null)}if(!le)return null;switch(le){case"facebook.com":return new Qo(zt,wt);case"github.com":return new Lh(zt,wt);case"google.com":return new ml(zt,wt);case"twitter.com":return new gd(zt,wt,q.screenName||null);case"custom":case"anonymous":return new Ts(zt,null);default:return new Ts(zt,le,wt)}}(k)}class So{constructor(S,k){this.type=S,this.credential=k}static _fromIdtoken(S){return new So("enroll",S)}static _fromMfaPendingCredential(S){return new So("signin",S)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(S){var k,le;if(null==S?void 0:S.multiFactorSession){if(null===(k=S.multiFactorSession)||void 0===k?void 0:k.pendingCredential)return So._fromMfaPendingCredential(S.multiFactorSession.pendingCredential);if(null===(le=S.multiFactorSession)||void 0===le?void 0:le.idToken)return So._fromIdtoken(S.multiFactorSession.idToken)}return null}}class md{constructor(S,k,le){this.session=S,this.hints=k,this.signInResolver=le}static _fromError(S,k){const le=Hr(S),wt=k.customData._serverResponse,zt=(wt.mfaInfo||[]).map(Vr=>ii._fromServerResponse(le,Vr));L(wt.mfaPendingCredential,le,"internal-error");const Vn=So._fromMfaPendingCredential(wt.mfaPendingCredential);return new md(Vn,zt,function(){var Vr=(0,C.Z)(function*(Ei){const Yi=yield Ei._process(le,Vn);delete wt.mfaInfo,delete wt.mfaPendingCredential;const Os=Object.assign(Object.assign({},wt),{idToken:Yi.idToken,refreshToken:Yi.refreshToken});switch(k.operationType){case"signIn":const Lo=yield vo._fromIdTokenResponse(le,k.operationType,Os);return yield le._updateCurrentUser(Lo.user),Lo;case"reauthenticate":return L(k.user,le,"internal-error"),vo._forOperation(k.user,k.operationType,Os);default:Se(le,"internal-error")}});return function(Ei){return Vr.apply(this,arguments)}}())}resolveSignIn(S){var k=this;return(0,C.Z)(function*(){return k.signInResolver(S)})()}}function ol(q,S){var k;const le=(0,h.m9)(q),wt=S;return L(S.customData.operationType,le,"argument-error"),L(null===(k=wt.customData._serverResponse)||void 0===k?void 0:k.mfaPendingCredential,le,"argument-error"),md._fromError(le,wt)}function ka(q,S){return $e(q,"POST","/v2/accounts/mfaEnrollment:start",Oe(q,S))}class Ac{constructor(S){this.user=S,this.enrolledFactors=[],S._onReload(k=>{k.mfaInfo&&(this.enrolledFactors=k.mfaInfo.map(le=>ii._fromServerResponse(S.auth,le)))})}static _fromUser(S){return new Ac(S)}getSession(){var S=this;return(0,C.Z)(function*(){return So._fromIdtoken(yield S.user.getIdToken())})()}enroll(S,k){var le=this;return(0,C.Z)(function*(){const wt=S,zt=yield le.getSession(),Vn=yield nn(le.user,wt._process(le.user.auth,zt,k));return yield le.user._updateTokensIfNecessary(Vn),le.user.reload()})()}unenroll(S){var k=this;return(0,C.Z)(function*(){var le;const wt="string"==typeof S?S:S.uid,zt=yield k.user.getIdToken(),Vn=yield nn(k.user,function hc(q,S){return $e(q,"POST","/v2/accounts/mfaEnrollment:withdraw",Oe(q,S))}(k.user.auth,{idToken:zt,mfaEnrollmentId:wt}));k.enrolledFactors=k.enrolledFactors.filter(({uid:Vr})=>Vr!==wt),yield k.user._updateTokensIfNecessary(Vn);try{yield k.user.reload()}catch(Vr){if("auth/user-token-expired"!==(null===(le=Vr)||void 0===le?void 0:le.code))throw Vr}})()}}const Ic=new WeakMap;function da(q){const S=(0,h.m9)(q);return Ic.has(S)||Ic.set(S,Ac._fromUser(S)),Ic.get(S)}const Zu="__sak";class Dc{constructor(S,k){this.storageRetriever=S,this.type=k}_isAvailable(){try{return this.storage?(this.storage.setItem(Zu,"1"),this.storage.removeItem(Zu),Promise.resolve(!0)):Promise.resolve(!1)}catch(S){return Promise.resolve(!1)}}_set(S,k){return this.storage.setItem(S,JSON.stringify(k)),Promise.resolve()}_get(S){const k=this.storage.getItem(S);return Promise.resolve(k?JSON.parse(k):null)}_remove(S){return this.storage.removeItem(S),Promise.resolve()}get storage(){return this.storageRetriever()}}const Bh=(()=>{class q extends Dc{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(k,le)=>this.onStorageEvent(k,le),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function cu(){const q=(0,h.z$)();return Rt(q)||Wi(q)}()&&function xs(){try{return!(!window||window===window.top)}catch(q){return!1}}(),this.fallbackToPolling=gs(),this._shouldAllowMigration=!0}forAllChangedKeys(k){for(const le of Object.keys(this.listeners)){const wt=this.storage.getItem(le),zt=this.localCache[le];wt!==zt&&k(le,zt,wt)}}onStorageEvent(k,le=!1){if(!k.key)return void this.forAllChangedKeys((Vr,Ei,Yi)=>{this.notifyListeners(Vr,Yi)});const wt=k.key;if(le?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const Vr=this.storage.getItem(wt);if(k.newValue!==Vr)null!==k.newValue?this.storage.setItem(wt,k.newValue):this.storage.removeItem(wt);else if(this.localCache[wt]===k.newValue&&!le)return}const zt=()=>{const Vr=this.storage.getItem(wt);!le&&this.localCache[wt]===Vr||this.notifyListeners(wt,Vr)},Vn=this.storage.getItem(wt);!function Ji(){return(0,h.w1)()&&10===document.documentMode}()||Vn===k.newValue||k.newValue===k.oldValue?zt():setTimeout(zt,10)}notifyListeners(k,le){this.localCache[k]=le;const wt=this.listeners[k];if(wt)for(const zt of Array.from(wt))zt(le&&JSON.parse(le))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((k,le,wt)=>{this.onStorageEvent(new StorageEvent("storage",{key:k,oldValue:le,newValue:wt}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(k,le){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[k]||(this.listeners[k]=new Set,this.localCache[k]=this.storage.getItem(k)),this.listeners[k].add(le)}_removeListener(k,le){this.listeners[k]&&(this.listeners[k].delete(le),0===this.listeners[k].size&&delete this.listeners[k]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(k,le){var wt=()=>super._set,zt=this;return(0,C.Z)(function*(){yield wt().call(zt,k,le),zt.localCache[k]=JSON.stringify(le)})()}_get(k){var le=()=>super._get,wt=this;return(0,C.Z)(function*(){const zt=yield le().call(wt,k);return wt.localCache[k]=JSON.stringify(zt),zt})()}_remove(k){var le=()=>super._remove,wt=this;return(0,C.Z)(function*(){yield le().call(wt,k),delete wt.localCache[k]})()}}return q.type="LOCAL",q})(),bi=(()=>{class q extends Dc{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(k,le){}_removeListener(k,le){}}return q.type="SESSION",q})();let jh=(()=>{class q{constructor(k){this.eventTarget=k,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(k){const le=this.receivers.find(zt=>zt.isListeningto(k));if(le)return le;const wt=new q(k);return this.receivers.push(wt),wt}isListeningto(k){return this.eventTarget===k}handleEvent(k){var le=this;return(0,C.Z)(function*(){const wt=k,{eventId:zt,eventType:Vn,data:Vr}=wt.data,Ei=le.handlersMap[Vn];if(!(null==Ei?void 0:Ei.size))return;wt.ports[0].postMessage({status:"ack",eventId:zt,eventType:Vn});const Yi=Array.from(Ei).map(function(){var Lo=(0,C.Z)(function*(mc){return mc(wt.origin,Vr)});return function(mc){return Lo.apply(this,arguments)}}()),Os=yield function os(q){return Promise.all(q.map(function(){var S=(0,C.Z)(function*(k){try{return{fulfilled:!0,value:yield k}}catch(le){return{fulfilled:!1,reason:le}}});return function(k){return S.apply(this,arguments)}}()))}(Yi);wt.ports[0].postMessage({status:"done",eventId:zt,eventType:Vn,response:Os})})()}_subscribe(k,le){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[k]||(this.handlersMap[k]=new Set),this.handlersMap[k].add(le)}_unsubscribe(k,le){this.handlersMap[k]&&le&&this.handlersMap[k].delete(le),(!le||0===this.handlersMap[k].size)&&delete this.handlersMap[k],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return q.receivers=[],q})();function ui(q="",S=10){let k="";for(let le=0;le<S;le++)k+=Math.floor(10*Math.random());return q+k}class wr{constructor(S){this.target=S,this.handlers=new Set}removeMessageHandler(S){S.messageChannel&&(S.messageChannel.port1.removeEventListener("message",S.onMessage),S.messageChannel.port1.close()),this.handlers.delete(S)}_send(S,k,le=50){var wt=this;return(0,C.Z)(function*(){const zt="undefined"!=typeof MessageChannel?new MessageChannel:null;if(!zt)throw new Error("connection_unavailable");let Vn,Vr;return new Promise((Ei,Yi)=>{const Os=ui("",20);zt.port1.start();const Lo=setTimeout(()=>{Yi(new Error("unsupported_event"))},le);Vr={messageChannel:zt,onMessage(mc){const Ll=mc;if(Ll.data.eventId===Os)switch(Ll.data.status){case"ack":clearTimeout(Lo),Vn=setTimeout(()=>{Yi(new Error("timeout"))},3e3);break;case"done":clearTimeout(Vn),Ei(Ll.data.response);break;default:clearTimeout(Lo),clearTimeout(Vn),Yi(new Error("invalid_response"))}}},wt.handlers.add(Vr),zt.port1.addEventListener("message",Vr.onMessage),wt.target.postMessage({eventType:S,eventId:Os,data:k},[zt.port2])}).finally(()=>{Vr&&wt.removeMessageHandler(Vr)})})()}}function Nr(){return window}function Eu(){return void 0!==Nr().WorkerGlobalScope&&"function"==typeof Nr().importScripts}function yd(){return(yd=(0,C.Z)(function*(){if(!(null==navigator?void 0:navigator.serviceWorker))return null;try{return(yield navigator.serviceWorker.ready).active}catch(q){return null}})).apply(this,arguments)}const $u="firebaseLocalStorageDb",Bf="firebaseLocalStorage",_d="fbase_key";class kc{constructor(S){this.request=S}toPromise(){return new Promise((S,k)=>{this.request.addEventListener("success",()=>{S(this.request.result)}),this.request.addEventListener("error",()=>{k(this.request.error)})})}}function Vh(q,S){return q.transaction([Bf],S?"readwrite":"readonly").objectStore(Bf)}function Y(){const q=indexedDB.open($u,1);return new Promise((S,k)=>{q.addEventListener("error",()=>{k(q.error)}),q.addEventListener("upgradeneeded",()=>{const le=q.result;try{le.createObjectStore(Bf,{keyPath:_d})}catch(wt){k(wt)}}),q.addEventListener("success",(0,C.Z)(function*(){const le=q.result;le.objectStoreNames.contains(Bf)?S(le):(le.close(),yield function ie(){const q=indexedDB.deleteDatabase($u);return new kc(q).toPromise()}(),S(yield Y()))}))})}function H(q,S,k){return Ae.apply(this,arguments)}function Ae(){return(Ae=(0,C.Z)(function*(q,S,k){const le=Vh(q,!0).put({[_d]:S,value:k});return new kc(le).toPromise()})).apply(this,arguments)}function kt(){return(kt=(0,C.Z)(function*(q,S){const k=Vh(q,!1).get(S),le=yield new kc(k).toPromise();return void 0===le?null:le.value})).apply(this,arguments)}function Zt(q,S){const k=Vh(q,!0).delete(S);return new kc(k).toPromise()}const hs=(()=>{class q{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var k=this;return(0,C.Z)(function*(){return k.db||(k.db=yield Y()),k.db})()}_withRetries(k){var le=this;return(0,C.Z)(function*(){let wt=0;for(;;)try{const zt=yield le._openDb();return yield k(zt)}catch(zt){if(wt++>3)throw zt;le.db&&(le.db.close(),le.db=void 0)}})()}initializeServiceWorkerMessaging(){var k=this;return(0,C.Z)(function*(){return Eu()?k.initializeReceiver():k.initializeSender()})()}initializeReceiver(){var k=this;return(0,C.Z)(function*(){k.receiver=jh._getInstance(function C0(){return Eu()?self:null}()),k.receiver._subscribe("keyChanged",function(){var le=(0,C.Z)(function*(wt,zt){return{keyProcessed:(yield k._poll()).includes(zt.key)}});return function(wt,zt){return le.apply(this,arguments)}}()),k.receiver._subscribe("ping",function(){var le=(0,C.Z)(function*(wt,zt){return["keyChanged"]});return function(wt,zt){return le.apply(this,arguments)}}())})()}initializeSender(){var k=this;return(0,C.Z)(function*(){var le,wt;if(k.activeServiceWorker=yield function vd(){return yd.apply(this,arguments)}(),!k.activeServiceWorker)return;k.sender=new wr(k.activeServiceWorker);const zt=yield k.sender._send("ping",{},800);!zt||(null===(le=zt[0])||void 0===le?void 0:le.fulfilled)&&(null===(wt=zt[0])||void 0===wt?void 0:wt.value.includes("keyChanged"))&&(k.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(k){var le=this;return(0,C.Z)(function*(){if(le.sender&&le.activeServiceWorker&&function tv(){var q;return(null===(q=null==navigator?void 0:navigator.serviceWorker)||void 0===q?void 0:q.controller)||null}()===le.activeServiceWorker)try{yield le.sender._send("keyChanged",{key:k},le.serviceWorkerReceiverAvailable?800:50)}catch(wt){}})()}_isAvailable(){return(0,C.Z)(function*(){try{if(!indexedDB)return!1;const k=yield Y();return yield H(k,Zu,"1"),yield Zt(k,Zu),!0}catch(k){}return!1})()}_withPendingWrite(k){var le=this;return(0,C.Z)(function*(){le.pendingWrites++;try{yield k()}finally{le.pendingWrites--}})()}_set(k,le){var wt=this;return(0,C.Z)(function*(){return wt._withPendingWrite((0,C.Z)(function*(){return yield wt._withRetries(zt=>H(zt,k,le)),wt.localCache[k]=le,wt.notifyServiceWorker(k)}))})()}_get(k){var le=this;return(0,C.Z)(function*(){const wt=yield le._withRetries(zt=>function Ge(q,S){return kt.apply(this,arguments)}(zt,k));return le.localCache[k]=wt,wt})()}_remove(k){var le=this;return(0,C.Z)(function*(){return le._withPendingWrite((0,C.Z)(function*(){return yield le._withRetries(wt=>Zt(wt,k)),delete le.localCache[k],le.notifyServiceWorker(k)}))})()}_poll(){var k=this;return(0,C.Z)(function*(){const le=yield k._withRetries(Vn=>{const Vr=Vh(Vn,!1).getAll();return new kc(Vr).toPromise()});if(!le)return[];if(0!==k.pendingWrites)return[];const wt=[],zt=new Set;for(const{fbase_key:Vn,value:Vr}of le)zt.add(Vn),JSON.stringify(k.localCache[Vn])!==JSON.stringify(Vr)&&(k.notifyListeners(Vn,Vr),wt.push(Vn));for(const Vn of Object.keys(k.localCache))k.localCache[Vn]&&!zt.has(Vn)&&(k.notifyListeners(Vn,null),wt.push(Vn));return wt})()}notifyListeners(k,le){this.localCache[k]=le;const wt=this.listeners[k];if(wt)for(const zt of Array.from(wt))zt(le)}startPolling(){var k=this;this.stopPolling(),this.pollTimer=setInterval((0,C.Z)(function*(){return k._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(k,le){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[k]||(this.listeners[k]=new Set,this._get(k)),this.listeners[k].add(le)}_removeListener(k,le){this.listeners[k]&&(this.listeners[k].delete(le),0===this.listeners[k].size&&delete this.listeners[k]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return q.type="LOCAL",q})();function Vi(q,S){return $e(q,"POST","/v2/accounts/mfaSignIn:start",Oe(q,S))}function fo(){return(fo=(0,C.Z)(function*(q){return(yield $e(q,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function Hh(q){return new Promise((S,k)=>{const le=document.createElement("script");le.setAttribute("src",q),le.onload=S,le.onerror=wt=>{const zt=oe("internal-error");zt.customData=wt,k(zt)},le.type="text/javascript",le.charset="UTF-8",function Yu(){var q,S;return null!==(S=null===(q=document.getElementsByTagName("head"))||void 0===q?void 0:q[0])&&void 0!==S?S:document}().appendChild(le)})}function yl(q){return`__${q}${Math.floor(1e6*Math.random())}`}const vh=1e12;class yh{constructor(S){this.auth=S,this.counter=vh,this._widgets=new Map}render(S,k){const le=this.counter;return this._widgets.set(le,new _h(S,this.auth.name,k||{})),this.counter++,le}reset(S){var k;const le=S||vh;null===(k=this._widgets.get(le))||void 0===k||k.delete(),this._widgets.delete(le)}getResponse(S){var k;return(null===(k=this._widgets.get(S||vh))||void 0===k?void 0:k.getResponse())||""}execute(S){var k=this;return(0,C.Z)(function*(){var le;return null===(le=k._widgets.get(S||vh))||void 0===le||le.execute(),""})()}}class _h{constructor(S,k,le){this.params=le,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const wt="string"==typeof S?document.getElementById(S):S;L(wt,"argument-error",{appName:k}),this.container=wt,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function or(q){const S=[],k="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let le=0;le<q;le++)S.push(k.charAt(Math.floor(Math.random()*k.length)));return S.join("")}(50);const{callback:S,"expired-callback":k}=this.params;if(S)try{S(this.responseToken)}catch(le){}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,k)try{k()}catch(le){}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const zh=yl("rcb"),Tu=new We(3e4,6e4);class fc{constructor(){this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!!Nr().grecaptcha}load(S,k=""){return L(function Pc(q){return q.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(q)}(k),S,"argument-error"),this.shouldResolveImmediately(k)?Promise.resolve(Nr().grecaptcha):new Promise((le,wt)=>{const zt=Nr().setTimeout(()=>{wt(oe(S,"network-request-failed"))},Tu.get());Nr()[zh]=()=>{Nr().clearTimeout(zt),delete Nr()[zh];const Vr=Nr().grecaptcha;if(!Vr)return void wt(oe(S,"internal-error"));const Ei=Vr.render;Vr.render=(Yi,Os)=>{const Lo=Ei(Yi,Os);return this.counter++,Lo},this.hostLanguage=k,le(Vr)},Hh(`https://www.google.com/recaptcha/api.js??${(0,h.xO)({onload:zh,render:"explicit",hl:k})}`).catch(()=>{clearTimeout(zt),wt(oe(S,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(S){return!!Nr().grecaptcha&&(S===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class S0{load(S){return(0,C.Z)(function*(){return new yh(S)})()}clearedOneInstance(){}}const Cu="recaptcha",hy={theme:"light",type:"image"};class nv{constructor(S,k=Object.assign({},hy),le){this.parameters=k,this.type=Cu,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=Hr(le),this.isInvisible="invisible"===this.parameters.size,L("undefined"!=typeof document,this.auth,"operation-not-supported-in-this-environment");const wt="string"==typeof S?document.getElementById(S):S;L(wt,this.auth,"argument-error"),this.container=wt,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new S0:new fc,this.validateStartingState()}verify(){var S=this;return(0,C.Z)(function*(){S.assertNotDestroyed();const k=yield S.render(),le=S.getAssertedRecaptcha();return le.getResponse(k)||new Promise(zt=>{const Vn=Vr=>{!Vr||(S.tokenChangeListeners.delete(Vn),zt(Vr))};S.tokenChangeListeners.add(Vn),S.isInvisible&&le.execute(k)})})()}render(){try{this.assertNotDestroyed()}catch(S){return Promise.reject(S)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(S=>{throw this.renderPromise=null,S})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(S=>{this.container.removeChild(S)})}validateStartingState(){L(!this.parameters.sitekey,this.auth,"argument-error"),L(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),L("undefined"!=typeof document,this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(S){return k=>{if(this.tokenChangeListeners.forEach(le=>le(k)),"function"==typeof S)S(k);else if("string"==typeof S){const le=Nr()[S];"function"==typeof le&&le(k)}}}assertNotDestroyed(){L(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var S=this;return(0,C.Z)(function*(){if(yield S.init(),!S.widgetId){let k=S.container;if(!S.isInvisible){const le=document.createElement("div");k.appendChild(le),k=le}S.widgetId=S.getAssertedRecaptcha().render(k,S.parameters)}return S.widgetId})()}init(){var S=this;return(0,C.Z)(function*(){L(z()&&!Eu(),S.auth,"internal-error"),yield function dy(){let q=null;return new Promise(S=>{"complete"!==document.readyState?(q=()=>S(),window.addEventListener("load",q)):S()}).catch(S=>{throw q&&window.removeEventListener("load",q),S})}(),S.recaptcha=yield S._recaptchaLoader.load(S.auth,S.auth.languageCode||void 0);const k=yield function oo(q){return fo.apply(this,arguments)}(S.auth);L(k,S.auth,"internal-error"),S.parameters.sitekey=k})()}getAssertedRecaptcha(){return L(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class rf{constructor(S,k){this.verificationId=S,this.onConfirmation=k}confirm(S){const k=rl._fromVerification(this.verificationId,S);return this.onConfirmation(k)}}function uu(q,S,k){return Ga.apply(this,arguments)}function Ga(){return(Ga=(0,C.Z)(function*(q,S,k){const le=Hr(q),wt=yield co(le,S,(0,h.m9)(k));return new rf(wt,zt=>Pi(le,zt))})).apply(this,arguments)}function qi(q,S,k){return jc.apply(this,arguments)}function jc(){return(jc=(0,C.Z)(function*(q,S,k){const le=(0,h.m9)(q);yield Et(!1,le,"phone");const wt=yield co(le.auth,S,(0,h.m9)(k));return new rf(wt,zt=>Ms(le,zt))})).apply(this,arguments)}function _l(q,S,k){return jf.apply(this,arguments)}function jf(){return(jf=(0,C.Z)(function*(q,S,k){const le=(0,h.m9)(q),wt=yield co(le.auth,S,(0,h.m9)(k));return new rf(wt,zt=>Ut(le,zt))})).apply(this,arguments)}function co(q,S,k){return Gs.apply(this,arguments)}function Gs(){return(Gs=(0,C.Z)(function*(q,S,k){var le;const wt=yield k.verify();try{let zt;if(L("string"==typeof wt,q,"argument-error"),L(k.type===Cu,q,"argument-error"),zt="string"==typeof S?{phoneNumber:S}:S,"session"in zt){const Vn=zt.session;if("phoneNumber"in zt)return L("enroll"===Vn.type,q,"internal-error"),(yield ka(q,{idToken:Vn.credential,phoneEnrollmentInfo:{phoneNumber:zt.phoneNumber,recaptchaToken:wt}})).phoneSessionInfo.sessionInfo;{L("signin"===Vn.type,q,"internal-error");const Vr=(null===(le=zt.multiFactorHint)||void 0===le?void 0:le.uid)||zt.multiFactorUid;return L(Vr,q,"missing-multi-factor-info"),(yield Vi(q,{mfaPendingCredential:Vn.credential,mfaEnrollmentId:Vr,phoneSignInInfo:{recaptchaToken:wt}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:Vn}=yield Ks(q,{phoneNumber:zt.phoneNumber,recaptchaToken:wt});return Vn}}finally{k._reset()}})).apply(this,arguments)}function _a(q,S){return Su.apply(this,arguments)}function Su(){return(Su=(0,C.Z)(function*(q,S){yield Ns((0,h.m9)(q),S)})).apply(this,arguments)}let xl=(()=>{class q{constructor(k){this.providerId=q.PROVIDER_ID,this.auth=Hr(k)}verifyPhoneNumber(k,le){return co(this.auth,k,(0,h.m9)(le))}static credential(k,le){return rl._fromVerification(k,le)}static credentialFromResult(k){return q.credentialFromTaggedObject(k)}static credentialFromError(k){return q.credentialFromTaggedObject(k.customData||{})}static credentialFromTaggedObject({_tokenResponse:k}){if(!k)return null;const{phoneNumber:le,temporaryProof:wt}=k;return le&&wt?rl._fromTokenResponse(le,wt):null}}return q.PROVIDER_ID="phone",q.PHONE_SIGN_IN_METHOD="phone",q})();function Ku(q,S){return S?G(S):(L(q._popupRedirectResolver,q,"argument-error"),q._popupRedirectResolver)}class al extends Li{constructor(S){super("custom","custom"),this.params=S}_getIdTokenResponse(S){return Is(S,this._buildIdpRequest())}_linkToIdToken(S,k){return Is(S,this._buildIdpRequest(k))}_getReauthenticationResolver(S){return Is(S,this._buildIdpRequest())}_buildIdpRequest(S){const k={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return S&&(k.idToken=S),k}}function A0(q){return yr(q.auth,new al(q),q.bypassAuthState)}function xa(q){const{auth:S,user:k}=q;return L(k,S,"internal-error"),Mt(k,new al(q),q.bypassAuthState)}function Za(q){return xh.apply(this,arguments)}function xh(){return(xh=(0,C.Z)(function*(q){const{auth:S,user:k}=q;return L(k,S,"internal-error"),Ns(k,new al(q),q.bypassAuthState)})).apply(this,arguments)}class pc{constructor(S,k,le,wt,zt=!1){this.auth=S,this.resolver=le,this.user=wt,this.bypassAuthState=zt,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(k)?k:[k]}execute(){var S=this;return new Promise(function(){var k=(0,C.Z)(function*(le,wt){S.pendingPromise={resolve:le,reject:wt};try{S.eventManager=yield S.resolver._initialize(S.auth),yield S.onExecution(),S.eventManager.registerConsumer(S)}catch(zt){S.reject(zt)}});return function(le,wt){return k.apply(this,arguments)}}())}onAuthEvent(S){var k=this;return(0,C.Z)(function*(){const{urlResponse:le,sessionId:wt,postBody:zt,tenantId:Vn,error:Vr,type:Ei}=S;if(Vr)return void k.reject(Vr);const Yi={auth:k.auth,requestUri:le,sessionId:wt,tenantId:Vn||void 0,postBody:zt||void 0,user:k.user,bypassAuthState:k.bypassAuthState};try{k.resolve(yield k.getIdpTask(Ei)(Yi))}catch(Os){k.reject(Os)}})()}onError(S){this.reject(S)}getIdpTask(S){switch(S){case"signInViaPopup":case"signInViaRedirect":return A0;case"linkViaPopup":case"linkViaRedirect":return Za;case"reauthViaPopup":case"reauthViaRedirect":return xa;default:Se(this.auth,"internal-error")}}resolve(S){re(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(S),this.unregisterAndCleanUp()}reject(S){re(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(S),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const Vf=new We(2e3,1e4);function wh(q,S,k){return Fg.apply(this,arguments)}function Fg(){return(Fg=(0,C.Z)(function*(q,S,k){const le=Hr(q);pe(q,S,$o);const wt=Ku(le,k);return new ao(le,"signInViaPopup",S,wt).executeNotNull()})).apply(this,arguments)}function Xu(q,S,k){return sf.apply(this,arguments)}function sf(){return(sf=(0,C.Z)(function*(q,S,k){const le=(0,h.m9)(q);pe(le.auth,S,$o);const wt=Ku(le.auth,k);return new ao(le.auth,"reauthViaPopup",S,wt,le).executeNotNull()})).apply(this,arguments)}function zo(q,S,k){return bh.apply(this,arguments)}function bh(){return(bh=(0,C.Z)(function*(q,S,k){const le=(0,h.m9)(q);pe(le.auth,S,$o);const wt=Ku(le.auth,k);return new ao(le.auth,"linkViaPopup",S,wt,le).executeNotNull()})).apply(this,arguments)}let ao=(()=>{class q extends pc{constructor(k,le,wt,zt,Vn){super(k,le,zt,Vn),this.provider=wt,this.authWindow=null,this.pollId=null,q.currentPopupAction&&q.currentPopupAction.cancel(),q.currentPopupAction=this}executeNotNull(){var k=this;return(0,C.Z)(function*(){const le=yield k.execute();return L(le,k.auth,"internal-error"),le})()}onExecution(){var k=this;return(0,C.Z)(function*(){re(1===k.filter.length,"Popup operations only handle one event");const le=ui();k.authWindow=yield k.resolver._openPopup(k.auth,k.provider,k.filter[0],le),k.authWindow.associatedEvent=le,k.resolver._originValidation(k.auth).catch(wt=>{k.reject(wt)}),k.resolver._isIframeWebStorageSupported(k.auth,wt=>{wt||k.reject(oe(k.auth,"web-storage-unsupported"))}),k.pollUserCancellation()})()}get eventId(){var k;return(null===(k=this.authWindow)||void 0===k?void 0:k.associatedEvent)||null}cancel(){this.reject(oe(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,q.currentPopupAction=null}pollUserCancellation(){const k=()=>{var le,wt;this.pollId=(null===(wt=null===(le=this.authWindow)||void 0===le?void 0:le.window)||void 0===wt?void 0:wt.closed)?window.setTimeout(()=>{this.pollId=null,this.reject(oe(this.auth,"popup-closed-by-user"))},2e3):window.setTimeout(k,Vf.get())};k()}}return q.currentPopupAction=null,q})();const $a=new Map;class Au extends pc{constructor(S,k,le=!1){super(S,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],k,void 0,le),this.eventId=null}execute(){var S=()=>super.execute,k=this;return(0,C.Z)(function*(){let le=$a.get(k.auth._key());if(!le){try{const zt=(yield function hu(q,S){return Wh.apply(this,arguments)}(k.resolver,k.auth))?yield S().call(k):null;le=()=>Promise.resolve(zt)}catch(wt){le=()=>Promise.reject(wt)}$a.set(k.auth._key(),le)}return k.bypassAuthState||$a.set(k.auth._key(),()=>Promise.resolve(null)),le()})()}onAuthEvent(S){var k=()=>super.onAuthEvent,le=this;return(0,C.Z)(function*(){if("signInViaRedirect"===S.type)return k().call(le,S);if("unknown"!==S.type){if(S.eventId){const wt=yield le.auth._redirectUserForId(S.eventId);if(wt)return le.user=wt,k().call(le,S);le.resolve(null)}}else le.resolve(null)})()}onExecution(){return(0,C.Z)(function*(){})()}cleanUp(){}}function Wh(){return(Wh=(0,C.Z)(function*(q,S){const k=pa(S),le=zf(q);if(!(yield le._isAvailable()))return!1;const wt="true"===(yield le._get(k));return yield le._remove(k),wt})).apply(this,arguments)}function qh(q,S){return Ju.apply(this,arguments)}function Ju(){return(Ju=(0,C.Z)(function*(q,S){return zf(q)._set(pa(S),"true")})).apply(this,arguments)}function Hf(){$a.clear()}function Rl(q,S){$a.set(q._key(),S)}function zf(q){return G(q._redirectPersistence)}function pa(q){return Zr("pendingRedirect",q.config.apiKey,q.name)}function Vc(q,S,k){return function Rg(q,S,k){return Qu.apply(this,arguments)}(q,S,k)}function Qu(){return(Qu=(0,C.Z)(function*(q,S,k){const le=Hr(q);pe(q,S,$o);const wt=Ku(le,k);return yield qh(wt,le),wt._openRedirect(le,S,"signInViaRedirect")})).apply(this,arguments)}function ms(q,S,k){return function I0(q,S,k){return wl.apply(this,arguments)}(q,S,k)}function wl(){return(wl=(0,C.Z)(function*(q,S,k){const le=(0,h.m9)(q);pe(le.auth,S,$o);const wt=Ku(le.auth,k);yield qh(wt,le.auth);const zt=yield Gf(le);return wt._openRedirect(le.auth,S,"reauthViaRedirect",zt)})).apply(this,arguments)}function Wf(q,S,k){return function Ma(q,S,k){return qf.apply(this,arguments)}(q,S,k)}function qf(){return(qf=(0,C.Z)(function*(q,S,k){const le=(0,h.m9)(q);pe(le.auth,S,$o);const wt=Ku(le.auth,k);yield Et(!1,le,S.providerId),yield qh(wt,le.auth);const zt=yield Gf(le);return wt._openRedirect(le.auth,S,"linkViaRedirect",zt)})).apply(this,arguments)}function Ya(q,S){return D0.apply(this,arguments)}function D0(){return(D0=(0,C.Z)(function*(q,S){return yield Hr(q)._initializationPromise,Cs(q,S,!1)})).apply(this,arguments)}function Cs(q,S){return Lg.apply(this,arguments)}function Lg(){return(Lg=(0,C.Z)(function*(q,S,k=!1){const le=Hr(q),wt=Ku(le,S),Vn=yield new Au(le,wt,k).execute();return Vn&&!k&&(delete Vn.user._redirectEventId,yield le._persistUserIfCurrent(Vn.user),yield le._setRedirectUser(null,S)),Vn})).apply(this,arguments)}function Gf(q){return rs.apply(this,arguments)}function rs(){return(rs=(0,C.Z)(function*(q){const S=ui(`${q.uid}:::`);return q._redirectEventId=S,yield q.auth._setRedirectUser(q),yield q.auth._persistUserIfCurrent(q),S})).apply(this,arguments)}class Eh{constructor(S){this.auth=S,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(S){this.consumers.add(S),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,S)&&(this.sendToConsumer(this.queuedRedirectEvent,S),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(S){this.consumers.delete(S)}onEvent(S){if(this.hasEventBeenHandled(S))return!1;let k=!1;return this.consumers.forEach(le=>{this.isEventForConsumer(S,le)&&(k=!0,this.sendToConsumer(S,le),this.saveEventToCache(S))}),this.hasHandledPotentialRedirect||!function Zf(q){switch(q.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return po(q);default:return!1}}(S)||(this.hasHandledPotentialRedirect=!0,k||(this.queuedRedirectEvent=S,k=!0)),k}sendToConsumer(S,k){var le;if(S.error&&!po(S)){const wt=(null===(le=S.error.code)||void 0===le?void 0:le.split("auth/")[1])||"internal-error";k.onError(oe(this.auth,wt))}else k.onAuthEvent(S)}isEventForConsumer(S,k){const le=null===k.eventId||!!S.eventId&&S.eventId===k.eventId;return k.filter.includes(S.type)&&le}hasEventBeenHandled(S){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(af(S))}saveEventToCache(S){this.cachedEventUids.add(af(S)),this.lastProcessedEventTime=Date.now()}}function af(q){return[q.type,q.eventId,q.sessionId,q.tenantId].filter(S=>S).join("-")}function po({type:q,error:S}){return"unknown"===q&&"auth/no-auth-event"===(null==S?void 0:S.code)}function $f(q){return ds.apply(this,arguments)}function ds(){return(ds=(0,C.Z)(function*(q,S={}){return $e(q,"GET","/v1/projects",S)})).apply(this,arguments)}const rv=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,iv=/^https?/;function xd(){return(xd=(0,C.Z)(function*(q){if(q.config.emulator)return;const{authorizedDomains:S}=yield $f(q);for(const k of S)try{if(sv(k))return}catch(le){}Se(q,"unauthorized-domain")})).apply(this,arguments)}function sv(q){const S=R(),{protocol:k,hostname:le}=new URL(S);if(q.startsWith("chrome-extension://")){const Vn=new URL(q);return""===Vn.hostname&&""===le?"chrome-extension:"===k&&q.replace("chrome-extension://","")===S.replace("chrome-extension://",""):"chrome-extension:"===k&&Vn.hostname===le}if(!iv.test(k))return!1;if(rv.test(q))return le===q;const wt=q.replace(/\./g,"\\.");return new RegExp("^(.+\\."+wt+"|"+wt+")$","i").test(le)}const wx=new We(3e4,6e4);function ea(){const q=Nr().___jsl;if(null==q?void 0:q.H)for(const S of Object.keys(q.H))if(q.H[S].r=q.H[S].r||[],q.H[S].L=q.H[S].L||[],q.H[S].r=[...q.H[S].L],q.CP)for(let k=0;k<q.CP.length;k++)q.CP[k]=null}let th=null;function cf(q){return th=th||function Ug(q){return new Promise((S,k)=>{var le,wt,zt;function Vn(){ea(),gapi.load("gapi.iframes",{callback:()=>{S(gapi.iframes.getContext())},ontimeout:()=>{ea(),k(oe(q,"network-request-failed"))},timeout:wx.get()})}if(null===(wt=null===(le=Nr().gapi)||void 0===le?void 0:le.iframes)||void 0===wt?void 0:wt.Iframe)S(gapi.iframes.getContext());else{if(!(null===(zt=Nr().gapi)||void 0===zt?void 0:zt.load)){const Vr=yl("iframefcb");return Nr()[Vr]=()=>{gapi.load?Vn():k(oe(q,"network-request-failed"))},Hh(`https://apis.google.com/js/api.js?onload=${Vr}`).catch(Ei=>k(Ei))}Vn()}}).catch(S=>{throw th=null,S})}(q),th}const k0=new We(5e3,15e3),nh={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},wd=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Yf(q){const S=q.config;L(S.authDomain,q,"auth-domain-config-required");const k=S.emulator?Te(S,"emulator/auth/iframe"):`https://${q.config.authDomain}/__/auth/iframe`,le={apiKey:S.apiKey,appName:q.name,v:it.SDK_VERSION},wt=wd.get(q.config.apiHost);wt&&(le.eid=wt);const zt=q._getFrameworks();return zt.length&&(le.fw=zt.join(",")),`${k}?${(0,h.xO)(le).slice(1)}`}function P0(){return P0=(0,C.Z)(function*(q){const S=yield cf(q),k=Nr().gapi;return L(k,q,"internal-error"),S.open({where:document.body,url:Yf(q),messageHandlersFilter:k.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:nh,dontclear:!0},le=>new Promise(function(){var wt=(0,C.Z)(function*(zt,Vn){yield le.restyle({setHideOnLeave:!1});const Vr=oe(q,"network-request-failed"),Ei=Nr().setTimeout(()=>{Vn(Vr)},k0.get());function Yi(){Nr().clearTimeout(Ei),zt(le)}le.ping(Yi).then(Yi,()=>{Vn(Vr)})});return function(zt,Vn){return wt.apply(this,arguments)}}()))}),P0.apply(this,arguments)}const uf={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class Gh{constructor(S){this.window=S,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch(S){}}}function rh(q,S,k,le,wt,zt){L(q.config.authDomain,q,"auth-domain-config-required"),L(q.config.apiKey,q,"invalid-api-key");const Vn={apiKey:q.config.apiKey,appName:q.name,authType:k,redirectUrl:le,v:it.SDK_VERSION,eventId:wt};if(S instanceof $o){S.setDefaultLanguage(q.languageCode),Vn.providerId=S.providerId||"",(0,h.xb)(S.getCustomParameters())||(Vn.customParameters=JSON.stringify(S.getCustomParameters()));for(const[Ei,Yi]of Object.entries(zt||{}))Vn[Ei]=Yi}if(S instanceof la){const Ei=S.getScopes().filter(Yi=>""!==Yi);Ei.length>0&&(Vn.scopes=Ei.join(","))}q.tenantId&&(Vn.tid=q.tenantId);const Vr=Vn;for(const Ei of Object.keys(Vr))void 0===Vr[Ei]&&delete Vr[Ei];return`${function bl({config:q}){return q.emulator?Te(q,"emulator/auth/handler"):`https://${q.authDomain}/__/auth/handler`}(q)}?${(0,h.xO)(Vr).slice(1)}`}const bd="webStorageSupport",Bg=class av{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=bi,this._completeRedirectFn=Cs,this._overrideRedirectResult=Rl}_openPopup(S,k,le,wt){var zt=this;return(0,C.Z)(function*(){var Vn;re(null===(Vn=zt.eventManagers[S._key()])||void 0===Vn?void 0:Vn.manager,"_initialize() not called before _openPopup()");const Vr=rh(S,k,le,R(),wt);return function ov(q,S,k,le=500,wt=600){const zt=Math.max((window.screen.availHeight-wt)/2,0).toString(),Vn=Math.max((window.screen.availWidth-le)/2,0).toString();let Vr="";const Ei=Object.assign(Object.assign({},uf),{width:le.toString(),height:wt.toString(),top:zt,left:Vn}),Yi=(0,h.z$)().toLowerCase();k&&(Vr=hr(Yi)?"_blank":k),mn(Yi)&&(S=S||"http://localhost",Ei.scrollbars="yes");const Os=Object.entries(Ei).reduce((mc,[Ll,ih])=>`${mc}${Ll}=${ih},`,"");if(function Ws(q=(0,h.z$)()){var S;return Wi(q)&&!!(null===(S=window.navigator)||void 0===S?void 0:S.standalone)}(Yi)&&"_self"!==Vr)return function Dp(q,S){const k=document.createElement("a");k.href=q,k.target=S;const le=document.createEvent("MouseEvent");le.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),k.dispatchEvent(le)}(S||"",Vr),new Gh(null);const Lo=window.open(S||"",Vr,Os);L(Lo,q,"popup-blocked");try{Lo.focus()}catch(mc){}return new Gh(Lo)}(S,Vr,ui())})()}_openRedirect(S,k,le,wt){var zt=this;return(0,C.Z)(function*(){return yield zt._originValidation(S),function vl(q){Nr().location.href=q}(rh(S,k,le,R(),wt)),new Promise(()=>{})})()}_initialize(S){const k=S._key();if(this.eventManagers[k]){const{manager:wt,promise:zt}=this.eventManagers[k];return wt?Promise.resolve(wt):(re(zt,"If manager is not set, promise should be"),zt)}const le=this.initAndGetManager(S);return this.eventManagers[k]={promise:le},le.catch(()=>{delete this.eventManagers[k]}),le}initAndGetManager(S){var k=this;return(0,C.Z)(function*(){const le=yield function fy(q){return P0.apply(this,arguments)}(S),wt=new Eh(S);return le.register("authEvent",zt=>(L(null==zt?void 0:zt.authEvent,S,"invalid-auth-event"),{status:wt.onEvent(zt.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),k.eventManagers[S._key()]={manager:wt},k.iframes[S._key()]=le,wt})()}_isIframeWebStorageSupported(S,k){this.iframes[S._key()].send(bd,{type:bd},wt=>{var zt;const Vn=null===(zt=null==wt?void 0:wt[0])||void 0===zt?void 0:zt[bd];void 0!==Vn&&k(!!Vn),Se(S,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(S){const k=S._key();return this.originValidationPromises[k]||(this.originValidationPromises[k]=function lf(q){return xd.apply(this,arguments)}(S)),this.originValidationPromises[k]}get _shouldInitProactively(){return gs()||Rt()||Wi()}};class jg extends class N0{constructor(S){this.factorId=S}_process(S,k,le){switch(k.type){case"enroll":return this._finalizeEnroll(S,k.credential,le);case"signin":return this._finalizeSignIn(S,k.credential);default:return Q("unexpected MultiFactorSessionType")}}}{constructor(S){super("phone"),this.credential=S}static _fromCredential(S){return new jg(S)}_finalizeEnroll(S,k,le){return function Uh(q,S){return $e(q,"POST","/v2/accounts/mfaEnrollment:finalize",Oe(q,S))}(S,{idToken:k,displayName:le,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(S,k){return function Xs(q,S){return $e(q,"POST","/v2/accounts/mfaSignIn:finalize",Oe(q,S))}(S,{mfaPendingCredential:k,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let Vg=(()=>{class q{constructor(){}static assertion(k){return jg._fromCredential(k)}}return q.FACTOR_ID="phone",q})();var Hg="@firebase/auth";class Ed{constructor(S){this.auth=S,this.internalListeners=new Map}getUid(){var S;return this.assertAuthConfigured(),(null===(S=this.auth.currentUser)||void 0===S?void 0:S.uid)||null}getToken(S){var k=this;return(0,C.Z)(function*(){return k.assertAuthConfigured(),yield k.auth._initializationPromise,k.auth.currentUser?{accessToken:yield k.auth.currentUser.getIdToken(S)}:null})()}addAuthTokenListener(S){if(this.assertAuthConfigured(),this.internalListeners.has(S))return;const k=this.auth.onIdTokenChanged(le=>{var wt;S((null===(wt=le)||void 0===wt?void 0:wt.stsTokenManager.accessToken)||null)});this.internalListeners.set(S,k),this.updateProactiveRefresh()}removeAuthTokenListener(S){this.assertAuthConfigured();const k=this.internalListeners.get(S);!k||(this.internalListeners.delete(S),k(),this.updateProactiveRefresh())}assertAuthConfigured(){L(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function M0(q=(0,it.getApp)()){const S=(0,it._getProvider)(q,"auth");return S.isInitialized()?S.getImmediate():function F(q,S){const k=(0,it._getProvider)(q,"auth");if(k.isInitialized()){const wt=k.getImmediate(),zt=k.getOptions();if((0,h.vZ)(zt,null!=S?S:{}))return wt;Se(wt,"already-initialized")}return k.initialize({options:S})}(q,{popupRedirectResolver:Bg,persistence:[hs,Bh,bi]})}!function Td(q){(0,it._registerComponent)(new I.wA("auth",(S,{options:k})=>{const le=S.getProvider("app").getImmediate(),wt=S.getProvider("heartbeat"),{apiKey:zt,authDomain:Vn}=le.options;return((Vr,Ei)=>{L(zt&&!zt.includes(":"),"invalid-api-key",{appName:Vr.name}),L(!(null==Vn?void 0:Vn.includes(":")),"argument-error",{appName:Vr.name});const Yi={apiKey:zt,authDomain:Vn,clientPlatform:q,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Rs(q)},Os=new Eo(Vr,Ei,Yi);return function ae(q,S){const k=(null==S?void 0:S.persistence)||[],le=(Array.isArray(k)?k:[k]).map(G);(null==S?void 0:S.errorMap)&&q._updateErrorMap(S.errorMap),q._initializeWithPersistence(le,null==S?void 0:S.popupRedirectResolver)}(Os,k),Os})(le,wt)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((S,k,le)=>{S.getProvider("auth-internal").initialize()})),(0,it._registerComponent)(new I.wA("auth-internal",S=>{const k=Hr(S.getProvider("auth").getImmediate());return new Ed(k)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,it.registerVersion)(Hg,"0.20.4",function df(q){switch(q){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(q)),(0,it.registerVersion)(Hg,"0.20.4","esm2017")}("Browser")},5525:(Gr,Ln,me)=>{"use strict";me.d(Ln,{u7:()=>k_,Jj:()=>up,IX:()=>Zb,my:()=>Cl,xU:()=>Xa,Lz:()=>jd,WA:()=>Nr,F8:()=>fg,$q:()=>La,W:()=>Ou,EK:()=>Ae,PU:()=>x1,l7:()=>Xu,Ky:()=>rr,Xb:()=>ar,Cf:()=>_o,K9:()=>jh,Me:()=>Ku,yq:()=>Bh,Wi:()=>cw,ET:()=>b1,Ab:()=>oE,vr:()=>sE,Fc:()=>FC,hJ:()=>hw,B$:()=>o1,at:()=>hg,oe:()=>P_,AK:()=>Rw,TF:()=>b_,JU:()=>dw,ST:()=>OC,fH:()=>w_,Ix:()=>mw,Wu:()=>Hd,Lx:()=>Qb,qY:()=>Bl,GL:()=>s0,QT:()=>nE,kl:()=>rE,Xk:()=>Dw,PL:()=>kw,UQ:()=>w1,zN:()=>iE,ad:()=>pw,nP:()=>Im,b9:()=>Aw,vh:()=>RC,Pb:()=>$b,L$:()=>l1,cf:()=>N_,sc:()=>Mw,Xo:()=>Cw,IO:()=>Tw,iE:()=>y_,Eo:()=>fw,i3:()=>Fw,Bt:()=>Lw,pl:()=>Pw,Ub:()=>Uf,qK:()=>A_,TQ:()=>cd,e0:()=>I_,r7:()=>Nw,Mx:()=>bm,ar:()=>Xb});var Qe,C=me(5861),h=me(9681),it=me(4859),ve=me(1877),Ne=me(2090),I="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},tt={},nt=nt||{},ze=I||self;function qe(){}function Fe(u){var i=typeof u;return"array"==(i="object"!=i?i:u?Array.isArray(u)?"array":i:"null")||"object"==i&&"number"==typeof u.length}function He(u){var i=typeof u;return"object"==i&&null!=u||"function"==i}var we="closure_uid_"+(1e9*Math.random()>>>0),de=0;function W(u,i,a){return u.call.apply(u.bind,arguments)}function fe(u,i,a){if(!u)throw Error();if(2<arguments.length){var p=Array.prototype.slice.call(arguments,2);return function(){var y=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(y,p),u.apply(i,y)}}return function(){return u.apply(i,arguments)}}function ye(u,i,a){return(ye=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?W:fe).apply(null,arguments)}function Se(u,i){var a=Array.prototype.slice.call(arguments,1);return function(){var p=a.slice();return p.push.apply(p,arguments),u.apply(this,p)}}function oe(u,i){function a(){}a.prototype=i.prototype,u.Z=i.prototype,u.prototype=new a,u.prototype.constructor=u,u.Vb=function(p,y,b){for(var M=Array(arguments.length-2),ue=2;ue<arguments.length;ue++)M[ue-2]=arguments[ue];return i.prototype[y].apply(p,M)}}function se(){this.s=this.s,this.o=this.o}var Ce={};se.prototype.s=!1,se.prototype.na=function(){if(!this.s&&(this.s=!0,this.M(),0)){var u=function xe(u){return Object.prototype.hasOwnProperty.call(u,we)&&u[we]||(u[we]=++de)}(this);delete Ce[u]}},se.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const L=Array.prototype.indexOf?function(u,i){return Array.prototype.indexOf.call(u,i,void 0)}:function(u,i){if("string"==typeof u)return"string"!=typeof i||1!=i.length?-1:u.indexOf(i,0);for(let a=0;a<u.length;a++)if(a in u&&u[a]===i)return a;return-1},Q=Array.prototype.forEach?function(u,i,a){Array.prototype.forEach.call(u,i,a)}:function(u,i,a){const p=u.length,y="string"==typeof u?u.split(""):u;for(let b=0;b<p;b++)b in y&&i.call(a,y[b],b,u)};function P(u){return Array.prototype.concat.apply([],arguments)}function G(u){const i=u.length;if(0<i){const a=Array(i);for(let p=0;p<i;p++)a[p]=u[p];return a}return[]}function F(u){return/^[\s\xa0]*$/.test(u)}var De,ae=String.prototype.trim?function(u){return u.trim()}:function(u){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(u)[1]};function R(u,i){return-1!=u.indexOf(i)}function z(u,i){return u<i?-1:u>i?1:0}e:{var Ke=ze.navigator;if(Ke){var dt=Ke.userAgent;if(dt){De=dt;break e}}De=""}function We(u,i,a){for(const p in u)i.call(a,u[p],p,u)}function Te(u){const i={};for(const a in u)i[a]=u[a];return i}var Je="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Z(u,i){let a,p;for(let y=1;y<arguments.length;y++){for(a in p=arguments[y],p)u[a]=p[a];for(let b=0;b<Je.length;b++)a=Je[b],Object.prototype.hasOwnProperty.call(p,a)&&(u[a]=p[a])}}function ne(u){return ne[" "](u),u}ne[" "]=qe;var Ue,u,$e=R(De,"Opera"),ot=R(De,"Trident")||R(De,"MSIE"),at=R(De,"Edge"),j=at||ot,be=R(De,"Gecko")&&!(R(De.toLowerCase(),"webkit")&&!R(De,"Edge"))&&!(R(De,"Trident")||R(De,"MSIE"))&&!R(De,"Edge"),J=R(De.toLowerCase(),"webkit")&&!R(De,"Edge");function Ee(){var u=ze.document;return u?u.documentMode:void 0}e:{var lt="",Tt=(u=De,be?/rv:([^\);]+)(\)|;)/.exec(u):at?/Edge\/([\d\.]+)/.exec(u):ot?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(u):J?/WebKit\/(\S+)/.exec(u):$e?/(?:Version)[ \/]?(\S+)/.exec(u):void 0);if(Tt&&(lt=Tt?Tt[1]:""),ot){var Ft=Ee();if(null!=Ft&&Ft>parseFloat(lt)){Ue=String(Ft);break e}}Ue=lt}var $t={};var yn=ze.document&&ot&&(Ee()||parseInt(Ue,10))||void 0,hn=function(){if(!ze.addEventListener||!Object.defineProperty)return!1;var u=!1,i=Object.defineProperty({},"passive",{get:function(){u=!0}});try{ze.addEventListener("test",qe,i),ze.removeEventListener("test",qe,i)}catch(a){}return u}();function ke(u,i){this.type=u,this.g=this.target=i,this.defaultPrevented=!1}function ft(u,i){if(ke.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u){var a=this.type=u.type,p=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;if(this.target=u.target||u.srcElement,this.g=i,i=u.relatedTarget){if(be){e:{try{ne(i.nodeName);var y=!0;break e}catch(b){}y=!1}y||(i=null)}}else"mouseover"==a?i=u.fromElement:"mouseout"==a&&(i=u.toElement);this.relatedTarget=i,p?(this.clientX=void 0!==p.clientX?p.clientX:p.pageX,this.clientY=void 0!==p.clientY?p.clientY:p.pageY,this.screenX=p.screenX||0,this.screenY=p.screenY||0):(this.clientX=void 0!==u.clientX?u.clientX:u.pageX,this.clientY=void 0!==u.clientY?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType="string"==typeof u.pointerType?u.pointerType:It[u.pointerType]||"",this.state=u.state,this.i=u,u.defaultPrevented&&ft.Z.h.call(this)}}ke.prototype.h=function(){this.defaultPrevented=!0},oe(ft,ke);var It={2:"touch",3:"pen",4:"mouse"};ft.prototype.h=function(){ft.Z.h.call(this);var u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var ct="closure_listenable_"+(1e6*Math.random()|0),jt=0;function nn(u,i,a,p,y){this.listener=u,this.proxy=null,this.src=i,this.type=a,this.capture=!!p,this.ia=y,this.key=++jt,this.ca=this.fa=!1}function jn(u){u.ca=!0,u.listener=null,u.proxy=null,u.src=null,u.ia=null}function br(u){this.src=u,this.g={},this.h=0}function mr(u,i){var a=i.type;if(a in u.g){var b,p=u.g[a],y=L(p,i);(b=0<=y)&&Array.prototype.splice.call(p,y,1),b&&(jn(i),0==u.g[a].length&&(delete u.g[a],u.h--))}}function Mr(u,i,a,p){for(var y=0;y<u.length;++y){var b=u[y];if(!b.ca&&b.listener==i&&b.capture==!!a&&b.ia==p)return y}return-1}br.prototype.add=function(u,i,a,p,y){var b=u.toString();(u=this.g[b])||(u=this.g[b]=[],this.h++);var M=Mr(u,i,p,y);return-1<M?(i=u[M],a||(i.fa=!1)):((i=new nn(i,this.src,b,!!p,y)).fa=a,u.push(i)),i};var dr="closure_lm_"+(1e6*Math.random()|0),zr={};function Pr(u,i,a,p,y){if(p&&p.once)return Be(u,i,a,p,y);if(Array.isArray(i)){for(var b=0;b<i.length;b++)Pr(u,i[b],a,p,y);return null}return a=Dr(a),u&&u[ct]?u.N(i,a,He(p)?!!p.capture:!!p,y):fn(u,i,a,!1,p,y)}function fn(u,i,a,p,y,b){if(!i)throw Error("Invalid event type");var M=He(y)?!!y.capture:!!y,ue=Mn(u);if(ue||(u[dr]=ue=new br(u)),(a=ue.add(i,a,p,M,b)).proxy)return a;if(p=function mt(){var i=pn;return function u(a){return i.call(u.src,u.listener,a)}}(),a.proxy=p,p.src=u,p.listener=a,u.addEventListener)hn||(y=M),void 0===y&&(y=!1),u.addEventListener(i.toString(),p,y);else if(u.attachEvent)u.attachEvent(Nt(i.toString()),p);else{if(!u.addListener||!u.removeListener)throw Error("addEventListener and attachEvent are unavailable.");u.addListener(p)}return a}function Be(u,i,a,p,y){if(Array.isArray(i)){for(var b=0;b<i.length;b++)Be(u,i[b],a,p,y);return null}return a=Dr(a),u&&u[ct]?u.O(i,a,He(p)?!!p.capture:!!p,y):fn(u,i,a,!0,p,y)}function et(u,i,a,p,y){if(Array.isArray(i))for(var b=0;b<i.length;b++)et(u,i[b],a,p,y);else p=He(p)?!!p.capture:!!p,a=Dr(a),u&&u[ct]?(u=u.i,(i=String(i).toString())in u.g&&-1<(a=Mr(b=u.g[i],a,p,y))&&(jn(b[a]),Array.prototype.splice.call(b,a,1),0==b.length&&(delete u.g[i],u.h--))):u&&(u=Mn(u))&&(i=u.g[i.toString()],u=-1,i&&(u=Mr(i,a,p,y)),(a=-1<u?i[u]:null)&&ht(a))}function ht(u){if("number"!=typeof u&&u&&!u.ca){var i=u.src;if(i&&i[ct])mr(i.i,u);else{var a=u.type,p=u.proxy;i.removeEventListener?i.removeEventListener(a,p,u.capture):i.detachEvent?i.detachEvent(Nt(a),p):i.addListener&&i.removeListener&&i.removeListener(p),(a=Mn(i))?(mr(a,u),0==a.h&&(a.src=null,i[dr]=null)):jn(u)}}}function Nt(u){return u in zr?zr[u]:zr[u]="on"+u}function pn(u,i){if(u.ca)u=!0;else{i=new ft(i,this);var a=u.listener,p=u.ia||u.src;u.fa&&ht(u),u=a.call(p,i)}return u}function Mn(u){return(u=u[dr])instanceof br?u:null}var xr="__closure_events_fn_"+(1e9*Math.random()>>>0);function Dr(u){return"function"==typeof u?u:(u[xr]||(u[xr]=function(i){return u.handleEvent(i)}),u[xr])}function Zr(){se.call(this),this.i=new br(this),this.P=this,this.I=null}function Ar(u,i){var a,p=u.I;if(p)for(a=[];p;p=p.I)a.push(p);if(u=u.P,p=i.type||i,"string"==typeof i)i=new ke(i,u);else if(i instanceof ke)i.target=i.target||u;else{var y=i;Z(i=new ke(p,u),y)}if(y=!0,a)for(var b=a.length-1;0<=b;b--){var M=i.g=a[b];y=On(M,p,!0,i)&&y}if(y=On(M=i.g=u,p,!0,i)&&y,y=On(M,p,!1,i)&&y,a)for(b=0;b<a.length;b++)y=On(M=i.g=a[b],p,!1,i)&&y}function On(u,i,a,p){if(!(i=u.i.g[String(i)]))return!0;i=i.concat();for(var y=!0,b=0;b<i.length;++b){var M=i[b];if(M&&!M.ca&&M.capture==a){var ue=M.listener,Ye=M.ia||M.src;M.fa&&mr(u.i,M),y=!1!==ue.call(Ye,p)&&y}}return y&&!p.defaultPrevented}oe(Zr,se),Zr.prototype[ct]=!0,Zr.prototype.removeEventListener=function(u,i,a,p){et(this,u,i,a,p)},Zr.prototype.M=function(){if(Zr.Z.M.call(this),this.i){var i,u=this.i;for(i in u.g){for(var a=u.g[i],p=0;p<a.length;p++)jn(a[p]);delete u.g[i],u.h--}}this.I=null},Zr.prototype.N=function(u,i,a,p){return this.i.add(String(u),i,!1,a,p)},Zr.prototype.O=function(u,i,a,p){return this.i.add(String(u),i,!0,a,p)};var mn=ze.JSON.stringify;function Rt(){var u=Ji;let i=null;return u.g&&(i=u.g,u.g=u.g.next,u.g||(u.h=null),i.next=null),i}var Wi,vr=new class{constructor(u,i){this.i=u,this.j=i,this.h=0,this.g=null}get(){let u;return 0<this.h?(this.h--,u=this.g,this.g=u.next,u.next=null):u=this.i(),u}}(()=>new ai,u=>u.reset());class ai{constructor(){this.next=this.g=this.h=null}set(i,a){this.h=i,this.g=a,this.next=null}reset(){this.next=this.g=this.h=null}}function ki(u){ze.setTimeout(()=>{throw u},0)}function Zi(u,i){Wi||function zs(){var u=ze.Promise.resolve(void 0);Wi=function(){u.then(gs)}}(),Ws||(Wi(),Ws=!0),Ji.add(u,i)}var Ws=!1,Ji=new class hr{constructor(){this.h=this.g=null}add(i,a){const p=vr.get();p.set(i,a),this.h?this.h.next=p:this.g=p,this.h=p}};function gs(){for(var u;u=Rt();){try{u.h.call(u.g)}catch(a){ki(a)}var i=vr;i.j(u),100>i.h&&(i.h++,u.next=i.g,i.g=u)}Ws=!1}function xs(u,i){Zr.call(this),this.h=u||1,this.g=i||ze,this.j=ye(this.kb,this),this.l=Date.now()}function Rs(u){u.da=!1,u.S&&(u.g.clearTimeout(u.S),u.S=null)}function va(u,i,a){if("function"==typeof u)a&&(u=ye(u,a));else{if(!u||"function"!=typeof u.handleEvent)throw Error("Invalid listener argument");u=ye(u.handleEvent,u)}return 2147483647<Number(i)?-1:ze.setTimeout(u,i||0)}function Eo(u){u.g=va(()=>{u.g=null,u.i&&(u.i=!1,Eo(u))},u.j);const i=u.h;u.h=null,u.m.apply(null,i)}oe(xs,Zr),(Qe=xs.prototype).da=!1,Qe.S=null,Qe.kb=function(){if(this.da){var u=Date.now()-this.l;0<u&&u<.8*this.h?this.S=this.g.setTimeout(this.j,this.h-u):(this.S&&(this.g.clearTimeout(this.S),this.S=null),Ar(this,"tick"),this.da&&(Rs(this),this.start()))}},Qe.start=function(){this.da=!0,this.S||(this.S=this.g.setTimeout(this.j,this.h),this.l=Date.now())},Qe.M=function(){xs.Z.M.call(this),Rs(this),delete this.g};class Hr extends se{constructor(i,a){super(),this.m=i,this.j=a,this.h=null,this.i=!1,this.g=null}l(i){this.h=arguments,this.g?this.i=!0:Eo(this)}M(){super.M(),this.g&&(ze.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function wn(u){se.call(this),this.h=u,this.g={}}oe(wn,se);var tr=[];function kr(u,i,a,p){Array.isArray(a)||(a&&(tr[0]=a.toString()),a=tr);for(var y=0;y<a.length;y++){var b=Pr(i,a[y],p||u.handleEvent,!1,u.h||u);if(!b)break;u.g[b.key]=b}}function Ai(u){We(u.g,function(i,a){this.g.hasOwnProperty(a)&&ht(i)},u),u.g={}}function Ni(){this.g=!0}function Ls(u,i,a,p){u.info(function(){return"XMLHTTP TEXT ("+i+"): "+function Ri(u,i){if(!u.g)return i;if(!i)return null;try{var a=JSON.parse(i);if(a)for(u=0;u<a.length;u++)if(Array.isArray(a[u])){var p=a[u];if(!(2>p.length)){var y=p[1];if(Array.isArray(y)&&!(1>y.length)){var b=y[0];if("noop"!=b&&"stop"!=b&&"close"!=b)for(var M=1;M<y.length;M++)y[M]=""}}}return mn(a)}catch(ue){return i}}(u,a)+(p?" "+p:"")})}wn.prototype.M=function(){wn.Z.M.call(this),Ai(this)},wn.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},Ni.prototype.Aa=function(){this.g=!1},Ni.prototype.info=function(){};var To={},Ha=null;function za(){return Ha=Ha||new Zr}function tl(u){ke.call(this,To.Ma,u)}function Ys(u){const i=za();Ar(i,new tl(i,u))}function Do(u,i){ke.call(this,To.STAT_EVENT,u),this.stat=i}function Sn(u){const i=za();Ar(i,new Do(i,u))}function Tn(u,i){ke.call(this,To.Na,u),this.size=i}function Hn(u,i){if("function"!=typeof u)throw Error("Fn must not be null and must be a function");return ze.setTimeout(function(){u()},i)}To.Ma="serverreachability",oe(tl,ke),To.STAT_EVENT="statevent",oe(Do,ke),To.Na="timingevent",oe(Tn,ke);var Or={NO_ERROR:0,lb:1,yb:2,xb:3,sb:4,wb:5,zb:6,Ja:7,TIMEOUT:8,Cb:9},jr={qb:"complete",Mb:"success",Ka:"error",Ja:"abort",Eb:"ready",Fb:"readystatechange",TIMEOUT:"timeout",Ab:"incrementaldata",Db:"progress",tb:"downloadprogress",Ub:"uploadprogress"};function ni(){}function Us(){}ni.prototype.h=null;var Ca,ji={OPEN:"a",pb:"b",Ka:"c",Bb:"d"};function ro(){ke.call(this,"d")}function Co(){ke.call(this,"c")}function Sa(){}function jo(u,i,a,p){this.l=u,this.j=i,this.m=a,this.X=p||1,this.V=new wn(this),this.P=Ec,this.W=new xs(u=j?125:void 0),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.Y=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.N=-1,this.I=!1,this.O=0,this.L=null,this.aa=this.J=this.$=this.U=!1,this.h=new Is}function Is(){this.i=null,this.g="",this.h=!1}oe(ro,ke),oe(Co,ke),oe(Sa,ni),Sa.prototype.g=function(){return new XMLHttpRequest},Sa.prototype.i=function(){return{}},Ca=new Sa;var Ec=45e3,Xc={},Aa={};function Ks(u,i,a){u.K=1,u.v=zl(ca(i)),u.s=a,u.U=!0,Vo(u,null)}function Vo(u,i){u.F=Date.now(),ic(u),u.A=ca(u.v);var a=u.A,p=u.X;Array.isArray(p)||(p=[String(p)]),Re(a.h,"t",p),u.C=0,a=u.l.H,u.h=new Is,u.g=ns(u.l,a?i:null,!u.s),0<u.O&&(u.L=new Hr(ye(u.Ia,u,u.g),u.O)),kr(u.V,u.g,"readystatechange",u.gb),i=u.H?Te(u.H):{},u.s?(u.u||(u.u="POST"),i["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.A,u.u,u.s,i)):(u.u="GET",u.g.ea(u.A,u.u,null,i)),Ys(1),function us(u,i,a,p,y,b){u.info(function(){if(u.g)if(b)for(var M="",ue=b.split("&"),Ye=0;Ye<ue.length;Ye++){var pt=ue[Ye].split("=");if(1<pt.length){var Wt=pt[0];pt=pt[1];var Cn=Wt.split("_");M=2<=Cn.length&&"type"==Cn[1]?M+(Wt+"=")+pt+"&":M+(Wt+"=redacted&")}}else M=null;else M=b;return"XMLHTTP REQ ("+p+") [attempt "+y+"]: "+i+"\n"+a+"\n"+M})}(u.j,u.u,u.A,u.m,u.X,u.s)}function yu(u){return!!u.g&&"GET"==u.u&&2!=u.K&&u.l.Ba}function nl(u,i,a){let y,p=!0;for(;!u.I&&u.C<a.length;){if(y=au(u,a),y==Aa){4==i&&(u.o=4,Sn(14),p=!1),Ls(u.j,u.m,null,"[Incomplete Response]");break}if(y==Xc){u.o=4,Sn(15),Ls(u.j,u.m,a,"[Invalid Chunk]"),p=!1;break}Ls(u.j,u.m,y,null),Uc(u,y)}yu(u)&&y!=Aa&&y!=Xc&&(u.h.g="",u.C=0),4!=i||0!=a.length||u.h.h||(u.o=1,Sn(16),p=!1),u.i=u.i&&p,p?0<a.length&&!u.aa&&(u.aa=!0,(i=u.l).g==u&&i.$&&!i.L&&(i.h.info("Great, no buffering proxy detected. Bytes received: "+a.length),Gu(i),i.L=!0,Sn(11))):(Ls(u.j,u.m,a,"[Invalid Chunked Response]"),rl(u),oc(u))}function au(u,i){var a=u.C,p=i.indexOf("\n",a);return-1==p?Aa:(a=Number(i.substring(a,p)),isNaN(a)?Xc:(p+=1)+a>i.length?Aa:(i=i.substr(p,a),u.C=p+a,i))}function ic(u){u.Y=Date.now()+u.P,_u(u,u.P)}function _u(u,i){if(null!=u.B)throw Error("WatchDog timer not null");u.B=Hn(ye(u.eb,u),i)}function sc(u){u.B&&(ze.clearTimeout(u.B),u.B=null)}function oc(u){0==u.l.G||u.I||Qo(u.l,u)}function rl(u){sc(u);var i=u.L;i&&"function"==typeof i.na&&i.na(),u.L=null,Rs(u.W),Ai(u.V),u.g&&(i=u.g,u.g=null,i.abort(),i.na())}function Uc(u,i){try{var a=u.l;if(0!=a.G&&(a.g==u||Lt(a.i,u)))if(a.I=u.N,!u.J&&Lt(a.i,u)&&3==a.G){try{var p=a.Ca.g.parse(i)}catch(pt){p=null}if(Array.isArray(p)&&3==p.length){var y=p;if(0==y[0])e:if(a.u)a.ta=y[1],0<a.ta-a.U&&37500>y[2]&&a.N&&0==a.A&&!a.v&&(a.v=Hn(ye(a.ab,a),6e3));else{if(a.g){if(!(a.g.F+3e3<u.F))break e;ef(a),ha(a)}lu(a),Sn(18)}if(1>=Ms(a.i)&&a.ka){try{a.ka()}catch(pt){}a.ka=void 0}}else ml(a,11)}else if((u.J||a.g==u)&&ef(a),!F(i))for(y=a.Ca.g.parse(i),i=0;i<y.length;i++){let pt=y[i];if(a.U=pt[0],pt=pt[1],2==a.G)if("c"==pt[0]){a.J=pt[1],a.la=pt[2];const Wt=pt[3];null!=Wt&&(a.ma=Wt,a.h.info("VER="+a.ma));const Cn=pt[4];null!=Cn&&(a.za=Cn,a.h.info("SVER="+a.za));const fr=pt[5];null!=fr&&"number"==typeof fr&&0<fr&&(a.K=p=1.5*fr,a.h.info("backChannelRequestTimeoutMs_="+p)),p=a;const Br=u.g;if(Br){const Jr=Br.g?Br.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Jr){var b=p.i;!b.g&&(R(Jr,"spdy")||R(Jr,"quic")||R(Jr,"h2"))&&(b.j=b.l,b.g=new Set,b.h&&(Ut(b,b.h),b.h=null))}if(p.D){const Fi=Br.g?Br.g.getResponseHeader("X-HTTP-Session-Id"):null;Fi&&(p.sa=Fi,Bs(p.F,p.D,Fi))}}a.G=3,a.j&&a.j.xa(),a.$&&(a.O=Date.now()-u.F,a.h.info("Handshake RTT: "+a.O+"ms"));var M=u;if((p=a).oa=Zl(p,p.H?p.la:null,p.W),M.J){_n(p.i,M);var ue=M,Ye=p.K;Ye&&ue.setTimeout(Ye),ue.B&&(sc(ue),ic(ue)),p.g=M}else qu(p);0<a.l.length&&Jo(a)}else"stop"!=pt[0]&&"close"!=pt[0]||ml(a,7);else 3==a.G&&("stop"==pt[0]||"close"==pt[0]?"stop"==pt[0]?ml(a,7):Xo(a):"noop"!=pt[0]&&a.j&&a.j.wa(pt),a.A=0)}Ys(4)}catch(pt){}}function Wa(u,i){if(u.forEach&&"function"==typeof u.forEach)u.forEach(i,void 0);else if(Fe(u)||"string"==typeof u)Q(u,i,void 0);else{if(u.T&&"function"==typeof u.T)var a=u.T();else if(u.R&&"function"==typeof u.R)a=void 0;else if(Fe(u)||"string"==typeof u){a=[];for(var p=u.length,y=0;y<p;y++)a.push(y)}else for(y in a=[],p=0,u)a[p++]=y;p=function ac(u){if(u.R&&"function"==typeof u.R)return u.R();if("string"==typeof u)return u.split("");if(Fe(u)){for(var i=[],a=u.length,p=0;p<a;p++)i.push(u[p]);return i}for(p in i=[],a=0,u)i[a++]=u[p];return i}(u),y=p.length;for(var b=0;b<y;b++)i.call(void 0,p[b],a&&a[b],u)}}function lc(u,i){this.h={},this.g=[],this.i=0;var a=arguments.length;if(1<a){if(a%2)throw Error("Uneven number of arguments");for(var p=0;p<a;p+=2)this.set(arguments[p],arguments[p+1])}else if(u)if(u instanceof lc)for(a=u.T(),p=0;p<a.length;p++)this.set(a[p],u.get(a[p]));else for(p in u)this.set(p,u[p])}function cc(u){if(u.i!=u.g.length){for(var i=0,a=0;i<u.g.length;){var p=u.g[i];$o(u.h,p)&&(u.g[a++]=p),i++}u.g.length=a}if(u.i!=u.g.length){var y={};for(a=i=0;i<u.g.length;)$o(y,p=u.g[i])||(u.g[a++]=p,y[p]=1),i++;u.g.length=a}}function $o(u,i){return Object.prototype.hasOwnProperty.call(u,i)}(Qe=jo.prototype).setTimeout=function(u){this.P=u},Qe.gb=function(u){u=u.target;const i=this.L;i&&3==so(u)?i.l():this.Ia(u)},Qe.Ia=function(u){try{if(u==this.g)e:{const Wt=so(this.g);var i=this.g.Da();const Cn=this.g.ba();if(!(3>Wt)&&(3!=Wt||j||this.g&&(this.h.h||this.g.ga()||Ho(this.g)))){this.I||4!=Wt||7==i||Ys(8==i||0>=Cn?3:2),sc(this);var a=this.g.ba();this.N=a;t:if(yu(this)){var p=Ho(this.g);u="";var y=p.length,b=4==so(this.g);if(!this.h.i){if("undefined"==typeof TextDecoder){rl(this),oc(this);var M="";break t}this.h.i=new ze.TextDecoder}for(i=0;i<y;i++)this.h.h=!0,u+=this.h.i.decode(p[i],{stream:b&&i==y-1});p.splice(0,y),this.h.g+=u,this.C=0,M=this.h.g}else M=this.g.ga();if(this.i=200==a,function Li(u,i,a,p,y,b,M){u.info(function(){return"XMLHTTP RESP ("+p+") [ attempt "+y+"]: "+i+"\n"+a+"\n"+b+" "+M})}(this.j,this.u,this.A,this.m,this.X,Wt,a),this.i){if(this.$&&!this.J){t:{if(this.g){var ue,Ye=this.g;if((ue=Ye.g?Ye.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!F(ue)){var pt=ue;break t}}pt=null}if(!(a=pt)){this.i=!1,this.o=3,Sn(12),rl(this),oc(this);break e}Ls(this.j,this.m,a,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,Uc(this,a)}this.U?(nl(this,Wt,M),j&&this.i&&3==Wt&&(kr(this.V,this.W,"tick",this.fb),this.W.start())):(Ls(this.j,this.m,M,null),Uc(this,M)),4==Wt&&rl(this),this.i&&!this.I&&(4==Wt?Qo(this.l,this):(this.i=!1,ic(this)))}else 400==a&&0<M.indexOf("Unknown SID")?(this.o=3,Sn(12)):(this.o=0,Sn(13)),rl(this),oc(this)}}}catch(Wt){}},Qe.fb=function(){if(this.g){var u=so(this.g),i=this.g.ga();this.C<i.length&&(sc(this),nl(this,u,i),this.i&&4!=u&&ic(this))}},Qe.cancel=function(){this.I=!0,rl(this)},Qe.eb=function(){this.B=null;const u=Date.now();0<=u-this.Y?(function Io(u,i){u.info(function(){return"TIMEOUT: "+i})}(this.j,this.A),2!=this.K&&(Ys(3),Sn(17)),rl(this),this.o=2,oc(this)):_u(this,this.Y-u)},(Qe=lc.prototype).R=function(){cc(this);for(var u=[],i=0;i<this.g.length;i++)u.push(this.h[this.g[i]]);return u},Qe.T=function(){return cc(this),this.g.concat()},Qe.get=function(u,i){return $o(this.h,u)?this.h[u]:i},Qe.set=function(u,i){$o(this.h,u)||(this.i++,this.g.push(u)),this.h[u]=i},Qe.forEach=function(u,i){for(var a=this.T(),p=0;p<a.length;p++){var y=a[p],b=this.get(y);u.call(i,b,y,this)}};var la=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function Ia(u,i){if(this.i=this.s=this.j="",this.m=null,this.o=this.l="",this.g=!1,u instanceof Ia){this.g=void 0!==i?i:u.g,Ol(this,u.j),this.s=u.s,il(this,u.i),Fl(this,u.m),this.l=u.l,i=u.h;var a=new Cc;a.i=i.i,i.g&&(a.g=new lc(i.g),a.h=i.h),ya(this,a),this.o=u.o}else u&&(a=String(u).match(la))?(this.g=!!i,Ol(this,a[1]||"",!0),this.s=vo(a[2]||""),il(this,a[3]||"",!0),Fl(this,a[4]),this.l=vo(a[5]||"",!0),ya(this,a[6]||"",!0),this.o=vo(a[7]||"")):(this.g=!!i,this.h=new Cc(null,this.g))}function ca(u){return new Ia(u)}function Ol(u,i,a){u.j=a?vo(i,!0):i,u.j&&(u.j=u.j.replace(/:$/,""))}function il(u,i,a){u.i=a?vo(i,!0):i}function Fl(u,i){if(i){if(i=Number(i),isNaN(i)||0>i)throw Error("Bad port number "+i);u.m=i}else u.m=null}function ya(u,i,a){i instanceof Cc?(u.h=i,function En(u,i){i&&!u.j&&(Ns(u),u.i=null,u.g.forEach(function(a,p){var y=p.toLowerCase();p!=y&&(Le(this,p),Re(this,y,a))},u)),u.j=i}(u.h,u.g)):(a||(i=Da(i,sl)),u.h=new Cc(i,u.g))}function Bs(u,i,a){u.h.set(i,a)}function zl(u){return Bs(u,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),u}function vo(u,i){return u?i?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function Da(u,i,a){return"string"==typeof u?(u=encodeURI(u).replace(i,xu),a&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function xu(u){return"%"+((u=u.charCodeAt(0))>>4&15).toString(16)+(15&u).toString(16)}Ia.prototype.toString=function(){var u=[],i=this.j;i&&u.push(Da(i,Wl,!0),":");var a=this.i;return(a||"file"==i)&&(u.push("//"),(i=this.s)&&u.push(Da(i,Wl,!0),"@"),u.push(encodeURIComponent(String(a)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(a=this.m)&&u.push(":",String(a))),(a=this.l)&&(this.i&&"/"!=a.charAt(0)&&u.push("/"),u.push(Da(a,"/"==a.charAt(0)?Jc:Tc,!0))),(a=this.h.toString())&&u.push("?",a),(a=this.o)&&u.push("#",Da(a,ql)),u.join("")};var Wl=/[#\/\?@]/g,Tc=/[#\?:]/g,Jc=/[#\?]/g,sl=/[#\?@]/g,ql=/#/g;function Cc(u,i){this.h=this.g=null,this.i=u||null,this.j=!!i}function Ns(u){u.g||(u.g=new lc,u.h=0,u.i&&function Hl(u,i){if(u){u=u.split("&");for(var a=0;a<u.length;a++){var p=u[a].indexOf("="),y=null;if(0<=p){var b=u[a].substring(0,p);y=u[a].substring(p+1)}else b=u[a];i(b,y?decodeURIComponent(y.replace(/\+/g," ")):"")}}}(u.i,function(i,a){u.add(decodeURIComponent(i.replace(/\+/g," ")),a)}))}function Le(u,i){Ns(u),i=Mt(u,i),$o(u.g.h,i)&&(u.i=null,u.h-=u.g.get(i).length,$o((u=u.g).h,i)&&(delete u.h[i],u.i--,u.g.length>2*u.i&&cc(u)))}function Et(u,i){return Ns(u),i=Mt(u,i),$o(u.g.h,i)}function Re(u,i,a){Le(u,i),0<a.length&&(u.i=null,u.g.set(Mt(u,i),G(a)),u.h+=a.length)}function Mt(u,i){return i=String(i),u.j&&(i=i.toLowerCase()),i}function Fr(u){this.l=u||Pi,u=ze.PerformanceNavigationTiming?0<(u=ze.performance.getEntriesByType("navigation")).length&&("hq"==u[0].nextHopProtocol||"h2"==u[0].nextHopProtocol):!!(ze.g&&ze.g.Ea&&ze.g.Ea()&&ze.g.Ea().Zb),this.j=u?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(Qe=Cc.prototype).add=function(u,i){Ns(this),this.i=null,u=Mt(this,u);var a=this.g.get(u);return a||this.g.set(u,a=[]),a.push(i),this.h+=1,this},Qe.forEach=function(u,i){Ns(this),this.g.forEach(function(a,p){Q(a,function(y){u.call(i,y,p,this)},this)},this)},Qe.T=function(){Ns(this);for(var u=this.g.R(),i=this.g.T(),a=[],p=0;p<i.length;p++)for(var y=u[p],b=0;b<y.length;b++)a.push(i[p]);return a},Qe.R=function(u){Ns(this);var i=[];if("string"==typeof u)Et(this,u)&&(i=P(i,this.g.get(Mt(this,u))));else{u=this.g.R();for(var a=0;a<u.length;a++)i=P(i,u[a])}return i},Qe.set=function(u,i){return Ns(this),this.i=null,Et(this,u=Mt(this,u))&&(this.h-=this.g.get(u).length),this.g.set(u,[i]),this.h+=1,this},Qe.get=function(u,i){return u&&0<(u=this.R(u)).length?String(u[0]):i},Qe.toString=function(){if(this.i)return this.i;if(!this.g)return"";for(var u=[],i=this.g.T(),a=0;a<i.length;a++){var p=i[a],y=encodeURIComponent(String(p));p=this.R(p);for(var b=0;b<p.length;b++){var M=y;""!==p[b]&&(M+="="+encodeURIComponent(String(p[b]))),u.push(M)}}return this.i=u.join("&")};var Pi=10;function js(u){return!!u.h||!!u.g&&u.g.size>=u.j}function Ms(u){return u.h?1:u.g?u.g.size:0}function Lt(u,i){return u.h?u.h==i:!!u.g&&u.g.has(i)}function Ut(u,i){u.g?u.g.add(i):u.h=i}function _n(u,i){u.h&&u.h==i?u.h=null:u.g&&u.g.has(i)&&u.g.delete(i)}function Xn(u){if(null!=u.h)return u.i.concat(u.h.D);if(null!=u.g&&0!==u.g.size){let i=u.i;for(const a of u.g.values())i=i.concat(a.D);return i}return G(u.i)}function Tr(){}function ri(){this.g=new Tr}function yi(u,i,a){const p=a||"";try{Wa(u,function(y,b){let M=y;He(y)&&(M=mn(y)),i.push(p+b+"="+encodeURIComponent(M))})}catch(y){throw i.push(p+"type="+encodeURIComponent("_badmap")),y}}function Vs(u,i,a,p,y){try{i.onload=null,i.onerror=null,i.onabort=null,i.ontimeout=null,y(p)}catch(b){}}function ko(u){this.l=u.$b||null,this.j=u.ib||!1}function io(u,i){Zr.call(this),this.D=u,this.u=i,this.m=void 0,this.readyState=$i,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}Fr.prototype.cancel=function(){if(this.i=Xn(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const u of this.g.values())u.cancel();this.g.clear()}},Tr.prototype.stringify=function(u){return ze.JSON.stringify(u,void 0)},Tr.prototype.parse=function(u){return ze.JSON.parse(u,void 0)},oe(ko,ni),ko.prototype.g=function(){return new io(this.l,this.j)},ko.prototype.i=function(u){return function(){return u}}({}),oe(io,Zr);var $i=0;function Ze(u){u.j.read().then(u.Sa.bind(u)).catch(u.ha.bind(u))}function Me(u){u.readyState=4,u.l=null,u.j=null,u.A=null,_e(u)}function _e(u){u.onreadystatechange&&u.onreadystatechange.call(u)}(Qe=io.prototype).open=function(u,i){if(this.readyState!=$i)throw this.abort(),Error("Error reopening a connection");this.C=u,this.B=i,this.readyState=1,_e(this)},Qe.send=function(u){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const i={headers:this.v,method:this.C,credentials:this.m,cache:void 0};u&&(i.body=u),(this.D||ze).fetch(new Request(this.B,i)).then(this.Va.bind(this),this.ha.bind(this))},Qe.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted."),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,Me(this)),this.readyState=$i},Qe.Va=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,_e(this)),this.g&&(this.readyState=3,_e(this),this.g)))if("arraybuffer"===this.responseType)u.arrayBuffer().then(this.Ta.bind(this),this.ha.bind(this));else if(void 0!==ze.ReadableStream&&"body"in u){if(this.j=u.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;Ze(this)}else u.text().then(this.Ua.bind(this),this.ha.bind(this))},Qe.Sa=function(u){if(this.g){if(this.u&&u.value)this.response.push(u.value);else if(!this.u){var i=u.value?u.value:new Uint8Array(0);(i=this.A.decode(i,{stream:!u.done}))&&(this.response=this.responseText+=i)}u.done?Me(this):_e(this),3==this.readyState&&Ze(this)}},Qe.Ua=function(u){this.g&&(this.response=this.responseText=u,Me(this))},Qe.Ta=function(u){this.g&&(this.response=u,Me(this))},Qe.ha=function(){this.g&&Me(this)},Qe.setRequestHeader=function(u,i){this.v.append(u,i)},Qe.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},Qe.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],i=this.h.entries();for(var a=i.next();!a.done;)u.push((a=a.value)[0]+": "+a[1]),a=i.next();return u.join("\r\n")},Object.defineProperty(io.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(u){this.m=u?"include":"same-origin"}});var V=ze.JSON.parse;function K(u){Zr.call(this),this.headers=new lc,this.u=u||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=gt,this.K=this.L=!1}oe(K,Zr);var gt="",Qt=/^https?$/i,xn=["POST","PUT"];function Lr(u){return"content-type"==u.toLowerCase()}function pi(u,i){u.h=!1,u.g&&(u.l=!0,u.g.abort(),u.l=!1),u.j=i,u.m=5,fi(u),Ds(u)}function fi(u){u.D||(u.D=!0,Ar(u,"complete"),Ar(u,"error"))}function es(u){if(u.h&&void 0!==nt&&(!u.C[1]||4!=so(u)||2!=u.ba()))if(u.v&&4==so(u))va(u.Fa,0,u);else if(Ar(u,"readystatechange"),4==so(u)){u.h=!1;try{const ue=u.ba();e:switch(ue){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var i=!0;break e;default:i=!1}var a;if(!(a=i)){var p;if(p=0===ue){var y=String(u.H).match(la)[1]||null;if(!y&&ze.self&&ze.self.location){var b=ze.self.location.protocol;y=b.substr(0,b.length-1)}p=!Qt.test(y?y.toLowerCase():"")}a=p}if(a)Ar(u,"complete"),Ar(u,"success");else{u.m=6;try{var M=2<so(u)?u.g.statusText:""}catch(Ye){M=""}u.j=M+" ["+u.ba()+"]",fi(u)}}finally{Ds(u)}}}function Ds(u,i){if(u.g){Ko(u);const a=u.g,p=u.C[0]?qe:null;u.g=null,u.C=null,i||Ar(u,"ready");try{a.onreadystatechange=p}catch(y){}}}function Ko(u){u.g&&u.K&&(u.g.ontimeout=null),u.A&&(ze.clearTimeout(u.A),u.A=null)}function so(u){return u.g?u.g.readyState:0}function Ho(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.J){case gt:case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch(i){return null}}function No(u,i,a){e:{for(p in a){var p=!1;break e}p=!0}p||(a=function qs(u){let i="";return We(u,function(a,p){i+=p,i+=":",i+=a,i+="\r\n"}),i}(a),"string"==typeof u?null!=a&&encodeURIComponent(String(a)):Bs(u,i,a))}function Es(u,i,a){return a&&a.internalChannelParams&&a.internalChannelParams[u]||i}function ua(u){this.za=0,this.l=[],this.h=new Ni,this.la=this.oa=this.F=this.W=this.g=this.sa=this.D=this.aa=this.o=this.P=this.s=null,this.Za=this.V=0,this.Xa=Es("failFast",!1,u),this.N=this.v=this.u=this.m=this.j=null,this.X=!0,this.I=this.ta=this.U=-1,this.Y=this.A=this.C=0,this.Pa=Es("baseRetryDelayMs",5e3,u),this.$a=Es("retryDelaySeedMs",1e4,u),this.Ya=Es("forwardChannelMaxRetries",2,u),this.ra=Es("forwardChannelRequestTimeoutMs",2e4,u),this.qa=u&&u.xmlHttpFactory||void 0,this.Ba=u&&u.Yb||!1,this.K=void 0,this.H=u&&u.supportsCrossDomainXhr||!1,this.J="",this.i=new Fr(u&&u.concurrentRequestLimit),this.Ca=new ri,this.ja=u&&u.fastHandshake||!1,this.Ra=u&&u.Wb||!1,u&&u.Aa&&this.h.Aa(),u&&u.forceLongPolling&&(this.X=!1),this.$=!this.ja&&this.X&&u&&u.detectBufferingProxy||!1,this.ka=void 0,this.O=0,this.L=!1,this.B=null,this.Wa=!u||!1!==u.Xb}function Xo(u){if(Ro(u),3==u.G){var i=u.V++,a=ca(u.F);Bs(a,"SID",u.J),Bs(a,"RID",i),Bs(a,"TYPE","terminate"),Wu(u,a),(i=new jo(u,u.h,i,void 0)).K=2,i.v=zl(ca(a)),a=!1,ze.navigator&&ze.navigator.sendBeacon&&(a=ze.navigator.sendBeacon(i.v.toString(),"")),!a&&ze.Image&&((new Image).src=i.v,a=!0),a||(i.g=ns(i.l,null),i.g.ea(i.v)),i.F=Date.now(),ic(i)}gd(u)}function ha(u){u.g&&(Gu(u),u.g.cancel(),u.g=null)}function Ro(u){ha(u),u.u&&(ze.clearTimeout(u.u),u.u=null),ef(u),u.i.cancel(),u.m&&("number"==typeof u.m&&ze.clearTimeout(u.m),u.m=null)}function wu(u,i){u.l.push(new class{constructor(u,i){this.h=u,this.g=i}}(u.Za++,i)),3==u.G&&Jo(u)}function Jo(u){js(u.i)||u.m||(u.m=!0,Zi(u.Ha,u),u.C=0)}function Gl(u,i){var a;a=i?i.m:u.V++;const p=ca(u.F);Bs(p,"SID",u.J),Bs(p,"RID",a),Bs(p,"AID",u.U),Wu(u,p),u.o&&u.s&&No(p,u.o,u.s),a=new jo(u,u.h,a,u.C+1),null===u.o&&(a.H=u.s),i&&(u.l=i.D.concat(u.l)),i=pd(u,a,1e3),a.setTimeout(Math.round(.5*u.ra)+Math.round(.5*u.ra*Math.random())),Ut(u.i,a),Ks(a,p,i)}function Wu(u,i){u.j&&Wa({},function(a,p){Bs(i,p,a)})}function pd(u,i,a){a=Math.min(u.l.length,a);var p=u.j?ye(u.j.Oa,u.j,u):null;e:{var y=u.l;let b=-1;for(;;){const M=["count="+a];-1==b?0<a?(b=y[0].h,M.push("ofs="+b)):b=0:M.push("ofs="+b);let ue=!0;for(let Ye=0;Ye<a;Ye++){let pt=y[Ye].h;const Wt=y[Ye].g;if(pt-=b,0>pt)b=Math.max(0,y[Ye].h-100),ue=!1;else try{yi(Wt,M,"req"+pt+"_")}catch(Cn){p&&p(Wt)}}if(ue){p=M.join("&");break e}}}return u=u.l.splice(0,a),i.D=u,p}function qu(u){u.g||u.u||(u.Y=1,Zi(u.Ga,u),u.A=0)}function lu(u){return!(u.g||u.u||3<=u.A||(u.Y++,u.u=Hn(ye(u.Ga,u),Lh(u,u.A)),u.A++,0))}function Gu(u){null!=u.B&&(ze.clearTimeout(u.B),u.B=null)}function Ts(u){u.g=new jo(u,u.h,"rpc",u.Y),null===u.o&&(u.g.H=u.s),u.g.O=0;var i=ca(u.oa);Bs(i,"RID","rpc"),Bs(i,"SID",u.J),Bs(i,"CI",u.N?"0":"1"),Bs(i,"AID",u.U),Wu(u,i),Bs(i,"TYPE","xmlhttp"),u.o&&u.s&&No(i,u.o,u.s),u.K&&u.g.setTimeout(u.K);var a=u.g;u=u.la,a.K=1,a.v=zl(ca(i)),a.s=null,a.U=!0,Vo(a,u)}function ef(u){null!=u.v&&(ze.clearTimeout(u.v),u.v=null)}function Qo(u,i){var a=null;if(u.g==i){ef(u),Gu(u),u.g=null;var p=2}else{if(!Lt(u.i,i))return;a=i.D,_n(u.i,i),p=1}if(u.I=i.N,0!=u.G)if(i.i)if(1==p){a=i.s?i.s.length:0,i=Date.now()-i.F;var y=u.C;Ar(p=za(),new Tn(p,a,i,y)),Jo(u)}else qu(u);else if(3==(y=i.o)||0==y&&0<u.I||!(1==p&&function bu(u,i){return!(Ms(u.i)>=u.i.j-(u.m?1:0)||(u.m?(u.l=i.D.concat(u.l),0):1==u.G||2==u.G||u.C>=(u.Xa?0:u.Ya)||(u.m=Hn(ye(u.Ha,u,i),Lh(u,u.C)),u.C++,0)))}(u,i)||2==p&&lu(u)))switch(a&&0<a.length&&(i=u.i,i.i=i.i.concat(a)),y){case 1:ml(u,5);break;case 4:ml(u,10);break;case 3:ml(u,6);break;default:ml(u,2)}}function Lh(u,i){let a=u.Pa+Math.floor(Math.random()*u.$a);return u.j||(a*=2),a*i}function ml(u,i){if(u.h.info("Error code "+i),2==i){var a=null;u.j&&(a=null);var p=ye(u.jb,u);a||(a=new Ia("//www.google.com/images/cleardot.gif"),ze.location&&"http"==ze.location.protocol||Ol(a,"https"),zl(a)),function ii(u,i){const a=new Ni;if(ze.Image){const p=new Image;p.onload=Se(Vs,a,p,"TestLoadImage: loaded",!0,i),p.onerror=Se(Vs,a,p,"TestLoadImage: error",!1,i),p.onabort=Se(Vs,a,p,"TestLoadImage: abort",!1,i),p.ontimeout=Se(Vs,a,p,"TestLoadImage: timeout",!1,i),ze.setTimeout(function(){p.ontimeout&&p.ontimeout()},1e4),p.src=u}else i(!1)}(a.toString(),p)}else Sn(2);u.G=0,u.j&&u.j.va(i),gd(u),Ro(u)}function gd(u){u.G=0,u.I=-1,u.j&&((0!=Xn(u.i).length||0!=u.l.length)&&(u.i.i.length=0,G(u.l),u.l.length=0),u.j.ua())}function Zl(u,i,a){let p=function Bc(u){return u instanceof Ia?ca(u):new Ia(u,void 0)}(a);if(""!=p.i)i&&il(p,i+"."+p.i),Fl(p,p.m);else{const y=ze.location;p=function Yo(u,i,a,p){var y=new Ia(null,void 0);return u&&Ol(y,u),i&&il(y,i),a&&Fl(y,a),p&&(y.l=p),y}(y.protocol,i?i+"."+y.hostname:y.hostname,+y.port,a)}return u.aa&&We(u.aa,function(y,b){Bs(p,b,y)}),a=u.sa,(i=u.D)&&a&&Bs(p,i,a),Bs(p,"VER",u.ma),Wu(u,p),p}function ns(u,i,a){if(i&&!u.H)throw Error("Can't create secondary domain capable XhrIo object.");return(i=new K(a&&u.Ba&&!u.qa?new ko({ib:!0}):u.qa)).L=u.H,i}function $l(){}function yo(){if(ot&&!(10<=Number(yn)))throw Error("Environmental error: no available transport.")}function uc(u,i){Zr.call(this),this.g=new ua(i),this.l=u,this.h=i&&i.messageUrlParams||null,u=i&&i.messageHeaders||null,i&&i.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.s=u,u=i&&i.initMessageHeaders||null,i&&i.messageContentType&&(u?u["X-WebChannel-Content-Type"]=i.messageContentType:u={"X-WebChannel-Content-Type":i.messageContentType}),i&&i.ya&&(u?u["X-WebChannel-Client-Profile"]=i.ya:u={"X-WebChannel-Client-Profile":i.ya}),this.g.P=u,(u=i&&i.httpHeadersOverwriteParam)&&!F(u)&&(this.g.o=u),this.A=i&&i.supportsCrossDomainXhr||!1,this.v=i&&i.sendRawJson||!1,(i=i&&i.httpSessionIdParam)&&!F(i)&&(this.g.D=i,null!==(u=this.h)&&i in u&&i in(u=this.h)&&delete u[i]),this.j=new Qc(this)}function Sc(u){ro.call(this);var i=u.__sm__;if(i){e:{for(const a in i){u=a;break e}u=void 0}(this.i=u)&&(u=this.i,i=null!==i&&u in i?i[u]:void 0),this.data=i}else this.data=u}function tf(){Co.call(this),this.status=1}function Qc(u){this.g=u}(Qe=K.prototype).ea=function(u,i,a,p){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+u);i=i?i.toUpperCase():"GET",this.H=u,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():Ca.g(),this.C=function as(u){return u.h||(u.h=u.i())}(this.u?this.u:Ca),this.g.onreadystatechange=ye(this.Fa,this);try{this.F=!0,this.g.open(i,String(u),!0),this.F=!1}catch(b){return void pi(this,b)}u=a||"";const y=new lc(this.headers);p&&Wa(p,function(b,M){y.set(M,b)}),p=function re(u){e:{var i=Lr;const a=u.length,p="string"==typeof u?u.split(""):u;for(let y=0;y<a;y++)if(y in p&&i.call(void 0,p[y],y,u)){i=y;break e}i=-1}return 0>i?null:"string"==typeof u?u.charAt(i):u[i]}(y.T()),a=ze.FormData&&u instanceof ze.FormData,!(0<=L(xn,i))||p||a||y.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),y.forEach(function(b,M){this.g.setRequestHeader(M,b)},this),this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{Ko(this),0<this.B&&((this.K=function er(u){return ot&&function vn(){return function Oe(u){var i=$t;return Object.prototype.hasOwnProperty.call(i,9)?i[9]:i[9]=u(9)}(function(){let u=0;const i=ae(String(Ue)).split("."),a=ae("9").split("."),p=Math.max(i.length,a.length);for(let M=0;0==u&&M<p;M++){var y=i[M]||"",b=a[M]||"";do{if(y=/(\d*)(\D*)(.*)/.exec(y)||["","","",""],b=/(\d*)(\D*)(.*)/.exec(b)||["","","",""],0==y[0].length&&0==b[0].length)break;u=z(0==y[1].length?0:parseInt(y[1],10),0==b[1].length?0:parseInt(b[1],10))||z(0==y[2].length,0==b[2].length)||z(y[2],b[2]),y=y[3],b=b[3]}while(0==u)}return 0<=u})}()&&"number"==typeof u.timeout&&void 0!==u.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=ye(this.pa,this)):this.A=va(this.pa,this.B,this)),this.v=!0,this.g.send(u),this.v=!1}catch(b){pi(this,b)}},Qe.pa=function(){void 0!==nt&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Ar(this,"timeout"),this.abort(8))},Qe.abort=function(u){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=u||7,Ar(this,"complete"),Ar(this,"abort"),Ds(this))},Qe.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),Ds(this,!0)),K.Z.M.call(this)},Qe.Fa=function(){this.s||(this.F||this.v||this.l?es(this):this.cb())},Qe.cb=function(){es(this)},Qe.ba=function(){try{return 2<so(this)?this.g.status:-1}catch(u){return-1}},Qe.ga=function(){try{return this.g?this.g.responseText:""}catch(u){return""}},Qe.Qa=function(u){if(this.g){var i=this.g.responseText;return u&&0==i.indexOf(u)&&(i=i.substring(u.length)),V(i)}},Qe.Da=function(){return this.m},Qe.La=function(){return"string"==typeof this.j?this.j:String(this.j)},(Qe=ua.prototype).ma=8,Qe.G=1,Qe.hb=function(u){try{this.h.info("Origin Trials invoked: "+u)}catch(i){}},Qe.Ha=function(u){if(this.m)if(this.m=null,1==this.G){if(!u){this.V=Math.floor(1e5*Math.random()),u=this.V++;const y=new jo(this,this.h,u,void 0);let b=this.s;if(this.P&&(b?(b=Te(b),Z(b,this.P)):b=this.P),null===this.o&&(y.H=b),this.ja)e:{for(var i=0,a=0;a<this.l.length;a++){var p=this.l[a];if(void 0===(p="__data__"in p.g&&"string"==typeof(p=p.g.__data__)?p.length:void 0))break;if(4096<(i+=p)){i=a;break e}if(4096===i||a===this.l.length-1){i=a+1;break e}}i=1e3}else i=1e3;i=pd(this,y,i),Bs(a=ca(this.F),"RID",u),Bs(a,"CVER",22),this.D&&Bs(a,"X-HTTP-Session-Id",this.D),Wu(this,a),this.o&&b&&No(a,this.o,b),Ut(this.i,y),this.Ra&&Bs(a,"TYPE","init"),this.ja?(Bs(a,"$req",i),Bs(a,"SID","null"),y.$=!0,Ks(y,a,null)):Ks(y,a,i),this.G=2}}else 3==this.G&&(u?Gl(this,u):0==this.l.length||js(this.i)||Gl(this))},Qe.Ga=function(){if(this.u=null,Ts(this),this.$&&!(this.L||null==this.g||0>=this.O)){var u=2*this.O;this.h.info("BP detection timer enabled: "+u),this.B=Hn(ye(this.bb,this),u)}},Qe.bb=function(){this.B&&(this.B=null,this.h.info("BP detection timeout reached."),this.h.info("Buffering proxy detected and switch to long-polling!"),this.N=!1,this.L=!0,Sn(10),ha(this),Ts(this))},Qe.ab=function(){null!=this.v&&(this.v=null,ha(this),lu(this),Sn(19))},Qe.jb=function(u){u?(this.h.info("Successfully pinged google.com"),Sn(2)):(this.h.info("Failed to ping google.com"),Sn(1))},(Qe=$l.prototype).xa=function(){},Qe.wa=function(){},Qe.va=function(){},Qe.ua=function(){},Qe.Oa=function(){},yo.prototype.g=function(u,i){return new uc(u,i)},oe(uc,Zr),uc.prototype.m=function(){this.g.j=this.j,this.A&&(this.g.H=!0);var u=this.g,i=this.l,a=this.h||void 0;u.Wa&&(u.h.info("Origin Trials enabled."),Zi(ye(u.hb,u,i))),Sn(0),u.W=i,u.aa=a||{},u.N=u.X,u.F=Zl(u,null,u.W),Jo(u)},uc.prototype.close=function(){Xo(this.g)},uc.prototype.u=function(u){if("string"==typeof u){var i={};i.__data__=u,wu(this.g,i)}else this.v?((i={}).__data__=mn(u),wu(this.g,i)):wu(this.g,u)},uc.prototype.M=function(){this.g.j=null,delete this.j,Xo(this.g),delete this.g,uc.Z.M.call(this)},oe(Sc,ro),oe(tf,Co),oe(Qc,$l),Qc.prototype.xa=function(){Ar(this.g,"a")},Qc.prototype.wa=function(u){Ar(this.g,new Sc(u))},Qc.prototype.va=function(u){Ar(this.g,new tf(u))},Qc.prototype.ua=function(){Ar(this.g,"b")},yo.prototype.createWebChannel=yo.prototype.g,uc.prototype.send=uc.prototype.u,uc.prototype.open=uc.prototype.m,uc.prototype.close=uc.prototype.close,Or.NO_ERROR=0,Or.TIMEOUT=8,Or.HTTP_ERROR=6,jr.COMPLETE="complete",Us.EventType=ji,ji.OPEN="a",ji.CLOSE="b",ji.ERROR="c",ji.MESSAGE="d",Zr.prototype.listen=Zr.prototype.N,K.prototype.listenOnce=K.prototype.O,K.prototype.getLastError=K.prototype.La,K.prototype.getLastErrorCode=K.prototype.Da,K.prototype.getStatus=K.prototype.ba,K.prototype.getResponseJson=K.prototype.Qa,K.prototype.getResponseText=K.prototype.ga,K.prototype.send=K.prototype.ea;var ev=tt.createWebChannelTransport=function(){return new yo},nf=tt.getStatEventTarget=function(){return za()},So=tt.ErrorCode=Or,md=tt.EventType=jr,ol=tt.Event=To,ka=tt.Stat={rb:0,ub:1,vb:2,Ob:3,Tb:4,Qb:5,Rb:6,Pb:7,Nb:8,Sb:9,PROXY:10,NOPROXY:11,Lb:12,Hb:13,Ib:14,Gb:15,Jb:16,Kb:17,nb:18,mb:19,ob:20},Uh=tt.FetchXmlHttpFactory=ko,hc=tt.WebChannel=Us,Ac=tt.XhrIo=K;const Ic="@firebase/firestore";class da{constructor(i){this.uid=i}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(i){return i.uid===this.uid}}da.UNAUTHENTICATED=new da(null),da.GOOGLE_CREDENTIALS=new da("google-credentials-uid"),da.FIRST_PARTY=new da("first-party-uid"),da.MOCK_USER=new da("mock-user");let Zu="9.8.4";const Dc=new ve.Yd("@firebase/firestore");function cu(){return Dc.logLevel}function Uf(u){Dc.setLogLevel(u)}function Qr(u,...i){if(Dc.logLevel<=ve.in.DEBUG){const a=i.map(ts);Dc.debug(`Firestore (${Zu}): ${u}`,...a)}}function Pa(u,...i){if(Dc.logLevel<=ve.in.ERROR){const a=i.map(ts);Dc.error(`Firestore (${Zu}): ${u}`,...a)}}function Bh(u,...i){if(Dc.logLevel<=ve.in.WARN){const a=i.map(ts);Dc.warn(`Firestore (${Zu}): ${u}`,...a)}}function ts(u){if("string"==typeof u)return u;try{return JSON.stringify(u)}catch(a){return u}}function bi(u="Unexpected state"){const i=`FIRESTORE (${Zu}) INTERNAL ASSERTION FAILED: `+u;throw Pa(i),new Error(i)}function os(u,i){u||bi()}function jh(u,i){u||bi()}function ui(u,i){return u}const wr={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Nr extends Ne.ZR{constructor(i,a){super(i,a),this.code=i,this.message=a,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class vl{constructor(){this.promise=new Promise((i,a)=>{this.resolve=i,this.reject=a})}}class Eu{constructor(i,a){this.user=a,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${i}`)}}class vd{getToken(){return Promise.resolve(null)}invalidateToken(){}start(i,a){i.enqueueRetryable(()=>a(da.UNAUTHENTICATED))}shutdown(){}}class yd{constructor(i){this.token=i,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(i,a){this.changeListener=a,i.enqueueRetryable(()=>a(this.token.user))}shutdown(){this.changeListener=null}}class tv{constructor(i){this.t=i,this.currentUser=da.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(i,a){var p=this;let y=this.i;const b=pt=>this.i!==y?(y=this.i,a(pt)):Promise.resolve();let M=new vl;this.o=()=>{this.i++,this.currentUser=this.u(),M.resolve(),M=new vl,i.enqueueRetryable(()=>b(this.currentUser))};const ue=()=>{const pt=M;i.enqueueRetryable((0,C.Z)(function*(){yield pt.promise,yield b(p.currentUser)}))},Ye=pt=>{Qr("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=pt,this.auth.addAuthTokenListener(this.o),ue()};this.t.onInit(pt=>Ye(pt)),setTimeout(()=>{if(!this.auth){const pt=this.t.getImmediate({optional:!0});pt?Ye(pt):(Qr("FirebaseAuthCredentialsProvider","Auth not yet detected"),M.resolve(),M=new vl)}},0),ue()}getToken(){const i=this.i,a=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(a).then(p=>this.i!==i?(Qr("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):p?(os("string"==typeof p.accessToken),new Eu(p.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const i=this.auth&&this.auth.getUid();return os(null===i||"string"==typeof i),new da(i)}}class C0{constructor(i,a,p){this.type="FirstParty",this.user=da.FIRST_PARTY,this.headers=new Map,this.headers.set("X-Goog-AuthUser",a);const y=i.auth.getAuthHeaderValueForFirstParty([]);y&&this.headers.set("Authorization",y),p&&this.headers.set("X-Goog-Iam-Authorization-Token",p)}}class $u{constructor(i,a,p){this.h=i,this.l=a,this.m=p}getToken(){return Promise.resolve(new C0(this.h,this.l,this.m))}start(i,a){i.enqueueRetryable(()=>a(da.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class mh{constructor(i){this.value=i,this.type="AppCheck",this.headers=new Map,i&&i.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Bf{constructor(i){this.g=i,this.forceRefresh=!1,this.appCheck=null,this.p=null}start(i,a){const p=b=>{null!=b.error&&Qr("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${b.error.message}`);const M=b.token!==this.p;return this.p=b.token,Qr("FirebaseAppCheckTokenProvider",`Received ${M?"new":"existing"} token.`),M?a(b.token):Promise.resolve()};this.o=b=>{i.enqueueRetryable(()=>p(b))};const y=b=>{Qr("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=b,this.appCheck.addTokenListener(this.o)};this.g.onInit(b=>y(b)),setTimeout(()=>{if(!this.appCheck){const b=this.g.getImmediate({optional:!0});b?y(b):Qr("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const i=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(i).then(a=>a?(os("string"==typeof a.token),this.p=a.token,new mh(a.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function kc(u){const i="undefined"!=typeof self&&(self.crypto||self.msCrypto),a=new Uint8Array(u);if(i&&"function"==typeof i.getRandomValues)i.getRandomValues(a);else for(let p=0;p<u;p++)a[p]=Math.floor(256*Math.random());return a}class Vh{static I(){const i="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",a=Math.floor(256/i.length)*i.length;let p="";for(;p.length<20;){const y=kc(40);for(let b=0;b<y.length;++b)p.length<20&&y[b]<a&&(p+=i.charAt(y[b]%i.length))}return p}}function ie(u,i){return u<i?-1:u>i?1:0}function Y(u,i,a){return u.length===i.length&&u.every((p,y)=>a(p,i[y]))}function H(u){return u+"\0"}class Ae{constructor(i,a){if(this.seconds=i,this.nanoseconds=a,a<0)throw new Nr(wr.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+a);if(a>=1e9)throw new Nr(wr.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+a);if(i<-62135596800)throw new Nr(wr.INVALID_ARGUMENT,"Timestamp seconds out of range: "+i);if(i>=253402300800)throw new Nr(wr.INVALID_ARGUMENT,"Timestamp seconds out of range: "+i)}static now(){return Ae.fromMillis(Date.now())}static fromDate(i){return Ae.fromMillis(i.getTime())}static fromMillis(i){const a=Math.floor(i/1e3),p=Math.floor(1e6*(i-1e3*a));return new Ae(a,p)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(i){return this.seconds===i.seconds?ie(this.nanoseconds,i.nanoseconds):ie(this.seconds,i.seconds)}isEqual(i){return i.seconds===this.seconds&&i.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class Ge{constructor(i){this.timestamp=i}static fromTimestamp(i){return new Ge(i)}static min(){return new Ge(new Ae(0,0))}static max(){return new Ge(new Ae(253402300799,999999999))}compareTo(i){return this.timestamp._compareTo(i.timestamp)}isEqual(i){return this.timestamp.isEqual(i.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class kt{constructor(i,a,p){void 0===a?a=0:a>i.length&&bi(),void 0===p?p=i.length-a:p>i.length-a&&bi(),this.segments=i,this.offset=a,this.len=p}get length(){return this.len}isEqual(i){return 0===kt.comparator(this,i)}child(i){const a=this.segments.slice(this.offset,this.limit());return i instanceof kt?i.forEach(p=>{a.push(p)}):a.push(i),this.construct(a)}limit(){return this.offset+this.length}popFirst(i){return this.construct(this.segments,this.offset+(i=void 0===i?1:i),this.length-i)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(i){return this.segments[this.offset+i]}isEmpty(){return 0===this.length}isPrefixOf(i){if(i.length<this.length)return!1;for(let a=0;a<this.length;a++)if(this.get(a)!==i.get(a))return!1;return!0}isImmediateParentOf(i){if(this.length+1!==i.length)return!1;for(let a=0;a<this.length;a++)if(this.get(a)!==i.get(a))return!1;return!0}forEach(i){for(let a=this.offset,p=this.limit();a<p;a++)i(this.segments[a])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(i,a){const p=Math.min(i.length,a.length);for(let y=0;y<p;y++){const b=i.get(y),M=a.get(y);if(b<M)return-1;if(b>M)return 1}return i.length<a.length?-1:i.length>a.length?1:0}}class Zt extends kt{construct(i,a,p){return new Zt(i,a,p)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...i){const a=[];for(const p of i){if(p.indexOf("//")>=0)throw new Nr(wr.INVALID_ARGUMENT,`Invalid segment (${p}). Paths must not contain // in them.`);a.push(...p.split("/").filter(y=>y.length>0))}return new Zt(a)}static emptyPath(){return new Zt([])}}const Dn=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class ar extends kt{construct(i,a,p){return new ar(i,a,p)}static isValidIdentifier(i){return Dn.test(i)}canonicalString(){return this.toArray().map(i=>(i=i.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),ar.isValidIdentifier(i)||(i="`"+i+"`"),i)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new ar(["__name__"])}static fromServerFormat(i){const a=[];let p="",y=0;const b=()=>{if(0===p.length)throw new Nr(wr.INVALID_ARGUMENT,`Invalid field path (${i}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);a.push(p),p=""};let M=!1;for(;y<i.length;){const ue=i[y];if("\\"===ue){if(y+1===i.length)throw new Nr(wr.INVALID_ARGUMENT,"Path has trailing escape character: "+i);const Ye=i[y+1];if("\\"!==Ye&&"."!==Ye&&"`"!==Ye)throw new Nr(wr.INVALID_ARGUMENT,"Path has invalid escape sequence: "+i);p+=Ye,y+=2}else"`"===ue?(M=!M,y++):"."!==ue||M?(p+=ue,y++):(b(),y++)}if(b(),M)throw new Nr(wr.INVALID_ARGUMENT,"Unterminated ` in path: "+i);return new ar(a)}static emptyPath(){return new ar([])}}class rr{constructor(i){this.path=i}static fromPath(i){return new rr(Zt.fromString(i))}static fromName(i){return new rr(Zt.fromString(i).popFirst(5))}static empty(){return new rr(Zt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(i){return this.path.length>=2&&this.path.get(this.path.length-2)===i}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(i){return null!==i&&0===Zt.comparator(this.path,i.path)}toString(){return this.path.toString()}static comparator(i,a){return Zt.comparator(i.path,a.path)}static isDocumentKey(i){return i.length%2==0}static fromSegments(i){return new rr(new Zt(i.slice()))}}class hs{constructor(i,a,p,y){this.indexId=i,this.collectionGroup=a,this.fields=p,this.indexState=y}}function Vi(u){return u.fields.find(i=>2===i.kind)}function Xs(u){return u.fields.filter(i=>2!==i.kind)}hs.UNKNOWN_ID=-1;class oo{constructor(i,a){this.fieldPath=i,this.kind=a}}class fo{constructor(i,a){this.sequenceNumber=i,this.offset=a}static empty(){return new fo(0,yl.min())}}function Yu(u,i){const a=u.toTimestamp().seconds,p=u.toTimestamp().nanoseconds+1,y=Ge.fromTimestamp(1e9===p?new Ae(a+1,0):new Ae(a,p));return new yl(y,rr.empty(),i)}function Hh(u){return new yl(u.readTime,u.key,-1)}class yl{constructor(i,a,p){this.readTime=i,this.documentKey=a,this.largestBatchId=p}static min(){return new yl(Ge.min(),rr.empty(),-1)}static max(){return new yl(Ge.max(),rr.empty(),-1)}}function Na(u,i){let a=u.readTime.compareTo(i.readTime);return 0!==a?a:(a=rr.comparator(u.documentKey,i.documentKey),0!==a?a:ie(u.largestBatchId,i.largestBatchId))}const dc="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class vh{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(i){this.onCommittedListeners.push(i)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(i=>i())}}function yh(u){return _h.apply(this,arguments)}function _h(){return _h=(0,C.Z)(function*(u){if(u.code!==wr.FAILED_PRECONDITION||u.message!==dc)throw u;Qr("LocalStore","Unexpectedly lost primary lease")}),_h.apply(this,arguments)}class or{constructor(i){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,i(a=>{this.isDone=!0,this.result=a,this.nextCallback&&this.nextCallback(a)},a=>{this.isDone=!0,this.error=a,this.catchCallback&&this.catchCallback(a)})}catch(i){return this.next(void 0,i)}next(i,a){return this.callbackAttached&&bi(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(a,this.error):this.wrapSuccess(i,this.result):new or((p,y)=>{this.nextCallback=b=>{this.wrapSuccess(i,b).next(p,y)},this.catchCallback=b=>{this.wrapFailure(a,b).next(p,y)}})}toPromise(){return new Promise((i,a)=>{this.next(i,a)})}wrapUserFunction(i){try{const a=i();return a instanceof or?a:or.resolve(a)}catch(a){return or.reject(a)}}wrapSuccess(i,a){return i?this.wrapUserFunction(()=>i(a)):or.resolve(a)}wrapFailure(i,a){return i?this.wrapUserFunction(()=>i(a)):or.reject(a)}static resolve(i){return new or((a,p)=>{a(i)})}static reject(i){return new or((a,p)=>{p(i)})}static waitFor(i){return new or((a,p)=>{let y=0,b=0,M=!1;i.forEach(ue=>{++y,ue.next(()=>{++b,M&&b===y&&a()},Ye=>p(Ye))}),M=!0,b===y&&a()})}static or(i){let a=or.resolve(!1);for(const p of i)a=a.next(y=>y?or.resolve(y):p());return a}static forEach(i,a){const p=[];return i.forEach((y,b)=>{p.push(a.call(this,y,b))}),this.waitFor(p)}static mapArray(i,a){return new or((p,y)=>{const b=i.length,M=new Array(b);let ue=0;for(let Ye=0;Ye<b;Ye++){const pt=Ye;a(i[pt]).next(Wt=>{M[pt]=Wt,++ue,ue===b&&p(M)},Wt=>y(Wt))}})}static doWhile(i,a){return new or((p,y)=>{const b=()=>{!0===i()?a().next(()=>{b()},y):p()};b()})}}class zh{constructor(i,a){this.action=i,this.transaction=a,this.aborted=!1,this.T=new vl,this.transaction.oncomplete=()=>{this.T.resolve()},this.transaction.onabort=()=>{a.error?this.T.reject(new fc(i,a.error)):this.T.resolve()},this.transaction.onerror=p=>{const y=nv(p.target.error);this.T.reject(new fc(i,y))}}static open(i,a,p,y){try{return new zh(a,i.transaction(y,p))}catch(b){throw new fc(a,b)}}get A(){return this.T.promise}abort(i){i&&this.T.reject(i),this.aborted||(Qr("SimpleDb","Aborting transaction:",i?i.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}R(){const i=this.transaction;this.aborted||"function"!=typeof i.commit||i.commit()}store(i){const a=this.transaction.objectStore(i);return new S0(a)}}class Tu{constructor(i,a,p){this.name=i,this.version=a,this.P=p,12.2===Tu.v((0,Ne.z$)())&&Pa("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(i){return Qr("SimpleDb","Removing database:",i),Cu(window.indexedDB.deleteDatabase(i)).toPromise()}static V(){if(!(0,Ne.hl)())return!1;if(Tu.S())return!0;const i=(0,Ne.z$)(),a=Tu.v(i),p=0<a&&a<10,y=Tu.D(i),b=0<y&&y<4.5;return!(i.indexOf("MSIE ")>0||i.indexOf("Trident/")>0||i.indexOf("Edge/")>0||p||b)}static S(){var i;return"undefined"!=typeof process&&"YES"===(null===(i=process.env)||void 0===i?void 0:i.C)}static N(i,a){return i.store(a)}static v(i){const a=i.match(/i(?:phone|pad|pod) os ([\d_]+)/i),p=a?a[1].split("_").slice(0,2).join("."):"-1";return Number(p)}static D(i){const a=i.match(/Android ([\d.]+)/i),p=a?a[1].split(".").slice(0,2).join("."):"-1";return Number(p)}k(i){var a=this;return(0,C.Z)(function*(){return a.db||(Qr("SimpleDb","Opening database:",a.name),a.db=yield new Promise((p,y)=>{const b=indexedDB.open(a.name,a.version);b.onsuccess=M=>{p(M.target.result)},b.onblocked=()=>{y(new fc(i,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},b.onerror=M=>{const ue=M.target.error;y("VersionError"===ue.name?new Nr(wr.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):"InvalidStateError"===ue.name?new Nr(wr.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+ue):new fc(i,ue))},b.onupgradeneeded=M=>{Qr("SimpleDb",'Database "'+a.name+'" requires upgrade from version:',M.oldVersion),a.P.O(M.target.result,b.transaction,M.oldVersion,a.version).next(()=>{Qr("SimpleDb","Database upgrade to version "+a.version+" complete")})}})),a.M&&(a.db.onversionchange=p=>a.M(p)),a.db})()}F(i){this.M=i,this.db&&(this.db.onversionchange=a=>i(a))}runTransaction(i,a,p,y){var b=this;return(0,C.Z)(function*(){const M="readonly"===a;let ue=0;for(;;){++ue;try{b.db=yield b.k(i);const Ye=zh.open(b.db,i,M?"readonly":"readwrite",p),pt=y(Ye).next(Wt=>(Ye.R(),Wt)).catch(Wt=>(Ye.abort(Wt),or.reject(Wt))).toPromise();return pt.catch(()=>{}),yield Ye.A,pt}catch(Ye){const pt=Ye,Wt="FirebaseError"!==pt.name&&ue<3;if(Qr("SimpleDb","Transaction failed with error:",pt.message,"Retrying:",Wt),b.close(),!Wt)return Promise.reject(pt)}}})()}close(){this.db&&this.db.close(),this.db=void 0}}class qa{constructor(i){this.$=i,this.B=!1,this.L=null}get isDone(){return this.B}get U(){return this.L}set cursor(i){this.$=i}done(){this.B=!0}q(i){this.L=i}delete(){return Cu(this.$.delete())}}class fc extends Nr{constructor(i,a){super(wr.UNAVAILABLE,`IndexedDB transaction '${i}' failed: ${a}`),this.name="IndexedDbTransactionError"}}function Pc(u){return"IndexedDbTransactionError"===u.name}class S0{constructor(i){this.store=i}put(i,a){let p;return void 0!==a?(Qr("SimpleDb","PUT",this.store.name,i,a),p=this.store.put(a,i)):(Qr("SimpleDb","PUT",this.store.name,"<auto-key>",i),p=this.store.put(i)),Cu(p)}add(i){return Qr("SimpleDb","ADD",this.store.name,i,i),Cu(this.store.add(i))}get(i){return Cu(this.store.get(i)).next(a=>(void 0===a&&(a=null),Qr("SimpleDb","GET",this.store.name,i,a),a))}delete(i){return Qr("SimpleDb","DELETE",this.store.name,i),Cu(this.store.delete(i))}count(){return Qr("SimpleDb","COUNT",this.store.name),Cu(this.store.count())}K(i,a){const p=this.options(i,a);if(p.index||"function"!=typeof this.store.getAll){const y=this.cursor(p),b=[];return this.G(y,(M,ue)=>{b.push(ue)}).next(()=>b)}{const y=this.store.getAll(p.range);return new or((b,M)=>{y.onerror=ue=>{M(ue.target.error)},y.onsuccess=ue=>{b(ue.target.result)}})}}j(i,a){const p=this.store.getAll(i,null===a?void 0:a);return new or((y,b)=>{p.onerror=M=>{b(M.target.error)},p.onsuccess=M=>{y(M.target.result)}})}W(i,a){Qr("SimpleDb","DELETE ALL",this.store.name);const p=this.options(i,a);p.H=!1;const y=this.cursor(p);return this.G(y,(b,M,ue)=>ue.delete())}J(i,a){let p;a?p=i:(p={},a=i);const y=this.cursor(p);return this.G(y,a)}Y(i){const a=this.cursor({});return new or((p,y)=>{a.onerror=b=>{const M=nv(b.target.error);y(M)},a.onsuccess=b=>{const M=b.target.result;M?i(M.primaryKey,M.value).next(ue=>{ue?M.continue():p()}):p()}})}G(i,a){const p=[];return new or((y,b)=>{i.onerror=M=>{b(M.target.error)},i.onsuccess=M=>{const ue=M.target.result;if(!ue)return void y();const Ye=new qa(ue),pt=a(ue.primaryKey,ue.value,Ye);if(pt instanceof or){const Wt=pt.catch(Cn=>(Ye.done(),or.reject(Cn)));p.push(Wt)}Ye.isDone?y():null===Ye.U?ue.continue():ue.continue(Ye.U)}}).next(()=>or.waitFor(p))}options(i,a){let p;return void 0!==i&&("string"==typeof i?p=i:a=i),{index:p,range:a}}cursor(i){let a="next";if(i.reverse&&(a="prev"),i.index){const p=this.store.index(i.index);return i.H?p.openKeyCursor(i.range,a):p.openCursor(i.range,a)}return this.store.openCursor(i.range,a)}}function Cu(u){return new or((i,a)=>{u.onsuccess=p=>{i(p.target.result)},u.onerror=p=>{const y=nv(p.target.error);a(y)}})}let hy=!1;function nv(u){const i=Tu.v((0,Ne.z$)());if(i>=12.2&&i<13){const a="An internal error was encountered in the Indexed Database server";if(u.message.indexOf(a)>=0){const p=new Nr("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${a}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return hy||(hy=!0,setTimeout(()=>{throw p},0)),p}}return u}class dy{constructor(i,a){this.asyncQueue=i,this.X=a,this.task=null}start(){}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return null!==this.task}Z(i){var a=this;Qr("IndexBackiller",`Scheduled in ${i}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",i,(0,C.Z)(function*(){a.task=null;try{Qr("IndexBackiller",`Documents written: ${yield a.X.tt()}`)}catch(p){Pc(p)?Qr("IndexBackiller","Ignoring IndexedDB error during index backfill: ",p):yield yh(p)}yield a.Z(1)}))}}class rf{constructor(i,a){this.localStore=i,this.persistence=a}tt(i=50){var a=this;return(0,C.Z)(function*(){return a.persistence.runTransaction("Backfill Indexes","readwrite-primary",p=>a.et(p,i))})()}et(i,a){const p=new Set;let y=a,b=!0;return or.doWhile(()=>!0===b&&y>0,()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(i).next(M=>{if(null!==M&&!p.has(M))return Qr("IndexBackiller",`Processing collection: ${M}`),this.nt(i,M,y).next(ue=>{y-=ue,p.add(M)});b=!1})).next(()=>a-y)}nt(i,a,p){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(i,a).next(y=>this.localStore.localDocuments.getNextDocuments(i,a,y,p).next(b=>{const M=b.changes;return this.localStore.indexManager.updateIndexEntries(i,M).next(()=>this.st(y,b)).next(ue=>(Qr("IndexBackiller",`Updating offset: ${ue}`),this.localStore.indexManager.updateCollectionGroup(i,a,ue))).next(()=>M.size)}))}st(i,a){let p=i;return a.changes.forEach((y,b)=>{const M=Hh(b);Na(M,p)>0&&(p=M)}),new yl(p.readTime,p.documentKey,Math.max(a.batchId,i.largestBatchId))}}class uu{constructor(i,a){this.previousValue=i,a&&(a.sequenceNumberHandler=p=>this.it(p),this.rt=p=>a.writeSequenceNumber(p))}it(i){return this.previousValue=Math.max(i,this.previousValue),this.previousValue}next(){const i=++this.previousValue;return this.rt&&this.rt(i),i}}function Ga(u){let i=0;for(const a in u)Object.prototype.hasOwnProperty.call(u,a)&&i++;return i}function qi(u,i){for(const a in u)Object.prototype.hasOwnProperty.call(u,a)&&i(a,u[a])}function jc(u){for(const i in u)if(Object.prototype.hasOwnProperty.call(u,i))return!1;return!0}uu.ot=-1;class _l{constructor(i,a){this.comparator=i,this.root=a||co.EMPTY}insert(i,a){return new _l(this.comparator,this.root.insert(i,a,this.comparator).copy(null,null,co.BLACK,null,null))}remove(i){return new _l(this.comparator,this.root.remove(i,this.comparator).copy(null,null,co.BLACK,null,null))}get(i){let a=this.root;for(;!a.isEmpty();){const p=this.comparator(i,a.key);if(0===p)return a.value;p<0?a=a.left:p>0&&(a=a.right)}return null}indexOf(i){let a=0,p=this.root;for(;!p.isEmpty();){const y=this.comparator(i,p.key);if(0===y)return a+p.left.size;y<0?p=p.left:(a+=p.left.size+1,p=p.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(i){return this.root.inorderTraversal(i)}forEach(i){this.inorderTraversal((a,p)=>(i(a,p),!1))}toString(){const i=[];return this.inorderTraversal((a,p)=>(i.push(`${a}:${p}`),!1)),`{${i.join(", ")}}`}reverseTraversal(i){return this.root.reverseTraversal(i)}getIterator(){return new jf(this.root,null,this.comparator,!1)}getIteratorFrom(i){return new jf(this.root,i,this.comparator,!1)}getReverseIterator(){return new jf(this.root,null,this.comparator,!0)}getReverseIteratorFrom(i){return new jf(this.root,i,this.comparator,!0)}}class jf{constructor(i,a,p,y){this.isReverse=y,this.nodeStack=[];let b=1;for(;!i.isEmpty();)if(b=a?p(i.key,a):1,a&&y&&(b*=-1),b<0)i=this.isReverse?i.left:i.right;else{if(0===b){this.nodeStack.push(i);break}this.nodeStack.push(i),i=this.isReverse?i.right:i.left}}getNext(){let i=this.nodeStack.pop();const a={key:i.key,value:i.value};if(this.isReverse)for(i=i.left;!i.isEmpty();)this.nodeStack.push(i),i=i.right;else for(i=i.right;!i.isEmpty();)this.nodeStack.push(i),i=i.left;return a}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const i=this.nodeStack[this.nodeStack.length-1];return{key:i.key,value:i.value}}}class co{constructor(i,a,p,y,b){this.key=i,this.value=a,this.color=null!=p?p:co.RED,this.left=null!=y?y:co.EMPTY,this.right=null!=b?b:co.EMPTY,this.size=this.left.size+1+this.right.size}copy(i,a,p,y,b){return new co(null!=i?i:this.key,null!=a?a:this.value,null!=p?p:this.color,null!=y?y:this.left,null!=b?b:this.right)}isEmpty(){return!1}inorderTraversal(i){return this.left.inorderTraversal(i)||i(this.key,this.value)||this.right.inorderTraversal(i)}reverseTraversal(i){return this.right.reverseTraversal(i)||i(this.key,this.value)||this.left.reverseTraversal(i)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(i,a,p){let y=this;const b=p(i,y.key);return y=b<0?y.copy(null,null,null,y.left.insert(i,a,p),null):0===b?y.copy(null,a,null,null,null):y.copy(null,null,null,null,y.right.insert(i,a,p)),y.fixUp()}removeMin(){if(this.left.isEmpty())return co.EMPTY;let i=this;return i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.removeMin(),null),i.fixUp()}remove(i,a){let p,y=this;if(a(i,y.key)<0)y.left.isEmpty()||y.left.isRed()||y.left.left.isRed()||(y=y.moveRedLeft()),y=y.copy(null,null,null,y.left.remove(i,a),null);else{if(y.left.isRed()&&(y=y.rotateRight()),y.right.isEmpty()||y.right.isRed()||y.right.left.isRed()||(y=y.moveRedRight()),0===a(i,y.key)){if(y.right.isEmpty())return co.EMPTY;p=y.right.min(),y=y.copy(p.key,p.value,null,null,y.right.removeMin())}y=y.copy(null,null,null,null,y.right.remove(i,a))}return y.fixUp()}isRed(){return this.color}fixUp(){let i=this;return i.right.isRed()&&!i.left.isRed()&&(i=i.rotateLeft()),i.left.isRed()&&i.left.left.isRed()&&(i=i.rotateRight()),i.left.isRed()&&i.right.isRed()&&(i=i.colorFlip()),i}moveRedLeft(){let i=this.colorFlip();return i.right.left.isRed()&&(i=i.copy(null,null,null,null,i.right.rotateRight()),i=i.rotateLeft(),i=i.colorFlip()),i}moveRedRight(){let i=this.colorFlip();return i.left.left.isRed()&&(i=i.rotateRight(),i=i.colorFlip()),i}rotateLeft(){const i=this.copy(null,null,co.RED,null,this.right.left);return this.right.copy(null,null,this.color,i,null)}rotateRight(){const i=this.copy(null,null,co.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,i)}colorFlip(){const i=this.left.copy(null,null,!this.left.color,null,null),a=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,i,a)}checkMaxDepth(){const i=this.check();return Math.pow(2,i)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw bi();const i=this.left.check();if(i!==this.right.check())throw bi();return i+(this.isRed()?0:1)}}co.EMPTY=null,co.RED=!0,co.BLACK=!1,co.EMPTY=new class{constructor(){this.size=0}get key(){throw bi()}get value(){throw bi()}get color(){throw bi()}get left(){throw bi()}get right(){throw bi()}copy(u,i,a,p,y){return this}insert(u,i,a){return new co(u,i)}remove(u,i){return this}isEmpty(){return!0}inorderTraversal(u){return!1}reverseTraversal(u){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Gs{constructor(i){this.comparator=i,this.data=new _l(this.comparator)}has(i){return null!==this.data.get(i)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(i){return this.data.indexOf(i)}forEach(i){this.data.inorderTraversal((a,p)=>(i(a),!1))}forEachInRange(i,a){const p=this.data.getIteratorFrom(i[0]);for(;p.hasNext();){const y=p.getNext();if(this.comparator(y.key,i[1])>=0)return;a(y.key)}}forEachWhile(i,a){let p;for(p=void 0!==a?this.data.getIteratorFrom(a):this.data.getIterator();p.hasNext();)if(!i(p.getNext().key))return}firstAfterOrEqual(i){const a=this.data.getIteratorFrom(i);return a.hasNext()?a.getNext().key:null}getIterator(){return new _a(this.data.getIterator())}getIteratorFrom(i){return new _a(this.data.getIteratorFrom(i))}add(i){return this.copy(this.data.remove(i).insert(i,!0))}delete(i){return this.has(i)?this.copy(this.data.remove(i)):this}isEmpty(){return this.data.isEmpty()}unionWith(i){let a=this;return a.size<i.size&&(a=i,i=this),i.forEach(p=>{a=a.add(p)}),a}isEqual(i){if(!(i instanceof Gs)||this.size!==i.size)return!1;const a=this.data.getIterator(),p=i.data.getIterator();for(;a.hasNext();){const y=a.getNext().key,b=p.getNext().key;if(0!==this.comparator(y,b))return!1}return!0}toArray(){const i=[];return this.forEach(a=>{i.push(a)}),i}toString(){const i=[];return this.forEach(a=>i.push(a)),"SortedSet("+i.toString()+")"}copy(i){const a=new Gs(this.comparator);return a.data=i,a}}class _a{constructor(i){this.iter=i}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function Su(u){return u.hasNext()?u.getNext():void 0}class xl{constructor(i){this.fields=i,i.sort(ar.comparator)}static empty(){return new xl([])}unionWith(i){let a=new Gs(ar.comparator);for(const p of this.fields)a=a.add(p);for(const p of i)a=a.add(p);return new xl(a.toArray())}covers(i){for(const a of this.fields)if(a.isPrefixOf(i))return!0;return!1}isEqual(i){return Y(this.fields,i.fields,(a,p)=>a.isEqual(p))}}function Ku(){return"undefined"!=typeof atob}class al{constructor(i){this.binaryString=i}static fromBase64String(i){const a=atob(i);return new al(a)}static fromUint8Array(i){const a=function(p){let y="";for(let b=0;b<p.length;++b)y+=String.fromCharCode(p[b]);return y}(i);return new al(a)}[Symbol.iterator](){let i=0;return{next:()=>i<this.binaryString.length?{value:this.binaryString.charCodeAt(i++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(i){const a=new Uint8Array(i.length);for(let p=0;p<i.length;p++)a[p]=i.charCodeAt(p);return a}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(i){return ie(this.binaryString,i.binaryString)}isEqual(i){return this.binaryString===i.binaryString}}al.EMPTY_BYTE_STRING=new al("");const A0=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function xa(u){if(os(!!u),"string"==typeof u){let i=0;const a=A0.exec(u);if(os(!!a),a[1]){let y=a[1];y=(y+"000000000").substr(0,9),i=Number(y)}const p=new Date(u);return{seconds:Math.floor(p.getTime()/1e3),nanos:i}}return{seconds:Za(u.seconds),nanos:Za(u.nanos)}}function Za(u){return"number"==typeof u?u:"string"==typeof u?Number(u):0}function xh(u){return"string"==typeof u?al.fromBase64String(u):al.fromUint8Array(u)}function pc(u){var i,a;return"server_timestamp"===(null===(a=((null===(i=null==u?void 0:u.mapValue)||void 0===i?void 0:i.fields)||{}).__type__)||void 0===a?void 0:a.stringValue)}function Vf(u){const i=u.mapValue.fields.__previous_value__;return pc(i)?Vf(i):i}function wh(u){const i=xa(u.mapValue.fields.__local_write_time__.timestampValue);return new Ae(i.seconds,i.nanos)}class Fg{constructor(i,a,p,y,b,M,ue,Ye){this.databaseId=i,this.appId=a,this.persistenceKey=p,this.host=y,this.ssl=b,this.forceLongPolling=M,this.autoDetectLongPolling=ue,this.useFetchStreams=Ye}}class Xu{constructor(i,a){this.projectId=i,this.database=a||"(default)"}static empty(){return new Xu("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(i){return i instanceof Xu&&i.projectId===this.projectId&&i.database===this.database}}function sf(u){return null==u}function zo(u){return 0===u&&1/u==-1/0}function bh(u){return"number"==typeof u&&Number.isInteger(u)&&!zo(u)&&u<=Number.MAX_SAFE_INTEGER&&u>=Number.MIN_SAFE_INTEGER}const ao={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},fa={nullValue:"NULL_VALUE"};function $a(u){return"nullValue"in u?0:"booleanValue"in u?1:"integerValue"in u||"doubleValue"in u?2:"timestampValue"in u?3:"stringValue"in u?5:"bytesValue"in u?6:"referenceValue"in u?7:"geoPointValue"in u?8:"arrayValue"in u?9:"mapValue"in u?pc(u)?4:I0(u)?9007199254740991:10:bi()}function Au(u,i){if(u===i)return!0;const a=$a(u);if(a!==$a(i))return!1;switch(a){case 0:case 9007199254740991:return!0;case 1:return u.booleanValue===i.booleanValue;case 4:return wh(u).isEqual(wh(i));case 3:return function(p,y){if("string"==typeof p.timestampValue&&"string"==typeof y.timestampValue&&p.timestampValue.length===y.timestampValue.length)return p.timestampValue===y.timestampValue;const b=xa(p.timestampValue),M=xa(y.timestampValue);return b.seconds===M.seconds&&b.nanos===M.nanos}(u,i);case 5:return u.stringValue===i.stringValue;case 6:return y=i,xh(u.bytesValue).isEqual(xh(y.bytesValue));case 7:return u.referenceValue===i.referenceValue;case 8:return function(p,y){return Za(p.geoPointValue.latitude)===Za(y.geoPointValue.latitude)&&Za(p.geoPointValue.longitude)===Za(y.geoPointValue.longitude)}(u,i);case 2:return function(p,y){if("integerValue"in p&&"integerValue"in y)return Za(p.integerValue)===Za(y.integerValue);if("doubleValue"in p&&"doubleValue"in y){const b=Za(p.doubleValue),M=Za(y.doubleValue);return b===M?zo(b)===zo(M):isNaN(b)&&isNaN(M)}return!1}(u,i);case 9:return Y(u.arrayValue.values||[],i.arrayValue.values||[],Au);case 10:return function(p,y){const b=p.mapValue.fields||{},M=y.mapValue.fields||{};if(Ga(b)!==Ga(M))return!1;for(const ue in b)if(b.hasOwnProperty(ue)&&(void 0===M[ue]||!Au(b[ue],M[ue])))return!1;return!0}(u,i);default:return bi()}var y}function hu(u,i){return void 0!==(u.values||[]).find(a=>Au(a,i))}function Wh(u,i){if(u===i)return 0;const a=$a(u),p=$a(i);if(a!==p)return ie(a,p);switch(a){case 0:case 9007199254740991:return 0;case 1:return ie(u.booleanValue,i.booleanValue);case 2:return function(y,b){const M=Za(y.integerValue||y.doubleValue),ue=Za(b.integerValue||b.doubleValue);return M<ue?-1:M>ue?1:M===ue?0:isNaN(M)?isNaN(ue)?0:-1:1}(u,i);case 3:return qh(u.timestampValue,i.timestampValue);case 4:return qh(wh(u),wh(i));case 5:return ie(u.stringValue,i.stringValue);case 6:return function(y,b){const M=xh(y),ue=xh(b);return M.compareTo(ue)}(u.bytesValue,i.bytesValue);case 7:return function(y,b){const M=y.split("/"),ue=b.split("/");for(let Ye=0;Ye<M.length&&Ye<ue.length;Ye++){const pt=ie(M[Ye],ue[Ye]);if(0!==pt)return pt}return ie(M.length,ue.length)}(u.referenceValue,i.referenceValue);case 8:return function(y,b){const M=ie(Za(y.latitude),Za(b.latitude));return 0!==M?M:ie(Za(y.longitude),Za(b.longitude))}(u.geoPointValue,i.geoPointValue);case 9:return function(y,b){const M=y.values||[],ue=b.values||[];for(let Ye=0;Ye<M.length&&Ye<ue.length;++Ye){const pt=Wh(M[Ye],ue[Ye]);if(pt)return pt}return ie(M.length,ue.length)}(u.arrayValue,i.arrayValue);case 10:return function(y,b){if(y===ao.mapValue&&b===ao.mapValue)return 0;if(y===ao.mapValue)return 1;if(b===ao.mapValue)return-1;const M=y.fields||{},ue=Object.keys(M),Ye=b.fields||{},pt=Object.keys(Ye);ue.sort(),pt.sort();for(let Wt=0;Wt<ue.length&&Wt<pt.length;++Wt){const Cn=ie(ue[Wt],pt[Wt]);if(0!==Cn)return Cn;const fr=Wh(M[ue[Wt]],Ye[pt[Wt]]);if(0!==fr)return fr}return ie(ue.length,pt.length)}(u.mapValue,i.mapValue);default:throw bi()}}function qh(u,i){if("string"==typeof u&&"string"==typeof i&&u.length===i.length)return ie(u,i);const a=xa(u),p=xa(i),y=ie(a.seconds,p.seconds);return 0!==y?y:ie(a.nanos,p.nanos)}function Ju(u){return Hf(u)}function Hf(u){return"nullValue"in u?"null":"booleanValue"in u?""+u.booleanValue:"integerValue"in u?""+u.integerValue:"doubleValue"in u?""+u.doubleValue:"timestampValue"in u?function(p){const y=xa(p);return`time(${y.seconds},${y.nanos})`}(u.timestampValue):"stringValue"in u?u.stringValue:"bytesValue"in u?xh(u.bytesValue).toBase64():"referenceValue"in u?rr.fromName(u.referenceValue).toString():"geoPointValue"in u?`geo(${(i=u.geoPointValue).latitude},${i.longitude})`:"arrayValue"in u?function(p){let y="[",b=!0;for(const M of p.values||[])b?b=!1:y+=",",y+=Hf(M);return y+"]"}(u.arrayValue):"mapValue"in u?function(p){const y=Object.keys(p.fields||{}).sort();let b="{",M=!0;for(const ue of y)M?M=!1:b+=",",b+=`${ue}:${Hf(p.fields[ue])}`;return b+"}"}(u.mapValue):bi();var i}function Rl(u,i){return{referenceValue:`projects/${u.projectId}/databases/${u.database}/documents/${i.path.canonicalString()}`}}function zf(u){return!!u&&"integerValue"in u}function pa(u){return!!u&&"arrayValue"in u}function Vc(u){return!!u&&"nullValue"in u}function Rg(u){return!!u&&"doubleValue"in u&&isNaN(Number(u.doubleValue))}function Qu(u){return!!u&&"mapValue"in u}function ms(u){if(u.geoPointValue)return{geoPointValue:Object.assign({},u.geoPointValue)};if(u.timestampValue&&"object"==typeof u.timestampValue)return{timestampValue:Object.assign({},u.timestampValue)};if(u.mapValue){const i={mapValue:{fields:{}}};return qi(u.mapValue.fields,(a,p)=>i.mapValue.fields[a]=ms(p)),i}if(u.arrayValue){const i={arrayValue:{values:[]}};for(let a=0;a<(u.arrayValue.values||[]).length;++a)i.arrayValue.values[a]=ms(u.arrayValue.values[a]);return i}return Object.assign({},u)}function I0(u){return"__max__"===(((u.mapValue||{}).fields||{}).__type__||{}).stringValue}function wl(u){return"nullValue"in u?fa:"booleanValue"in u?{booleanValue:!1}:"integerValue"in u||"doubleValue"in u?{doubleValue:NaN}:"timestampValue"in u?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in u?{stringValue:""}:"bytesValue"in u?{bytesValue:""}:"referenceValue"in u?Rl(Xu.empty(),rr.empty()):"geoPointValue"in u?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in u?{arrayValue:{}}:"mapValue"in u?{mapValue:{}}:bi()}function Wf(u){return"nullValue"in u?{booleanValue:!1}:"booleanValue"in u?{doubleValue:NaN}:"integerValue"in u||"doubleValue"in u?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in u?{stringValue:""}:"stringValue"in u?{bytesValue:""}:"bytesValue"in u?Rl(Xu.empty(),rr.empty()):"referenceValue"in u?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in u?{arrayValue:{}}:"arrayValue"in u?{mapValue:{}}:"mapValue"in u?ao:bi()}function Ma(u,i){const a=Wh(u.value,i.value);return 0!==a?a:u.inclusive&&!i.inclusive?-1:!u.inclusive&&i.inclusive?1:0}function qf(u,i){const a=Wh(u.value,i.value);return 0!==a?a:u.inclusive&&!i.inclusive?1:!u.inclusive&&i.inclusive?-1:0}class Ya{constructor(i){this.value=i}static empty(){return new Ya({mapValue:{}})}field(i){if(i.isEmpty())return this.value;{let a=this.value;for(let p=0;p<i.length-1;++p)if(a=(a.mapValue.fields||{})[i.get(p)],!Qu(a))return null;return a=(a.mapValue.fields||{})[i.lastSegment()],a||null}}set(i,a){this.getFieldsMap(i.popLast())[i.lastSegment()]=ms(a)}setAll(i){let a=ar.emptyPath(),p={},y=[];i.forEach((M,ue)=>{if(!a.isImmediateParentOf(ue)){const Ye=this.getFieldsMap(a);this.applyChanges(Ye,p,y),p={},y=[],a=ue.popLast()}M?p[ue.lastSegment()]=ms(M):y.push(ue.lastSegment())});const b=this.getFieldsMap(a);this.applyChanges(b,p,y)}delete(i){const a=this.field(i.popLast());Qu(a)&&a.mapValue.fields&&delete a.mapValue.fields[i.lastSegment()]}isEqual(i){return Au(this.value,i.value)}getFieldsMap(i){let a=this.value;a.mapValue.fields||(a.mapValue={fields:{}});for(let p=0;p<i.length;++p){let y=a.mapValue.fields[i.get(p)];Qu(y)&&y.mapValue.fields||(y={mapValue:{fields:{}}},a.mapValue.fields[i.get(p)]=y),a=y}return a.mapValue.fields}applyChanges(i,a,p){qi(a,(y,b)=>i[y]=b);for(const y of p)delete i[y]}clone(){return new Ya(ms(this.value))}}function D0(u){const i=[];return qi(u.fields,(a,p)=>{const y=new ar([a]);if(Qu(p)){const b=D0(p.mapValue).fields;if(0===b.length)i.push(y);else for(const M of b)i.push(y.child(M))}else i.push(y)}),new xl(i)}class Cs{constructor(i,a,p,y,b,M){this.key=i,this.documentType=a,this.version=p,this.readTime=y,this.data=b,this.documentState=M}static newInvalidDocument(i){return new Cs(i,0,Ge.min(),Ge.min(),Ya.empty(),0)}static newFoundDocument(i,a,p){return new Cs(i,1,a,Ge.min(),p,0)}static newNoDocument(i,a){return new Cs(i,2,a,Ge.min(),Ya.empty(),0)}static newUnknownDocument(i,a){return new Cs(i,3,a,Ge.min(),Ya.empty(),2)}convertToFoundDocument(i,a){return this.version=i,this.documentType=1,this.data=a,this.documentState=0,this}convertToNoDocument(i){return this.version=i,this.documentType=2,this.data=Ya.empty(),this.documentState=0,this}convertToUnknownDocument(i){return this.version=i,this.documentType=3,this.data=Ya.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Ge.min(),this}setReadTime(i){return this.readTime=i,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(i){return i instanceof Cs&&this.key.isEqual(i.key)&&this.version.isEqual(i.version)&&this.documentType===i.documentType&&this.documentState===i.documentState&&this.data.isEqual(i.data)}mutableCopy(){return new Cs(this.key,this.documentType,this.version,this.readTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Lg{constructor(i,a=null,p=[],y=[],b=null,M=null,ue=null){this.path=i,this.collectionGroup=a,this.orderBy=p,this.filters=y,this.limit=b,this.startAt=M,this.endAt=ue,this.ut=null}}function Gf(u,i=null,a=[],p=[],y=null,b=null,M=null){return new Lg(u,i,a,p,y,b,M)}function rs(u){const i=ui(u);if(null===i.ut){let a=i.path.canonicalString();null!==i.collectionGroup&&(a+="|cg:"+i.collectionGroup),a+="|f:",a+=i.filters.map(p=>{return(y=p).field.canonicalString()+y.op.toString()+Ju(y.value);var y}).join(","),a+="|ob:",a+=i.orderBy.map(p=>{return(y=p).field.canonicalString()+y.dir;var y}).join(","),sf(i.limit)||(a+="|l:",a+=i.limit),i.startAt&&(a+="|lb:",a+=i.startAt.inclusive?"b:":"a:",a+=i.startAt.position.map(p=>Ju(p)).join(",")),i.endAt&&(a+="|ub:",a+=i.endAt.inclusive?"a:":"b:",a+=i.endAt.position.map(p=>Ju(p)).join(",")),i.ut=a}return i.ut}function Eh(u,i){if(u.limit!==i.limit||u.orderBy.length!==i.orderBy.length)return!1;for(let y=0;y<u.orderBy.length;y++)if(!k0(u.orderBy[y],i.orderBy[y]))return!1;if(u.filters.length!==i.filters.length)return!1;for(let y=0;y<u.filters.length;y++)if((a=u.filters[y]).op!==(p=i.filters[y]).op||!a.field.isEqual(p.field)||!Au(a.value,p.value))return!1;var a,p;return u.collectionGroup===i.collectionGroup&&!!u.path.isEqual(i.path)&&!!eu(u.startAt,i.startAt)&&eu(u.endAt,i.endAt)}function af(u){return rr.isDocumentKey(u.path)&&null===u.collectionGroup&&0===u.filters.length}function po(u,i){return u.filters.filter(a=>a instanceof ds&&a.field.isEqual(i))}function Zf(u,i,a){let p=fa,y=!0;for(const b of po(u,i)){let M=fa,ue=!0;switch(b.op){case"<":case"<=":M=wl(b.value);break;case"==":case"in":case">=":M=b.value;break;case">":M=b.value,ue=!1;break;case"!=":case"not-in":M=fa}Ma({value:p,inclusive:y},{value:M,inclusive:ue})<0&&(p=M,y=ue)}if(null!==a)for(let b=0;b<u.orderBy.length;++b)if(u.orderBy[b].field.isEqual(i)){const M=a.position[b];Ma({value:p,inclusive:y},{value:M,inclusive:a.inclusive})<0&&(p=M,y=a.inclusive);break}return{value:p,inclusive:y}}function $f(u,i,a){let p=ao,y=!0;for(const b of po(u,i)){let M=ao,ue=!0;switch(b.op){case">=":case">":M=Wf(b.value),ue=!1;break;case"==":case"in":case"<=":M=b.value;break;case"<":M=b.value,ue=!1;break;case"!=":case"not-in":M=ao}qf({value:p,inclusive:y},{value:M,inclusive:ue})>0&&(p=M,y=ue)}if(null!==a)for(let b=0;b<u.orderBy.length;++b)if(u.orderBy[b].field.isEqual(i)){const M=a.position[b];qf({value:p,inclusive:y},{value:M,inclusive:a.inclusive})>0&&(p=M,y=a.inclusive);break}return{value:p,inclusive:y}}class ds extends class{}{constructor(i,a,p){super(),this.field=i,this.op=a,this.value=p}static create(i,a,p){return i.isKeyField()?"in"===a||"not-in"===a?this.ct(i,a,p):new rv(i,a,p):"array-contains"===a?new sv(i,p):"in"===a?new wx(i,p):"not-in"===a?new ea(i,p):"array-contains-any"===a?new Ug(i,p):new ds(i,a,p)}static ct(i,a,p){return"in"===a?new iv(i,p):new lf(i,p)}matches(i){const a=i.data.field(this.field);return"!="===this.op?null!==a&&this.at(Wh(a,this.value)):null!==a&&$a(this.value)===$a(a)&&this.at(Wh(a,this.value))}at(i){switch(this.op){case"<":return i<0;case"<=":return i<=0;case"==":return 0===i;case"!=":return 0!==i;case">":return i>0;case">=":return i>=0;default:return bi()}}ht(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}}class rv extends ds{constructor(i,a,p){super(i,a,p),this.key=rr.fromName(p.referenceValue)}matches(i){const a=rr.comparator(i.key,this.key);return this.at(a)}}class iv extends ds{constructor(i,a){super(i,"in",a),this.keys=xd(0,a)}matches(i){return this.keys.some(a=>a.isEqual(i.key))}}class lf extends ds{constructor(i,a){super(i,"not-in",a),this.keys=xd(0,a)}matches(i){return!this.keys.some(a=>a.isEqual(i.key))}}function xd(u,i){var a;return((null===(a=i.arrayValue)||void 0===a?void 0:a.values)||[]).map(p=>rr.fromName(p.referenceValue))}class sv extends ds{constructor(i,a){super(i,"array-contains",a)}matches(i){const a=i.data.field(this.field);return pa(a)&&hu(a.arrayValue,this.value)}}class wx extends ds{constructor(i,a){super(i,"in",a)}matches(i){const a=i.data.field(this.field);return null!==a&&hu(this.value.arrayValue,a)}}class ea extends ds{constructor(i,a){super(i,"not-in",a)}matches(i){if(hu(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const a=i.data.field(this.field);return null!==a&&!hu(this.value.arrayValue,a)}}class Ug extends ds{constructor(i,a){super(i,"array-contains-any",a)}matches(i){const a=i.data.field(this.field);return!(!pa(a)||!a.arrayValue.values)&&a.arrayValue.values.some(p=>hu(this.value.arrayValue,p))}}class th{constructor(i,a){this.position=i,this.inclusive=a}}class cf{constructor(i,a="asc"){this.field=i,this.dir=a}}function k0(u,i){return u.dir===i.dir&&u.field.isEqual(i.field)}function ta(u,i,a){let p=0;for(let y=0;y<u.position.length;y++){const b=i[y],M=u.position[y];if(p=b.field.isKeyField()?rr.comparator(rr.fromName(M.referenceValue),a.key):Wh(M,a.data.field(b.field)),"desc"===b.dir&&(p*=-1),0!==p)break}return p}function eu(u,i){if(null===u)return null===i;if(null===i||u.inclusive!==i.inclusive||u.position.length!==i.position.length)return!1;for(let a=0;a<u.position.length;a++)if(!Au(u.position[a],i.position[a]))return!1;return!0}class nh{constructor(i,a=null,p=[],y=[],b=null,M="F",ue=null,Ye=null){this.path=i,this.collectionGroup=a,this.explicitOrderBy=p,this.filters=y,this.limit=b,this.limitType=M,this.startAt=ue,this.endAt=Ye,this.lt=null,this.ft=null}}function wd(u,i,a,p,y,b,M,ue){return new nh(u,i,a,p,y,b,M,ue)}function Yf(u){return new nh(u)}function P0(u){return u.explicitOrderBy.length>0?u.explicitOrderBy[0].field:null}function uf(u){for(const i of u.filters)if(i.ht())return i.field;return null}function Kf(u){return null!==u.collectionGroup}function Oa(u){const i=ui(u);if(null===i.lt){i.lt=[];const a=uf(i),p=P0(i);if(null!==a&&null===p)a.isKeyField()||i.lt.push(new cf(a)),i.lt.push(new cf(ar.keyField(),"asc"));else{let y=!1;for(const b of i.explicitOrderBy)i.lt.push(b),b.field.isKeyField()&&(y=!0);if(!y){const b=i.explicitOrderBy.length>0?i.explicitOrderBy[i.explicitOrderBy.length-1].dir:"asc";i.lt.push(new cf(ar.keyField(),b))}}}return i.lt}function gc(u){const i=ui(u);if(!i.ft)if("F"===i.limitType)i.ft=Gf(i.path,i.collectionGroup,Oa(i),i.filters,i.limit,i.startAt,i.endAt);else{const a=[];for(const b of Oa(i))a.push(new cf(b.field,"desc"===b.dir?"asc":"desc"));const p=i.endAt?new th(i.endAt.position,i.endAt.inclusive):null,y=i.startAt?new th(i.startAt.position,i.startAt.inclusive):null;i.ft=Gf(i.path,i.collectionGroup,a,i.filters,i.limit,p,y)}return i.ft}function hi(u,i,a){return new nh(u.path,u.collectionGroup,u.explicitOrderBy.slice(),u.filters.slice(),i,a,u.startAt,u.endAt)}function Gh(u,i){return Eh(gc(u),gc(i))&&u.limitType===i.limitType}function ov(u){return`${rs(gc(u))}|lt:${u.limitType}`}function Dp(u){return`Query(target=${function eh(u){let i=u.path.canonicalString();return null!==u.collectionGroup&&(i+=" collectionGroup="+u.collectionGroup),u.filters.length>0&&(i+=`, filters: [${u.filters.map(a=>{return`${(p=a).field.canonicalString()} ${p.op} ${Ju(p.value)}`;var p}).join(", ")}]`),sf(u.limit)||(i+=", limit: "+u.limit),u.orderBy.length>0&&(i+=`, orderBy: [${u.orderBy.map(a=>{return`${(p=a).field.canonicalString()} (${p.dir})`;var p}).join(", ")}]`),u.startAt&&(i+=", startAt: ",i+=u.startAt.inclusive?"b:":"a:",i+=u.startAt.position.map(a=>Ju(a)).join(",")),u.endAt&&(i+=", endAt: ",i+=u.endAt.inclusive?"a:":"b:",i+=u.endAt.position.map(a=>Ju(a)).join(",")),`Target(${i})`}(gc(u))}; limitType=${u.limitType})`}function hf(u,i){return i.isFoundDocument()&&function(a,p){const y=p.key.path;return null!==a.collectionGroup?p.key.hasCollectionId(a.collectionGroup)&&a.path.isPrefixOf(y):rr.isDocumentKey(a.path)?a.path.isEqual(y):a.path.isImmediateParentOf(y)}(u,i)&&function(a,p){for(const y of a.explicitOrderBy)if(!y.field.isKeyField()&&null===p.data.field(y.field))return!1;return!0}(u,i)&&function(a,p){for(const y of a.filters)if(!y.matches(p))return!1;return!0}(u,i)&&(p=i,!((a=u).startAt&&!function(y,b,M){const ue=ta(y,b,M);return y.inclusive?ue<=0:ue<0}(a.startAt,Oa(a),p)||a.endAt&&!function(y,b,M){const ue=ta(y,b,M);return y.inclusive?ue>=0:ue>0}(a.endAt,Oa(a),p)));var a,p}function ll(u){return u.collectionGroup||(u.path.length%2==1?u.path.lastSegment():u.path.get(u.path.length-2))}function rh(u){return(i,a)=>{let p=!1;for(const y of Oa(u)){const b=bl(y,i,a);if(0!==b)return b;p=p||y.field.isKeyField()}return 0}}function bl(u,i,a){const p=u.field.isKeyField()?rr.comparator(i.key,a.key):function(y,b,M){const ue=b.data.field(y),Ye=M.data.field(y);return null!==ue&&null!==Ye?Wh(ue,Ye):bi()}(u.field,i,a);switch(u.dir){case"asc":return p;case"desc":return-1*p;default:return bi()}}function bd(u,i){if(u.dt){if(isNaN(i))return{doubleValue:"NaN"};if(i===1/0)return{doubleValue:"Infinity"};if(i===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:zo(i)?"-0":i}}function av(u){return{integerValue:""+u}}function Bg(u,i){return bh(i)?av(i):bd(u,i)}class N0{constructor(){this._=void 0}}function jg(u,i,a){return u instanceof Zh?function(p,y){const b={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:p.seconds,nanos:p.nanoseconds}}}};return y&&(b.fields.__previous_value__=y),{mapValue:b}}(a,i):u instanceof Ed?df(u,i):u instanceof Td?M0(u,i):function(p,y){const b=Hg(p,y),M=S(b)+S(p._t);return zf(b)&&zf(p._t)?av(M):bd(p.wt,M)}(u,i)}function Vg(u,i,a){return u instanceof Ed?df(u,i):u instanceof Td?M0(u,i):a}function Hg(u,i){return u instanceof q?zf(a=i)||(p=a)&&"doubleValue"in p?i:{integerValue:0}:null;var p,a}class Zh extends N0{}class Ed extends N0{constructor(i){super(),this.elements=i}}function df(u,i){const a=k(i);for(const p of u.elements)a.some(y=>Au(y,p))||a.push(p);return{arrayValue:{values:a}}}class Td extends N0{constructor(i){super(),this.elements=i}}function M0(u,i){let a=k(i);for(const p of u.elements)a=a.filter(y=>!Au(y,p));return{arrayValue:{values:a}}}class q extends N0{constructor(i,a){super(),this.wt=i,this._t=a}}function S(u){return Za(u.integerValue||u.doubleValue)}function k(u){return pa(u)&&u.arrayValue.values?u.arrayValue.values.slice():[]}class le{constructor(i,a){this.field=i,this.transform=a}}class zt{constructor(i,a){this.version=i,this.transformResults=a}}class Vn{constructor(i,a){this.updateTime=i,this.exists=a}static none(){return new Vn}static exists(i){return new Vn(void 0,i)}static updateTime(i){return new Vn(i)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(i){return this.exists===i.exists&&(this.updateTime?!!i.updateTime&&this.updateTime.isEqual(i.updateTime):!i.updateTime)}}function Vr(u,i){return void 0!==u.updateTime?i.isFoundDocument()&&i.version.isEqual(u.updateTime):void 0===u.exists||u.exists===i.isFoundDocument()}class Ei{}function Yi(u,i){if(!u.hasLocalMutations||i&&0===i.fields.length)return null;if(null===i)return u.isNoDocument()?new Cd(u.key,Vn.none()):new ih(u.key,u.data,Vn.none());{const a=u.data,p=Ya.empty();let y=new Gs(ar.comparator);for(let b of i.fields)if(!y.has(b)){let M=a.field(b);null===M&&b.length>1&&(b=b.popLast(),M=a.field(b)),null===M?p.delete(b):p.set(b,M),y=y.add(b)}return new na(u.key,p,new xl(y.toArray()),Vn.none())}}function Os(u,i,a){u instanceof ih?function(p,y,b){const M=p.value.clone(),ue=O0(p.fieldTransforms,y,b.transformResults);M.setAll(ue),y.convertToFoundDocument(b.version,M).setHasCommittedMutations()}(u,i,a):u instanceof na?function(p,y,b){if(!Vr(p.precondition,y))return void y.convertToUnknownDocument(b.version);const M=O0(p.fieldTransforms,y,b.transformResults),ue=y.data;ue.setAll($h(p)),ue.setAll(M),y.convertToFoundDocument(b.version,ue).setHasCommittedMutations()}(u,i,a):i.convertToNoDocument(a.version).setHasCommittedMutations()}function Lo(u,i,a,p){return u instanceof ih?function(y,b,M,ue){if(!Vr(y.precondition,b))return M;const Ye=y.value.clone(),pt=ff(y.fieldTransforms,ue,b);return Ye.setAll(pt),b.convertToFoundDocument(b.version,Ye).setHasLocalMutations(),null}(u,i,a,p):u instanceof na?function(y,b,M,ue){if(!Vr(y.precondition,b))return M;const Ye=ff(y.fieldTransforms,ue,b),pt=b.data;return pt.setAll($h(y)),pt.setAll(Ye),b.convertToFoundDocument(b.version,pt).setHasLocalMutations(),null===M?null:M.unionWith(y.fieldMask.fields).unionWith(y.fieldTransforms.map(Wt=>Wt.field))}(u,i,a,p):(M=a,Vr(u.precondition,b=i)?(b.convertToNoDocument(b.version).setHasLocalMutations(),null):M);var b,M}function mc(u,i){let a=null;for(const p of u.fieldTransforms){const y=i.data.field(p.field),b=Hg(p.transform,y||null);null!=b&&(null===a&&(a=Ya.empty()),a.set(p.field,b))}return a||null}function Ll(u,i){return u.type===i.type&&!!u.key.isEqual(i.key)&&!!u.precondition.isEqual(i.precondition)&&(p=i.fieldTransforms,!!(void 0===(a=u.fieldTransforms)&&void 0===p||a&&p&&Y(a,p,(y,b)=>function wt(u,i){return u.field.isEqual(i.field)&&(p=i.transform,(a=u.transform)instanceof Ed&&p instanceof Ed||a instanceof Td&&p instanceof Td?Y(a.elements,p.elements,Au):a instanceof q&&p instanceof q?Au(a._t,p._t):a instanceof Zh&&p instanceof Zh);var a,p}(y,b))))&&(0===u.type?u.value.isEqual(i.value):1!==u.type||u.data.isEqual(i.data)&&u.fieldMask.isEqual(i.fieldMask));var a,p}class ih extends Ei{constructor(i,a,p,y=[]){super(),this.key=i,this.value=a,this.precondition=p,this.fieldTransforms=y,this.type=0}getFieldMask(){return null}}class na extends Ei{constructor(i,a,p,y,b=[]){super(),this.key=i,this.data=a,this.fieldMask=p,this.precondition=y,this.fieldTransforms=b,this.type=1}getFieldMask(){return this.fieldMask}}function $h(u){const i=new Map;return u.fieldMask.fields.forEach(a=>{if(!a.isEmpty()){const p=u.data.field(a);i.set(a,p)}}),i}function O0(u,i,a){const p=new Map;os(u.length===a.length);for(let y=0;y<a.length;y++){const b=u[y],M=b.transform,ue=i.data.field(b.field);p.set(b.field,Vg(M,ue,a[y]))}return p}function ff(u,i,a){const p=new Map;for(const y of u){const b=y.transform,M=a.data.field(y.field);p.set(y.field,jg(b,M,i))}return p}class Cd extends Ei{constructor(i,a){super(),this.key=i,this.precondition=a,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class F0 extends Ei{constructor(i,a){super(),this.key=i,this.precondition=a,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class lv{constructor(i){this.count=i}}var Fa,Zs;function Yl(u){switch(u){default:return bi();case wr.CANCELLED:case wr.UNKNOWN:case wr.DEADLINE_EXCEEDED:case wr.RESOURCE_EXHAUSTED:case wr.INTERNAL:case wr.UNAVAILABLE:case wr.UNAUTHENTICATED:return!1;case wr.INVALID_ARGUMENT:case wr.NOT_FOUND:case wr.ALREADY_EXISTS:case wr.PERMISSION_DENIED:case wr.FAILED_PRECONDITION:case wr.ABORTED:case wr.OUT_OF_RANGE:case wr.UNIMPLEMENTED:case wr.DATA_LOSS:return!0}}function cl(u){if(void 0===u)return Pa("GRPC error has no .code"),wr.UNKNOWN;switch(u){case Fa.OK:return wr.OK;case Fa.CANCELLED:return wr.CANCELLED;case Fa.UNKNOWN:return wr.UNKNOWN;case Fa.DEADLINE_EXCEEDED:return wr.DEADLINE_EXCEEDED;case Fa.RESOURCE_EXHAUSTED:return wr.RESOURCE_EXHAUSTED;case Fa.INTERNAL:return wr.INTERNAL;case Fa.UNAVAILABLE:return wr.UNAVAILABLE;case Fa.UNAUTHENTICATED:return wr.UNAUTHENTICATED;case Fa.INVALID_ARGUMENT:return wr.INVALID_ARGUMENT;case Fa.NOT_FOUND:return wr.NOT_FOUND;case Fa.ALREADY_EXISTS:return wr.ALREADY_EXISTS;case Fa.PERMISSION_DENIED:return wr.PERMISSION_DENIED;case Fa.FAILED_PRECONDITION:return wr.FAILED_PRECONDITION;case Fa.ABORTED:return wr.ABORTED;case Fa.OUT_OF_RANGE:return wr.OUT_OF_RANGE;case Fa.UNIMPLEMENTED:return wr.UNIMPLEMENTED;case Fa.DATA_LOSS:return wr.DATA_LOSS;default:return bi()}}(Zs=Fa||(Fa={}))[Zs.OK=0]="OK",Zs[Zs.CANCELLED=1]="CANCELLED",Zs[Zs.UNKNOWN=2]="UNKNOWN",Zs[Zs.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Zs[Zs.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Zs[Zs.NOT_FOUND=5]="NOT_FOUND",Zs[Zs.ALREADY_EXISTS=6]="ALREADY_EXISTS",Zs[Zs.PERMISSION_DENIED=7]="PERMISSION_DENIED",Zs[Zs.UNAUTHENTICATED=16]="UNAUTHENTICATED",Zs[Zs.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Zs[Zs.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Zs[Zs.ABORTED=10]="ABORTED",Zs[Zs.OUT_OF_RANGE=11]="OUT_OF_RANGE",Zs[Zs.UNIMPLEMENTED=12]="UNIMPLEMENTED",Zs[Zs.INTERNAL=13]="INTERNAL",Zs[Zs.UNAVAILABLE=14]="UNAVAILABLE",Zs[Zs.DATA_LOSS=15]="DATA_LOSS";class Er{constructor(i,a){this.mapKeyFn=i,this.equalsFn=a,this.inner={},this.innerSize=0}get(i){const a=this.mapKeyFn(i),p=this.inner[a];if(void 0!==p)for(const[y,b]of p)if(this.equalsFn(y,i))return b}has(i){return void 0!==this.get(i)}set(i,a){const p=this.mapKeyFn(i),y=this.inner[p];if(void 0===y)return this.inner[p]=[[i,a]],void this.innerSize++;for(let b=0;b<y.length;b++)if(this.equalsFn(y[b][0],i))return void(y[b]=[i,a]);y.push([i,a]),this.innerSize++}delete(i){const a=this.mapKeyFn(i),p=this.inner[a];if(void 0===p)return!1;for(let y=0;y<p.length;y++)if(this.equalsFn(p[y][0],i))return 1===p.length?delete this.inner[a]:p.splice(y,1),this.innerSize--,!0;return!1}forEach(i){qi(this.inner,(a,p)=>{for(const[y,b]of p)i(y,b)})}isEmpty(){return jc(this.inner)}size(){return this.innerSize}}const ra=new _l(rr.comparator);function ia(){return ra}const Yr=new _l(rr.comparator);function Yh(...u){let i=Yr;for(const a of u)i=i.insert(a.key,a);return i}function cv(u){let i=Yr;return u.forEach((a,p)=>i=i.insert(a,p.overlayedDocument)),i}function Iu(){return kp()}function uv(){return kp()}function kp(){return new Er(u=>u.toString(),(u,i)=>u.isEqual(i))}const El=new _l(rr.comparator),ab=new Gs(rr.comparator);function Js(...u){let i=ab;for(const a of u)i=i.add(a);return i}const bx=new Gs(ie);function Mo(){return bx}class vc{constructor(i,a,p,y,b){this.snapshotVersion=i,this.targetChanges=a,this.targetMismatches=p,this.documentUpdates=y,this.resolvedLimboDocuments=b}static createSynthesizedRemoteEventForCurrentChange(i,a){const p=new Map;return p.set(i,Pp.createSynthesizedTargetChangeForCurrentChange(i,a)),new vc(Ge.min(),p,Mo(),ia(),Js())}}class Pp{constructor(i,a,p,y,b){this.resumeToken=i,this.current=a,this.addedDocuments=p,this.modifiedDocuments=y,this.removedDocuments=b}static createSynthesizedTargetChangeForCurrentChange(i,a){return new Pp(al.EMPTY_BYTE_STRING,a,Js(),Js(),Js())}}class zg{constructor(i,a,p,y){this.gt=i,this.removedTargetIds=a,this.key=p,this.yt=y}}class ul{constructor(i,a){this.targetId=i,this.It=a}}class Gi{constructor(i,a,p=al.EMPTY_BYTE_STRING,y=null){this.state=i,this.targetIds=a,this.resumeToken=p,this.cause=y}}class Kl{constructor(){this.Tt=0,this.Et=py(),this.At=al.EMPTY_BYTE_STRING,this.Rt=!1,this.bt=!0}get current(){return this.Rt}get resumeToken(){return this.At}get Pt(){return 0!==this.Tt}get vt(){return this.bt}Vt(i){i.approximateByteSize()>0&&(this.bt=!0,this.At=i)}St(){let i=Js(),a=Js(),p=Js();return this.Et.forEach((y,b)=>{switch(b){case 0:i=i.add(y);break;case 2:a=a.add(y);break;case 1:p=p.add(y);break;default:bi()}}),new Pp(this.At,this.Rt,i,a,p)}Dt(){this.bt=!1,this.Et=py()}Ct(i,a){this.bt=!0,this.Et=this.Et.insert(i,a)}xt(i){this.bt=!0,this.Et=this.Et.remove(i)}Nt(){this.Tt+=1}kt(){this.Tt-=1}Ot(){this.bt=!0,this.Rt=!0}}class ks{constructor(i){this.Mt=i,this.Ft=new Map,this.$t=ia(),this.Bt=go(),this.Lt=new Gs(ie)}Ut(i){for(const a of i.gt)i.yt&&i.yt.isFoundDocument()?this.qt(a,i.yt):this.Kt(a,i.key,i.yt);for(const a of i.removedTargetIds)this.Kt(a,i.key,i.yt)}Gt(i){this.forEachTarget(i,a=>{const p=this.Qt(a);switch(i.state){case 0:this.jt(a)&&p.Vt(i.resumeToken);break;case 1:p.kt(),p.Pt||p.Dt(),p.Vt(i.resumeToken);break;case 2:p.kt(),p.Pt||this.removeTarget(a);break;case 3:this.jt(a)&&(p.Ot(),p.Vt(i.resumeToken));break;case 4:this.jt(a)&&(this.Wt(a),p.Vt(i.resumeToken));break;default:bi()}})}forEachTarget(i,a){i.targetIds.length>0?i.targetIds.forEach(a):this.Ft.forEach((p,y)=>{this.jt(y)&&a(y)})}zt(i){const a=i.targetId,p=i.It.count,y=this.Ht(a);if(y){const b=y.target;if(af(b))if(0===p){const M=new rr(b.path);this.Kt(a,M,Cs.newNoDocument(M,Ge.min()))}else os(1===p);else this.Jt(a)!==p&&(this.Wt(a),this.Lt=this.Lt.add(a))}}Yt(i){const a=new Map;this.Ft.forEach((b,M)=>{const ue=this.Ht(M);if(ue){if(b.current&&af(ue.target)){const Ye=new rr(ue.target.path);null!==this.$t.get(Ye)||this.Xt(M,Ye)||this.Kt(M,Ye,Cs.newNoDocument(Ye,i))}b.vt&&(a.set(M,b.St()),b.Dt())}});let p=Js();this.Bt.forEach((b,M)=>{let ue=!0;M.forEachWhile(Ye=>{const pt=this.Ht(Ye);return!pt||2===pt.purpose||(ue=!1,!1)}),ue&&(p=p.add(b))}),this.$t.forEach((b,M)=>M.setReadTime(i));const y=new vc(i,a,this.Lt,this.$t,p);return this.$t=ia(),this.Bt=go(),this.Lt=new Gs(ie),y}qt(i,a){if(!this.jt(i))return;const p=this.Xt(i,a.key)?2:0;this.Qt(i).Ct(a.key,p),this.$t=this.$t.insert(a.key,a),this.Bt=this.Bt.insert(a.key,this.Zt(a.key).add(i))}Kt(i,a,p){if(!this.jt(i))return;const y=this.Qt(i);this.Xt(i,a)?y.Ct(a,1):y.xt(a),this.Bt=this.Bt.insert(a,this.Zt(a).delete(i)),p&&(this.$t=this.$t.insert(a,p))}removeTarget(i){this.Ft.delete(i)}Jt(i){const a=this.Qt(i).St();return this.Mt.getRemoteKeysForTarget(i).size+a.addedDocuments.size-a.removedDocuments.size}Nt(i){this.Qt(i).Nt()}Qt(i){let a=this.Ft.get(i);return a||(a=new Kl,this.Ft.set(i,a)),a}Zt(i){let a=this.Bt.get(i);return a||(a=new Gs(ie),this.Bt=this.Bt.insert(i,a)),a}jt(i){const a=null!==this.Ht(i);return a||Qr("WatchChangeAggregator","Detected inactive target",i),a}Ht(i){const a=this.Ft.get(i);return a&&a.Pt?null:this.Mt.te(i)}Wt(i){this.Ft.set(i,new Kl),this.Mt.getRemoteKeysForTarget(i).forEach(a=>{this.Kt(i,a,null)})}Xt(i,a){return this.Mt.getRemoteKeysForTarget(i).has(a)}}function go(){return new _l(rr.comparator)}function py(){return new _l(rr.comparator)}const Kh={asc:"ASCENDING",desc:"DESCENDING"},Xf={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"};class gy{constructor(i,a){this.databaseId=i,this.dt=a}}function Sd(u,i){return u.dt?`${new Date(1e3*i.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+i.nanoseconds).slice(-9)}Z`:{seconds:""+i.seconds,nanos:i.nanoseconds}}function my(u,i){return u.dt?i.toBase64():i.toUint8Array()}function Xh(u,i){return Sd(u,i.toTimestamp())}function Po(u){return os(!!u),Ge.fromTimestamp(function(i){const a=xa(i);return new Ae(a.seconds,a.nanos)}(u))}function Tl(u,i){return(a=u,new Zt(["projects",a.projectId,"databases",a.database])).child("documents").child(i).canonicalString();var a}function Ex(u){const i=Zt.fromString(u);return os(ku(i)),i}function Wg(u,i){return Tl(u.databaseId,i.path)}function Du(u,i){const a=Ex(i);if(a.get(1)!==u.databaseId.projectId)throw new Nr(wr.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+a.get(1)+" vs "+u.databaseId.projectId);if(a.get(3)!==u.databaseId.database)throw new Nr(wr.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+a.get(3)+" vs "+u.databaseId.database);return new rr(sh(a))}function vy(u,i){return Tl(u.databaseId,i)}function Tx(u){const i=Ex(u);return 4===i.length?Zt.emptyPath():sh(i)}function Jf(u){return new Zt(["projects",u.databaseId.projectId,"databases",u.databaseId.database]).canonicalString()}function sh(u){return os(u.length>4&&"documents"===u.get(4)),u.popFirst(5)}function Qf(u,i,a){return{name:Wg(u,i),fields:a.value.mapValue.fields}}function ep(u,i,a){const p=Du(u,i.name),y=Po(i.updateTime),b=new Ya({mapValue:{fields:i.fields}}),M=Cs.newFoundDocument(p,y,b);return a&&M.setHasCommittedMutations(),a?M.setHasCommittedMutations():M}function Mp(u,i){let a;if(i instanceof ih)a={update:Qf(u,i.key,i.value)};else if(i instanceof Cd)a={delete:Wg(u,i.key)};else if(i instanceof na)a={update:Qf(u,i.key,i.data),updateMask:EC(i.fieldMask)};else{if(!(i instanceof F0))return bi();a={verify:Wg(u,i.key)}}return i.fieldTransforms.length>0&&(a.updateTransforms=i.fieldTransforms.map(p=>function(y,b){const M=b.transform;if(M instanceof Zh)return{fieldPath:b.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(M instanceof Ed)return{fieldPath:b.field.canonicalString(),appendMissingElements:{values:M.elements}};if(M instanceof Td)return{fieldPath:b.field.canonicalString(),removeAllFromArray:{values:M.elements}};if(M instanceof q)return{fieldPath:b.field.canonicalString(),increment:M._t};throw bi()}(0,p))),i.precondition.isNone||(a.currentDocument=void 0!==(y=i.precondition).updateTime?{updateTime:Xh(u,y.updateTime)}:void 0!==y.exists?{exists:y.exists}:bi()),a;var y}function qg(u,i){const a=i.currentDocument?void 0!==(y=i.currentDocument).updateTime?Vn.updateTime(Po(y.updateTime)):void 0!==y.exists?Vn.exists(y.exists):Vn.none():Vn.none(),p=i.updateTransforms?i.updateTransforms.map(y=>function(b,M){let ue=null;"setToServerValue"in M?(os("REQUEST_TIME"===M.setToServerValue),ue=new Zh):"appendMissingElements"in M?ue=new Ed(M.appendMissingElements.values||[]):"removeAllFromArray"in M?ue=new Td(M.removeAllFromArray.values||[]):"increment"in M?ue=new q(b,M.increment):bi();const Ye=ar.fromServerFormat(M.fieldPath);return new le(Ye,ue)}(u,y)):[];var y;if(i.update){const y=Du(u,i.update.name),b=new Ya({mapValue:{fields:i.update.fields}});if(i.updateMask){const M=new xl((i.updateMask.fieldPaths||[]).map(pt=>ar.fromServerFormat(pt)));return new na(y,b,M,a,p)}return new ih(y,b,a,p)}if(i.delete){const y=Du(u,i.delete);return new Cd(y,a)}if(i.verify){const y=Du(u,i.verify);return new F0(y,a)}return bi()}function Cx(u,i){return{documents:[vy(u,i.path)]}}function dv(u,i){const a={structuredQuery:{}},p=i.path;null!==i.collectionGroup?(a.parent=vy(u,p),a.structuredQuery.from=[{collectionId:i.collectionGroup,allDescendants:!0}]):(a.parent=vy(u,p.popLast()),a.structuredQuery.from=[{collectionId:p.lastSegment()}]);const y=function(Ye){if(0===Ye.length)return;const pt=Ye.map(Wt=>function(Cn){if("=="===Cn.op){if(Rg(Cn.value))return{unaryFilter:{field:Ul(Cn.field),op:"IS_NAN"}};if(Vc(Cn.value))return{unaryFilter:{field:Ul(Cn.field),op:"IS_NULL"}}}else if("!="===Cn.op){if(Rg(Cn.value))return{unaryFilter:{field:Ul(Cn.field),op:"IS_NOT_NAN"}};if(Vc(Cn.value))return{unaryFilter:{field:Ul(Cn.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Ul(Cn.field),op:R0(Cn.op),value:Cn.value}}}(Wt));return 1===pt.length?pt[0]:{compositeFilter:{op:"AND",filters:pt}}}(i.filters);y&&(a.structuredQuery.where=y);const b=function(Ye){if(0!==Ye.length)return Ye.map(pt=>{return{field:Ul((Wt=pt).field),direction:Sx(Wt.dir)};var Wt})}(i.orderBy);b&&(a.structuredQuery.orderBy=b);const M=(pt=i.limit,u.dt||sf(pt)?pt:{value:pt});var pt,ue,Ye;return null!==M&&(a.structuredQuery.limit=M),i.startAt&&(a.structuredQuery.startAt={before:(ue=i.startAt).inclusive,values:ue.position}),i.endAt&&(a.structuredQuery.endAt={before:!(Ye=i.endAt).inclusive,values:Ye.position}),a}function fv(u){let i=Tx(u.parent);const a=u.structuredQuery,p=a.from?a.from.length:0;let y=null;if(p>0){os(1===p);const Wt=a.from[0];Wt.allDescendants?y=Wt.collectionId:i=i.child(Wt.collectionId)}let b=[];a.where&&(b=pv(a.where));let M=[];a.orderBy&&(M=a.orderBy.map(Wt=>{return new cf(Ad((Cn=Wt).field),function(fr){switch(fr){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(Cn.direction));var Cn}));let ue=null;a.limit&&(ue=function(Wt){let Cn;return Cn="object"==typeof Wt?Wt.value:Wt,sf(Cn)?null:Cn}(a.limit));let Ye=null;var Wt;a.startAt&&(Ye=new th((Wt=a.startAt).values||[],!!Wt.before));let pt=null;return a.endAt&&(pt=function(Wt){return new th(Wt.values||[],!Wt.before)}(a.endAt)),wd(i,y,M,b,ue,"F",Ye,pt)}function pv(u){return u?void 0!==u.unaryFilter?[tp(u)]:void 0!==u.fieldFilter?[du(u)]:void 0!==u.compositeFilter?u.compositeFilter.filters.map(i=>pv(i)).reduce((i,a)=>i.concat(a)):bi():[]}function Sx(u){return Kh[u]}function R0(u){return Xf[u]}function Ul(u){return{fieldPath:u.canonicalString()}}function Ad(u){return ar.fromServerFormat(u.fieldPath)}function du(u){return ds.create(Ad(u.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return bi()}}(u.fieldFilter.op),u.fieldFilter.value)}function tp(u){switch(u.unaryFilter.op){case"IS_NAN":const i=Ad(u.unaryFilter.field);return ds.create(i,"==",{doubleValue:NaN});case"IS_NULL":const a=Ad(u.unaryFilter.field);return ds.create(a,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const p=Ad(u.unaryFilter.field);return ds.create(p,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const y=Ad(u.unaryFilter.field);return ds.create(y,"!=",{nullValue:"NULL_VALUE"});default:return bi()}}function EC(u){const i=[];return u.fields.forEach(a=>i.push(a.canonicalString())),{fieldPaths:i}}function ku(u){return u.length>=4&&"projects"===u.get(0)&&"databases"===u.get(2)}function Hc(u){let i="";for(let a=0;a<u.length;a++)i.length>0&&(i=xy(i)),i=_y(u.get(a),i);return xy(i)}function _y(u,i){let a=i;const p=u.length;for(let y=0;y<p;y++){const b=u.charAt(y);switch(b){case"\0":a+="\x01\x10";break;case"\x01":a+="\x01\x11";break;default:a+=b}}return a}function xy(u){return u+"\x01\x01"}function Jh(u){const i=u.length;if(os(i>=2),2===i)return os("\x01"===u.charAt(0)&&"\x01"===u.charAt(1)),Zt.emptyPath();const a=i-2,p=[];let y="";for(let b=0;b<i;){const M=u.indexOf("\x01",b);switch((M<0||M>a)&&bi(),u.charAt(M+1)){case"\x01":const ue=u.substring(b,M);let Ye;0===y.length?Ye=ue:(y+=ue,Ye=y,y=""),p.push(Ye);break;case"\x10":y+=u.substring(b,M),y+="\0";break;case"\x11":y+=u.substring(b,M+1);break;default:bi()}b=M+2}return new Zt(p)}const L0=["userId","batchId"];function Op(u,i){return[u,Hc(i)]}function tu(u,i,a){return[u,Hc(i),a]}const U0={},gv=["prefixPath","collectionGroup","readTime","documentId"],Gg=["prefixPath","collectionGroup","documentId"],lD=["collectionGroup","readTime","prefixPath","documentId"],pf=["canonicalId","targetId"],wy=["targetId","path"],Ax=["path","targetId"],TC=["collectionId","parent"],by=["indexId","uid"],cb=["uid","sequenceNumber"],Nc=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],Ix=["indexId","uid","orderedDocumentKey"],ub=["userId","collectionPath","documentId"],Ey=["userId","collectionPath","largestBatchId"],Ty=["userId","collectionGroup","largestBatchId"],mv=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],Cy=[...mv,"documentOverlays"],Sy=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],vv=Sy,Fp=[...vv,"indexConfiguration","indexState","indexEntries"];class Qh extends vh{constructor(i,a){super(),this.ee=i,this.currentSequenceNumber=a}}function yc(u,i){const a=ui(u);return Tu.N(a.ee,i)}class B0{constructor(i,a,p,y){this.batchId=i,this.localWriteTime=a,this.baseMutations=p,this.mutations=y}applyToRemoteDocument(i,a){const p=a.mutationResults;for(let y=0;y<this.mutations.length;y++){const b=this.mutations[y];b.key.isEqual(i.key)&&Os(b,i,p[y])}}applyToLocalView(i,a){for(const p of this.baseMutations)p.key.isEqual(i.key)&&(a=Lo(p,i,a,this.localWriteTime));for(const p of this.mutations)p.key.isEqual(i.key)&&(a=Lo(p,i,a,this.localWriteTime));return a}applyToLocalDocumentSet(i,a){const p=uv();return this.mutations.forEach(y=>{const b=i.get(y.key),M=b.overlayedDocument;let ue=this.applyToLocalView(M,b.mutatedFields);ue=a.has(y.key)?null:ue;const Ye=Yi(M,ue);null!==Ye&&p.set(y.key,Ye),M.isValidDocument()||M.convertToNoDocument(Ge.min())}),p}keys(){return this.mutations.reduce((i,a)=>i.add(a.key),Js())}isEqual(i){return this.batchId===i.batchId&&Y(this.mutations,i.mutations,(a,p)=>Ll(a,p))&&Y(this.baseMutations,i.baseMutations,(a,p)=>Ll(a,p))}}class Th{constructor(i,a,p,y){this.batch=i,this.commitVersion=a,this.mutationResults=p,this.docVersions=y}static from(i,a,p){os(i.mutations.length===p.length);let y=El;const b=i.mutations;for(let M=0;M<b.length;M++)y=y.insert(b[M].key,p[M].version);return new Th(i,a,p,y)}}class j0{constructor(i,a){this.largestBatchId=i,this.mutation=a}getKey(){return this.mutation.key}isEqual(i){return null!==i&&this.mutation===i.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class gf{constructor(i,a,p,y,b=Ge.min(),M=Ge.min(),ue=al.EMPTY_BYTE_STRING){this.target=i,this.targetId=a,this.purpose=p,this.sequenceNumber=y,this.snapshotVersion=b,this.lastLimboFreeSnapshotVersion=M,this.resumeToken=ue}withSequenceNumber(i){return new gf(this.target,this.targetId,this.purpose,i,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}withResumeToken(i,a){return new gf(this.target,this.targetId,this.purpose,this.sequenceNumber,a,this.lastLimboFreeSnapshotVersion,i)}withLastLimboFreeSnapshotVersion(i){return new gf(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,i,this.resumeToken)}}class Ay{constructor(i){this.ne=i}}function V0(u,i){const a=i.key,p={prefixPath:a.getCollectionPath().popLast().toArray(),collectionGroup:a.collectionGroup,documentId:a.path.lastSegment(),readTime:mf(i.readTime),hasCommittedMutations:i.hasCommittedMutations};if(i.isFoundDocument())p.document={name:Wg(y=u.ne,(b=i).key),fields:b.data.value.mapValue.fields,updateTime:Sd(y,b.version.toTimestamp())};else if(i.isNoDocument())p.noDocument={path:a.path.toArray(),readTime:oh(i.version)};else{if(!i.isUnknownDocument())return bi();p.unknownDocument={path:a.path.toArray(),version:oh(i.version)}}var y,b;return p}function mf(u){const i=u.toTimestamp();return[i.seconds,i.nanoseconds]}function oh(u){const i=u.toTimestamp();return{seconds:i.seconds,nanoseconds:i.nanoseconds}}function uo(u){const i=new Ae(u.seconds,u.nanoseconds);return Ge.fromTimestamp(i)}function vf(u,i){const a=(i.baseMutations||[]).map(b=>qg(u.ne,b));for(let b=0;b<i.mutations.length-1;++b){const M=i.mutations[b];b+1<i.mutations.length&&void 0!==i.mutations[b+1].transform&&(M.updateTransforms=i.mutations[b+1].transform.fieldTransforms,i.mutations.splice(b+1,1),++b)}const p=i.mutations.map(b=>qg(u.ne,b)),y=Ae.fromMillis(i.localWriteTimeMs);return new B0(i.batchId,y,a,p)}function H0(u){const i=uo(u.readTime),a=void 0!==u.lastLimboFreeSnapshotVersion?uo(u.lastLimboFreeSnapshotVersion):Ge.min();let p;var y;return void 0!==u.query.documents?(os(1===(y=u.query).documents.length),p=gc(Yf(Tx(y.documents[0])))):p=gc(fv(u.query)),new gf(p,u.targetId,0,u.lastListenSequenceNumber,i,a,al.fromBase64String(u.resumeToken))}function Zg(u,i){const a=oh(i.snapshotVersion),p=oh(i.lastLimboFreeSnapshotVersion);let y;y=af(i.target)?Cx(u.ne,i.target):dv(u.ne,i.target);const b=i.resumeToken.toBase64();return{targetId:i.targetId,canonicalId:rs(i.target),readTime:a,resumeToken:b,lastListenSequenceNumber:i.sequenceNumber,lastLimboFreeSnapshotVersion:p,query:y}}function Rp(u){const i=fv({parent:u.parent,structuredQuery:u.structuredQuery});return"LAST"===u.limitType?hi(i,i.limit,"L"):i}function yv(u,i){return new j0(i.largestBatchId,qg(u.ne,i.overlayMutation))}function _v(u,i){const a=i.path.lastSegment();return[u,Hc(i.path.popLast()),a]}function xv(u,i,a,p){return{indexId:u,uid:i.uid||"",sequenceNumber:a,readTime:oh(p.readTime),documentKey:Hc(p.documentKey.path),largestBatchId:p.largestBatchId}}class ed{getBundleMetadata(i,a){return z0(i).get(a).next(p=>{if(p)return{id:(y=p).bundleId,createTime:uo(y.createTime),version:y.version};var y})}saveBundleMetadata(i,a){return z0(i).put({bundleId:(p=a).id,createTime:oh(Po(p.createTime)),version:p.version});var p}getNamedQuery(i,a){return Iy(i).get(a).next(p=>{if(p)return{name:(y=p).name,query:Rp(y.bundledQuery),readTime:uo(y.readTime)};var y})}saveNamedQuery(i,a){return Iy(i).put({name:(p=a).name,readTime:oh(Po(p.readTime)),bundledQuery:p.bundledQuery});var p}}function z0(u){return yc(u,"bundles")}function Iy(u){return yc(u,"namedQueries")}class Lp{constructor(i,a){this.wt=i,this.userId=a}static se(i,a){return new Lp(i,a.uid||"")}getOverlay(i,a){return W0(i).get(_v(this.userId,a)).next(p=>p?yv(this.wt,p):null)}getOverlays(i,a){const p=Iu();return or.forEach(a,y=>this.getOverlay(i,y).next(b=>{null!==b&&p.set(y,b)})).next(()=>p)}saveOverlays(i,a,p){const y=[];return p.forEach((b,M)=>{const ue=new j0(a,M);y.push(this.ie(i,ue))}),or.waitFor(y)}removeOverlaysForBatchId(i,a,p){const y=new Set;a.forEach(M=>y.add(Hc(M.getCollectionPath())));const b=[];return y.forEach(M=>{const ue=IDBKeyRange.bound([this.userId,M,p],[this.userId,M,p+1],!1,!0);b.push(W0(i).W("collectionPathOverlayIndex",ue))}),or.waitFor(b)}getOverlaysForCollection(i,a,p){const y=Iu(),b=Hc(a),M=IDBKeyRange.bound([this.userId,b,p],[this.userId,b,Number.POSITIVE_INFINITY],!0);return W0(i).K("collectionPathOverlayIndex",M).next(ue=>{for(const Ye of ue){const pt=yv(this.wt,Ye);y.set(pt.getKey(),pt)}return y})}getOverlaysForCollectionGroup(i,a,p,y){const b=Iu();let M;const ue=IDBKeyRange.bound([this.userId,a,p],[this.userId,a,Number.POSITIVE_INFINITY],!0);return W0(i).J({index:"collectionGroupOverlayIndex",range:ue},(Ye,pt,Wt)=>{const Cn=yv(this.wt,pt);b.size()<y||Cn.largestBatchId===M?(b.set(Cn.getKey(),Cn),M=Cn.largestBatchId):Wt.done()}).next(()=>b)}ie(i,a){return W0(i).put(function(p,y,b){const[M,ue,Ye]=_v(y,b.mutation.key);return{userId:y,collectionPath:ue,documentId:Ye,collectionGroup:b.mutation.key.getCollectionGroup(),largestBatchId:b.largestBatchId,overlayMutation:Mp(p.ne,b.mutation)}}(this.wt,this.userId,a))}}function W0(u){return yc(u,"documentOverlays")}class ah{constructor(){}re(i,a){this.oe(i,a),a.ue()}oe(i,a){if("nullValue"in i)this.ce(a,5);else if("booleanValue"in i)this.ce(a,10),a.ae(i.booleanValue?1:0);else if("integerValue"in i)this.ce(a,15),a.ae(Za(i.integerValue));else if("doubleValue"in i){const p=Za(i.doubleValue);isNaN(p)?this.ce(a,13):(this.ce(a,15),zo(p)?a.ae(0):a.ae(p))}else if("timestampValue"in i){const p=i.timestampValue;this.ce(a,20),"string"==typeof p?a.he(p):(a.he(`${p.seconds||""}`),a.ae(p.nanos||0))}else if("stringValue"in i)this.le(i.stringValue,a),this.fe(a);else if("bytesValue"in i)this.ce(a,30),a.de(xh(i.bytesValue)),this.fe(a);else if("referenceValue"in i)this._e(i.referenceValue,a);else if("geoPointValue"in i){const p=i.geoPointValue;this.ce(a,45),a.ae(p.latitude||0),a.ae(p.longitude||0)}else"mapValue"in i?I0(i)?this.ce(a,Number.MAX_SAFE_INTEGER):(this.we(i.mapValue,a),this.fe(a)):"arrayValue"in i?(this.me(i.arrayValue,a),this.fe(a)):bi()}le(i,a){this.ce(a,25),this.ge(i,a)}ge(i,a){a.he(i)}we(i,a){const p=i.fields||{};this.ce(a,55);for(const y of Object.keys(p))this.le(y,a),this.oe(p[y],a)}me(i,a){const p=i.values||[];this.ce(a,50);for(const y of p)this.oe(y,a)}_e(i,a){this.ce(a,37),rr.fromName(i).path.forEach(p=>{this.ce(a,60),this.ge(p,a)})}ce(i,a){i.ae(a)}fe(i){i.ae(2)}}function Dy(u){if(0===u)return 8;let i=0;return u>>4==0&&(i+=4,u<<=4),u>>6==0&&(i+=2,u<<=2),u>>7==0&&(i+=1),i}function $g(u){const i=64-function(a){let p=0;for(let y=0;y<8;++y){const b=Dy(255&a[y]);if(p+=b,8!==b)break}return p}(u);return Math.ceil(i/8)}ah.ye=new ah;class Dx{constructor(){this.buffer=new Uint8Array(1024),this.position=0}pe(i){const a=i[Symbol.iterator]();let p=a.next();for(;!p.done;)this.Ie(p.value),p=a.next();this.Te()}Ee(i){const a=i[Symbol.iterator]();let p=a.next();for(;!p.done;)this.Ae(p.value),p=a.next();this.Re()}be(i){for(const a of i){const p=a.charCodeAt(0);if(p<128)this.Ie(p);else if(p<2048)this.Ie(960|p>>>6),this.Ie(128|63&p);else if(a<"\ud800"||"\udbff"<a)this.Ie(480|p>>>12),this.Ie(128|63&p>>>6),this.Ie(128|63&p);else{const y=a.codePointAt(0);this.Ie(240|y>>>18),this.Ie(128|63&y>>>12),this.Ie(128|63&y>>>6),this.Ie(128|63&y)}}this.Te()}Pe(i){for(const a of i){const p=a.charCodeAt(0);if(p<128)this.Ae(p);else if(p<2048)this.Ae(960|p>>>6),this.Ae(128|63&p);else if(a<"\ud800"||"\udbff"<a)this.Ae(480|p>>>12),this.Ae(128|63&p>>>6),this.Ae(128|63&p);else{const y=a.codePointAt(0);this.Ae(240|y>>>18),this.Ae(128|63&y>>>12),this.Ae(128|63&y>>>6),this.Ae(128|63&y)}}this.Re()}ve(i){const a=this.Ve(i),p=$g(a);this.Se(1+p),this.buffer[this.position++]=255&p;for(let y=a.length-p;y<a.length;++y)this.buffer[this.position++]=255&a[y]}De(i){const a=this.Ve(i),p=$g(a);this.Se(1+p),this.buffer[this.position++]=~(255&p);for(let y=a.length-p;y<a.length;++y)this.buffer[this.position++]=~(255&a[y])}Ce(){this.xe(255),this.xe(255)}Ne(){this.ke(255),this.ke(255)}reset(){this.position=0}seed(i){this.Se(i.length),this.buffer.set(i,this.position),this.position+=i.length}Oe(){return this.buffer.slice(0,this.position)}Ve(i){const a=function(y){const b=new DataView(new ArrayBuffer(8));return b.setFloat64(0,y,!1),new Uint8Array(b.buffer)}(i),p=0!=(128&a[0]);a[0]^=p?255:128;for(let y=1;y<a.length;++y)a[y]^=p?255:0;return a}Ie(i){const a=255&i;0===a?(this.xe(0),this.xe(255)):255===a?(this.xe(255),this.xe(0)):this.xe(a)}Ae(i){const a=255&i;0===a?(this.ke(0),this.ke(255)):255===a?(this.ke(255),this.ke(0)):this.ke(i)}Te(){this.xe(0),this.xe(1)}Re(){this.ke(0),this.ke(1)}xe(i){this.Se(1),this.buffer[this.position++]=i}ke(i){this.Se(1),this.buffer[this.position++]=~i}Se(i){const a=i+this.position;if(a<=this.buffer.length)return;let p=2*this.buffer.length;p<a&&(p=a);const y=new Uint8Array(p);y.set(this.buffer),this.buffer=y}}class hb{constructor(i){this.Me=i}de(i){this.Me.pe(i)}he(i){this.Me.be(i)}ae(i){this.Me.ve(i)}ue(){this.Me.Ce()}}class kx{constructor(i){this.Me=i}de(i){this.Me.Ee(i)}he(i){this.Me.Pe(i)}ae(i){this.Me.De(i)}ue(){this.Me.Ne()}}class Yg{constructor(){this.Me=new Dx,this.Fe=new hb(this.Me),this.$e=new kx(this.Me)}seed(i){this.Me.seed(i)}Be(i){return 0===i?this.Fe:this.$e}Oe(){return this.Me.Oe()}reset(){this.Me.reset()}}class yf{constructor(i,a,p,y){this.indexId=i,this.documentKey=a,this.arrayValue=p,this.directionalValue=y}Le(){const i=this.directionalValue.length,a=0===i||255===this.directionalValue[i-1]?i+1:i,p=new Uint8Array(a);return p.set(this.directionalValue,0),a!==i?p.set([0],this.directionalValue.length):++p[p.length-1],new yf(this.indexId,this.documentKey,this.arrayValue,p)}}function _f(u,i){let a=u.indexId-i.indexId;return 0!==a?a:(a=wv(u.arrayValue,i.arrayValue),0!==a?a:(a=wv(u.directionalValue,i.directionalValue),0!==a?a:rr.comparator(u.documentKey,i.documentKey)))}function wv(u,i){for(let a=0;a<u.length&&a<i.length;++a){const p=u[a]-i[a];if(0!==p)return p}return u.length-i.length}class td{constructor(i){this.collectionId=null!=i.collectionGroup?i.collectionGroup:i.path.lastSegment(),this.Ue=i.orderBy,this.qe=[];for(const a of i.filters){const p=a;p.ht()?this.Ke=p:this.qe.push(p)}}Ge(i){const a=Vi(i);if(void 0!==a&&!this.Qe(a))return!1;const p=Xs(i);let y=0,b=0;for(;y<p.length&&this.Qe(p[y]);++y);if(y===p.length)return!0;if(void 0!==this.Ke){const M=p[y];if(!this.je(this.Ke,M)||!this.We(this.Ue[b++],M))return!1;++y}for(;y<p.length;++y){const M=p[y];if(b>=this.Ue.length||!this.We(this.Ue[b++],M))return!1}return!0}Qe(i){for(const a of this.qe)if(this.je(a,i))return!0;return!1}je(i,a){return!(void 0===i||!i.field.isEqual(a.fieldPath))&&2===a.kind==("array-contains"===i.op||"array-contains-any"===i.op)}We(i,a){return!!i.field.isEqual(a.fieldPath)&&(0===a.kind&&"asc"===i.dir||1===a.kind&&"desc"===i.dir)}}class db{constructor(){this.ze=new bv}addToCollectionParentIndex(i,a){return this.ze.add(a),or.resolve()}getCollectionParents(i,a){return or.resolve(this.ze.getEntries(a))}addFieldIndex(i,a){return or.resolve()}deleteFieldIndex(i,a){return or.resolve()}getDocumentsMatchingTarget(i,a){return or.resolve(null)}getIndexType(i,a){return or.resolve(0)}getFieldIndexes(i,a){return or.resolve([])}getNextCollectionGroupToUpdate(i){return or.resolve(null)}getMinOffset(i,a){return or.resolve(yl.min())}getMinOffsetFromCollectionGroup(i,a){return or.resolve(yl.min())}updateCollectionGroup(i,a,p){return or.resolve()}updateIndexEntries(i,a){return or.resolve()}}class bv{constructor(){this.index={}}add(i){const a=i.lastSegment(),p=i.popLast(),y=this.index[a]||new Gs(Zt.comparator),b=!y.has(p);return this.index[a]=y.add(p),b}has(i){const a=i.lastSegment(),p=i.popLast(),y=this.index[a];return y&&y.has(p)}getEntries(i){return(this.index[i]||new Gs(Zt.comparator)).toArray()}}const q0=new Uint8Array(0);class fb{constructor(i,a){this.user=i,this.databaseId=a,this.He=new bv,this.Je=new Er(p=>rs(p),(p,y)=>Eh(p,y)),this.uid=i.uid||""}addToCollectionParentIndex(i,a){if(!this.He.has(a)){const p=a.lastSegment(),y=a.popLast();i.addOnCommittedListener(()=>{this.He.add(a)});const b={collectionId:p,parent:Hc(y)};return ky(i).put(b)}return or.resolve()}getCollectionParents(i,a){const p=[],y=IDBKeyRange.bound([a,""],[H(a),""],!1,!0);return ky(i).K(y).next(b=>{for(const M of b){if(M.collectionId!==a)break;p.push(Jh(M.parent))}return p})}addFieldIndex(i,a){const p=Z0(i),y={indexId:(M=a).indexId,collectionGroup:M.collectionGroup,fields:M.fields.map(ue=>[ue.fieldPath.canonicalString(),ue.kind])};var M;delete y.indexId;const b=p.add(y);if(a.indexState){const M=Up(i);return b.next(ue=>{M.put(xv(ue,this.user,a.indexState.sequenceNumber,a.indexState.offset))})}return b.next()}deleteFieldIndex(i,a){const p=Z0(i),y=Up(i),b=G0(i);return p.delete(a.indexId).next(()=>y.delete(IDBKeyRange.bound([a.indexId],[a.indexId+1],!1,!0))).next(()=>b.delete(IDBKeyRange.bound([a.indexId],[a.indexId+1],!1,!0)))}getDocumentsMatchingTarget(i,a){const p=G0(i);let y=!0;const b=new Map;return or.forEach(this.Ye(a),M=>this.Xe(i,M).next(ue=>{y&&(y=!!ue),b.set(M,ue)})).next(()=>{if(y){let M=Js();const ue=[];return or.forEach(b,(Ye,pt)=>{var Wt;Qr("IndexedDbIndexManager",`Using index ${Wt=Ye,`id=${Wt.indexId}|cg=${Wt.collectionGroup}|f=${Wt.fields.map(Ja=>`${Ja.fieldPath}:${Ja.kind}`).join(",")}`} to execute ${rs(a)}`);const Cn=function(Ja,jl){const Qa=Vi(jl);if(void 0===Qa)return null;for(const Sl of po(Ja,Qa.fieldPath))switch(Sl.op){case"array-contains-any":return Sl.value.arrayValue.values||[];case"array-contains":return[Sl.value]}return null}(pt,Ye),fr=function(Ja,jl){const Qa=new Map;for(const Sl of Xs(jl))for(const ec of po(Ja,Sl.fieldPath))switch(ec.op){case"==":case"in":Qa.set(Sl.fieldPath.canonicalString(),ec.value);break;case"not-in":case"!=":return Qa.set(Sl.fieldPath.canonicalString(),ec.value),Array.from(Qa.values())}return null}(pt,Ye),Br=function(Ja,jl){const Qa=[];let Sl=!0;for(const ec of Xs(jl)){const Dm=0===ec.kind?Zf(Ja,ec.fieldPath,Ja.startAt):$f(Ja,ec.fieldPath,Ja.startAt);Qa.push(Dm.value),Sl&&(Sl=Dm.inclusive)}return new th(Qa,Sl)}(pt,Ye),Jr=function(Ja,jl){const Qa=[];let Sl=!0;for(const ec of Xs(jl)){const Dm=0===ec.kind?$f(Ja,ec.fieldPath,Ja.endAt):Zf(Ja,ec.fieldPath,Ja.endAt);Qa.push(Dm.value),Sl&&(Sl=Dm.inclusive)}return new th(Qa,Sl)}(pt,Ye),Fi=this.Ze(Ye,pt,Br),Qi=this.Ze(Ye,pt,Jr),Uo=this.tn(Ye,pt,fr),Ua=this.en(Ye.indexId,Cn,Fi,Br.inclusive,Qi,Jr.inclusive,Uo);return or.forEach(Ua,Ja=>p.j(Ja,a.limit).next(jl=>{jl.forEach(Qa=>{const Sl=rr.fromSegments(Qa.documentKey);M.has(Sl)||(M=M.add(Sl),ue.push(Sl))})}))}).next(()=>ue)}return or.resolve(null)})}Ye(i){let a=this.Je.get(i);return a||(a=[i],this.Je.set(i,a),a)}en(i,a,p,y,b,M,ue){const Ye=(null!=a?a.length:1)*Math.max(p.length,b.length),pt=Ye/(null!=a?a.length:1),Wt=[];for(let Cn=0;Cn<Ye;++Cn){const fr=a?this.nn(a[Cn/pt]):q0,Br=this.sn(i,fr,p[Cn%pt],y),Jr=this.rn(i,fr,b[Cn%pt],M),Fi=ue.map(Qi=>this.sn(i,fr,Qi,!0));Wt.push(...this.createRange(Br,Jr,Fi))}return Wt}sn(i,a,p,y){const b=new yf(i,rr.empty(),a,p);return y?b:b.Le()}rn(i,a,p,y){const b=new yf(i,rr.empty(),a,p);return y?b.Le():b}Xe(i,a){const p=new td(a),y=null!=a.collectionGroup?a.collectionGroup:a.path.lastSegment();return this.getFieldIndexes(i,y).next(b=>{let M=null;for(const ue of b)p.Ge(ue)&&(!M||ue.fields.length>M.fields.length)&&(M=ue);return M})}getIndexType(i,a){let p=2;return or.forEach(this.Ye(a),y=>this.Xe(i,y).next(b=>{b?0!==p&&b.fields.length<function(M){let ue=new Gs(ar.comparator),Ye=!1;for(const pt of M.filters){const Wt=pt;Wt.field.isKeyField()||("array-contains"===Wt.op||"array-contains-any"===Wt.op?Ye=!0:ue=ue.add(Wt.field))}for(const pt of M.orderBy)pt.field.isKeyField()||(ue=ue.add(pt.field));return ue.size+(Ye?1:0)}(y)&&(p=1):p=0})).next(()=>p)}on(i,a){const p=new Yg;for(const y of Xs(i)){const b=a.data.field(y.fieldPath);if(null==b)return null;const M=p.Be(y.kind);ah.ye.re(b,M)}return p.Oe()}nn(i){const a=new Yg;return ah.ye.re(i,a.Be(0)),a.Oe()}un(i,a){const p=new Yg;return ah.ye.re(Rl(this.databaseId,a),p.Be(function(y){const b=Xs(y);return 0===b.length?0:b[b.length-1].kind}(i))),p.Oe()}tn(i,a,p){if(null===p)return[];let y=[];y.push(new Yg);let b=0;for(const M of Xs(i)){const ue=p[b++];for(const Ye of y)if(this.cn(a,M.fieldPath)&&pa(ue))y=this.an(y,M,ue);else{const pt=Ye.Be(M.kind);ah.ye.re(ue,pt)}}return this.hn(y)}Ze(i,a,p){return this.tn(i,a,p.position)}hn(i){const a=[];for(let p=0;p<i.length;++p)a[p]=i[p].Oe();return a}an(i,a,p){const y=[...i],b=[];for(const M of p.arrayValue.values||[])for(const ue of y){const Ye=new Yg;Ye.seed(ue.Oe()),ah.ye.re(M,Ye.Be(a.kind)),b.push(Ye)}return b}cn(i,a){return!!i.filters.find(p=>p instanceof ds&&p.field.isEqual(a)&&("in"===p.op||"not-in"===p.op))}getFieldIndexes(i,a){const p=Z0(i),y=Up(i);return(a?p.K("collectionGroupIndex",IDBKeyRange.bound(a,a)):p.K()).next(b=>{const M=[];return or.forEach(b,ue=>y.get([ue.indexId,this.uid]).next(Ye=>{M.push(function(pt,Wt){const Cn=Wt?new fo(Wt.sequenceNumber,new yl(uo(Wt.readTime),new rr(Jh(Wt.documentKey)),Wt.largestBatchId)):fo.empty(),fr=pt.fields.map(([Br,Jr])=>new oo(ar.fromServerFormat(Br),Jr));return new hs(pt.indexId,pt.collectionGroup,fr,Cn)}(ue,Ye))})).next(()=>M)})}getNextCollectionGroupToUpdate(i){return this.getFieldIndexes(i).next(a=>0===a.length?null:(a.sort((p,y)=>{const b=p.indexState.sequenceNumber-y.indexState.sequenceNumber;return 0!==b?b:ie(p.collectionGroup,y.collectionGroup)}),a[0].collectionGroup))}updateCollectionGroup(i,a,p){const y=Z0(i),b=Up(i);return this.ln(i).next(M=>y.K("collectionGroupIndex",IDBKeyRange.bound(a,a)).next(ue=>or.forEach(ue,Ye=>b.put(xv(Ye.indexId,this.user,M,p)))))}updateIndexEntries(i,a){const p=new Map;return or.forEach(a,(y,b)=>{const M=p.get(y.collectionGroup);return(M?or.resolve(M):this.getFieldIndexes(i,y.collectionGroup)).next(ue=>(p.set(y.collectionGroup,ue),or.forEach(ue,Ye=>this.fn(i,y,Ye).next(pt=>{const Wt=this.dn(b,Ye);return pt.isEqual(Wt)?or.resolve():this._n(i,b,Ye,pt,Wt)}))))})}wn(i,a,p,y){return G0(i).put({indexId:y.indexId,uid:this.uid,arrayValue:y.arrayValue,directionalValue:y.directionalValue,orderedDocumentKey:this.un(p,a.key),documentKey:a.key.path.toArray()})}mn(i,a,p,y){return G0(i).delete([y.indexId,this.uid,y.arrayValue,y.directionalValue,this.un(p,a.key),a.key.path.toArray()])}fn(i,a,p){const y=G0(i);let b=new Gs(_f);return y.J({index:"documentKeyIndex",range:IDBKeyRange.only([p.indexId,this.uid,this.un(p,a)])},(M,ue)=>{b=b.add(new yf(p.indexId,a,ue.arrayValue,ue.directionalValue))}).next(()=>b)}dn(i,a){let p=new Gs(_f);const y=this.on(a,i);if(null==y)return p;const b=Vi(a);if(null!=b){const M=i.data.field(b.fieldPath);if(pa(M))for(const ue of M.arrayValue.values||[])p=p.add(new yf(a.indexId,i.key,this.nn(ue),y))}else p=p.add(new yf(a.indexId,i.key,q0,y));return p}_n(i,a,p,y,b){Qr("IndexedDbIndexManager","Updating index entries for document '%s'",a.key);const M=[];return function(ue,Ye,pt,Wt,Cn){const fr=ue.getIterator(),Br=Ye.getIterator();let Jr=Su(fr),Fi=Su(Br);for(;Jr||Fi;){let Qi=!1,Uo=!1;if(Jr&&Fi){const Ua=pt(Jr,Fi);Ua<0?Uo=!0:Ua>0&&(Qi=!0)}else null!=Jr?Uo=!0:Qi=!0;Qi?(Wt(Fi),Fi=Su(Br)):Uo?(Cn(Jr),Jr=Su(fr)):(Jr=Su(fr),Fi=Su(Br))}}(y,b,_f,ue=>{M.push(this.wn(i,a,p,ue))},ue=>{M.push(this.mn(i,a,p,ue))}),or.waitFor(M)}ln(i){let a=1;return Up(i).J({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(p,y,b)=>{b.done(),a=y.sequenceNumber+1}).next(()=>a)}createRange(i,a,p){p=p.sort((M,ue)=>_f(M,ue)).filter((M,ue,Ye)=>!ue||0!==_f(M,Ye[ue-1]));const y=[];y.push(i);for(const M of p){const ue=_f(M,i),Ye=_f(M,a);if(0===ue)y[0]=i.Le();else if(ue>0&&Ye<0)y.push(M),y.push(M.Le());else if(Ye>0)break}y.push(a);const b=[];for(let M=0;M<y.length;M+=2)b.push(IDBKeyRange.bound([y[M].indexId,this.uid,y[M].arrayValue,y[M].directionalValue,q0,[]],[y[M+1].indexId,this.uid,y[M+1].arrayValue,y[M+1].directionalValue,q0,[]]));return b}getMinOffsetFromCollectionGroup(i,a){return this.getFieldIndexes(i,a).next(Px)}getMinOffset(i,a){return or.mapArray(this.Ye(a),p=>this.Xe(i,p).next(y=>y||bi())).next(Px)}}function ky(u){return yc(u,"collectionParents")}function G0(u){return yc(u,"indexEntries")}function Z0(u){return yc(u,"indexConfiguration")}function Up(u){return yc(u,"indexState")}function Px(u){os(0!==u.length);let i=u[0].indexState.offset,a=i.largestBatchId;for(let p=1;p<u.length;p++){const y=u[p].indexState.offset;Na(y,i)<0&&(i=y),a<y.largestBatchId&&(a=y.largestBatchId)}return new yl(i.readTime,i.documentKey,a)}const Nx={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class is{constructor(i,a,p){this.cacheSizeCollectionThreshold=i,this.percentileToCollect=a,this.maximumSequenceNumbersToCollect=p}static withCacheSize(i){return new is(i,is.DEFAULT_COLLECTION_PERCENTILE,is.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function Py(u,i,a){const p=u.store("mutations"),y=u.store("documentMutations"),b=[],M=IDBKeyRange.only(a.batchId);let ue=0;const Ye=p.J({range:M},(Wt,Cn,fr)=>(ue++,fr.delete()));b.push(Ye.next(()=>{os(1===ue)}));const pt=[];for(const Wt of a.mutations){const Cn=tu(i,Wt.key.path,a.batchId);b.push(y.delete(Cn)),pt.push(Wt.key)}return or.waitFor(b).next(()=>pt)}function Kg(u){if(!u)return 0;let i;if(u.document)i=u.document;else if(u.unknownDocument)i=u.unknownDocument;else{if(!u.noDocument)throw bi();i=u.noDocument}return JSON.stringify(i).length}is.DEFAULT_COLLECTION_PERCENTILE=10,is.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,is.DEFAULT=new is(41943040,is.DEFAULT_COLLECTION_PERCENTILE,is.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),is.DISABLED=new is(-1,0,0);class $0{constructor(i,a,p,y){this.userId=i,this.wt=a,this.indexManager=p,this.referenceDelegate=y,this.gn={}}static se(i,a,p,y){os(""!==i.uid);const b=i.isAuthenticated()?i.uid:"";return new $0(b,a,p,y)}checkEmpty(i){let a=!0;const p=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return Mc(i).J({index:"userMutationsIndex",range:p},(y,b,M)=>{a=!1,M.done()}).next(()=>a)}addMutationBatch(i,a,p,y){const b=Id(i),M=Mc(i);return M.add({}).next(ue=>{os("number"==typeof ue);const Ye=new B0(ue,a,p,y),pt=function(fr,Br,Jr){const Fi=Jr.baseMutations.map(Uo=>Mp(fr.ne,Uo)),Qi=Jr.mutations.map(Uo=>Mp(fr.ne,Uo));return{userId:Br,batchId:Jr.batchId,localWriteTimeMs:Jr.localWriteTime.toMillis(),baseMutations:Fi,mutations:Qi}}(this.wt,this.userId,Ye),Wt=[];let Cn=new Gs((fr,Br)=>ie(fr.canonicalString(),Br.canonicalString()));for(const fr of y){const Br=tu(this.userId,fr.key.path,ue);Cn=Cn.add(fr.key.path.popLast()),Wt.push(M.put(pt)),Wt.push(b.put(Br,U0))}return Cn.forEach(fr=>{Wt.push(this.indexManager.addToCollectionParentIndex(i,fr))}),i.addOnCommittedListener(()=>{this.gn[ue]=Ye.keys()}),or.waitFor(Wt).next(()=>Ye)})}lookupMutationBatch(i,a){return Mc(i).get(a).next(p=>p?(os(p.userId===this.userId),vf(this.wt,p)):null)}yn(i,a){return this.gn[a]?or.resolve(this.gn[a]):this.lookupMutationBatch(i,a).next(p=>{if(p){const y=p.keys();return this.gn[a]=y,y}return null})}getNextMutationBatchAfterBatchId(i,a){const p=a+1,y=IDBKeyRange.lowerBound([this.userId,p]);let b=null;return Mc(i).J({index:"userMutationsIndex",range:y},(M,ue,Ye)=>{ue.userId===this.userId&&(os(ue.batchId>=p),b=vf(this.wt,ue)),Ye.done()}).next(()=>b)}getHighestUnacknowledgedBatchId(i){const a=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let p=-1;return Mc(i).J({index:"userMutationsIndex",range:a,reverse:!0},(y,b,M)=>{p=b.batchId,M.done()}).next(()=>p)}getAllMutationBatches(i){const a=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return Mc(i).K("userMutationsIndex",a).next(p=>p.map(y=>vf(this.wt,y)))}getAllMutationBatchesAffectingDocumentKey(i,a){const p=Op(this.userId,a.path),y=IDBKeyRange.lowerBound(p),b=[];return Id(i).J({range:y},(M,ue,Ye)=>{const[pt,Wt,Cn]=M,fr=Jh(Wt);if(pt===this.userId&&a.path.isEqual(fr))return Mc(i).get(Cn).next(Br=>{if(!Br)throw bi();os(Br.userId===this.userId),b.push(vf(this.wt,Br))});Ye.done()}).next(()=>b)}getAllMutationBatchesAffectingDocumentKeys(i,a){let p=new Gs(ie);const y=[];return a.forEach(b=>{const M=Op(this.userId,b.path),ue=IDBKeyRange.lowerBound(M),Ye=Id(i).J({range:ue},(pt,Wt,Cn)=>{const[fr,Br,Jr]=pt,Fi=Jh(Br);fr===this.userId&&b.path.isEqual(Fi)?p=p.add(Jr):Cn.done()});y.push(Ye)}),or.waitFor(y).next(()=>this.pn(i,p))}getAllMutationBatchesAffectingQuery(i,a){const p=a.path,y=p.length+1,b=Op(this.userId,p),M=IDBKeyRange.lowerBound(b);let ue=new Gs(ie);return Id(i).J({range:M},(Ye,pt,Wt)=>{const[Cn,fr,Br]=Ye,Jr=Jh(fr);Cn===this.userId&&p.isPrefixOf(Jr)?Jr.length===y&&(ue=ue.add(Br)):Wt.done()}).next(()=>this.pn(i,ue))}pn(i,a){const p=[],y=[];return a.forEach(b=>{y.push(Mc(i).get(b).next(M=>{if(null===M)throw bi();os(M.userId===this.userId),p.push(vf(this.wt,M))}))}),or.waitFor(y).next(()=>p)}removeMutationBatch(i,a){return Py(i.ee,this.userId,a).next(p=>(i.addOnCommittedListener(()=>{this.In(a.batchId)}),or.forEach(p,y=>this.referenceDelegate.markPotentiallyOrphaned(i,y))))}In(i){delete this.gn[i]}performConsistencyCheck(i){return this.checkEmpty(i).next(a=>{if(!a)return or.resolve();const p=IDBKeyRange.lowerBound([this.userId]),y=[];return Id(i).J({range:p},(b,M,ue)=>{if(b[0]===this.userId){const Ye=Jh(b[1]);y.push(Ye)}else ue.done()}).next(()=>{os(0===y.length)})})}containsKey(i,a){return Y0(i,this.userId,a)}Tn(i){return Ny(i).get(this.userId).next(a=>a||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""})}}function Y0(u,i,a){const p=Op(i,a.path),y=p[1],b=IDBKeyRange.lowerBound(p);let M=!1;return Id(u).J({range:b,H:!0},(ue,Ye,pt)=>{const[Wt,Cn,fr]=ue;Wt===i&&Cn===y&&(M=!0),pt.done()}).next(()=>M)}function Mc(u){return yc(u,"mutations")}function Id(u){return yc(u,"documentMutations")}function Ny(u){return yc(u,"mutationQueues")}class Dd{constructor(i){this.En=i}next(){return this.En+=2,this.En}static An(){return new Dd(0)}static Rn(){return new Dd(-1)}}class kd{constructor(i,a){this.referenceDelegate=i,this.wt=a}allocateTargetId(i){return this.bn(i).next(a=>{const p=new Dd(a.highestTargetId);return a.highestTargetId=p.next(),this.Pn(i,a).next(()=>a.highestTargetId)})}getLastRemoteSnapshotVersion(i){return this.bn(i).next(a=>Ge.fromTimestamp(new Ae(a.lastRemoteSnapshotVersion.seconds,a.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(i){return this.bn(i).next(a=>a.highestListenSequenceNumber)}setTargetsMetadata(i,a,p){return this.bn(i).next(y=>(y.highestListenSequenceNumber=a,p&&(y.lastRemoteSnapshotVersion=p.toTimestamp()),a>y.highestListenSequenceNumber&&(y.highestListenSequenceNumber=a),this.Pn(i,y)))}addTargetData(i,a){return this.vn(i,a).next(()=>this.bn(i).next(p=>(p.targetCount+=1,this.Vn(a,p),this.Pn(i,p))))}updateTargetData(i,a){return this.vn(i,a)}removeTargetData(i,a){return this.removeMatchingKeysForTargetId(i,a.targetId).next(()=>np(i).delete(a.targetId)).next(()=>this.bn(i)).next(p=>(os(p.targetCount>0),p.targetCount-=1,this.Pn(i,p)))}removeTargets(i,a,p){let y=0;const b=[];return np(i).J((M,ue)=>{const Ye=H0(ue);Ye.sequenceNumber<=a&&null===p.get(Ye.targetId)&&(y++,b.push(this.removeTargetData(i,Ye)))}).next(()=>or.waitFor(b)).next(()=>y)}forEachTarget(i,a){return np(i).J((p,y)=>{const b=H0(y);a(b)})}bn(i){return Ev(i).get("targetGlobalKey").next(a=>(os(null!==a),a))}Pn(i,a){return Ev(i).put("targetGlobalKey",a)}vn(i,a){return np(i).put(Zg(this.wt,a))}Vn(i,a){let p=!1;return i.targetId>a.highestTargetId&&(a.highestTargetId=i.targetId,p=!0),i.sequenceNumber>a.highestListenSequenceNumber&&(a.highestListenSequenceNumber=i.sequenceNumber,p=!0),p}getTargetCount(i){return this.bn(i).next(a=>a.targetCount)}getTargetData(i,a){const p=rs(a),y=IDBKeyRange.bound([p,Number.NEGATIVE_INFINITY],[p,Number.POSITIVE_INFINITY]);let b=null;return np(i).J({range:y,index:"queryTargetsIndex"},(M,ue,Ye)=>{const pt=H0(ue);Eh(a,pt.target)&&(b=pt,Ye.done())}).next(()=>b)}addMatchingKeys(i,a,p){const y=[],b=nd(i);return a.forEach(M=>{const ue=Hc(M.path);y.push(b.put({targetId:p,path:ue})),y.push(this.referenceDelegate.addReference(i,p,M))}),or.waitFor(y)}removeMatchingKeys(i,a,p){const y=nd(i);return or.forEach(a,b=>{const M=Hc(b.path);return or.waitFor([y.delete([p,M]),this.referenceDelegate.removeReference(i,p,b)])})}removeMatchingKeysForTargetId(i,a){const p=nd(i),y=IDBKeyRange.bound([a],[a+1],!1,!0);return p.delete(y)}getMatchingKeysForTargetId(i,a){const p=IDBKeyRange.bound([a],[a+1],!1,!0),y=nd(i);let b=Js();return y.J({range:p,H:!0},(M,ue,Ye)=>{const pt=Jh(M[1]),Wt=new rr(pt);b=b.add(Wt)}).next(()=>b)}containsKey(i,a){const p=Hc(a.path),y=IDBKeyRange.bound([p],[H(p)],!1,!0);let b=0;return nd(i).J({index:"documentTargetsIndex",H:!0,range:y},([M,ue],Ye,pt)=>{0!==M&&(b++,pt.done())}).next(()=>b>0)}te(i,a){return np(i).get(a).next(p=>p?H0(p):null)}}function np(u){return yc(u,"targets")}function Ev(u){return yc(u,"targetGlobal")}function nd(u){return yc(u,"targetDocuments")}function Mx([u,i],[a,p]){const y=ie(u,a);return 0===y?ie(i,p):y}class xf{constructor(i){this.Sn=i,this.buffer=new Gs(Mx),this.Dn=0}Cn(){return++this.Dn}xn(i){const a=[i,this.Cn()];if(this.buffer.size<this.Sn)this.buffer=this.buffer.add(a);else{const p=this.buffer.last();Mx(a,p)<0&&(this.buffer=this.buffer.delete(p).add(a))}}get maxValue(){return this.buffer.last()[0]}}class CC{constructor(i,a,p){this.garbageCollector=i,this.asyncQueue=a,this.localStore=p,this.Nn=null}start(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.kn(6e4)}stop(){this.Nn&&(this.Nn.cancel(),this.Nn=null)}get started(){return null!==this.Nn}kn(i){var a=this;Qr("LruGarbageCollector",`Garbage collection scheduled in ${i}ms`),this.Nn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",i,(0,C.Z)(function*(){a.Nn=null;try{yield a.localStore.collectGarbage(a.garbageCollector)}catch(p){Pc(p)?Qr("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",p):yield yh(p)}yield a.kn(3e5)}))}}class Tv{constructor(i,a){this.On=i,this.params=a}calculateTargetCount(i,a){return this.On.Mn(i).next(p=>Math.floor(a/100*p))}nthSequenceNumber(i,a){if(0===a)return or.resolve(uu.ot);const p=new xf(a);return this.On.forEachTarget(i,y=>p.xn(y.sequenceNumber)).next(()=>this.On.Fn(i,y=>p.xn(y))).next(()=>p.maxValue)}removeTargets(i,a,p){return this.On.removeTargets(i,a,p)}removeOrphanedDocuments(i,a){return this.On.removeOrphanedDocuments(i,a)}collect(i,a){return-1===this.params.cacheSizeCollectionThreshold?(Qr("LruGarbageCollector","Garbage collection skipped; disabled"),or.resolve(Nx)):this.getCacheSize(i).next(p=>p<this.params.cacheSizeCollectionThreshold?(Qr("LruGarbageCollector",`Garbage collection skipped; Cache size ${p} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Nx):this.$n(i,a))}getCacheSize(i){return this.On.getCacheSize(i)}$n(i,a){let p,y,b,M,ue,Ye,pt;const Wt=Date.now();return this.calculateTargetCount(i,this.params.percentileToCollect).next(Cn=>(Cn>this.params.maximumSequenceNumbersToCollect?(Qr("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${Cn}`),y=this.params.maximumSequenceNumbersToCollect):y=Cn,M=Date.now(),this.nthSequenceNumber(i,y))).next(Cn=>(p=Cn,ue=Date.now(),this.removeTargets(i,p,a))).next(Cn=>(b=Cn,Ye=Date.now(),this.removeOrphanedDocuments(i,p))).next(Cn=>(pt=Date.now(),cu()<=ve.in.DEBUG&&Qr("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${M-Wt}ms\n\tDetermined least recently used ${y} in `+(ue-M)+`ms\n\tRemoved ${b} targets in `+(Ye-ue)+`ms\n\tRemoved ${Cn} documents in `+(pt-Ye)+`ms\nTotal Duration: ${pt-Wt}ms`),or.resolve({didRun:!0,sequenceNumbersCollected:y,targetsRemoved:b,documentsRemoved:Cn})))}}class Ka{constructor(i,a){this.db=i,this.garbageCollector=new Tv(this,a)}Mn(i){const a=this.Bn(i);return this.db.getTargetCache().getTargetCount(i).next(p=>a.next(y=>p+y))}Bn(i){let a=0;return this.Fn(i,p=>{a++}).next(()=>a)}forEachTarget(i,a){return this.db.getTargetCache().forEachTarget(i,a)}Fn(i,a){return this.Ln(i,(p,y)=>a(y))}addReference(i,a,p){return Xl(i,p)}removeReference(i,a,p){return Xl(i,p)}removeTargets(i,a,p){return this.db.getTargetCache().removeTargets(i,a,p)}markPotentiallyOrphaned(i,a){return Xl(i,a)}Un(i,a){return function(p,y){let b=!1;return Ny(p).Y(M=>Y0(p,M,y).next(ue=>(ue&&(b=!0),or.resolve(!ue)))).next(()=>b)}(i,a)}removeOrphanedDocuments(i,a){const p=this.db.getRemoteDocumentCache().newChangeBuffer(),y=[];let b=0;return this.Ln(i,(M,ue)=>{if(ue<=a){const Ye=this.Un(i,M).next(pt=>{if(!pt)return b++,p.getEntry(i,M).next(()=>(p.removeEntry(M,Ge.min()),nd(i).delete([0,Hc(M.path)])))});y.push(Ye)}}).next(()=>or.waitFor(y)).next(()=>p.apply(i)).next(()=>b)}removeTarget(i,a){const p=a.withSequenceNumber(i.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(i,p)}updateLimboDocument(i,a){return Xl(i,a)}Ln(i,a){const p=nd(i);let y,b=uu.ot;return p.J({index:"documentTargetsIndex"},([M,ue],{path:Ye,sequenceNumber:pt})=>{0===M?(b!==uu.ot&&a(new rr(Jh(y)),b),b=pt,y=Ye):b=uu.ot}).next(()=>{b!==uu.ot&&a(new rr(Jh(y)),b)})}getCacheSize(i){return this.db.getRemoteDocumentCache().getSize(i)}}function Xl(u,i){return nd(u).put((p=u.currentSequenceNumber,{targetId:0,path:Hc(i.path),sequenceNumber:p}));var p}class hl{constructor(){this.changes=new Er(i=>i.toString(),(i,a)=>i.isEqual(a)),this.changesApplied=!1}addEntry(i){this.assertNotApplied(),this.changes.set(i.key,i)}removeEntry(i,a){this.assertNotApplied(),this.changes.set(i,Cs.newInvalidDocument(i).setReadTime(a))}getEntry(i,a){this.assertNotApplied();const p=this.changes.get(a);return void 0!==p?or.resolve(p):this.getFromCache(i,a)}getEntries(i,a){return this.getAllFromCache(i,a)}apply(i){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(i)}assertNotApplied(){}}class Pu{constructor(i){this.wt=i}setIndexManager(i){this.indexManager=i}addEntry(i,a,p){return rd(i).put(p)}removeEntry(i,a,p){return rd(i).delete(function(y,b){const M=y.path.toArray();return[M.slice(0,M.length-2),M[M.length-2],mf(b),M[M.length-1]]}(a,p))}updateMetadata(i,a){return this.getMetadata(i).next(p=>(p.byteSize+=a,this.qn(i,p)))}getEntry(i,a){let p=Cs.newInvalidDocument(a);return rd(i).J({index:"documentKeyIndex",range:IDBKeyRange.only(Xg(a))},(y,b)=>{p=this.Kn(a,b)}).next(()=>p)}Gn(i,a){let p={size:0,document:Cs.newInvalidDocument(a)};return rd(i).J({index:"documentKeyIndex",range:IDBKeyRange.only(Xg(a))},(y,b)=>{p={document:this.Kn(a,b),size:Kg(b)}}).next(()=>p)}getEntries(i,a){let p=ia();return this.Qn(i,a,(y,b)=>{const M=this.Kn(y,b);p=p.insert(y,M)}).next(()=>p)}jn(i,a){let p=ia(),y=new _l(rr.comparator);return this.Qn(i,a,(b,M)=>{const ue=this.Kn(b,M);p=p.insert(b,ue),y=y.insert(b,Kg(M))}).next(()=>({documents:p,Wn:y}))}Qn(i,a,p){if(a.isEmpty())return or.resolve();let y=new Gs(Bp);a.forEach(Ye=>y=y.add(Ye));const b=IDBKeyRange.bound(Xg(y.first()),Xg(y.last())),M=y.getIterator();let ue=M.getNext();return rd(i).J({index:"documentKeyIndex",range:b},(Ye,pt,Wt)=>{const Cn=rr.fromSegments([...pt.prefixPath,pt.collectionGroup,pt.documentId]);for(;ue&&Bp(ue,Cn)<0;)p(ue,null),ue=M.getNext();ue&&ue.isEqual(Cn)&&(p(ue,pt),ue=M.hasNext()?M.getNext():null),ue?Wt.q(Xg(ue)):Wt.done()}).next(()=>{for(;ue;)p(ue,null),ue=M.hasNext()?M.getNext():null})}getAllFromCollection(i,a,p){const y=[a.popLast().toArray(),a.lastSegment(),mf(p.readTime),p.documentKey.path.isEmpty()?"":p.documentKey.path.lastSegment()],b=[a.popLast().toArray(),a.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return rd(i).K(IDBKeyRange.bound(y,b,!0)).next(M=>{let ue=ia();for(const Ye of M){const pt=this.Kn(rr.fromSegments(Ye.prefixPath.concat(Ye.collectionGroup,Ye.documentId)),Ye);ue=ue.insert(pt.key,pt)}return ue})}getAllFromCollectionGroup(i,a,p,y){let b=ia();const M=Oy(a,p),ue=Oy(a,yl.max());return rd(i).J({index:"collectionGroupIndex",range:IDBKeyRange.bound(M,ue,!0)},(Ye,pt,Wt)=>{const Cn=this.Kn(rr.fromSegments(pt.prefixPath.concat(pt.collectionGroup,pt.documentId)),pt);b=b.insert(Cn.key,Cn),b.size===y&&Wt.done()}).next(()=>b)}newChangeBuffer(i){return new pb(this,!!i&&i.trackRemovals)}getSize(i){return this.getMetadata(i).next(a=>a.byteSize)}getMetadata(i){return My(i).get("remoteDocumentGlobalKey").next(a=>(os(!!a),a))}qn(i,a){return My(i).put("remoteDocumentGlobalKey",a)}Kn(i,a){if(a){const p=function Ss(u,i){let a;if(i.document)a=ep(u.ne,i.document,!!i.hasCommittedMutations);else if(i.noDocument){const p=rr.fromSegments(i.noDocument.path),y=uo(i.noDocument.readTime);a=Cs.newNoDocument(p,y),i.hasCommittedMutations&&a.setHasCommittedMutations()}else{if(!i.unknownDocument)return bi();{const p=rr.fromSegments(i.unknownDocument.path),y=uo(i.unknownDocument.version);a=Cs.newUnknownDocument(p,y)}}return i.readTime&&a.setReadTime(function(p){const y=new Ae(p[0],p[1]);return Ge.fromTimestamp(y)}(i.readTime)),a}(this.wt,a);if(!p.isNoDocument()||!p.version.isEqual(Ge.min()))return p}return Cs.newInvalidDocument(i)}}function Ox(u){return new Pu(u)}class pb extends hl{constructor(i,a){super(),this.zn=i,this.trackRemovals=a,this.Hn=new Er(p=>p.toString(),(p,y)=>p.isEqual(y))}applyChanges(i){const a=[];let p=0,y=new Gs((b,M)=>ie(b.canonicalString(),M.canonicalString()));return this.changes.forEach((b,M)=>{const ue=this.Hn.get(b);if(a.push(this.zn.removeEntry(i,b,ue.readTime)),M.isValidDocument()){const Ye=V0(this.zn.wt,M);y=y.add(b.path.popLast()),p+=Kg(Ye)-ue.size,a.push(this.zn.addEntry(i,b,Ye))}else if(p-=ue.size,this.trackRemovals){const Ye=V0(this.zn.wt,M.convertToNoDocument(Ge.min()));a.push(this.zn.addEntry(i,b,Ye))}}),y.forEach(b=>{a.push(this.zn.indexManager.addToCollectionParentIndex(i,b))}),a.push(this.zn.updateMetadata(i,p)),or.waitFor(a)}getFromCache(i,a){return this.zn.Gn(i,a).next(p=>(this.Hn.set(a,{size:p.size,readTime:p.document.readTime}),p.document))}getAllFromCache(i,a){return this.zn.jn(i,a).next(({documents:p,Wn:y})=>(y.forEach((b,M)=>{this.Hn.set(b,{size:M,readTime:p.get(b).readTime})}),p))}}function My(u){return yc(u,"remoteDocumentGlobal")}function rd(u){return yc(u,"remoteDocumentsV14")}function Xg(u){const i=u.path.toArray();return[i.slice(0,i.length-2),i[i.length-2],i[i.length-1]]}function Oy(u,i){const a=i.documentKey.path.toArray();return[u,mf(i.readTime),a.slice(0,a.length-2),a.length>0?a[a.length-1]:""]}function Bp(u,i){const a=u.path.toArray(),p=i.path.toArray();let y=0;for(let b=0;b<a.length-2&&b<p.length-2;++b)if(y=ie(a[b],p[b]),y)return y;return y=ie(a.length,p.length),y||(y=ie(a[a.length-2],p[p.length-2]),y||ie(a[a.length-1],p[p.length-1]))}class Jg{constructor(i,a){this.overlayedDocument=i,this.mutatedFields=a}}class jp{constructor(i,a,p,y){this.remoteDocumentCache=i,this.mutationQueue=a,this.documentOverlayCache=p,this.indexManager=y}getDocument(i,a){let p=null;return this.documentOverlayCache.getOverlay(i,a).next(y=>(p=y,this.getBaseDocument(i,a,p))).next(y=>(null!==p&&Lo(p.mutation,y,xl.empty(),Ae.now()),y))}getDocuments(i,a){return this.remoteDocumentCache.getEntries(i,a).next(p=>this.getLocalViewOfDocuments(i,p,Js()).next(()=>p))}getLocalViewOfDocuments(i,a,p=Js()){const y=Iu();return this.populateOverlays(i,y,a).next(()=>this.computeViews(i,a,y,p).next(b=>{let M=Yh();return b.forEach((ue,Ye)=>{M=M.insert(ue,Ye.overlayedDocument)}),M}))}getOverlayedDocuments(i,a){const p=Iu();return this.populateOverlays(i,p,a).next(()=>this.computeViews(i,a,p,Js()))}populateOverlays(i,a,p){const y=[];return p.forEach(b=>{a.has(b)||y.push(b)}),this.documentOverlayCache.getOverlays(i,y).next(b=>{b.forEach((M,ue)=>{a.set(M,ue)})})}computeViews(i,a,p,y){let b=ia();const M=kp(),ue=kp();return a.forEach((Ye,pt)=>{const Wt=p.get(pt.key);y.has(pt.key)&&(void 0===Wt||Wt.mutation instanceof na)?b=b.insert(pt.key,pt):void 0!==Wt&&(M.set(pt.key,Wt.mutation.getFieldMask()),Lo(Wt.mutation,pt,Wt.mutation.getFieldMask(),Ae.now()))}),this.recalculateAndSaveOverlays(i,b).next(Ye=>(Ye.forEach((pt,Wt)=>M.set(pt,Wt)),a.forEach((pt,Wt)=>{var Cn;return ue.set(pt,new Jg(Wt,null!==(Cn=M.get(pt))&&void 0!==Cn?Cn:null))}),ue))}recalculateAndSaveOverlays(i,a){const p=kp();let y=new _l((M,ue)=>M-ue),b=Js();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(i,a).next(M=>{for(const ue of M)ue.keys().forEach(Ye=>{const pt=a.get(Ye);if(null===pt)return;let Wt=p.get(Ye)||xl.empty();Wt=ue.applyToLocalView(pt,Wt),p.set(Ye,Wt);const Cn=(y.get(ue.batchId)||Js()).add(Ye);y=y.insert(ue.batchId,Cn)})}).next(()=>{const M=[],ue=y.getReverseIterator();for(;ue.hasNext();){const Ye=ue.getNext(),pt=Ye.key,Wt=Ye.value,Cn=uv();Wt.forEach(fr=>{if(!b.has(fr)){const Br=Yi(a.get(fr),p.get(fr));null!==Br&&Cn.set(fr,Br),b=b.add(fr)}}),M.push(this.documentOverlayCache.saveOverlays(i,pt,Cn))}return or.waitFor(M)}).next(()=>p)}recalculateAndSaveOverlaysForDocumentKeys(i,a){return this.remoteDocumentCache.getEntries(i,a).next(p=>this.recalculateAndSaveOverlays(i,p))}getDocumentsMatchingQuery(i,a,p){return rr.isDocumentKey((y=a).path)&&null===y.collectionGroup&&0===y.filters.length?this.getDocumentsMatchingDocumentQuery(i,a.path):Kf(a)?this.getDocumentsMatchingCollectionGroupQuery(i,a,p):this.getDocumentsMatchingCollectionQuery(i,a,p);var y}getNextDocuments(i,a,p,y){return this.remoteDocumentCache.getAllFromCollectionGroup(i,a,p,y).next(b=>{const M=y-b.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(i,a,p.largestBatchId,y-b.size):or.resolve(Iu());let ue=-1,Ye=b;return M.next(pt=>or.forEach(pt,(Wt,Cn)=>(ue<Cn.largestBatchId&&(ue=Cn.largestBatchId),b.get(Wt)?or.resolve():this.getBaseDocument(i,Wt,Cn).next(fr=>{Ye=Ye.insert(Wt,fr)}))).next(()=>this.populateOverlays(i,pt,b)).next(()=>this.computeViews(i,Ye,pt,Js())).next(Wt=>({batchId:ue,changes:cv(Wt)})))})}getDocumentsMatchingDocumentQuery(i,a){return this.getDocument(i,new rr(a)).next(p=>{let y=Yh();return p.isFoundDocument()&&(y=y.insert(p.key,p)),y})}getDocumentsMatchingCollectionGroupQuery(i,a,p){const y=a.collectionGroup;let b=Yh();return this.indexManager.getCollectionParents(i,y).next(M=>or.forEach(M,ue=>{const Ye=(pt=a,Wt=ue.child(y),new nh(Wt,null,pt.explicitOrderBy.slice(),pt.filters.slice(),pt.limit,pt.limitType,pt.startAt,pt.endAt));var pt,Wt;return this.getDocumentsMatchingCollectionQuery(i,Ye,p).next(pt=>{pt.forEach((Wt,Cn)=>{b=b.insert(Wt,Cn)})})}).next(()=>b))}getDocumentsMatchingCollectionQuery(i,a,p){let y;return this.remoteDocumentCache.getAllFromCollection(i,a.path,p).next(b=>(y=b,this.documentOverlayCache.getOverlaysForCollection(i,a.path,p.largestBatchId))).next(b=>{b.forEach((ue,Ye)=>{const pt=Ye.getKey();null===y.get(pt)&&(y=y.insert(pt,Cs.newInvalidDocument(pt)))});let M=Yh();return y.forEach((ue,Ye)=>{const pt=b.get(ue);void 0!==pt&&Lo(pt.mutation,Ye,xl.empty(),Ae.now()),hf(a,Ye)&&(M=M.insert(ue,Ye))}),M})}getBaseDocument(i,a,p){return null===p||1===p.mutation.type?this.remoteDocumentCache.getEntry(i,a):or.resolve(Cs.newInvalidDocument(a))}}class Fy{constructor(i){this.wt=i,this.Jn=new Map,this.Yn=new Map}getBundleMetadata(i,a){return or.resolve(this.Jn.get(a))}saveBundleMetadata(i,a){var p;return this.Jn.set(a.id,{id:(p=a).id,version:p.version,createTime:Po(p.createTime)}),or.resolve()}getNamedQuery(i,a){return or.resolve(this.Yn.get(a))}saveNamedQuery(i,a){return this.Yn.set(a.name,{name:(p=a).name,query:Rp(p.bundledQuery),readTime:Po(p.readTime)}),or.resolve();var p}}class Fx{constructor(){this.overlays=new _l(rr.comparator),this.Xn=new Map}getOverlay(i,a){return or.resolve(this.overlays.get(a))}getOverlays(i,a){const p=Iu();return or.forEach(a,y=>this.getOverlay(i,y).next(b=>{null!==b&&p.set(y,b)})).next(()=>p)}saveOverlays(i,a,p){return p.forEach((y,b)=>{this.ie(i,a,b)}),or.resolve()}removeOverlaysForBatchId(i,a,p){const y=this.Xn.get(p);return void 0!==y&&(y.forEach(b=>this.overlays=this.overlays.remove(b)),this.Xn.delete(p)),or.resolve()}getOverlaysForCollection(i,a,p){const y=Iu(),b=a.length+1,M=new rr(a.child("")),ue=this.overlays.getIteratorFrom(M);for(;ue.hasNext();){const Ye=ue.getNext().value,pt=Ye.getKey();if(!a.isPrefixOf(pt.path))break;pt.path.length===b&&Ye.largestBatchId>p&&y.set(Ye.getKey(),Ye)}return or.resolve(y)}getOverlaysForCollectionGroup(i,a,p,y){let b=new _l((pt,Wt)=>pt-Wt);const M=this.overlays.getIterator();for(;M.hasNext();){const pt=M.getNext().value;if(pt.getKey().getCollectionGroup()===a&&pt.largestBatchId>p){let Wt=b.get(pt.largestBatchId);null===Wt&&(Wt=Iu(),b=b.insert(pt.largestBatchId,Wt)),Wt.set(pt.getKey(),pt)}}const ue=Iu(),Ye=b.getIterator();for(;Ye.hasNext()&&(Ye.getNext().value.forEach((pt,Wt)=>ue.set(pt,Wt)),!(ue.size()>=y)););return or.resolve(ue)}ie(i,a,p){const y=this.overlays.get(p.key);if(null!==y){const M=this.Xn.get(y.largestBatchId).delete(p.key);this.Xn.set(y.largestBatchId,M)}this.overlays=this.overlays.insert(p.key,new j0(a,p));let b=this.Xn.get(a);void 0===b&&(b=Js(),this.Xn.set(a,b)),this.Xn.set(a,b.add(p.key))}}class Ry{constructor(){this.Zn=new Gs(Jl.ts),this.es=new Gs(Jl.ns)}isEmpty(){return this.Zn.isEmpty()}addReference(i,a){const p=new Jl(i,a);this.Zn=this.Zn.add(p),this.es=this.es.add(p)}ss(i,a){i.forEach(p=>this.addReference(p,a))}removeReference(i,a){this.rs(new Jl(i,a))}os(i,a){i.forEach(p=>this.removeReference(p,a))}us(i){const a=new rr(new Zt([])),p=new Jl(a,i),y=new Jl(a,i+1),b=[];return this.es.forEachInRange([p,y],M=>{this.rs(M),b.push(M.key)}),b}cs(){this.Zn.forEach(i=>this.rs(i))}rs(i){this.Zn=this.Zn.delete(i),this.es=this.es.delete(i)}hs(i){const a=new rr(new Zt([])),p=new Jl(a,i),y=new Jl(a,i+1);let b=Js();return this.es.forEachInRange([p,y],M=>{b=b.add(M.key)}),b}containsKey(i){const a=new Jl(i,0),p=this.Zn.firstAfterOrEqual(a);return null!==p&&i.isEqual(p.key)}}class Jl{constructor(i,a){this.key=i,this.ls=a}static ts(i,a){return rr.comparator(i.key,a.key)||ie(i.ls,a.ls)}static ns(i,a){return ie(i.ls,a.ls)||rr.comparator(i.key,a.key)}}class SC{constructor(i,a){this.indexManager=i,this.referenceDelegate=a,this.mutationQueue=[],this.fs=1,this.ds=new Gs(Jl.ts)}checkEmpty(i){return or.resolve(0===this.mutationQueue.length)}addMutationBatch(i,a,p,y){const b=this.fs;this.fs++;const M=new B0(b,a,p,y);this.mutationQueue.push(M);for(const ue of y)this.ds=this.ds.add(new Jl(ue.key,b)),this.indexManager.addToCollectionParentIndex(i,ue.key.path.popLast());return or.resolve(M)}lookupMutationBatch(i,a){return or.resolve(this._s(a))}getNextMutationBatchAfterBatchId(i,a){const y=this.ws(a+1),b=y<0?0:y;return or.resolve(this.mutationQueue.length>b?this.mutationQueue[b]:null)}getHighestUnacknowledgedBatchId(){return or.resolve(0===this.mutationQueue.length?-1:this.fs-1)}getAllMutationBatches(i){return or.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(i,a){const p=new Jl(a,0),y=new Jl(a,Number.POSITIVE_INFINITY),b=[];return this.ds.forEachInRange([p,y],M=>{const ue=this._s(M.ls);b.push(ue)}),or.resolve(b)}getAllMutationBatchesAffectingDocumentKeys(i,a){let p=new Gs(ie);return a.forEach(y=>{const b=new Jl(y,0),M=new Jl(y,Number.POSITIVE_INFINITY);this.ds.forEachInRange([b,M],ue=>{p=p.add(ue.ls)})}),or.resolve(this.gs(p))}getAllMutationBatchesAffectingQuery(i,a){const p=a.path,y=p.length+1;let b=p;rr.isDocumentKey(b)||(b=b.child(""));const M=new Jl(new rr(b),0);let ue=new Gs(ie);return this.ds.forEachWhile(Ye=>{const pt=Ye.key.path;return!!p.isPrefixOf(pt)&&(pt.length===y&&(ue=ue.add(Ye.ls)),!0)},M),or.resolve(this.gs(ue))}gs(i){const a=[];return i.forEach(p=>{const y=this._s(p);null!==y&&a.push(y)}),a}removeMutationBatch(i,a){os(0===this.ys(a.batchId,"removed")),this.mutationQueue.shift();let p=this.ds;return or.forEach(a.mutations,y=>{const b=new Jl(y.key,a.batchId);return p=p.delete(b),this.referenceDelegate.markPotentiallyOrphaned(i,y.key)}).next(()=>{this.ds=p})}In(i){}containsKey(i,a){const p=new Jl(a,0),y=this.ds.firstAfterOrEqual(p);return or.resolve(a.isEqual(y&&y.key))}performConsistencyCheck(i){return or.resolve()}ys(i,a){return this.ws(i)}ws(i){return 0===this.mutationQueue.length?0:i-this.mutationQueue[0].batchId}_s(i){const a=this.ws(i);return a<0||a>=this.mutationQueue.length?null:this.mutationQueue[a]}}class Ly{constructor(i){this.ps=i,this.docs=new _l(rr.comparator),this.size=0}setIndexManager(i){this.indexManager=i}addEntry(i,a){const p=a.key,y=this.docs.get(p),b=y?y.size:0,M=this.ps(a);return this.docs=this.docs.insert(p,{document:a.mutableCopy(),size:M}),this.size+=M-b,this.indexManager.addToCollectionParentIndex(i,p.path.popLast())}removeEntry(i){const a=this.docs.get(i);a&&(this.docs=this.docs.remove(i),this.size-=a.size)}getEntry(i,a){const p=this.docs.get(a);return or.resolve(p?p.document.mutableCopy():Cs.newInvalidDocument(a))}getEntries(i,a){let p=ia();return a.forEach(y=>{const b=this.docs.get(y);p=p.insert(y,b?b.document.mutableCopy():Cs.newInvalidDocument(y))}),or.resolve(p)}getAllFromCollection(i,a,p){let y=ia();const b=new rr(a.child("")),M=this.docs.getIteratorFrom(b);for(;M.hasNext();){const{key:ue,value:{document:Ye}}=M.getNext();if(!a.isPrefixOf(ue.path))break;ue.path.length>a.length+1||Na(Hh(Ye),p)<=0||(y=y.insert(Ye.key,Ye.mutableCopy()))}return or.resolve(y)}getAllFromCollectionGroup(i,a,p,y){bi()}Is(i,a){return or.forEach(this.docs,p=>a(p))}newChangeBuffer(i){return new gb(this)}getSize(i){return or.resolve(this.size)}}class gb extends hl{constructor(i){super(),this.zn=i}applyChanges(i){const a=[];return this.changes.forEach((p,y)=>{y.isValidDocument()?a.push(this.zn.addEntry(i,y)):this.zn.removeEntry(p)}),or.waitFor(a)}getFromCache(i,a){return this.zn.getEntry(i,a)}getAllFromCache(i,a){return this.zn.getEntries(i,a)}}class AC{constructor(i){this.persistence=i,this.Ts=new Er(a=>rs(a),Eh),this.lastRemoteSnapshotVersion=Ge.min(),this.highestTargetId=0,this.Es=0,this.As=new Ry,this.targetCount=0,this.Rs=Dd.An()}forEachTarget(i,a){return this.Ts.forEach((p,y)=>a(y)),or.resolve()}getLastRemoteSnapshotVersion(i){return or.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(i){return or.resolve(this.Es)}allocateTargetId(i){return this.highestTargetId=this.Rs.next(),or.resolve(this.highestTargetId)}setTargetsMetadata(i,a,p){return p&&(this.lastRemoteSnapshotVersion=p),a>this.Es&&(this.Es=a),or.resolve()}vn(i){this.Ts.set(i.target,i);const a=i.targetId;a>this.highestTargetId&&(this.Rs=new Dd(a),this.highestTargetId=a),i.sequenceNumber>this.Es&&(this.Es=i.sequenceNumber)}addTargetData(i,a){return this.vn(a),this.targetCount+=1,or.resolve()}updateTargetData(i,a){return this.vn(a),or.resolve()}removeTargetData(i,a){return this.Ts.delete(a.target),this.As.us(a.targetId),this.targetCount-=1,or.resolve()}removeTargets(i,a,p){let y=0;const b=[];return this.Ts.forEach((M,ue)=>{ue.sequenceNumber<=a&&null===p.get(ue.targetId)&&(this.Ts.delete(M),b.push(this.removeMatchingKeysForTargetId(i,ue.targetId)),y++)}),or.waitFor(b).next(()=>y)}getTargetCount(i){return or.resolve(this.targetCount)}getTargetData(i,a){const p=this.Ts.get(a)||null;return or.resolve(p)}addMatchingKeys(i,a,p){return this.As.ss(a,p),or.resolve()}removeMatchingKeys(i,a,p){this.As.os(a,p);const y=this.persistence.referenceDelegate,b=[];return y&&a.forEach(M=>{b.push(y.markPotentiallyOrphaned(i,M))}),or.waitFor(b)}removeMatchingKeysForTargetId(i,a){return this.As.us(a),or.resolve()}getMatchingKeysForTargetId(i,a){const p=this.As.hs(a);return or.resolve(p)}containsKey(i,a){return or.resolve(this.As.containsKey(a))}}class mb{constructor(i,a){this.bs={},this.overlays={},this.Ps=new uu(0),this.vs=!1,this.vs=!0,this.referenceDelegate=i(this),this.Vs=new AC(this),this.indexManager=new db,this.remoteDocumentCache=new Ly(p=>this.referenceDelegate.Ss(p)),this.wt=new Ay(a),this.Ds=new Fy(this.wt)}start(){return Promise.resolve()}shutdown(){return this.vs=!1,Promise.resolve()}get started(){return this.vs}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(i){return this.indexManager}getDocumentOverlayCache(i){let a=this.overlays[i.toKey()];return a||(a=new Fx,this.overlays[i.toKey()]=a),a}getMutationQueue(i,a){let p=this.bs[i.toKey()];return p||(p=new SC(a,this.referenceDelegate),this.bs[i.toKey()]=p),p}getTargetCache(){return this.Vs}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ds}runTransaction(i,a,p){Qr("MemoryPersistence","Starting transaction:",i);const y=new vb(this.Ps.next());return this.referenceDelegate.Cs(),p(y).next(b=>this.referenceDelegate.xs(y).next(()=>b)).toPromise().then(b=>(y.raiseOnCommittedEvent(),b))}Ns(i,a){return or.or(Object.values(this.bs).map(p=>()=>p.containsKey(i,a)))}}class vb extends vh{constructor(i){super(),this.currentSequenceNumber=i}}class Cv{constructor(i){this.persistence=i,this.ks=new Ry,this.Os=null}static Ms(i){return new Cv(i)}get Fs(){if(this.Os)return this.Os;throw bi()}addReference(i,a,p){return this.ks.addReference(p,a),this.Fs.delete(p.toString()),or.resolve()}removeReference(i,a,p){return this.ks.removeReference(p,a),this.Fs.add(p.toString()),or.resolve()}markPotentiallyOrphaned(i,a){return this.Fs.add(a.toString()),or.resolve()}removeTarget(i,a){this.ks.us(a.targetId).forEach(y=>this.Fs.add(y.toString()));const p=this.persistence.getTargetCache();return p.getMatchingKeysForTargetId(i,a.targetId).next(y=>{y.forEach(b=>this.Fs.add(b.toString()))}).next(()=>p.removeTargetData(i,a))}Cs(){this.Os=new Set}xs(i){const a=this.persistence.getRemoteDocumentCache().newChangeBuffer();return or.forEach(this.Fs,p=>{const y=rr.fromPath(p);return this.$s(i,y).next(b=>{b||a.removeEntry(y,Ge.min())})}).next(()=>(this.Os=null,a.apply(i)))}updateLimboDocument(i,a){return this.$s(i,a).next(p=>{p?this.Fs.delete(a.toString()):this.Fs.add(a.toString())})}Ss(i){return 0}$s(i,a){return or.or([()=>or.resolve(this.ks.containsKey(a)),()=>this.persistence.getTargetCache().containsKey(i,a),()=>this.persistence.Ns(i,a)])}}class wf{constructor(i){this.wt=i}O(i,a,p,y){const b=new zh("createOrUpgrade",a);var ue;p<1&&y>=1&&(i.createObjectStore("owner"),(ue=i).createObjectStore("mutationQueues",{keyPath:"userId"}),ue.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",L0,{unique:!0}),ue.createObjectStore("documentMutations"),Vp(i),function(ue){ue.createObjectStore("remoteDocuments")}(i));let M=or.resolve();return p<3&&y>=3&&(0!==p&&(function(ue){ue.deleteObjectStore("targetDocuments"),ue.deleteObjectStore("targets"),ue.deleteObjectStore("targetGlobal")}(i),Vp(i)),M=M.next(()=>function(ue){const Ye=ue.store("targetGlobal"),pt={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:Ge.min().toTimestamp(),targetCount:0};return Ye.put("targetGlobalKey",pt)}(b))),p<4&&y>=4&&(0!==p&&(M=M.next(()=>function(ue,Ye){return Ye.store("mutations").K().next(pt=>{ue.deleteObjectStore("mutations"),ue.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",L0,{unique:!0});const Wt=Ye.store("mutations"),Cn=pt.map(fr=>Wt.put(fr));return or.waitFor(Cn)})}(i,b))),M=M.next(()=>{!function(ue){ue.createObjectStore("clientMetadata",{keyPath:"clientId"})}(i)})),p<5&&y>=5&&(M=M.next(()=>this.Bs(b))),p<6&&y>=6&&(M=M.next(()=>(function(ue){ue.createObjectStore("remoteDocumentGlobal")}(i),this.Ls(b)))),p<7&&y>=7&&(M=M.next(()=>this.Us(b))),p<8&&y>=8&&(M=M.next(()=>this.qs(i,b))),p<9&&y>=9&&(M=M.next(()=>{!function(ue){ue.objectStoreNames.contains("remoteDocumentChanges")&&ue.deleteObjectStore("remoteDocumentChanges")}(i)})),p<10&&y>=10&&(M=M.next(()=>this.Ks(b))),p<11&&y>=11&&(M=M.next(()=>{(function(ue){ue.createObjectStore("bundles",{keyPath:"bundleId"})})(i),function(ue){ue.createObjectStore("namedQueries",{keyPath:"name"})}(i)})),p<12&&y>=12&&(M=M.next(()=>{!function(ue){const Ye=ue.createObjectStore("documentOverlays",{keyPath:ub});Ye.createIndex("collectionPathOverlayIndex",Ey,{unique:!1}),Ye.createIndex("collectionGroupOverlayIndex",Ty,{unique:!1})}(i)})),p<13&&y>=13&&(M=M.next(()=>function(ue){const Ye=ue.createObjectStore("remoteDocumentsV14",{keyPath:gv});Ye.createIndex("documentKeyIndex",Gg),Ye.createIndex("collectionGroupIndex",lD)}(i)).next(()=>this.Gs(i,b)).next(()=>i.deleteObjectStore("remoteDocuments"))),p<14&&y>=14&&(M=M.next(()=>this.Qs(i,b))),p<15&&y>=15&&(M=M.next(()=>function(ue){ue.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),ue.createObjectStore("indexState",{keyPath:by}).createIndex("sequenceNumberIndex",cb,{unique:!1}),ue.createObjectStore("indexEntries",{keyPath:Nc}).createIndex("documentKeyIndex",Ix,{unique:!1})}(i))),M}Ls(i){let a=0;return i.store("remoteDocuments").J((p,y)=>{a+=Kg(y)}).next(()=>{const p={byteSize:a};return i.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",p)})}Bs(i){const a=i.store("mutationQueues"),p=i.store("mutations");return a.K().next(y=>or.forEach(y,b=>{const M=IDBKeyRange.bound([b.userId,-1],[b.userId,b.lastAcknowledgedBatchId]);return p.K("userMutationsIndex",M).next(ue=>or.forEach(ue,Ye=>{os(Ye.userId===b.userId);const pt=vf(this.wt,Ye);return Py(i,b.userId,pt).next(()=>{})}))}))}Us(i){const a=i.store("targetDocuments"),p=i.store("remoteDocuments");return i.store("targetGlobal").get("targetGlobalKey").next(y=>{const b=[];return p.J((M,ue)=>{const Ye=new Zt(M),pt=[0,Hc(Ye)];b.push(a.get(pt).next(Wt=>Wt?or.resolve():a.put({targetId:0,path:Hc(Ye),sequenceNumber:y.highestListenSequenceNumber})))}).next(()=>or.waitFor(b))})}qs(i,a){i.createObjectStore("collectionParents",{keyPath:TC});const p=a.store("collectionParents"),y=new bv,b=M=>{if(y.add(M)){const ue=M.lastSegment(),Ye=M.popLast();return p.put({collectionId:ue,parent:Hc(Ye)})}};return a.store("remoteDocuments").J({H:!0},(M,ue)=>{const Ye=new Zt(M);return b(Ye.popLast())}).next(()=>a.store("documentMutations").J({H:!0},([M,ue,Ye],pt)=>{const Wt=Jh(ue);return b(Wt.popLast())}))}Ks(i){const a=i.store("targets");return a.J((p,y)=>{const b=H0(y),M=Zg(this.wt,b);return a.put(M)})}Gs(i,a){const p=a.store("remoteDocuments"),y=[];return p.J((b,M)=>{const ue=a.store("remoteDocumentsV14"),Ye=(pt=M,pt.document?new rr(Zt.fromString(pt.document.name).popFirst(5)):pt.noDocument?rr.fromSegments(pt.noDocument.path):pt.unknownDocument?rr.fromSegments(pt.unknownDocument.path):bi()).path.toArray();var pt;const Wt={prefixPath:Ye.slice(0,Ye.length-2),collectionGroup:Ye[Ye.length-2],documentId:Ye[Ye.length-1],readTime:M.readTime||[0,0],unknownDocument:M.unknownDocument,noDocument:M.noDocument,document:M.document,hasCommittedMutations:!!M.hasCommittedMutations};y.push(ue.put(Wt))}).next(()=>or.waitFor(y))}Qs(i,a){const p=a.store("mutations"),y=Ox(this.wt),b=new mb(Cv.Ms,this.wt.ne);return p.K().next(M=>{const ue=new Map;return M.forEach(Ye=>{var pt;let Wt=null!==(pt=ue.get(Ye.userId))&&void 0!==pt?pt:Js();vf(this.wt,Ye).keys().forEach(Cn=>Wt=Wt.add(Cn)),ue.set(Ye.userId,Wt)}),or.forEach(ue,(Ye,pt)=>{const Wt=new da(pt),Cn=Lp.se(this.wt,Wt),fr=b.getIndexManager(Wt),Br=$0.se(Wt,this.wt,fr,b.referenceDelegate);return new jp(y,Br,Cn,fr).recalculateAndSaveOverlaysForDocumentKeys(new Qh(a,uu.ot),Ye).next()})})}}function Vp(u){u.createObjectStore("targetDocuments",{keyPath:wy}).createIndex("documentTargetsIndex",Ax,{unique:!0}),u.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",pf,{unique:!0}),u.createObjectStore("targetGlobal")}const Rx="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class Pd{constructor(i,a,p,y,b,M,ue,Ye,pt,Wt,Cn=14){if(this.allowTabSynchronization=i,this.persistenceKey=a,this.clientId=p,this.js=b,this.window=M,this.document=ue,this.Ws=pt,this.zs=Wt,this.Hs=Cn,this.Ps=null,this.vs=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Js=null,this.inForeground=!1,this.Ys=null,this.Xs=null,this.Zs=Number.NEGATIVE_INFINITY,this.ti=fr=>Promise.resolve(),!Pd.V())throw new Nr(wr.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new Ka(this,y),this.ei=a+"main",this.wt=new Ay(Ye),this.ni=new Tu(this.ei,this.Hs,new wf(this.wt)),this.Vs=new kd(this.referenceDelegate,this.wt),this.remoteDocumentCache=Ox(this.wt),this.Ds=new ed,this.window&&this.window.localStorage?this.si=this.window.localStorage:(this.si=null,!1===Wt&&Pa("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.ii().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new Nr(wr.FAILED_PRECONDITION,Rx);return this.ri(),this.oi(),this.ui(),this.runTransaction("getHighestListenSequenceNumber","readonly",i=>this.Vs.getHighestSequenceNumber(i))}).then(i=>{this.Ps=new uu(i,this.Ws)}).then(()=>{this.vs=!0}).catch(i=>(this.ni&&this.ni.close(),Promise.reject(i)))}ci(i){var a=this;return this.ti=function(){var p=(0,C.Z)(function*(y){if(a.started)return i(y)});return function(y){return p.apply(this,arguments)}}(),i(this.isPrimary)}setDatabaseDeletedListener(i){this.ni.F(function(){var a=(0,C.Z)(function*(p){null===p.newVersion&&(yield i())});return function(p){return a.apply(this,arguments)}}())}setNetworkEnabled(i){var a=this;this.networkEnabled!==i&&(this.networkEnabled=i,this.js.enqueueAndForget((0,C.Z)(function*(){a.started&&(yield a.ii())})))}ii(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",i=>Qg(i).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this.ai(i).next(a=>{a||(this.isPrimary=!1,this.js.enqueueRetryable(()=>this.ti(!1)))})}).next(()=>this.hi(i)).next(a=>this.isPrimary&&!a?this.li(i).next(()=>!1):!!a&&this.fi(i).next(()=>!0))).catch(i=>{if(Pc(i))return Qr("IndexedDbPersistence","Failed to extend owner lease: ",i),this.isPrimary;if(!this.allowTabSynchronization)throw i;return Qr("IndexedDbPersistence","Releasing owner lease after error during lease refresh",i),!1}).then(i=>{this.isPrimary!==i&&this.js.enqueueRetryable(()=>this.ti(i)),this.isPrimary=i})}ai(i){return Hp(i).get("owner").next(a=>or.resolve(this.di(a)))}_i(i){return Qg(i).delete(this.clientId)}wi(){var i=this;return(0,C.Z)(function*(){if(i.isPrimary&&!i.mi(i.Zs,18e5)){i.Zs=Date.now();const a=yield i.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",p=>{const y=yc(p,"clientMetadata");return y.K().next(b=>{const M=i.gi(b,18e5),ue=b.filter(Ye=>-1===M.indexOf(Ye));return or.forEach(ue,Ye=>y.delete(Ye.clientId)).next(()=>ue)})}).catch(()=>[]);if(i.si)for(const p of a)i.si.removeItem(i.yi(p.clientId))}})()}ui(){this.Xs=this.js.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.ii().then(()=>this.wi()).then(()=>this.ui()))}di(i){return!!i&&i.ownerId===this.clientId}hi(i){return this.zs?or.resolve(!0):Hp(i).get("owner").next(a=>{if(null!==a&&this.mi(a.leaseTimestampMs,5e3)&&!this.pi(a.ownerId)){if(this.di(a)&&this.networkEnabled)return!0;if(!this.di(a)){if(!a.allowTabSynchronization)throw new Nr(wr.FAILED_PRECONDITION,Rx);return!1}}return!(!this.networkEnabled||!this.inForeground)||Qg(i).K().next(p=>void 0===this.gi(p,5e3).find(y=>{if(this.clientId!==y.clientId){const M=!this.inForeground&&y.inForeground,ue=this.networkEnabled===y.networkEnabled;if(!this.networkEnabled&&y.networkEnabled||M&&ue)return!0}return!1}))}).next(a=>(this.isPrimary!==a&&Qr("IndexedDbPersistence",`Client ${a?"is":"is not"} eligible for a primary lease.`),a))}shutdown(){var i=this;return(0,C.Z)(function*(){i.vs=!1,i.Ii(),i.Xs&&(i.Xs.cancel(),i.Xs=null),i.Ti(),i.Ei(),yield i.ni.runTransaction("shutdown","readwrite",["owner","clientMetadata"],a=>{const p=new Qh(a,uu.ot);return i.li(p).next(()=>i._i(p))}),i.ni.close(),i.Ai()})()}gi(i,a){return i.filter(p=>this.mi(p.updateTimeMs,a)&&!this.pi(p.clientId))}Ri(){return this.runTransaction("getActiveClients","readonly",i=>Qg(i).K().next(a=>this.gi(a,18e5).map(p=>p.clientId)))}get started(){return this.vs}getMutationQueue(i,a){return $0.se(i,this.wt,a,this.referenceDelegate)}getTargetCache(){return this.Vs}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(i){return new fb(i,this.wt.ne.databaseId)}getDocumentOverlayCache(i){return Lp.se(this.wt,i)}getBundleCache(){return this.Ds}runTransaction(i,a,p){Qr("IndexedDbPersistence","Starting transaction:",i);const y="readonly"===a?"readonly":"readwrite",b=15===(M=this.Hs)?Fp:14===M?vv:13===M?Sy:12===M?Cy:11===M?mv:void bi();var M;let ue;return this.ni.runTransaction(i,y,b,Ye=>(ue=new Qh(Ye,this.Ps?this.Ps.next():uu.ot),"readwrite-primary"===a?this.ai(ue).next(pt=>!!pt||this.hi(ue)).next(pt=>{if(!pt)throw Pa(`Failed to obtain primary lease for action '${i}'.`),this.isPrimary=!1,this.js.enqueueRetryable(()=>this.ti(!1)),new Nr(wr.FAILED_PRECONDITION,dc);return p(ue)}).next(pt=>this.fi(ue).next(()=>pt)):this.bi(ue).next(()=>p(ue)))).then(Ye=>(ue.raiseOnCommittedEvent(),Ye))}bi(i){return Hp(i).get("owner").next(a=>{if(null!==a&&this.mi(a.leaseTimestampMs,5e3)&&!this.pi(a.ownerId)&&!this.di(a)&&!(this.zs||this.allowTabSynchronization&&a.allowTabSynchronization))throw new Nr(wr.FAILED_PRECONDITION,Rx)})}fi(i){const a={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return Hp(i).put("owner",a)}static V(){return Tu.V()}li(i){const a=Hp(i);return a.get("owner").next(p=>this.di(p)?(Qr("IndexedDbPersistence","Releasing primary lease."),a.delete("owner")):or.resolve())}mi(i,a){const p=Date.now();return!(i<p-a||i>p&&(Pa(`Detected an update time that is in the future: ${i} > ${p}`),1))}ri(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.Ys=()=>{this.js.enqueueAndForget(()=>(this.inForeground="visible"===this.document.visibilityState,this.ii()))},this.document.addEventListener("visibilitychange",this.Ys),this.inForeground="visible"===this.document.visibilityState)}Ti(){this.Ys&&(this.document.removeEventListener("visibilitychange",this.Ys),this.Ys=null)}oi(){var i;"function"==typeof(null===(i=this.window)||void 0===i?void 0:i.addEventListener)&&(this.Js=()=>{this.Ii(),(0,Ne.G6)()&&navigator.appVersion.match(/Version\/1[45]/)&&this.js.enterRestrictedMode(!0),this.js.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.Js))}Ei(){this.Js&&(this.window.removeEventListener("pagehide",this.Js),this.Js=null)}pi(i){var a;try{const p=null!==(null===(a=this.si)||void 0===a?void 0:a.getItem(this.yi(i)));return Qr("IndexedDbPersistence",`Client '${i}' ${p?"is":"is not"} zombied in LocalStorage`),p}catch(p){return Pa("IndexedDbPersistence","Failed to get zombied client id.",p),!1}}Ii(){if(this.si)try{this.si.setItem(this.yi(this.clientId),String(Date.now()))}catch(i){Pa("Failed to set zombie client id.",i)}}Ai(){if(this.si)try{this.si.removeItem(this.yi(this.clientId))}catch(i){}}yi(i){return`firestore_zombie_${this.persistenceKey}_${i}`}}function Hp(u){return yc(u,"owner")}function Qg(u){return yc(u,"clientMetadata")}function Sv(u,i){let a=u.projectId;return u.isDefaultDatabase||(a+="."+u.database),"firestore/"+i+"/"+a+"/"}class rp{constructor(i,a,p,y){this.targetId=i,this.fromCache=a,this.Pi=p,this.vi=y}static Vi(i,a){let p=Js(),y=Js();for(const b of a.docChanges)switch(b.type){case 0:p=p.add(b.doc.key);break;case 1:y=y.add(b.doc.key)}return new rp(i,a.fromCache,p,y)}}class Av{constructor(){this.Si=!1}initialize(i,a){this.Di=i,this.indexManager=a,this.Si=!0}getDocumentsMatchingQuery(i,a,p,y){return this.Ci(i,a).next(b=>b||this.xi(i,a,y,p)).next(b=>b||this.Ni(i,a))}Ci(i,a){return or.resolve(null)}xi(i,a,p,y){return function fy(u){return 0===u.filters.length&&null===u.limit&&null==u.startAt&&null==u.endAt&&(0===u.explicitOrderBy.length||1===u.explicitOrderBy.length&&u.explicitOrderBy[0].field.isKeyField())}(a)||y.isEqual(Ge.min())?this.Ni(i,a):this.Di.getDocuments(i,p).next(b=>{const M=this.ki(a,b);return this.Oi(a,M,p,y)?this.Ni(i,a):(cu()<=ve.in.DEBUG&&Qr("QueryEngine","Re-using previous result from %s to execute query: %s",y.toString(),Dp(a)),this.Mi(i,M,a,Yu(y,-1)))})}ki(i,a){let p=new Gs(rh(i));return a.forEach((y,b)=>{hf(i,b)&&(p=p.add(b))}),p}Oi(i,a,p,y){if(null===i.limit)return!1;if(p.size!==a.size)return!0;const b="F"===i.limitType?a.last():a.first();return!!b&&(b.hasPendingWrites||b.version.compareTo(y)>0)}Ni(i,a){return cu()<=ve.in.DEBUG&&Qr("QueryEngine","Using full collection scan to execute query:",Dp(a)),this.Di.getDocumentsMatchingQuery(i,a,yl.min())}Mi(i,a,p,y){return this.Di.getDocumentsMatchingQuery(i,p,y).next(b=>(a.forEach(M=>{b=b.insert(M.key,M)}),b))}}class Iv{constructor(i,a,p,y){this.persistence=i,this.Fi=a,this.wt=y,this.$i=new _l(ie),this.Bi=new Er(b=>rs(b),Eh),this.Li=new Map,this.Ui=i.getRemoteDocumentCache(),this.Vs=i.getTargetCache(),this.Ds=i.getBundleCache(),this.qi(p)}qi(i){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(i),this.indexManager=this.persistence.getIndexManager(i),this.mutationQueue=this.persistence.getMutationQueue(i,this.indexManager),this.localDocuments=new jp(this.Ui,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ui.setIndexManager(this.indexManager),this.Fi.initialize(this.localDocuments,this.indexManager)}collectGarbage(i){return this.persistence.runTransaction("Collect garbage","readwrite-primary",a=>i.collect(a,this.$i))}}function Lx(u,i,a,p){return new Iv(u,i,a,p)}function Nd(u,i){return Dv.apply(this,arguments)}function Dv(){return Dv=(0,C.Z)(function*(u,i){const a=ui(u);return yield a.persistence.runTransaction("Handle user change","readonly",p=>{let y;return a.mutationQueue.getAllMutationBatches(p).next(b=>(y=b,a.qi(i),a.mutationQueue.getAllMutationBatches(p))).next(b=>{const M=[],ue=[];let Ye=Js();for(const pt of y){M.push(pt.batchId);for(const Wt of pt.mutations)Ye=Ye.add(Wt.key)}for(const pt of b){ue.push(pt.batchId);for(const Wt of pt.mutations)Ye=Ye.add(Wt.key)}return a.localDocuments.getDocuments(p,Ye).next(pt=>({Ki:pt,removedBatchIds:M,addedBatchIds:ue}))})})}),Dv.apply(this,arguments)}function yb(u,i){const a=ui(u);return a.persistence.runTransaction("Acknowledge batch","readwrite-primary",p=>{const y=i.batch.keys(),b=a.Ui.newChangeBuffer({trackRemovals:!0});return function(M,ue,Ye,pt){const Wt=Ye.batch,Cn=Wt.keys();let fr=or.resolve();return Cn.forEach(Br=>{fr=fr.next(()=>pt.getEntry(ue,Br)).next(Jr=>{const Fi=Ye.docVersions.get(Br);os(null!==Fi),Jr.version.compareTo(Fi)<0&&(Wt.applyToRemoteDocument(Jr,Ye),Jr.isValidDocument()&&(Jr.setReadTime(Ye.commitVersion),pt.addEntry(Jr)))})}),fr.next(()=>M.mutationQueue.removeMutationBatch(ue,Wt))}(a,p,i,b).next(()=>b.apply(p)).next(()=>a.mutationQueue.performConsistencyCheck(p)).next(()=>a.documentOverlayCache.removeOverlaysForBatchId(p,y,i.batch.batchId)).next(()=>a.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(p,function(M){let ue=Js();for(let Ye=0;Ye<M.mutationResults.length;++Ye)M.mutationResults[Ye].transformResults.length>0&&(ue=ue.add(M.batch.mutations[Ye].key));return ue}(i))).next(()=>a.localDocuments.getDocuments(p,y))})}function _c(u){const i=ui(u);return i.persistence.runTransaction("Get last remote snapshot version","readonly",a=>i.Vs.getLastRemoteSnapshotVersion(a))}function _b(u,i){const a=ui(u),p=i.snapshotVersion;let y=a.$i;return a.persistence.runTransaction("Apply remote event","readwrite-primary",b=>{const M=a.Ui.newChangeBuffer({trackRemovals:!0});y=a.$i;const ue=[];i.targetChanges.forEach((Wt,Cn)=>{const fr=y.get(Cn);if(!fr)return;ue.push(a.Vs.removeMatchingKeys(b,Wt.removedDocuments,Cn).next(()=>a.Vs.addMatchingKeys(b,Wt.addedDocuments,Cn)));let Br=fr.withSequenceNumber(b.currentSequenceNumber);var Jr,Fi,Qi;i.targetMismatches.has(Cn)?Br=Br.withResumeToken(al.EMPTY_BYTE_STRING,Ge.min()).withLastLimboFreeSnapshotVersion(Ge.min()):Wt.resumeToken.approximateByteSize()>0&&(Br=Br.withResumeToken(Wt.resumeToken,p)),y=y.insert(Cn,Br),Fi=Br,Qi=Wt,(0===(Jr=fr).resumeToken.approximateByteSize()||Fi.snapshotVersion.toMicroseconds()-Jr.snapshotVersion.toMicroseconds()>=3e8||Qi.addedDocuments.size+Qi.modifiedDocuments.size+Qi.removedDocuments.size>0)&&ue.push(a.Vs.updateTargetData(b,Br))});let Ye=ia(),pt=Js();if(i.documentUpdates.forEach(Wt=>{i.resolvedLimboDocuments.has(Wt)&&ue.push(a.persistence.referenceDelegate.updateLimboDocument(b,Wt))}),ue.push(Uy(b,M,i.documentUpdates).next(Wt=>{Ye=Wt.Gi,pt=Wt.Qi})),!p.isEqual(Ge.min())){const Wt=a.Vs.getLastRemoteSnapshotVersion(b).next(Cn=>a.Vs.setTargetsMetadata(b,b.currentSequenceNumber,p));ue.push(Wt)}return or.waitFor(ue).next(()=>M.apply(b)).next(()=>a.localDocuments.getLocalViewOfDocuments(b,Ye,pt)).next(()=>Ye)}).then(b=>(a.$i=y,b))}function Uy(u,i,a){let p=Js(),y=Js();return a.forEach(b=>p=p.add(b)),i.getEntries(u,p).next(b=>{let M=ia();return a.forEach((ue,Ye)=>{const pt=b.get(ue);Ye.isFoundDocument()!==pt.isFoundDocument()&&(y=y.add(ue)),Ye.isNoDocument()&&Ye.version.isEqual(Ge.min())?(i.removeEntry(ue,Ye.readTime),M=M.insert(ue,Ye)):!pt.isValidDocument()||Ye.version.compareTo(pt.version)>0||0===Ye.version.compareTo(pt.version)&&pt.hasPendingWrites?(i.addEntry(Ye),M=M.insert(ue,Ye)):Qr("LocalStore","Ignoring outdated watch update for ",ue,". Current version:",pt.version," Watch version:",Ye.version)}),{Gi:M,Qi:y}})}function kv(u,i){const a=ui(u);return a.persistence.runTransaction("Get next mutation batch","readonly",p=>(void 0===i&&(i=-1),a.mutationQueue.getNextMutationBatchAfterBatchId(p,i)))}function ip(u,i){const a=ui(u);return a.persistence.runTransaction("Allocate target","readwrite",p=>{let y;return a.Vs.getTargetData(p,i).next(b=>b?(y=b,or.resolve(y)):a.Vs.allocateTargetId(p).next(M=>(y=new gf(i,M,0,p.currentSequenceNumber),a.Vs.addTargetData(p,y).next(()=>y))))}).then(p=>{const y=a.$i.get(p.targetId);return(null===y||p.snapshotVersion.compareTo(y.snapshotVersion)>0)&&(a.$i=a.$i.insert(p.targetId,p),a.Bi.set(i,p.targetId)),p})}function Md(u,i,a){return sp.apply(this,arguments)}function sp(){return sp=(0,C.Z)(function*(u,i,a){const p=ui(u),y=p.$i.get(i),b=a?"readwrite":"readwrite-primary";try{a||(yield p.persistence.runTransaction("Release target",b,M=>p.persistence.referenceDelegate.removeTarget(M,y)))}catch(M){if(!Pc(M))throw M;Qr("LocalStore",`Failed to update sequence numbers for target ${i}: ${M}`)}p.$i=p.$i.remove(i),p.Bi.delete(y.target)}),sp.apply(this,arguments)}function K0(u,i,a){const p=ui(u);let y=Ge.min(),b=Js();return p.persistence.runTransaction("Execute query","readonly",M=>function(ue,Ye,pt){const Wt=ui(ue),Cn=Wt.Bi.get(pt);return void 0!==Cn?or.resolve(Wt.$i.get(Cn)):Wt.Vs.getTargetData(Ye,pt)}(p,M,gc(i)).next(ue=>{if(ue)return y=ue.lastLimboFreeSnapshotVersion,p.Vs.getMatchingKeysForTargetId(M,ue.targetId).next(Ye=>{b=Ye})}).next(()=>p.Fi.getDocumentsMatchingQuery(M,i,a?y:Ge.min(),a?b:Js())).next(ue=>(Wp(p,ll(i),ue),{documents:ue,ji:b})))}function zp(u,i){const a=ui(u),p=ui(a.Vs),y=a.$i.get(i);return y?Promise.resolve(y.target):a.persistence.runTransaction("Get target data","readonly",b=>p.te(b,i).next(M=>M?M.target:null))}function X0(u,i){const a=ui(u),p=a.Li.get(i)||Ge.min();return a.persistence.runTransaction("Get new document changes","readonly",y=>a.Ui.getAllFromCollectionGroup(y,i,Yu(p,-1),Number.MAX_SAFE_INTEGER)).then(y=>(Wp(a,i,y),y))}function Wp(u,i,a){let p=Ge.min();a.forEach((y,b)=>{b.readTime.compareTo(p)>0&&(p=b.readTime)}),u.Li.set(i,p)}function Pv(){return Pv=(0,C.Z)(function*(u,i,a,p){const y=ui(u);let b=Js(),M=ia();for(const pt of a){const Wt=i.Wi(pt.metadata.name);pt.document&&(b=b.add(Wt));const Cn=i.zi(pt);Cn.setReadTime(i.Hi(pt.metadata.readTime)),M=M.insert(Wt,Cn)}const ue=y.Ui.newChangeBuffer({trackRemovals:!0}),Ye=yield ip(y,(pt=p,gc(Yf(Zt.fromString(`__bundle__/docs/${pt}`)))));var pt;return y.persistence.runTransaction("Apply bundle documents","readwrite",pt=>Uy(pt,ue,M).next(Wt=>(ue.apply(pt),Wt)).next(Wt=>y.Vs.removeMatchingKeysForTargetId(pt,Ye.targetId).next(()=>y.Vs.addMatchingKeys(pt,b,Ye.targetId)).next(()=>y.localDocuments.getLocalViewOfDocuments(pt,Wt.Gi,Wt.Qi)).next(()=>Wt.Gi)))}),Pv.apply(this,arguments)}function Ux(u,i){return em.apply(this,arguments)}function em(){return em=(0,C.Z)(function*(u,i,a=Js()){const p=yield ip(u,gc(Rp(i.bundledQuery))),y=ui(u);return y.persistence.runTransaction("Save named query","readwrite",b=>{const M=Po(i.readTime);if(p.snapshotVersion.compareTo(M)>=0)return y.Ds.saveNamedQuery(b,i);const ue=p.withResumeToken(al.EMPTY_BYTE_STRING,M);return y.$i=y.$i.insert(ue.targetId,ue),y.Vs.updateTargetData(b,ue).next(()=>y.Vs.removeMatchingKeysForTargetId(b,p.targetId)).next(()=>y.Vs.addMatchingKeys(b,a,p.targetId)).next(()=>y.Ds.saveNamedQuery(b,i))})}),em.apply(this,arguments)}function Nv(u,i){return`firestore_clients_${u}_${i}`}function By(u,i,a){let p=`firestore_mutations_${u}_${a}`;return i.isAuthenticated()&&(p+=`_${i.uid}`),p}function qp(u,i){return`firestore_targets_${u}_${i}`}class Mv{constructor(i,a,p,y){this.user=i,this.batchId=a,this.state=p,this.error=y}static Ji(i,a,p){const y=JSON.parse(p);let b,M="object"==typeof y&&-1!==["pending","acknowledged","rejected"].indexOf(y.state)&&(void 0===y.error||"object"==typeof y.error);return M&&y.error&&(M="string"==typeof y.error.message&&"string"==typeof y.error.code,M&&(b=new Nr(y.error.code,y.error.message))),M?new Mv(i,a,y.state,b):(Pa("SharedClientState",`Failed to parse mutation state for ID '${a}': ${p}`),null)}Yi(){const i={state:this.state,updateTimeMs:Date.now()};return this.error&&(i.error={code:this.error.code,message:this.error.message}),JSON.stringify(i)}}class J0{constructor(i,a,p){this.targetId=i,this.state=a,this.error=p}static Ji(i,a){const p=JSON.parse(a);let y,b="object"==typeof p&&-1!==["not-current","current","rejected"].indexOf(p.state)&&(void 0===p.error||"object"==typeof p.error);return b&&p.error&&(b="string"==typeof p.error.message&&"string"==typeof p.error.code,b&&(y=new Nr(p.error.code,p.error.message))),b?new J0(i,p.state,y):(Pa("SharedClientState",`Failed to parse target state for ID '${i}': ${a}`),null)}Yi(){const i={state:this.state,updateTimeMs:Date.now()};return this.error&&(i.error={code:this.error.code,message:this.error.message}),JSON.stringify(i)}}class jy{constructor(i,a){this.clientId=i,this.activeTargetIds=a}static Ji(i,a){const p=JSON.parse(a);let y="object"==typeof p&&p.activeTargetIds instanceof Array,b=Mo();for(let M=0;y&&M<p.activeTargetIds.length;++M)y=bh(p.activeTargetIds[M]),b=b.add(p.activeTargetIds[M]);return y?new jy(i,b):(Pa("SharedClientState",`Failed to parse client data for instance '${i}': ${a}`),null)}}class Ov{constructor(i,a){this.clientId=i,this.onlineState=a}static Ji(i){const a=JSON.parse(i);return"object"==typeof a&&-1!==["Unknown","Online","Offline"].indexOf(a.onlineState)&&"string"==typeof a.clientId?new Ov(a.clientId,a.onlineState):(Pa("SharedClientState",`Failed to parse online state: ${i}`),null)}}class Fv{constructor(){this.activeTargetIds=Mo()}Xi(i){this.activeTargetIds=this.activeTargetIds.add(i)}Zi(i){this.activeTargetIds=this.activeTargetIds.delete(i)}Yi(){const i={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(i)}}class Vy{constructor(i,a,p,y,b){this.window=i,this.js=a,this.persistenceKey=p,this.tr=y,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.er=this.nr.bind(this),this.sr=new _l(ie),this.started=!1,this.ir=[];const M=p.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=b,this.rr=Nv(this.persistenceKey,this.tr),this.ur=`firestore_sequence_number_${this.persistenceKey}`,this.sr=this.sr.insert(this.tr,new Fv),this.cr=new RegExp(`^firestore_clients_${M}_([^_]*)$`),this.ar=new RegExp(`^firestore_mutations_${M}_(\\d+)(?:_(.*))?$`),this.hr=new RegExp(`^firestore_targets_${M}_(\\d+)$`),this.lr=`firestore_online_state_${this.persistenceKey}`,this.dr=function(ue){return`firestore_bundle_loaded_v2_${ue}`}(this.persistenceKey),this.window.addEventListener("storage",this.er)}static V(i){return!(!i||!i.localStorage)}start(){var i=this;return(0,C.Z)(function*(){const a=yield i.syncEngine.Ri();for(const y of a){if(y===i.tr)continue;const b=i.getItem(Nv(i.persistenceKey,y));if(b){const M=jy.Ji(y,b);M&&(i.sr=i.sr.insert(M.clientId,M))}}i._r();const p=i.storage.getItem(i.lr);if(p){const y=i.wr(p);y&&i.mr(y)}for(const y of i.ir)i.nr(y);i.ir=[],i.window.addEventListener("pagehide",()=>i.shutdown()),i.started=!0})()}writeSequenceNumber(i){this.setItem(this.ur,JSON.stringify(i))}getAllActiveQueryTargets(){return this.gr(this.sr)}isActiveQueryTarget(i){let a=!1;return this.sr.forEach((p,y)=>{y.activeTargetIds.has(i)&&(a=!0)}),a}addPendingMutation(i){this.yr(i,"pending")}updateMutationState(i,a,p){this.yr(i,a,p),this.pr(i)}addLocalQueryTarget(i){let a="not-current";if(this.isActiveQueryTarget(i)){const p=this.storage.getItem(qp(this.persistenceKey,i));if(p){const y=J0.Ji(i,p);y&&(a=y.state)}}return this.Ir.Xi(i),this._r(),a}removeLocalQueryTarget(i){this.Ir.Zi(i),this._r()}isLocalQueryTarget(i){return this.Ir.activeTargetIds.has(i)}clearQueryState(i){this.removeItem(qp(this.persistenceKey,i))}updateQueryState(i,a,p){this.Tr(i,a,p)}handleUserChange(i,a,p){a.forEach(y=>{this.pr(y)}),this.currentUser=i,p.forEach(y=>{this.addPendingMutation(y)})}setOnlineState(i){this.Er(i)}notifyBundleLoaded(i){this.Ar(i)}shutdown(){this.started&&(this.window.removeEventListener("storage",this.er),this.removeItem(this.rr),this.started=!1)}getItem(i){const a=this.storage.getItem(i);return Qr("SharedClientState","READ",i,a),a}setItem(i,a){Qr("SharedClientState","SET",i,a),this.storage.setItem(i,a)}removeItem(i){Qr("SharedClientState","REMOVE",i),this.storage.removeItem(i)}nr(i){var a=this;const p=i;if(p.storageArea===this.storage){if(Qr("SharedClientState","EVENT",p.key,p.newValue),p.key===this.rr)return void Pa("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.js.enqueueRetryable((0,C.Z)(function*(){if(a.started){if(null!==p.key)if(a.cr.test(p.key)){if(null==p.newValue){const y=a.Rr(p.key);return a.br(y,null)}{const y=a.Pr(p.key,p.newValue);if(y)return a.br(y.clientId,y)}}else if(a.ar.test(p.key)){if(null!==p.newValue){const y=a.vr(p.key,p.newValue);if(y)return a.Vr(y)}}else if(a.hr.test(p.key)){if(null!==p.newValue){const y=a.Sr(p.key,p.newValue);if(y)return a.Dr(y)}}else if(p.key===a.lr){if(null!==p.newValue){const y=a.wr(p.newValue);if(y)return a.mr(y)}}else if(p.key===a.ur){const y=function(b){let M=uu.ot;if(null!=b)try{const ue=JSON.parse(b);os("number"==typeof ue),M=ue}catch(ue){Pa("SharedClientState","Failed to read sequence number from WebStorage",ue)}return M}(p.newValue);y!==uu.ot&&a.sequenceNumberHandler(y)}else if(p.key===a.dr){const y=a.Cr(p.newValue);yield Promise.all(y.map(b=>a.syncEngine.Nr(b)))}}else a.ir.push(p)}))}}get Ir(){return this.sr.get(this.tr)}_r(){this.setItem(this.rr,this.Ir.Yi())}yr(i,a,p){const y=new Mv(this.currentUser,i,a,p),b=By(this.persistenceKey,this.currentUser,i);this.setItem(b,y.Yi())}pr(i){const a=By(this.persistenceKey,this.currentUser,i);this.removeItem(a)}Er(i){this.storage.setItem(this.lr,JSON.stringify({clientId:this.tr,onlineState:i}))}Tr(i,a,p){const y=qp(this.persistenceKey,i),b=new J0(i,a,p);this.setItem(y,b.Yi())}Ar(i){const a=JSON.stringify(Array.from(i));this.setItem(this.dr,a)}Rr(i){const a=this.cr.exec(i);return a?a[1]:null}Pr(i,a){const p=this.Rr(i);return jy.Ji(p,a)}vr(i,a){const p=this.ar.exec(i),y=Number(p[1]);return Mv.Ji(new da(void 0!==p[2]?p[2]:null),y,a)}Sr(i,a){const p=this.hr.exec(i),y=Number(p[1]);return J0.Ji(y,a)}wr(i){return Ov.Ji(i)}Cr(i){return JSON.parse(i)}Vr(i){var a=this;return(0,C.Z)(function*(){if(i.user.uid===a.currentUser.uid)return a.syncEngine.kr(i.batchId,i.state,i.error);Qr("SharedClientState",`Ignoring mutation for non-active user ${i.user.uid}`)})()}Dr(i){return this.syncEngine.Or(i.targetId,i.state,i.error)}br(i,a){const p=a?this.sr.insert(i,a):this.sr.remove(i),y=this.gr(this.sr),b=this.gr(p),M=[],ue=[];return b.forEach(Ye=>{y.has(Ye)||M.push(Ye)}),y.forEach(Ye=>{b.has(Ye)||ue.push(Ye)}),this.syncEngine.Mr(M,ue).then(()=>{this.sr=p})}mr(i){this.sr.get(i.clientId)&&this.onlineStateHandler(i.onlineState)}gr(i){let a=Mo();return i.forEach((p,y)=>{a=a.unionWith(y.activeTargetIds)}),a}}class Hy{constructor(){this.Fr=new Fv,this.$r={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(i){}updateMutationState(i,a,p){}addLocalQueryTarget(i){return this.Fr.Xi(i),this.$r[i]||"not-current"}updateQueryState(i,a,p){this.$r[i]=a}removeLocalQueryTarget(i){this.Fr.Zi(i)}isLocalQueryTarget(i){return this.Fr.activeTargetIds.has(i)}clearQueryState(i){delete this.$r[i]}getAllActiveQueryTargets(){return this.Fr.activeTargetIds}isActiveQueryTarget(i){return this.Fr.activeTargetIds.has(i)}start(){return this.Fr=new Fv,Promise.resolve()}handleUserChange(i,a,p){}setOnlineState(i){}shutdown(){}writeSequenceNumber(i){}notifyBundleLoaded(i){}}class wb{Br(i){}shutdown(){}}class Bx{constructor(){this.Lr=()=>this.Ur(),this.qr=()=>this.Kr(),this.Gr=[],this.Qr()}Br(i){this.Gr.push(i)}shutdown(){window.removeEventListener("online",this.Lr),window.removeEventListener("offline",this.qr)}Qr(){window.addEventListener("online",this.Lr),window.addEventListener("offline",this.qr)}Ur(){Qr("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const i of this.Gr)i(0)}Kr(){Qr("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const i of this.Gr)i(1)}static V(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}const lh={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"};class bb{constructor(i){this.jr=i.jr,this.Wr=i.Wr}zr(i){this.Hr=i}Jr(i){this.Yr=i}onMessage(i){this.Xr=i}close(){this.Wr()}send(i){this.jr(i)}Zr(){this.Hr()}eo(i){this.Yr(i)}no(i){this.Xr(i)}}class Eb extends class{constructor(i){this.databaseInfo=i,this.databaseId=i.databaseId,this.so=(i.ssl?"https":"http")+"://"+i.host,this.io="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}ro(i,a,p,y,b){const M=this.oo(i,a);Qr("RestConnection","Sending: ",M,p);const ue={};return this.uo(ue,y,b),this.co(i,M,ue,p).then(Ye=>(Qr("RestConnection","Received: ",Ye),Ye),Ye=>{throw Bh("RestConnection",`${i} failed with error: `,Ye,"url: ",M,"request:",p),Ye})}ao(i,a,p,y,b,M){return this.ro(i,a,p,y,b)}uo(i,a,p){i["X-Goog-Api-Client"]="gl-js/ fire/"+Zu,i["Content-Type"]="text/plain",this.databaseInfo.appId&&(i["X-Firebase-GMPID"]=this.databaseInfo.appId),a&&a.headers.forEach((y,b)=>i[b]=y),p&&p.headers.forEach((y,b)=>i[b]=y)}oo(i,a){return`${this.so}/v1/${a}:${lh[i]}`}}{constructor(i){super(i),this.forceLongPolling=i.forceLongPolling,this.autoDetectLongPolling=i.autoDetectLongPolling,this.useFetchStreams=i.useFetchStreams}co(i,a,p,y){return new Promise((b,M)=>{const ue=new Ac;ue.listenOnce(md.COMPLETE,()=>{try{switch(ue.getLastErrorCode()){case So.NO_ERROR:const pt=ue.getResponseJson();Qr("Connection","XHR received:",JSON.stringify(pt)),b(pt);break;case So.TIMEOUT:Qr("Connection",'RPC "'+i+'" timed out'),M(new Nr(wr.DEADLINE_EXCEEDED,"Request time out"));break;case So.HTTP_ERROR:const Wt=ue.getStatus();if(Qr("Connection",'RPC "'+i+'" failed with status:',Wt,"response text:",ue.getResponseText()),Wt>0){const Cn=ue.getResponseJson().error;if(Cn&&Cn.status&&Cn.message){const fr=function(Br){const Jr=Br.toLowerCase().replace(/_/g,"-");return Object.values(wr).indexOf(Jr)>=0?Jr:wr.UNKNOWN}(Cn.status);M(new Nr(fr,Cn.message))}else M(new Nr(wr.UNKNOWN,"Server responded with status "+ue.getStatus()))}else M(new Nr(wr.UNAVAILABLE,"Connection failed."));break;default:bi()}}finally{Qr("Connection",'RPC "'+i+'" completed.')}});const Ye=JSON.stringify(y);ue.send(a,"POST",Ye,p,15)})}ho(i,a,p){const y=[this.so,"/","google.firestore.v1.Firestore","/",i,"/channel"],b=ev(),M=nf(),ue={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(ue.xmlHttpFactory=new Uh({})),this.uo(ue.initMessageHeaders,a,p),(0,Ne.uI)()||(0,Ne.b$)()||(0,Ne.d)()||(0,Ne.w1)()||(0,Ne.Mn)()||(0,Ne.ru)()||(ue.httpHeadersOverwriteParam="$httpHeaders");const Ye=y.join("");Qr("Connection","Creating WebChannel: "+Ye,ue);const pt=b.createWebChannel(Ye,ue);let Wt=!1,Cn=!1;const fr=new bb({jr:Jr=>{Cn?Qr("Connection","Not sending because WebChannel is closed:",Jr):(Wt||(Qr("Connection","Opening WebChannel transport."),pt.open(),Wt=!0),Qr("Connection","WebChannel sending:",Jr),pt.send(Jr))},Wr:()=>pt.close()}),Br=(Jr,Fi,Qi)=>{Jr.listen(Fi,Uo=>{try{Qi(Uo)}catch(Ua){setTimeout(()=>{throw Ua},0)}})};return Br(pt,hc.EventType.OPEN,()=>{Cn||Qr("Connection","WebChannel transport opened.")}),Br(pt,hc.EventType.CLOSE,()=>{Cn||(Cn=!0,Qr("Connection","WebChannel transport closed"),fr.eo())}),Br(pt,hc.EventType.ERROR,Jr=>{Cn||(Cn=!0,Bh("Connection","WebChannel transport errored:",Jr),fr.eo(new Nr(wr.UNAVAILABLE,"The operation could not be completed")))}),Br(pt,hc.EventType.MESSAGE,Jr=>{var Fi;if(!Cn){const Qi=Jr.data[0];os(!!Qi);const Uo=Qi,Ua=Uo.error||(null===(Fi=Uo[0])||void 0===Fi?void 0:Fi.error);if(Ua){Qr("Connection","WebChannel received error:",Ua);const Ja=Ua.status;let jl=function(Sl){const ec=Fa[Sl];if(void 0!==ec)return cl(ec)}(Ja),Qa=Ua.message;void 0===jl&&(jl=wr.INTERNAL,Qa="Unknown error status: "+Ja+" with message "+Ua.message),Cn=!0,fr.eo(new Nr(jl,Qa)),pt.close()}else Qr("Connection","WebChannel received:",Qi),fr.no(Qi)}}),Br(M,ol.STAT_EVENT,Jr=>{Jr.stat===ka.PROXY?Qr("Connection","Detected buffering proxy"):Jr.stat===ka.NOPROXY&&Qr("Connection","Detected no buffering proxy")}),setTimeout(()=>{fr.Zr()},0),fr}}function Tb(){return"undefined"!=typeof window?window:null}function zy(){return"undefined"!=typeof document?document:null}function Gp(u){return new gy(u,!0)}class jx{constructor(i,a,p=1e3,y=1.5,b=6e4){this.js=i,this.timerId=a,this.lo=p,this.fo=y,this._o=b,this.wo=0,this.mo=null,this.yo=Date.now(),this.reset()}reset(){this.wo=0}po(){this.wo=this._o}Io(i){this.cancel();const a=Math.floor(this.wo+this.To()),p=Math.max(0,Date.now()-this.yo),y=Math.max(0,a-p);y>0&&Qr("ExponentialBackoff",`Backing off for ${y} ms (base delay: ${this.wo} ms, delay with jitter: ${a} ms, last attempt: ${p} ms ago)`),this.mo=this.js.enqueueAfterDelay(this.timerId,y,()=>(this.yo=Date.now(),i())),this.wo*=this.fo,this.wo<this.lo&&(this.wo=this.lo),this.wo>this._o&&(this.wo=this._o)}Eo(){null!==this.mo&&(this.mo.skipDelay(),this.mo=null)}cancel(){null!==this.mo&&(this.mo.cancel(),this.mo=null)}To(){return(Math.random()-.5)*this.wo}}class Vx{constructor(i,a,p,y,b,M,ue,Ye){this.js=i,this.Ao=p,this.Ro=y,this.bo=b,this.authCredentialsProvider=M,this.appCheckCredentialsProvider=ue,this.listener=Ye,this.state=0,this.Po=0,this.vo=null,this.Vo=null,this.stream=null,this.So=new jx(i,a)}Do(){return 1===this.state||5===this.state||this.Co()}Co(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.xo()}stop(){var i=this;return(0,C.Z)(function*(){i.Do()&&(yield i.close(0))})()}No(){this.state=0,this.So.reset()}ko(){this.Co()&&null===this.vo&&(this.vo=this.js.enqueueAfterDelay(this.Ao,6e4,()=>this.Oo()))}Mo(i){this.Fo(),this.stream.send(i)}Oo(){var i=this;return(0,C.Z)(function*(){if(i.Co())return i.close(0)})()}Fo(){this.vo&&(this.vo.cancel(),this.vo=null)}$o(){this.Vo&&(this.Vo.cancel(),this.Vo=null)}close(i,a){var p=this;return(0,C.Z)(function*(){p.Fo(),p.$o(),p.So.cancel(),p.Po++,4!==i?p.So.reset():a&&a.code===wr.RESOURCE_EXHAUSTED?(Pa(a.toString()),Pa("Using maximum backoff delay to prevent overloading the backend."),p.So.po()):a&&a.code===wr.UNAUTHENTICATED&&3!==p.state&&(p.authCredentialsProvider.invalidateToken(),p.appCheckCredentialsProvider.invalidateToken()),null!==p.stream&&(p.Bo(),p.stream.close(),p.stream=null),p.state=i,yield p.listener.Jr(a)})()}Bo(){}auth(){this.state=1;const i=this.Lo(this.Po),a=this.Po;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([p,y])=>{this.Po===a&&this.Uo(p,y)},p=>{i(()=>{const y=new Nr(wr.UNKNOWN,"Fetching auth token failed: "+p.message);return this.qo(y)})})}Uo(i,a){const p=this.Lo(this.Po);this.stream=this.Ko(i,a),this.stream.zr(()=>{p(()=>(this.state=2,this.Vo=this.js.enqueueAfterDelay(this.Ro,1e4,()=>(this.Co()&&(this.state=3),Promise.resolve())),this.listener.zr()))}),this.stream.Jr(y=>{p(()=>this.qo(y))}),this.stream.onMessage(y=>{p(()=>this.onMessage(y))})}xo(){var i=this;this.state=5,this.So.Io((0,C.Z)(function*(){i.state=0,i.start()}))}qo(i){return Qr("PersistentStream",`close with error: ${i}`),this.stream=null,this.close(4,i)}Lo(i){return a=>{this.js.enqueueAndForget(()=>this.Po===i?a():(Qr("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class Wy extends Vx{constructor(i,a,p,y,b,M){super(i,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",a,p,y,M),this.wt=b}Ko(i,a){return this.bo.ho("Listen",i,a)}onMessage(i){this.So.reset();const a=function lb(u,i){let a;if("targetChange"in i){const p="NO_CHANGE"===(Ye=i.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===Ye?1:"REMOVE"===Ye?2:"CURRENT"===Ye?3:"RESET"===Ye?4:bi(),y=i.targetChange.targetIds||[],b=function(Ye,pt){return Ye.dt?(os(void 0===pt||"string"==typeof pt),al.fromBase64String(pt||"")):(os(void 0===pt||pt instanceof Uint8Array),al.fromUint8Array(pt||new Uint8Array))}(u,i.targetChange.resumeToken),M=i.targetChange.cause,ue=M&&function(Ye){const pt=void 0===Ye.code?wr.UNKNOWN:cl(Ye.code);return new Nr(pt,Ye.message||"")}(M);a=new Gi(p,y,b,ue||null)}else if("documentChange"in i){const p=i.documentChange,y=Du(u,p.document.name),b=Po(p.document.updateTime),M=new Ya({mapValue:{fields:p.document.fields}}),ue=Cs.newFoundDocument(y,b,M);a=new zg(p.targetIds||[],p.removedTargetIds||[],ue.key,ue)}else if("documentDelete"in i){const p=i.documentDelete,y=Du(u,p.document),b=p.readTime?Po(p.readTime):Ge.min(),M=Cs.newNoDocument(y,b);a=new zg([],p.removedTargetIds||[],M.key,M)}else if("documentRemove"in i){const p=i.documentRemove,y=Du(u,p.document);a=new zg([],p.removedTargetIds||[],y,null)}else{if(!("filter"in i))return bi();{const p=i.filter,b=new lv(p.count||0);a=new ul(p.targetId,b)}}var Ye;return a}(this.wt,i),p=function(y){if(!("targetChange"in y))return Ge.min();const b=y.targetChange;return b.targetIds&&b.targetIds.length?Ge.min():b.readTime?Po(b.readTime):Ge.min()}(i);return this.listener.Go(a,p)}Qo(i){const a={};a.database=Jf(this.wt),a.addTarget=function(y,b){let M;const ue=b.target;return M=af(ue)?{documents:Cx(y,ue)}:{query:dv(y,ue)},M.targetId=b.targetId,b.resumeToken.approximateByteSize()>0?M.resumeToken=my(y,b.resumeToken):b.snapshotVersion.compareTo(Ge.min())>0&&(M.readTime=Sd(y,b.snapshotVersion.toTimestamp())),M}(this.wt,i);const p=function yy(u,i){const a=function(p,y){switch(y){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return bi()}}(0,i.purpose);return null==a?null:{"goog-listen-tags":a}}(0,i);p&&(a.labels=p),this.Mo(a)}jo(i){const a={};a.database=Jf(this.wt),a.removeTarget=i,this.Mo(a)}}class Hx extends Vx{constructor(i,a,p,y,b,M){super(i,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",a,p,y,M),this.wt=b,this.Wo=!1}get zo(){return this.Wo}start(){this.Wo=!1,this.lastStreamToken=void 0,super.start()}Bo(){this.Wo&&this.Ho([])}Ko(i,a){return this.bo.ho("Write",i,a)}onMessage(i){if(os(!!i.streamToken),this.lastStreamToken=i.streamToken,this.Wo){this.So.reset();const a=function hv(u,i){return u&&u.length>0?(os(void 0!==i),u.map(a=>function(p,y){let b=Po(p.updateTime?p.updateTime:y);return b.isEqual(Ge.min())&&(b=Po(y)),new zt(b,p.transformResults||[])}(a,i))):[]}(i.writeResults,i.commitTime),p=Po(i.commitTime);return this.listener.Jo(p,a)}return os(!i.writeResults||0===i.writeResults.length),this.Wo=!0,this.listener.Yo()}Xo(){const i={};i.database=Jf(this.wt),this.Mo(i)}Ho(i){const a={streamToken:this.lastStreamToken,writes:i.map(p=>Mp(this.wt,p))};this.Mo(a)}}class Cb extends class{}{constructor(i,a,p,y){super(),this.authCredentials=i,this.appCheckCredentials=a,this.bo=p,this.wt=y,this.Zo=!1}tu(){if(this.Zo)throw new Nr(wr.FAILED_PRECONDITION,"The client has already been terminated.")}ro(i,a,p){return this.tu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([y,b])=>this.bo.ro(i,a,p,y,b)).catch(y=>{throw"FirebaseError"===y.name?(y.code===wr.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),y):new Nr(wr.UNKNOWN,y.toString())})}ao(i,a,p,y){return this.tu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([b,M])=>this.bo.ao(i,a,p,b,M,y)).catch(b=>{throw"FirebaseError"===b.name?(b.code===wr.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),b):new Nr(wr.UNKNOWN,b.toString())})}terminate(){this.Zo=!0}}class Sb{constructor(i,a){this.asyncQueue=i,this.onlineStateHandler=a,this.state="Unknown",this.eu=0,this.nu=null,this.su=!0}iu(){0===this.eu&&(this.ru("Unknown"),this.nu=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.nu=null,this.ou("Backend didn't respond within 10 seconds."),this.ru("Offline"),Promise.resolve())))}uu(i){"Online"===this.state?this.ru("Unknown"):(this.eu++,this.eu>=1&&(this.cu(),this.ou(`Connection failed 1 times. Most recent error: ${i.toString()}`),this.ru("Offline")))}set(i){this.cu(),this.eu=0,"Online"===i&&(this.su=!1),this.ru(i)}ru(i){i!==this.state&&(this.state=i,this.onlineStateHandler(i))}ou(i){const a=`Could not reach Cloud Firestore backend. ${i}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.su?(Pa(a),this.su=!1):Qr("OnlineStateTracker",a)}cu(){null!==this.nu&&(this.nu.cancel(),this.nu=null)}}class zx{constructor(i,a,p,y,b){var M=this;this.localStore=i,this.datastore=a,this.asyncQueue=p,this.remoteSyncer={},this.au=[],this.hu=new Map,this.lu=new Set,this.fu=[],this.du=b,this.du.Br(ue=>{p.enqueueAndForget((0,C.Z)(function*(){var Ye;bf(M)&&(Qr("RemoteStore","Restarting streams for network reachability change."),yield(Ye=(0,C.Z)(function*(pt){const Wt=ui(pt);Wt.lu.add(4),yield op(Wt),Wt._u.set("Unknown"),Wt.lu.delete(4),yield Q0(Wt)}),function(pt){return Ye.apply(this,arguments)})(M))}))}),this._u=new Sb(p,y)}}function Q0(u){return qy.apply(this,arguments)}function qy(){return qy=(0,C.Z)(function*(u){if(bf(u))for(const i of u.fu)yield i(!0)}),qy.apply(this,arguments)}function op(u){return Gy.apply(this,arguments)}function Gy(){return Gy=(0,C.Z)(function*(u){for(const i of u.fu)yield i(!1)}),Gy.apply(this,arguments)}function Rv(u,i){const a=ui(u);a.hu.has(i.targetId)||(a.hu.set(i.targetId,i),nm(a)?ch(a):ng(a).Co()&&tm(a,i))}function eg(u,i){const a=ui(u),p=ng(a);a.hu.delete(i),p.Co()&&Wx(a,i),0===a.hu.size&&(p.Co()?p.ko():bf(a)&&a._u.set("Unknown"))}function tm(u,i){u.wu.Nt(i.targetId),ng(u).Qo(i)}function Wx(u,i){u.wu.Nt(i),ng(u).jo(i)}function ch(u){u.wu=new ks({getRemoteKeysForTarget:i=>u.remoteSyncer.getRemoteKeysForTarget(i),te:i=>u.hu.get(i)||null}),ng(u).start(),u._u.iu()}function nm(u){return bf(u)&&!ng(u).Do()&&u.hu.size>0}function bf(u){return 0===ui(u).lu.size}function Zy(u){u.wu=void 0}function IC(u){return Lv.apply(this,arguments)}function Lv(){return Lv=(0,C.Z)(function*(u){u.hu.forEach((i,a)=>{tm(u,i)})}),Lv.apply(this,arguments)}function Ab(u,i){return Uv.apply(this,arguments)}function Uv(){return Uv=(0,C.Z)(function*(u,i){Zy(u),nm(u)?(u._u.uu(i),ch(u)):u._u.set("Unknown")}),Uv.apply(this,arguments)}function Ib(u,i,a){return rm.apply(this,arguments)}function rm(){return rm=(0,C.Z)(function*(u,i,a){if(u._u.set("Online"),i instanceof Gi&&2===i.state&&i.cause)try{yield(p=(0,C.Z)(function*(y,b){const M=b.cause;for(const ue of b.targetIds)y.hu.has(ue)&&(yield y.remoteSyncer.rejectListen(ue,M),y.hu.delete(ue),y.wu.removeTarget(ue))}),function(y,b){return p.apply(this,arguments)})(u,i)}catch(p){Qr("RemoteStore","Failed to remove targets %s: %s ",i.targetIds.join(","),p),yield Bv(u,p)}else if(i instanceof zg?u.wu.Ut(i):i instanceof ul?u.wu.zt(i):u.wu.Gt(i),!a.isEqual(Ge.min()))try{const p=yield _c(u.localStore);a.compareTo(p)>=0&&(yield function(y,b){const M=y.wu.Yt(b);return M.targetChanges.forEach((ue,Ye)=>{if(ue.resumeToken.approximateByteSize()>0){const pt=y.hu.get(Ye);pt&&y.hu.set(Ye,pt.withResumeToken(ue.resumeToken,b))}}),M.targetMismatches.forEach(ue=>{const Ye=y.hu.get(ue);if(!Ye)return;y.hu.set(ue,Ye.withResumeToken(al.EMPTY_BYTE_STRING,Ye.snapshotVersion)),Wx(y,ue);const pt=new gf(Ye.target,ue,1,Ye.sequenceNumber);tm(y,pt)}),y.remoteSyncer.applyRemoteEvent(M)}(u,a))}catch(p){Qr("RemoteStore","Failed to raise snapshot:",p),yield Bv(u,p)}var p}),rm.apply(this,arguments)}function Bv(u,i,a){return $y.apply(this,arguments)}function $y(){return $y=(0,C.Z)(function*(u,i,a){if(!Pc(i))throw i;u.lu.add(1),yield op(u),u._u.set("Offline"),a||(a=()=>_c(u.localStore)),u.asyncQueue.enqueueRetryable((0,C.Z)(function*(){Qr("RemoteStore","Retrying IndexedDB access"),yield a(),u.lu.delete(1),yield Q0(u)}))}),$y.apply(this,arguments)}function im(u,i){return i().catch(a=>Bv(u,a,i))}function ap(u){return Yy.apply(this,arguments)}function Yy(){return Yy=(0,C.Z)(function*(u){const i=ui(u),a=Zp(i);let p=i.au.length>0?i.au[i.au.length-1].batchId:-1;for(;Ky(i);)try{const y=yield kv(i.localStore,p);if(null===y){0===i.au.length&&a.ko();break}p=y.batchId,Xy(i,y)}catch(y){yield Bv(i,y)}Jy(i)&&Db(i)}),Yy.apply(this,arguments)}function Ky(u){return bf(u)&&u.au.length<10}function Xy(u,i){u.au.push(i);const a=Zp(u);a.Co()&&a.zo&&a.Ho(i.mutations)}function Jy(u){return bf(u)&&!Zp(u).Do()&&u.au.length>0}function Db(u){Zp(u).start()}function DC(u){return sm.apply(this,arguments)}function sm(){return sm=(0,C.Z)(function*(u){Zp(u).Xo()}),sm.apply(this,arguments)}function kC(u){return Qy.apply(this,arguments)}function Qy(){return Qy=(0,C.Z)(function*(u){const i=Zp(u);for(const a of u.au)i.Ho(a.mutations)}),Qy.apply(this,arguments)}function qx(u,i,a){return jv.apply(this,arguments)}function jv(){return jv=(0,C.Z)(function*(u,i,a){const p=u.au.shift(),y=Th.from(p,i,a);yield im(u,()=>u.remoteSyncer.applySuccessfulWrite(y)),yield ap(u)}),jv.apply(this,arguments)}function Gx(u,i){return om.apply(this,arguments)}function om(){return om=(0,C.Z)(function*(u,i){var a;i&&Zp(u).zo&&(yield(a=(0,C.Z)(function*(p,y){if(Yl(b=y.code)&&b!==wr.ABORTED){const M=p.au.shift();Zp(p).No(),yield im(p,()=>p.remoteSyncer.rejectFailedWrite(M.batchId,y)),yield ap(p)}var b}),function(p,y){return a.apply(this,arguments)})(u,i)),Jy(u)&&Db(u)}),om.apply(this,arguments)}function e_(u,i){return id.apply(this,arguments)}function id(){return id=(0,C.Z)(function*(u,i){const a=ui(u);a.asyncQueue.verifyOperationInProgress(),Qr("RemoteStore","RemoteStore received new credentials");const p=bf(a);a.lu.add(3),yield op(a),p&&a._u.set("Unknown"),yield a.remoteSyncer.handleCredentialChange(i),a.lu.delete(3),yield Q0(a)}),id.apply(this,arguments)}function tg(u,i){return t_.apply(this,arguments)}function t_(){return t_=(0,C.Z)(function*(u,i){const a=ui(u);i?(a.lu.delete(2),yield Q0(a)):i||(a.lu.add(2),yield op(a),a._u.set("Unknown"))}),t_.apply(this,arguments)}function ng(u){return u.mu||(u.mu=function(i,a,p){const y=ui(i);return y.tu(),new Wy(a,y.bo,y.authCredentials,y.appCheckCredentials,y.wt,p)}(u.datastore,u.asyncQueue,{zr:IC.bind(null,u),Jr:Ab.bind(null,u),Go:Ib.bind(null,u)}),u.fu.push(function(){var i=(0,C.Z)(function*(a){a?(u.mu.No(),nm(u)?ch(u):u._u.set("Unknown")):(yield u.mu.stop(),Zy(u))});return function(a){return i.apply(this,arguments)}}())),u.mu}function Zp(u){return u.gu||(u.gu=function(i,a,p){const y=ui(i);return y.tu(),new Hx(a,y.bo,y.authCredentials,y.appCheckCredentials,y.wt,p)}(u.datastore,u.asyncQueue,{zr:DC.bind(null,u),Jr:Gx.bind(null,u),Yo:kC.bind(null,u),Jo:qx.bind(null,u)}),u.fu.push(function(){var i=(0,C.Z)(function*(a){a?(u.gu.No(),yield ap(u)):(yield u.gu.stop(),u.au.length>0&&(Qr("RemoteStore",`Stopping write stream with ${u.au.length} pending writes`),u.au=[]))});return function(a){return i.apply(this,arguments)}}())),u.gu}class am{constructor(i,a,p,y,b){this.asyncQueue=i,this.timerId=a,this.targetTimeMs=p,this.op=y,this.removalCallback=b,this.deferred=new vl,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(M=>{})}static createAndSchedule(i,a,p,y,b){const M=Date.now()+p,ue=new am(i,a,M,y,b);return ue.start(p),ue}start(i){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),i)}skipDelay(){return this.handleDelayElapsed()}cancel(i){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new Nr(wr.CANCELLED,"Operation cancelled"+(i?": "+i:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(i=>this.deferred.resolve(i))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function $p(u,i){if(Pa("AsyncQueue",`${i}: ${u}`),Pc(u))return new Nr(wr.UNAVAILABLE,`${i}: ${u}`);throw u}class lp{constructor(i){this.comparator=i?(a,p)=>i(a,p)||rr.comparator(a.key,p.key):(a,p)=>rr.comparator(a.key,p.key),this.keyedMap=Yh(),this.sortedSet=new _l(this.comparator)}static emptySet(i){return new lp(i.comparator)}has(i){return null!=this.keyedMap.get(i)}get(i){return this.keyedMap.get(i)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(i){const a=this.keyedMap.get(i);return a?this.sortedSet.indexOf(a):-1}get size(){return this.sortedSet.size}forEach(i){this.sortedSet.inorderTraversal((a,p)=>(i(a),!1))}add(i){const a=this.delete(i.key);return a.copy(a.keyedMap.insert(i.key,i),a.sortedSet.insert(i,null))}delete(i){const a=this.get(i);return a?this.copy(this.keyedMap.remove(i),this.sortedSet.remove(a)):this}isEqual(i){if(!(i instanceof lp)||this.size!==i.size)return!1;const a=this.sortedSet.getIterator(),p=i.sortedSet.getIterator();for(;a.hasNext();){const y=a.getNext().key,b=p.getNext().key;if(!y.isEqual(b))return!1}return!0}toString(){const i=[];return this.forEach(a=>{i.push(a.toString())}),0===i.length?"DocumentSet ()":"DocumentSet (\n  "+i.join("  \n")+"\n)"}copy(i,a){const p=new lp;return p.comparator=this.comparator,p.keyedMap=i,p.sortedSet=a,p}}class rg{constructor(){this.yu=new _l(rr.comparator)}track(i){const a=i.doc.key,p=this.yu.get(a);p?0!==i.type&&3===p.type?this.yu=this.yu.insert(a,i):3===i.type&&1!==p.type?this.yu=this.yu.insert(a,{type:p.type,doc:i.doc}):2===i.type&&2===p.type?this.yu=this.yu.insert(a,{type:2,doc:i.doc}):2===i.type&&0===p.type?this.yu=this.yu.insert(a,{type:0,doc:i.doc}):1===i.type&&0===p.type?this.yu=this.yu.remove(a):1===i.type&&2===p.type?this.yu=this.yu.insert(a,{type:1,doc:p.doc}):0===i.type&&1===p.type?this.yu=this.yu.insert(a,{type:2,doc:i.doc}):bi():this.yu=this.yu.insert(a,i)}pu(){const i=[];return this.yu.inorderTraversal((a,p)=>{i.push(p)}),i}}class ig{constructor(i,a,p,y,b,M,ue,Ye){this.query=i,this.docs=a,this.oldDocs=p,this.docChanges=y,this.mutatedKeys=b,this.fromCache=M,this.syncStateChanged=ue,this.excludesMetadataChanges=Ye}static fromInitialDocuments(i,a,p,y){const b=[];return a.forEach(M=>{b.push({type:0,doc:M})}),new ig(i,a,lp.emptySet(a),b,p,y,!0,!1)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(i){if(!(this.fromCache===i.fromCache&&this.syncStateChanged===i.syncStateChanged&&this.mutatedKeys.isEqual(i.mutatedKeys)&&Gh(this.query,i.query)&&this.docs.isEqual(i.docs)&&this.oldDocs.isEqual(i.oldDocs)))return!1;const a=this.docChanges,p=i.docChanges;if(a.length!==p.length)return!1;for(let y=0;y<a.length;y++)if(a[y].type!==p[y].type||!a[y].doc.isEqual(p[y].doc))return!1;return!0}}class n_{constructor(){this.Iu=void 0,this.listeners=[]}}class Zx{constructor(){this.queries=new Er(i=>ov(i),Gh),this.onlineState="Unknown",this.Tu=new Set}}function Vv(u,i){return Hv.apply(this,arguments)}function Hv(){return Hv=(0,C.Z)(function*(u,i){const a=ui(u),p=i.query;let y=!1,b=a.queries.get(p);if(b||(y=!0,b=new n_),y)try{b.Iu=yield a.onListen(p)}catch(M){const ue=$p(M,`Initialization of query '${Dp(i.query)}' failed`);return void i.onError(ue)}a.queries.set(p,b),b.listeners.push(i),i.Eu(a.onlineState),b.Iu&&i.Au(b.Iu)&&cm(a)}),Hv.apply(this,arguments)}function r_(u,i){return lm.apply(this,arguments)}function lm(){return lm=(0,C.Z)(function*(u,i){const a=ui(u),p=i.query;let y=!1;const b=a.queries.get(p);if(b){const M=b.listeners.indexOf(i);M>=0&&(b.listeners.splice(M,1),y=0===b.listeners.length)}if(y)return a.queries.delete(p),a.onUnlisten(p)}),lm.apply(this,arguments)}function i_(u,i){const a=ui(u);let p=!1;for(const y of i){const M=a.queries.get(y.query);if(M){for(const ue of M.listeners)ue.Au(y)&&(p=!0);M.Iu=y}}p&&cm(a)}function $x(u,i,a){const p=ui(u),y=p.queries.get(i);if(y)for(const b of y.listeners)b.onError(a);p.queries.delete(i)}function cm(u){u.Tu.forEach(i=>{i.next()})}class Ef{constructor(i,a,p){this.query=i,this.Ru=a,this.bu=!1,this.Pu=null,this.onlineState="Unknown",this.options=p||{}}Au(i){if(!this.options.includeMetadataChanges){const p=[];for(const y of i.docChanges)3!==y.type&&p.push(y);i=new ig(i.query,i.docs,i.oldDocs,p,i.mutatedKeys,i.fromCache,i.syncStateChanged,!0)}let a=!1;return this.bu?this.vu(i)&&(this.Ru.next(i),a=!0):this.Vu(i,this.onlineState)&&(this.Su(i),a=!0),this.Pu=i,a}onError(i){this.Ru.error(i)}Eu(i){this.onlineState=i;let a=!1;return this.Pu&&!this.bu&&this.Vu(this.Pu,i)&&(this.Su(this.Pu),a=!0),a}Vu(i,a){return!i.fromCache||!(this.options.Du&&"Offline"!==a||i.docs.isEmpty()&&"Offline"!==a)}vu(i){return i.docChanges.length>0||!!(i.syncStateChanged||this.Pu&&this.Pu.hasPendingWrites!==i.hasPendingWrites)&&!0===this.options.includeMetadataChanges}Su(i){i=ig.fromInitialDocuments(i.query,i.docs,i.mutatedKeys,i.fromCache),this.bu=!0,this.Ru.next(i)}}class Yp{constructor(i,a){this.payload=i,this.byteLength=a}Cu(){return"metadata"in this.payload}}class Yx{constructor(i){this.wt=i}Wi(i){return Du(this.wt,i)}zi(i){return i.metadata.exists?ep(this.wt,i.document,!1):Cs.newNoDocument(this.Wi(i.metadata.name),this.Hi(i.metadata.readTime))}Hi(i){return Po(i)}}class Kp{constructor(i,a,p){this.xu=i,this.localStore=a,this.wt=p,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=sg(i)}Nu(i){this.progress.bytesLoaded+=i.byteLength;let a=this.progress.documentsLoaded;if(i.payload.namedQuery)this.queries.push(i.payload.namedQuery);else if(i.payload.documentMetadata){this.documents.push({metadata:i.payload.documentMetadata}),i.payload.documentMetadata.exists||++a;const p=Zt.fromString(i.payload.documentMetadata.name);this.collectionGroups.add(p.get(p.length-2))}else i.payload.document&&(this.documents[this.documents.length-1].document=i.payload.document,++a);return a!==this.progress.documentsLoaded?(this.progress.documentsLoaded=a,Object.assign({},this.progress)):null}ku(i){const a=new Map,p=new Yx(this.wt);for(const y of i)if(y.metadata.queries){const b=p.Wi(y.metadata.name);for(const M of y.metadata.queries){const ue=(a.get(M)||Js()).add(b);a.set(M,ue)}}return a}complete(){var i=this;return(0,C.Z)(function*(){const a=yield function xb(u,i,a,p){return Pv.apply(this,arguments)}(i.localStore,new Yx(i.wt),i.documents,i.xu.id),p=i.ku(i.documents);for(const y of i.queries)yield Ux(i.localStore,y,p.get(y.name));return i.progress.taskState="Success",{progress:i.progress,Ou:i.collectionGroups,Mu:a}})()}}function sg(u){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:u.totalDocuments,totalBytes:u.totalBytes}}class Kx{constructor(i){this.key=i}}class Xx{constructor(i){this.key=i}}class Jx{constructor(i,a){this.query=i,this.Fu=a,this.$u=null,this.current=!1,this.Bu=Js(),this.mutatedKeys=Js(),this.Lu=rh(i),this.Uu=new lp(this.Lu)}get qu(){return this.Fu}Ku(i,a){const p=a?a.Gu:new rg,y=a?a.Uu:this.Uu;let b=a?a.mutatedKeys:this.mutatedKeys,M=y,ue=!1;const Ye="F"===this.query.limitType&&y.size===this.query.limit?y.last():null,pt="L"===this.query.limitType&&y.size===this.query.limit?y.first():null;if(i.inorderTraversal((Wt,Cn)=>{const fr=y.get(Wt),Br=hf(this.query,Cn)?Cn:null,Jr=!!fr&&this.mutatedKeys.has(fr.key),Fi=!!Br&&(Br.hasLocalMutations||this.mutatedKeys.has(Br.key)&&Br.hasCommittedMutations);let Qi=!1;fr&&Br?fr.data.isEqual(Br.data)?Jr!==Fi&&(p.track({type:3,doc:Br}),Qi=!0):this.Qu(fr,Br)||(p.track({type:2,doc:Br}),Qi=!0,(Ye&&this.Lu(Br,Ye)>0||pt&&this.Lu(Br,pt)<0)&&(ue=!0)):!fr&&Br?(p.track({type:0,doc:Br}),Qi=!0):fr&&!Br&&(p.track({type:1,doc:fr}),Qi=!0,(Ye||pt)&&(ue=!0)),Qi&&(Br?(M=M.add(Br),b=Fi?b.add(Wt):b.delete(Wt)):(M=M.delete(Wt),b=b.delete(Wt)))}),null!==this.query.limit)for(;M.size>this.query.limit;){const Wt="F"===this.query.limitType?M.last():M.first();M=M.delete(Wt.key),b=b.delete(Wt.key),p.track({type:1,doc:Wt})}return{Uu:M,Gu:p,Oi:ue,mutatedKeys:b}}Qu(i,a){return i.hasLocalMutations&&a.hasCommittedMutations&&!a.hasLocalMutations}applyChanges(i,a,p){const y=this.Uu;this.Uu=i.Uu,this.mutatedKeys=i.mutatedKeys;const b=i.Gu.pu();b.sort((pt,Wt)=>function(Cn,fr){const Br=Jr=>{switch(Jr){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return bi()}};return Br(Cn)-Br(fr)}(pt.type,Wt.type)||this.Lu(pt.doc,Wt.doc)),this.ju(p);const M=a?this.Wu():[],ue=0===this.Bu.size&&this.current?1:0,Ye=ue!==this.$u;return this.$u=ue,0!==b.length||Ye?{snapshot:new ig(this.query,i.Uu,y,b,i.mutatedKeys,0===ue,Ye,!1),zu:M}:{zu:M}}Eu(i){return this.current&&"Offline"===i?(this.current=!1,this.applyChanges({Uu:this.Uu,Gu:new rg,mutatedKeys:this.mutatedKeys,Oi:!1},!1)):{zu:[]}}Hu(i){return!this.Fu.has(i)&&!!this.Uu.has(i)&&!this.Uu.get(i).hasLocalMutations}ju(i){i&&(i.addedDocuments.forEach(a=>this.Fu=this.Fu.add(a)),i.modifiedDocuments.forEach(a=>{}),i.removedDocuments.forEach(a=>this.Fu=this.Fu.delete(a)),this.current=i.current)}Wu(){if(!this.current)return[];const i=this.Bu;this.Bu=Js(),this.Uu.forEach(p=>{this.Hu(p.key)&&(this.Bu=this.Bu.add(p.key))});const a=[];return i.forEach(p=>{this.Bu.has(p)||a.push(new Xx(p))}),this.Bu.forEach(p=>{i.has(p)||a.push(new Kx(p))}),a}Ju(i){this.Fu=i.ji,this.Bu=Js();const a=this.Ku(i.documents);return this.applyChanges(a,!0)}Yu(){return ig.fromInitialDocuments(this.query,this.Uu,this.mutatedKeys,0===this.$u)}}class kb{constructor(i,a,p){this.query=i,this.targetId=a,this.view=p}}class Od{constructor(i){this.key=i,this.Xu=!1}}class zv{constructor(i,a,p,y,b,M){this.localStore=i,this.remoteStore=a,this.eventManager=p,this.sharedClientState=y,this.currentUser=b,this.maxConcurrentLimboResolutions=M,this.Zu={},this.tc=new Er(ue=>ov(ue),Gh),this.ec=new Map,this.nc=new Set,this.sc=new _l(rr.comparator),this.ic=new Map,this.rc=new Ry,this.oc={},this.uc=new Map,this.cc=Dd.Rn(),this.onlineState="Unknown",this.ac=void 0}get isPrimaryClient(){return!0===this.ac}}function Qx(u,i){return Wv.apply(this,arguments)}function Wv(){return Wv=(0,C.Z)(function*(u,i){const a=Ql(u);let p,y;const b=a.tc.get(i);if(b)p=b.targetId,a.sharedClientState.addLocalQueryTarget(p),y=b.view.Yu();else{const M=yield ip(a.localStore,gc(i));a.isPrimaryClient&&Rv(a.remoteStore,M);const ue=a.sharedClientState.addLocalQueryTarget(M.targetId);p=M.targetId,y=yield qv(a,i,p,"current"===ue)}return y}),Wv.apply(this,arguments)}function qv(u,i,a,p){return Gv.apply(this,arguments)}function Gv(){return Gv=(0,C.Z)(function*(u,i,a,p){u.hc=(Wt,Cn,fr)=>{return(Br=(0,C.Z)(function*(Jr,Fi,Qi,Uo){let Ua=Fi.view.Ku(Qi);Ua.Oi&&(Ua=yield K0(Jr.localStore,Fi.query,!1).then(({documents:Qa})=>Fi.view.Ku(Qa,Ua)));const Ja=Uo&&Uo.targetChanges.get(Fi.targetId),jl=Fi.view.applyChanges(Ua,Jr.isPrimaryClient,Ja);return Yv(Jr,Fi.targetId,jl.zu),jl.snapshot}),function(Jr,Fi,Qi,Uo){return Br.apply(this,arguments)})(u,Wt,Cn,fr);var Br};const y=yield K0(u.localStore,i,!0),b=new Jx(i,y.ji),M=b.Ku(y.documents),ue=Pp.createSynthesizedTargetChangeForCurrentChange(a,p&&"Offline"!==u.onlineState),Ye=b.applyChanges(M,u.isPrimaryClient,ue);Yv(u,a,Ye.zu);const pt=new kb(i,a,b);return u.tc.set(i,pt),u.ec.has(a)?u.ec.get(a).push(i):u.ec.set(a,[i]),Ye.snapshot}),Gv.apply(this,arguments)}function Pb(u,i){return Zv.apply(this,arguments)}function Zv(){return Zv=(0,C.Z)(function*(u,i){const a=ui(u),p=a.tc.get(i),y=a.ec.get(p.targetId);if(y.length>1)return a.ec.set(p.targetId,y.filter(b=>!Gh(b,i))),void a.tc.delete(i);a.isPrimaryClient?(a.sharedClientState.removeLocalQueryTarget(p.targetId),a.sharedClientState.isActiveQueryTarget(p.targetId)||(yield Md(a.localStore,p.targetId,!1).then(()=>{a.sharedClientState.clearQueryState(p.targetId),eg(a.remoteStore,p.targetId),um(a,p.targetId)}).catch(yh))):(um(a,p.targetId),yield Md(a.localStore,p.targetId,!0))}),Zv.apply(this,arguments)}function s_(){return s_=(0,C.Z)(function*(u,i,a){const p=od(u);try{const y=yield function(b,M){const ue=ui(b),Ye=Ae.now(),pt=M.reduce((fr,Br)=>fr.add(Br.key),Js());let Wt,Cn;return ue.persistence.runTransaction("Locally write mutations","readwrite",fr=>{let Br=ia(),Jr=Js();return ue.Ui.getEntries(fr,pt).next(Fi=>{Br=Fi,Br.forEach((Qi,Uo)=>{Uo.isValidDocument()||(Jr=Jr.add(Qi))})}).next(()=>ue.localDocuments.getOverlayedDocuments(fr,Br)).next(Fi=>{Wt=Fi;const Qi=[];for(const Uo of M){const Ua=mc(Uo,Wt.get(Uo.key).overlayedDocument);null!=Ua&&Qi.push(new na(Uo.key,Ua,D0(Ua.value.mapValue),Vn.exists(!0)))}return ue.mutationQueue.addMutationBatch(fr,Ye,Qi,M)}).next(Fi=>{Cn=Fi;const Qi=Fi.applyToLocalDocumentSet(Wt,Jr);return ue.documentOverlayCache.saveOverlays(fr,Fi.batchId,Qi)})}).then(()=>({batchId:Cn.batchId,changes:cv(Wt)}))}(p.localStore,i);p.sharedClientState.addPendingMutation(y.batchId),function(b,M,ue){let Ye=b.oc[b.currentUser.toKey()];Ye||(Ye=new _l(ie)),Ye=Ye.insert(M,ue),b.oc[b.currentUser.toKey()]=Ye}(p,y.batchId,a),yield Tf(p,y.changes),yield ap(p.remoteStore)}catch(y){const b=$p(y,"Failed to persist write");a.reject(b)}}),s_.apply(this,arguments)}function o_(u,i){return ew.apply(this,arguments)}function ew(){return ew=(0,C.Z)(function*(u,i){const a=ui(u);try{const p=yield _b(a.localStore,i);i.targetChanges.forEach((y,b)=>{const M=a.ic.get(b);M&&(os(y.addedDocuments.size+y.modifiedDocuments.size+y.removedDocuments.size<=1),y.addedDocuments.size>0?M.Xu=!0:y.modifiedDocuments.size>0?os(M.Xu):y.removedDocuments.size>0&&(os(M.Xu),M.Xu=!1))}),yield Tf(a,p,i)}catch(p){yield yh(p)}}),ew.apply(this,arguments)}function a_(u,i,a){const p=ui(u);if(p.isPrimaryClient&&0===a||!p.isPrimaryClient&&1===a){const y=[];p.tc.forEach((b,M)=>{const ue=M.view.Eu(i);ue.snapshot&&y.push(ue.snapshot)}),function(b,M){const ue=ui(b);ue.onlineState=M;let Ye=!1;ue.queries.forEach((pt,Wt)=>{for(const Cn of Wt.listeners)Cn.Eu(M)&&(Ye=!0)}),Ye&&cm(ue)}(p.eventManager,i),y.length&&p.Zu.Go(y),p.onlineState=i,p.isPrimaryClient&&p.sharedClientState.setOnlineState(i)}}function tw(u,i,a){return sd.apply(this,arguments)}function sd(){return sd=(0,C.Z)(function*(u,i,a){const p=ui(u);p.sharedClientState.updateQueryState(i,"rejected",a);const y=p.ic.get(i),b=y&&y.key;if(b){let M=new _l(rr.comparator);M=M.insert(b,Cs.newNoDocument(b,Ge.min()));const ue=Js().add(b),Ye=new vc(Ge.min(),new Map,new Gs(ie),M,ue);yield o_(p,Ye),p.sc=p.sc.remove(b),p.ic.delete(i),Kv(p)}else yield Md(p.localStore,i,!1).then(()=>um(p,i,a)).catch(yh)}),sd.apply(this,arguments)}function PC(u,i){return nw.apply(this,arguments)}function nw(){return nw=(0,C.Z)(function*(u,i){const a=ui(u),p=i.batch.batchId;try{const y=yield yb(a.localStore,i);Nu(a,p,null),u_(a,p),a.sharedClientState.updateMutationState(p,"acknowledged"),yield Tf(a,y)}catch(y){yield yh(y)}}),nw.apply(this,arguments)}function l_(u,i,a){return c_.apply(this,arguments)}function c_(){return c_=(0,C.Z)(function*(u,i,a){const p=ui(u);try{const y=yield function(b,M){const ue=ui(b);return ue.persistence.runTransaction("Reject batch","readwrite-primary",Ye=>{let pt;return ue.mutationQueue.lookupMutationBatch(Ye,M).next(Wt=>(os(null!==Wt),pt=Wt.keys(),ue.mutationQueue.removeMutationBatch(Ye,Wt))).next(()=>ue.mutationQueue.performConsistencyCheck(Ye)).next(()=>ue.documentOverlayCache.removeOverlaysForBatchId(Ye,pt,M)).next(()=>ue.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(Ye,pt)).next(()=>ue.localDocuments.getDocuments(Ye,pt))})}(p.localStore,i);Nu(p,i,a),u_(p,i),p.sharedClientState.updateMutationState(i,"rejected",a),yield Tf(p,y)}catch(y){yield yh(y)}}),c_.apply(this,arguments)}function $v(){return $v=(0,C.Z)(function*(u,i){const a=ui(u);bf(a.remoteStore)||Qr("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const p=yield function(b){const M=ui(b);return M.persistence.runTransaction("Get highest unacknowledged batch id","readonly",ue=>M.mutationQueue.getHighestUnacknowledgedBatchId(ue))}(a.localStore);if(-1===p)return void i.resolve();const y=a.uc.get(p)||[];y.push(i),a.uc.set(p,y)}catch(p){const y=$p(p,"Initialization of waitForPendingWrites() operation failed");i.reject(y)}}),$v.apply(this,arguments)}function u_(u,i){(u.uc.get(i)||[]).forEach(a=>{a.resolve()}),u.uc.delete(i)}function Nu(u,i,a){const p=ui(u);let y=p.oc[p.currentUser.toKey()];if(y){const b=y.get(i);b&&(a?b.reject(a):b.resolve(),y=y.remove(i)),p.oc[p.currentUser.toKey()]=y}}function um(u,i,a=null){u.sharedClientState.removeLocalQueryTarget(i);for(const p of u.ec.get(i))u.tc.delete(p),a&&u.Zu.lc(p,a);u.ec.delete(i),u.isPrimaryClient&&u.rc.us(i).forEach(p=>{u.rc.containsKey(p)||Mb(u,p)})}function Mb(u,i){u.nc.delete(i.path.canonicalString());const a=u.sc.get(i);null!==a&&(eg(u.remoteStore,a),u.sc=u.sc.remove(i),u.ic.delete(a),Kv(u))}function Yv(u,i,a){for(const p of a)p instanceof Kx?(u.rc.addReference(p.key,i),iw(u,p)):p instanceof Xx?(Qr("SyncEngine","Document no longer in limbo: "+p.key),u.rc.removeReference(p.key,i),u.rc.containsKey(p.key)||Mb(u,p.key)):bi()}function iw(u,i){const a=i.key,p=a.path.canonicalString();u.sc.get(a)||u.nc.has(p)||(Qr("SyncEngine","New document in limbo: "+a),u.nc.add(p),Kv(u))}function Kv(u){for(;u.nc.size>0&&u.sc.size<u.maxConcurrentLimboResolutions;){const i=u.nc.values().next().value;u.nc.delete(i);const a=new rr(Zt.fromString(i)),p=u.cc.next();u.ic.set(p,new Od(a)),u.sc=u.sc.insert(a,p),Rv(u.remoteStore,new gf(gc(Yf(a.path)),p,2,uu.ot))}}function Tf(u,i,a){return Xv.apply(this,arguments)}function Xv(){return Xv=(0,C.Z)(function*(u,i,a){const p=ui(u),y=[],b=[],M=[];var ue;p.tc.isEmpty()||(p.tc.forEach((ue,Ye)=>{M.push(p.hc(Ye,i,a).then(pt=>{if(pt){p.isPrimaryClient&&p.sharedClientState.updateQueryState(Ye.targetId,pt.fromCache?"not-current":"current"),y.push(pt);const Wt=rp.Vi(Ye.targetId,pt);b.push(Wt)}}))}),yield Promise.all(M),p.Zu.Go(y),yield(ue=(0,C.Z)(function*(Ye,pt){const Wt=ui(Ye);try{yield Wt.persistence.runTransaction("notifyLocalViewChanges","readwrite",Cn=>or.forEach(pt,fr=>or.forEach(fr.Pi,Br=>Wt.persistence.referenceDelegate.addReference(Cn,fr.targetId,Br)).next(()=>or.forEach(fr.vi,Br=>Wt.persistence.referenceDelegate.removeReference(Cn,fr.targetId,Br)))))}catch(Cn){if(!Pc(Cn))throw Cn;Qr("LocalStore","Failed to update sequence numbers: "+Cn)}for(const Cn of pt){const fr=Cn.targetId;if(!Cn.fromCache){const Br=Wt.$i.get(fr),Fi=Br.withLastLimboFreeSnapshotVersion(Br.snapshotVersion);Wt.$i=Wt.$i.insert(fr,Fi)}}}),function(Ye,pt){return ue.apply(this,arguments)})(p.localStore,b))}),Xv.apply(this,arguments)}function h_(u,i){return hm.apply(this,arguments)}function hm(){return hm=(0,C.Z)(function*(u,i){const a=ui(u);if(!a.currentUser.isEqual(i)){Qr("SyncEngine","User change. New user:",i.toKey());const p=yield Nd(a.localStore,i);a.currentUser=i,(y=a).uc.forEach(M=>{M.forEach(ue=>{ue.reject(new Nr(wr.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),y.uc.clear(),a.sharedClientState.handleUserChange(i,p.removedBatchIds,p.addedBatchIds),yield Tf(a,p.Ki)}var y}),hm.apply(this,arguments)}function Ob(u,i){const a=ui(u),p=a.ic.get(i);if(p&&p.Xu)return Js().add(p.key);{let y=Js();const b=a.ec.get(i);if(!b)return y;for(const M of b){const ue=a.tc.get(M);y=y.unionWith(ue.view.qu)}return y}}function d_(u,i){return f_.apply(this,arguments)}function f_(){return f_=(0,C.Z)(function*(u,i){const a=ui(u),p=yield K0(a.localStore,i.query,!0),y=i.view.Ju(p);return a.isPrimaryClient&&Yv(a,i.targetId,y.zu),y}),f_.apply(this,arguments)}function Fb(u,i){return Jv.apply(this,arguments)}function Jv(){return Jv=(0,C.Z)(function*(u,i){const a=ui(u);return X0(a.localStore,i).then(p=>Tf(a,p))}),Jv.apply(this,arguments)}function Rb(u,i,a,p){return Xp.apply(this,arguments)}function Xp(){return Xp=(0,C.Z)(function*(u,i,a,p){const y=ui(u),b=yield function(M,ue){const Ye=ui(M),pt=ui(Ye.mutationQueue);return Ye.persistence.runTransaction("Lookup mutation documents","readonly",Wt=>pt.yn(Wt,ue).next(Cn=>Cn?Ye.localDocuments.getDocuments(Wt,Cn):or.resolve(null)))}(y.localStore,i);var ue;null!==b?("pending"===a?yield ap(y.remoteStore):"acknowledged"===a||"rejected"===a?(Nu(y,i,p||null),u_(y,i),ue=i,ui(ui(y.localStore).mutationQueue).In(ue)):bi(),yield Tf(y,b)):Qr("SyncEngine","Cannot apply mutation batch with id: "+i)}),Xp.apply(this,arguments)}function og(){return og=(0,C.Z)(function*(u,i){const a=ui(u);if(Ql(a),od(a),!0===i&&!0!==a.ac){const p=a.sharedClientState.getAllActiveQueryTargets(),y=yield Fd(a,p.toArray());a.ac=!0,yield tg(a.remoteStore,!0);for(const b of y)Rv(a.remoteStore,b)}else if(!1===i&&!1!==a.ac){const p=[];let y=Promise.resolve();a.ec.forEach((b,M)=>{a.sharedClientState.isLocalQueryTarget(M)?p.push(M):y=y.then(()=>(um(a,M),Md(a.localStore,M,!0))),eg(a.remoteStore,M)}),yield y,yield Fd(a,p),function(b){const M=ui(b);M.ic.forEach((ue,Ye)=>{eg(M.remoteStore,Ye)}),M.rc.cs(),M.ic=new Map,M.sc=new _l(rr.comparator)}(a),a.ac=!1,yield tg(a.remoteStore,!1)}}),og.apply(this,arguments)}function Fd(u,i,a){return Qv.apply(this,arguments)}function Qv(){return Qv=(0,C.Z)(function*(u,i,a){const p=ui(u),y=[],b=[];for(const M of i){let ue;const Ye=p.ec.get(M);if(Ye&&0!==Ye.length){ue=yield ip(p.localStore,gc(Ye[0]));for(const pt of Ye){const Wt=p.tc.get(pt),Cn=yield d_(p,Wt);Cn.snapshot&&b.push(Cn.snapshot)}}else{const pt=yield zp(p.localStore,M);ue=yield ip(p.localStore,pt),yield qv(p,ag(pt),M,!1)}y.push(ue)}return p.Zu.Go(b),y}),Qv.apply(this,arguments)}function ag(u){return wd(u.path,u.collectionGroup,u.orderBy,u.filters,u.limit,"F",u.startAt,u.endAt)}function Ub(u){const i=ui(u);return ui(ui(i.localStore).persistence).Ri()}function nu(u,i,a,p){return Cf.apply(this,arguments)}function Cf(){return Cf=(0,C.Z)(function*(u,i,a,p){const y=ui(u);if(y.ac)return void Qr("SyncEngine","Ignoring unexpected query state notification.");const b=y.ec.get(i);if(b&&b.length>0)switch(a){case"current":case"not-current":{const M=yield X0(y.localStore,ll(b[0])),ue=vc.createSynthesizedRemoteEventForCurrentChange(i,"current"===a);yield Tf(y,M,ue);break}case"rejected":yield Md(y.localStore,i,!0),um(y,i,p);break;default:bi()}}),Cf.apply(this,arguments)}function Mu(u,i,a){return Rd.apply(this,arguments)}function Rd(){return Rd=(0,C.Z)(function*(u,i,a){const p=Ql(u);if(p.ac){for(const y of i){if(p.ec.has(y)){Qr("SyncEngine","Adding an already active target "+y);continue}const b=yield zp(p.localStore,y),M=yield ip(p.localStore,b);yield qv(p,ag(b),M.targetId,!1),Rv(p.remoteStore,M)}for(const y of a)p.ec.has(y)&&(yield Md(p.localStore,y,!1).then(()=>{eg(p.remoteStore,y),um(p,y)}).catch(yh))}}),Rd.apply(this,arguments)}function Ql(u){const i=ui(u);return i.remoteStore.remoteSyncer.applyRemoteEvent=o_.bind(null,i),i.remoteStore.remoteSyncer.getRemoteKeysForTarget=Ob.bind(null,i),i.remoteStore.remoteSyncer.rejectListen=tw.bind(null,i),i.Zu.Go=i_.bind(null,i.eventManager),i.Zu.lc=$x.bind(null,i.eventManager),i}function od(u){const i=ui(u);return i.remoteStore.remoteSyncer.applySuccessfulWrite=PC.bind(null,i),i.remoteStore.remoteSyncer.rejectFailedWrite=l_.bind(null,i),i}class uh{constructor(){this.synchronizeTabs=!1}initialize(i){var a=this;return(0,C.Z)(function*(){a.wt=Gp(i.databaseInfo.databaseId),a.sharedClientState=a.dc(i),a.persistence=a._c(i),yield a.persistence.start(),a.localStore=a.wc(i),a.gcScheduler=a.mc(i,a.localStore),a.indexBackfillerScheduler=a.gc(i,a.localStore)})()}mc(i,a){return null}gc(i,a){return null}wc(i){return Lx(this.persistence,new Av,i.initialUser,this.wt)}_c(i){return new mb(Cv.Ms,this.wt)}dc(i){return new Hy}terminate(){var i=this;return(0,C.Z)(function*(){i.gcScheduler&&i.gcScheduler.stop(),yield i.sharedClientState.shutdown(),yield i.persistence.shutdown()})()}}class dm extends uh{constructor(i,a,p){super(),this.yc=i,this.cacheSizeBytes=a,this.forceOwnership=p,this.synchronizeTabs=!1}initialize(i){var a=()=>super.initialize,p=this;return(0,C.Z)(function*(){yield a().call(p,i),yield p.yc.initialize(p,i),yield od(p.yc.syncEngine),yield ap(p.yc.remoteStore),yield p.persistence.ci(()=>(p.gcScheduler&&!p.gcScheduler.started&&p.gcScheduler.start(),p.indexBackfillerScheduler&&!p.indexBackfillerScheduler.started&&p.indexBackfillerScheduler.start(),Promise.resolve()))})()}wc(i){return Lx(this.persistence,new Av,i.initialUser,this.wt)}mc(i,a){return new CC(this.persistence.referenceDelegate.garbageCollector,i.asyncQueue,a)}gc(i,a){const p=new rf(a,this.persistence);return new dy(i.asyncQueue,p)}_c(i){const a=Sv(i.databaseInfo.databaseId,i.databaseInfo.persistenceKey),p=void 0!==this.cacheSizeBytes?is.withCacheSize(this.cacheSizeBytes):is.DEFAULT;return new Pd(this.synchronizeTabs,a,i.clientId,p,i.asyncQueue,Tb(),zy(),this.wt,this.sharedClientState,!!this.forceOwnership)}dc(i){return new Hy}}class Ld extends dm{constructor(i,a){super(i,a,!1),this.yc=i,this.cacheSizeBytes=a,this.synchronizeTabs=!0}initialize(i){var a=()=>super.initialize,p=this;return(0,C.Z)(function*(){yield a().call(p,i);const y=p.yc.syncEngine;p.sharedClientState instanceof Vy&&(p.sharedClientState.syncEngine={kr:Rb.bind(null,y),Or:nu.bind(null,y),Mr:Mu.bind(null,y),Ri:Ub.bind(null,y),Nr:Fb.bind(null,y)},yield p.sharedClientState.start()),yield p.persistence.ci(function(){var b=(0,C.Z)(function*(M){yield function Lb(u,i){return og.apply(this,arguments)}(p.yc.syncEngine,M),p.gcScheduler&&(M&&!p.gcScheduler.started?p.gcScheduler.start():M||p.gcScheduler.stop()),p.indexBackfillerScheduler&&(M&&!p.indexBackfillerScheduler.started?p.indexBackfillerScheduler.start():M||p.indexBackfillerScheduler.stop())});return function(M){return b.apply(this,arguments)}}())})()}dc(i){const a=Tb();if(!Vy.V(a))throw new Nr(wr.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const p=Sv(i.databaseInfo.databaseId,i.databaseInfo.persistenceKey);return new Vy(a,i.asyncQueue,p,i.clientId,i.initialUser)}}class ld{initialize(i,a){var p=this;return(0,C.Z)(function*(){p.localStore||(p.localStore=i.localStore,p.sharedClientState=i.sharedClientState,p.datastore=p.createDatastore(a),p.remoteStore=p.createRemoteStore(a),p.eventManager=p.createEventManager(a),p.syncEngine=p.createSyncEngine(a,!i.synchronizeTabs),p.sharedClientState.onlineStateHandler=y=>a_(p.syncEngine,y,1),p.remoteStore.remoteSyncer.handleCredentialChange=h_.bind(null,p.syncEngine),yield tg(p.remoteStore,p.syncEngine.isPrimaryClient))})()}createEventManager(i){return new Zx}createDatastore(i){const a=Gp(i.databaseInfo.databaseId),p=new Eb(i.databaseInfo);return new Cb(i.authCredentials,i.appCheckCredentials,p,a)}createRemoteStore(i){return a=this.localStore,p=this.datastore,y=i.asyncQueue,b=ue=>a_(this.syncEngine,ue,0),M=Bx.V()?new Bx:new wb,new zx(a,p,y,b,M);var a,p,y,b,M}createSyncEngine(i,a){return function(p,y,b,M,ue,Ye,pt){const Wt=new zv(p,y,b,M,ue,Ye);return pt&&(Wt.ac=!0),Wt}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,i.initialUser,i.maxConcurrentLimboResolutions,a)}terminate(){return(i=(0,C.Z)(function*(a){const p=ui(a);Qr("RemoteStore","RemoteStore shutting down."),p.lu.add(5),yield op(p),p.du.shutdown(),p._u.set("Unknown")}),function(a){return i.apply(this,arguments)})(this.remoteStore);var i}}function Jp(u,i=10240){let a=0;return{read:()=>(0,C.Z)(function*(){if(a<u.byteLength){const p={value:u.slice(a,a+i),done:!1};return a+=i,p}return{done:!0}})(),cancel:()=>(0,C.Z)(function*(){})(),releaseLock(){},closed:Promise.reject("unimplemented")}}class cp{constructor(i){this.observer=i,this.muted=!1}next(i){this.observer.next&&this.Ic(this.observer.next,i)}error(i){this.observer.error?this.Ic(this.observer.error,i):console.error("Uncaught Error in snapshot listener:",i)}Tc(){this.muted=!0}Ic(i,a){this.muted||setTimeout(()=>{this.muted||i(a)},0)}}class fm{constructor(i,a){this.Ec=i,this.wt=a,this.metadata=new vl,this.buffer=new Uint8Array,this.Ac=new TextDecoder("utf-8"),this.Rc().then(p=>{p&&p.Cu()?this.metadata.resolve(p.payload.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is\n             ${JSON.stringify(null==p?void 0:p.payload)}`))},p=>this.metadata.reject(p))}close(){return this.Ec.cancel()}getMetadata(){var i=this;return(0,C.Z)(function*(){return i.metadata.promise})()}fc(){var i=this;return(0,C.Z)(function*(){return yield i.getMetadata(),i.Rc()})()}Rc(){var i=this;return(0,C.Z)(function*(){const a=yield i.bc();if(null===a)return null;const p=i.Ac.decode(a),y=Number(p);isNaN(y)&&i.Pc(`length string (${p}) is not valid number`);const b=yield i.vc(y);return new Yp(JSON.parse(b),a.length+y)})()}Vc(){return this.buffer.findIndex(i=>i==="{".charCodeAt(0))}bc(){var i=this;return(0,C.Z)(function*(){for(;i.Vc()<0&&!(yield i.Sc()););if(0===i.buffer.length)return null;const a=i.Vc();a<0&&i.Pc("Reached the end of bundle when a length string is expected.");const p=i.buffer.slice(0,a);return i.buffer=i.buffer.slice(a),p})()}vc(i){var a=this;return(0,C.Z)(function*(){for(;a.buffer.length<i;)(yield a.Sc())&&a.Pc("Reached the end of bundle when more is expected.");const p=a.Ac.decode(a.buffer.slice(0,i));return a.buffer=a.buffer.slice(i),p})()}Pc(i){throw this.Ec.cancel(),new Error(`Invalid bundle format: ${i}`)}Sc(){var i=this;return(0,C.Z)(function*(){const a=yield i.Ec.read();if(!a.done){const p=new Uint8Array(i.buffer.length+a.value.length);p.set(i.buffer),p.set(a.value,i.buffer.length),i.buffer=p}return a.done})()}}class pm{constructor(i){this.datastore=i,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}lookup(i){var a=this;return(0,C.Z)(function*(){if(a.ensureCommitNotCalled(),a.mutations.length>0)throw new Nr(wr.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");const p=yield(y=(0,C.Z)(function*(b,M){const ue=ui(b),Ye=Jf(ue.wt)+"/documents",pt={documents:M.map(Br=>Wg(ue.wt,Br))},Wt=yield ue.ao("BatchGetDocuments",Ye,pt,M.length),Cn=new Map;Wt.forEach(Br=>{const Jr=function Np(u,i){return"found"in i?function(a,p){os(!!p.found);const y=Du(a,p.found.name),b=Po(p.found.updateTime),M=new Ya({mapValue:{fields:p.found.fields}});return Cs.newFoundDocument(y,b,M)}(u,i):"missing"in i?function(a,p){os(!!p.missing),os(!!p.readTime);const y=Du(a,p.missing),b=Po(p.readTime);return Cs.newNoDocument(y,b)}(u,i):bi()}(ue.wt,Br);Cn.set(Jr.key.toString(),Jr)});const fr=[];return M.forEach(Br=>{const Jr=Cn.get(Br.toString());os(!!Jr),fr.push(Jr)}),fr}),function(b,M){return y.apply(this,arguments)})(a.datastore,i);var y;return p.forEach(y=>a.recordVersion(y)),p})()}set(i,a){this.write(a.toMutation(i,this.precondition(i))),this.writtenDocs.add(i.toString())}update(i,a){try{this.write(a.toMutation(i,this.preconditionForUpdate(i)))}catch(p){this.lastWriteError=p}this.writtenDocs.add(i.toString())}delete(i){this.write(new Cd(i,this.precondition(i))),this.writtenDocs.add(i.toString())}commit(){var i=this;return(0,C.Z)(function*(){if(i.ensureCommitNotCalled(),i.lastWriteError)throw i.lastWriteError;const a=i.readVersions;var p;i.mutations.forEach(p=>{a.delete(p.key.toString())}),a.forEach((p,y)=>{const b=rr.fromPath(y);i.mutations.push(new F0(b,i.precondition(b)))}),yield(p=(0,C.Z)(function*(y,b){const M=ui(y),ue=Jf(M.wt)+"/documents",Ye={writes:b.map(pt=>Mp(M.wt,pt))};yield M.ro("Commit",ue,Ye)}),function(y,b){return p.apply(this,arguments)})(i.datastore,i.mutations),i.committed=!0})()}recordVersion(i){let a;if(i.isFoundDocument())a=i.version;else{if(!i.isNoDocument())throw bi();a=Ge.min()}const p=this.readVersions.get(i.key.toString());if(p){if(!a.isEqual(p))throw new Nr(wr.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(i.key.toString(),a)}precondition(i){const a=this.readVersions.get(i.toString());return!this.writtenDocs.has(i.toString())&&a?Vn.updateTime(a):Vn.none()}preconditionForUpdate(i){const a=this.readVersions.get(i.toString());if(!this.writtenDocs.has(i.toString())&&a){if(a.isEqual(Ge.min()))throw new Nr(wr.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return Vn.updateTime(a)}return Vn.exists(!0)}write(i){this.ensureCommitNotCalled(),this.mutations.push(i)}ensureCommitNotCalled(){}}class gm{constructor(i,a,p,y,b){this.asyncQueue=i,this.datastore=a,this.options=p,this.updateFunction=y,this.deferred=b,this.Dc=p.maxAttempts,this.So=new jx(this.asyncQueue,"transaction_retry")}run(){this.Dc-=1,this.Cc()}Cc(){var i=this;this.So.Io((0,C.Z)(function*(){const a=new pm(i.datastore),p=i.xc(a);p&&p.then(y=>{i.asyncQueue.enqueueAndForget(()=>a.commit().then(()=>{i.deferred.resolve(y)}).catch(b=>{i.Nc(b)}))}).catch(y=>{i.Nc(y)})}))}xc(i){try{const a=this.updateFunction(i);return!sf(a)&&a.catch&&a.then?a:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(a){return this.deferred.reject(a),null}}Nc(i){this.Dc>0&&this.kc(i)?(this.Dc-=1,this.asyncQueue.enqueueAndForget(()=>(this.Cc(),Promise.resolve()))):this.deferred.reject(i)}kc(i){if("FirebaseError"===i.name){const a=i.code;return"aborted"===a||"failed-precondition"===a||!Yl(a)}return!1}}class lg{constructor(i,a,p,y){var b=this;this.authCredentials=i,this.appCheckCredentials=a,this.asyncQueue=p,this.databaseInfo=y,this.user=da.UNAUTHENTICATED,this.clientId=Vh.I(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(p,function(){var M=(0,C.Z)(function*(ue){Qr("FirestoreClient","Received user=",ue.uid),yield b.authCredentialListener(ue),b.user=ue});return function(ue){return M.apply(this,arguments)}}()),this.appCheckCredentials.start(p,M=>(Qr("FirestoreClient","Received new app check token=",M),this.appCheckCredentialListener(M,this.user)))}getConfiguration(){var i=this;return(0,C.Z)(function*(){return{asyncQueue:i.asyncQueue,databaseInfo:i.databaseInfo,clientId:i.clientId,authCredentials:i.authCredentials,appCheckCredentials:i.appCheckCredentials,initialUser:i.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(i){this.authCredentialListener=i}setAppCheckTokenChangeListener(i){this.appCheckCredentialListener=i}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new Nr(wr.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var i=this;this.asyncQueue.enterRestrictedMode();const a=new vl;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,C.Z)(function*(){try{i.onlineComponents&&(yield i.onlineComponents.terminate()),i.offlineComponents&&(yield i.offlineComponents.terminate()),i.authCredentials.shutdown(),i.appCheckCredentials.shutdown(),a.resolve()}catch(p){const y=$p(p,"Failed to shutdown persistence");a.reject(y)}})),a.promise}}function Ud(u,i){return Qp.apply(this,arguments)}function Qp(){return Qp=(0,C.Z)(function*(u,i){u.asyncQueue.verifyOperationInProgress(),Qr("FirestoreClient","Initializing OfflineComponentProvider");const a=yield u.getConfiguration();yield i.initialize(a);let p=a.initialUser;u.setCredentialChangeListener(function(){var y=(0,C.Z)(function*(b){p.isEqual(b)||(yield Nd(i.localStore,b),p=b)});return function(b){return y.apply(this,arguments)}}()),i.persistence.setDatabaseDeletedListener(()=>u.terminate()),u.offlineComponents=i}),Qp.apply(this,arguments)}function sw(u,i){return e1.apply(this,arguments)}function e1(){return e1=(0,C.Z)(function*(u,i){u.asyncQueue.verifyOperationInProgress();const a=yield t1(u);Qr("FirestoreClient","Initializing OnlineComponentProvider");const p=yield u.getConfiguration();yield i.initialize(a,p),u.setCredentialChangeListener(y=>e_(i.remoteStore,y)),u.setAppCheckTokenChangeListener((y,b)=>e_(i.remoteStore,b)),u.onlineComponents=i}),e1.apply(this,arguments)}function t1(u){return mm.apply(this,arguments)}function mm(){return mm=(0,C.Z)(function*(u){return u.offlineComponents||(Qr("FirestoreClient","Using default OfflineComponentProvider"),yield Ud(u,new uh)),u.offlineComponents}),mm.apply(this,arguments)}function vm(u){return n1.apply(this,arguments)}function n1(){return n1=(0,C.Z)(function*(u){return u.onlineComponents||(Qr("FirestoreClient","Using default OnlineComponentProvider"),yield sw(u,new ld)),u.onlineComponents}),n1.apply(this,arguments)}function p_(u){return t1(u).then(i=>i.persistence)}function r1(u){return t1(u).then(i=>i.localStore)}function ow(u){return vm(u).then(i=>i.remoteStore)}function cg(u){return vm(u).then(i=>i.syncEngine)}function ug(u){return ym.apply(this,arguments)}function ym(){return ym=(0,C.Z)(function*(u){const i=yield vm(u),a=i.eventManager;return a.onListen=Qx.bind(null,i.syncEngine),a.onUnlisten=Pb.bind(null,i.syncEngine),a}),ym.apply(this,arguments)}function g_(u,i,a={}){const p=new vl;return u.asyncQueue.enqueueAndForget((0,C.Z)(function*(){return function(y,b,M,ue,Ye){const pt=new cp({next:Cn=>{b.enqueueAndForget(()=>r_(y,Wt));const fr=Cn.docs.has(M);!fr&&Cn.fromCache?Ye.reject(new Nr(wr.UNAVAILABLE,"Failed to get document because the client is offline.")):fr&&Cn.fromCache&&ue&&"server"===ue.source?Ye.reject(new Nr(wr.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):Ye.resolve(Cn)},error:Cn=>Ye.reject(Cn)}),Wt=new Ef(Yf(M.path),pt,{includeMetadataChanges:!0,Du:!0});return Vv(y,Wt)}(yield ug(u),u.asyncQueue,i,a,p)})),p.promise}function m_(u,i,a={}){const p=new vl;return u.asyncQueue.enqueueAndForget((0,C.Z)(function*(){return function(y,b,M,ue,Ye){const pt=new cp({next:Cn=>{b.enqueueAndForget(()=>r_(y,Wt)),Cn.fromCache&&"server"===ue.source?Ye.reject(new Nr(wr.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):Ye.resolve(Cn)},error:Cn=>Ye.reject(Cn)}),Wt=new Ef(M,pt,{includeMetadataChanges:!0,Du:!0});return Vv(y,Wt)}(yield ug(u),u.asyncQueue,i,a,p)})),p.promise}const s1=new Map;function xm(u,i,a){if(!a)throw new Nr(wr.INVALID_ARGUMENT,`Function ${u}() cannot be called with an empty ${i}.`)}function cw(u,i,a,p){if(!0===i&&!0===p)throw new Nr(wr.INVALID_ARGUMENT,`${u} and ${a} cannot be used together.`)}function zb(u){if(!rr.isDocumentKey(u))throw new Nr(wr.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${u} has ${u.length}.`)}function Wb(u){if(rr.isDocumentKey(u))throw new Nr(wr.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${u} has ${u.length}.`)}function v_(u){if(void 0===u)return"undefined";if(null===u)return"null";if("string"==typeof u)return u.length>20&&(u=`${u.substring(0,20)}...`),JSON.stringify(u);if("number"==typeof u||"boolean"==typeof u)return""+u;if("object"==typeof u){if(u instanceof Array)return"an array";{const i=(a=u).constructor?a.constructor.name:null;return i?`a custom ${i} object`:"an object"}}var a;return"function"==typeof u?"a function":bi()}function _o(u,i){if("_delegate"in u&&(u=u._delegate),!(u instanceof i)){if(i.name===u.constructor.name)throw new Nr(wr.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const a=v_(u);throw new Nr(wr.INVALID_ARGUMENT,`Expected type '${i.name}', but it was: ${a}`)}}return u}function uw(u,i){if(i<=0)throw new Nr(wr.INVALID_ARGUMENT,`Function ${u}() requires a positive number, but it was: ${i}.`)}class qb{constructor(i){var a;if(void 0===i.host){if(void 0!==i.ssl)throw new Nr(wr.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=i.host,this.ssl=null===(a=i.ssl)||void 0===a||a;if(this.credentials=i.credentials,this.ignoreUndefinedProperties=!!i.ignoreUndefinedProperties,void 0===i.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==i.cacheSizeBytes&&i.cacheSizeBytes<1048576)throw new Nr(wr.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=i.cacheSizeBytes}this.experimentalForceLongPolling=!!i.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!i.experimentalAutoDetectLongPolling,this.useFetchStreams=!!i.useFetchStreams,cw("experimentalForceLongPolling",i.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",i.experimentalAutoDetectLongPolling)}isEqual(i){return this.host===i.host&&this.ssl===i.ssl&&this.credentials===i.credentials&&this.cacheSizeBytes===i.cacheSizeBytes&&this.experimentalForceLongPolling===i.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===i.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===i.ignoreUndefinedProperties&&this.useFetchStreams===i.useFetchStreams}}class wm{constructor(i,a,p){this._authCredentials=a,this._appCheckCredentials=p,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new qb({}),this._settingsFrozen=!1,i instanceof Xu?this._databaseId=i:(this._app=i,this._databaseId=function(y){if(!Object.prototype.hasOwnProperty.apply(y.options,["projectId"]))throw new Nr(wr.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Xu(y.options.projectId)}(i))}get app(){if(!this._app)throw new Nr(wr.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(i){if(this._settingsFrozen)throw new Nr(wr.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new qb(i),void 0!==i.credentials&&(this._authCredentials=function(a){if(!a)return new vd;switch(a.type){case"gapi":const p=a.client;return os(!("object"!=typeof p||null===p||!p.auth||!p.auth.getAuthHeaderValueForFirstParty)),new $u(p,a.sessionIndex||"0",a.iamToken||null);case"provider":return a.client;default:throw new Nr(wr.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(i.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(i){const a=s1.get(i);a&&(Qr("ComponentProvider","Removing Datastore"),s1.delete(i),a.terminate())}(this),Promise.resolve()}}function hg(u,i,a,p={}){var y;const b=(u=_o(u,wm))._getSettings();if("firestore.googleapis.com"!==b.host&&b.host!==i&&Bh("Host has been set in both settings() and useEmulator(), emulator host will be used"),u._setSettings(Object.assign(Object.assign({},b),{host:`${i}:${a}`,ssl:!1})),p.mockUserToken){let M,ue;if("string"==typeof p.mockUserToken)M=p.mockUserToken,ue=da.MOCK_USER;else{M=(0,Ne.Sg)(p.mockUserToken,null===(y=u._app)||void 0===y?void 0:y.options.projectId);const Ye=p.mockUserToken.sub||p.mockUserToken.user_id;if(!Ye)throw new Nr(wr.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");ue=new da(Ye)}u._authCredentials=new yd(new Eu(M,ue))}}class Cl{constructor(i,a,p){this.converter=a,this._key=p,this.type="document",this.firestore=i}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Bd(this.firestore,this.converter,this._key.path.popLast())}withConverter(i){return new Cl(this.firestore,i,this._key)}}class zc{constructor(i,a,p){this.converter=a,this._query=p,this.type="query",this.firestore=i}withConverter(i){return new zc(this.firestore,i,this._query)}}class Bd extends zc{constructor(i,a,p){super(i,a,Yf(p)),this._path=p,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const i=this._path.popLast();return i.isEmpty()?null:new Cl(this.firestore,null,new rr(i))}withConverter(i){return new Bd(this.firestore,i,this._path)}}function hw(u,i,...a){if(u=(0,Ne.m9)(u),xm("collection","path",i),u instanceof wm){const p=Zt.fromString(i,...a);return Wb(p),new Bd(u,null,p)}{if(!(u instanceof Cl||u instanceof Bd))throw new Nr(wr.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const p=u._path.child(Zt.fromString(i,...a));return Wb(p),new Bd(u.firestore,null,p)}}function o1(u,i){if(u=_o(u,wm),xm("collectionGroup","collection id",i),i.indexOf("/")>=0)throw new Nr(wr.INVALID_ARGUMENT,`Invalid collection ID '${i}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new zc(u,null,(a=i,new nh(Zt.emptyPath(),a)));var a}function dw(u,i,...a){if(u=(0,Ne.m9)(u),1===arguments.length&&(i=Vh.I()),xm("doc","path",i),u instanceof wm){const p=Zt.fromString(i,...a);return zb(p),new Cl(u,null,new rr(p))}{if(!(u instanceof Cl||u instanceof Bd))throw new Nr(wr.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const p=u._path.child(Zt.fromString(i,...a));return zb(p),new Cl(u.firestore,u instanceof Bd?u.converter:null,new rr(p))}}function fw(u,i){return u=(0,Ne.m9)(u),i=(0,Ne.m9)(i),(u instanceof Cl||u instanceof Bd)&&(i instanceof Cl||i instanceof Bd)&&u.firestore===i.firestore&&u.path===i.path&&u.converter===i.converter}function y_(u,i){return u=(0,Ne.m9)(u),i=(0,Ne.m9)(i),u instanceof zc&&i instanceof zc&&u.firestore===i.firestore&&Gh(u._query,i._query)&&u.converter===i.converter}class __{constructor(){this.Oc=Promise.resolve(),this.Mc=[],this.Fc=!1,this.$c=[],this.Bc=null,this.Lc=!1,this.Uc=!1,this.qc=[],this.So=new jx(this,"async_queue_retry"),this.Kc=()=>{const a=zy();a&&Qr("AsyncQueue","Visibility state changed to "+a.visibilityState),this.So.Eo()};const i=zy();i&&"function"==typeof i.addEventListener&&i.addEventListener("visibilitychange",this.Kc)}get isShuttingDown(){return this.Fc}enqueueAndForget(i){this.enqueue(i)}enqueueAndForgetEvenWhileRestricted(i){this.Gc(),this.Qc(i)}enterRestrictedMode(i){if(!this.Fc){this.Fc=!0,this.Uc=i||!1;const a=zy();a&&"function"==typeof a.removeEventListener&&a.removeEventListener("visibilitychange",this.Kc)}}enqueue(i){if(this.Gc(),this.Fc)return new Promise(()=>{});const a=new vl;return this.Qc(()=>this.Fc&&this.Uc?Promise.resolve():(i().then(a.resolve,a.reject),a.promise)).then(()=>a.promise)}enqueueRetryable(i){this.enqueueAndForget(()=>(this.Mc.push(i),this.jc()))}jc(){var i=this;return(0,C.Z)(function*(){if(0!==i.Mc.length){try{yield i.Mc[0](),i.Mc.shift(),i.So.reset()}catch(a){if(!Pc(a))throw a;Qr("AsyncQueue","Operation failed with retryable error: "+a)}i.Mc.length>0&&i.So.Io(()=>i.jc())}})()}Qc(i){const a=this.Oc.then(()=>(this.Lc=!0,i().catch(p=>{throw this.Bc=p,this.Lc=!1,Pa("INTERNAL UNHANDLED ERROR: ",function(b){let M=b.message||"";return b.stack&&(M=b.stack.includes(b.message)?b.stack:b.message+"\n"+b.stack),M}(p)),p}).then(p=>(this.Lc=!1,p))));return this.Oc=a,a}enqueueAfterDelay(i,a,p){this.Gc(),this.qc.indexOf(i)>-1&&(a=0);const y=am.createAndSchedule(this,i,a,p,b=>this.Wc(b));return this.$c.push(y),y}Gc(){this.Bc&&bi()}verifyOperationInProgress(){}zc(){var i=this;return(0,C.Z)(function*(){let a;do{a=i.Oc,yield a}while(a!==i.Oc)})()}Hc(i){for(const a of this.$c)if(a.timerId===i)return!0;return!1}Jc(i){return this.zc().then(()=>{this.$c.sort((a,p)=>a.targetTimeMs-p.targetTimeMs);for(const a of this.$c)if(a.skipDelay(),"all"!==i&&a.timerId===i)break;return this.zc()})}Yc(i){this.qc.push(i)}Wc(i){const a=this.$c.indexOf(i);this.$c.splice(a,1)}}function x_(u){return function(i,a){if("object"!=typeof i||null===i)return!1;const p=i;for(const y of["next","error","complete"])if(y in p&&"function"==typeof p[y])return!0;return!1}(u)}class Gb{constructor(){this._progressObserver={},this._taskCompletionResolver=new vl,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(i,a,p){this._progressObserver={next:i,error:a,complete:p}}catch(i){return this._taskCompletionResolver.promise.catch(i)}then(i,a){return this._taskCompletionResolver.promise.then(i,a)}_completeWith(i){this._updateProgress(i),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(i)}_failWith(i){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(i),this._taskCompletionResolver.reject(i)}_updateProgress(i){this._lastProgress=i,this._progressObserver.next&&this._progressObserver.next(i)}}const Zb=-1;class Ra extends wm{constructor(i,a,p){super(i,a,p),this.type="firestore",this._queue=new __,this._persistenceKey="name"in i?i.name:"[DEFAULT]"}_terminate(){return this._firestoreClient||a1(this),this._firestoreClient.terminate()}}function pw(u=(0,h.getApp)()){return(0,h._getProvider)(u,"firestore").getImmediate()}function Bl(u){return u._firestoreClient||a1(u),u._firestoreClient.verifyNotTerminated(),u._firestoreClient}function a1(u){var i;const a=u._freezeSettings(),p=(b=(null===(i=u._app)||void 0===i?void 0:i.options.appId)||"",new Fg(u._databaseId,b,u._persistenceKey,(ue=a).host,ue.ssl,ue.experimentalForceLongPolling,ue.experimentalAutoDetectLongPolling,ue.useFetchStreams));var b,ue;u._firestoreClient=new lg(u._authCredentials,u._appCheckCredentials,u._queue,p)}function OC(u,i){dg(u=_o(u,Ra));const a=Bl(u),p=u._freezeSettings(),y=new ld;return gw(a,y,new dm(y,p.cacheSizeBytes,null==i?void 0:i.forceOwnership))}function w_(u){dg(u=_o(u,Ra));const i=Bl(u),a=u._freezeSettings(),p=new ld;return gw(i,p,new Ld(p,a.cacheSizeBytes))}function gw(u,i,a){const p=new vl;return u.asyncQueue.enqueue((0,C.Z)(function*(){try{yield Ud(u,a),yield sw(u,i),p.resolve()}catch(y){const b=y;if(!("FirebaseError"===(M=b).name?M.code===wr.FAILED_PRECONDITION||M.code===wr.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&M instanceof DOMException)||22===M.code||20===M.code||11===M.code))throw b;console.warn("Error enabling offline persistence. Falling back to persistence disabled: "+b),p.reject(b)}var M})).then(()=>p.promise)}function FC(u){if(u._initialized&&!u._terminated)throw new Nr(wr.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const i=new vl;return u._queue.enqueueAndForgetEvenWhileRestricted((0,C.Z)(function*(){try{yield(a=(0,C.Z)(function*(p){if(!Tu.V())return Promise.resolve();const y=p+"main";yield Tu.delete(y)}),function(p){return a.apply(this,arguments)})(Sv(u._databaseId,u._persistenceKey)),i.resolve()}catch(a){i.reject(a)}var a})),i.promise}function bm(u){return function(i){const a=new vl;return i.asyncQueue.enqueueAndForget((0,C.Z)(function*(){return function rw(u,i){return $v.apply(this,arguments)}(yield cg(i),a)})),a.promise}(Bl(u=_o(u,Ra)))}function mw(u){return function aw(u){return u.asyncQueue.enqueue((0,C.Z)(function*(){const i=yield p_(u),a=yield ow(u);return i.setNetworkEnabled(!0),function(p){const y=ui(p);return y.lu.delete(0),Q0(y)}(a)}))}(Bl(u=_o(u,Ra)))}function b_(u){return function lw(u){return u.asyncQueue.enqueue((0,C.Z)(function*(){const i=yield p_(u),a=yield ow(u);return i.setNetworkEnabled(!1),(p=(0,C.Z)(function*(y){const b=ui(y);b.lu.add(0),yield op(b),b._u.set("Offline")}),function(y){return p.apply(this,arguments)})(a);var p}))}(Bl(u=_o(u,Ra)))}function $b(u,i){const a=Bl(u=_o(u,Ra)),p=new Gb;return function NC(u,i,a,p){const y=function(b,M){let ue;return ue="string"==typeof b?(new TextEncoder).encode(b):b,Ye=function(Ye,pt){if(Ye instanceof Uint8Array)return Jp(Ye,void 0);if(Ye instanceof ArrayBuffer)return Jp(new Uint8Array(Ye),void 0);if(Ye instanceof ReadableStream)return Ye.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(ue),new fm(Ye,M);var Ye}(a,Gp(i));u.asyncQueue.enqueueAndForget((0,C.Z)(function*(){!function ad(u,i,a){const p=ui(u);var y;(y=(0,C.Z)(function*(b,M,ue){try{const Ye=yield M.getMetadata();if(yield function(fr,Br){const Jr=ui(fr),Fi=Po(Br.createTime);return Jr.persistence.runTransaction("hasNewerBundle","readonly",Qi=>Jr.Ds.getBundleMetadata(Qi,Br.id)).then(Qi=>!!Qi&&Qi.createTime.compareTo(Fi)>=0)}(b.localStore,Ye))return yield M.close(),ue._completeWith({taskState:"Success",documentsLoaded:(fr=Ye).totalDocuments,bytesLoaded:fr.totalBytes,totalDocuments:fr.totalDocuments,totalBytes:fr.totalBytes}),Promise.resolve(new Set);ue._updateProgress(sg(Ye));const pt=new Kp(Ye,b.localStore,M.wt);let Wt=yield M.fc();for(;Wt;){const fr=yield pt.Nu(Wt);fr&&ue._updateProgress(fr),Wt=yield M.fc()}const Cn=yield pt.complete();return yield Tf(b,Cn.Mu,void 0),yield function(fr,Br){const Jr=ui(fr);return Jr.persistence.runTransaction("Save bundle","readwrite",Fi=>Jr.Ds.saveBundleMetadata(Fi,Br))}(b.localStore,Ye),ue._completeWith(Cn.progress),Promise.resolve(Cn.Ou)}catch(Ye){return Bh("SyncEngine",`Loading bundle failed with ${Ye}`),ue._failWith(Ye),Promise.resolve(new Set)}var fr}),function(b,M,ue){return y.apply(this,arguments)})(p,i,a).then(y=>{p.sharedClientState.notifyBundleLoaded(y)})}(yield cg(u),y,p)}))}(a,u._databaseId,i,p),p}function l1(u,i){return function Hb(u,i){return u.asyncQueue.enqueue((0,C.Z)(function*(){return function(a,p){const y=ui(a);return y.persistence.runTransaction("Get named query","readonly",b=>y.Ds.getNamedQuery(b,p))}(yield r1(u),i)}))}(Bl(u=_o(u,Ra)),i).then(a=>a?new zc(u,null,a.query):null)}function dg(u){if(u._initialized||u._terminated)throw new Nr(wr.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}class jd{constructor(...i){for(let a=0;a<i.length;++a)if(0===i[a].length)throw new Nr(wr.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new ar(i)}isEqual(i){return this._internalPath.isEqual(i._internalPath)}}class up{constructor(i){this._byteString=i}static fromBase64String(i){try{return new up(al.fromBase64String(i))}catch(a){throw new Nr(wr.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+a)}}static fromUint8Array(i){return new up(al.fromUint8Array(i))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(i){return this._byteString.isEqual(i._byteString)}}class hp{constructor(i){this._methodName=i}}class fg{constructor(i,a){if(!isFinite(i)||i<-90||i>90)throw new Nr(wr.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+i);if(!isFinite(a)||a<-180||a>180)throw new Nr(wr.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+a);this._lat=i,this._long=a}get latitude(){return this._lat}get longitude(){return this._long}isEqual(i){return this._lat===i._lat&&this._long===i._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(i){return ie(this._lat,i._lat)||ie(this._long,i._long)}}const yw=/^__.*__$/;class e0{constructor(i,a,p){this.data=i,this.fieldMask=a,this.fieldTransforms=p}toMutation(i,a){return null!==this.fieldMask?new na(i,this.data,this.fieldMask,a,this.fieldTransforms):new ih(i,this.data,a,this.fieldTransforms)}}class Em{constructor(i,a,p){this.data=i,this.fieldMask=a,this.fieldTransforms=p}toMutation(i,a){return new na(i,this.data,this.fieldMask,a,this.fieldTransforms)}}function c1(u){switch(u){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw bi()}}class Tm{constructor(i,a,p,y,b,M){this.settings=i,this.databaseId=a,this.wt=p,this.ignoreUndefinedProperties=y,void 0===b&&this.Xc(),this.fieldTransforms=b||[],this.fieldMask=M||[]}get path(){return this.settings.path}get Zc(){return this.settings.Zc}ta(i){return new Tm(Object.assign(Object.assign({},this.settings),i),this.databaseId,this.wt,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}ea(i){var a;const p=null===(a=this.path)||void 0===a?void 0:a.child(i),y=this.ta({path:p,na:!1});return y.sa(i),y}ia(i){var a;const p=null===(a=this.path)||void 0===a?void 0:a.child(i),y=this.ta({path:p,na:!1});return y.Xc(),y}ra(i){return this.ta({path:void 0,na:!0})}oa(i){return Vd(i,this.settings.methodName,this.settings.ua||!1,this.path,this.settings.ca)}contains(i){return void 0!==this.fieldMask.find(a=>i.isPrefixOf(a))||void 0!==this.fieldTransforms.find(a=>i.isPrefixOf(a.field))}Xc(){if(this.path)for(let i=0;i<this.path.length;i++)this.sa(this.path.get(i))}sa(i){if(0===i.length)throw this.oa("Document fields must not be empty");if(c1(this.Zc)&&yw.test(i))throw this.oa('Document fields cannot begin and end with "__"')}}class u1{constructor(i,a,p){this.databaseId=i,this.ignoreUndefinedProperties=a,this.wt=p||Gp(i)}aa(i,a,p,y=!1){return new Tm({Zc:i,methodName:a,ca:p,path:ar.emptyPath(),na:!1,ua:y},this.databaseId,this.wt,this.ignoreUndefinedProperties)}}function dp(u){const i=u._freezeSettings(),a=Gp(u._databaseId);return new u1(u._databaseId,!!i.ignoreUndefinedProperties,a)}function h1(u,i,a,p,y,b={}){const M=u.aa(b.merge||b.mergeFields?2:0,i,a,y);p1("Data must be an object, but it was:",M,p);const ue=C_(p,M);let Ye,pt;if(b.merge)Ye=new xl(M.fieldMask),pt=M.fieldTransforms;else if(b.mergeFields){const Wt=[];for(const Cn of b.mergeFields){const fr=g1(i,Cn,a);if(!M.contains(fr))throw new Nr(wr.INVALID_ARGUMENT,`Field '${fr}' is specified in your field mask but missing from your input data.`);S_(Wt,fr)||Wt.push(fr)}Ye=new xl(Wt),pt=M.fieldTransforms.filter(Cn=>Ye.covers(Cn.field))}else Ye=null,pt=M.fieldTransforms;return new e0(new Ya(ue),Ye,pt)}class pg extends hp{_toFieldTransform(i){if(2!==i.Zc)throw i.oa(1===i.Zc?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return i.fieldMask.push(i.path),null}isEqual(i){return i instanceof pg}}function E_(u,i,a){return new Tm({Zc:3,ca:i.settings.ca,methodName:u._methodName,na:a},i.databaseId,i.wt,i.ignoreUndefinedProperties)}class Cm extends hp{_toFieldTransform(i){return new le(i.path,new Zh)}isEqual(i){return i instanceof Cm}}class _w extends hp{constructor(i,a){super(i),this.ha=a}_toFieldTransform(i){const a=E_(this,i,!0),p=this.ha.map(b=>fp(b,a)),y=new Ed(p);return new le(i.path,y)}isEqual(i){return this===i}}class Yb extends hp{constructor(i,a){super(i),this.ha=a}_toFieldTransform(i){const a=E_(this,i,!0),p=this.ha.map(b=>fp(b,a)),y=new Td(p);return new le(i.path,y)}isEqual(i){return this===i}}class Kb extends hp{constructor(i,a){super(i),this.la=a}_toFieldTransform(i){const a=new q(i.wt,Bg(i.wt,this.la));return new le(i.path,a)}isEqual(i){return this===i}}function T_(u,i,a,p){const y=u.aa(1,i,a);p1("Data must be an object, but it was:",y,p);const b=[],M=Ya.empty();qi(p,(Ye,pt)=>{const Wt=Am(i,Ye,a);pt=(0,Ne.m9)(pt);const Cn=y.ia(Wt);if(pt instanceof pg)b.push(Wt);else{const fr=fp(pt,Cn);null!=fr&&(b.push(Wt),M.set(Wt,fr))}});const ue=new xl(b);return new Em(M,ue,y.fieldTransforms)}function Sm(u,i,a,p,y,b){const M=u.aa(1,i,a),ue=[g1(i,p,a)],Ye=[y];if(b.length%2!=0)throw new Nr(wr.INVALID_ARGUMENT,`Function ${i}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let fr=0;fr<b.length;fr+=2)ue.push(g1(i,b[fr])),Ye.push(b[fr+1]);const pt=[],Wt=Ya.empty();for(let fr=ue.length-1;fr>=0;--fr)if(!S_(pt,ue[fr])){const Br=ue[fr];let Jr=Ye[fr];Jr=(0,Ne.m9)(Jr);const Fi=M.ia(Br);if(Jr instanceof pg)pt.push(Br);else{const Qi=fp(Jr,Fi);null!=Qi&&(pt.push(Br),Wt.set(Br,Qi))}}const Cn=new xl(pt);return new Em(Wt,Cn,M.fieldTransforms)}function d1(u,i,a,p=!1){return fp(a,u.aa(p?4:3,i))}function fp(u,i){if(f1(u=(0,Ne.m9)(u)))return p1("Unsupported field value:",i,u),C_(u,i);if(u instanceof hp)return function(a,p){if(!c1(p.Zc))throw p.oa(`${a._methodName}() can only be used with update() and set()`);if(!p.path)throw p.oa(`${a._methodName}() is not currently supported inside arrays`);const y=a._toFieldTransform(p);y&&p.fieldTransforms.push(y)}(u,i),null;if(void 0===u&&i.ignoreUndefinedProperties)return null;if(i.path&&i.fieldMask.push(i.path),u instanceof Array){if(i.settings.na&&4!==i.Zc)throw i.oa("Nested arrays are not supported");return function(a,p){const y=[];let b=0;for(const M of a){let ue=fp(M,p.ra(b));null==ue&&(ue={nullValue:"NULL_VALUE"}),y.push(ue),b++}return{arrayValue:{values:y}}}(u,i)}return function(a,p){if(null===(a=(0,Ne.m9)(a)))return{nullValue:"NULL_VALUE"};if("number"==typeof a)return Bg(p.wt,a);if("boolean"==typeof a)return{booleanValue:a};if("string"==typeof a)return{stringValue:a};if(a instanceof Date){const y=Ae.fromDate(a);return{timestampValue:Sd(p.wt,y)}}if(a instanceof Ae){const y=new Ae(a.seconds,1e3*Math.floor(a.nanoseconds/1e3));return{timestampValue:Sd(p.wt,y)}}if(a instanceof fg)return{geoPointValue:{latitude:a.latitude,longitude:a.longitude}};if(a instanceof up)return{bytesValue:my(p.wt,a._byteString)};if(a instanceof Cl){const y=p.databaseId,b=a.firestore._databaseId;if(!b.isEqual(y))throw p.oa(`Document reference is for database ${b.projectId}/${b.database} but should be for database ${y.projectId}/${y.database}`);return{referenceValue:Tl(a.firestore._databaseId||p.databaseId,a._key.path)}}throw p.oa(`Unsupported field value: ${v_(a)}`)}(u,i)}function C_(u,i){const a={};return jc(u)?i.path&&i.path.length>0&&i.fieldMask.push(i.path):qi(u,(p,y)=>{const b=fp(y,i.ea(p));null!=b&&(a[p]=b)}),{mapValue:{fields:a}}}function f1(u){return!("object"!=typeof u||null===u||u instanceof Array||u instanceof Date||u instanceof Ae||u instanceof fg||u instanceof up||u instanceof Cl||u instanceof hp)}function p1(u,i,a){if(!f1(a)||"object"!=typeof(p=a)||null===p||Object.getPrototypeOf(p)!==Object.prototype&&null!==Object.getPrototypeOf(p)){const p=v_(a);throw i.oa("an object"===p?u+" a custom object":u+" "+p)}var p}function g1(u,i,a){if((i=(0,Ne.m9)(i))instanceof jd)return i._internalPath;if("string"==typeof i)return Am(u,i);throw Vd("Field path arguments must be of type string or ",u,!1,void 0,a)}const xw=new RegExp("[~\\*/\\[\\]]");function Am(u,i,a){if(i.search(xw)>=0)throw Vd(`Invalid field path (${i}). Paths must not contain '~', '*', '/', '[', or ']'`,u,!1,void 0,a);try{return new jd(...i.split("."))._internalPath}catch(p){throw Vd(`Invalid field path (${i}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,u,!1,void 0,a)}}function Vd(u,i,a,p,y){const b=p&&!p.isEmpty(),M=void 0!==y;let ue=`Function ${i}() called with invalid data`;a&&(ue+=" (via `toFirestore()`)"),ue+=". ";let Ye="";return(b||M)&&(Ye+=" (found",b&&(Ye+=` in field ${p}`),M&&(Ye+=` in document ${y}`),Ye+=")"),new Nr(wr.INVALID_ARGUMENT,ue+u+Ye)}function S_(u,i){return u.some(a=>a.isEqual(i))}class t0{constructor(i,a,p,y,b){this._firestore=i,this._userDataWriter=a,this._key=p,this._document=y,this._converter=b}get id(){return this._key.path.lastSegment()}get ref(){return new Cl(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const i=new ww(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(i)}return this._userDataWriter.convertValue(this._document.data.value)}}get(i){if(this._document){const a=this._document.data.field(m1("DocumentSnapshot.get",i));if(null!==a)return this._userDataWriter.convertValue(a)}}}class ww extends t0{data(){return super.data()}}function m1(u,i){return"string"==typeof i?Am(u,i):i instanceof jd?i._internalPath:i._delegate._internalPath}class n0{constructor(i,a){this.hasPendingWrites=i,this.fromCache=a}isEqual(i){return this.hasPendingWrites===i.hasPendingWrites&&this.fromCache===i.fromCache}}class Xa extends t0{constructor(i,a,p,y,b,M){super(i,a,p,y,M),this._firestore=i,this._firestoreImpl=i,this.metadata=b}exists(){return super.exists()}data(i={}){if(this._document){if(this._converter){const a=new La(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(a,i)}return this._userDataWriter.convertValue(this._document.data.value,i.serverTimestamps)}}get(i,a={}){if(this._document){const p=this._document.data.field(m1("DocumentSnapshot.get",i));if(null!==p)return this._userDataWriter.convertValue(p,a.serverTimestamps)}}}class La extends Xa{data(i={}){return super.data(i)}}class Ou{constructor(i,a,p,y){this._firestore=i,this._userDataWriter=a,this._snapshot=y,this.metadata=new n0(y.hasPendingWrites,y.fromCache),this.query=p}get docs(){const i=[];return this.forEach(a=>i.push(a)),i}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(i,a){this._snapshot.docs.forEach(p=>{i.call(a,new La(this._firestore,this._userDataWriter,p.key,p,new n0(this._snapshot.mutatedKeys.has(p.key),this._snapshot.fromCache),this.query.converter))})}docChanges(i={}){const a=!!i.includeMetadataChanges;if(a&&this._snapshot.excludesMetadataChanges)throw new Nr(wr.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===a||(this._cachedChanges=function(p,y){if(p._snapshot.oldDocs.isEmpty()){let b=0;return p._snapshot.docChanges.map(M=>({type:"added",doc:new La(p._firestore,p._userDataWriter,M.doc.key,M.doc,new n0(p._snapshot.mutatedKeys.has(M.doc.key),p._snapshot.fromCache),p.query.converter),oldIndex:-1,newIndex:b++}))}{let b=p._snapshot.oldDocs;return p._snapshot.docChanges.filter(M=>y||3!==M.type).map(M=>{const ue=new La(p._firestore,p._userDataWriter,M.doc.key,M.doc,new n0(p._snapshot.mutatedKeys.has(M.doc.key),p._snapshot.fromCache),p.query.converter);let Ye=-1,pt=-1;return 0!==M.type&&(Ye=b.indexOf(M.doc.key),b=b.delete(M.doc.key)),1!==M.type&&(b=b.add(M.doc),pt=b.indexOf(M.doc.key)),{type:bw(M.type),doc:ue,oldIndex:Ye,newIndex:pt}})}}(this,a),this._cachedChangesIncludeMetadataChanges=a),this._cachedChanges}}function bw(u){switch(u){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return bi()}}function A_(u,i){return u instanceof Xa&&i instanceof Xa?u._firestore===i._firestore&&u._key.isEqual(i._key)&&(null===u._document?null===i._document:u._document.isEqual(i._document))&&u._converter===i._converter:u instanceof Ou&&i instanceof Ou&&u._firestore===i._firestore&&y_(u.query,i.query)&&u.metadata.isEqual(i.metadata)&&u._snapshot.isEqual(i._snapshot)}function Ew(u){if("L"===u.limitType&&0===u.explicitOrderBy.length)throw new Nr(wr.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class r0{}function Tw(u,...i){for(const a of i)u=a._apply(u);return u}class gg extends r0{constructor(i,a,p){super(),this.fa=i,this.da=a,this._a=p,this.type="where"}_apply(i){const a=dp(i.firestore),p=function(y,b,M,ue,Ye,pt,Wt){let Cn;if(Ye.isKeyField()){if("array-contains"===pt||"array-contains-any"===pt)throw new Nr(wr.INVALID_ARGUMENT,`Invalid Query. You can't perform '${pt}' queries on documentId().`);if("in"===pt||"not-in"===pt){y1(Wt,pt);const Br=[];for(const Jr of Wt)Br.push(Sh(ue,y,Jr));Cn={arrayValue:{values:Br}}}else Cn=Sh(ue,y,Wt)}else"in"!==pt&&"not-in"!==pt&&"array-contains-any"!==pt||y1(Wt,pt),Cn=d1(M,"where",Wt,"in"===pt||"not-in"===pt);const fr=ds.create(Ye,pt,Cn);return function(Br,Jr){if(Jr.ht()){const Qi=uf(Br);if(null!==Qi&&!Qi.isEqual(Jr.field))throw new Nr(wr.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${Qi.toString()}' and '${Jr.field.toString()}'`);const Uo=P0(Br);null!==Uo&&D_(0,Jr.field,Uo)}const Fi=function(Qi,Uo){for(const Ua of Qi.filters)if(Uo.indexOf(Ua.op)>=0)return Ua.op;return null}(Br,function(Qi){switch(Qi){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(Jr.op));if(null!==Fi)throw new Nr(wr.INVALID_ARGUMENT,Fi===Jr.op?`Invalid query. You cannot use more than one '${Jr.op.toString()}' filter.`:`Invalid query. You cannot use '${Jr.op.toString()}' filters with '${Fi.toString()}' filters.`)}(y,fr),fr}(i._query,0,a,i.firestore._databaseId,this.fa,this.da,this._a);return new zc(i.firestore,i.converter,function(y,b){const M=y.filters.concat([b]);return new nh(y.path,y.collectionGroup,y.explicitOrderBy.slice(),M,y.limit,y.limitType,y.startAt,y.endAt)}(i._query,p))}}function Xb(u,i,a){const p=i,y=m1("where",u);return new gg(y,p,a)}class Jb extends r0{constructor(i,a){super(),this.fa=i,this.wa=a,this.type="orderBy"}_apply(i){const a=function(p,y,b){if(null!==p.startAt)throw new Nr(wr.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==p.endAt)throw new Nr(wr.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");const M=new cf(y,b);return function(ue,Ye){if(null===P0(ue)){const pt=uf(ue);null!==pt&&D_(0,pt,Ye.field)}}(p,M),M}(i._query,this.fa,this.wa);return new zc(i.firestore,i.converter,function(p,y){const b=p.explicitOrderBy.concat([y]);return new nh(p.path,p.collectionGroup,b,p.filters.slice(),p.limit,p.limitType,p.startAt,p.endAt)}(i._query,a))}}function Cw(u,i="asc"){const a=i,p=m1("orderBy",u);return new Jb(p,a)}class Sw extends r0{constructor(i,a,p){super(),this.type=i,this.ma=a,this.ga=p}_apply(i){return new zc(i.firestore,i.converter,hi(i._query,this.ma,this.ga))}}function Aw(u){return uw("limit",u),new Sw("limit",u,"F")}function RC(u){return uw("limitToLast",u),new Sw("limitToLast",u,"L")}class v1 extends r0{constructor(i,a,p){super(),this.type=i,this.ya=a,this.pa=p}_apply(i){const a=Ch(i,this.type,this.ya,this.pa);return new zc(i.firestore,i.converter,(y=a,new nh((p=i._query).path,p.collectionGroup,p.explicitOrderBy.slice(),p.filters.slice(),p.limit,p.limitType,y,p.endAt)));var p,y}}function I_(...u){return new v1("startAt",u,!0)}function cd(...u){return new v1("startAfter",u,!1)}class Iw extends r0{constructor(i,a,p){super(),this.type=i,this.ya=a,this.pa=p}_apply(i){const a=Ch(i,this.type,this.ya,this.pa);return new zc(i.firestore,i.converter,(y=a,new nh((p=i._query).path,p.collectionGroup,p.explicitOrderBy.slice(),p.filters.slice(),p.limit,p.limitType,p.startAt,y)));var p,y}}function Qb(...u){return new Iw("endBefore",u,!1)}function Hd(...u){return new Iw("endAt",u,!0)}function Ch(u,i,a,p){if(a[0]=(0,Ne.m9)(a[0]),a[0]instanceof t0)return function(y,b,M,ue,Ye){if(!ue)throw new Nr(wr.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${M}().`);const pt=[];for(const Wt of Oa(y))if(Wt.field.isKeyField())pt.push(Rl(b,ue.key));else{const Cn=ue.data.field(Wt.field);if(pc(Cn))throw new Nr(wr.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+Wt.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===Cn){const fr=Wt.field.canonicalString();throw new Nr(wr.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${fr}' (used as the orderBy) does not exist.`)}pt.push(Cn)}return new th(pt,Ye)}(u._query,u.firestore._databaseId,i,a[0]._document,p);{const y=dp(u.firestore);return function(b,M,ue,Ye,pt,Wt){const Cn=b.explicitOrderBy;if(pt.length>Cn.length)throw new Nr(wr.INVALID_ARGUMENT,`Too many arguments provided to ${Ye}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const fr=[];for(let Br=0;Br<pt.length;Br++){const Jr=pt[Br];if(Cn[Br].field.isKeyField()){if("string"!=typeof Jr)throw new Nr(wr.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${Ye}(), but got a ${typeof Jr}`);if(!Kf(b)&&-1!==Jr.indexOf("/"))throw new Nr(wr.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${Ye}() must be a plain document ID, but '${Jr}' contains a slash.`);const Fi=b.path.child(Zt.fromString(Jr));if(!rr.isDocumentKey(Fi))throw new Nr(wr.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${Ye}() must result in a valid document path, but '${Fi}' is not because it contains an odd number of segments.`);const Qi=new rr(Fi);fr.push(Rl(M,Qi))}else{const Fi=d1(ue,Ye,Jr);fr.push(Fi)}}return new th(fr,Wt)}(u._query,u.firestore._databaseId,y,i,a,p)}}function Sh(u,i,a){if("string"==typeof(a=(0,Ne.m9)(a))){if(""===a)throw new Nr(wr.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!Kf(i)&&-1!==a.indexOf("/"))throw new Nr(wr.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${a}' contains a '/' character.`);const p=i.path.child(Zt.fromString(a));if(!rr.isDocumentKey(p))throw new Nr(wr.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${p}' is not because it has an odd number of segments (${p.length}).`);return Rl(u,new rr(p))}if(a instanceof Cl)return Rl(u,a._key);throw new Nr(wr.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${v_(a)}.`)}function y1(u,i){if(!Array.isArray(u)||0===u.length)throw new Nr(wr.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${i.toString()}' filters.`);if(u.length>10)throw new Nr(wr.INVALID_ARGUMENT,`Invalid Query. '${i.toString()}' filters support a maximum of 10 elements in the value array.`)}function D_(u,i,a){if(!a.isEqual(i))throw new Nr(wr.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${i.toString()}' and so you must also use '${i.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${a.toString()}' instead.`)}const eE={maxAttempts:5};class k_{convertValue(i,a="none"){switch($a(i)){case 0:return null;case 1:return i.booleanValue;case 2:return Za(i.integerValue||i.doubleValue);case 3:return this.convertTimestamp(i.timestampValue);case 4:return this.convertServerTimestamp(i,a);case 5:return i.stringValue;case 6:return this.convertBytes(xh(i.bytesValue));case 7:return this.convertReference(i.referenceValue);case 8:return this.convertGeoPoint(i.geoPointValue);case 9:return this.convertArray(i.arrayValue,a);case 10:return this.convertObject(i.mapValue,a);default:throw bi()}}convertObject(i,a){const p={};return qi(i.fields,(y,b)=>{p[y]=this.convertValue(b,a)}),p}convertGeoPoint(i){return new fg(Za(i.latitude),Za(i.longitude))}convertArray(i,a){return(i.values||[]).map(p=>this.convertValue(p,a))}convertServerTimestamp(i,a){switch(a){case"previous":const p=Vf(i);return null==p?null:this.convertValue(p,a);case"estimate":return this.convertTimestamp(wh(i));default:return null}}convertTimestamp(i){const a=xa(i);return new Ae(a.seconds,a.nanos)}convertDocumentKey(i,a){const p=Zt.fromString(i);os(ku(p));const y=new Xu(p.get(1),p.get(3)),b=new rr(p.popFirst(5));return y.isEqual(a)||Pa(`Document ${b} contains a document reference within a different database (${y.projectId}/${y.database}) which is not supported. It will be treated as a reference in the current database (${a.projectId}/${a.database}) instead.`),b}}function _1(u,i,a){let p;return p=u?a&&(a.merge||a.mergeFields)?u.toFirestore(i,a):u.toFirestore(i):i,p}class tE extends k_{constructor(i){super(),this.firestore=i}convertBytes(i){return new up(i)}convertReference(i){const a=this.convertDocumentKey(i,this.firestore._databaseId);return new Cl(this.firestore,null,a)}}class x1{constructor(i,a){this._firestore=i,this._commitHandler=a,this._mutations=[],this._committed=!1,this._dataReader=dp(i)}set(i,a,p){this._verifyNotCommitted();const y=Ah(i,this._firestore),b=_1(y.converter,a,p),M=h1(this._dataReader,"WriteBatch.set",y._key,b,null!==y.converter,p);return this._mutations.push(M.toMutation(y._key,Vn.none())),this}update(i,a,p,...y){this._verifyNotCommitted();const b=Ah(i,this._firestore);let M;return M="string"==typeof(a=(0,Ne.m9)(a))||a instanceof jd?Sm(this._dataReader,"WriteBatch.update",b._key,a,p,y):T_(this._dataReader,"WriteBatch.update",b._key,a),this._mutations.push(M.toMutation(b._key,Vn.exists(!0))),this}delete(i){this._verifyNotCommitted();const a=Ah(i,this._firestore);return this._mutations=this._mutations.concat(new Cd(a._key,Vn.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new Nr(wr.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function Ah(u,i){if((u=(0,Ne.m9)(u)).firestore!==i)throw new Nr(wr.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return u}function nE(u){u=_o(u,Cl);const i=_o(u.firestore,Ra);return g_(Bl(i),u._key).then(a=>E1(i,u,a))}class pp extends k_{constructor(i){super(),this.firestore=i}convertBytes(i){return new up(i)}convertReference(i){const a=this.convertDocumentKey(i,this.firestore._databaseId);return new Cl(this.firestore,null,a)}}function rE(u){u=_o(u,Cl);const i=_o(u.firestore,Ra),a=Bl(i),p=new pp(i);return function _m(u,i){const a=new vl;return u.asyncQueue.enqueueAndForget((0,C.Z)(function*(){return(p=(0,C.Z)(function*(y,b,M){try{const ue=yield function(Ye,pt){const Wt=ui(Ye);return Wt.persistence.runTransaction("read document","readonly",Cn=>Wt.localDocuments.getDocument(Cn,pt))}(y,b);ue.isFoundDocument()?M.resolve(ue):ue.isNoDocument()?M.resolve(null):M.reject(new Nr(wr.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(ue){const Ye=$p(ue,`Failed to get document '${b} from cache`);M.reject(Ye)}}),function(y,b,M){return p.apply(this,arguments)})(yield r1(u),i,a);var p})),a.promise}(a,u._key).then(y=>new Xa(i,p,u._key,y,new n0(null!==y&&y.hasLocalMutations,!0),u.converter))}function Dw(u){u=_o(u,Cl);const i=_o(u.firestore,Ra);return g_(Bl(i),u._key,{source:"server"}).then(a=>E1(i,u,a))}function kw(u){u=_o(u,zc);const i=_o(u.firestore,Ra),a=Bl(i),p=new pp(i);return Ew(u._query),m_(a,u._query).then(y=>new Ou(i,p,u,y))}function w1(u){u=_o(u,zc);const i=_o(u.firestore,Ra),a=Bl(i),p=new pp(i);return function Bb(u,i){const a=new vl;return u.asyncQueue.enqueueAndForget((0,C.Z)(function*(){return(p=(0,C.Z)(function*(y,b,M){try{const ue=yield K0(y,b,!0),Ye=new Jx(b,ue.ji),pt=Ye.Ku(ue.documents),Wt=Ye.applyChanges(pt,!1);M.resolve(Wt.snapshot)}catch(ue){const Ye=$p(ue,`Failed to execute query '${b} against cache`);M.reject(Ye)}}),function(y,b,M){return p.apply(this,arguments)})(yield r1(u),i,a);var p})),a.promise}(a,u._query).then(y=>new Ou(i,p,u,y))}function iE(u){u=_o(u,zc);const i=_o(u.firestore,Ra),a=Bl(i),p=new pp(i);return m_(a,u._query,{source:"server"}).then(y=>new Ou(i,p,u,y))}function Pw(u,i,a){u=_o(u,Cl);const p=_o(u.firestore,Ra),y=_1(u.converter,i,a);return s0(p,[h1(dp(p),"setDoc",u._key,y,null!==u.converter,a).toMutation(u._key,Vn.none())])}function Nw(u,i,a,...p){u=_o(u,Cl);const y=_o(u.firestore,Ra),b=dp(y);let M;return M="string"==typeof(i=(0,Ne.m9)(i))||i instanceof jd?Sm(b,"updateDoc",u._key,i,a,p):T_(b,"updateDoc",u._key,i),s0(y,[M.toMutation(u._key,Vn.exists(!0))])}function P_(u){return s0(_o(u.firestore,Ra),[new Cd(u._key,Vn.none())])}function b1(u,i){const a=_o(u.firestore,Ra),p=dw(u),y=_1(u.converter,i);return s0(a,[h1(dp(u.firestore),"addDoc",p._key,y,null!==u.converter,{}).toMutation(p._key,Vn.exists(!1))]).then(()=>p)}function N_(u,...i){var a,p,y;u=(0,Ne.m9)(u);let b={includeMetadataChanges:!1},M=0;"object"!=typeof i[M]||x_(i[M])||(b=i[M],M++);const ue={includeMetadataChanges:b.includeMetadataChanges};if(x_(i[M])){const Cn=i[M];i[M]=null===(a=Cn.next)||void 0===a?void 0:a.bind(Cn),i[M+1]=null===(p=Cn.error)||void 0===p?void 0:p.bind(Cn),i[M+2]=null===(y=Cn.complete)||void 0===y?void 0:y.bind(Cn)}let Ye,pt,Wt;if(u instanceof Cl)pt=_o(u.firestore,Ra),Wt=Yf(u._key.path),Ye={next:Cn=>{i[M]&&i[M](E1(pt,u,Cn))},error:i[M+1],complete:i[M+2]};else{const Cn=_o(u,zc);pt=_o(Cn.firestore,Ra),Wt=Cn._query;const fr=new pp(pt);Ye={next:Br=>{i[M]&&i[M](new Ou(pt,fr,Cn,Br))},error:i[M+1],complete:i[M+2]},Ew(u._query)}return function(Cn,fr,Br,Jr){const Fi=new cp(Jr),Qi=new Ef(fr,Fi,Br);return Cn.asyncQueue.enqueueAndForget((0,C.Z)(function*(){return Vv(yield ug(Cn),Qi)})),()=>{Fi.Tc(),Cn.asyncQueue.enqueueAndForget((0,C.Z)(function*(){return r_(yield ug(Cn),Qi)}))}}(Bl(pt),Wt,ue,Ye)}function Mw(u,i){return function jb(u,i){const a=new cp(i);return u.asyncQueue.enqueueAndForget((0,C.Z)(function*(){return p=yield ug(u),y=a,ui(p).Tu.add(y),void y.next();var p,y})),()=>{a.Tc(),u.asyncQueue.enqueueAndForget((0,C.Z)(function*(){return p=yield ug(u),y=a,void ui(p).Tu.delete(y);var p,y}))}}(Bl(u=_o(u,Ra)),x_(i)?i:{next:i})}function s0(u,i){return function(a,p){const y=new vl;return a.asyncQueue.enqueueAndForget((0,C.Z)(function*(){return function Nb(u,i,a){return s_.apply(this,arguments)}(yield cg(a),p,y)})),y.promise}(Bl(u),i)}function E1(u,i,a){const p=a.docs.get(i._key),y=new pp(u);return new Xa(u,y,i._key,p,new n0(a.hasPendingWrites,a.fromCache),i.converter)}class Ow extends class{constructor(i,a){this._firestore=i,this._transaction=a,this._dataReader=dp(i)}get(i){const a=Ah(i,this._firestore),p=new tE(this._firestore);return this._transaction.lookup([a._key]).then(y=>{if(!y||1!==y.length)return bi();const b=y[0];if(b.isFoundDocument())return new t0(this._firestore,p,b.key,b,a.converter);if(b.isNoDocument())return new t0(this._firestore,p,a._key,null,a.converter);throw bi()})}set(i,a,p){const y=Ah(i,this._firestore),b=_1(y.converter,a,p),M=h1(this._dataReader,"Transaction.set",y._key,b,null!==y.converter,p);return this._transaction.set(y._key,M),this}update(i,a,p,...y){const b=Ah(i,this._firestore);let M;return M="string"==typeof(a=(0,Ne.m9)(a))||a instanceof jd?Sm(this._dataReader,"Transaction.update",b._key,a,p,y):T_(this._dataReader,"Transaction.update",b._key,a),this._transaction.update(b._key,M),this}delete(i){const a=Ah(i,this._firestore);return this._transaction.delete(a._key),this}}{constructor(i,a){super(i,a),this._firestore=i}get(i){const a=Ah(i,this._firestore),p=new pp(this._firestore);return super.get(i).then(y=>new Xa(this._firestore,p,a._key,y._document,new n0(!1,!1),a.converter))}}function Fw(u,i,a){u=_o(u,Ra);const p=Object.assign(Object.assign({},eE),a);return function(y){if(y.maxAttempts<1)throw new Nr(wr.INVALID_ARGUMENT,"Max attempts must be at least 1")}(p),function Vb(u,i,a){const p=new vl;return u.asyncQueue.enqueueAndForget((0,C.Z)(function*(){const y=yield(b=u,vm(b).then(M=>M.datastore));var b;new gm(u.asyncQueue,y,a,i,p).run()})),p.promise}(Bl(u),y=>i(new Ow(u,y)),p)}function Rw(){return new pg("deleteField")}function Lw(){return new Cm("serverTimestamp")}function sE(...u){return new _w("arrayUnion",u)}function oE(...u){return new Yb("arrayRemove",u)}function Im(u){return new Kb("increment",u)}!function(u,i=!0){Zu=h.SDK_VERSION,(0,h._registerComponent)(new it.wA("firestore",(a,{options:p})=>{const y=a.getProvider("app").getImmediate(),b=new Ra(y,new tv(a.getProvider("auth-internal")),new Bf(a.getProvider("app-check-internal")));return p=Object.assign({useFetchStreams:i},p),b._setSettings(p),b},"PUBLIC")),(0,h.registerVersion)(Ic,"3.4.11",u),(0,h.registerVersion)(Ic,"3.4.11","esm2017")}()},2090:(Gr,Ln,me)=>{"use strict";me.d(Ln,{$s:()=>Mr,BH:()=>He,DV:()=>$e,Dv:()=>$n,G6:()=>L,GJ:()=>ne,L:()=>Qe,LL:()=>R,Mn:()=>pe,Pz:()=>dt,Sg:()=>xe,UG:()=>W,UI:()=>at,US:()=>I,Wj:()=>ke,Yr:()=>Ce,ZB:()=>qe,ZR:()=>ae,b$:()=>Se,cI:()=>Ke,d:()=>oe,dS:()=>It,eu:()=>re,g5:()=>it,gK:()=>yn,gQ:()=>lt,h$:()=>tt,hl:()=>Q,hu:()=>h,jU:()=>fe,lb:()=>ft,m9:()=>Pr,ne:()=>Tt,p$:()=>ze,pd:()=>Ue,r3:()=>Oe,ru:()=>ye,tV:()=>nt,uI:()=>de,ug:()=>ct,vZ:()=>j,w1:()=>se,w9:()=>Z,xO:()=>J,xb:()=>ot,z$:()=>we,zI:()=>P,zd:()=>Ee});const h=function(fn,mt){if(!fn)throw it(mt)},it=function(fn){return new Error("Firebase Database (${JSCORE_VERSION}) INTERNAL ASSERT FAILED: "+fn)},ve=function(fn){const mt=[];let Be=0;for(let et=0;et<fn.length;et++){let ht=fn.charCodeAt(et);ht<128?mt[Be++]=ht:ht<2048?(mt[Be++]=ht>>6|192,mt[Be++]=63&ht|128):55296==(64512&ht)&&et+1<fn.length&&56320==(64512&fn.charCodeAt(et+1))?(ht=65536+((1023&ht)<<10)+(1023&fn.charCodeAt(++et)),mt[Be++]=ht>>18|240,mt[Be++]=ht>>12&63|128,mt[Be++]=ht>>6&63|128,mt[Be++]=63&ht|128):(mt[Be++]=ht>>12|224,mt[Be++]=ht>>6&63|128,mt[Be++]=63&ht|128)}return mt},I={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(fn,mt){if(!Array.isArray(fn))throw Error("encodeByteArray takes an array as a parameter");this.init_();const Be=mt?this.byteToCharMapWebSafe_:this.byteToCharMap_,et=[];for(let ht=0;ht<fn.length;ht+=3){const Nt=fn[ht],pn=ht+1<fn.length,Mn=pn?fn[ht+1]:0,xr=ht+2<fn.length,Dr=xr?fn[ht+2]:0;let On=(15&Mn)<<2|Dr>>6,mn=63&Dr;xr||(mn=64,pn||(On=64)),et.push(Be[Nt>>2],Be[(3&Nt)<<4|Mn>>4],Be[On],Be[mn])}return et.join("")},encodeString(fn,mt){return this.HAS_NATIVE_SUPPORT&&!mt?btoa(fn):this.encodeByteArray(ve(fn),mt)},decodeString(fn,mt){return this.HAS_NATIVE_SUPPORT&&!mt?atob(fn):function(fn){const mt=[];let Be=0,et=0;for(;Be<fn.length;){const ht=fn[Be++];if(ht<128)mt[et++]=String.fromCharCode(ht);else if(ht>191&&ht<224){const Nt=fn[Be++];mt[et++]=String.fromCharCode((31&ht)<<6|63&Nt)}else if(ht>239&&ht<365){const xr=((7&ht)<<18|(63&fn[Be++])<<12|(63&fn[Be++])<<6|63&fn[Be++])-65536;mt[et++]=String.fromCharCode(55296+(xr>>10)),mt[et++]=String.fromCharCode(56320+(1023&xr))}else{const Nt=fn[Be++],pn=fn[Be++];mt[et++]=String.fromCharCode((15&ht)<<12|(63&Nt)<<6|63&pn)}}return mt.join("")}(this.decodeStringToByteArray(fn,mt))},decodeStringToByteArray(fn,mt){this.init_();const Be=mt?this.charToByteMapWebSafe_:this.charToByteMap_,et=[];for(let ht=0;ht<fn.length;){const Nt=Be[fn.charAt(ht++)],Mn=ht<fn.length?Be[fn.charAt(ht)]:0;++ht;const Dr=ht<fn.length?Be[fn.charAt(ht)]:64;++ht;const Ar=ht<fn.length?Be[fn.charAt(ht)]:64;if(++ht,null==Nt||null==Mn||null==Dr||null==Ar)throw Error();et.push(Nt<<2|Mn>>4),64!==Dr&&(et.push(Mn<<4&240|Dr>>2),64!==Ar&&et.push(Dr<<6&192|Ar))}return et},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let fn=0;fn<this.ENCODED_VALS.length;fn++)this.byteToCharMap_[fn]=this.ENCODED_VALS.charAt(fn),this.charToByteMap_[this.byteToCharMap_[fn]]=fn,this.byteToCharMapWebSafe_[fn]=this.ENCODED_VALS_WEBSAFE.charAt(fn),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[fn]]=fn,fn>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(fn)]=fn,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(fn)]=fn)}}},tt=function(fn){const mt=ve(fn);return I.encodeByteArray(mt,!0)},Qe=function(fn){return tt(fn).replace(/\./g,"")},nt=function(fn){try{return I.decodeString(fn,!0)}catch(mt){console.error("base64Decode failed: ",mt)}return null};function ze(fn){return qe(void 0,fn)}function qe(fn,mt){if(!(mt instanceof Object))return mt;switch(mt.constructor){case Date:return new Date(mt.getTime());case Object:void 0===fn&&(fn={});break;case Array:fn=[];break;default:return mt}for(const Be in mt)!mt.hasOwnProperty(Be)||!Fe(Be)||(fn[Be]=qe(fn[Be],mt[Be]));return fn}function Fe(fn){return"__proto__"!==fn}class He{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((mt,Be)=>{this.resolve=mt,this.reject=Be})}wrapCallback(mt){return(Be,et)=>{Be?this.reject(Be):this.resolve(et),"function"==typeof mt&&(this.promise.catch(()=>{}),1===mt.length?mt(Be):mt(Be,et))}}}function xe(fn,mt){if(fn.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const et=mt||"demo-project",ht=fn.iat||0,Nt=fn.sub||fn.user_id;if(!Nt)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const pn=Object.assign({iss:`https://securetoken.google.com/${et}`,aud:et,iat:ht,exp:ht+3600,auth_time:ht,sub:Nt,user_id:Nt,firebase:{sign_in_provider:"custom",identities:{}}},fn);return[Qe(JSON.stringify({alg:"none",type:"JWT"})),Qe(JSON.stringify(pn)),""].join(".")}function we(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function de(){return"undefined"!=typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(we())}function W(){try{return"[object process]"===Object.prototype.toString.call(global.process)}catch(fn){return!1}}function fe(){return"object"==typeof self&&self.self===self}function ye(){const fn="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof fn&&void 0!==fn.id}function Se(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function oe(){return we().indexOf("Electron/")>=0}function se(){const fn=we();return fn.indexOf("MSIE ")>=0||fn.indexOf("Trident/")>=0}function pe(){return we().indexOf("MSAppHost/")>=0}function Ce(){return!1}function L(){return!W()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Q(){return"object"==typeof indexedDB}function re(){return new Promise((fn,mt)=>{try{let Be=!0;const et="validate-browser-context-for-indexeddb-analytics-module",ht=self.indexedDB.open(et);ht.onsuccess=()=>{ht.result.close(),Be||self.indexedDB.deleteDatabase(et),fn(!0)},ht.onupgradeneeded=()=>{Be=!1},ht.onerror=()=>{var Nt;mt((null===(Nt=ht.error)||void 0===Nt?void 0:Nt.message)||"")}}catch(Be){mt(Be)}})}function P(){return!("undefined"==typeof navigator||!navigator.cookieEnabled)}class ae extends Error{constructor(mt,Be,et){super(Be),this.code=mt,this.customData=et,this.name="FirebaseError",Object.setPrototypeOf(this,ae.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,R.prototype.create)}}class R{constructor(mt,Be,et){this.service=mt,this.serviceName=Be,this.errors=et}create(mt,...Be){const et=Be[0]||{},ht=`${this.service}/${mt}`,Nt=this.errors[mt],pn=Nt?function z(fn,mt){return fn.replace(De,(Be,et)=>{const ht=mt[et];return null!=ht?String(ht):`<${et}?>`})}(Nt,et):"Error";return new ae(ht,`${this.serviceName}: ${pn} (${ht}).`,et)}}const De=/\{\$([^}]+)}/g;function Ke(fn){return JSON.parse(fn)}function dt(fn){return JSON.stringify(fn)}const We=function(fn){let mt={},Be={},et={},ht="";try{const Nt=fn.split(".");mt=Ke(nt(Nt[0])||""),Be=Ke(nt(Nt[1])||""),ht=Nt[2],et=Be.d||{},delete Be.d}catch(Nt){}return{header:mt,claims:Be,data:et,signature:ht}},Z=function(fn){const Be=We(fn).claims;return!!Be&&"object"==typeof Be&&Be.hasOwnProperty("iat")},ne=function(fn){const mt=We(fn).claims;return"object"==typeof mt&&!0===mt.admin};function Oe(fn,mt){return Object.prototype.hasOwnProperty.call(fn,mt)}function $e(fn,mt){if(Object.prototype.hasOwnProperty.call(fn,mt))return fn[mt]}function ot(fn){for(const mt in fn)if(Object.prototype.hasOwnProperty.call(fn,mt))return!1;return!0}function at(fn,mt,Be){const et={};for(const ht in fn)Object.prototype.hasOwnProperty.call(fn,ht)&&(et[ht]=mt.call(Be,fn[ht],ht,fn));return et}function j(fn,mt){if(fn===mt)return!0;const Be=Object.keys(fn),et=Object.keys(mt);for(const ht of Be){if(!et.includes(ht))return!1;const Nt=fn[ht],pn=mt[ht];if(be(Nt)&&be(pn)){if(!j(Nt,pn))return!1}else if(Nt!==pn)return!1}for(const ht of et)if(!Be.includes(ht))return!1;return!0}function be(fn){return null!==fn&&"object"==typeof fn}function J(fn){const mt=[];for(const[Be,et]of Object.entries(fn))Array.isArray(et)?et.forEach(ht=>{mt.push(encodeURIComponent(Be)+"="+encodeURIComponent(ht))}):mt.push(encodeURIComponent(Be)+"="+encodeURIComponent(et));return mt.length?"&"+mt.join("&"):""}function Ee(fn){const mt={};return fn.replace(/^\?/,"").split("&").forEach(et=>{if(et){const[ht,Nt]=et.split("=");mt[decodeURIComponent(ht)]=decodeURIComponent(Nt)}}),mt}function Ue(fn){const mt=fn.indexOf("?");if(!mt)return"";const Be=fn.indexOf("#",mt);return fn.substring(mt,Be>0?Be:void 0)}class lt{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=64,this.pad_[0]=128;for(let mt=1;mt<this.blockSize;++mt)this.pad_[mt]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(mt,Be){Be||(Be=0);const et=this.W_;if("string"==typeof mt)for(let Ar=0;Ar<16;Ar++)et[Ar]=mt.charCodeAt(Be)<<24|mt.charCodeAt(Be+1)<<16|mt.charCodeAt(Be+2)<<8|mt.charCodeAt(Be+3),Be+=4;else for(let Ar=0;Ar<16;Ar++)et[Ar]=mt[Be]<<24|mt[Be+1]<<16|mt[Be+2]<<8|mt[Be+3],Be+=4;for(let Ar=16;Ar<80;Ar++){const On=et[Ar-3]^et[Ar-8]^et[Ar-14]^et[Ar-16];et[Ar]=4294967295&(On<<1|On>>>31)}let Dr,Zr,ht=this.chain_[0],Nt=this.chain_[1],pn=this.chain_[2],Mn=this.chain_[3],xr=this.chain_[4];for(let Ar=0;Ar<80;Ar++){Ar<40?Ar<20?(Dr=Mn^Nt&(pn^Mn),Zr=1518500249):(Dr=Nt^pn^Mn,Zr=1859775393):Ar<60?(Dr=Nt&pn|Mn&(Nt|pn),Zr=2400959708):(Dr=Nt^pn^Mn,Zr=3395469782);const On=(ht<<5|ht>>>27)+Dr+xr+Zr+et[Ar]&4294967295;xr=Mn,Mn=pn,pn=4294967295&(Nt<<30|Nt>>>2),Nt=ht,ht=On}this.chain_[0]=this.chain_[0]+ht&4294967295,this.chain_[1]=this.chain_[1]+Nt&4294967295,this.chain_[2]=this.chain_[2]+pn&4294967295,this.chain_[3]=this.chain_[3]+Mn&4294967295,this.chain_[4]=this.chain_[4]+xr&4294967295}update(mt,Be){if(null==mt)return;void 0===Be&&(Be=mt.length);const et=Be-this.blockSize;let ht=0;const Nt=this.buf_;let pn=this.inbuf_;for(;ht<Be;){if(0===pn)for(;ht<=et;)this.compress_(mt,ht),ht+=this.blockSize;if("string"==typeof mt){for(;ht<Be;)if(Nt[pn]=mt.charCodeAt(ht),++pn,++ht,pn===this.blockSize){this.compress_(Nt),pn=0;break}}else for(;ht<Be;)if(Nt[pn]=mt[ht],++pn,++ht,pn===this.blockSize){this.compress_(Nt),pn=0;break}}this.inbuf_=pn,this.total_+=Be}digest(){const mt=[];let Be=8*this.total_;this.update(this.pad_,this.inbuf_<56?56-this.inbuf_:this.blockSize-(this.inbuf_-56));for(let ht=this.blockSize-1;ht>=56;ht--)this.buf_[ht]=255&Be,Be/=256;this.compress_(this.buf_);let et=0;for(let ht=0;ht<5;ht++)for(let Nt=24;Nt>=0;Nt-=8)mt[et]=this.chain_[ht]>>Nt&255,++et;return mt}}function Tt(fn,mt){const Be=new Ft(fn,mt);return Be.subscribe.bind(Be)}class Ft{constructor(mt,Be){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=Be,this.task.then(()=>{mt(this)}).catch(et=>{this.error(et)})}next(mt){this.forEachObserver(Be=>{Be.next(mt)})}error(mt){this.forEachObserver(Be=>{Be.error(mt)}),this.close(mt)}complete(){this.forEachObserver(mt=>{mt.complete()}),this.close()}subscribe(mt,Be,et){let ht;if(void 0===mt&&void 0===Be&&void 0===et)throw new Error("Missing Observer.");ht=function vn(fn,mt){if("object"!=typeof fn||null===fn)return!1;for(const Be of mt)if(Be in fn&&"function"==typeof fn[Be])return!0;return!1}(mt,["next","error","complete"])?mt:{next:mt,error:Be,complete:et},void 0===ht.next&&(ht.next=Nn),void 0===ht.error&&(ht.error=Nn),void 0===ht.complete&&(ht.complete=Nn);const Nt=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?ht.error(this.finalError):ht.complete()}catch(pn){}}),this.observers.push(ht),Nt}unsubscribeOne(mt){void 0===this.observers||void 0===this.observers[mt]||(delete this.observers[mt],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(mt){if(!this.finalized)for(let Be=0;Be<this.observers.length;Be++)this.sendOne(Be,mt)}sendOne(mt,Be){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[mt])try{Be(this.observers[mt])}catch(et){"undefined"!=typeof console&&console.error&&console.error(et)}})}close(mt){this.finalized||(this.finalized=!0,void 0!==mt&&(this.finalError=mt),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Nn(){}const $n=function(fn,mt,Be,et){let ht;if(et<mt?ht="at least "+mt:et>Be&&(ht=0===Be?"none":"no more than "+Be),ht)throw new Error(fn+" failed: Was called with "+et+(1===et?" argument.":" arguments.")+" Expects "+ht+".")};function yn(fn,mt){return`${fn} failed: ${mt} argument `}function ke(fn,mt,Be,et){if((!et||Be)&&"function"!=typeof Be)throw new Error(yn(fn,mt)+"must be a valid function.")}function ft(fn,mt,Be,et){if((!et||Be)&&("object"!=typeof Be||null===Be))throw new Error(yn(fn,mt)+"must be a valid context object.")}const It=function(fn){const mt=[];let Be=0;for(let et=0;et<fn.length;et++){let ht=fn.charCodeAt(et);if(ht>=55296&&ht<=56319){const Nt=ht-55296;et++,h(et<fn.length,"Surrogate pair missing trail surrogate."),ht=65536+(Nt<<10)+(fn.charCodeAt(et)-56320)}ht<128?mt[Be++]=ht:ht<2048?(mt[Be++]=ht>>6|192,mt[Be++]=63&ht|128):ht<65536?(mt[Be++]=ht>>12|224,mt[Be++]=ht>>6&63|128,mt[Be++]=63&ht|128):(mt[Be++]=ht>>18|240,mt[Be++]=ht>>12&63|128,mt[Be++]=ht>>6&63|128,mt[Be++]=63&ht|128)}return mt},ct=function(fn){let mt=0;for(let Be=0;Be<fn.length;Be++){const et=fn.charCodeAt(Be);et<128?mt++:et<2048?mt+=2:et>=55296&&et<=56319?(mt+=4,Be++):mt+=3}return mt};function Mr(fn,mt=1e3,Be=2){const et=mt*Math.pow(Be,fn),ht=Math.round(.5*et*(Math.random()-.5)*2);return Math.min(144e5,et+ht)}function Pr(fn){return fn&&fn._delegate?fn._delegate:fn}},8464:(Gr,Ln,me)=>{"use strict";me.d(Ln,{K:()=>C});class C{constructor(it){this.nombre=it}}},6399:(Gr,Ln,me)=>{"use strict";me.r(Ln),me.d(Ln,{RegistroModule:()=>hn});var C=me(9808),h=me(441),it=me(5861),ve=me(2382);class Ne{constructor(ft,It,ct,jt,nn,jn,br){this.nombre=ft,this.apellido=It,this.edad=ct,this.dni=jt,this.mail=nn,this.password=jn,this.fotoUrl=br}}var I=me(5e3),tt=me(5614),Qe=me(3029),nt=me(2084),ze=me(5401);function qe(ke,ft){1&ke&&(I.TgZ(0,"span",26),I._uU(1,"Debe completar con su nombre."),I.qZA())}function Fe(ke,ft){1&ke&&(I.TgZ(0,"span",26),I._uU(1,"Debe completar con su apellido."),I.qZA())}function He(ke,ft){1&ke&&(I.TgZ(0,"span",26),I._uU(1,"Debe completar con su dni."),I.qZA())}function xe(ke,ft){1&ke&&(I.TgZ(0,"span",26),I._uU(1,"Debe completar con su edad."),I.qZA())}function we(ke,ft){1&ke&&(I.TgZ(0,"span",26),I._uU(1,"Debe subir foto de perfil."),I.qZA())}function de(ke,ft){if(1&ke&&I._UZ(0,"img",27),2&ke){const It=I.oxw();I.Q6J("src",It.fotoUrl,I.LSH)}}function W(ke,ft){1&ke&&(I.TgZ(0,"span",26),I._uU(1,"Debe completar con su mail."),I.qZA())}function fe(ke,ft){1&ke&&(I.TgZ(0,"span",26),I._uU(1,"Debe completar con su contrase\xf1a."),I.qZA())}let ye=(()=>{class ke{constructor(It,ct,jt,nn,jn,br){this.administradorService=It,this.authService=ct,this.router=jt,this.fb=nn,this.fireStorage=jn,this.especialidadService=br,this.basePath="/fotosPerfil",this.fotoUrl="",this.formAltaAdministrador=nn.group({dni:["",ve.kI.required],nombre:["",ve.kI.required],mail:["",ve.kI.required],password:["",ve.kI.required],apellido:["",ve.kI.required],edad:["",ve.kI.required],foto:[null,ve.kI.required]})}ngOnInit(){}signUp(){this.authService.RegisterUser(this.formAltaAdministrador.controls.mail.value,this.formAltaAdministrador.controls.password.value).then(jt=>{this.guardarAdministrador()}).catch(jt=>{})}guardarAdministrador(){let Mr=new Ne(this.formAltaAdministrador.controls.nombre.value,this.formAltaAdministrador.controls.apellido.value,this.formAltaAdministrador.controls.edad.value,this.formAltaAdministrador.controls.dni.value,this.formAltaAdministrador.controls.mail.value,this.formAltaAdministrador.controls.password.value,this.fotoUrl);this.administradorService.guardarAdministrador(Mr).then(dr=>{this.showSuccess()}).catch(dr=>{this.showError(dr)})}showSuccess(){}showError(It){}onFileChanged(It){var ct=this;return(0,it.Z)(function*(){const jt=It.target.files[0];jt?(ct.task=ct.fireStorage.upload(`${ct.basePath}/${jt.name}`,jt),(yield ct.task).ref.getDownloadURL().then(jn=>{ct.fotoUrl=jn})):ct.fotoUrl=""})()}}return ke.\u0275fac=function(It){return new(It||ke)(I.Y36(tt.p),I.Y36(Qe.z),I.Y36(h.F0),I.Y36(ve.qu),I.Y36(nt.Q1),I.Y36(ze.T))},ke.\u0275cmp=I.Xpm({type:ke,selectors:[["app-registro-administrador"]],decls:53,vars:10,consts:[["lang","en"],[1,"bg-light"],[1,"container"],[3,"formGroup","ngSubmit"],[1,"mb-3"],[1,"form-group"],[1,"row","g-3"],[1,"col-sm-6"],["for","firstName"],["type","text","formControlName","nombre","placeholder","",1,"form-control"],["class","text-danger",4,"ngIf"],["type","text","formControlName","apellido","placeholder","",1,"form-control"],["for","dni"],["type","number","formControlName","dni","placeholder","",1,"form-control"],["for","edad"],["type","number","formControlName","edad","placeholder","",1,"form-control"],[1,"my-3"],[1,"row"],["for","photo"],["type","file","name","file","formControlName","foto","accept",".jpeg,.jpg,.png,.svg",1,"form-control",3,"input"],[3,"src",4,"ngIf"],["for","mail"],["type","email","formControlName","mail","placeholder","",1,"form-control"],["for","password"],["type","password","formControlName","password","placeholder","",1,"form-control"],["type","submit",1,"btn","btn-primary","btn-md","btn-block",3,"disabled"],[1,"text-danger"],[3,"src"]],template:function(It,ct){if(1&It&&(I.TgZ(0,"html",0)(1,"body",1)(2,"div",2)(3,"form",3),I.NdJ("ngSubmit",function(){return ct.signUp()}),I.TgZ(4,"h4",4),I._uU(5,"Alta Administrador"),I.qZA(),I.TgZ(6,"div",5)(7,"div",6)(8,"div",7)(9,"label",8),I._uU(10,"Nombre"),I.qZA(),I._UZ(11,"input",9),I.YNc(12,qe,2,0,"span",10),I.qZA(),I.TgZ(13,"div",7)(14,"label",8),I._uU(15,"Apellido"),I.qZA(),I._UZ(16,"input",11),I.YNc(17,Fe,2,0,"span",10),I.qZA(),I.TgZ(18,"div",7)(19,"label",12),I._uU(20,"DNI"),I.qZA(),I._UZ(21,"input",13),I.YNc(22,He,2,0,"span",10),I.qZA(),I.TgZ(23,"div",7)(24,"label",14),I._uU(25,"Edad"),I.qZA(),I._UZ(26,"input",15),I.YNc(27,xe,2,0,"span",10),I.qZA()(),I.TgZ(28,"div",16)(29,"div",17)(30,"div",7)(31,"label",18),I._uU(32,"Foto de perfil"),I.qZA(),I._UZ(33,"br"),I.TgZ(34,"input",19),I.NdJ("input",function(nn){return ct.onFileChanged(nn)}),I.qZA(),I.YNc(35,we,2,0,"span",10),I.qZA(),I._UZ(36,"br"),I.TgZ(37,"div",7),I.YNc(38,de,1,1,"img",20),I.qZA()(),I._UZ(39,"br"),I.TgZ(40,"div",17)(41,"div",7)(42,"label",21),I._uU(43,"Mail"),I.qZA(),I._UZ(44,"input",22),I.YNc(45,W,2,0,"span",10),I.qZA(),I.TgZ(46,"div",7)(47,"label",23),I._uU(48,"Password"),I.qZA(),I._UZ(49,"input",24),I.YNc(50,fe,2,0,"span",10),I.qZA()()(),I.TgZ(51,"button",25),I._uU(52,"Cargar Administrador"),I.qZA()()()()()()),2&It){let jt,nn,jn,br,mr,Mr,dr;I.xp6(3),I.Q6J("formGroup",ct.formAltaAdministrador),I.xp6(9),I.Q6J("ngIf",(null==(jt=ct.formAltaAdministrador.get("nombre"))?null:jt.hasError("required"))&&(null==(jt=ct.formAltaAdministrador.get("nombre"))?null:jt.touched)),I.xp6(5),I.Q6J("ngIf",(null==(nn=ct.formAltaAdministrador.get("apellido"))?null:nn.hasError("required"))&&(null==(nn=ct.formAltaAdministrador.get("apellido"))?null:nn.touched)),I.xp6(5),I.Q6J("ngIf",(null==(jn=ct.formAltaAdministrador.get("dni"))?null:jn.hasError("required"))&&(null==(jn=ct.formAltaAdministrador.get("dni"))?null:jn.touched)),I.xp6(5),I.Q6J("ngIf",(null==(br=ct.formAltaAdministrador.get("edad"))?null:br.hasError("required"))&&(null==(br=ct.formAltaAdministrador.get("edad"))?null:br.touched)),I.xp6(8),I.Q6J("ngIf",(null==(mr=ct.formAltaAdministrador.get("foto"))?null:mr.hasError("required"))&&(null==(mr=ct.formAltaAdministrador.get("foto"))?null:mr.touched)),I.xp6(3),I.Q6J("ngIf",ct.fotoUrl),I.xp6(7),I.Q6J("ngIf",(null==(Mr=ct.formAltaAdministrador.get("mail"))?null:Mr.hasError("required"))&&(null==(Mr=ct.formAltaAdministrador.get("mail"))?null:Mr.touched)),I.xp6(5),I.Q6J("ngIf",(null==(dr=ct.formAltaAdministrador.get("password"))?null:dr.hasError("required"))&&(null==(dr=ct.formAltaAdministrador.get("password"))?null:dr.touched)),I.xp6(1),I.Q6J("disabled",ct.formAltaAdministrador.invalid)}},directives:[ve._Y,ve.JL,ve.sg,ve.Fj,ve.JJ,ve.u,C.O5,ve.wV],styles:["html[_ngcontent-%COMP%], body[_ngcontent-%COMP%]{height:100%}body[_ngcontent-%COMP%]{display:contents;align-items:center;padding-top:40px;padding-bottom:40px;background-color:#f5f5f5}.form-signin[_ngcontent-%COMP%]{width:100%;max-width:330px;padding:15px;margin:auto}.form-signin[_ngcontent-%COMP%]   .checkbox[_ngcontent-%COMP%]{font-weight:400}.form-signin[_ngcontent-%COMP%]   .form-floating[_ngcontent-%COMP%]:focus-within{z-index:2}.form-signin[_ngcontent-%COMP%]   input[type=email][_ngcontent-%COMP%]{margin-bottom:-1px;border-bottom-right-radius:0;border-bottom-left-radius:0}.form-signin[_ngcontent-%COMP%]   input[type=password][_ngcontent-%COMP%]{margin-bottom:10px;border-top-left-radius:0;border-top-right-radius:0}img[_ngcontent-%COMP%]{display:inline;width:100px;height:100px;object-fit:scale-down}"]}),ke})();var Se=me(8464);class oe{constructor(ft,It,ct,jt,nn,jn,br,mr,Mr){this.nombre=ft,this.apellido=It,this.edad=ct,this.dni=jt,this.especialidades=nn,this.mail=jn,this.password=br,this.fotoUrl=mr,this.habilitado=Mr}}var se=me(9768),pe=me(3056);function Ce(ke,ft){1&ke&&(I.TgZ(0,"span",30),I._uU(1,"Debe completar con su nombre."),I.qZA())}function L(ke,ft){1&ke&&(I.TgZ(0,"span",30),I._uU(1,"Debe completar con su apellido."),I.qZA())}function Q(ke,ft){1&ke&&(I.TgZ(0,"span",30),I._uU(1,"Debe completar con su dni."),I.qZA())}function re(ke,ft){1&ke&&(I.TgZ(0,"span",30),I._uU(1,"Debe completar con su edad."),I.qZA())}function P(ke,ft){1&ke&&(I.TgZ(0,"span",30),I._uU(1,"Debe seleccionar al menos una especialidad."),I.qZA())}function G(ke,ft){if(1&ke){const It=I.EpF();I.TgZ(0,"div"),I._UZ(1,"input",31,32),I.TgZ(3,"button",33),I.NdJ("click",function(){I.CHM(It);const jt=I.MAs(2);return I.oxw().agregarNuevaEspecialidad(jt.value)}),I._uU(4,"Agregar"),I.qZA()()}}function F(ke,ft){1&ke&&(I.TgZ(0,"span",30),I._uU(1,"Debe subir foto de perfil."),I.qZA())}function ae(ke,ft){if(1&ke&&I._UZ(0,"img",34),2&ke){const It=I.oxw();I.Q6J("src",It.fotoUrl,I.LSH)}}function R(ke,ft){1&ke&&(I.TgZ(0,"span",30),I._uU(1,"Debe completar con su mail."),I.qZA())}function z(ke,ft){1&ke&&(I.TgZ(0,"span",30),I._uU(1,"Debe completar con su contrase\xf1a."),I.qZA())}let De=(()=>{class ke{constructor(It,ct,jt,nn,jn,br){this.especialistaService=It,this.authService=ct,this.router=jt,this.fb=nn,this.fireStorage=jn,this.especialidadService=br,this.basePath="/fotosPerfil",this.fotoUrl="",this.listaEspecialidades=[],this.dropdownSettings={},this.agrEspecialidad=!1,this.agrEspBtn="Agregar Especialidad",this.formAltaEspecialista=nn.group({dni:["",ve.kI.required],nombre:["",ve.kI.required],mail:["",ve.kI.required],password:["",ve.kI.required],apellido:["",ve.kI.required],edad:["",ve.kI.required],especialidades:[[],ve.kI.required],foto:[null,ve.kI.required]})}ngOnInit(){this.fillListaEspecialidades()}signUp(){this.authService.RegisterUser(this.formAltaEspecialista.controls.mail.value,this.formAltaEspecialista.controls.password.value).then(jt=>{this.guardarEspecialista(),this.authService.SendVerificationMail(),this.router.navigate(["registro/verify-email"])}).catch(jt=>{})}guardarEspecialista(){let dr=new oe(this.formAltaEspecialista.controls.nombre.value,this.formAltaEspecialista.controls.apellido.value,this.formAltaEspecialista.controls.edad.value,this.formAltaEspecialista.controls.dni.value,this.formAltaEspecialista.controls.especialidades.value,this.formAltaEspecialista.controls.mail.value,this.formAltaEspecialista.controls.password.value,this.fotoUrl,!1);this.especialistaService.guardarEspecialista(dr).then(zr=>{this.showSuccess()}).catch(zr=>{this.showError(zr)})}showSuccess(){}showError(It){}onFileChanged(It){var ct=this;return(0,it.Z)(function*(){const jt=It.target.files[0];jt?(ct.task=ct.fireStorage.upload(`${ct.basePath}/${jt.name}`,jt),(yield ct.task).ref.getDownloadURL().then(jn=>{ct.fotoUrl=jn})):ct.fotoUrl=""})()}activarAgregadoEspecialidad(){0==this.agrEspecialidad?(this.agrEspecialidad=!0,this.agrEspBtn="Cerrar"):(this.agrEspecialidad=!1,this.agrEspBtn="Agregar Especialidad")}agregarNuevaEspecialidad(It){if(""!=It){let ct=new Se.K(It);this.especialidadService.guardarEspecialidad(ct)}}fillListaEspecialidades(){this.especialidadService.especialidades.subscribe(It=>{let ct=[];for(let jt=0;jt<It.length;jt++)ct.push(new Se.K(It[jt].payload.doc.data().nombre));this.listaEspecialidades=ct,this.dropdownSettings={idField:"nombre",textField:"nombre"}})}}return ke.\u0275fac=function(It){return new(It||ke)(I.Y36(se.n),I.Y36(Qe.z),I.Y36(h.F0),I.Y36(ve.qu),I.Y36(nt.Q1),I.Y36(ze.T))},ke.\u0275cmp=I.Xpm({type:ke,selectors:[["app-registro-especialista"]],decls:65,vars:15,consts:[["lang","en"],[1,"bg-light"],[1,"container"],[3,"formGroup","ngSubmit"],[1,"mb-3"],[1,"form-group"],[1,"row","g-3"],[1,"col-sm-6"],["for","firstName"],["type","text","formControlName","nombre","placeholder","",1,"form-control"],["class","text-danger",4,"ngIf"],["type","text","formControlName","apellido","placeholder","",1,"form-control"],["for","dni"],["type","number","formControlName","dni","placeholder","",1,"form-control"],["for","edad"],["type","number","formControlName","edad","placeholder","",1,"form-control"],[1,"row"],["for","especialidades"],["formControlName","especialidades",3,"settings","data"],[4,"ngIf"],["type","button",1,"btn","btn-sm","btn-primary",3,"click"],[1,"my-3"],["for","photo"],["type","file","name","file","formControlName","foto","accept",".jpeg,.jpg,.png,.svg",1,"form-control",3,"input"],[3,"src",4,"ngIf"],["for","mail"],["type","email","formControlName","mail","placeholder","",1,"form-control"],["for","password"],["type","password","formControlName","password","placeholder","",1,"form-control"],["type","submit",1,"btn","btn-primary","btn-md","btn-block",3,"disabled"],[1,"text-danger"],["type","text","placeholder",""],["nuevaEspecialidad",""],["type","button",1,"btn","btn-sm","btn-secondary",3,"click"],[3,"src"]],template:function(It,ct){if(1&It&&(I.TgZ(0,"html",0)(1,"body",1)(2,"div",2)(3,"form",3),I.NdJ("ngSubmit",function(){return ct.signUp()}),I.TgZ(4,"h4",4),I._uU(5,"Alta Especialista"),I.qZA(),I.TgZ(6,"div",5)(7,"div",6)(8,"div",7)(9,"label",8),I._uU(10,"Nombre"),I.qZA(),I._UZ(11,"input",9),I.YNc(12,Ce,2,0,"span",10),I.qZA(),I.TgZ(13,"div",7)(14,"label",8),I._uU(15,"Apellido"),I.qZA(),I._UZ(16,"input",11),I.YNc(17,L,2,0,"span",10),I.qZA(),I.TgZ(18,"div",7)(19,"label",12),I._uU(20,"DNI"),I.qZA(),I._UZ(21,"input",13),I.YNc(22,Q,2,0,"span",10),I.qZA(),I.TgZ(23,"div",7)(24,"label",14),I._uU(25,"Edad"),I.qZA(),I._UZ(26,"input",15),I.YNc(27,re,2,0,"span",10),I.qZA()(),I.TgZ(28,"div",16)(29,"div",7)(30,"label",17),I._uU(31,"Especialidades"),I.qZA(),I._UZ(32,"ng-multiselect-dropdown",18),I.YNc(33,P,2,0,"span",10),I._UZ(34,"br"),I.qZA(),I.TgZ(35,"div",7),I._UZ(36,"br"),I.YNc(37,G,5,0,"div",19),I.TgZ(38,"button",20),I.NdJ("click",function(){return ct.activarAgregadoEspecialidad()}),I._uU(39),I.qZA()()(),I.TgZ(40,"div",21)(41,"div",16)(42,"div",7)(43,"label",22),I._uU(44,"Foto de perfil"),I.qZA(),I._UZ(45,"br"),I.TgZ(46,"input",23),I.NdJ("input",function(nn){return ct.onFileChanged(nn)}),I.qZA(),I.YNc(47,F,2,0,"span",10),I._UZ(48,"br"),I.qZA(),I.TgZ(49,"div",7),I.YNc(50,ae,1,1,"img",24),I.qZA()(),I._UZ(51,"br"),I.TgZ(52,"div",16)(53,"div",7)(54,"label",25),I._uU(55,"Mail"),I.qZA(),I._UZ(56,"input",26),I.YNc(57,R,2,0,"span",10),I.qZA(),I.TgZ(58,"div",7)(59,"label",27),I._uU(60,"Password"),I.qZA(),I._UZ(61,"input",28),I.YNc(62,z,2,0,"span",10),I.qZA()()(),I.TgZ(63,"button",29),I._uU(64,"Cargar Especialista"),I.qZA()()()()()()),2&It){let jt,nn,jn,br,mr,Mr,dr,zr;I.xp6(3),I.Q6J("formGroup",ct.formAltaEspecialista),I.xp6(9),I.Q6J("ngIf",(null==(jt=ct.formAltaEspecialista.get("nombre"))?null:jt.hasError("required"))&&(null==(jt=ct.formAltaEspecialista.get("nombre"))?null:jt.touched)),I.xp6(5),I.Q6J("ngIf",(null==(nn=ct.formAltaEspecialista.get("apellido"))?null:nn.hasError("required"))&&(null==(nn=ct.formAltaEspecialista.get("apellido"))?null:nn.touched)),I.xp6(5),I.Q6J("ngIf",(null==(jn=ct.formAltaEspecialista.get("dni"))?null:jn.hasError("required"))&&(null==(jn=ct.formAltaEspecialista.get("dni"))?null:jn.touched)),I.xp6(5),I.Q6J("ngIf",(null==(br=ct.formAltaEspecialista.get("edad"))?null:br.hasError("required"))&&(null==(br=ct.formAltaEspecialista.get("edad"))?null:br.touched)),I.xp6(5),I.Q6J("settings",ct.dropdownSettings)("data",ct.listaEspecialidades),I.xp6(1),I.Q6J("ngIf",(null==(mr=ct.formAltaEspecialista.get("especialidades"))?null:mr.hasError("required"))&&(null==(mr=ct.formAltaEspecialista.get("especialidades"))?null:mr.touched)),I.xp6(4),I.Q6J("ngIf",ct.agrEspecialidad),I.xp6(2),I.Oqu(ct.agrEspBtn),I.xp6(8),I.Q6J("ngIf",(null==(Mr=ct.formAltaEspecialista.get("foto"))?null:Mr.hasError("required"))&&(null==(Mr=ct.formAltaEspecialista.get("foto"))?null:Mr.touched)),I.xp6(3),I.Q6J("ngIf",ct.fotoUrl),I.xp6(7),I.Q6J("ngIf",(null==(dr=ct.formAltaEspecialista.get("mail"))?null:dr.hasError("required"))&&(null==(dr=ct.formAltaEspecialista.get("mail"))?null:dr.touched)),I.xp6(5),I.Q6J("ngIf",(null==(zr=ct.formAltaEspecialista.get("password"))?null:zr.hasError("required"))&&(null==(zr=ct.formAltaEspecialista.get("password"))?null:zr.touched)),I.xp6(1),I.Q6J("disabled",ct.formAltaEspecialista.invalid)}},directives:[ve._Y,ve.JL,ve.sg,ve.Fj,ve.JJ,ve.u,C.O5,ve.wV,pe.OP],styles:["html[_ngcontent-%COMP%], body[_ngcontent-%COMP%]{height:100%}body[_ngcontent-%COMP%]{display:contents;align-items:center;padding-top:40px;padding-bottom:40px;background-color:#f5f5f5}.form-signin[_ngcontent-%COMP%]{width:100%;max-width:330px;padding:15px;margin:auto}.form-signin[_ngcontent-%COMP%]   .checkbox[_ngcontent-%COMP%]{font-weight:400}.form-signin[_ngcontent-%COMP%]   .form-floating[_ngcontent-%COMP%]:focus-within{z-index:2}.form-signin[_ngcontent-%COMP%]   input[type=email][_ngcontent-%COMP%]{margin-bottom:-1px;border-bottom-right-radius:0;border-bottom-left-radius:0}.form-signin[_ngcontent-%COMP%]   input[type=password][_ngcontent-%COMP%]{margin-bottom:10px;border-top-left-radius:0;border-top-right-radius:0}img[_ngcontent-%COMP%]{display:inline;width:100px;height:100px;object-fit:scale-down}"]}),ke})();class Ke{constructor(ft,It,ct,jt,nn,jn,br,mr,Mr){this.nombre=ft,this.apellido=It,this.edad=ct,this.dni=jt,this.obraSocial=nn,this.mail=jn,this.password=br,this.foto1Url=mr,this.foto2Url=Mr}}var dt=me(7891);function We(ke,ft){1&ke&&(I.TgZ(0,"span",30),I._uU(1,"Debe completar con su nombre."),I.qZA())}function Te(ke,ft){1&ke&&(I.TgZ(0,"span",30),I._uU(1,"Debe completar con su apellido."),I.qZA())}function Je(ke,ft){1&ke&&(I.TgZ(0,"span",30),I._uU(1,"Debe completar con su dni."),I.qZA())}function Z(ke,ft){1&ke&&(I.TgZ(0,"span",30),I._uU(1,"Debe completar con su edad."),I.qZA())}function ne(ke,ft){1&ke&&(I.TgZ(0,"span",30),I._uU(1,"Debe completar con su obra social."),I.qZA())}function Oe(ke,ft){1&ke&&(I.TgZ(0,"span",30),I._uU(1,"Debe subir la primer foto de perfil."),I.qZA())}function $e(ke,ft){if(1&ke&&I._UZ(0,"img",31),2&ke){const It=I.oxw();I.Q6J("src",It.foto1Url,I.LSH)}}function ot(ke,ft){1&ke&&(I.TgZ(0,"span",30),I._uU(1,"Debe subir la segunda foto de perfil."),I.qZA())}function at(ke,ft){if(1&ke&&I._UZ(0,"img",31),2&ke){const It=I.oxw();I.Q6J("src",It.foto2Url,I.LSH)}}function j(ke,ft){1&ke&&(I.TgZ(0,"span",30),I._uU(1,"Debe completar con su mail."),I.qZA())}function be(ke,ft){1&ke&&(I.TgZ(0,"span",30),I._uU(1,"Debe completar con su contrase\xf1a."),I.qZA())}let J=(()=>{class ke{constructor(It,ct,jt,nn,jn){this.pacienteService=It,this.authService=ct,this.router=jt,this.fb=nn,this.fireStorage=jn,this.basePath="/fotosPerfil",this.foto1Url="",this.foto2Url="",this.formAltaPaciente=nn.group({dni:["",ve.kI.required],nombre:["",ve.kI.required],mail:["",ve.kI.required],password:["",ve.kI.required],apellido:["",ve.kI.required],edad:["",ve.kI.required],obraSocial:["",ve.kI.required],foto1:[null,ve.kI.required],foto2:[null,ve.kI.required]})}ngOnInit(){}signUp(){this.authService.RegisterUser(this.formAltaPaciente.controls.mail.value,this.formAltaPaciente.controls.password.value).then(jt=>{this.guardarPaciente(),this.authService.SendVerificationMail(),this.router.navigate(["registro/verify-email"])}).catch(jt=>{})}guardarPaciente(){let zr=new Ke(this.formAltaPaciente.controls.nombre.value,this.formAltaPaciente.controls.apellido.value,this.formAltaPaciente.controls.edad.value,this.formAltaPaciente.controls.dni.value,this.formAltaPaciente.controls.obraSocial.value,this.formAltaPaciente.controls.mail.value,this.formAltaPaciente.controls.password.value,this.foto1Url,this.foto2Url);this.pacienteService.guardarPaciente(zr).then(Pr=>{this.showSuccess()}).catch(Pr=>{this.showError(Pr)})}showSuccess(){}showError(It){}onFileChanged(It,ct){var jt=this;return(0,it.Z)(function*(){const nn=It.target.files[0];nn?(jt.task=jt.fireStorage.upload(`${jt.basePath}/${nn.name}`,nn),(yield jt.task).ref.getDownloadURL().then(br=>{1==ct?jt.foto1Url=br:jt.foto2Url=br})):1==ct?jt.foto1Url="":jt.foto2Url=""})()}}return ke.\u0275fac=function(It){return new(It||ke)(I.Y36(dt.d),I.Y36(Qe.z),I.Y36(h.F0),I.Y36(ve.qu),I.Y36(nt.Q1))},ke.\u0275cmp=I.Xpm({type:ke,selectors:[["app-registro-paciente"]],decls:66,vars:13,consts:[["lang","en"],[1,"bg-light"],[1,"container"],[3,"formGroup","ngSubmit"],[1,"mb-3"],[1,"form-group"],[1,"row","g-3"],[1,"col-sm-6"],["for","firstName"],["type","text","formControlName","nombre","placeholder","",1,"form-control"],["class","text-danger",4,"ngIf"],["type","text","formControlName","apellido","placeholder","",1,"form-control"],["for","dni"],["type","number","formControlName","dni","placeholder","",1,"form-control"],["for","edad"],["type","number","formControlName","edad","placeholder","",1,"form-control"],["for","obraSocial"],["type","text","formControlName","obraSocial","placeholder","",1,"form-control"],[1,"row","mb-3"],[1,"col"],["for","photo"],["type","file","name","file","formControlName","foto1","accept",".jpeg,.jpg,.png,.svg",1,"form-control",3,"input"],[3,"src",4,"ngIf"],["type","file","name","file","formControlName","foto2","accept",".jpeg,.jpg,.png,.svg",1,"form-control",3,"input"],[1,"row"],["for","mail"],["type","email","formControlName","mail","placeholder","",1,"form-control"],["for","password"],["type","password","formControlName","password","placeholder","",1,"form-control"],["type","submit",1,"btn","btn-primary","btn-md","btn-block",3,"disabled"],[1,"text-danger"],[3,"src"]],template:function(It,ct){if(1&It&&(I.TgZ(0,"html",0)(1,"body",1)(2,"div",2)(3,"form",3),I.NdJ("ngSubmit",function(){return ct.signUp()}),I.TgZ(4,"h4",4),I._uU(5,"Alta Paciente"),I.qZA(),I.TgZ(6,"div",5)(7,"div",6)(8,"div",7)(9,"label",8),I._uU(10,"Nombre"),I.qZA(),I._UZ(11,"input",9),I.YNc(12,We,2,0,"span",10),I.qZA(),I.TgZ(13,"div",7)(14,"label",8),I._uU(15,"Apellido"),I.qZA(),I._UZ(16,"input",11),I.YNc(17,Te,2,0,"span",10),I.qZA(),I.TgZ(18,"div",7)(19,"label",12),I._uU(20,"DNI"),I.qZA(),I._UZ(21,"input",13),I.YNc(22,Je,2,0,"span",10),I.qZA(),I.TgZ(23,"div",7)(24,"label",14),I._uU(25,"Edad"),I.qZA(),I._UZ(26,"input",15),I.YNc(27,Z,2,0,"span",10),I.qZA()(),I.TgZ(28,"div",4)(29,"label",16),I._uU(30,"Obra social "),I.qZA(),I._UZ(31,"input",17),I.YNc(32,ne,2,0,"span",10),I.qZA(),I.TgZ(33,"div",18)(34,"div",19)(35,"label",20),I._uU(36,"Foto de perfil 1"),I.qZA(),I._UZ(37,"br"),I.TgZ(38,"input",21),I.NdJ("input",function(nn){return ct.onFileChanged(nn,1)}),I.qZA(),I.YNc(39,Oe,2,0,"span",10),I._UZ(40,"br"),I.YNc(41,$e,1,1,"img",22),I._UZ(42,"br"),I.qZA(),I.TgZ(43,"div",19)(44,"label",20),I._uU(45,"Foto de perfil 2"),I.qZA(),I._UZ(46,"br"),I.TgZ(47,"input",23),I.NdJ("input",function(nn){return ct.onFileChanged(nn,2)}),I.qZA(),I.YNc(48,ot,2,0,"span",10),I._UZ(49,"br"),I.YNc(50,at,1,1,"img",22),I._UZ(51,"br"),I.qZA()(),I.TgZ(52,"div",24)(53,"div",7)(54,"label",25),I._uU(55,"Mail"),I.qZA(),I._UZ(56,"input",26),I.YNc(57,j,2,0,"span",10),I.qZA(),I.TgZ(58,"div",7)(59,"label",27),I._uU(60,"Password"),I.qZA(),I._UZ(61,"input",28),I.YNc(62,be,2,0,"span",10),I.qZA()(),I._UZ(63,"br"),I.TgZ(64,"button",29),I._uU(65,"Cargar Paciente"),I.qZA()()()()()()),2&It){let jt,nn,jn,br,mr,Mr,dr,zr,Pr;I.xp6(3),I.Q6J("formGroup",ct.formAltaPaciente),I.xp6(9),I.Q6J("ngIf",(null==(jt=ct.formAltaPaciente.get("nombre"))?null:jt.hasError("required"))&&(null==(jt=ct.formAltaPaciente.get("nombre"))?null:jt.touched)),I.xp6(5),I.Q6J("ngIf",(null==(nn=ct.formAltaPaciente.get("apellido"))?null:nn.hasError("required"))&&(null==(nn=ct.formAltaPaciente.get("apellido"))?null:nn.touched)),I.xp6(5),I.Q6J("ngIf",(null==(jn=ct.formAltaPaciente.get("dni"))?null:jn.hasError("required"))&&(null==(jn=ct.formAltaPaciente.get("dni"))?null:jn.touched)),I.xp6(5),I.Q6J("ngIf",(null==(br=ct.formAltaPaciente.get("edad"))?null:br.hasError("required"))&&(null==(br=ct.formAltaPaciente.get("edad"))?null:br.touched)),I.xp6(5),I.Q6J("ngIf",(null==(mr=ct.formAltaPaciente.get("obraSocial"))?null:mr.hasError("required"))&&(null==(mr=ct.formAltaPaciente.get("obraSocial"))?null:mr.touched)),I.xp6(7),I.Q6J("ngIf",(null==(Mr=ct.formAltaPaciente.get("foto1"))?null:Mr.hasError("required"))&&(null==(Mr=ct.formAltaPaciente.get("foto1"))?null:Mr.touched)),I.xp6(2),I.Q6J("ngIf",ct.foto1Url),I.xp6(7),I.Q6J("ngIf",(null==(dr=ct.formAltaPaciente.get("foto2"))?null:dr.hasError("required"))&&(null==(dr=ct.formAltaPaciente.get("foto2"))?null:dr.touched)),I.xp6(2),I.Q6J("ngIf",ct.foto2Url),I.xp6(7),I.Q6J("ngIf",(null==(zr=ct.formAltaPaciente.get("mail"))?null:zr.hasError("required"))&&(null==(zr=ct.formAltaPaciente.get("mail"))?null:zr.touched)),I.xp6(5),I.Q6J("ngIf",(null==(Pr=ct.formAltaPaciente.get("password"))?null:Pr.hasError("required"))&&(null==(Pr=ct.formAltaPaciente.get("password"))?null:Pr.touched)),I.xp6(2),I.Q6J("disabled",ct.formAltaPaciente.invalid)}},directives:[ve._Y,ve.JL,ve.sg,ve.Fj,ve.JJ,ve.u,C.O5,ve.wV],styles:["html[_ngcontent-%COMP%], body[_ngcontent-%COMP%]{height:100%}body[_ngcontent-%COMP%]{display:contents;align-items:center;padding-top:40px;padding-bottom:40px;background-color:#f5f5f5}.form-signin[_ngcontent-%COMP%]{width:100%;max-width:330px;padding:15px;margin:auto}.form-signin[_ngcontent-%COMP%]   .checkbox[_ngcontent-%COMP%]{font-weight:400}.form-signin[_ngcontent-%COMP%]   .form-floating[_ngcontent-%COMP%]:focus-within{z-index:2}.form-signin[_ngcontent-%COMP%]   input[type=email][_ngcontent-%COMP%]{margin-bottom:-1px;border-bottom-right-radius:0;border-bottom-left-radius:0}.form-signin[_ngcontent-%COMP%]   input[type=password][_ngcontent-%COMP%]{margin-bottom:10px;border-top-left-radius:0;border-top-right-radius:0}img[_ngcontent-%COMP%]{display:inline;width:100px;height:100px;object-fit:scale-down}"]}),ke})();function Ee(ke,ft){1&ke&&(I.TgZ(0,"div",5)(1,"a",6)(2,"h1"),I._uU(3,"Registrar Paciente"),I.qZA()(),I.TgZ(4,"a",7)(5,"h1"),I._uU(6,"Registrar Especialista"),I.qZA()()())}function Ue(ke,ft){if(1&ke){const It=I.EpF();I.TgZ(0,"div")(1,"button",8),I.NdJ("click",function(){return I.CHM(It),I.oxw().registrarPaciente()}),I._uU(2," Registrar Paciente "),I.qZA(),I.TgZ(3,"button",8),I.NdJ("click",function(){return I.CHM(It),I.oxw().registrarEspecialista()}),I._uU(4," Registrar Especialista "),I.qZA(),I.TgZ(5,"button",8),I.NdJ("click",function(){return I.CHM(It),I.oxw().registrarAdministrador()}),I._uU(6," Registrar Administrador "),I.qZA()()}}function lt(ke,ft){1&ke&&I._UZ(0,"app-registro-paciente")}function Tt(ke,ft){1&ke&&I._UZ(0,"app-registro-especialista")}function Ft(ke,ft){1&ke&&I._UZ(0,"app-registro-administrador")}let $t=(()=>{class ke{constructor(It,ct){this.authService=It,this.router=ct,this.regPaciente=!1,this.regEspecialista=!1,this.regAdministrador=!1,this.esAdmin=!1,this.isUserPanel=!1}ngOnInit(){this.authService.isLoggedIn&&"administrador"==JSON.parse(localStorage.getItem("loggedUser")||"").tipo&&(this.esAdmin=!0)}registrarPaciente(){this.regAdministrador=!1,this.regPaciente=!0,this.regEspecialista=!1}registrarAdministrador(){this.regAdministrador=!0,this.regPaciente=!1,this.regEspecialista=!1}registrarEspecialista(){this.regAdministrador=!1,this.regPaciente=!1,this.regEspecialista=!0}}return ke.\u0275fac=function(It){return new(It||ke)(I.Y36(Qe.z),I.Y36(h.F0))},ke.\u0275cmp=I.Xpm({type:ke,selectors:[["app-registro"]],inputs:{isUserPanel:"isUserPanel"},decls:11,vars:5,consts:[["lang","en"],[1,"text-center"],[1,"form-signin"],["class","miclase",4,"ngIf"],[4,"ngIf"],[1,"miclase"],["rounded","true","type","submit","href","registro/paciente",1,"btn","btn-lg","btn-primary","btn-paciente"],["rounded","true","type","submit","href","registro/especialista",1,"btn","btn-lg","btn-primary","btn-especialista"],["type","submit",1,"btn","btn-md","btn-primary",3,"click"]],template:function(It,ct){1&It&&(I.TgZ(0,"html",0)(1,"body",1)(2,"main",2),I.YNc(3,Ee,7,0,"div",3),I.YNc(4,Ue,7,0,"div",4),I._UZ(5,"br")(6,"br"),I.TgZ(7,"form"),I.YNc(8,lt,1,0,"app-registro-paciente",4),I.YNc(9,Tt,1,0,"app-registro-especialista",4),I.YNc(10,Ft,1,0,"app-registro-administrador",4),I.qZA()()()()),2&It&&(I.xp6(3),I.Q6J("ngIf",!ct.isUserPanel),I.xp6(1),I.Q6J("ngIf",ct.isUserPanel),I.xp6(4),I.Q6J("ngIf",ct.regPaciente),I.xp6(1),I.Q6J("ngIf",ct.regEspecialista),I.xp6(1),I.Q6J("ngIf",ct.regAdministrador))},directives:[C.O5,ve._Y,ve.JL,ve.F,J,De,ye],styles:['@import"https://fonts.googleapis.com/css?family=Bangers&display=swap";html[_ngcontent-%COMP%], body[_ngcontent-%COMP%], main[_ngcontent-%COMP%]{height:91vh!important;height:auto}body[_ngcontent-%COMP%]{align-items:center;padding-top:40px;padding-bottom:40px;background-color:#f5f5f5}.btn[_ngcontent-%COMP%]{margin:1%;background-position:center;background-repeat:no-repeat;background-size:cover}.btn-paciente[_ngcontent-%COMP%]{background-image:url(pacienteCovid.eca32074f5a4b0d1.jpg);height:250px;width:250px;border-radius:50%;font-family:Bangers,cursive}.btn-especialista[_ngcontent-%COMP%]{background-image:url(especialistaCovid.8c8e08764de47fea.jpg);height:250px;width:250px;border-radius:50%;font-family:Bangers,cursive}h1[_ngcontent-%COMP%]{position:relative;top:150px;color:#000;z-index:2;font-size:medium;-webkit-text-stroke-color:white;letter-spacing:15px;text-transform:uppercase;transform:rotate(-10deg);text-shadow:1px 1px hsl(0,70%,40%),2px 2px hsl(0,100%,39%),3px 3px hsl(0,100%,38%),4px 4px hsl(0,100%,37%),5px 5px hsl(0,100%,36%),6px 6px hsl(0,100%,35%),7px 7px hsl(0,100%,34%),8px 8px hsl(0,100%,33%),9px 9px hsl(0,100%,32%),10px 10px hsl(0,100%,31%),10px 10px 30px rgba(0,0,0,.7)}.miclase[_ngcontent-%COMP%]{display:inline-block}']}),ke})();var vn=me(9571);const $n=[{path:"",component:$t},{path:"verify-email",component:(()=>{class ke{constructor(It){this.authService=It}ngOnInit(){}}return ke.\u0275fac=function(It){return new(It||ke)(I.Y36(Qe.z))},ke.\u0275cmp=I.Xpm({type:ke,selectors:[["app-verify-email"]],decls:16,vars:0,consts:[["lang","en"],["tabindex","-1","role","dialog","id","modalSheet",1,"modal","modal-sheet","position-static","d-block","bg-secondary","py-5"],["role","document",1,"modal-dialog"],[1,"modal-content","rounded-6","shadow"],[1,"modal-header","border-bottom-0"],[1,"modal-title"],[1,"modal-body","py-0"],[1,"modal-footer","flex-column","border-top-0"],["type","button",1,"btn","btn-lg","btn-primary","w-100","mx-0","mb-2",3,"click"],["type","button","href","/login",1,"btn","btn-lg","btn-light","w-100","mx-0"]],template:function(It,ct){1&It&&(I.TgZ(0,"html",0)(1,"body")(2,"div",1)(3,"div",2)(4,"div",3)(5,"div",4)(6,"h5",5),I._uU(7,"Verificaci\xf3n de Email"),I.qZA()(),I.TgZ(8,"div",6)(9,"p"),I._uU(10," H\xe1game el favor de revisar su correo y clickear en el link de verificaci\xf3n de email"),I.qZA()(),I.TgZ(11,"div",7)(12,"button",8),I.NdJ("click",function(){return ct.authService.SendVerificationMail()}),I._uU(13,"Volver a mandar verificaci\xf3n"),I.qZA(),I.TgZ(14,"a",9),I._uU(15,"Loguearse"),I.qZA()()()()()()())},styles:[".b-example-divider[_ngcontent-%COMP%]{height:3rem;background-color:#0000001a;border:solid rgba(0,0,0,.15);border-width:1px 0;box-shadow:inset 0 .5em 1.5em #0000001a,inset 0 .125em .5em #00000026}.bi[_ngcontent-%COMP%]{vertical-align:-.125em;fill:currentColor}.rounded-4[_ngcontent-%COMP%]{border-radius:.5rem}.rounded-5[_ngcontent-%COMP%]{border-radius:.75rem}.rounded-6[_ngcontent-%COMP%]{border-radius:1rem}.modal-sheet[_ngcontent-%COMP%]   .modal-dialog[_ngcontent-%COMP%]{width:380px;transition:bottom .75s ease-in-out}.modal-sheet[_ngcontent-%COMP%]   .modal-footer[_ngcontent-%COMP%]{padding-bottom:2rem}.modal-alert[_ngcontent-%COMP%]   .modal-dialog[_ngcontent-%COMP%]{width:380px}.border-right[_ngcontent-%COMP%]{border-right:1px solid #eee}.modal-tour[_ngcontent-%COMP%]   .modal-dialog[_ngcontent-%COMP%]{width:380px}"]}),ke})(),canActivate:[vn.a]},{path:"administrador",component:ye},{path:"paciente",component:J},{path:"especialista",component:De}];let yn=(()=>{class ke{}return ke.\u0275fac=function(It){return new(It||ke)},ke.\u0275mod=I.oAB({type:ke}),ke.\u0275inj=I.cJS({imports:[[h.Bz.forChild($n)],h.Bz]}),ke})(),hn=(()=>{class ke{}return ke.\u0275fac=function(It){return new(It||ke)},ke.\u0275mod=I.oAB({type:ke}),ke.\u0275inj=I.cJS({imports:[[C.ez,yn]]}),ke})()},5614:(Gr,Ln,me)=>{"use strict";me.d(Ln,{p:()=>it});var C=me(5e3),h=me(3290);let it=(()=>{class ve{constructor(I){this.firestore=I,this.administradores=I.collection("administradores").snapshotChanges()}getAdministradores(){return this.firestore.collection("administradores").snapshotChanges()}getAdministrador(I){return this.firestore.collection("administradores",tt=>tt.where("mail","==",I)).snapshotChanges()}guardarAdministrador(I){return this.firestore.collection("administradores").add({nombre:I.nombre,apellido:I.apellido,edad:I.edad,dni:I.dni,mail:I.mail,password:I.password,fotoUrl:I.fotoUrl,tipo:"administrador"})}}return ve.\u0275fac=function(I){return new(I||ve)(C.LFG(h.ST))},ve.\u0275prov=C.Yz7({token:ve,factory:ve.\u0275fac,providedIn:"root"}),ve})()},9571:(Gr,Ln,me)=>{"use strict";me.d(Ln,{a:()=>it});var C=me(5e3),h=me(441);let it=(()=>{class ve{constructor(I){this.router=I}canActivate(I,tt){return!!JSON.parse(localStorage.getItem("user")||"")||(this.router.navigate(["home"]),!1)}}return ve.\u0275fac=function(I){return new(I||ve)(C.LFG(h.F0))},ve.\u0275prov=C.Yz7({token:ve,factory:ve.\u0275fac,providedIn:"root"}),ve})()},5401:(Gr,Ln,me)=>{"use strict";me.d(Ln,{T:()=>it});var C=me(5e3),h=me(3290);let it=(()=>{class ve{constructor(I){this.firestore=I,this.especialidades=I.collection("especialidades").snapshotChanges()}getEspecialidades(){return this.firestore.collection("especialidades").snapshotChanges()}getEspecialidad(I){return this.firestore.collection("especialidades").doc(I).valueChanges()}guardarEspecialidad(I){return this.firestore.collection("especialidades").add({nombre:I.nombre})}}return ve.\u0275fac=function(I){return new(I||ve)(C.LFG(h.ST))},ve.\u0275prov=C.Yz7({token:ve,factory:ve.\u0275fac,providedIn:"root"}),ve})()},9768:(Gr,Ln,me)=>{"use strict";me.d(Ln,{n:()=>it});var C=me(5e3),h=me(3290);let it=(()=>{class ve{constructor(I){this.firestore=I,this.especialistas=I.collection("especialistas").snapshotChanges()}getEspecialistas(){return this.firestore.collection("especialistas").snapshotChanges()}getEspecialistasByEspecialidad(I){return this.firestore.collection("especialistas",tt=>tt.where("especialidades","array-contains",I)).snapshotChanges()}getEspecialistasByList(I){return this.firestore.collection("especialistas",tt=>tt.where("mail","in",I)).snapshotChanges()}getEspecialista(I){return this.firestore.collection("especialistas",tt=>tt.where("mail","==",I)).snapshotChanges()}guardarEspecialista(I){return this.firestore.collection("especialistas").add({nombre:I.nombre,apellido:I.apellido,edad:I.edad,dni:I.dni,especialidades:I.especialidades,mail:I.mail,password:I.password,fotoUrl:I.fotoUrl,habilitado:I.habilitado,tipo:"especialista"})}habilitarEspecialista(I,tt){let Qe=this.getEspecialista(I).subscribe(nt=>{let ze=nt[0].payload.doc.id;this.firestore.collection("especialistas").doc(ze).update({habilitado:tt}).then(()=>{}).catch(Fe=>{}),Qe.unsubscribe()})}}return ve.\u0275fac=function(I){return new(I||ve)(C.LFG(h.ST))},ve.\u0275prov=C.Yz7({token:ve,factory:ve.\u0275fac,providedIn:"root"}),ve})()},7891:(Gr,Ln,me)=>{"use strict";me.d(Ln,{d:()=>it});var C=me(5e3),h=me(3290);let it=(()=>{class ve{constructor(I){this.firestore=I,this.pacientes=I.collection("pacientes").snapshotChanges()}getPacientes(){return this.firestore.collection("pacientes").snapshotChanges()}getPaciente(I){return this.firestore.collection("pacientes",tt=>tt.where("mail","==",I)).snapshotChanges()}getPacientesByList(I){return this.firestore.collection("pacientes",tt=>tt.where("mail","in",I)).snapshotChanges()}guardarPaciente(I){return this.firestore.collection("pacientes").add({nombre:I.nombre,apellido:I.apellido,edad:I.edad,dni:I.dni,obraSocial:I.obraSocial,mail:I.mail,password:I.password,foto1Url:I.foto1Url,foto2Url:I.foto2Url,tipo:"paciente"})}}return ve.\u0275fac=function(I){return new(I||ve)(C.LFG(h.ST))},ve.\u0275prov=C.Yz7({token:ve,factory:ve.\u0275fac,providedIn:"root"}),ve})()},3029:(Gr,Ln,me)=>{"use strict";me.d(Ln,{z:()=>I});var C=me(5861),h=me(5e3),it=me(3290),ve=me(3385),Ne=me(441);let I=(()=>{class tt{constructor(nt,ze,qe,Fe){this.afStore=nt,this.ngFireAuth=ze,this.router=qe,this.ngZone=Fe,this.ngFireAuth.authState.subscribe(He=>{He?(this.userData=He,localStorage.setItem("user",JSON.stringify(this.userData))):localStorage.setItem("user"," ")})}SignIn(nt,ze){return this.ngFireAuth.signInWithEmailAndPassword(nt,ze)}RegisterUser(nt,ze){return this.ngFireAuth.createUserWithEmailAndPassword(nt,ze)}SendVerificationMail(){var nt=this;return(0,C.Z)(function*(){var ze;return null===(ze=yield nt.ngFireAuth.currentUser)||void 0===ze?void 0:ze.sendEmailVerification().then(()=>{nt.router.navigate(["registro/verify-email"])})})()}PasswordRecover(nt){return this.ngFireAuth.sendPasswordResetEmail(nt).then(()=>{window.alert("Password reset email has been sent, please check your inbox.")}).catch(ze=>{window.alert(ze)})}get isLoggedIn(){const nt=JSON.parse(localStorage.getItem("user")||""),ze=JSON.parse(localStorage.getItem("loggedUser")||"");return null!==nt&&(!1!==nt.emailVerified||null!==ze&&"administrador"==ze.tipo)}get isEmailVerified(){return!1!==JSON.parse(localStorage.getItem("user")||"").emailVerified}SignOut(){return this.ngFireAuth.signOut().then(()=>{localStorage.removeItem("user"),localStorage.removeItem("loggedUser"),this.router.navigate(["login"])})}checkIfUserIsLogged(){return this.ngFireAuth.onAuthStateChanged(nt=>{this.userData=nt||null}),this.userData}}return tt.\u0275fac=function(nt){return new(nt||tt)(h.LFG(it.ST),h.LFG(ve.zQ),h.LFG(Ne.F0),h.LFG(h.R0b))},tt.\u0275prov=h.Yz7({token:tt,factory:tt.\u0275fac,providedIn:"root"}),tt})()},2961:(Gr,Ln,me)=>{"use strict";var C=me(9808),h=me(5e3);class it extends C.w_{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class ve extends it{static makeCurrent(){(0,C.HT)(new ve)}onAndCancel(n,t,r){return n.addEventListener(t,r,!1),()=>{n.removeEventListener(t,r,!1)}}dispatchEvent(n,t){n.dispatchEvent(t)}remove(n){n.parentNode&&n.parentNode.removeChild(n)}createElement(n,t){return(t=t||this.getDefaultDocument()).createElement(n)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(n){return n.nodeType===Node.ELEMENT_NODE}isShadowRoot(n){return n instanceof DocumentFragment}getGlobalEventTarget(n,t){return"window"===t?window:"document"===t?n:"body"===t?n.body:null}getBaseHref(n){const t=function I(){return Ne=Ne||document.querySelector("base"),Ne?Ne.getAttribute("href"):null}();return null==t?null:function Qe(e){tt=tt||document.createElement("a"),tt.setAttribute("href",e);const n=tt.pathname;return"/"===n.charAt(0)?n:`/${n}`}(t)}resetBaseElement(){Ne=null}getUserAgent(){return window.navigator.userAgent}getCookie(n){return(0,C.Mx)(document.cookie,n)}}let tt,Ne=null;const nt=new h.OlP("TRANSITION_ID"),qe=[{provide:h.ip1,useFactory:function ze(e,n,t){return()=>{t.get(h.CZH).donePromise.then(()=>{const r=(0,C.q)(),s=n.querySelectorAll(`style[ng-transition="${e}"]`);for(let o=0;o<s.length;o++)r.remove(s[o])})}},deps:[nt,C.K0,h.zs3],multi:!0}];class Fe{static init(){(0,h.VLi)(new Fe)}addToWindow(n){h.dqk.getAngularTestability=(r,s=!0)=>{const o=n.findTestabilityInTree(r,s);if(null==o)throw new Error("Could not find testability for element.");return o},h.dqk.getAllAngularTestabilities=()=>n.getAllTestabilities(),h.dqk.getAllAngularRootElements=()=>n.getAllRootElements(),h.dqk.frameworkStabilizers||(h.dqk.frameworkStabilizers=[]),h.dqk.frameworkStabilizers.push(r=>{const s=h.dqk.getAllAngularTestabilities();let o=s.length,d=!1;const g=function(m){d=d||m,o--,0==o&&r(d)};s.forEach(function(m){m.whenStable(g)})})}findTestabilityInTree(n,t,r){if(null==t)return null;const s=n.getTestability(t);return null!=s?s:r?(0,C.q)().isShadowRoot(t)?this.findTestabilityInTree(n,t.host,!0):this.findTestabilityInTree(n,t.parentElement,!0):null}}let He=(()=>{class e{build(){return new XMLHttpRequest}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=h.Yz7({token:e,factory:e.\u0275fac}),e})();const xe=new h.OlP("EventManagerPlugins");let we=(()=>{class e{constructor(t,r){this._zone=r,this._eventNameToPlugin=new Map,t.forEach(s=>s.manager=this),this._plugins=t.slice().reverse()}addEventListener(t,r,s){return this._findPluginFor(r).addEventListener(t,r,s)}addGlobalEventListener(t,r,s){return this._findPluginFor(r).addGlobalEventListener(t,r,s)}getZone(){return this._zone}_findPluginFor(t){const r=this._eventNameToPlugin.get(t);if(r)return r;const s=this._plugins;for(let o=0;o<s.length;o++){const d=s[o];if(d.supports(t))return this._eventNameToPlugin.set(t,d),d}throw new Error(`No event manager plugin found for event ${t}`)}}return e.\u0275fac=function(t){return new(t||e)(h.LFG(xe),h.LFG(h.R0b))},e.\u0275prov=h.Yz7({token:e,factory:e.\u0275fac}),e})();class de{constructor(n){this._doc=n}addGlobalEventListener(n,t,r){const s=(0,C.q)().getGlobalEventTarget(this._doc,n);if(!s)throw new Error(`Unsupported event target ${s} for event ${t}`);return this.addEventListener(s,t,r)}}let W=(()=>{class e{constructor(){this._stylesSet=new Set}addStyles(t){const r=new Set;t.forEach(s=>{this._stylesSet.has(s)||(this._stylesSet.add(s),r.add(s))}),this.onStylesAdded(r)}onStylesAdded(t){}getAllStyles(){return Array.from(this._stylesSet)}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=h.Yz7({token:e,factory:e.\u0275fac}),e})(),fe=(()=>{class e extends W{constructor(t){super(),this._doc=t,this._hostNodes=new Map,this._hostNodes.set(t.head,[])}_addStylesToHost(t,r,s){t.forEach(o=>{const d=this._doc.createElement("style");d.textContent=o,s.push(r.appendChild(d))})}addHost(t){const r=[];this._addStylesToHost(this._stylesSet,t,r),this._hostNodes.set(t,r)}removeHost(t){const r=this._hostNodes.get(t);r&&r.forEach(ye),this._hostNodes.delete(t)}onStylesAdded(t){this._hostNodes.forEach((r,s)=>{this._addStylesToHost(t,s,r)})}ngOnDestroy(){this._hostNodes.forEach(t=>t.forEach(ye))}}return e.\u0275fac=function(t){return new(t||e)(h.LFG(C.K0))},e.\u0275prov=h.Yz7({token:e,factory:e.\u0275fac}),e})();function ye(e){(0,C.q)().remove(e)}const Se={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},oe=/%COMP%/g;function P(e,n,t){for(let r=0;r<n.length;r++){let s=n[r];Array.isArray(s)?P(e,s,t):(s=s.replace(oe,e),t.push(s))}return t}function G(e){return n=>{if("__ngUnwrap__"===n)return e;!1===e(n)&&(n.preventDefault(),n.returnValue=!1)}}let ae=(()=>{class e{constructor(t,r,s){this.eventManager=t,this.sharedStylesHost=r,this.appId=s,this.rendererByCompId=new Map,this.defaultRenderer=new R(t)}createRenderer(t,r){if(!t||!r)return this.defaultRenderer;switch(r.encapsulation){case h.ifc.Emulated:{let s=this.rendererByCompId.get(r.id);return s||(s=new Ke(this.eventManager,this.sharedStylesHost,r,this.appId),this.rendererByCompId.set(r.id,s)),s.applyToHost(t),s}case 1:case h.ifc.ShadowDom:return new dt(this.eventManager,this.sharedStylesHost,t,r);default:if(!this.rendererByCompId.has(r.id)){const s=P(r.id,r.styles,[]);this.sharedStylesHost.addStyles(s),this.rendererByCompId.set(r.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return e.\u0275fac=function(t){return new(t||e)(h.LFG(we),h.LFG(fe),h.LFG(h.AFp))},e.\u0275prov=h.Yz7({token:e,factory:e.\u0275fac}),e})();class R{constructor(n){this.eventManager=n,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(n,t){return t?document.createElementNS(Se[t]||t,n):document.createElement(n)}createComment(n){return document.createComment(n)}createText(n){return document.createTextNode(n)}appendChild(n,t){n.appendChild(t)}insertBefore(n,t,r){n&&n.insertBefore(t,r)}removeChild(n,t){n&&n.removeChild(t)}selectRootElement(n,t){let r="string"==typeof n?document.querySelector(n):n;if(!r)throw new Error(`The selector "${n}" did not match any elements`);return t||(r.textContent=""),r}parentNode(n){return n.parentNode}nextSibling(n){return n.nextSibling}setAttribute(n,t,r,s){if(s){t=s+":"+t;const o=Se[s];o?n.setAttributeNS(o,t,r):n.setAttribute(t,r)}else n.setAttribute(t,r)}removeAttribute(n,t,r){if(r){const s=Se[r];s?n.removeAttributeNS(s,t):n.removeAttribute(`${r}:${t}`)}else n.removeAttribute(t)}addClass(n,t){n.classList.add(t)}removeClass(n,t){n.classList.remove(t)}setStyle(n,t,r,s){s&(h.JOm.DashCase|h.JOm.Important)?n.style.setProperty(t,r,s&h.JOm.Important?"important":""):n.style[t]=r}removeStyle(n,t,r){r&h.JOm.DashCase?n.style.removeProperty(t):n.style[t]=""}setProperty(n,t,r){n[t]=r}setValue(n,t){n.nodeValue=t}listen(n,t,r){return"string"==typeof n?this.eventManager.addGlobalEventListener(n,t,G(r)):this.eventManager.addEventListener(n,t,G(r))}}class Ke extends R{constructor(n,t,r,s){super(n),this.component=r;const o=P(s+"-"+r.id,r.styles,[]);t.addStyles(o),this.contentAttr=function Q(e){return"_ngcontent-%COMP%".replace(oe,e)}(s+"-"+r.id),this.hostAttr=function re(e){return"_nghost-%COMP%".replace(oe,e)}(s+"-"+r.id)}applyToHost(n){super.setAttribute(n,this.hostAttr,"")}createElement(n,t){const r=super.createElement(n,t);return super.setAttribute(r,this.contentAttr,""),r}}class dt extends R{constructor(n,t,r,s){super(n),this.sharedStylesHost=t,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const o=P(s.id,s.styles,[]);for(let d=0;d<o.length;d++){const g=document.createElement("style");g.textContent=o[d],this.shadowRoot.appendChild(g)}}nodeOrShadowRoot(n){return n===this.hostEl?this.shadowRoot:n}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(n,t){return super.appendChild(this.nodeOrShadowRoot(n),t)}insertBefore(n,t,r){return super.insertBefore(this.nodeOrShadowRoot(n),t,r)}removeChild(n,t){return super.removeChild(this.nodeOrShadowRoot(n),t)}parentNode(n){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(n)))}}let We=(()=>{class e extends de{constructor(t){super(t)}supports(t){return!0}addEventListener(t,r,s){return t.addEventListener(r,s,!1),()=>this.removeEventListener(t,r,s)}removeEventListener(t,r,s){return t.removeEventListener(r,s)}}return e.\u0275fac=function(t){return new(t||e)(h.LFG(C.K0))},e.\u0275prov=h.Yz7({token:e,factory:e.\u0275fac}),e})();const Te=["alt","control","meta","shift"],Z={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},ne={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},Oe={alt:e=>e.altKey,control:e=>e.ctrlKey,meta:e=>e.metaKey,shift:e=>e.shiftKey};let $e=(()=>{class e extends de{constructor(t){super(t)}supports(t){return null!=e.parseEventName(t)}addEventListener(t,r,s){const o=e.parseEventName(r),d=e.eventCallback(o.fullKey,s,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>(0,C.q)().onAndCancel(t,o.domEventName,d))}static parseEventName(t){const r=t.toLowerCase().split("."),s=r.shift();if(0===r.length||"keydown"!==s&&"keyup"!==s)return null;const o=e._normalizeKey(r.pop());let d="";if(Te.forEach(m=>{const _=r.indexOf(m);_>-1&&(r.splice(_,1),d+=m+".")}),d+=o,0!=r.length||0===o.length)return null;const g={};return g.domEventName=s,g.fullKey=d,g}static getEventFullKey(t){let r="",s=function ot(e){let n=e.key;if(null==n){if(n=e.keyIdentifier,null==n)return"Unidentified";n.startsWith("U+")&&(n=String.fromCharCode(parseInt(n.substring(2),16)),3===e.location&&ne.hasOwnProperty(n)&&(n=ne[n]))}return Z[n]||n}(t);return s=s.toLowerCase()," "===s?s="space":"."===s&&(s="dot"),Te.forEach(o=>{o!=s&&Oe[o](t)&&(r+=o+".")}),r+=s,r}static eventCallback(t,r,s){return o=>{e.getEventFullKey(o)===t&&s.runGuarded(()=>r(o))}}static _normalizeKey(t){return"esc"===t?"escape":t}}return e.\u0275fac=function(t){return new(t||e)(h.LFG(C.K0))},e.\u0275prov=h.Yz7({token:e,factory:e.\u0275fac}),e})();const Ee=(0,h.eFA)(h._c5,"browser",[{provide:h.Lbi,useValue:C.bD},{provide:h.g9A,useValue:function at(){ve.makeCurrent(),Fe.init()},multi:!0},{provide:C.K0,useFactory:function be(){return(0,h.RDi)(document),document},deps:[]}]),Ue=[{provide:h.zSh,useValue:"root"},{provide:h.qLn,useFactory:function j(){return new h.qLn},deps:[]},{provide:xe,useClass:We,multi:!0,deps:[C.K0,h.R0b,h.Lbi]},{provide:xe,useClass:$e,multi:!0,deps:[C.K0]},{provide:ae,useClass:ae,deps:[we,fe,h.AFp]},{provide:h.FYo,useExisting:ae},{provide:W,useExisting:fe},{provide:fe,useClass:fe,deps:[C.K0]},{provide:h.dDg,useClass:h.dDg,deps:[h.R0b]},{provide:we,useClass:we,deps:[xe,h.R0b]},{provide:C.JF,useClass:He,deps:[]}];let lt=(()=>{class e{constructor(t){if(t)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}static withServerTransition(t){return{ngModule:e,providers:[{provide:h.AFp,useValue:t.appId},{provide:nt,useExisting:h.AFp},qe]}}}return e.\u0275fac=function(t){return new(t||e)(h.LFG(e,12))},e.\u0275mod=h.oAB({type:e}),e.\u0275inj=h.cJS({providers:Ue,imports:[C.ez,h.hGG]}),e})(),Nn=(()=>{class e{constructor(t){this._doc=t}getTitle(){return this._doc.title}setTitle(t){this._doc.title=t||""}}return e.\u0275fac=function(t){return new(t||e)(h.LFG(C.K0))},e.\u0275prov=h.Yz7({token:e,factory:function(t){let r=null;return r=t?new t:function vn(){return new Nn((0,h.LFG)(C.K0))}(),r},providedIn:"root"}),e})();"undefined"!=typeof window&&window;var Rt=me(2382),hr=me(3056),vr=me(9646),ai=me(1135);const ki=new h.OlP("recaptcha-language"),Zi=new h.OlP("recaptcha-base-url"),Wi=new h.OlP("recaptcha-nonce-tag"),zs=new h.OlP("recaptcha-settings"),Ws=new h.OlP("recaptcha-v3-site-key"),gs_loadScript=function Ji(e,n,t,r,s){window.ng2recaptchaloaded=()=>{n(grecaptcha)};const o=document.createElement("script");o.innerHTML="",o.src=`${r||"https://www.google.com/recaptcha/api.js"}?render=${e}&onload=ng2recaptchaloaded${t}`,s&&(o.nonce=s),o.async=!0,o.defer=!0,document.head.appendChild(o)};let xs=(()=>{class e{constructor(t,r,s,o,d){this.platformId=t,this.language=r,this.baseUrl=s,this.nonce=o,this.v3SiteKey=d,this.init(),this.ready=(0,C.NF)(this.platformId)?e.ready.asObservable():(0,vr.of)()}init(){if(!e.ready&&(0,C.NF)(this.platformId)){const t=new ai.X(null);e.ready=t,gs_loadScript(this.v3SiteKey||"explicit",o=>t.next(o),this.language?"&hl="+this.language:"",this.baseUrl,this.nonce)}}}return e.ready=null,e.\u0275fac=function(t){return new(t||e)(h.LFG(h.Lbi),h.LFG(ki,8),h.LFG(Zi,8),h.LFG(Wi,8),h.LFG(Ws,8))},e.\u0275prov=h.Yz7({token:e,factory:e.\u0275fac}),e})(),Rs=0,va=(()=>{class e{constructor(t,r,s,o){this.elementRef=t,this.loader=r,this.zone=s,this.id="ngrecaptcha-"+Rs++,this.errorMode="default",this.resolved=new h.vpe,this.error=new h.vpe,o&&(this.siteKey=o.siteKey,this.theme=o.theme,this.type=o.type,this.size=o.size,this.badge=o.badge)}ngAfterViewInit(){this.subscription=this.loader.ready.subscribe(t=>{null!=t&&t.render instanceof Function&&(this.grecaptcha=t,this.renderRecaptcha())})}ngOnDestroy(){this.grecaptchaReset(),this.subscription&&this.subscription.unsubscribe()}execute(){"invisible"===this.size&&(null!=this.widget?this.grecaptcha.execute(this.widget):this.executeRequested=!0)}reset(){null!=this.widget&&(this.grecaptcha.getResponse(this.widget)&&this.resolved.emit(null),this.grecaptchaReset())}get __unsafe_widgetValue(){return null!=this.widget?this.grecaptcha.getResponse(this.widget):null}expired(){this.resolved.emit(null)}errored(t){this.error.emit(t)}captchaResponseCallback(t){this.resolved.emit(t)}grecaptchaReset(){null!=this.widget&&this.zone.runOutsideAngular(()=>this.grecaptcha.reset(this.widget))}renderRecaptcha(){const t={badge:this.badge,callback:r=>{this.zone.run(()=>this.captchaResponseCallback(r))},"expired-callback":()=>{this.zone.run(()=>this.expired())},sitekey:this.siteKey,size:this.size,tabindex:this.tabIndex,theme:this.theme,type:this.type};"handled"===this.errorMode&&(t["error-callback"]=(...r)=>{this.zone.run(()=>this.errored(r))}),this.widget=this.grecaptcha.render(this.elementRef.nativeElement,t),!0===this.executeRequested&&(this.executeRequested=!1,this.execute())}}return e.\u0275fac=function(t){return new(t||e)(h.Y36(h.SBq),h.Y36(xs),h.Y36(h.R0b),h.Y36(zs,8))},e.\u0275cmp=h.Xpm({type:e,selectors:[["re-captcha"]],hostVars:1,hostBindings:function(t,r){2&t&&h.uIk("id",r.id)},inputs:{id:"id",siteKey:"siteKey",theme:"theme",type:"type",size:"size",tabIndex:"tabIndex",badge:"badge",errorMode:"errorMode"},outputs:{resolved:"resolved",error:"error"},exportAs:["reCaptcha"],decls:0,vars:0,template:function(t,r){},encapsulation:2}),e})(),Eo=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=h.oAB({type:e}),e.\u0275inj=h.cJS({}),e})(),Hr=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=h.oAB({type:e}),e.\u0275inj=h.cJS({providers:[xs],imports:[[Eo]]}),e})(),kr=(()=>{class e{constructor(t){this.host=t,this.requiresControllerReset=!1}writeValue(t){t?this.host.__unsafe_widgetValue!==t&&!1===Boolean(this.host.__unsafe_widgetValue)&&(this.requiresControllerReset=!0):this.host.reset()}registerOnChange(t){this.onChange=t,this.requiresControllerReset&&(this.requiresControllerReset=!1,this.onChange(null))}registerOnTouched(t){this.onTouched=t}onResolve(t){this.onChange&&this.onChange(t),this.onTouched&&this.onTouched()}}return e.\u0275fac=function(t){return new(t||e)(h.Y36(va))},e.\u0275dir=h.lG2({type:e,selectors:[["re-captcha","formControlName",""],["re-captcha","formControl",""],["re-captcha","ngModel",""]],hostBindings:function(t,r){1&t&&h.NdJ("resolved",function(o){return r.onResolve(o)})},features:[h._Bn([{multi:!0,provide:Rt.JU,useExisting:(0,h.Gpc)(()=>e)}])]}),e})(),Ai=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=h.oAB({type:e}),e.\u0275inj=h.cJS({imports:[[Rt.u5,Eo]]}),e})();var Ni=me(441),us=me(7579),Li=me(3029);function Ls(e,n){1&e&&(h.TgZ(0,"a",21),h._uU(1,"Ingresar"),h.qZA())}function Io(e,n){1&e&&(h.TgZ(0,"a",22),h._uU(1,"Mi perfil"),h.qZA())}function Ri(e,n){1&e&&(h.TgZ(0,"a",23),h._uU(1,"Secci\xf3n usuarios"),h.qZA())}function To(e,n){1&e&&(h.TgZ(0,"a",24),h._uU(1,"Mis pacientes"),h.qZA())}function Ha(e,n){1&e&&(h.TgZ(0,"a",25),h._uU(1,"Administraci\xf3n de turnos"),h.qZA())}function za(e,n){1&e&&(h.TgZ(0,"a",26),h._uU(1,"Mis turnos"),h.qZA())}function tl(e,n){1&e&&(h.TgZ(0,"a",27),h._uU(1,"Solicitar turno"),h.qZA())}function Ys(e,n){1&e&&(h.TgZ(0,"a",28),h._uU(1,"Informes"),h.qZA())}function Do(e,n){if(1&e){const t=h.EpF();h.TgZ(0,"a",29),h.NdJ("click",function(){return h.CHM(t),h.oxw().logOut()}),h._uU(1,"Salir"),h.qZA()}}class Sn{constructor(n,t){this.router=n,this.authService=t,this.isLogged=!1,this.esAdmin=!1,this.esEspec=!1,this.esPac=!1,Sn.updateUserStatus.subscribe(r=>{this.isLogged=!0;let s=JSON.parse(localStorage.getItem("loggedUser")||"");"administrador"==s.tipo?(this.esAdmin=!0,this.esEspec=!1,this.esPac=!1):"especialista"==s.tipo?(this.esAdmin=!1,this.esEspec=!0,this.esPac=!1):"paciente"==s.tipo&&(this.esAdmin=!1,this.esEspec=!1,this.esPac=!0)})}ngOnInit(){let n=JSON.parse(localStorage.getItem("loggedUser")||"");n?(this.isLogged=!0,"administrador"==n.tipo?(this.esAdmin=!0,this.esEspec=!1,this.esPac=!1):"especialista"==n.tipo?(this.esAdmin=!1,this.esEspec=!0,this.esPac=!1):"paciente"==n.tipo&&(this.esAdmin=!1,this.esEspec=!1,this.esPac=!0)):this.isLogged=!1}logOut(){this.isLogged=!1,this.esAdmin=!1,this.esPac=!1,this.esEspec=!1,this.authService.SignOut()}}function Tn(e,n){1&e&&(h.TgZ(0,"a",9),h._uU(1,"Ingresar"),h.qZA())}function Hn(e,n){1&e&&(h.TgZ(0,"a",10),h._uU(1,"Secci\xf3n Usuarios"),h.qZA())}function Or(e,n){1&e&&(h.TgZ(0,"a",11),h._uU(1,"Administraci\xf3n de turnos"),h.qZA())}Sn.updateUserStatus=new us.x,Sn.\u0275fac=function(n){return new(n||Sn)(h.Y36(Ni.F0),h.Y36(Li.z))},Sn.\u0275cmp=h.Xpm({type:Sn,selectors:[["app-nav-bar"]],decls:38,vars:9,consts:[["aria-label","Third navbar example",1,"navbar","navbar-expand-sm","navbar-dark","bg-dark"],[1,"container-fluid"],["href","#",1,"navbar-brand"],["type","button","data-bs-toggle","collapse","data-bs-target","#navbarsExample03","aria-controls","navbarsExample03","aria-expanded","false","aria-label","Toggle navigation",1,"navbar-toggler"],[1,"navbar-toggler-icon"],["id","navbarsExample03",1,"collapse","navbar-collapse"],[1,"navbar-nav","me-auto","mb-2","mb-sm-0"],[1,"nav-item"],["aria-current","page","routerLink","home",1,"nav-link","active"],["class","nav-link","routerLink","login",4,"ngIf"],["routerLink","registro",1,"nav-link"],["class","nav-link","routerLink","mi-perfil",4,"ngIf"],["class","nav-link","routerLink","seccion-usuarios",4,"ngIf"],["class","nav-link","routerLink","pacientes",4,"ngIf"],["class","nav-link","routerLink","turnos",4,"ngIf"],["class","nav-link","routerLink","mis-turnos",4,"ngIf"],["class","nav-link","routerLink","solicitar-turno",4,"ngIf"],["class","nav-link","routerLink","informes",4,"ngIf"],["class","nav-link",3,"click",4,"ngIf"],["href","https://github.com/ale0410/tp-final-clinicas-2022/blob/master/README.md",1,"nav-link","active"],["src","../../../assets/covid19.jpg","alt","text"],["routerLink","login",1,"nav-link"],["routerLink","mi-perfil",1,"nav-link"],["routerLink","seccion-usuarios",1,"nav-link"],["routerLink","pacientes",1,"nav-link"],["routerLink","turnos",1,"nav-link"],["routerLink","mis-turnos",1,"nav-link"],["routerLink","solicitar-turno",1,"nav-link"],["routerLink","informes",1,"nav-link"],[1,"nav-link",3,"click"]],template:function(n,t){1&n&&(h.TgZ(0,"body")(1,"main")(2,"nav",0)(3,"div",1)(4,"a",2),h._uU(5,"Bienvenido a TPCl\xednica"),h.qZA(),h.TgZ(6,"button",3),h._UZ(7,"span",4),h.qZA(),h.TgZ(8,"div",5)(9,"ul",6)(10,"li",7)(11,"a",8),h._uU(12,"Home"),h.qZA()(),h.TgZ(13,"li",7),h.YNc(14,Ls,2,0,"a",9),h.qZA(),h.TgZ(15,"li",7)(16,"a",10),h._uU(17,"Registro"),h.qZA()(),h.TgZ(18,"li",7),h.YNc(19,Io,2,0,"a",11),h.qZA(),h.TgZ(20,"li",7),h.YNc(21,Ri,2,0,"a",12),h.qZA(),h.TgZ(22,"li",7),h.YNc(23,To,2,0,"a",13),h.qZA(),h.TgZ(24,"li",7),h.YNc(25,Ha,2,0,"a",14),h.qZA(),h.TgZ(26,"li",7),h.YNc(27,za,2,0,"a",15),h.qZA(),h.TgZ(28,"li",7),h.YNc(29,tl,2,0,"a",16),h.qZA(),h.TgZ(30,"li",7),h.YNc(31,Ys,2,0,"a",17),h.qZA(),h.TgZ(32,"li",7),h.YNc(33,Do,2,0,"a",18),h.qZA(),h.TgZ(34,"li",7)(35,"a",19),h._uU(36,"Read me"),h.qZA()()()()()()()(),h._UZ(37,"img",20)),2&n&&(h.xp6(14),h.Q6J("ngIf",!t.isLogged),h.xp6(5),h.Q6J("ngIf",t.isLogged),h.xp6(2),h.Q6J("ngIf",t.esAdmin),h.xp6(2),h.Q6J("ngIf",t.esEspec),h.xp6(2),h.Q6J("ngIf",t.esAdmin),h.xp6(2),h.Q6J("ngIf",t.esPac||t.esEspec),h.xp6(2),h.Q6J("ngIf",t.esPac||t.esAdmin),h.xp6(2),h.Q6J("ngIf",t.esAdmin),h.xp6(2),h.Q6J("ngIf",t.isLogged))},directives:[Ni.yS,C.O5],styles:["body[_ngcontent-%COMP%]{padding-bottom:20px}.navbar[_ngcontent-%COMP%]{margin-bottom:20px}"]});class jr{constructor(n,t){this.router=n,this.authService=t,this.isLogged=!1,this.esAdmin=!1,Sn.updateUserStatus.subscribe(r=>{this.isLogged=!0,"administrador"==JSON.parse(localStorage.getItem("loggedUser")||"").tipo&&(this.esAdmin=!0)})}ngOnInit(){let n=JSON.parse(localStorage.getItem("loggedUser")||"");n?(this.isLogged=!0,"administrador"==n.tipo&&(this.esAdmin=!0)):this.isLogged=!1}}jr.updateUserStatus=new us.x,jr.\u0275fac=function(n){return new(n||jr)(h.Y36(Ni.F0),h.Y36(Li.z))},jr.\u0275cmp=h.Xpm({type:jr,selectors:[["app-home"]],decls:19,vars:3,consts:[["lang","en",1,"h-100"],["scroll","none",1,"d-flex","h-100","text-center","text-white","bg-dark"],[1,"cover-container","d-flex","w-100","h-100","p-3","mx-auto","flex-column"],[1,"px-3"],[1,"lead"],["href","login","class","btn btn-lg btn-primary ",4,"ngIf"],["href","registro",1,"btn","btn-lg","btn-primary"],["class","btn btn-lg btn-primary","href","seccion-usuarios",4,"ngIf"],["class","btn btn-lg btn-primary","href","turnos",4,"ngIf"],["href","login",1,"btn","btn-lg","btn-primary"],["href","seccion-usuarios",1,"btn","btn-lg","btn-primary"],["href","turnos",1,"btn","btn-lg","btn-primary"]],template:function(n,t){1&n&&(h.TgZ(0,"html",0)(1,"body",1)(2,"div",2)(3,"main",3),h._UZ(4,"br")(5,"br"),h.TgZ(6,"h1"),h._uU(7,"Bienvenido"),h.qZA(),h.TgZ(8,"h2"),h._uU(9,"Elija una opci\xf3n, estoy seguro de que perder\xe1.."),h.qZA(),h._UZ(10,"br")(11,"br")(12,"br"),h.TgZ(13,"p",4),h.YNc(14,Tn,2,0,"a",5),h.TgZ(15,"a",6),h._uU(16,"Registro"),h.qZA(),h.YNc(17,Hn,2,0,"a",7),h.YNc(18,Or,2,0,"a",8),h.qZA()()()()()),2&n&&(h.xp6(14),h.Q6J("ngIf",!t.isLogged),h.xp6(3),h.Q6J("ngIf",t.esAdmin),h.xp6(1),h.Q6J("ngIf",t.esAdmin))},directives:[C.O5],styles:[".btn-secondary[_ngcontent-%COMP%], .btn-secondary[_ngcontent-%COMP%]:hover, .btn-secondary[_ngcontent-%COMP%]:focus{color:#333;text-shadow:none}body[_ngcontent-%COMP%]{text-shadow:0 .05rem .1rem rgba(0,0,0,.5);box-shadow:inset 0 0 5rem #00000080;background-image:url(hospital.0396ac7a80f7057a.jpg);background-position:center;background-repeat:no-repeat;background-size:contain}.cover-container[_ngcontent-%COMP%]{max-width:42em}html[_ngcontent-%COMP%]{height:auto!important}.nav-masthead[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%]{padding:.25rem 0;font-weight:700;color:#ffffff80;background-color:transparent;border-bottom:.25rem solid transparent}.nav-masthead[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%]:hover, .nav-masthead[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%]:focus{border-bottom-color:#ffffff40}.nav-masthead[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%] + .nav-link[_ngcontent-%COMP%]{margin-left:1rem}.nav-masthead[_ngcontent-%COMP%]   .active[_ngcontent-%COMP%]{color:#fff;border-bottom-color:#fff}.btn[_ngcontent-%COMP%]{margin:10%}h1[_ngcontent-%COMP%], h2[_ngcontent-%COMP%]{font-size:30px;color:#000;-webkit-text-stroke-width:.5px;-webkit-text-stroke-color:white}"]});class ni{constructor(n,t,r){this.usuario=n,this.tipo=t,this.fechaDeIngreso=r}}var as=me(5614),Us=me(7891),ji=me(9768),ro=me(3290);let Co=(()=>{class e{constructor(t){this.firestore=t,this.logs=t.collection("logs").snapshotChanges()}getLogs(){return this.firestore.collection("logs").snapshotChanges()}getLogByUser(t){return this.firestore.collection("logs",r=>r.where("usuario","==",t)).snapshotChanges()}guardarLogIngreso(t){return this.firestore.collection("logs").add({usuario:t.usuario,tipo:t.tipo,fechaDeIngreso:t.fechaDeIngreso})}}return e.\u0275fac=function(t){return new(t||e)(h.LFG(ro.ST))},e.\u0275prov=h.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();const Ca=function(e){return{"background-image":e}};function Sa(e,n){if(1&e){const t=h.EpF();h.TgZ(0,"div")(1,"body",2)(2,"main",3)(3,"form")(4,"h1",4),h._uU(5,"\xbfSeguro quiere loguearse? OK..."),h.qZA(),h.TgZ(6,"div",5)(7,"input",6),h.NdJ("ngModelChange",function(s){return h.CHM(t),h.oxw().email=s}),h.qZA(),h.TgZ(8,"label",7),h._uU(9,"Email"),h.qZA()(),h.TgZ(10,"div",5)(11,"input",8),h.NdJ("ngModelChange",function(s){return h.CHM(t),h.oxw().password=s}),h.qZA(),h.TgZ(12,"label",9),h._uU(13,"Password"),h.qZA()()(),h.TgZ(14,"input",10),h.NdJ("click",function(){return h.CHM(t),h.oxw().logIn()}),h.qZA(),h._UZ(15,"br")(16,"br"),h.TgZ(17,"a",11),h._uU(18,"Registrarse"),h.qZA(),h.TgZ(19,"div",12)(20,"div",13)(21,"button",14),h.NdJ("click",function(){return h.CHM(t),h.oxw().cargarAdmin()}),h.qZA(),h._UZ(22,"br"),h.TgZ(23,"h6"),h._uU(24,"Administrador"),h.qZA()(),h.TgZ(25,"div",13)(26,"button",14),h.NdJ("click",function(){return h.CHM(t),h.oxw().cargarEspecialista1()}),h.qZA(),h._UZ(27,"br"),h.TgZ(28,"h6"),h._uU(29,"Especialista1"),h.qZA()(),h.TgZ(30,"div",13)(31,"button",14),h.NdJ("click",function(){return h.CHM(t),h.oxw().cargarEspecialista2()}),h.qZA(),h._UZ(32,"br"),h.TgZ(33,"h6"),h._uU(34,"Especialista2"),h.qZA()(),h.TgZ(35,"div",13)(36,"button",14),h.NdJ("click",function(){return h.CHM(t),h.oxw().cargarPaciente1()}),h.qZA(),h._UZ(37,"br"),h.TgZ(38,"h6"),h._uU(39,"Paciente1"),h.qZA()(),h.TgZ(40,"div",13)(41,"button",14),h.NdJ("click",function(){return h.CHM(t),h.oxw().cargarPaciente2()}),h.qZA(),h._UZ(42,"br"),h.TgZ(43,"h6"),h._uU(44,"Paciente2"),h.qZA()(),h.TgZ(45,"div",13)(46,"button",14),h.NdJ("click",function(){return h.CHM(t),h.oxw().cargarPaciente3()}),h.qZA(),h._UZ(47,"br"),h.TgZ(48,"h6"),h._uU(49,"Paciente3"),h.qZA()()()()()()}if(2&e){const t=h.oxw();h.Q6J("@slideInOut",void 0),h.xp6(7),h.Q6J("ngModel",t.email),h.xp6(4),h.Q6J("ngModel",t.password),h.xp6(10),h.Q6J("ngStyle",h.VKq(9,Ca,"url("+t.adminFotoUrl+")")),h.xp6(5),h.Q6J("ngStyle",h.VKq(11,Ca,"url("+t.espec1FotoUrl+")")),h.xp6(5),h.Q6J("ngStyle",h.VKq(13,Ca,"url("+t.espec2FotoUrl+")")),h.xp6(5),h.Q6J("ngStyle",h.VKq(15,Ca,"url("+t.pac1FotoUrl+")")),h.xp6(5),h.Q6J("ngStyle",h.VKq(17,Ca,"url("+t.pac2FotoUrl+")")),h.xp6(5),h.Q6J("ngStyle",h.VKq(19,Ca,"url("+t.pac3FotoUrl+")"))}}let jo=(()=>{class e{constructor(t,r,s,o,d,g){this.administradorService=t,this.pacienteService=r,this.especialistaService=s,this.authService=o,this.router=d,this.logService=g,this.visible=!0}ngOnInit(){let t=this.administradorService.getAdministrador("ale23989@gmail.com").subscribe(m=>{null!=m[0]&&(this.adminFotoUrl=m[0].payload.doc.data().fotoUrl),t.unsubscribe()}),r=this.pacienteService.getPaciente("majomartinez04@gmail.com").subscribe(m=>{null!=m[0]&&(this.pac1FotoUrl=m[0].payload.doc.data().foto1Url),r.unsubscribe()}),s=this.pacienteService.getPaciente("alesilversalmon@hotmail.com").subscribe(m=>{null!=m[0]&&(this.pac2FotoUrl=m[0].payload.doc.data().foto1Url),s.unsubscribe()}),o=this.pacienteService.getPaciente("jmterzano@gmail.com").subscribe(m=>{null!=m[0]&&(this.pac3FotoUrl=m[0].payload.doc.data().foto1Url),o.unsubscribe()}),d=this.especialistaService.getEspecialista("valeriamatu@gmail.com").subscribe(m=>{null!=m[0]&&(this.espec1FotoUrl=m[0].payload.doc.data().fotoUrl),d.unsubscribe()}),g=this.especialistaService.getEspecialista("mgw009@gmail.com").subscribe(m=>{null!=m[0]&&(this.espec2FotoUrl=m[0].payload.doc.data().fotoUrl),g.unsubscribe()})}logIn(){this.authService.SignIn(this.email,this.password).then(t=>{localStorage.setItem("user",JSON.stringify(t.user)),this.logInAdmin(),this.userIsLogged()||(this.logInEspecialista(),this.userIsLogged()||this.logInPaciente())}).catch(t=>{})}logInAdmin(){let t=this.administradorService.getAdministrador(this.email).subscribe(r=>{if(null!=r[0]){let s=r[0].payload.doc.data();localStorage.setItem("loggedUser",JSON.stringify(s)),Sn.updateUserStatus.next(!0);let o=new ni(s.mail,s.tipo,new Date);this.logService.guardarLogIngreso(o),this.router.navigate(["home"])}t.unsubscribe()})}logInPaciente(){let t=JSON.parse(localStorage.getItem("user")||""),r=this.pacienteService.getPaciente(this.email).subscribe(s=>{if(null!=s[0])if(t.emailVerified){let o=s[0].payload.doc.data();localStorage.setItem("loggedUser",JSON.stringify(o)),Sn.updateUserStatus.next(!0);let d=new ni(o.mail,o.tipo,new Date);this.logService.guardarLogIngreso(d),this.router.navigate(["home"])}else this.router.navigate(["registro/verify-email"]);r.unsubscribe()})}logInEspecialista(){let t=JSON.parse(localStorage.getItem("user")||""),r=this.especialistaService.getEspecialista(this.email).subscribe(s=>{if(null!=s[0])if(t.emailVerified){let o=s[0].payload.doc.data();if(1==o.habilitado){localStorage.setItem("loggedUser",JSON.stringify(o)),Sn.updateUserStatus.next(!0);let d=new ni(o.mail,o.tipo,new Date);this.logService.guardarLogIngreso(d),this.router.navigate(["home"])}else localStorage.removeItem("user")}else this.router.navigate(["registro/verify-email"]);r.unsubscribe()})}cargarAdmin(){this.email="ale23989@gmail.com",this.password="Sonic2022#"}cargarPaciente1(){this.email="majomartinez04@gmail.com",this.password="Majo1965#"}cargarPaciente2(){this.email="alesilversalmon@hotmail.com",this.password="123456"}cargarPaciente3(){this.email="jmterzano@gmail.com",this.password="juan123"}cargarEspecialista1(){this.email="valeriamatu@gmail.com",this.password="Vale1975#"}cargarEspecialista2(){this.email="mgw009@gmail.com",this.password="123456"}userIsLogged(){return JSON.parse(localStorage.getItem("user")||"")}}return e.\u0275fac=function(t){return new(t||e)(h.Y36(as.p),h.Y36(Us.d),h.Y36(ji.n),h.Y36(Li.z),h.Y36(Ni.F0),h.Y36(Co))},e.\u0275cmp=h.Xpm({type:e,selectors:[["app-login"]],decls:2,vars:1,consts:[["lang","en"],[4,"ngIf"],[1,"text-center"],[1,"form-signin"],[1,"h3","mb-3","fw-normal"],[1,"form-floating"],["type","email","id","floatingInput","placeholder","name@example.com","name","email",1,"form-control",3,"ngModel","ngModelChange"],["for","floatingInput"],["type","password","id","floatingPassword","placeholder","Password","name","password",1,"form-control",3,"ngModel","ngModelChange"],["for","floatingPassword"],["type","button","value","Ingresar",1,"btn","btn-md","btn-primary",3,"click"],["type","submit","href","/registro",1,"w-100","btn","btn-sm","btn-secondary"],["appReposition","",1,"mat-fab-bottom-right"],[1,"fab-button"],["mat-mini-fab","",1,"fastAccessButton",3,"ngStyle","click"]],template:function(t,r){1&t&&(h.TgZ(0,"html",0),h.YNc(1,Sa,50,21,"div",1),h.qZA()),2&t&&(h.xp6(1),h.Q6J("ngIf",r.visible))},directives:[C.O5,Rt._Y,Rt.JL,Rt.F,Rt.Fj,Rt.JJ,Rt.On,C.PC],styles:["html[_ngcontent-%COMP%], body[_ngcontent-%COMP%]{height:91vh!important}body[_ngcontent-%COMP%]{display:flex;align-items:center;background-color:#f5f5f5;background-image:url(coronaBicho.ae9863a623a5efa2.jpg);background-position:center;background-repeat:no-repeat;background-size:contain}.form-signin[_ngcontent-%COMP%]{width:100%;max-width:-moz-fit-content;max-width:fit-content;padding:15px;margin:auto}.form-signin[_ngcontent-%COMP%]   .checkbox[_ngcontent-%COMP%]{font-weight:400}.form-signin[_ngcontent-%COMP%]   .form-floating[_ngcontent-%COMP%]:focus-within{z-index:2}.form-signin[_ngcontent-%COMP%]   input[type=email][_ngcontent-%COMP%]{margin-bottom:-1px;border-bottom-right-radius:0;border-bottom-left-radius:0}.form-signin[_ngcontent-%COMP%]   input[type=password][_ngcontent-%COMP%]{margin-bottom:10px;border-top-left-radius:0;border-top-right-radius:0}.btn[_ngcontent-%COMP%]{margin:.1%}.mat-fab-bottom-right[_ngcontent-%COMP%]{display:grid;position:fixed!important;right:20px;bottom:20px}.fab-button[_ngcontent-%COMP%]:hover{z-index:1000;transform:scale(1.5)}.fastAccessButton[_ngcontent-%COMP%]{background-position:center;background-repeat:no-repeat;background-size:cover}h1[_ngcontent-%COMP%], h6[_ngcontent-%COMP%]{-webkit-text-stroke-width:.2px;-webkit-text-stroke-color:white}"]}),e})();var Is=me(6399);let Ec=(()=>{class e{constructor(t){this.router=t}canActivate(t,r){let s=JSON.parse(localStorage.getItem("loggedUser")||"");return!(!s||"administrador"!=s.tipo)||(this.router.navigate(["home"]),!1)}}return e.\u0275fac=function(t){return new(t||e)(h.LFG(Ni.F0))},e.\u0275prov=h.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();var Xc=me(9571);class Aa{constructor(n,t,r,s,o,d,g,m,_,w){this.pacienteMail=n,this.especialistaMail=r,this.pacienteNombre=t,this.especialistaNombre=s,this.fecha=o,this.especialidad=d,this.estado=g,this.encuesta=m,this.calificacion=_,this.resenia=w}}var Ks=(()=>{return(e=Ks||(Ks={})).cancelado="Cancelado",e.aceptado="Aceptado",e.rechazado="Rechazado",e.finalizado="Finalizado",e.enespera="En espera",Ks;var e})();let Vo=(()=>{class e{constructor(t){this.firestore=t,this.turnos=t.collection("turnos").snapshotChanges()}getTurnos(){return this.firestore.collection("turnos").snapshotChanges()}getTurnosByPaciente(t){return this.firestore.collection("turnos",r=>r.where("pacienteMail","==",t)).snapshotChanges()}getTurno(t){return this.firestore.collection("turnos",r=>r.where("pacienteMail","==",t.pacienteMail).where("especialistaMail","==",t.especialistaMail).where("fecha","==",t.fecha)).snapshotChanges()}getTurnosFinalizados(){return this.firestore.collection("turnos",t=>t.where("estado","==",Ks.finalizado)).snapshotChanges()}getTurnosByEspecialista(t){return this.firestore.collection("turnos",r=>r.where("especialistaMail","==",t)).snapshotChanges()}getTurnosFinalizadosByEspecialista(t){return this.firestore.collection("turnos",r=>r.where("especialistaMail","==",t).where("estado","==",Ks.finalizado)).snapshotChanges()}getTurnosFinalizadosByPaciente(t){return this.firestore.collection("turnos",r=>r.where("pacienteMail","==",t).where("estado","==",Ks.finalizado)).snapshotChanges()}guardarTurno(t){return this.firestore.collection("turnos").add({pacienteMail:t.pacienteMail,pacienteNombre:t.pacienteNombre,especialidad:t.especialidad,especialistaMail:t.especialistaMail,especialistaNombre:t.especialistaNombre,fecha:t.fecha,estado:t.estado,calificacion:t.calificacion,encuesta:t.encuesta,resenia:t.resenia})}cambiarEstadoTurno(t){let r=this.getTurno(t).subscribe(s=>{const o=s[0].payload.doc.id;this.firestore.collection("turnos").doc(o).update({estado:t.estado,resenia:t.resenia}).then(()=>{}).catch(g=>{}),r.unsubscribe()})}calificar(t){let r=this.getTurno(t).subscribe(s=>{const o=s[0].payload.doc.id;this.firestore.collection("turnos").doc(o).update({calificacion:t.calificacion}).then(()=>{}).catch(g=>{}),r.unsubscribe()})}}return e.\u0275fac=function(t){return new(t||e)(h.LFG(ro.ST))},e.\u0275prov=h.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"}),e})(),yu=(()=>{class e{transform(t,r){return t&&r?t.filter(s=>-1!==s.especialistaNombre.indexOf(r)||-1!==s.especialidad.indexOf(r)):t}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275pipe=h.Yjl({name:"filtroMixtoEspecialidadEspecialista",type:e,pure:!0}),e})(),nl=(()=>{class e{constructor(t){this.firestore=t,this.historias=[],t.collection("historias").snapshotChanges().subscribe(r=>{for(let s=0;s<r.length;s++){let o=r[s].payload.doc.data();this.historias.push(o)}})}getHistorias(){return this.firestore.collection("historias").snapshotChanges()}getHistoriasByPacientes(t){return this.firestore.collection("historias",r=>r.where("paciente","in",t)).snapshotChanges()}getHistoriasByPacienteAndEspecialista(t,r){return this.firestore.collection("historias",s=>s.where("paciente","==",t).where("especialista","==",r)).snapshotChanges()}getHistoria(t){return this.firestore.collection("historias",r=>r.where("paciente","==",t)).snapshotChanges()}guardarHistoria(t){return this.firestore.collection("historias").add({fecha:t.fecha,paciente:t.paciente,especialista:t.especialista,altura:t.altura,peso:t.peso,temperatura:t.temperatura,presion:t.presion,clave1:t.clave1,valor1:t.valor1,clave2:t.clave2,valor2:t.valor2,clave3:t.clave3,valor3:t.valor3})}}return e.\u0275fac=function(t){return new(t||e)(h.LFG(ro.ST))},e.\u0275prov=h.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"}),e})(),au=(()=>{class e{constructor(t){this.historiasService=t,this.historias=this.historiasService.historias}transform(t,r){if(!t||!r)return t;let s=this.historias.filter(o=>-1!==o.altura.toString().indexOf(r)||-1!==o.peso.toString().indexOf(r)||-1!==o.clave1.toString().indexOf(r)||-1!==o.clave2.toString().indexOf(r)||-1!==o.clave3.toString().indexOf(r)||-1!==o.fecha.toString().indexOf(r)||-1!==o.presion.toString().indexOf(r)||-1!==o.temperatura.toString().indexOf(r)||-1!==o.valor1.toString().indexOf(r)||-1!==o.valor2.toString().indexOf(r)||-1!==o.valor3.toString().indexOf(r));return t.filter(o=>-1!==o.pacienteNombre.indexOf(r)||-1!==o.especialistaMail.indexOf(r)||-1!==o.especialidad.indexOf(r)||-1!==o.calificacion.indexOf(r)||-1!==o.encuesta.indexOf(r)||-1!==o.especialistaNombre.indexOf(r)||-1!==o.estado.indexOf(r)||-1!==o.fecha.toString().indexOf(r)||-1!==o.pacienteMail.indexOf(r)||-1!==o.pacienteNombre.indexOf(r)||-1!==o.resenia.indexOf(r)||s.find(d=>d.paciente===o.pacienteMail))}}return e.\u0275fac=function(t){return new(t||e)(h.Y36(nl,16))},e.\u0275pipe=h.Yjl({name:"filtroTurno",type:e,pure:!0}),e})();function ic(e,n){if(1&e){const t=h.EpF();h.TgZ(0,"li",4),h.NdJ("click",function(){const o=h.CHM(t).$implicit;return h.oxw(2).SeleccionarTurno(o)}),h.TgZ(1,"b"),h._uU(2,"Especialidad: "),h.qZA(),h.TgZ(3,"span"),h._uU(4),h.qZA(),h.TgZ(5,"b"),h._uU(6,"Especialista: "),h.qZA(),h.TgZ(7,"span"),h._uU(8),h.qZA(),h.TgZ(9,"b"),h._uU(10,"Paciente: "),h.qZA(),h.TgZ(11,"span"),h._uU(12),h.qZA(),h.TgZ(13,"b"),h._uU(14,"Fecha: "),h.qZA(),h.TgZ(15,"span"),h._uU(16),h.qZA(),h.TgZ(17,"b"),h._uU(18,"Estado:"),h.qZA(),h.TgZ(19,"span",5),h._uU(20),h.qZA()()}if(2&e){const t=n.$implicit,r=h.oxw(2);h.xp6(4),h.Oqu(t.especialidad),h.xp6(4),h.Oqu(t.especialistaNombre),h.xp6(4),h.Oqu(t.pacienteNombre),h.xp6(4),h.Oqu(t.fecha),h.xp6(3),h.Q6J("ngStyle",r.styleObject(t)),h.xp6(1),h.hij(" ",t.estado," ")}}function _u(e,n){if(1&e&&(h.TgZ(0,"ul",2),h.YNc(1,ic,21,6,"li",3),h.ALo(2,"filtroMixtoEspecialidadEspecialista"),h.qZA()),2&e){const t=h.oxw();h.xp6(1),h.Q6J("ngForOf",h.xi3(2,1,t.arrayTurnosAdministrador,t.filter))}}function sc(e,n){if(1&e){const t=h.EpF();h.TgZ(0,"li",7),h.NdJ("click",function(){const o=h.CHM(t).$implicit;return h.oxw(2).SeleccionarTurno(o)}),h.TgZ(1,"b"),h._uU(2,"Paciente: "),h.qZA(),h.TgZ(3,"span"),h._uU(4),h.qZA(),h.TgZ(5,"b"),h._uU(6,"Especialidad: "),h.qZA(),h.TgZ(7,"span"),h._uU(8),h.qZA(),h.TgZ(9,"b"),h._uU(10,"Fecha: "),h.qZA(),h.TgZ(11,"span"),h._uU(12),h.qZA(),h.TgZ(13,"b"),h._uU(14,"Estado:"),h.qZA(),h.TgZ(15,"span",5),h._uU(16),h.qZA()()}if(2&e){const t=n.$implicit,r=h.oxw(2);h.xp6(4),h.Oqu(t.pacienteNombre),h.xp6(4),h.Oqu(t.especialidad),h.xp6(4),h.Oqu(t.fecha),h.xp6(3),h.Q6J("ngStyle",r.styleObject(t)),h.xp6(1),h.hij(" ",t.estado," ")}}function oc(e,n){if(1&e&&(h.TgZ(0,"ul",2),h.YNc(1,sc,17,5,"li",6),h.ALo(2,"filtroTurno"),h.qZA()),2&e){const t=h.oxw();h.xp6(1),h.Q6J("ngForOf",h.xi3(2,1,t.arrayTurnosEspecialista,t.filter))}}function rl(e,n){if(1&e){const t=h.EpF();h.TgZ(0,"li",9),h.NdJ("click",function(){const o=h.CHM(t).$implicit;return h.oxw(2).SeleccionarTurno(o)}),h.TgZ(1,"b"),h._uU(2,"Especialidad: "),h.qZA(),h.TgZ(3,"span"),h._uU(4),h.qZA(),h.TgZ(5,"b"),h._uU(6,"Especialista: "),h.qZA(),h.TgZ(7,"span"),h._uU(8),h.qZA(),h.TgZ(9,"b"),h._uU(10,"Fecha: "),h.qZA(),h.TgZ(11,"span"),h._uU(12),h.qZA(),h.TgZ(13,"b"),h._uU(14,"Estado:"),h.qZA(),h.TgZ(15,"span",5),h._uU(16),h.qZA()()}if(2&e){const t=n.$implicit,r=h.oxw(2);h.xp6(4),h.Oqu(t.especialidad),h.xp6(4),h.Oqu(t.especialistaNombre),h.xp6(4),h.Oqu(t.fecha),h.xp6(3),h.Q6J("ngStyle",r.styleObject(t)),h.xp6(1),h.hij(" ",t.estado," ")}}function Uc(e,n){if(1&e&&(h.TgZ(0,"ul",2),h.YNc(1,rl,17,5,"li",8),h.ALo(2,"filtroTurno"),h.qZA()),2&e){const t=h.oxw();h.xp6(1),h.Q6J("ngForOf",h.xi3(2,1,t.arrayTurnosPaciente,t.filter))}}let ac=(()=>{class e{constructor(t,r,s){this.turnosService=t,this.especialistaService=r,this.pacienteService=s,this.seSeleccionoTurno=new h.vpe,this.arrayTurnosAdministrador=[],this.arrayTurnosPaciente=[],this.arrayTurnosEspecialista=[],this.filter="",this.mensajeFiltro=""}ngOnInit(){let t=JSON.parse(localStorage.getItem("loggedUser")||"");"especialista"==this.tipoUsuario?(this.turnosService.getTurnosByEspecialista(t.mail).subscribe(r=>{let s=[];for(let o=0;o<r.length;o++)s.push(r[o].payload.doc.data());this.arrayTurnosEspecialista=s}),this.mensajeFiltro="Buscar por especialidad o paciente"):"paciente"==this.tipoUsuario?(this.turnosService.getTurnosByPaciente(t.mail).subscribe(r=>{let s=[];for(let o=0;o<r.length;o++){let d=r[o].payload.doc.data();s.push(d)}this.arrayTurnosPaciente=s}),this.mensajeFiltro="Buscar por especialidad o especialista"):"administrador"==this.tipoUsuario&&(this.turnosService.getTurnos().subscribe(r=>{let s=[];for(let o=0;o<r.length;o++)s.push(r[o].payload.doc.data());this.arrayTurnosAdministrador=s}),this.mensajeFiltro="Buscar por especialidad o especialista")}SeleccionarTurno(t){this.seSeleccionoTurno.emit(t)}styleObject(t){return t.estado==Ks.cancelado?{color:"red","font-weight":"bold"}:t.estado==Ks.aceptado?{color:"green","font-weight":"bold"}:t.estado==Ks.rechazado?{color:"red","font-weight":"bold"}:t.estado==Ks.finalizado?{color:"blue","font-weight":"bold"}:{}}}return e.\u0275fac=function(t){return new(t||e)(h.Y36(Vo),h.Y36(ji.n),h.Y36(Us.d))},e.\u0275cmp=h.Xpm({type:e,selectors:[["app-tabla-turnos"]],inputs:{tipoUsuario:"tipoUsuario"},outputs:{seSeleccionoTurno:"seSeleccionoTurno"},decls:7,vars:5,consts:[["type","text",3,"ngModel","ngModelChange"],["class","list-group mb-3",4,"ngIf"],[1,"list-group","mb-3"],["appHighlight","","class","list-group-item d-flex justify-content-between lh-sm",3,"click",4,"ngFor","ngForOf"],["appHighlight","",1,"list-group-item","d-flex","justify-content-between","lh-sm",3,"click"],[3,"ngStyle"],["appEmbiggens","","class","list-group-item d-flex justify-content-between lh-sm",3,"click",4,"ngFor","ngForOf"],["appEmbiggens","",1,"list-group-item","d-flex","justify-content-between","lh-sm",3,"click"],["class","list-group-item d-flex justify-content-between lh-sm",3,"click",4,"ngFor","ngForOf"],[1,"list-group-item","d-flex","justify-content-between","lh-sm",3,"click"]],template:function(t,r){1&t&&(h.TgZ(0,"p"),h._uU(1),h.qZA(),h.TgZ(2,"p")(3,"input",0),h.NdJ("ngModelChange",function(o){return r.filter=o}),h.qZA()(),h.YNc(4,_u,3,4,"ul",1),h.YNc(5,oc,3,4,"ul",1),h.YNc(6,Uc,3,4,"ul",1)),2&t&&(h.xp6(1),h.Oqu(r.mensajeFiltro),h.xp6(2),h.Q6J("ngModel",r.filter),h.xp6(1),h.Q6J("ngIf","administrador"==r.tipoUsuario),h.xp6(1),h.Q6J("ngIf","especialista"==r.tipoUsuario),h.xp6(1),h.Q6J("ngIf","paciente"==r.tipoUsuario))},directives:[Rt.Fj,Rt.JJ,Rt.On,C.O5,C.sg,C.PC],pipes:[yu,au],styles:[""]}),e})();class Wa{constructor(n,t,r,s,o,d,g){this.fecha=n,this.paciente=t,this.especialista=r,this.altura=s,this.peso=o,this.temperatura=d,this.presion=g}}function lc(e,n){1&e&&(h.TgZ(0,"span",33),h._uU(1,"Debe completar con la altura del paciente."),h.qZA())}function cc(e,n){1&e&&(h.TgZ(0,"span",33),h._uU(1,"Debe completar con el peso del paciente."),h.qZA())}function $o(e,n){1&e&&(h.TgZ(0,"span",33),h._uU(1,"Debe completar con la temperatura del paciente."),h.qZA())}function la(e,n){1&e&&(h.TgZ(0,"span",33),h._uU(1,"Debe completar con la presi\xf3n del paciente."),h.qZA())}let Hl=(()=>{class e{constructor(t,r){this.historiasClinicasService=t,this.fb=r,this.formAltaHistoria=r.group({paciente:["",Rt.kI.required],altura:["",Rt.kI.required],peso:["",Rt.kI.required],temperatura:["",Rt.kI.required],presion:["",Rt.kI.required],clave1:[""],valor1:[""],clave2:[""],valor2:[""],clave3:[""],valor3:[""]})}ngOnInit(){this.formAltaHistoria.controls.paciente.setValue(this.paciente)}guardarHistoriaClinica(){let t=JSON.parse(localStorage.getItem("loggedUser")||""),r=this.paciente,s=this.formAltaHistoria.controls.altura.value,o=this.formAltaHistoria.controls.peso.value,d=this.formAltaHistoria.controls.temperatura.value,g=this.formAltaHistoria.controls.presion.value,m=this.formAltaHistoria.controls.clave1.value,_=this.formAltaHistoria.controls.valor1.value,w=this.formAltaHistoria.controls.clave2.value,A=this.formAltaHistoria.controls.valor2.value,N=this.formAltaHistoria.controls.clave3.value,D=this.formAltaHistoria.controls.valor3.value,ee=new Date,B=new Wa(ee,r,t.mail,s,o,d,g);B.clave1=m,B.valor1=_,B.clave2=w,B.valor2=A,B.clave3=N,B.valor3=D,this.historiasClinicasService.guardarHistoria(B).then(he=>{this.showSuccess()}).catch(he=>{this.showError(he)})}showSuccess(){}showError(t){}}return e.\u0275fac=function(t){return new(t||e)(h.Y36(nl),h.Y36(Rt.qu))},e.\u0275cmp=h.Xpm({type:e,selectors:[["app-alta-historia-clinica"]],inputs:{paciente:"paciente"},decls:75,vars:6,consts:[[1,"bg-light"],[1,"container"],[1,"row","g-5"],[3,"formGroup","ngSubmit"],[1,"mb-3"],[1,"form-group"],[1,"row","g-3"],[1,"col-sm-6"],["for","paciente"],["type","label","formControlName","paciente","readonly","","placeholder","",1,"form-control"],[1,"row"],["for","altura"],["type","number","formControlName","altura",1,"form-control"],["class","text-danger",4,"ngIf"],["for","peso"],["type","number","formControlName","peso",1,"form-control"],["for","temperatura"],["type","number","formControlName","temperatura",1,"form-control"],["for","presion"],["type","number","formControlName","presion",1,"form-control"],["for","clave1"],["type","text","formControlName","clave1",1,"form-control"],["for","valor1"],["type","text","formControlName","valor1",1,"form-control"],["for","clave2"],["type","text","formControlName","clave2",1,"form-control"],["for","valor2"],["type","text","formControlName","valor2",1,"form-control"],["for","clave3"],["type","text","formControlName","clave3",1,"form-control"],["for","valor3"],["type","text","formControlName","valor3",1,"form-control"],["type","submit",1,"btn","btn-primary","btn-md",3,"disabled"],[1,"text-danger"]],template:function(t,r){if(1&t&&(h.TgZ(0,"body",0)(1,"div",1)(2,"main")(3,"div",2),h._UZ(4,"br"),h.TgZ(5,"form",3),h.NdJ("ngSubmit",function(){return r.guardarHistoriaClinica()}),h.TgZ(6,"h4",4),h._uU(7,"Completar Historia Cl\xednica del Paciente"),h.qZA(),h.TgZ(8,"div",5)(9,"div",6)(10,"div",7)(11,"label",8),h._uU(12,"Paciente"),h.qZA(),h._UZ(13,"input",9),h.qZA(),h._UZ(14,"br"),h.TgZ(15,"div",10)(16,"div",7)(17,"label",11),h._uU(18,"Altura"),h.qZA(),h._UZ(19,"input",12),h.YNc(20,lc,2,0,"span",13),h._UZ(21,"br"),h.qZA(),h.TgZ(22,"div",7)(23,"label",14),h._uU(24,"Peso"),h.qZA(),h._UZ(25,"input",15),h.YNc(26,cc,2,0,"span",13),h._UZ(27,"br"),h.qZA(),h.TgZ(28,"div",7)(29,"label",16),h._uU(30,"Temperatura"),h.qZA(),h._UZ(31,"input",17),h.YNc(32,$o,2,0,"span",13),h._UZ(33,"br"),h.qZA(),h.TgZ(34,"div",7)(35,"label",18),h._uU(36,"Presi\xf3n"),h.qZA(),h._UZ(37,"input",19),h.YNc(38,la,2,0,"span",13),h._UZ(39,"br"),h.qZA(),h.TgZ(40,"div",10)(41,"div",7)(42,"label",20),h._uU(43,"Observaci\xf3n 1"),h.qZA(),h._UZ(44,"input",21)(45,"br"),h.qZA(),h.TgZ(46,"div",7)(47,"label",22),h._uU(48,"Valor"),h.qZA(),h._UZ(49,"input",23)(50,"br"),h.qZA(),h.TgZ(51,"div",7)(52,"label",24),h._uU(53,"Observaci\xf3n 2"),h.qZA(),h._UZ(54,"input",25)(55,"br"),h.qZA(),h.TgZ(56,"div",7)(57,"label",26),h._uU(58,"Valor"),h.qZA(),h._UZ(59,"input",27)(60,"br"),h.qZA(),h.TgZ(61,"div",7)(62,"label",28),h._uU(63,"Observaci\xf3n 3"),h.qZA(),h._UZ(64,"input",29)(65,"br"),h.qZA(),h.TgZ(66,"div",7)(67,"label",30),h._uU(68,"Valor"),h.qZA(),h._UZ(69,"input",31)(70,"br"),h.qZA()()(),h._UZ(71,"br")(72,"br"),h.TgZ(73,"button",32),h._uU(74,"Guardar historia cl\xednica"),h.qZA()()()()()()()()),2&t){let s,o,d,g;h.xp6(5),h.Q6J("formGroup",r.formAltaHistoria),h.xp6(15),h.Q6J("ngIf",(null==(s=r.formAltaHistoria.get("altura"))?null:s.hasError("required"))&&(null==(s=r.formAltaHistoria.get("altura"))?null:s.touched)),h.xp6(6),h.Q6J("ngIf",(null==(o=r.formAltaHistoria.get("peso"))?null:o.hasError("required"))&&(null==(o=r.formAltaHistoria.get("peso"))?null:o.touched)),h.xp6(6),h.Q6J("ngIf",(null==(d=r.formAltaHistoria.get("temperatura"))?null:d.hasError("required"))&&(null==(d=r.formAltaHistoria.get("temperatura"))?null:d.touched)),h.xp6(6),h.Q6J("ngIf",(null==(g=r.formAltaHistoria.get("presion"))?null:g.hasError("required"))&&(null==(g=r.formAltaHistoria.get("presion"))?null:g.touched)),h.xp6(35),h.Q6J("disabled",r.formAltaHistoria.invalid)}},directives:[Rt._Y,Rt.JL,Rt.sg,Rt.Fj,Rt.JJ,Rt.u,Rt.wV,C.O5],styles:[""]}),e})();function Ia(e,n){if(1&e){const t=h.EpF();h.TgZ(0,"button",4),h.NdJ("click",function(){return h.CHM(t),h.oxw(3).abrirForm()}),h._uU(1),h.qZA()}if(2&e){const t=h.oxw(3);h.xp6(1),h.Oqu(t.mensajeBotonCancelarTurno)}}function ca(e,n){1&e&&(h.TgZ(0,"span",14),h._uU(1,"Debe escribir el motivo de la cancelaci\xf3n."),h.qZA())}function Ol(e,n){if(1&e){const t=h.EpF();h.TgZ(0,"form",5),h.NdJ("ngSubmit",function(){h.CHM(t);const s=h.oxw(3);return s.cancelarTurno(s.turnoSeleccionado)}),h.TgZ(1,"h6",6),h._uU(2,"Cancelaci\xf3n de turno"),h.qZA(),h.TgZ(3,"div",7)(4,"div",8)(5,"div",9)(6,"label",10),h._uU(7,"Motivo de la cancelaci\xf3n"),h.qZA(),h._UZ(8,"input",11),h.YNc(9,ca,2,0,"span",12),h.qZA(),h._UZ(10,"br"),h.TgZ(11,"button",13),h._uU(12,"Efectuar cancelaci\xf3n de turno"),h.qZA()()()()}if(2&e){const t=h.oxw(3);let r;h.Q6J("formGroup",t.formCancelacionTurno),h.xp6(9),h.Q6J("ngIf",(null==(r=t.formCancelacionTurno.get("comentarioCancelacion"))?null:r.hasError("required"))&&(null==(r=t.formCancelacionTurno.get("comentarioCancelacion"))?null:r.touched)),h.xp6(2),h.Q6J("disabled",t.formCancelacionTurno.invalid)}}function il(e,n){if(1&e&&(h.TgZ(0,"div")(1,"span"),h._uU(2),h.qZA(),h._UZ(3,"br"),h.TgZ(4,"span"),h._uU(5),h.qZA(),h._UZ(6,"br"),h.TgZ(7,"span"),h._uU(8),h.qZA(),h._UZ(9,"br"),h.TgZ(10,"span"),h._uU(11),h.qZA(),h._UZ(12,"br"),h.TgZ(13,"span"),h._uU(14),h.qZA(),h._UZ(15,"br")(16,"br"),h.YNc(17,Ia,2,1,"button",2),h._UZ(18,"br")(19,"br"),h.YNc(20,Ol,13,3,"form",3),h.qZA()),2&e){const t=h.oxw(2);h.xp6(2),h.hij("Especialidad: ",t.turnoSeleccionado.especialidad,""),h.xp6(3),h.hij("Especialista: ",t.turnoSeleccionado.especialistaNombre,""),h.xp6(3),h.hij("Paciente: ",t.turnoSeleccionado.pacienteNombre,""),h.xp6(3),h.hij("Fecha: ",t.turnoSeleccionado.fecha,""),h.xp6(3),h.hij("Estado: ",t.turnoSeleccionado.estado,""),h.xp6(3),h.Q6J("ngIf","En espera"==t.turnoSeleccionado.estado),h.xp6(3),h.Q6J("ngIf",t.turnoCancelado&&"Cancelado"!=t.turnoSeleccionado.estado)}}function Fl(e,n){if(1&e){const t=h.EpF();h.TgZ(0,"button",4),h.NdJ("click",function(){h.CHM(t);const s=h.oxw(3);return s.abrirFormCambioEstado(s.turnoSeleccionado)}),h._uU(1),h.qZA()}if(2&e){const t=h.oxw(3);h.xp6(1),h.Oqu(t.mensajeBotonCambiarEstadoTurno)}}function ya(e,n){if(1&e&&(h.TgZ(0,"option",19),h._uU(1),h.qZA()),2&e){const t=n.$implicit;h.Q6J("value",t),h.xp6(1),h.Oqu(t)}}function Bs(e,n){1&e&&(h.TgZ(0,"span",14),h._uU(1,"Debe escribir el motivo del cambio de estado."),h.qZA())}function zl(e,n){if(1&e){const t=h.EpF();h.TgZ(0,"form",5),h.NdJ("ngSubmit",function(){h.CHM(t);const s=h.oxw(4);return s.cambiarEstadoTurno(s.turnoSeleccionado)}),h.TgZ(1,"div",7)(2,"label",10),h._uU(3,"Motivo del cambio de estado"),h.qZA(),h._UZ(4,"input",20),h.YNc(5,Bs,2,0,"span",12),h._UZ(6,"br"),h.TgZ(7,"button",13),h._uU(8,"Efectuar cambio de estado"),h.qZA()()()}if(2&e){const t=h.oxw(4);let r;h.Q6J("formGroup",t.formCanceloRechazoTurno),h.xp6(5),h.Q6J("ngIf",(null==(r=t.formCanceloRechazoTurno.get("resenia"))?null:r.hasError("required"))&&(null==(r=t.formCanceloRechazoTurno.get("resenia"))?null:r.touched)),h.xp6(2),h.Q6J("disabled",t.formCanceloRechazoTurno.invalid)}}function Bc(e,n){1&e&&(h.TgZ(0,"span",14),h._uU(1,"Debe escribir una rese\xf1a."),h.qZA())}function Yo(e,n){if(1&e){const t=h.EpF();h.TgZ(0,"form",5),h.NdJ("ngSubmit",function(){h.CHM(t);const s=h.oxw(4);return s.cambiarEstadoTurno(s.turnoSeleccionado)}),h.TgZ(1,"div",7)(2,"label",10),h._uU(3,"Comentario/Diagn\xf3stico"),h.qZA(),h._UZ(4,"input",20),h.YNc(5,Bc,2,0,"span",12),h._UZ(6,"br")(7,"br")(8,"app-alta-historia-clinica",21),h.TgZ(9,"button",13),h._uU(10,"Finalizar turno"),h.qZA()()()}if(2&e){const t=h.oxw(4);let r;h.Q6J("formGroup",t.formFinalizoTurno),h.xp6(5),h.Q6J("ngIf",(null==(r=t.formFinalizoTurno.get("resenia"))?null:r.hasError("required"))&&(null==(r=t.formFinalizoTurno.get("resenia"))?null:r.touched)),h.xp6(3),h.Q6J("paciente",t.turnoSeleccionado.pacienteMail),h.xp6(1),h.Q6J("disabled",t.formFinalizoTurno.invalid)}}function vo(e,n){if(1&e){const t=h.EpF();h.TgZ(0,"button",22),h.NdJ("click",function(){h.CHM(t);const s=h.oxw(4);return s.cambiarEstadoTurno(s.turnoSeleccionado)}),h._uU(1,"Aceptar turno"),h.qZA()}}function Da(e,n){if(1&e){const t=h.EpF();h.TgZ(0,"div")(1,"h6",6),h._uU(2,"Cambio de estado de turno"),h.qZA(),h.TgZ(3,"div",8)(4,"select",16),h.NdJ("ngModelChange",function(s){return h.CHM(t),h.oxw(3).estadoSeleccionado=s}),h.YNc(5,ya,2,2,"option",17),h.qZA(),h._UZ(6,"br"),h.qZA(),h.TgZ(7,"div",8),h.YNc(8,zl,9,3,"form",3),h.YNc(9,Yo,11,4,"form",3),h.YNc(10,vo,2,0,"button",18),h.qZA()()}if(2&e){const t=h.oxw(3);h.xp6(4),h.Q6J("ngModel",t.estadoSeleccionado),h.xp6(1),h.Q6J("ngForOf",t.listaEstados),h.xp6(3),h.Q6J("ngIf",t.turnoCambioEstado&&("Cancelado"==t.estadoSeleccionado||"Rechazado"==t.estadoSeleccionado)),h.xp6(1),h.Q6J("ngIf","Finalizado"==t.estadoSeleccionado),h.xp6(1),h.Q6J("ngIf","Aceptado"==t.estadoSeleccionado)}}function xu(e,n){if(1&e){const t=h.EpF();h.TgZ(0,"button",23),h.NdJ("click",function(){return h.CHM(t),h.oxw(3).mostrarResenia()}),h._uU(1),h.qZA()}if(2&e){const t=h.oxw(3);h.xp6(1),h.Oqu(t.mensajeBotonResenia)}}function Wl(e,n){1&e&&(h.TgZ(0,"span"),h._uU(1,"Motivo de la cancelaci\xf3n:"),h.qZA())}function Tc(e,n){1&e&&(h.TgZ(0,"span"),h._uU(1,"Motivo del rechazo:"),h.qZA())}function Jc(e,n){1&e&&(h.TgZ(0,"span"),h._uU(1,"Comentarios/diagn\xf3stico:"),h.qZA())}function sl(e,n){if(1&e&&(h.TgZ(0,"div"),h.YNc(1,Wl,2,0,"span",1),h.YNc(2,Tc,2,0,"span",1),h.YNc(3,Jc,2,0,"span",1),h.TgZ(4,"span"),h._uU(5),h.qZA()()),2&e){const t=h.oxw(3);h.xp6(1),h.Q6J("ngIf","Cancelado"==t.turnoSeleccionado.estado),h.xp6(1),h.Q6J("ngIf","Rechazado"==t.turnoSeleccionado.estado),h.xp6(1),h.Q6J("ngIf","Finalizado"==t.turnoSeleccionado.estado),h.xp6(2),h.hij(" ",t.turnoSeleccionado.resenia,"")}}function ql(e,n){if(1&e&&(h.TgZ(0,"div")(1,"span"),h._uU(2),h.qZA(),h._UZ(3,"br"),h.TgZ(4,"span"),h._uU(5),h.qZA(),h._UZ(6,"br"),h.TgZ(7,"span"),h._uU(8),h.qZA(),h._UZ(9,"br"),h.TgZ(10,"span"),h._uU(11),h.qZA(),h._UZ(12,"br")(13,"br"),h.YNc(14,Fl,2,1,"button",2),h._UZ(15,"br")(16,"br"),h.YNc(17,Da,11,5,"div",1),h.YNc(18,xu,2,1,"button",15),h._UZ(19,"br")(20,"br"),h.YNc(21,sl,6,4,"div",1),h._UZ(22,"br"),h.qZA()),2&e){const t=h.oxw(2);h.xp6(2),h.hij("Especialidad: ",t.turnoSeleccionado.especialidad,""),h.xp6(3),h.hij("Paciente: ",t.turnoSeleccionado.pacienteNombre,""),h.xp6(3),h.hij("Fecha: ",t.turnoSeleccionado.fecha,""),h.xp6(3),h.hij("Estado: ",t.turnoSeleccionado.estado,""),h.xp6(3),h.Q6J("ngIf","En espera"==t.turnoSeleccionado.estado||"Aceptado"==t.turnoSeleccionado.estado),h.xp6(3),h.Q6J("ngIf",t.turnoCambioEstado),h.xp6(1),h.Q6J("ngIf",t.turnoSeleccionado.resenia||t.turnoSeleccionado.calificacion),h.xp6(3),h.Q6J("ngIf",t.verResenia)}}function Cc(e,n){if(1&e){const t=h.EpF();h.TgZ(0,"button",25),h.NdJ("click",function(){return h.CHM(t),h.oxw(3).abrirForm()}),h._uU(1),h.qZA()}if(2&e){const t=h.oxw(3);h.Q6J("disabled","Cancelado"==t.turnoSeleccionado.estado),h.xp6(1),h.Oqu(t.mensajeBotonCancelarTurno)}}function Ns(e,n){1&e&&(h.TgZ(0,"span",14),h._uU(1,"Debe escribir el motivo de la cancelaci\xf3n."),h.qZA())}function Le(e,n){if(1&e){const t=h.EpF();h.TgZ(0,"form",5),h.NdJ("ngSubmit",function(){h.CHM(t);const s=h.oxw(3);return s.cancelarTurno(s.turnoSeleccionado)}),h.TgZ(1,"h6",6),h._uU(2,"Cancelaci\xf3n de turno"),h.qZA(),h.TgZ(3,"div",7)(4,"div",8)(5,"div",9)(6,"label",10),h._uU(7,"Motivo de la cancelaci\xf3n"),h.qZA(),h._UZ(8,"input",11),h.YNc(9,Ns,2,0,"span",12),h.qZA(),h._UZ(10,"br"),h.TgZ(11,"button",13),h._uU(12,"Efectuar cancelaci\xf3n de turno"),h.qZA()()()()}if(2&e){const t=h.oxw(3);let r;h.Q6J("formGroup",t.formCancelacionTurno),h.xp6(9),h.Q6J("ngIf",(null==(r=t.formCancelacionTurno.get("comentarioCancelacion"))?null:r.hasError("required"))&&(null==(r=t.formCancelacionTurno.get("comentarioCancelacion"))?null:r.touched)),h.xp6(2),h.Q6J("disabled",t.formCancelacionTurno.invalid)}}function Et(e,n){if(1&e){const t=h.EpF();h.TgZ(0,"button",23),h.NdJ("click",function(){return h.CHM(t),h.oxw(3).mostrarResenia()}),h._uU(1),h.qZA()}if(2&e){const t=h.oxw(3);h.xp6(1),h.Oqu(t.mensajeBotonResenia)}}function Re(e,n){1&e&&(h.TgZ(0,"span"),h._uU(1,"Motivo de la cancelaci\xf3n:"),h.qZA())}function Mt(e,n){1&e&&(h.TgZ(0,"span"),h._uU(1,"Motivo del rechazo:"),h.qZA())}function En(e,n){1&e&&(h.TgZ(0,"span"),h._uU(1,"Comentarios/diagn\xf3stico:"),h.qZA())}function yr(e,n){1&e&&(h.TgZ(0,"span"),h._uU(1,"Calificaci\xf3n:"),h.qZA())}function Fr(e,n){if(1&e&&(h.TgZ(0,"div"),h.YNc(1,Re,2,0,"span",1),h.YNc(2,Mt,2,0,"span",1),h.YNc(3,En,2,0,"span",1),h.TgZ(4,"span"),h._uU(5),h.qZA(),h._UZ(6,"br"),h.YNc(7,yr,2,0,"span",1),h.TgZ(8,"span"),h._uU(9),h.qZA()()),2&e){const t=h.oxw(3);h.xp6(1),h.Q6J("ngIf","Cancelado"==t.turnoSeleccionado.estado),h.xp6(1),h.Q6J("ngIf","Rechazado"==t.turnoSeleccionado.estado),h.xp6(1),h.Q6J("ngIf","Finalizado"==t.turnoSeleccionado.estado),h.xp6(2),h.hij(" ",t.turnoSeleccionado.resenia,""),h.xp6(2),h.Q6J("ngIf",t.turnoSeleccionado.calificacion),h.xp6(2),h.hij(" ",t.turnoSeleccionado.calificacion,"")}}function Pi(e,n){if(1&e){const t=h.EpF();h.TgZ(0,"button",25),h.NdJ("click",function(){return h.CHM(t),h.oxw(3).abrirCalificacion()}),h._uU(1),h.qZA()}if(2&e){const t=h.oxw(3);h.Q6J("disabled",t.turnoSeleccionado.calificacion),h.xp6(1),h.Oqu(t.mensajeBotonCalificacion)}}function js(e,n){1&e&&(h.TgZ(0,"span",14),h._uU(1,"Debe dejar una calificaci\xf3n de la atenci\xf3n brindada por el profesional."),h.qZA())}function Ms(e,n){if(1&e){const t=h.EpF();h.TgZ(0,"form",5),h.NdJ("ngSubmit",function(){h.CHM(t);const s=h.oxw(3);return s.calificarAtencion(s.turnoSeleccionado)}),h.TgZ(1,"h6",6),h._uU(2,"Calificaci\xf3n de atenci\xf3n"),h.qZA(),h.TgZ(3,"div",7)(4,"div",8)(5,"div",9)(6,"label",26),h._uU(7,"Calificaci\xf3n"),h.qZA(),h._UZ(8,"input",27),h.YNc(9,js,2,0,"span",12),h.qZA(),h._UZ(10,"br"),h.TgZ(11,"button",13),h._uU(12,"Guardar calificaci\xf3n"),h.qZA()()()()}if(2&e){const t=h.oxw(3);let r;h.Q6J("formGroup",t.formCalificacion),h.xp6(9),h.Q6J("ngIf",(null==(r=t.formCalificacion.get("calificacion"))?null:r.hasError("required"))&&(null==(r=t.formCalificacion.get("calificacion"))?null:r.touched)),h.xp6(2),h.Q6J("disabled",t.formCalificacion.invalid)}}function Lt(e,n){if(1&e&&(h.TgZ(0,"div")(1,"span"),h._uU(2),h.qZA(),h._UZ(3,"br"),h.TgZ(4,"span"),h._uU(5),h.qZA(),h._UZ(6,"br"),h.TgZ(7,"span"),h._uU(8),h.qZA(),h._UZ(9,"br"),h.TgZ(10,"span"),h._uU(11),h.qZA(),h._UZ(12,"br")(13,"br"),h.YNc(14,Cc,2,2,"button",24),h._UZ(15,"br")(16,"br"),h.YNc(17,Le,13,3,"form",3),h.YNc(18,Et,2,1,"button",15),h._UZ(19,"br")(20,"br"),h.YNc(21,Fr,10,6,"div",1),h._UZ(22,"br"),h.YNc(23,Pi,2,2,"button",24),h._UZ(24,"br")(25,"br"),h.YNc(26,Ms,13,3,"form",3),h.qZA()),2&e){const t=h.oxw(2);h.xp6(2),h.hij("Especialidad: ",t.turnoSeleccionado.especialidad,""),h.xp6(3),h.hij("Especialista: ",t.turnoSeleccionado.especialistaNombre,""),h.xp6(3),h.hij("Fecha: ",t.turnoSeleccionado.fecha,""),h.xp6(3),h.hij("Estado: ",t.turnoSeleccionado.estado,""),h.xp6(3),h.Q6J("ngIf","Finalizado"!=t.turnoSeleccionado.estado),h.xp6(3),h.Q6J("ngIf",t.turnoCancelado&&"Cancelado"!=t.turnoSeleccionado.estado),h.xp6(1),h.Q6J("ngIf",t.turnoSeleccionado.resenia||t.turnoSeleccionado.calificacion),h.xp6(3),h.Q6J("ngIf",t.verResenia),h.xp6(2),h.Q6J("ngIf","Finalizado"==t.turnoSeleccionado.estado),h.xp6(3),h.Q6J("ngIf",t.completarCalificacion)}}function Ut(e,n){if(1&e&&(h.TgZ(0,"div"),h.YNc(1,il,21,7,"div",1),h.YNc(2,ql,23,8,"div",1),h.YNc(3,Lt,27,10,"div",1),h.qZA()),2&e){const t=h.oxw();h.xp6(1),h.Q6J("ngIf",t.administrador),h.xp6(1),h.Q6J("ngIf",t.especialista),h.xp6(1),h.Q6J("ngIf",t.paciente)}}let _n=(()=>{class e{constructor(t,r){this.turnosService=t,this.fb=r,this.turnoCancelado=!1,this.turnoCambioEstado=!1,this.verResenia=!1,this.completarCalificacion=!1,this.mensajeBotonResenia="Ver rese\xf1a",this.mensajeBotonCancelarTurno="Cancelar turno",this.mensajeBotonCalificacion="Calificar atenci\xf3n",this.mensajeBotonCambiarEstadoTurno="Modificar estado",this.listaEstados=[],this.dropdownSettings={},this.especialista=!1,this.paciente=!1,this.administrador=!1,this.formCancelacionTurno=r.group({comentarioCancelacion:["",Rt.kI.required]}),this.formCalificacion=r.group({calificacion:["",Rt.kI.required]}),this.formCanceloRechazoTurno=r.group({resenia:["",Rt.kI.required]}),this.formFinalizoTurno=r.group({resenia:["",Rt.kI.required]})}ngOnInit(){}abrirForm(){0==this.turnoCancelado?(this.turnoCancelado=!0,this.mensajeBotonCancelarTurno="Cerrar"):(this.turnoCancelado=!1,this.mensajeBotonCancelarTurno="Cancelar turno")}abrirCalificacion(){0==this.completarCalificacion?(this.completarCalificacion=!0,this.mensajeBotonCalificacion="Cerrar"):(this.completarCalificacion=!1,this.mensajeBotonCalificacion="Calificar atenci\xf3n")}mostrarResenia(){0==this.verResenia?(this.verResenia=!0,this.mensajeBotonResenia="Ocultar rese\xf1a"):(this.verResenia=!1,this.mensajeBotonResenia="Ver rese\xf1a")}cambiarEstadoTurno(t){t.estado=this.estadoSeleccionado,"Cancelado"==this.estadoSeleccionado||"Rechazado"==this.estadoSeleccionado?t.resenia=this.formCanceloRechazoTurno.controls.resenia.value:"Finalizado"==this.estadoSeleccionado&&(t.resenia=this.formFinalizoTurno.controls.resenia.value),this.turnosService.cambiarEstadoTurno(t),this.turnoSeleccionado.estado=t.estado,this.turnoCambioEstado=!1,this.mensajeBotonCambiarEstadoTurno="Modificar estado"}cancelarTurno(t){t.resenia=this.formCancelacionTurno.controls.comentarioCancelacion.value,t.estado=Ks.cancelado,this.turnosService.cambiarEstadoTurno(t),this.turnoSeleccionado.estado=Ks.cancelado,this.turnoCancelado=!1}calificarAtencion(t){t.calificacion=this.formCalificacion.controls.calificacion.value,this.turnosService.calificar(t)}fillListaEstados(t){this.listaEstados=t.estado==Ks.enespera?[Ks.aceptado,Ks.cancelado,Ks.rechazado]:t.estado==Ks.aceptado?[Ks.finalizado]:[]}abrirFormCambioEstado(t){0==this.turnoCambioEstado?(this.turnoCambioEstado=!0,this.mensajeBotonCambiarEstadoTurno="Cerrar",this.fillListaEstados(t)):(this.turnoCambioEstado=!1,this.mensajeBotonCambiarEstadoTurno="Modificar estado")}}return e.\u0275fac=function(t){return new(t||e)(h.Y36(Vo),h.Y36(Rt.qu))},e.\u0275cmp=h.Xpm({type:e,selectors:[["app-detalle-turno"]],inputs:{turnoSeleccionado:"turnoSeleccionado",especialista:"especialista",paciente:"paciente",administrador:"administrador"},decls:2,vars:1,consts:[[1,"h-100","p-5","text-white","bg-dark","rounded-3"],[4,"ngIf"],["class","btn btn-sm btn-outline-light","type","button",3,"click",4,"ngIf"],[3,"formGroup","ngSubmit",4,"ngIf"],["type","button",1,"btn","btn-sm","btn-outline-light",3,"click"],[3,"formGroup","ngSubmit"],[1,"mb-3"],[1,"form-group"],[1,"row","g-3"],[1,"col-sm-6"],["for","comentario"],["type","text","formControlName","comentarioCancelacion","placeholder","",1,"form-control"],["class","text-danger",4,"ngIf"],["type","submit",1,"btn","btn-primary","btn-md",3,"disabled"],[1,"text-danger"],["class","btn btn-primary btn-sm","type","button",3,"click",4,"ngIf"],["name","listaEstados",3,"ngModel","ngModelChange"],[3,"value",4,"ngFor","ngForOf"],["class","btn btn-primary btn-md","type","button",3,"click",4,"ngIf"],[3,"value"],["type","text","formControlName","resenia","placeholder","",1,"form-control"],[3,"paciente"],["type","button",1,"btn","btn-primary","btn-md",3,"click"],["type","button",1,"btn","btn-primary","btn-sm",3,"click"],["class","btn btn-sm btn-outline-light","type","button",3,"disabled","click",4,"ngIf"],["type","button",1,"btn","btn-sm","btn-outline-light",3,"disabled","click"],["for","calificacion"],["type","text","formControlName","calificacion","placeholder","",1,"form-control"]],template:function(t,r){1&t&&(h.TgZ(0,"div",0),h.YNc(1,Ut,4,3,"div",1),h.qZA()),2&t&&(h.xp6(1),h.Q6J("ngIf",r.turnoSeleccionado))},directives:[C.O5,Rt._Y,Rt.JL,Rt.sg,Rt.Fj,Rt.JJ,Rt.u,Rt.EJ,Rt.On,C.sg,Rt.YN,Rt.Kr,Hl],styles:[""]}),e})(),Xn=(()=>{class e{constructor(){}ngOnInit(){}mostrar(t){this.turnoSeleccionado=t}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=h.Xpm({type:e,selectors:[["app-turnos-paciente"]],decls:12,vars:3,consts:[["lang","en"],[1,"container","py-4"],[1,"p-5","mb-4","bg-light","rounded-3"],[1,"container-fluid","py-5"],[1,"display-5","fw-bold"],[3,"tipoUsuario","seSeleccionoTurno"],[1,"row"],[1,"col-md-6",2,"width","30%"],[3,"turnoSeleccionado","paciente"]],template:function(t,r){1&t&&(h.TgZ(0,"html",0)(1,"body")(2,"main")(3,"div",1)(4,"div",2)(5,"div",3)(6,"h1",4),h._uU(7,"Mis turnos"),h.qZA(),h.TgZ(8,"app-tabla-turnos",5),h.NdJ("seSeleccionoTurno",function(o){return r.mostrar(o)}),h.qZA()()(),h.TgZ(9,"div",6)(10,"div",7),h._UZ(11,"app-detalle-turno",8),h.qZA()()()()()()),2&t&&(h.xp6(8),h.Q6J("tipoUsuario","paciente"),h.xp6(3),h.Q6J("turnoSeleccionado",r.turnoSeleccionado)("paciente",!0))},directives:[ac,_n],styles:[""]}),e})(),Tr=(()=>{class e{constructor(){}ngOnInit(){}mostrar(t){this.turnoSeleccionado=t}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=h.Xpm({type:e,selectors:[["app-turnos-especialista"]],decls:11,vars:3,consts:[["lang","en"],[1,"container","py-4"],[1,"p-5","mb-4","bg-light","rounded-3"],[1,"container-fluid","py-5"],[1,"display-5","fw-bold"],[3,"tipoUsuario","seSeleccionoTurno"],[1,"row"],[3,"turnoSeleccionado","especialista"]],template:function(t,r){1&t&&(h.TgZ(0,"html",0)(1,"body")(2,"main")(3,"div",1)(4,"div",2)(5,"div",3)(6,"h1",4),h._uU(7,"Mis turnos"),h.qZA(),h.TgZ(8,"app-tabla-turnos",5),h.NdJ("seSeleccionoTurno",function(o){return r.mostrar(o)}),h.qZA()()(),h.TgZ(9,"div",6),h._UZ(10,"app-detalle-turno",7),h.qZA()()()()()),2&t&&(h.xp6(8),h.Q6J("tipoUsuario","especialista"),h.xp6(2),h.Q6J("turnoSeleccionado",r.turnoSeleccionado)("especialista",!0))},directives:[ac,_n],styles:[""]}),e})();function ri(e,n){1&e&&h._UZ(0,"app-turnos-paciente")}function yi(e,n){1&e&&h._UZ(0,"app-turnos-especialista")}let ii=(()=>{class e{constructor(t){this.authService=t,this.esAdmin=!1,this.esPac=!1,this.esEspec=!1}ngOnInit(){let t=JSON.parse(localStorage.getItem("loggedUser")||"");t&&("administrador"==t.tipo?(this.esAdmin=!0,this.esEspec=!1,this.esPac=!1):"especialista"==t.tipo?(this.esAdmin=!1,this.esEspec=!0,this.esPac=!1):"paciente"==t.tipo&&(this.esAdmin=!1,this.esEspec=!1,this.esPac=!0))}}return e.\u0275fac=function(t){return new(t||e)(h.Y36(Li.z))},e.\u0275cmp=h.Xpm({type:e,selectors:[["app-mis-turnos"]],decls:2,vars:2,consts:[[4,"ngIf"]],template:function(t,r){1&t&&(h.YNc(0,ri,1,0,"app-turnos-paciente",0),h.YNc(1,yi,1,0,"app-turnos-especialista",0)),2&t&&(h.Q6J("ngIf",r.esPac),h.xp6(1),h.Q6J("ngIf",r.esEspec))},directives:[C.O5,Xn,Tr],styles:[""]}),e})(),Vs=(()=>{class e{constructor(){}ngOnInit(){}mostrar(t){this.turnoSeleccionado=t}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=h.Xpm({type:e,selectors:[["app-turnos"]],decls:11,vars:3,consts:[["lang","en"],[1,"container","py-4"],[1,"p-5","mb-4","bg-light","rounded-3"],[1,"container-fluid","py-5"],[1,"display-5","fw-bold"],[3,"tipoUsuario","seSeleccionoTurno"],[1,"row"],[3,"turnoSeleccionado","administrador"]],template:function(t,r){1&t&&(h.TgZ(0,"html",0)(1,"body")(2,"main")(3,"div",1)(4,"div",2)(5,"div",3)(6,"h1",4),h._uU(7,"Administraci\xf3n de turnos"),h.qZA(),h.TgZ(8,"app-tabla-turnos",5),h.NdJ("seSeleccionoTurno",function(o){return r.mostrar(o)}),h.qZA()()(),h.TgZ(9,"div",6),h._UZ(10,"app-detalle-turno",7),h.qZA()()()()()),2&t&&(h.xp6(8),h.Q6J("tipoUsuario","administrador"),h.xp6(2),h.Q6J("turnoSeleccionado",r.turnoSeleccionado)("administrador",!0))},directives:[ac,_n],styles:[""]}),e})();class ko{constructor(n,t,r){this.dia=n,this.start=t,this.finish=r}}let $i=(()=>{class e{constructor(t){this.firestore=t,this.disponibilidades=t.collection("disponibilidades").snapshotChanges()}getDisponibilidades(){return this.firestore.collection("disponibilidades").snapshotChanges()}getDisponibilidadesByEspecialistaEspecialidad(t,r){return this.firestore.collection("disponibilidades",s=>s.where("especialista","==",t).where("especialidad","==",r)).snapshotChanges()}getDisponibilidad(t){return this.firestore.collection("disponibilidades",r=>r.where("mail","==",t)).snapshotChanges()}guardarDisponibilidad(t){return this.firestore.collection("disponibilidades").add({franjas:JSON.parse(JSON.stringify(t.franjas)),especialista:t.especialista,especialidad:t.especialidad,duracionTurno:t.duracionTurno})}}return e.\u0275fac=function(t){return new(t||e)(h.LFG(ro.ST))},e.\u0275prov=h.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"}),e})(),Ze=(()=>{class e{transform(t,r){return t&&r?t.filter(s=>-1!==s.nombre.indexOf(r)||-1!==s.apellido.indexOf(r)):t}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275pipe=h.Yjl({name:"filtroEspecialistas",type:e,pure:!0}),e})();function Me(e,n){if(1&e){const t=h.EpF();h.TgZ(0,"li",2),h.NdJ("click",function(){const o=h.CHM(t).$implicit;return h.oxw().seleccionarEspecialista(o)}),h.TgZ(1,"button",3),h._UZ(2,"img",4),h.TgZ(3,"p"),h._uU(4),h.qZA()()()}if(2&e){const t=n.$implicit;h.xp6(2),h.s9C("src",t.fotoUrl,h.LSH),h.xp6(2),h.AsE(" ",t.nombre," ",t.apellido," ")}}class _e{constructor(n){this.especialistaService=n,this.seSeleccionoEspecialista=new h.vpe,this.arrayEspecialistas=[],this.filter=""}ngOnInit(){this.especialistaService.getEspecialistas().subscribe(n=>{let t=[];for(let r=0;r<n.length;r++)t.push(n[r].payload.doc.data());this.arrayEspecialistas=t})}seleccionarEspecialista(n){this.seSeleccionoEspecialista.emit(n)}}_e.updateListaEspecialistas=new us.x,_e.\u0275fac=function(n){return new(n||_e)(h.Y36(ji.n))},_e.\u0275cmp=h.Xpm({type:_e,selectors:[["app-lista-especialistas"]],outputs:{seSeleccionoEspecialista:"seSeleccionoEspecialista"},decls:4,vars:5,consts:[["type","text",3,"ngModel","ngModelChange"],["class","d-inline-block",3,"click",4,"ngFor","ngForOf"],[1,"d-inline-block",3,"click"],["type","button",2,"border-radius","2px"],[1,"image",2,"width","160px","height","90px",3,"src"]],template:function(n,t){1&n&&(h.TgZ(0,"p")(1,"input",0),h.NdJ("ngModelChange",function(s){return t.filter=s}),h.qZA()(),h.YNc(2,Me,5,3,"li",1),h.ALo(3,"filtroEspecialistas")),2&n&&(h.xp6(1),h.Q6J("ngModel",t.filter),h.xp6(1),h.Q6J("ngForOf",h.xi3(3,2,t.arrayEspecialistas,t.filter)))},directives:[Rt.Fj,Rt.JJ,Rt.On,C.sg],pipes:[Ze],styles:[".btn[_ngcontent-%COMP%]{background-position:center;background-repeat:no-repeat;background-size:cover}"]});var V=me(5401);let K=(()=>{class e{transform(t,r){return t&&r?t.filter(s=>-1!==s.nombre.indexOf(r)):t}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275pipe=h.Yjl({name:"filtroEspecialidades",type:e,pure:!0}),e})();function gt(e,n){if(1&e){const t=h.EpF();h.TgZ(0,"li",2),h.NdJ("click",function(){const o=h.CHM(t).$implicit;return h.oxw().seleccionarEspecialidad(o)}),h.TgZ(1,"button",3),h._UZ(2,"img",4),h.TgZ(3,"p"),h._uU(4),h.qZA()()()}if(2&e){const t=n.$implicit;h.xp6(2),h.s9C("src",t.fotoUrl,h.LSH),h.xp6(2),h.hij(" ",t.nombre,"")}}let Qt=(()=>{class e{constructor(t){this.especialidadService=t,this.seSeleccionoEspecialidad=new h.vpe,this.arrayEspecialidades=[],this.filter=""}ngOnChanges(){this.arrayEspecialidades=this.especialistaSeleccionado.especialidades}ngOnInit(){}seleccionarEspecialidad(t){this.seSeleccionoEspecialidad.emit(t)}}return e.\u0275fac=function(t){return new(t||e)(h.Y36(V.T))},e.\u0275cmp=h.Xpm({type:e,selectors:[["app-lista-especialidades"]],inputs:{especialistaSeleccionado:"especialistaSeleccionado"},outputs:{seSeleccionoEspecialidad:"seSeleccionoEspecialidad"},features:[h.TTD],decls:4,vars:5,consts:[["type","text",3,"ngModel","ngModelChange"],["class","d-inline-block",3,"click",4,"ngFor","ngForOf"],[1,"d-inline-block",3,"click"],["type","button",2,"border-radius","2px"],[1,"image",2,"width","160px","height","90px",3,"src"]],template:function(t,r){1&t&&(h.TgZ(0,"p")(1,"input",0),h.NdJ("ngModelChange",function(o){return r.filter=o}),h.qZA()(),h.YNc(2,gt,5,2,"li",1),h.ALo(3,"filtroEspecialidades")),2&t&&(h.xp6(1),h.Q6J("ngModel",r.filter),h.xp6(1),h.Q6J("ngForOf",h.xi3(3,2,r.arrayEspecialidades,r.filter)))},directives:[Rt.Fj,Rt.JJ,Rt.On,C.sg],pipes:[K],styles:[""]}),e})();function xn(e,n){if(1&e){const t=h.EpF();h.TgZ(0,"li",2),h.NdJ("click",function(){const o=h.CHM(t).$implicit;return h.oxw().seleccionarPaciente(o)}),h.TgZ(1,"button",3),h._UZ(2,"img",4),h.TgZ(3,"p"),h._uU(4),h.qZA()()()}if(2&e){const t=n.$implicit;h.xp6(2),h.s9C("src",t.foto1Url,h.LSH),h.xp6(2),h.AsE("",t.nombre," ",t.apellido," ")}}let er=(()=>{class e{constructor(t){this.pacienteService=t,this.seSeleccionoPaciente=new h.vpe,this.arrayPacientes=[],this.filter=""}ngOnInit(){this.pacienteService.getPacientes().subscribe(t=>{let r=[];for(let s=0;s<t.length;s++)r.push(t[s].payload.doc.data());this.arrayPacientes=r})}seleccionarPaciente(t){this.seSeleccionoPaciente.emit(t)}}return e.\u0275fac=function(t){return new(t||e)(h.Y36(Us.d))},e.\u0275cmp=h.Xpm({type:e,selectors:[["app-lista-pacientes"]],outputs:{seSeleccionoPaciente:"seSeleccionoPaciente"},decls:4,vars:5,consts:[["type","text",3,"ngModel","ngModelChange"],["class","d-inline-block",3,"click",4,"ngFor","ngForOf"],[1,"d-inline-block",3,"click"],["type","button",2,"border-radius","2px"],[1,"image",2,"width","160px","height","90px",3,"src"]],template:function(t,r){1&t&&(h.TgZ(0,"p")(1,"input",0),h.NdJ("ngModelChange",function(o){return r.filter=o}),h.qZA()(),h.YNc(2,xn,5,3,"li",1),h.ALo(3,"filtroEspecialistas")),2&t&&(h.xp6(1),h.Q6J("ngModel",r.filter),h.xp6(1),h.Q6J("ngForOf",h.xi3(3,2,r.arrayPacientes,r.filter)))},directives:[Rt.Fj,Rt.JJ,Rt.On,C.sg],pipes:[Ze],styles:[""]}),e})();function Lr(e,n){if(1&e){const t=h.EpF();h.TgZ(0,"div",3)(1,"h4",4)(2,"span",5),h._uU(3,"Elegir especialidad"),h.qZA()(),h.TgZ(4,"app-lista-especialidades",27),h.NdJ("seSeleccionoEspecialidad",function(s){return h.CHM(t),h.oxw().cambiarEspecialidad(s)}),h.qZA()()}if(2&e){const t=h.oxw();h.xp6(4),h.Q6J("especialistaSeleccionado",t.especialistaSeleccionado)}}function pi(e,n){if(1&e){const t=h.EpF();h.TgZ(0,"div")(1,"h4",4)(2,"span",5),h._uU(3,"Elegir paciente"),h.qZA()(),h.TgZ(4,"app-lista-pacientes",28),h.NdJ("seSeleccionoPaciente",function(s){return h.CHM(t),h.oxw().cambiarPaciente(s)}),h.qZA()()}}function fi(e,n){1&e&&(h.TgZ(0,"span",29),h._uU(1,"Debe seleccionar especialista de la tabla luego de haber seleccionado la especialidad."),h.qZA())}function es(e,n){1&e&&(h.TgZ(0,"span",29),h._uU(1,"Debe seleccionar especialidad en de la tabla."),h.qZA())}function Ds(e,n){1&e&&(h.TgZ(0,"span",29),h._uU(1,"Debe seleccionar paciente de la tabla."),h.qZA())}function Ko(e,n){if(1&e&&(h.TgZ(0,"div",13)(1,"label",30),h._uU(2,"Paciente"),h.qZA(),h._UZ(3,"input",31),h.YNc(4,Ds,2,0,"span",16),h.qZA()),2&e){const t=h.oxw();let r;h.xp6(4),h.Q6J("ngIf",(null==(r=t.formAltaTurno.get("paciente"))?null:r.hasError("required"))&&(null==(r=t.formAltaTurno.get("paciente"))?null:r.touched))}}function so(e,n){1&e&&(h.TgZ(0,"span",29),h._uU(1,"Debe elegir una fecha de la tabla de posibles turnos."),h.qZA())}function Ho(e,n){if(1&e){const t=h.EpF();h.TgZ(0,"li",32)(1,"button",33),h.NdJ("click",function(){const o=h.CHM(t).$implicit;return h.oxw().cambiarTurno(o)}),h.TgZ(2,"p"),h._uU(3),h.ALo(4,"date"),h.qZA()()()}if(2&e){const t=n.$implicit;h.xp6(3),h.hij(" ",h.xi3(4,1,t,"yyyy/MM/dd HH:mm"),"")}}let qs=(()=>{class e{constructor(t,r,s,o,d,g){this.datepipe=t,this.turnosService=r,this.authService=s,this.router=o,this.fb=d,this.disponibilidadService=g,this.eligioEspecialista=!1,this.captchaResolved=!1,this.esAdmin=!1,this.disponibilidadesArray=[],this.turnosArray=[],this.formAltaTurno=d.group({especialista:["",Rt.kI.required],fecha:["",Rt.kI.required],especialidad:["",Rt.kI.required],paciente:["",Rt.kI.required],reCaptcha:["",Rt.kI.required]})}ngOnInit(){let t=JSON.parse(localStorage.getItem("loggedUser")||"");"administrador"==t.tipo?this.esAdmin=!0:"paciente"==t.tipo&&(this.formAltaTurno.controls.paciente.setValue(t.nombre+" "+t.apellido),this.pacienteSeleccionado=t)}guardarTurno(){let m=new Aa(this.pacienteSeleccionado.mail,this.formAltaTurno.controls.paciente.value,this.especialistaSeleccionado.mail,this.especialistaSeleccionado.nombre+" "+this.especialistaSeleccionado.apellido,this.formAltaTurno.controls.fecha.value,this.formAltaTurno.controls.especialidad.value,Ks.enespera,"","","");this.turnosService.guardarTurno(m).then(_=>{this.showSuccess()}).catch(_=>{this.showError(_)}),this.borrarTurnosReservados()}showSuccess(){}showError(t){}cambiarEspecialidad(t){this.formAltaTurno.controls.especialidad.setValue(t.nombre),this.especialidadSeleccionada=t,this.formAltaTurno.controls.fecha.setValue(""),this.turnosArray=[],this.getDisponibilidad()}cambiarEspecialista(t){this.especialistaSeleccionado=t,this.formAltaTurno.controls.especialidad.setValue(""),this.turnosArray=[],1==this.especialistaSeleccionado.especialidades.length&&this.cambiarEspecialidad(this.especialistaSeleccionado.especialidades[0]),this.eligioEspecialista=!0,this.formAltaTurno.controls.especialista.setValue(t.nombre),this.formAltaTurno.controls.fecha.setValue("")}cambiarTurno(t){this.turnoSeleccionado=t,this.formAltaTurno.controls.fecha.setValue(this.datepipe.transform(t,"yyyy-MM-dd HH:mm"))}cambiarPaciente(t){this.pacienteSeleccionado=t,this.formAltaTurno.controls.paciente.setValue(t.nombre)}getDisponibilidad(){let t=["domingo","lunes","martes","miercoles","jueves","viernes","sabado"];this.disponibilidadService.getDisponibilidadesByEspecialistaEspecialidad(this.especialistaSeleccionado.mail,this.especialidadSeleccionada.nombre).subscribe(r=>{for(let s=0;s<r.length;s++){let o=r[s].payload.doc.data();for(let d=0;d<o.franjas.length;d++){let g=new ko(o.franjas[d].dia,this.extractTime(o.franjas[d].start),this.extractTime(o.franjas[d].finish)),m=new Date,_=new Date;for(_.setDate(_.getDate()+15);t[m.getDay()]!=g.dia.toString();)m.setDate(m.getDate()+1);for(m.setHours(g.start.hours),m.setMinutes(g.start.minutes),m.setSeconds(0),m.setMilliseconds(0);t[_.getDay()]!=g.dia.toString();)_.setDate(_.getDate()-1);_.setHours(g.finish.hours),_.setMinutes(g.finish.minutes-o.duracionTurno),_.setSeconds(0),_.setMilliseconds(0);let w=new Date;for(w.setDate(m.getDate()),w.setHours(m.getHours()),w.setMinutes(m.getMinutes()),w.setSeconds(0),w.setMilliseconds(0),this.turnosArray.push(w);m<=_;){m.setMinutes(m.getMinutes()+o.duracionTurno);let A=new Date;A.setDate(m.getDate()),A.setHours(g.start.hours),A.setMinutes(g.start.minutes),A.setSeconds(0),A.setMilliseconds(0);let N=new Date;N.setDate(m.getDate()),N.setHours(g.finish.hours),N.setMinutes(g.finish.minutes-o.duracionTurno),N.setSeconds(0),N.setMilliseconds(0);let D=new Date;D.setDate(m.getDate()),D.setHours(m.getHours()),D.setMinutes(m.getMinutes()),D.setSeconds(0),D.setMilliseconds(0),t[D.getDay()]==g.dia.toString()&&D>=A&&D<=N&&this.turnosArray.push(D)}}}this.borrarTurnosReservados()})}extractTime(t){const[r,s]=t.split(":");return{hours:+r,minutes:+s}}borrarTurnosReservados(){let t=this.turnosService.getTurnosByEspecialista(this.especialistaSeleccionado.mail).subscribe(r=>{for(let s=0;s<r.length;s++){let o=r[s].payload.doc.data();this.turnosArray.splice(this.turnosArray.findIndex(d=>d.getTime()==new Date(o.fecha).getTime()&&(o.estado==Ks.enespera||o.estado==Ks.aceptado)),1)}this.turnosArray.sort((s,o)=>s.getTime()-o.getTime()),t.unsubscribe()})}}return e.\u0275fac=function(t){return new(t||e)(h.Y36(C.uU),h.Y36(Vo),h.Y36(Li.z),h.Y36(Ni.F0),h.Y36(Rt.qu),h.Y36($i))},e.\u0275cmp=h.Xpm({type:e,selectors:[["app-alta-turnos"]],decls:53,vars:9,consts:[[1,"bg-light"],[1,"container"],[1,"row","g-5"],[1,"col-sm-6","order-sm-last"],[1,"d-flex","justify-content-between","align-items-center","mb-3"],[1,"text-primary"],[3,"seSeleccionoEspecialista"],["class","col-sm-6 order-sm-last",4,"ngIf"],[4,"ngIf"],[3,"formGroup","ngSubmit"],[1,"mb-3"],[1,"form-group"],[1,"row","g-3"],[1,"col-sm-6"],["for","especialista"],["type","text","formControlName","especialista","readonly","","placeholder","",1,"form-control"],["class","text-danger",4,"ngIf"],["for","especialidad"],["type","text","formControlName","especialidad","readonly","","placeholder","",1,"form-control"],["class","col-sm-6",4,"ngIf"],[1,"row"],["for","fecha"],["type","text","readonly","","formControlName","fecha",1,"form-control"],["for","turnos"],["class","d-inline-block",4,"ngFor","ngForOf"],["formControlName","reCaptcha"],["type","submit",1,"btn","btn-primary","btn-md",3,"disabled"],[3,"especialistaSeleccionado","seSeleccionoEspecialidad"],[3,"seSeleccionoPaciente"],[1,"text-danger"],["for","paciente"],["type","text","formControlName","paciente","readonly","","placeholder","",1,"form-control"],[1,"d-inline-block"],["type","button",1,"btn","btn-secondary","btn-sm",2,"border-radius","2px",3,"click"]],template:function(t,r){if(1&t&&(h.TgZ(0,"body",0)(1,"div",1)(2,"main")(3,"div",2)(4,"div",3)(5,"h4",4)(6,"span",5),h._uU(7,"Elegir especialista"),h.qZA()(),h.TgZ(8,"app-lista-especialistas",6),h.NdJ("seSeleccionoEspecialista",function(o){return r.cambiarEspecialista(o)}),h.qZA()(),h._UZ(9,"br")(10,"br"),h.YNc(11,Lr,5,1,"div",7),h.qZA(),h._UZ(12,"br")(13,"br"),h.TgZ(14,"div",2),h.YNc(15,pi,5,0,"div",8),h.qZA(),h._UZ(16,"br"),h.TgZ(17,"div",2),h._UZ(18,"br"),h.TgZ(19,"form",9),h.NdJ("ngSubmit",function(){return r.guardarTurno()}),h.TgZ(20,"h4",10),h._uU(21,"Completar turno"),h.qZA(),h.TgZ(22,"div",11)(23,"div",12)(24,"div",13)(25,"label",14),h._uU(26,"Especialista"),h.qZA(),h._UZ(27,"input",15),h.YNc(28,fi,2,0,"span",16),h.qZA(),h.TgZ(29,"div",13)(30,"label",17),h._uU(31,"Especialidad"),h.qZA(),h._UZ(32,"input",18),h.YNc(33,es,2,0,"span",16),h.qZA(),h.YNc(34,Ko,5,1,"div",19),h._UZ(35,"br"),h.TgZ(36,"div",20)(37,"div",13)(38,"label",21),h._uU(39,"Fecha"),h.qZA(),h._UZ(40,"input",22),h.YNc(41,so,2,0,"span",16),h._UZ(42,"br"),h.qZA(),h.TgZ(43,"div",13)(44,"label",23),h._uU(45,"Posibles turnos"),h.qZA(),h._UZ(46,"br"),h.YNc(47,Ho,5,4,"li",24),h.qZA()(),h._UZ(48,"br")(49,"re-captcha",25)(50,"br"),h.TgZ(51,"button",26),h._uU(52,"Cargar Turno"),h.qZA()()()()()()()()),2&t){let s,o,d;h.xp6(11),h.Q6J("ngIf",r.eligioEspecialista),h.xp6(4),h.Q6J("ngIf",r.esAdmin),h.xp6(4),h.Q6J("formGroup",r.formAltaTurno),h.xp6(9),h.Q6J("ngIf",(null==(s=r.formAltaTurno.get("especialista"))?null:s.hasError("required"))&&(null==(s=r.formAltaTurno.get("especialista"))?null:s.touched)),h.xp6(5),h.Q6J("ngIf",(null==(o=r.formAltaTurno.get("especialidad"))?null:o.hasError("required"))&&(null==(o=r.formAltaTurno.get("especialidad"))?null:o.touched)),h.xp6(1),h.Q6J("ngIf",r.esAdmin),h.xp6(7),h.Q6J("ngIf",(null==(d=r.formAltaTurno.get("fecha"))?null:d.hasError("required"))&&(null==(d=r.formAltaTurno.get("fecha"))?null:d.touched)),h.xp6(6),h.Q6J("ngForOf",r.turnosArray),h.xp6(4),h.Q6J("disabled",r.formAltaTurno.invalid)}},directives:[_e,C.O5,Qt,er,Rt._Y,Rt.JL,Rt.sg,Rt.Fj,Rt.JJ,Rt.u,C.sg,va,kr],pipes:[C.uU],styles:[".container[_ngcontent-%COMP%]{max-width:960px}"]}),e})();var No_version="0.18.5",Es=1200,ua=1252,Xo=[874,932,936,949,950,1250,1251,1252,1253,1254,1255,1256,1257,1258,1e4],ha={0:1252,1:65001,2:65001,77:1e4,128:932,129:949,130:1361,134:936,136:950,161:1253,162:1254,163:1258,177:1255,178:1256,186:1257,204:1251,222:874,238:1250,255:1252,69:6969},Ro=function(e){-1!=Xo.indexOf(e)&&(ua=ha[0]=e)},Jo=function(e){Es=e,Ro(e)};var Ts,lu=function(n){return String.fromCharCode(n)},Gu=function(n){return String.fromCharCode(n)},ml="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";function gd(e){for(var n="",t=0,r=0,s=0,o=0,d=0,g=0,m=0,_=0;_<e.length;)o=(t=e.charCodeAt(_++))>>2,d=(3&t)<<4|(r=e.charCodeAt(_++))>>4,g=(15&r)<<2|(s=e.charCodeAt(_++))>>6,m=63&s,isNaN(r)?g=m=64:isNaN(s)&&(m=64),n+=ml.charAt(o)+ml.charAt(d)+ml.charAt(g)+ml.charAt(m);return n}function Zl(e){var n="",o=0,d=0,g=0,m=0;e=e.replace(/[^\w\+\/\=]/g,"");for(var _=0;_<e.length;)o=ml.indexOf(e.charAt(_++)),d=ml.indexOf(e.charAt(_++)),n+=String.fromCharCode(o<<2|d>>4),64!==(g=ml.indexOf(e.charAt(_++)))&&(n+=String.fromCharCode((15&d)<<4|g>>2)),64!==(m=ml.indexOf(e.charAt(_++)))&&(n+=String.fromCharCode((3&g)<<6|m));return n}var ns=function(){return"undefined"!=typeof Buffer&&"undefined"!=typeof process&&void 0!==process.versions&&!!process.versions.node}(),$l=function(){if("undefined"!=typeof Buffer){var e=!Buffer.from;if(!e)try{Buffer.from("foo","utf8")}catch(n){e=!0}return e?function(n,t){return t?new Buffer(n,t):new Buffer(n)}:Buffer.from.bind(Buffer)}return function(){}}();function yo(e){return ns?Buffer.alloc?Buffer.alloc(e):new Buffer(e):"undefined"!=typeof Uint8Array?new Uint8Array(e):new Array(e)}function uc(e){return ns?Buffer.allocUnsafe?Buffer.allocUnsafe(e):new Buffer(e):"undefined"!=typeof Uint8Array?new Uint8Array(e):new Array(e)}var Sc=function(n){return ns?$l(n,"binary"):n.split("").map(function(t){return 255&t.charCodeAt(0)})};function tf(e){if("undefined"==typeof ArrayBuffer)return Sc(e);for(var n=new ArrayBuffer(e.length),t=new Uint8Array(n),r=0;r!=e.length;++r)t[r]=255&e.charCodeAt(r);return n}function Qc(e){if(Array.isArray(e))return e.map(function(r){return String.fromCharCode(r)}).join("");for(var n=[],t=0;t<e.length;++t)n[t]=String.fromCharCode(e[t]);return n.join("")}var So=ns?function(e){return Buffer.concat(e.map(function(n){return Buffer.isBuffer(n)?n:$l(n)}))}:function(e){if("undefined"!=typeof Uint8Array){var n=0,t=0;for(n=0;n<e.length;++n)t+=e[n].length;var r=new Uint8Array(t),s=0;for(n=0,t=0;n<e.length;t+=s,++n)if(s=e[n].length,e[n]instanceof Uint8Array)r.set(e[n],t);else{if("string"==typeof e[n])throw"wtf";r.set(new Uint8Array(e[n]),t)}return r}return[].concat.apply([],e.map(function(o){return Array.isArray(o)?o:[].slice.call(o)}))},ol=/\u0000/g,ka=/[\u0001-\u0006]/g;function Uh(e){for(var n="",t=e.length-1;t>=0;)n+=e.charAt(t--);return n}function hc(e,n){var t=""+e;return t.length>=n?t:fa("0",n-t.length)+t}function Ac(e,n){var t=""+e;return t.length>=n?t:fa(" ",n-t.length)+t}function Ic(e,n){var t=""+e;return t.length>=n?t:t+fa(" ",n-t.length)}var Dc=Math.pow(2,32);function cu(e,n){return e>Dc||e<-Dc?function da(e,n){var t=""+Math.round(e);return t.length>=n?t:fa("0",n-t.length)+t}(e,n):function Zu(e,n){var t=""+e;return t.length>=n?t:fa("0",n-t.length)+t}(Math.round(e),n)}function Uf(e,n){return e.length>=7+(n=n||0)&&103==(32|e.charCodeAt(n))&&101==(32|e.charCodeAt(n+1))&&110==(32|e.charCodeAt(n+2))&&101==(32|e.charCodeAt(n+3))&&114==(32|e.charCodeAt(n+4))&&97==(32|e.charCodeAt(n+5))&&108==(32|e.charCodeAt(n+6))}var Qr=[["Sun","Sunday"],["Mon","Monday"],["Tue","Tuesday"],["Wed","Wednesday"],["Thu","Thursday"],["Fri","Friday"],["Sat","Saturday"]],Pa=[["J","Jan","January"],["F","Feb","February"],["M","Mar","March"],["A","Apr","April"],["M","May","May"],["J","Jun","June"],["J","Jul","July"],["A","Aug","August"],["S","Sep","September"],["O","Oct","October"],["N","Nov","November"],["D","Dec","December"]],ts={0:"General",1:"0",2:"0.00",3:"#,##0",4:"#,##0.00",9:"0%",10:"0.00%",11:"0.00E+00",12:"# ?/?",13:"# ??/??",14:"m/d/yy",15:"d-mmm-yy",16:"d-mmm",17:"mmm-yy",18:"h:mm AM/PM",19:"h:mm:ss AM/PM",20:"h:mm",21:"h:mm:ss",22:"m/d/yy h:mm",37:"#,##0 ;(#,##0)",38:"#,##0 ;[Red](#,##0)",39:"#,##0.00;(#,##0.00)",40:"#,##0.00;[Red](#,##0.00)",45:"mm:ss",46:"[h]:mm:ss",47:"mmss.0",48:"##0.0E+0",49:"@",56:'"\u4e0a\u5348/\u4e0b\u5348 "hh"\u6642"mm"\u5206"ss"\u79d2 "'},bi={5:37,6:38,7:39,8:40,23:0,24:0,25:0,26:0,27:14,28:14,29:14,30:14,31:14,50:14,51:14,52:14,53:14,54:14,55:14,56:14,57:14,58:14,59:1,60:2,61:3,62:4,67:9,68:10,69:12,70:13,71:14,72:14,73:15,74:16,75:17,76:20,77:21,78:22,79:45,80:46,81:47,82:0},os={5:'"$"#,##0_);\\("$"#,##0\\)',63:'"$"#,##0_);\\("$"#,##0\\)',6:'"$"#,##0_);[Red]\\("$"#,##0\\)',64:'"$"#,##0_);[Red]\\("$"#,##0\\)',7:'"$"#,##0.00_);\\("$"#,##0.00\\)',65:'"$"#,##0.00_);\\("$"#,##0.00\\)',8:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',66:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',41:'_(* #,##0_);_(* \\(#,##0\\);_(* "-"_);_(@_)',42:'_("$"* #,##0_);_("$"* \\(#,##0\\);_("$"* "-"_);_(@_)',43:'_(* #,##0.00_);_(* \\(#,##0.00\\);_(* "-"??_);_(@_)',44:'_("$"* #,##0.00_);_("$"* \\(#,##0.00\\);_("$"* "-"??_);_(@_)'};function jh(e,n,t){for(var r=e<0?-1:1,s=e*r,o=0,d=1,g=0,m=1,_=0,w=0,A=Math.floor(s);_<n&&(g=(A=Math.floor(s))*d+o,w=A*_+m,!(s-A<5e-8));)s=1/(s-A),o=d,d=g,m=_,_=w;if(w>n&&(_>n?(w=m,g=o):(w=_,g=d)),!t)return[0,r*g,w];var N=Math.floor(r*g/w);return[N,r*g-N*w,w]}function ui(e,n,t){if(e>2958465||e<0)return null;var r=0|e,s=Math.floor(86400*(e-r)),o=0,d=[],g={D:r,T:s,u:86400*(e-r)-s,y:0,m:0,d:0,H:0,M:0,S:0,q:0};if(Math.abs(g.u)<1e-6&&(g.u=0),n&&n.date1904&&(r+=1462),g.u>.9999&&(g.u=0,86400==++s&&(g.T=s=0,++r,++g.D)),60===r)d=t?[1317,10,29]:[1900,2,29],o=3;else if(0===r)d=t?[1317,8,29]:[1900,1,0],o=6;else{r>60&&--r;var m=new Date(1900,0,1);m.setDate(m.getDate()+r-1),d=[m.getFullYear(),m.getMonth()+1,m.getDate()],o=m.getDay(),r<60&&(o=(o+6)%7),t&&(o=function Bf(e,n){n[0]-=581;var t=e.getDay();return e<60&&(t=(t+6)%7),t}(m,d))}return g.y=d[0],g.m=d[1],g.d=d[2],g.S=s%60,s=Math.floor(s/60),g.M=s%60,s=Math.floor(s/60),g.H=s,g.q=o,g}var wr=new Date(1899,11,31,0,0,0),Nr=wr.getTime(),vl=new Date(1900,2,1,0,0,0);function Eu(e,n){var t=e.getTime();return n?t-=1262304e5:e>=vl&&(t+=864e5),(t-(Nr+6e4*(e.getTimezoneOffset()-wr.getTimezoneOffset())))/864e5}function vd(e){return-1==e.indexOf(".")?e:e.replace(/(?:\.0*|(\.\d*[1-9])0+)$/,"$1")}function mh(e,n){switch(typeof e){case"string":return e;case"boolean":return e?"TRUE":"FALSE";case"number":return(0|e)===e?e.toString(10):function $u(e){var t,n=Math.floor(Math.log(Math.abs(e))*Math.LOG10E);return t=n>=-4&&n<=-1?e.toPrecision(10+n):Math.abs(n)<=9?function tv(e){var n=e<0?12:11,t=vd(e.toFixed(12));return t.length<=n||(t=e.toPrecision(10)).length<=n?t:e.toExponential(5)}(e):10===n?e.toFixed(10).substr(0,12):function C0(e){var n=vd(e.toFixed(11));return n.length>(e<0?12:11)||"0"===n||"-0"===n?e.toPrecision(6):n}(e),vd(function yd(e){return-1==e.indexOf("E")?e:e.replace(/(?:\.0*|(\.\d*[1-9])0+)[Ee]/,"$1E").replace(/(E[+-])(\d)$/,"$10$2")}(t.toUpperCase()))}(e);case"undefined":return"";case"object":if(null==e)return"";if(e instanceof Date)return fc(14,Eu(e,n&&n.date1904),n)}throw new Error("unsupported value in General format: "+e)}function _d(e,n,t,r){var m,s="",o=0,d=0,g=t.y,_=0;switch(e){case 98:g=t.y+543;case 121:switch(n.length){case 1:case 2:m=g%100,_=2;break;default:m=g%1e4,_=4}break;case 109:switch(n.length){case 1:case 2:m=t.m,_=n.length;break;case 3:return Pa[t.m-1][1];case 5:return Pa[t.m-1][0];default:return Pa[t.m-1][2]}break;case 100:switch(n.length){case 1:case 2:m=t.d,_=n.length;break;case 3:return Qr[t.q][0];default:return Qr[t.q][1]}break;case 104:switch(n.length){case 1:case 2:m=1+(t.H+11)%12,_=n.length;break;default:throw"bad hour format: "+n}break;case 72:switch(n.length){case 1:case 2:m=t.H,_=n.length;break;default:throw"bad hour format: "+n}break;case 77:switch(n.length){case 1:case 2:m=t.M,_=n.length;break;default:throw"bad minute format: "+n}break;case 115:if("s"!=n&&"ss"!=n&&".0"!=n&&".00"!=n&&".000"!=n)throw"bad second format: "+n;return 0!==t.u||"s"!=n&&"ss"!=n?(d=r>=2?3===r?1e3:100:1===r?10:1,(o=Math.round(d*(t.S+t.u)))>=60*d&&(o=0),"s"===n?0===o?"0":""+o/d:(s=hc(o,2+r),"ss"===n?s.substr(0,2):"."+s.substr(2,n.length-1))):hc(t.S,n.length);case 90:switch(n){case"[h]":case"[hh]":m=24*t.D+t.H;break;case"[m]":case"[mm]":m=60*(24*t.D+t.H)+t.M;break;case"[s]":case"[ss]":m=60*(60*(24*t.D+t.H)+t.M)+Math.round(t.S+t.u);break;default:throw"bad abstime format: "+n}_=3===n.length?1:2;break;case 101:m=g,_=1}return _>0?hc(m,_):""}function kc(e){if(e.length<=3)return e;for(var t=e.length%3,r=e.substr(0,t);t!=e.length;t+=3)r+=(r.length>0?",":"")+e.substr(t,3);return r}var Vh=/%/g;function H(e,n){var t,r=e.indexOf("E")-e.indexOf(".")-1;if(e.match(/^#+0.0E\+0$/)){if(0==n)return"0.0E+0";if(n<0)return"-"+H(e,-n);var s=e.indexOf(".");-1===s&&(s=e.indexOf("E"));var o=Math.floor(Math.log(n)*Math.LOG10E)%s;if(o<0&&(o+=s),-1===(t=(n/Math.pow(10,o)).toPrecision(r+1+(s+o)%s)).indexOf("e")){var d=Math.floor(Math.log(n)*Math.LOG10E);for(-1===t.indexOf(".")?t=t.charAt(0)+"."+t.substr(1)+"E+"+(d-t.length+o):t+="E+"+(d-o);"0."===t.substr(0,2);)t=(t=t.charAt(0)+t.substr(2,s)+"."+t.substr(2+s)).replace(/^0+([1-9])/,"$1").replace(/^0+\./,"0.");t=t.replace(/\+-/,"-")}t=t.replace(/^([+-]?)(\d*)\.(\d*)[Ee]/,function(g,m,_,w){return m+_+w.substr(0,(s+o)%s)+"."+w.substr(o)+"E"})}else t=n.toExponential(r);return e.match(/E\+00$/)&&t.match(/e[+-]\d$/)&&(t=t.substr(0,t.length-1)+"0"+t.charAt(t.length-1)),e.match(/E\-/)&&t.match(/e\+/)&&(t=t.replace(/e\+/,"e")),t.replace("e","E")}var Ae=/# (\?+)( ?)\/( ?)(\d+)/,Zt=/^#*0*\.([0#]+)/,Dn=/\).*[0#]/,ar=/\(###\) ###\\?-####/;function rr(e){for(var t,n="",r=0;r!=e.length;++r)switch(t=e.charCodeAt(r)){case 35:break;case 63:n+=" ";break;case 48:n+="0";break;default:n+=String.fromCharCode(t)}return n}function hs(e,n){var t=Math.pow(10,n);return""+Math.round(e*t)/t}function Vi(e,n){var t=e-Math.floor(e),r=Math.pow(10,n);return n<(""+Math.round(t*r)).length?0:Math.round(t*r)}function fo(e,n,t){if(40===e.charCodeAt(0)&&!n.match(Dn)){var r=n.replace(/\( */,"").replace(/ \)/,"").replace(/\)/,"");return t>=0?fo("n",r,t):"("+fo("n",r,-t)+")"}if(44===n.charCodeAt(n.length-1))return function Y(e,n,t){for(var r=n.length-1;44===n.charCodeAt(r-1);)--r;return dc(e,n.substr(0,r),t/Math.pow(10,3*(n.length-r)))}(e,n,t);if(-1!==n.indexOf("%"))return function ie(e,n,t){var r=n.replace(Vh,""),s=n.length-r.length;return dc(e,r,t*Math.pow(10,2*s))+fa("%",s)}(e,n,t);if(-1!==n.indexOf("E"))return H(n,t);if(36===n.charCodeAt(0))return"$"+fo(e,n.substr(" "==n.charAt(1)?2:1),t);var s,o,d,g,m=Math.abs(t),_=t<0?"-":"";if(n.match(/^00+$/))return _+cu(m,n.length);if(n.match(/^[#?]+$/))return"0"===(s=cu(t,0))&&(s=""),s.length>n.length?s:rr(n.substr(0,n.length-s.length))+s;if(o=n.match(Ae))return function Ge(e,n,t){var r=parseInt(e[4],10),s=Math.round(n*r),o=Math.floor(s/r),d=s-o*r,g=r;return t+(0===o?"":""+o)+" "+(0===d?fa(" ",e[1].length+1+e[4].length):Ac(d,e[1].length)+e[2]+"/"+e[3]+hc(g,e[4].length))}(o,m,_);if(n.match(/^#+0+$/))return _+cu(m,n.length-n.indexOf("0"));if(o=n.match(Zt))return s=hs(t,o[1].length).replace(/^([^\.]+)$/,"$1."+rr(o[1])).replace(/\.$/,"."+rr(o[1])).replace(/\.(\d*)$/,function(ee,B){return"."+B+fa("0",rr(o[1]).length-B.length)}),-1!==n.indexOf("0.")?s:s.replace(/^0\./,".");if(n=n.replace(/^#+([0.])/,"$1"),o=n.match(/^(0*)\.(#*)$/))return _+hs(m,o[2].length).replace(/\.(\d*[1-9])0*$/,".$1").replace(/^(-?\d*)$/,"$1.").replace(/^0\./,o[1].length?"0.":".");if(o=n.match(/^#{1,3},##0(\.?)$/))return _+kc(cu(m,0));if(o=n.match(/^#,##0\.([#0]*0)$/))return t<0?"-"+fo(e,n,-t):kc(""+(Math.floor(t)+function Xs(e,n){return n<(""+Math.round((e-Math.floor(e))*Math.pow(10,n))).length?1:0}(t,o[1].length)))+"."+hc(Vi(t,o[1].length),o[1].length);if(o=n.match(/^#,#*,#0/))return fo(e,n.replace(/^#,#*,/,""),t);if(o=n.match(/^([0#]+)(\\?-([0#]+))+$/))return s=Uh(fo(e,n.replace(/[\\-]/g,""),t)),d=0,Uh(Uh(n.replace(/\\/g,"")).replace(/[0#]/g,function(ee){return d<s.length?s.charAt(d++):"0"===ee?"0":""}));if(n.match(ar))return"("+(s=fo(e,"##########",t)).substr(0,3)+") "+s.substr(3,3)+"-"+s.substr(6);var w="";if(o=n.match(/^([#0?]+)( ?)\/( ?)([#0?]+)/))return d=Math.min(o[4].length,7),g=jh(m,Math.pow(10,d)-1,!1),s=""+_," "==(w=dc("n",o[1],g[1])).charAt(w.length-1)&&(w=w.substr(0,w.length-1)+"0"),s+=w+o[2]+"/"+o[3],(w=Ic(g[2],d)).length<o[4].length&&(w=rr(o[4].substr(o[4].length-w.length))+w),s+=w;if(o=n.match(/^# ([#0?]+)( ?)\/( ?)([#0?]+)/))return d=Math.min(Math.max(o[1].length,o[4].length),7),_+((g=jh(m,Math.pow(10,d)-1,!0))[0]||(g[1]?"":"0"))+" "+(g[1]?Ac(g[1],d)+o[2]+"/"+o[3]+Ic(g[2],d):fa(" ",2*d+1+o[2].length+o[3].length));if(o=n.match(/^[#0?]+$/))return s=cu(t,0),n.length<=s.length?s:rr(n.substr(0,n.length-s.length))+s;if(o=n.match(/^([#0?]+)\.([#0]+)$/)){s=""+t.toFixed(Math.min(o[2].length,10)).replace(/([^0])0+$/,"$1"),d=s.indexOf(".");var A=n.indexOf(".")-d,N=n.length-s.length-A;return rr(n.substr(0,A)+s+n.substr(n.length-N))}if(o=n.match(/^00,000\.([#0]*0)$/))return d=Vi(t,o[1].length),t<0?"-"+fo(e,n,-t):kc(function oo(e){return e<2147483647&&e>-2147483648?""+(e>=0?0|e:e-1|0):""+Math.floor(e)}(t)).replace(/^\d,\d{3}$/,"0$&").replace(/^\d*$/,function(ee){return"00,"+(ee.length<3?hc(0,3-ee.length):"")+ee})+"."+hc(d,o[1].length);switch(n){case"###,##0.00":return fo(e,"#,##0.00",t);case"###,###":case"##,###":case"#,###":var D=kc(cu(m,0));return"0"!==D?_+D:"";case"###,###.00":return fo(e,"###,##0.00",t).replace(/^0\./,".");case"#,###.00":return fo(e,"#,##0.00",t).replace(/^0\./,".")}throw new Error("unsupported format |"+n+"|")}function yl(e,n){var t,r=e.indexOf("E")-e.indexOf(".")-1;if(e.match(/^#+0.0E\+0$/)){if(0==n)return"0.0E+0";if(n<0)return"-"+yl(e,-n);var s=e.indexOf(".");-1===s&&(s=e.indexOf("E"));var o=Math.floor(Math.log(n)*Math.LOG10E)%s;if(o<0&&(o+=s),!(t=(n/Math.pow(10,o)).toPrecision(r+1+(s+o)%s)).match(/[Ee]/)){var d=Math.floor(Math.log(n)*Math.LOG10E);-1===t.indexOf(".")?t=t.charAt(0)+"."+t.substr(1)+"E+"+(d-t.length+o):t+="E+"+(d-o),t=t.replace(/\+-/,"-")}t=t.replace(/^([+-]?)(\d*)\.(\d*)[Ee]/,function(g,m,_,w){return m+_+w.substr(0,(s+o)%s)+"."+w.substr(o)+"E"})}else t=n.toExponential(r);return e.match(/E\+00$/)&&t.match(/e[+-]\d$/)&&(t=t.substr(0,t.length-1)+"0"+t.charAt(t.length-1)),e.match(/E\-/)&&t.match(/e\+/)&&(t=t.replace(/e\+/,"e")),t.replace("e","E")}function Na(e,n,t){if(40===e.charCodeAt(0)&&!n.match(Dn)){var r=n.replace(/\( */,"").replace(/ \)/,"").replace(/\)/,"");return t>=0?Na("n",r,t):"("+Na("n",r,-t)+")"}if(44===n.charCodeAt(n.length-1))return function Yu(e,n,t){for(var r=n.length-1;44===n.charCodeAt(r-1);)--r;return dc(e,n.substr(0,r),t/Math.pow(10,3*(n.length-r)))}(e,n,t);if(-1!==n.indexOf("%"))return function Hh(e,n,t){var r=n.replace(Vh,""),s=n.length-r.length;return dc(e,r,t*Math.pow(10,2*s))+fa("%",s)}(e,n,t);if(-1!==n.indexOf("E"))return yl(n,t);if(36===n.charCodeAt(0))return"$"+Na(e,n.substr(" "==n.charAt(1)?2:1),t);var s,o,d,g,m=Math.abs(t),_=t<0?"-":"";if(n.match(/^00+$/))return _+hc(m,n.length);if(n.match(/^[#?]+$/))return s=""+t,0===t&&(s=""),s.length>n.length?s:rr(n.substr(0,n.length-s.length))+s;if(o=n.match(Ae))return function kt(e,n,t){return t+(0===n?"":""+n)+fa(" ",e[1].length+2+e[4].length)}(o,m,_);if(n.match(/^#+0+$/))return _+hc(m,n.length-n.indexOf("0"));if(o=n.match(Zt))return s=(s=(""+t).replace(/^([^\.]+)$/,"$1."+rr(o[1])).replace(/\.$/,"."+rr(o[1]))).replace(/\.(\d*)$/,function(ee,B){return"."+B+fa("0",rr(o[1]).length-B.length)}),-1!==n.indexOf("0.")?s:s.replace(/^0\./,".");if(n=n.replace(/^#+([0.])/,"$1"),o=n.match(/^(0*)\.(#*)$/))return _+(""+m).replace(/\.(\d*[1-9])0*$/,".$1").replace(/^(-?\d*)$/,"$1.").replace(/^0\./,o[1].length?"0.":".");if(o=n.match(/^#{1,3},##0(\.?)$/))return _+kc(""+m);if(o=n.match(/^#,##0\.([#0]*0)$/))return t<0?"-"+Na(e,n,-t):kc(""+t)+"."+fa("0",o[1].length);if(o=n.match(/^#,#*,#0/))return Na(e,n.replace(/^#,#*,/,""),t);if(o=n.match(/^([0#]+)(\\?-([0#]+))+$/))return s=Uh(Na(e,n.replace(/[\\-]/g,""),t)),d=0,Uh(Uh(n.replace(/\\/g,"")).replace(/[0#]/g,function(ee){return d<s.length?s.charAt(d++):"0"===ee?"0":""}));if(n.match(ar))return"("+(s=Na(e,"##########",t)).substr(0,3)+") "+s.substr(3,3)+"-"+s.substr(6);var w="";if(o=n.match(/^([#0?]+)( ?)\/( ?)([#0?]+)/))return d=Math.min(o[4].length,7),g=jh(m,Math.pow(10,d)-1,!1),s=""+_," "==(w=dc("n",o[1],g[1])).charAt(w.length-1)&&(w=w.substr(0,w.length-1)+"0"),s+=w+o[2]+"/"+o[3],(w=Ic(g[2],d)).length<o[4].length&&(w=rr(o[4].substr(o[4].length-w.length))+w),s+=w;if(o=n.match(/^# ([#0?]+)( ?)\/( ?)([#0?]+)/))return d=Math.min(Math.max(o[1].length,o[4].length),7),_+((g=jh(m,Math.pow(10,d)-1,!0))[0]||(g[1]?"":"0"))+" "+(g[1]?Ac(g[1],d)+o[2]+"/"+o[3]+Ic(g[2],d):fa(" ",2*d+1+o[2].length+o[3].length));if(o=n.match(/^[#0?]+$/))return n.length<=(s=""+t).length?s:rr(n.substr(0,n.length-s.length))+s;if(o=n.match(/^([#0]+)\.([#0]+)$/)){s=""+t.toFixed(Math.min(o[2].length,10)).replace(/([^0])0+$/,"$1"),d=s.indexOf(".");var A=n.indexOf(".")-d,N=n.length-s.length-A;return rr(n.substr(0,A)+s+n.substr(n.length-N))}if(o=n.match(/^00,000\.([#0]*0)$/))return t<0?"-"+Na(e,n,-t):kc(""+t).replace(/^\d,\d{3}$/,"0$&").replace(/^\d*$/,function(ee){return"00,"+(ee.length<3?hc(0,3-ee.length):"")+ee})+"."+hc(0,o[1].length);switch(n){case"###,###":case"##,###":case"#,###":var D=kc(""+m);return"0"!==D?_+D:"";default:if(n.match(/\.[0#?]*$/))return Na(e,n.slice(0,n.lastIndexOf(".")),t)+rr(n.slice(n.lastIndexOf(".")))}throw new Error("unsupported format |"+n+"|")}function dc(e,n,t){return(0|t)===t?Na(e,n,t):fo(e,n,t)}var yh=/\[[HhMmSs\u0E0A\u0E19\u0E17]*\]/;function _h(e){for(var n=0,t="",r="";n<e.length;)switch(t=e.charAt(n)){case"G":Uf(e,n)&&(n+=6),n++;break;case'"':for(;34!==e.charCodeAt(++n)&&n<e.length;);++n;break;case"\\":case"_":n+=2;break;case"@":++n;break;case"B":case"b":if("1"===e.charAt(n+1)||"2"===e.charAt(n+1))return!0;case"M":case"D":case"Y":case"H":case"S":case"E":case"m":case"d":case"y":case"h":case"s":case"e":case"g":return!0;case"A":case"a":case"\u4e0a":if("A/P"===e.substr(n,3).toUpperCase()||"AM/PM"===e.substr(n,5).toUpperCase()||"\u4e0a\u5348/\u4e0b\u5348"===e.substr(n,5).toUpperCase())return!0;++n;break;case"[":for(r=t;"]"!==e.charAt(n++)&&n<e.length;)r+=e.charAt(n);if(r.match(yh))return!0;break;case".":case"0":case"#":for(;n<e.length&&("0#?.,E+-%".indexOf(t=e.charAt(++n))>-1||"\\"==t&&"-"==e.charAt(n+1)&&"0#".indexOf(e.charAt(n+2))>-1););break;case"?":for(;e.charAt(++n)===t;);break;case"*":++n,(" "==e.charAt(n)||"*"==e.charAt(n))&&++n;break;case"(":case")":++n;break;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":for(;n<e.length&&"0123456789".indexOf(e.charAt(++n))>-1;);break;default:++n}return!1}var zh=/\[(=|>[=]?|<[>=]?)(-?\d+(?:\.\d*)?)\]/;function Tu(e,n){if(null==n)return!1;var t=parseFloat(n[2]);switch(n[1]){case"=":if(e==t)return!0;break;case">":if(e>t)return!0;break;case"<":if(e<t)return!0;break;case"<>":if(e!=t)return!0;break;case">=":if(e>=t)return!0;break;case"<=":if(e<=t)return!0}return!1}function fc(e,n,t){null==t&&(t={});var r="";switch(typeof e){case"string":r="m/d/yy"==e&&t.dateNF?t.dateNF:e;break;case"number":null==(r=14==e&&t.dateNF?t.dateNF:(null!=t.table?t.table:ts)[e])&&(r=t.table&&t.table[bi[e]]||ts[bi[e]]),null==r&&(r=os[e]||"General")}if(Uf(r,0))return mh(n,t);n instanceof Date&&(n=Eu(n,t.date1904));var s=function qa(e,n){var t=function vh(e){for(var n=[],t=!1,r=0,s=0;r<e.length;++r)switch(e.charCodeAt(r)){case 34:t=!t;break;case 95:case 42:case 92:++r;break;case 59:n[n.length]=e.substr(s,r-s),s=r+1}if(n[n.length]=e.substr(s),!0===t)throw new Error("Format |"+e+"| unterminated string ");return n}(e),r=t.length,s=t[r-1].indexOf("@");if(r<4&&s>-1&&--r,t.length>4)throw new Error("cannot find right format for |"+t.join("|")+"|");if("number"!=typeof n)return[4,4===t.length||s>-1?t[t.length-1]:"@"];switch(t.length){case 1:t=s>-1?["General","General","General",t[0]]:[t[0],t[0],t[0],"@"];break;case 2:t=s>-1?[t[0],t[0],t[0],t[1]]:[t[0],t[1],t[0],"@"];break;case 3:t=s>-1?[t[0],t[1],t[0],t[2]]:[t[0],t[1],t[2],"@"]}var o=n>0?t[0]:n<0?t[1]:t[2];if(-1===t[0].indexOf("[")&&-1===t[1].indexOf("["))return[r,o];if(null!=t[0].match(/\[[=<>]/)||null!=t[1].match(/\[[=<>]/)){var d=t[0].match(zh),g=t[1].match(zh);return Tu(n,d)?[r,t[0]]:Tu(n,g)?[r,t[1]]:[r,t[null!=d&&null!=g?2:1]]}return[r,o]}(r,n);if(Uf(s[1]))return mh(n,t);if(!0===n)n="TRUE";else if(!1===n)n="FALSE";else if(""===n||null==n)return"";return function or(e,n,t,r){for(var _,w,A,s=[],o="",d=0,g="",m="t",N="H";d<e.length;)switch(g=e.charAt(d)){case"G":if(!Uf(e,d))throw new Error("unrecognized character "+g+" in "+e);s[s.length]={t:"G",v:"General"},d+=7;break;case'"':for(o="";34!==(A=e.charCodeAt(++d))&&d<e.length;)o+=String.fromCharCode(A);s[s.length]={t:"t",v:o},++d;break;case"\\":var D=e.charAt(++d);s[s.length]={t:"("===D||")"===D?D:"t",v:D},++d;break;case"_":s[s.length]={t:"t",v:" "},d+=2;break;case"@":s[s.length]={t:"T",v:n},++d;break;case"B":case"b":if("1"===e.charAt(d+1)||"2"===e.charAt(d+1)){if(null==_&&null==(_=ui(n,t,"2"===e.charAt(d+1))))return"";s[s.length]={t:"X",v:e.substr(d,2)},m=g,d+=2;break}case"M":case"D":case"Y":case"H":case"S":case"E":g=g.toLowerCase();case"m":case"d":case"y":case"h":case"s":case"e":case"g":if(n<0||null==_&&null==(_=ui(n,t)))return"";for(o=g;++d<e.length&&e.charAt(d).toLowerCase()===g;)o+=g;"m"===g&&"h"===m.toLowerCase()&&(g="M"),"h"===g&&(g=N),s[s.length]={t:g,v:o},m=g;break;case"A":case"a":case"\u4e0a":var B={t:g,v:g};if(null==_&&(_=ui(n,t)),"A/P"===e.substr(d,3).toUpperCase()?(null!=_&&(B.v=_.H>=12?"P":"A"),B.t="T",N="h",d+=3):"AM/PM"===e.substr(d,5).toUpperCase()?(null!=_&&(B.v=_.H>=12?"PM":"AM"),B.t="T",d+=5,N="h"):"\u4e0a\u5348/\u4e0b\u5348"===e.substr(d,5).toUpperCase()?(null!=_&&(B.v=_.H>=12?"\u4e0b\u5348":"\u4e0a\u5348"),B.t="T",d+=5,N="h"):(B.t="t",++d),null==_&&"T"===B.t)return"";s[s.length]=B,m=g;break;case"[":for(o=g;"]"!==e.charAt(d++)&&d<e.length;)o+=e.charAt(d);if("]"!==o.slice(-1))throw'unterminated "[" block: |'+o+"|";if(o.match(yh)){if(null==_&&null==(_=ui(n,t)))return"";s[s.length]={t:"Z",v:o.toLowerCase()},m=o.charAt(1)}else o.indexOf("$")>-1&&(o=(o.match(/\$([^-\[\]]*)/)||[])[1]||"$",_h(e)||(s[s.length]={t:"t",v:o}));break;case".":if(null!=_){for(o=g;++d<e.length&&"0"===(g=e.charAt(d));)o+=g;s[s.length]={t:"s",v:o};break}case"0":case"#":for(o=g;++d<e.length&&"0#?.,E+-%".indexOf(g=e.charAt(d))>-1;)o+=g;s[s.length]={t:"n",v:o};break;case"?":for(o=g;e.charAt(++d)===g;)o+=g;s[s.length]={t:g,v:o},m=g;break;case"*":++d,(" "==e.charAt(d)||"*"==e.charAt(d))&&++d;break;case"(":case")":s[s.length]={t:1===r?"t":g,v:g},++d;break;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":for(o=g;d<e.length&&"0123456789".indexOf(e.charAt(++d))>-1;)o+=e.charAt(d);s[s.length]={t:"D",v:o};break;case" ":s[s.length]={t:g,v:g},++d;break;case"$":s[s.length]={t:"t",v:"$"},++d;break;default:if(-1===",$-+/():!^&'~{}<>=\u20acacfijklopqrtuvwxzP".indexOf(g))throw new Error("unrecognized character "+g+" in "+e);s[s.length]={t:"t",v:g},++d}var je,he=0,Pe=0;for(d=s.length-1,m="t";d>=0;--d)switch(s[d].t){case"h":case"H":s[d].t=N,m="h",he<1&&(he=1);break;case"s":(je=s[d].v.match(/\.0+$/))&&(Pe=Math.max(Pe,je[0].length-1)),he<3&&(he=3);case"d":case"y":case"M":case"e":m=s[d].t;break;case"m":"s"===m&&(s[d].t="M",he<2&&(he=2));break;case"X":break;case"Z":he<1&&s[d].v.match(/[Hh]/)&&(he=1),he<2&&s[d].v.match(/[Mm]/)&&(he=2),he<3&&s[d].v.match(/[Ss]/)&&(he=3)}switch(he){case 0:break;case 1:_.u>=.5&&(_.u=0,++_.S),_.S>=60&&(_.S=0,++_.M),_.M>=60&&(_.M=0,++_.H);break;case 2:_.u>=.5&&(_.u=0,++_.S),_.S>=60&&(_.S=0,++_.M)}var Vt,Xe="";for(d=0;d<s.length;++d)switch(s[d].t){case"t":case"T":case" ":case"D":break;case"X":s[d].v="",s[d].t=";";break;case"d":case"m":case"y":case"h":case"H":case"M":case"s":case"e":case"b":case"Z":s[d].v=_d(s[d].t.charCodeAt(0),s[d].v,_,Pe),s[d].t="t";break;case"n":case"?":for(Vt=d+1;null!=s[Vt]&&("?"===(g=s[Vt].t)||"D"===g||(" "===g||"t"===g)&&null!=s[Vt+1]&&("?"===s[Vt+1].t||"t"===s[Vt+1].t&&"/"===s[Vt+1].v)||"("===s[d].t&&(" "===g||"n"===g||")"===g)||"t"===g&&("/"===s[Vt].v||" "===s[Vt].v&&null!=s[Vt+1]&&"?"==s[Vt+1].t));)s[d].v+=s[Vt].v,s[Vt]={v:"",t:";"},++Vt;Xe+=s[d].v,d=Vt-1;break;case"G":s[d].t="t",s[d].v=mh(n,t)}var bn,At,Xt="";if(Xe.length>0){40==Xe.charCodeAt(0)?(bn=n<0&&45===Xe.charCodeAt(0)?-n:n,At=dc("n",Xe,bn)):(At=dc("n",Xe,bn=n<0&&r>1?-n:n),bn<0&&s[0]&&"t"==s[0].t&&(At=At.substr(1),s[0].v="-"+s[0].v)),Vt=At.length-1;var St=s.length;for(d=0;d<s.length;++d)if(null!=s[d]&&"t"!=s[d].t&&s[d].v.indexOf(".")>-1){St=d;break}var Jt=s.length;if(St===s.length&&-1===At.indexOf("E")){for(d=s.length-1;d>=0;--d)null==s[d]||-1==="n?".indexOf(s[d].t)||(Vt>=s[d].v.length-1?s[d].v=At.substr(1+(Vt-=s[d].v.length),s[d].v.length):Vt<0?s[d].v="":(s[d].v=At.substr(0,Vt+1),Vt=-1),s[d].t="t",Jt=d);Vt>=0&&Jt<s.length&&(s[Jt].v=At.substr(0,Vt+1)+s[Jt].v)}else if(St!==s.length&&-1===At.indexOf("E")){for(Vt=At.indexOf(".")-1,d=St;d>=0;--d)if(null!=s[d]&&-1!=="n?".indexOf(s[d].t)){for(w=s[d].v.indexOf(".")>-1&&d===St?s[d].v.indexOf(".")-1:s[d].v.length-1,Xt=s[d].v.substr(w+1);w>=0;--w)Vt>=0&&("0"===s[d].v.charAt(w)||"#"===s[d].v.charAt(w))&&(Xt=At.charAt(Vt--)+Xt);s[d].v=Xt,s[d].t="t",Jt=d}for(Vt>=0&&Jt<s.length&&(s[Jt].v=At.substr(0,Vt+1)+s[Jt].v),Vt=At.indexOf(".")+1,d=St;d<s.length;++d)if(null!=s[d]&&(-1!=="n?(".indexOf(s[d].t)||d===St)){for(w=s[d].v.indexOf(".")>-1&&d===St?s[d].v.indexOf(".")+1:0,Xt=s[d].v.substr(0,w);w<s[d].v.length;++w)Vt<At.length&&(Xt+=At.charAt(Vt++));s[d].v=Xt,s[d].t="t",Jt=d}}}for(d=0;d<s.length;++d)null!=s[d]&&"n?".indexOf(s[d].t)>-1&&(s[d].v=dc(s[d].t,s[d].v,bn=r>1&&n<0&&d>0&&"-"===s[d-1].v?-n:n),s[d].t="t");var gn="";for(d=0;d!==s.length;++d)null!=s[d]&&(gn+=s[d].v);return gn}(s[1],n,t,s[0])}function Pc(e,n){if("number"!=typeof n){n=+n||-1;for(var t=0;t<392;++t)if(null!=ts[t]){if(ts[t]==e){n=t;break}}else n<0&&(n=t);n<0&&(n=391)}return ts[n]=e,n}function S0(e){for(var n=0;392!=n;++n)void 0!==e[n]&&Pc(e[n],n)}function Cu(){ts=function Bh(e){return e||(e={}),e[0]="General",e[1]="0",e[2]="0.00",e[3]="#,##0",e[4]="#,##0.00",e[9]="0%",e[10]="0.00%",e[11]="0.00E+00",e[12]="# ?/?",e[13]="# ??/??",e[14]="m/d/yy",e[15]="d-mmm-yy",e[16]="d-mmm",e[17]="mmm-yy",e[18]="h:mm AM/PM",e[19]="h:mm:ss AM/PM",e[20]="h:mm",e[21]="h:mm:ss",e[22]="m/d/yy h:mm",e[37]="#,##0 ;(#,##0)",e[38]="#,##0 ;[Red](#,##0)",e[39]="#,##0.00;(#,##0.00)",e[40]="#,##0.00;[Red](#,##0.00)",e[45]="mm:ss",e[46]="[h]:mm:ss",e[47]="mmss.0",e[48]="##0.0E+0",e[49]="@",e[56]='"\u4e0a\u5348/\u4e0b\u5348 "hh"\u6642"mm"\u5206"ss"\u79d2 "',e}()}var dy=/[dD]+|[mM]+|[yYeE]+|[Hh]+|[Ss]+/g,Ga=function(){var e={version:"1.2.0"},t=function n(){for(var At=0,St=new Array(256),Jt=0;256!=Jt;++Jt)St[Jt]=At=1&(At=1&(At=1&(At=1&(At=1&(At=1&(At=1&(At=1&(At=Jt)?-306674912^At>>>1:At>>>1)?-306674912^At>>>1:At>>>1)?-306674912^At>>>1:At>>>1)?-306674912^At>>>1:At>>>1)?-306674912^At>>>1:At>>>1)?-306674912^At>>>1:At>>>1)?-306674912^At>>>1:At>>>1)?-306674912^At>>>1:At>>>1;return"undefined"!=typeof Int32Array?new Int32Array(St):St}(),s=function r(At){var St=0,Jt=0,gn=0,vt="undefined"!=typeof Int32Array?new Int32Array(4096):new Array(4096);for(gn=0;256!=gn;++gn)vt[gn]=At[gn];for(gn=0;256!=gn;++gn)for(Jt=At[gn],St=256+gn;St<4096;St+=256)Jt=vt[St]=Jt>>>8^At[255&Jt];var st=[];for(gn=1;16!=gn;++gn)st[gn-1]="undefined"!=typeof Int32Array?vt.subarray(256*gn,256*gn+256):vt.slice(256*gn,256*gn+256);return st}(t),o=s[0],d=s[1],g=s[2],m=s[3],_=s[4],w=s[5],A=s[6],N=s[7],D=s[8],ee=s[9],B=s[10],he=s[11],Pe=s[12],je=s[13],Xe=s[14];return e.table=t,e.bstr=function Vt(At,St){for(var Jt=-1^St,gn=0,vt=At.length;gn<vt;)Jt=Jt>>>8^t[255&(Jt^At.charCodeAt(gn++))];return~Jt},e.buf=function Xt(At,St){for(var Jt=-1^St,gn=At.length-15,vt=0;vt<gn;)Jt=Xe[At[vt++]^255&Jt]^je[At[vt++]^Jt>>8&255]^Pe[At[vt++]^Jt>>16&255]^he[At[vt++]^Jt>>>24]^B[At[vt++]]^ee[At[vt++]]^D[At[vt++]]^N[At[vt++]]^A[At[vt++]]^w[At[vt++]]^_[At[vt++]]^m[At[vt++]]^g[At[vt++]]^d[At[vt++]]^o[At[vt++]]^t[At[vt++]];for(gn+=15;vt<gn;)Jt=Jt>>>8^t[255&(Jt^At[vt++])];return~Jt},e.str=function bn(At,St){for(var Jt=-1^St,gn=0,vt=At.length,st=0,rn=0;gn<vt;)(st=At.charCodeAt(gn++))<128?Jt=Jt>>>8^t[255&(Jt^st)]:st<2048?Jt=(Jt=Jt>>>8^t[255&(Jt^(192|st>>6&31))])>>>8^t[255&(Jt^(128|63&st))]:st>=55296&&st<57344?(st=64+(1023&st),rn=1023&At.charCodeAt(gn++),Jt=(Jt=(Jt=(Jt=Jt>>>8^t[255&(Jt^(240|st>>8&7))])>>>8^t[255&(Jt^(128|st>>2&63))])>>>8^t[255&(Jt^(128|rn>>6&15|(3&st)<<4))])>>>8^t[255&(Jt^(128|63&rn))]):Jt=(Jt=(Jt=Jt>>>8^t[255&(Jt^(224|st>>12&15))])>>>8^t[255&(Jt^(128|st>>6&63))])>>>8^t[255&(Jt^(128|63&st))];return~Jt},e}(),qi=function(){var m,n={};function r(Pt){if("/"==Pt.charAt(Pt.length-1))return-1===Pt.slice(0,-1).indexOf("/")?Pt:r(Pt.slice(0,-1));var cn=Pt.lastIndexOf("/");return-1===cn?Pt:Pt.slice(0,cn+1)}function s(Pt){if("/"==Pt.charAt(Pt.length-1))return s(Pt.slice(0,-1));var cn=Pt.lastIndexOf("/");return-1===cn?Pt:Pt.slice(cn+1)}function o(Pt,cn){"string"==typeof cn&&(cn=new Date(cn));var qt=cn.getHours();qt=(qt=qt<<6|cn.getMinutes())<<5|cn.getSeconds()>>>1,Pt.write_shift(2,qt);var Yt=cn.getFullYear()-1980;Yt=(Yt=Yt<<4|cn.getMonth()+1)<<5|cn.getDate(),Pt.write_shift(2,Yt)}function g(Pt){Yl(Pt,0);for(var cn={},qt=0;Pt.l<=Pt.length-4;){var Yt=Pt.read_shift(2),an=Pt.read_shift(2),un=Pt.l+an,sr={};21589===Yt&&(1&(qt=Pt.read_shift(1))&&(sr.mtime=Pt.read_shift(4)),an>5&&(2&qt&&(sr.atime=Pt.read_shift(4)),4&qt&&(sr.ctime=Pt.read_shift(4))),sr.mtime&&(sr.mt=new Date(1e3*sr.mtime))),Pt.l=un,cn[Yt]=sr}return cn}function _(){return m||(m={})}function w(Pt,cn){if(80==Pt[0]&&75==Pt[1])return Vl(Pt,cn);if(109==(32|Pt[0])&&105==(32|Pt[1]))return function Ep(Pt,cn){if("mime-version:"!=zn(Pt.slice(0,13)).toLowerCase())throw new Error("Unsupported MAD header");var qt=cn&&cn.root||"",Yt=(ns&&Buffer.isBuffer(Pt)?Pt.toString("binary"):zn(Pt)).split("\r\n"),an=0,un="";for(an=0;an<Yt.length;++an)if(/^Content-Location:/i.test(un=Yt[an])&&(un=un.slice(un.indexOf("file")),qt||(qt=un.slice(0,un.lastIndexOf("/")+1)),un.slice(0,qt.length)!=qt))for(;qt.length>0&&(qt=(qt=qt.slice(0,qt.length-1)).slice(0,qt.lastIndexOf("/")+1),un.slice(0,qt.length)!=qt););var sr=(Yt[1]||"").match(/boundary="(.*?)"/);if(!sr)throw new Error("MAD cannot find boundary");var Cr="--"+(sr[1]||""),_r={FileIndex:[],FullPaths:[]};At(_r);var si,mi=0;for(an=0;an<Yt.length;++an){var Ui=Yt[an];Ui!==Cr&&Ui!==Cr+"--"||(mi++&&bp(_r,Yt.slice(si,an),qt),si=an)}return _r}(Pt,cn);if(Pt.length<512)throw new Error("CFB file size "+Pt.length+" < 512");var qt,an,un,sr,Cr,lr,Yt=512,pr=[],_r=Pt.slice(0,512);Yl(_r,0);var si=function A(Pt){if(80==Pt[Pt.l]&&75==Pt[Pt.l+1])return[0,0];Pt.chk(tn,"Header Signature: "),Pt.l+=16;var cn=Pt.read_shift(2,"u");return[Pt.read_shift(2,"u"),cn]}(_r);switch(qt=si[0]){case 3:Yt=512;break;case 4:Yt=4096;break;case 0:if(0==si[1])return Vl(Pt,cn);default:throw new Error("Major Version: Expected 3 or 4 saw "+qt)}512!==Yt&&Yl(_r=Pt.slice(0,Yt),28);var mi=Pt.slice(0,Yt);!function N(Pt,cn){var qt;switch(Pt.l+=2,qt=Pt.read_shift(2)){case 9:if(3!=cn)throw new Error("Sector Shift: Expected 9 saw "+qt);break;case 12:if(4!=cn)throw new Error("Sector Shift: Expected 12 saw "+qt);break;default:throw new Error("Sector Shift: Expected 9 or 12 saw "+qt)}Pt.chk("0600","Mini Sector Shift: "),Pt.chk("000000000000","Reserved: ")}(_r,qt);var Ui=_r.read_shift(4,"i");if(3===qt&&0!==Ui)throw new Error("# Directory Sectors: Expected 0 saw "+Ui);_r.l+=4,sr=_r.read_shift(4,"i"),_r.l+=4,_r.chk("00100000","Mini Stream Cutoff Size: "),Cr=_r.read_shift(4,"i"),an=_r.read_shift(4,"i"),lr=_r.read_shift(4,"i"),un=_r.read_shift(4,"i");for(var vi=-1,Si=0;Si<109&&!((vi=_r.read_shift(4,"i"))<0);++Si)pr[Si]=vi;var Ps=function D(Pt,cn){for(var qt=Math.ceil(Pt.length/cn)-1,Yt=[],an=1;an<qt;++an)Yt[an-1]=Pt.slice(an*cn,(an+1)*cn);return Yt[qt-1]=Pt.slice(qt*cn),Yt}(Pt,Yt);he(lr,un,Ps,Yt,pr);var aa=function je(Pt,cn,qt,Yt){var an=Pt.length,un=[],sr=[],Cr=[],lr=[],pr=Yt-1,_r=0,si=0,mi=0,Ui=0;for(_r=0;_r<an;++_r)if(Cr=[],(mi=_r+cn)>=an&&(mi-=an),!sr[mi]){lr=[];var vi=[];for(si=mi;si>=0;){vi[si]=!0,sr[si]=!0,Cr[Cr.length]=si,lr.push(Pt[si]);var Si=qt[Math.floor(4*si/Yt)];if(Yt<4+(Ui=4*si&pr))throw new Error("FAT boundary crossed: "+si+" 4 "+Yt);if(!Pt[Si]||vi[si=$h(Pt[Si],Ui)])break}un[mi]={nodes:Cr,data:N0([lr])}}return un}(Ps,sr,pr,Yt);aa[sr].name="!Directory",an>0&&Cr!==rn&&(aa[Cr].name="!MiniFAT"),aa[pr[0]].name="!FAT",aa.fat_addrs=pr,aa.ssz=Yt;var rc=[],mu=[],zm=[];(function Xe(Pt,cn,qt,Yt,an,un,sr,Cr){for(var Ui,lr=0,pr=Yt.length?2:0,_r=cn[Pt].data,si=0,mi=0;si<_r.length;si+=128){var vi=_r.slice(si,si+128);Yl(vi,64),mi=vi.read_shift(2),Ui=Vg(vi,0,mi-pr),Yt.push(Ui);var Si={name:Ui,type:vi.read_shift(1),color:vi.read_shift(1),L:vi.read_shift(4,"i"),R:vi.read_shift(4,"i"),C:vi.read_shift(4,"i"),clsid:vi.read_shift(16),state:vi.read_shift(4,"i"),start:0,size:0};0!==vi.read_shift(2)+vi.read_shift(2)+vi.read_shift(2)+vi.read_shift(2)&&(Si.ct=Vt(vi,vi.l-8)),0!==vi.read_shift(2)+vi.read_shift(2)+vi.read_shift(2)+vi.read_shift(2)&&(Si.mt=Vt(vi,vi.l-8)),Si.start=vi.read_shift(4,"i"),Si.size=vi.read_shift(4,"i"),Si.size<0&&Si.start<0&&(Si.size=Si.type=0,Si.start=rn,Si.name=""),5===Si.type?(lr=Si.start,an>0&&lr!==rn&&(cn[lr].name="!StreamData")):Si.size>=4096?(Si.storage="fat",void 0===cn[Si.start]&&(cn[Si.start]=Pe(qt,Si.start,cn.fat_addrs,cn.ssz)),cn[Si.start].name=Si.name,Si.content=cn[Si.start].data.slice(0,Si.size)):(Si.storage="minifat",Si.size<0?Si.size=0:lr!==rn&&Si.start!==rn&&cn[lr]&&(Si.content=B(Si,cn[lr].data,(cn[Cr]||{}).data))),Si.content&&Yl(Si.content,0),un[Ui]=Si,sr.push(Si)}})(sr,aa,Ps,rc,an,{},mu,Cr),function ee(Pt,cn,qt){for(var Yt=0,an=0,un=0,sr=0,Cr=0,lr=qt.length,pr=[],_r=[];Yt<lr;++Yt)pr[Yt]=_r[Yt]=Yt,cn[Yt]=qt[Yt];for(;Cr<_r.length;++Cr)an=Pt[Yt=_r[Cr]].L,un=Pt[Yt].R,sr=Pt[Yt].C,pr[Yt]===Yt&&(-1!==an&&pr[an]!==an&&(pr[Yt]=pr[an]),-1!==un&&pr[un]!==un&&(pr[Yt]=pr[un])),-1!==sr&&(pr[sr]=Yt),-1!==an&&Yt!=pr[Yt]&&(pr[an]=pr[Yt],_r.lastIndexOf(an)<Cr&&_r.push(an)),-1!==un&&Yt!=pr[Yt]&&(pr[un]=pr[Yt],_r.lastIndexOf(un)<Cr&&_r.push(un));for(Yt=1;Yt<lr;++Yt)pr[Yt]===Yt&&(-1!==un&&pr[un]!==un?pr[Yt]=pr[un]:-1!==an&&pr[an]!==an&&(pr[Yt]=pr[an]));for(Yt=1;Yt<lr;++Yt)if(0!==Pt[Yt].type){if((Cr=Yt)!=pr[Cr])do{cn[Yt]=cn[Cr=pr[Cr]]+"/"+cn[Yt]}while(0!==Cr&&-1!==pr[Cr]&&Cr!=pr[Cr]);pr[Yt]=-1}for(cn[0]+="/",Yt=1;Yt<lr;++Yt)2!==Pt[Yt].type&&(cn[Yt]+="/")}(mu,zm,rc),rc.shift();var kg={FileIndex:mu,FullPaths:zm};return cn&&cn.raw&&(kg.raw={header:mi,sectors:Ps}),kg}function B(Pt,cn,qt){for(var an=Pt.size,un=[],sr=Pt.start;qt&&an>0&&sr>=0;)un.push(cn.slice(sr*st,sr*st+st)),an-=st,sr=$h(qt,4*sr);return 0===un.length?Er(0):So(un).slice(0,Pt.size)}function he(Pt,cn,qt,Yt,an){var un=rn;if(Pt===rn){if(0!==cn)throw new Error("DIFAT chain shorter than expected")}else if(-1!==Pt){var sr=qt[Pt],Cr=(Yt>>>2)-1;if(!sr)return;for(var lr=0;lr<Cr&&(un=$h(sr,4*lr))!==rn;++lr)an.push(un);he($h(sr,Yt-4),cn-1,qt,Yt,an)}}function Pe(Pt,cn,qt,Yt,an){var un=[],sr=[];an||(an=[]);var Cr=Yt-1,lr=0,pr=0;for(lr=cn;lr>=0;){an[lr]=!0,un[un.length]=lr,sr.push(Pt[lr]);var _r=qt[Math.floor(4*lr/Yt)];if(Yt<4+(pr=4*lr&Cr))throw new Error("FAT boundary crossed: "+lr+" 4 "+Yt);if(!Pt[_r])break;lr=$h(Pt[_r],pr)}return{nodes:un,data:N0([sr])}}function Vt(Pt,cn){return new Date(1e3*(na(Pt,cn+4)/1e7*Math.pow(2,32)+na(Pt,cn)/1e7-11644473600))}function At(Pt,cn){var qt=cn||{},Yt=qt.root||"Root Entry";if(Pt.FullPaths||(Pt.FullPaths=[]),Pt.FileIndex||(Pt.FileIndex=[]),Pt.FullPaths.length!==Pt.FileIndex.length)throw new Error("inconsistent CFB structure");0===Pt.FullPaths.length&&(Pt.FullPaths[0]=Yt+"/",Pt.FileIndex[0]={name:Yt,type:5}),qt.CLSID&&(Pt.FileIndex[0].clsid=qt.CLSID),function St(Pt){var cn="\x01Sh33tJ5";if(!qi.find(Pt,"/"+cn)){var qt=Er(4);qt[0]=55,qt[1]=qt[3]=50,qt[2]=54,Pt.FileIndex.push({name:cn,type:2,content:qt,size:4,L:69,R:69,C:69}),Pt.FullPaths.push(Pt.FullPaths[0]+cn),Jt(Pt)}}(Pt)}function Jt(Pt,cn){At(Pt);for(var qt=!1,Yt=!1,an=Pt.FullPaths.length-1;an>=0;--an){var un=Pt.FileIndex[an];switch(un.type){case 0:Yt?qt=!0:(Pt.FileIndex.pop(),Pt.FullPaths.pop());break;case 1:case 2:case 5:Yt=!0,isNaN(un.R*un.L*un.C)&&(qt=!0),un.R>-1&&un.L>-1&&un.R==un.L&&(qt=!0);break;default:qt=!0}}if(qt||cn){var sr=new Date(1987,1,19),Cr=0,lr=Object.create?Object.create(null):{},pr=[];for(an=0;an<Pt.FullPaths.length;++an)lr[Pt.FullPaths[an]]=!0,0!==Pt.FileIndex[an].type&&pr.push([Pt.FullPaths[an],Pt.FileIndex[an]]);for(an=0;an<pr.length;++an){var _r=r(pr[an][0]);(Yt=lr[_r])||(pr.push([_r,{name:s(_r).replace("/",""),type:1,clsid:Wn,ct:sr,mt:sr,content:null}]),lr[_r]=!0)}for(pr.sort(function(Ui,vi){return function t(Pt,cn){for(var qt=Pt.split("/"),Yt=cn.split("/"),an=0,un=0,sr=Math.min(qt.length,Yt.length);an<sr;++an){if(un=qt[an].length-Yt[an].length)return un;if(qt[an]!=Yt[an])return qt[an]<Yt[an]?-1:1}return qt.length-Yt.length}(Ui[0],vi[0])}),Pt.FullPaths=[],Pt.FileIndex=[],an=0;an<pr.length;++an)Pt.FullPaths[an]=pr[an][0],Pt.FileIndex[an]=pr[an][1];for(an=0;an<pr.length;++an){var si=Pt.FileIndex[an],mi=Pt.FullPaths[an];if(si.name=s(mi).replace("/",""),si.L=si.R=si.C=-(si.color=1),si.size=si.content?si.content.length:0,si.start=0,si.clsid=si.clsid||Wn,0===an)si.C=pr.length>1?1:-1,si.size=0,si.type=5;else if("/"==mi.slice(-1)){for(Cr=an+1;Cr<pr.length&&r(Pt.FullPaths[Cr])!=mi;++Cr);for(si.C=Cr>=pr.length?-1:Cr,Cr=an+1;Cr<pr.length&&r(Pt.FullPaths[Cr])!=r(mi);++Cr);si.R=Cr>=pr.length?-1:Cr,si.type=1}else r(Pt.FullPaths[an+1]||"")==r(mi)&&(si.R=an+1),si.type=2}}}function gn(Pt,cn){var qt=cn||{};if("mad"==qt.fileType)return function ys(Pt,cn){for(var qt=cn||{},Yt=qt.boundary||"SheetJS",an=["MIME-Version: 1.0",'Content-Type: multipart/related; boundary="'+(Yt="------="+Yt).slice(2)+'"',"","",""],un=Pt.FullPaths[0],sr=un,Cr=Pt.FileIndex[0],lr=1;lr<Pt.FullPaths.length;++lr)if(sr=Pt.FullPaths[lr].slice(un.length),(Cr=Pt.FileIndex[lr]).size&&Cr.content&&"\x01Sh33tJ5"!=sr){sr=sr.replace(/[\x00-\x08\x0B\x0C\x0E-\x1F\x7E-\xFF]/g,function(Ps){return"_x"+Ps.charCodeAt(0).toString(16)+"_"}).replace(/[\u0080-\uFFFF]/g,function(Ps){return"_u"+Ps.charCodeAt(0).toString(16)+"_"});for(var pr=Cr.content,_r=ns&&Buffer.isBuffer(pr)?pr.toString("binary"):zn(pr),si=0,mi=Math.min(1024,_r.length),Ui=0,vi=0;vi<=mi;++vi)(Ui=_r.charCodeAt(vi))>=32&&Ui<128&&++si;var Si=si>=4*mi/5;an.push(Yt),an.push("Content-Location: "+(qt.root||"file:///C:/SheetJS/")+sr),an.push("Content-Transfer-Encoding: "+(Si?"quoted-printable":"base64")),an.push("Content-Type: "+Hs(Cr,sr)),an.push(""),an.push(Si?Hm(_r):oa(_r))}return an.push(Yt+"--\r\n"),an.join("\r\n")}(Pt,qt);if("zip"===(Jt(Pt),qt.fileType))return function p0(Pt,cn){var qt=cn||{},Yt=[],an=[],un=Er(1),sr=qt.compression?8:0,pr=0,_r=0,si=0,mi=0,Ui=Pt.FullPaths[0],vi=Ui,Si=Pt.FileIndex[0],Ps=[],aa=0;for(pr=1;pr<Pt.FullPaths.length;++pr)if(vi=Pt.FullPaths[pr].slice(Ui.length),(Si=Pt.FileIndex[pr]).size&&Si.content&&"\x01Sh33tJ5"!=vi){var gu=si,rc=Er(vi.length);for(_r=0;_r<vi.length;++_r)rc.write_shift(1,127&vi.charCodeAt(_r));rc=rc.slice(0,rc.l),Ps[mi]=Ga.buf(Si.content,0);var mu=Si.content;8==sr&&(mu=ut(mu)),(un=Er(30)).write_shift(4,67324752),un.write_shift(2,20),un.write_shift(2,0),un.write_shift(2,sr),Si.mt?o(un,Si.mt):un.write_shift(4,0),un.write_shift(-4,Ps[mi]),un.write_shift(4,mu.length),un.write_shift(4,Si.content.length),un.write_shift(2,rc.length),un.write_shift(2,0),si+=un.length,Yt.push(un),si+=rc.length,Yt.push(rc),si+=mu.length,Yt.push(mu),(un=Er(46)).write_shift(4,33639248),un.write_shift(2,0),un.write_shift(2,20),un.write_shift(2,0),un.write_shift(2,sr),un.write_shift(4,0),un.write_shift(-4,Ps[mi]),un.write_shift(4,mu.length),un.write_shift(4,Si.content.length),un.write_shift(2,rc.length),un.write_shift(2,0),un.write_shift(2,0),un.write_shift(2,0),un.write_shift(2,0),un.write_shift(4,0),un.write_shift(4,gu),aa+=un.l,an.push(un),aa+=rc.length,an.push(rc),++mi}return(un=Er(22)).write_shift(4,101010256),un.write_shift(2,0),un.write_shift(2,0),un.write_shift(2,mi),un.write_shift(2,mi),un.write_shift(4,aa),un.write_shift(4,si),un.write_shift(2,0),So([So(Yt),So(an),un])}(Pt,qt);var Yt=function(Ui){for(var vi=0,Si=0,Ps=0;Ps<Ui.FileIndex.length;++Ps){var aa=Ui.FileIndex[Ps];if(aa.content){var gu=aa.content.length;gu>0&&(gu<4096?vi+=gu+63>>6:Si+=gu+511>>9)}}for(var rc=Ui.FullPaths.length+3>>2,zm=vi+127>>7,kg=(vi+7>>3)+Si+rc+zm,g0=kg+127>>7,Pg=g0<=109?0:Math.ceil((g0-109)/127);kg+g0+Pg+127>>7>g0;)Pg=++g0<=109?0:Math.ceil((g0-109)/127);var Mf=[1,Pg,g0,zm,rc,Si,vi,0];return Ui.FileIndex[0].size=vi<<6,Mf[7]=(Ui.FileIndex[0].start=Mf[0]+Mf[1]+Mf[2]+Mf[3]+Mf[4]+Mf[5])+(Mf[6]+7>>3),Mf}(Pt),an=Er(Yt[7]<<9),un=0,sr=0;for(un=0;un<8;++un)an.write_shift(1,Fn[un]);for(un=0;un<8;++un)an.write_shift(2,0);for(an.write_shift(2,62),an.write_shift(2,3),an.write_shift(2,65534),an.write_shift(2,9),an.write_shift(2,6),un=0;un<3;++un)an.write_shift(2,0);for(an.write_shift(4,0),an.write_shift(4,Yt[2]),an.write_shift(4,Yt[0]+Yt[1]+Yt[2]+Yt[3]-1),an.write_shift(4,0),an.write_shift(4,4096),an.write_shift(4,Yt[3]?Yt[0]+Yt[1]+Yt[2]-1:rn),an.write_shift(4,Yt[3]),an.write_shift(-4,Yt[1]?Yt[0]-1:rn),an.write_shift(4,Yt[1]),un=0;un<109;++un)an.write_shift(-4,un<Yt[2]?Yt[1]+un:-1);if(Yt[1])for(sr=0;sr<Yt[1];++sr){for(;un<236+127*sr;++un)an.write_shift(-4,un<Yt[2]?Yt[1]+un:-1);an.write_shift(-4,sr===Yt[1]-1?rn:sr+1)}var Cr=function(Ui){for(sr+=Ui;un<sr-1;++un)an.write_shift(-4,un+1);Ui&&(++un,an.write_shift(-4,rn))};for(sr=un=0,sr+=Yt[1];un<sr;++un)an.write_shift(-4,Kn.DIFSECT);for(sr+=Yt[2];un<sr;++un)an.write_shift(-4,Kn.FATSECT);Cr(Yt[3]),Cr(Yt[4]);for(var lr=0,pr=0,_r=Pt.FileIndex[0];lr<Pt.FileIndex.length;++lr)(_r=Pt.FileIndex[lr]).content&&!((pr=_r.content.length)<4096)&&(_r.start=sr,Cr(pr+511>>9));for(Cr(Yt[6]+7>>3);511&an.l;)an.write_shift(-4,Kn.ENDOFCHAIN);for(sr=un=0,lr=0;lr<Pt.FileIndex.length;++lr)(_r=Pt.FileIndex[lr]).content&&(pr=_r.content.length)&&!(pr>=4096)&&(_r.start=sr,Cr(pr+63>>6));for(;511&an.l;)an.write_shift(-4,Kn.ENDOFCHAIN);for(un=0;un<Yt[4]<<2;++un){var si=Pt.FullPaths[un];if(si&&0!==si.length){_r=Pt.FileIndex[un],0===un&&(_r.start=_r.size?_r.start-1:rn);var mi=0===un&&qt.root||_r.name;if(pr=2*(mi.length+1),an.write_shift(64,mi,"utf16le"),an.write_shift(2,pr),an.write_shift(1,_r.type),an.write_shift(1,_r.color),an.write_shift(-4,_r.L),an.write_shift(-4,_r.R),an.write_shift(-4,_r.C),_r.clsid)an.write_shift(16,_r.clsid,"hex");else for(lr=0;lr<4;++lr)an.write_shift(4,0);an.write_shift(4,_r.state||0),an.write_shift(4,0),an.write_shift(4,0),an.write_shift(4,0),an.write_shift(4,0),an.write_shift(4,_r.start),an.write_shift(4,_r.size),an.write_shift(4,0)}else{for(lr=0;lr<17;++lr)an.write_shift(4,0);for(lr=0;lr<3;++lr)an.write_shift(4,-1);for(lr=0;lr<12;++lr)an.write_shift(4,0)}}for(un=1;un<Pt.FileIndex.length;++un)if((_r=Pt.FileIndex[un]).size>=4096)if(an.l=_r.start+1<<9,ns&&Buffer.isBuffer(_r.content))_r.content.copy(an,an.l,0,_r.size),an.l+=_r.size+511&-512;else{for(lr=0;lr<_r.size;++lr)an.write_shift(1,_r.content[lr]);for(;511&lr;++lr)an.write_shift(1,0)}for(un=1;un<Pt.FileIndex.length;++un)if((_r=Pt.FileIndex[un]).size>0&&_r.size<4096)if(ns&&Buffer.isBuffer(_r.content))_r.content.copy(an,an.l,0,_r.size),an.l+=_r.size+63&-64;else{for(lr=0;lr<_r.size;++lr)an.write_shift(1,_r.content[lr]);for(;63&lr;++lr)an.write_shift(1,0)}if(ns)an.l=an.length;else for(;an.l<an.length;)an.write_shift(1,0);return an}n.version="1.2.1";var Qn,st=64,rn=-2,tn="d0cf11e0a1b11ae1",Fn=[208,207,17,224,161,177,26,225],Wn="00000000000000000000000000000000",Kn={MAXREGSECT:-6,DIFSECT:-4,FATSECT:-3,ENDOFCHAIN:rn,FREESECT:-1,HEADER_SIGNATURE:tn,HEADER_MINOR_VERSION:"3e00",MAXREGSID:-6,NOSTREAM:-1,HEADER_CLSID:Wn,EntryTypes:["unknown","storage","stream","lockbytes","property","root"]};function zn(Pt){for(var cn=new Array(Pt.length),qt=0;qt<Pt.length;++qt)cn[qt]=String.fromCharCode(Pt[qt]);return cn.join("")}function ut(Pt){return Qn?Qn.deflateRawSync(Pt):Mi(Pt)}for(var Pt,cn,_t=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],Kt=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258],In=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577],Pn="undefined"!=typeof Uint8Array,qn=Pn?new Uint8Array(256):[],Rr=0;Rr<256;++Rr)qn[Rr]=(void 0,255&((cn=139536&((Pt=Rr)<<1|Pt<<11)|558144&(Pt<<5|Pt<<15))>>16|cn>>8|cn));function Gt(Pt,cn){var qt=qn[255&Pt];return cn<=8?qt>>>8-cn:(qt=qt<<8|qn[Pt>>8&255],cn<=16?qt>>>16-cn:(qt=qt<<8|qn[Pt>>16&255])>>>24-cn)}function oi(Pt,cn){var qt=7&cn,Yt=cn>>>3;return(Pt[Yt]|(qt<=6?0:Pt[Yt+1]<<8))>>>qt&3}function _i(Pt,cn){var qt=7&cn,Yt=cn>>>3;return(Pt[Yt]|(qt<=5?0:Pt[Yt+1]<<8))>>>qt&7}function on(Pt,cn){var qt=7&cn,Yt=cn>>>3;return(Pt[Yt]|(qt<=3?0:Pt[Yt+1]<<8))>>>qt&31}function qr(Pt,cn){var qt=7&cn,Yt=cn>>>3;return(Pt[Yt]|(qt<=1?0:Pt[Yt+1]<<8))>>>qt&127}function Ti(Pt,cn,qt){var Yt=7&cn,an=cn>>>3,sr=Pt[an]>>>Yt;return qt<8-Yt||(sr|=Pt[an+1]<<8-Yt,qt<16-Yt)||(sr|=Pt[an+2]<<16-Yt,qt<24-Yt)||(sr|=Pt[an+3]<<24-Yt),sr&(1<<qt)-1}function ei(Pt,cn,qt){var Yt=7&cn,an=cn>>>3;return Yt<=5?Pt[an]|=(7&qt)<<Yt:(Pt[an]|=qt<<Yt&255,Pt[an+1]=(7&qt)>>8-Yt),cn+3}function gi(Pt,cn,qt){return Pt[cn>>>3]|=qt=(1&qt)<<(7&cn),cn+1}function Ci(Pt,cn,qt){var an=cn>>>3;return Pt[an]|=255&(qt<<=7&cn),Pt[an+1]=qt>>>=8,cn+8}function Ii(Pt,cn,qt){var an=cn>>>3;return Pt[an]|=255&(qt<<=7&cn),Pt[an+1]=255&(qt>>>=8),Pt[an+2]=qt>>>8,cn+16}function Xi(Pt,cn){var qt=Pt.length,Yt=2*qt>cn?2*qt:cn+5,an=0;if(qt>=cn)return Pt;if(ns){var un=uc(Yt);if(Pt.copy)Pt.copy(un);else for(;an<Pt.length;++an)un[an]=Pt[an];return un}if(Pn){var sr=new Uint8Array(Yt);if(sr.set)sr.set(Pt);else for(;an<qt;++an)sr[an]=Pt[an];return sr}return Pt.length=Yt,Pt}function ls(Pt){for(var cn=new Array(Pt),qt=0;qt<Pt;++qt)cn[qt]=0;return cn}function ws(Pt,cn,qt){var Yt=1,an=0,un=0,sr=0,Cr=0,lr=Pt.length,pr=Pn?new Uint16Array(32):ls(32);for(un=0;un<32;++un)pr[un]=0;for(un=lr;un<qt;++un)Pt[un]=0;lr=Pt.length;var _r=Pn?new Uint16Array(lr):ls(lr);for(un=0;un<lr;++un)pr[an=Pt[un]]++,Yt<an&&(Yt=an),_r[un]=0;for(pr[0]=0,un=1;un<=Yt;++un)pr[un+16]=Cr=Cr+pr[un-1]<<1;for(un=0;un<lr;++un)0!=(Cr=Pt[un])&&(_r[un]=pr[Cr+16]++);var si=0;for(un=0;un<lr;++un)if(0!=(si=Pt[un]))for(Cr=Gt(_r[un],Yt)>>Yt-si,sr=(1<<Yt+4-si)-1;sr>=0;--sr)cn[Cr|sr<<si]=15&si|un<<4;return Yt}var Fs=Pn?new Uint16Array(512):ls(512),bo=Pn?new Uint16Array(32):ls(32);if(!Pn){for(var eo=0;eo<512;++eo)Fs[eo]=0;for(eo=0;eo<32;++eo)bo[eo]=0}!function(){for(var Pt=[],cn=0;cn<32;cn++)Pt.push(5);ws(Pt,bo,32);var qt=[];for(cn=0;cn<=143;cn++)qt.push(8);for(;cn<=255;cn++)qt.push(9);for(;cn<=279;cn++)qt.push(7);for(;cn<=287;cn++)qt.push(8);ws(qt,Fs,288)}();var cs=function(){for(var cn=Pn?new Uint8Array(32768):[],qt=0,Yt=0;qt<In.length-1;++qt)for(;Yt<In[qt+1];++Yt)cn[Yt]=qt;for(;Yt<32768;++Yt)cn[Yt]=29;var an=Pn?new Uint8Array(259):[];for(qt=0,Yt=0;qt<Kt.length-1;++qt)for(;Yt<Kt[qt+1];++Yt)an[Yt]=qt;return function(lr,pr){return lr.length<8?function un(Cr,lr){for(var pr=0;pr<Cr.length;){var _r=Math.min(65535,Cr.length-pr);for(lr.write_shift(1,+(pr+_r==Cr.length)),lr.write_shift(2,_r),lr.write_shift(2,65535&~_r);_r-- >0;)lr[lr.l++]=Cr[pr++]}return lr.l}(lr,pr):function sr(Cr,lr){for(var pr=0,_r=0,si=Pn?new Uint16Array(32768):[];_r<Cr.length;){var mi=Math.min(65535,Cr.length-_r);if(mi<10){for(7&(pr=ei(lr,pr,+(_r+mi==Cr.length)))&&(pr+=8-(7&pr)),lr.l=pr/8|0,lr.write_shift(2,mi),lr.write_shift(2,65535&~mi);mi-- >0;)lr[lr.l++]=Cr[_r++];pr=8*lr.l}else{pr=ei(lr,pr,+(_r+mi==Cr.length)+2);for(var Ui=0;mi-- >0;){var vi=Cr[_r],Si=-1,Ps=0;if((Si=si[Ui=32767&(Ui<<5^vi)])&&((Si|=-32768&_r)>_r&&(Si-=32768),Si<_r))for(;Cr[Si+Ps]==Cr[_r+Ps]&&Ps<250;)++Ps;if(Ps>2){(vi=an[Ps])<=22?pr=Ci(lr,pr,qn[vi+1]>>1)-1:(Ci(lr,pr,3),Ci(lr,pr+=5,qn[vi-23]>>5),pr+=3);var aa=vi<8?0:vi-4>>2;aa>0&&(Ii(lr,pr,Ps-Kt[vi]),pr+=aa),pr=Ci(lr,pr,qn[vi=cn[_r-Si]]>>3),pr-=3;var gu=vi<4?0:vi-2>>1;gu>0&&(Ii(lr,pr,_r-Si-In[vi]),pr+=gu);for(var rc=0;rc<Ps;++rc)si[Ui]=32767&_r,Ui=32767&(Ui<<5^Cr[_r]),++_r;mi-=Ps-1}else vi<=143?vi+=48:pr=gi(lr,pr,1),pr=Ci(lr,pr,qn[vi]),si[Ui]=32767&_r,++_r}pr=Ci(lr,pr,0)-1}}return lr.l=(pr+7)/8|0,lr.l}(lr,pr)}}();function Mi(Pt){var cn=Er(50+Math.floor(1.1*Pt.length)),qt=cs(Pt,cn);return cn.slice(0,qt)}var di=Pn?new Uint16Array(32768):ls(32768),Ba=Pn?new Uint16Array(32768):ls(32768),vs=Pn?new Uint16Array(128):ls(128),fu=1,Ta=1;function Pl(Pt,cn){var qt=on(Pt,cn)+257,Yt=on(Pt,cn+=5)+1,an=function gr(Pt,cn){var qt=7&cn,Yt=cn>>>3;return(Pt[Yt]|(qt<=4?0:Pt[Yt+1]<<8))>>>qt&15}(Pt,cn+=5)+4;cn+=4;for(var un=0,sr=Pn?new Uint8Array(19):ls(19),Cr=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],lr=1,pr=Pn?new Uint8Array(8):ls(8),_r=Pn?new Uint8Array(8):ls(8),si=sr.length,mi=0;mi<an;++mi)sr[_t[mi]]=un=_i(Pt,cn),lr<un&&(lr=un),pr[un]++,cn+=3;var Ui=0;for(pr[0]=0,mi=1;mi<=lr;++mi)_r[mi]=Ui=Ui+pr[mi-1]<<1;for(mi=0;mi<si;++mi)0!=(Ui=sr[mi])&&(Cr[mi]=_r[Ui]++);var vi=0;for(mi=0;mi<si;++mi)if(0!=(vi=sr[mi])){Ui=qn[Cr[mi]]>>8-vi;for(var Si=(1<<7-vi)-1;Si>=0;--Si)vs[Ui|Si<<vi]=7&vi|mi<<3}var Ps=[];for(lr=1;Ps.length<qt+Yt;)switch(Ui=vs[qr(Pt,cn)],cn+=7&Ui,Ui>>>=3){case 16:for(un=3+oi(Pt,cn),cn+=2,Ui=Ps[Ps.length-1];un-- >0;)Ps.push(Ui);break;case 17:for(un=3+_i(Pt,cn),cn+=3;un-- >0;)Ps.push(0);break;case 18:for(un=11+qr(Pt,cn),cn+=7;un-- >0;)Ps.push(0);break;default:Ps.push(Ui),lr<Ui&&(lr=Ui)}var aa=Ps.slice(0,qt),gu=Ps.slice(qt);for(mi=qt;mi<286;++mi)aa[mi]=0;for(mi=Yt;mi<30;++mi)gu[mi]=0;return fu=ws(aa,di,286),Ta=ws(gu,Ba,30),cn}function Go(Pt,cn){var Yt=function wp(Pt,cn){if(3==Pt[0]&&!(3&Pt[1]))return[yo(cn),2];for(var qt=0,Yt=0,an=uc(cn||1<<18),un=0,sr=an.length>>>0,Cr=0,lr=0;0==(1&Yt);)if(Yt=_i(Pt,qt),qt+=3,Yt>>>1!=0)for(Yt>>1==1?(Cr=9,lr=5):(qt=Pl(Pt,qt),Cr=fu,lr=Ta);;){!cn&&sr<un+32767&&(sr=(an=Xi(an,un+32767)).length);var _r=Ti(Pt,qt,Cr),si=Yt>>>1==1?Fs[_r]:di[_r];if(qt+=15&si,0==((si>>>=4)>>>8&255))an[un++]=si;else{if(256==si)break;var mi=(si-=257)<8?0:si-4>>2;mi>5&&(mi=0);var Ui=un+Kt[si];mi>0&&(Ui+=Ti(Pt,qt,mi),qt+=mi),_r=Ti(Pt,qt,lr),qt+=15&(si=Yt>>>1==1?bo[_r]:Ba[_r]);var vi=(si>>>=4)<4?0:si-2>>1,Si=In[si];for(vi>0&&(Si+=Ti(Pt,qt,vi),qt+=vi),!cn&&sr<Ui&&(sr=(an=Xi(an,Ui+100)).length);un<Ui;)an[un]=an[un-Si],++un}}else{7&qt&&(qt+=8-(7&qt));var pr=Pt[qt>>>3]|Pt[1+(qt>>>3)]<<8;if(qt+=32,pr>0)for(!cn&&sr<un+pr&&(sr=(an=Xi(an,un+pr)).length);pr-- >0;)an[un++]=Pt[qt>>>3],qt+=8}return cn?[an,qt+7>>>3]:[an.slice(0,un),qt+7>>>3]}(Pt.slice(Pt.l||0),cn);return Pt.l+=Yt[1],Yt[0]}function Dg(Pt,cn){if(!Pt)throw new Error(cn);"undefined"!=typeof console&&console.error(cn)}function Vl(Pt,cn){var qt=Pt;Yl(qt,0);var un={FileIndex:[],FullPaths:[]};At(un,{root:cn.root});for(var sr=qt.length-4;(80!=qt[sr]||75!=qt[sr+1]||5!=qt[sr+2]||6!=qt[sr+3])&&sr>=0;)--sr;qt.l=sr+4,qt.l+=4;var Cr=qt.read_shift(2);qt.l+=6;var lr=qt.read_shift(4);for(qt.l=lr,sr=0;sr<Cr;++sr){qt.l+=20;var pr=qt.read_shift(4),_r=qt.read_shift(4),si=qt.read_shift(2),mi=qt.read_shift(2),Ui=qt.read_shift(2);qt.l+=8;var vi=qt.read_shift(4),Si=g(qt.slice(qt.l+si,qt.l+si+mi));qt.l+=si+mi+Ui;var Ps=qt.l;qt.l=vi+4,Pf(qt,pr,_r,un,Si),qt.l=Ps}return un}function Pf(Pt,cn,qt,Yt,an){Pt.l+=2;var un=Pt.read_shift(2),sr=Pt.read_shift(2),Cr=function d(Pt){var cn=65535&Pt.read_shift(2),qt=65535&Pt.read_shift(2),Yt=new Date,an=31&qt,un=15&(qt>>>=5);qt>>>=4,Yt.setMilliseconds(0),Yt.setFullYear(qt+1980),Yt.setMonth(un-1),Yt.setDate(an);var sr=31&cn,Cr=63&(cn>>>=5);return Yt.setHours(cn>>>=6),Yt.setMinutes(Cr),Yt.setSeconds(sr<<1),Yt}(Pt);if(8257&un)throw new Error("Unsupported ZIP encryption");Pt.read_shift(4);for(var pr=Pt.read_shift(4),_r=Pt.read_shift(4),si=Pt.read_shift(2),mi=Pt.read_shift(2),Ui="",vi=0;vi<si;++vi)Ui+=String.fromCharCode(Pt[Pt.l++]);if(mi){var Si=g(Pt.slice(Pt.l,Pt.l+mi));(Si[21589]||{}).mt&&(Cr=Si[21589].mt),((an||{})[21589]||{}).mt&&(Cr=an[21589].mt)}Pt.l+=mi;var Ps=Pt.slice(Pt.l,Pt.l+pr);switch(sr){case 8:Ps=function bt(Pt,cn){if(!Qn)return Go(Pt,cn);var Yt=new(0,Qn.InflateRaw),an=Yt._processChunk(Pt.slice(Pt.l),Yt._finishFlushFlag);return Pt.l+=Yt.bytesRead,an}(Pt,_r);break;case 0:break;default:throw new Error("Unsupported ZIP Compression method "+sr)}var aa=!1;8&un&&(134695760==Pt.read_shift(4)&&(Pt.read_shift(4),aa=!0),pr=Pt.read_shift(4),_r=Pt.read_shift(4)),pr!=cn&&Dg(aa,"Bad compressed size: "+cn+" != "+pr),_r!=qt&&Dg(aa,"Bad uncompressed size: "+qt+" != "+_r),$d(Yt,Ui,Ps,{unsafe:!0,mt:Cr})}var pl={htm:"text/html",xml:"text/xml",gif:"image/gif",jpg:"image/jpeg",png:"image/png",mso:"application/x-mso",thmx:"application/vnd.ms-officetheme",sh33tj5:"application/octet-stream"};function Hs(Pt,cn){if(Pt.ctype)return Pt.ctype;var qt=Pt.name||"",Yt=qt.match(/\.([^\.]+)$/);return Yt&&pl[Yt[1]]||cn&&(Yt=(qt=cn).match(/[\.\\]([^\.\\])+$/))&&pl[Yt[1]]?pl[Yt[1]]:"application/octet-stream"}function oa(Pt){for(var cn=gd(Pt),qt=[],Yt=0;Yt<cn.length;Yt+=76)qt.push(cn.slice(Yt,Yt+76));return qt.join("\r\n")+"\r\n"}function Hm(Pt){var cn=Pt.replace(/[\x00-\x08\x0B\x0C\x0E-\x1F\x7E-\xFF=]/g,function(pr){var _r=pr.charCodeAt(0).toString(16).toUpperCase();return"="+(1==_r.length?"0"+_r:_r)});"\n"==(cn=cn.replace(/ $/gm,"=20").replace(/\t$/gm,"=09")).charAt(0)&&(cn="=0D"+cn.slice(1));for(var qt=[],Yt=(cn=cn.replace(/\r(?!\n)/gm,"=0D").replace(/\n\n/gm,"\n=0A").replace(/([^\r\n])\n/gm,"$1=0A")).split("\r\n"),an=0;an<Yt.length;++an){var un=Yt[an];if(0!=un.length)for(var sr=0;sr<un.length;){var Cr=76,lr=un.slice(sr,sr+Cr);"="==lr.charAt(Cr-1)?Cr--:"="==lr.charAt(Cr-2)?Cr-=2:"="==lr.charAt(Cr-3)&&(Cr-=3),lr=un.slice(sr,sr+Cr),(sr+=Cr)<un.length&&(lr+="="),qt.push(lr)}else qt.push("")}return qt.join("\r\n")}function bp(Pt,cn,qt){for(var sr,Yt="",an="",un="",Cr=0;Cr<10;++Cr){var lr=cn[Cr];if(!lr||lr.match(/^\s*$/))break;var pr=lr.match(/^(.*?):\s*([^\s].*)$/);if(pr)switch(pr[1].toLowerCase()){case"content-location":Yt=pr[2].trim();break;case"content-type":un=pr[2].trim();break;case"content-transfer-encoding":an=pr[2].trim()}}switch(++Cr,an.toLowerCase()){case"base64":sr=Sc(Zl(cn.slice(Cr).join("")));break;case"quoted-printable":sr=function pu(Pt){for(var cn=[],qt=0;qt<Pt.length;++qt){for(var Yt=Pt[qt];qt<=Pt.length&&"="==Yt.charAt(Yt.length-1);)Yt=Yt.slice(0,Yt.length-1)+Pt[++qt];cn.push(Yt)}for(var an=0;an<cn.length;++an)cn[an]=cn[an].replace(/[=][0-9A-Fa-f]{2}/g,function(un){return String.fromCharCode(parseInt(un.slice(1),16))});return Sc(cn.join("\r\n"))}(cn.slice(Cr));break;default:throw new Error("Unsupported Content-Transfer-Encoding "+an)}var _r=$d(Pt,Yt.slice(qt.length),sr,{unsafe:!0});un&&(_r.ctype=un)}function $d(Pt,cn,qt,Yt){var an=Yt&&Yt.unsafe;an||At(Pt);var un=!an&&qi.find(Pt,cn);if(!un){var sr=Pt.FullPaths[0];cn.slice(0,sr.length)==sr?sr=cn:("/"!=sr.slice(-1)&&(sr+="/"),sr=(sr+cn).replace("//","/")),un={name:s(cn),type:2},Pt.FileIndex.push(un),Pt.FullPaths.push(sr),an||qi.utils.cfb_gc(Pt)}return un.content=qt,un.size=qt?qt.length:0,Yt&&(Yt.CLSID&&(un.clsid=Yt.CLSID),Yt.mt&&(un.mt=Yt.mt),Yt.ct&&(un.ct=Yt.ct)),un}return n.find=function vt(Pt,cn){var qt=Pt.FullPaths.map(function(lr){return lr.toUpperCase()}),Yt=qt.map(function(lr){var pr=lr.split("/");return pr[pr.length-("/"==lr.slice(-1)?2:1)]}),an=!1;47===cn.charCodeAt(0)?(an=!0,cn=qt[0].slice(0,-1)+cn):an=-1!==cn.indexOf("/");var un=cn.toUpperCase(),sr=!0===an?qt.indexOf(un):Yt.indexOf(un);if(-1!==sr)return Pt.FileIndex[sr];var Cr=!un.match(ka);for(un=un.replace(ol,""),Cr&&(un=un.replace(ka,"!")),sr=0;sr<qt.length;++sr)if((Cr?qt[sr].replace(ka,"!"):qt[sr]).replace(ol,"")==un||(Cr?Yt[sr].replace(ka,"!"):Yt[sr]).replace(ol,"")==un)return Pt.FileIndex[sr];return null},n.read=function bn(Pt,cn){var qt=cn&&cn.type;switch(qt||ns&&Buffer.isBuffer(Pt)&&(qt="buffer"),qt||"base64"){case"file":return function Xt(Pt,cn){return _(),w(m.readFileSync(Pt),cn)}(Pt,cn);case"base64":return w(Sc(Zl(Pt)),cn);case"binary":return w(Sc(Pt),cn)}return w(Pt,cn)},n.parse=w,n.write=function nr(Pt,cn){var qt=gn(Pt,cn);switch(cn&&cn.type||"buffer"){case"file":return _(),m.writeFileSync(cn.filename,qt),qt;case"binary":return"string"==typeof qt?qt:zn(qt);case"base64":return gd("string"==typeof qt?qt:zn(qt));case"buffer":if(ns)return Buffer.isBuffer(qt)?qt:$l(qt);case"array":return"string"==typeof qt?Sc(qt):qt}return qt},n.writeFile=function Zn(Pt,cn,qt){_();var Yt=gn(Pt,qt);m.writeFileSync(cn,Yt)},n.utils={cfb_new:function Nf(Pt){var cn={};return At(cn,Pt),cn},cfb_add:$d,cfb_del:function Oh(Pt,cn){At(Pt);var qt=qi.find(Pt,cn);if(qt)for(var Yt=0;Yt<Pt.FileIndex.length;++Yt)if(Pt.FileIndex[Yt]==qt)return Pt.FileIndex.splice(Yt,1),Pt.FullPaths.splice(Yt,1),!0;return!1},cfb_mov:function $c(Pt,cn,qt){At(Pt);var Yt=qi.find(Pt,cn);if(Yt)for(var an=0;an<Pt.FileIndex.length;++an)if(Pt.FileIndex[an]==Yt)return Pt.FileIndex[an].name=s(qt),Pt.FullPaths[an]=qt,!0;return!1},cfb_gc:function Fc(Pt){Jt(Pt,!0)},ReadShift:ff,CheckField:Zs,prep_blob:Yl,bconcat:So,use_zlib:function Ie(Pt){try{var qt=new(0,Pt.InflateRaw);if(qt._processChunk(new Uint8Array([3,0]),qt._finishFlushFlag),!qt.bytesRead)throw new Error("zlib does not expose bytesRead");Qn=Pt}catch(Yt){console.error("cannot use native zlib: "+(Yt.message||Yt))}},_deflateRaw:Mi,_inflateRaw:Go,consts:Kn},n}();function jf(e){return"string"==typeof e?tf(e):Array.isArray(e)?function ev(e){if("undefined"==typeof Uint8Array)throw new Error("Unsupported");return new Uint8Array(e)}(e):e}function co(e,n,t){if("undefined"!=typeof Deno){if(t&&"string"==typeof n)switch(t){case"utf8":n=new TextEncoder(t).encode(n);break;case"binary":n=tf(n);break;default:throw new Error("Unsupported encoding "+t)}return Deno.writeFileSync(e,n)}var r="utf8"==t?eu(n):n;if("undefined"!=typeof IE_SaveFile)return IE_SaveFile(r,e);if("undefined"!=typeof Blob){var s=new Blob([jf(r)],{type:"application/octet-stream"});if("undefined"!=typeof navigator&&navigator.msSaveBlob)return navigator.msSaveBlob(s,e);if("undefined"!=typeof saveAs)return saveAs(s,e);if("undefined"!=typeof URL&&"undefined"!=typeof document&&document.createElement&&URL.createObjectURL){var o=URL.createObjectURL(s);if("object"==typeof chrome&&"function"==typeof(chrome.downloads||{}).download)return URL.revokeObjectURL&&"undefined"!=typeof setTimeout&&setTimeout(function(){URL.revokeObjectURL(o)},6e4),chrome.downloads.download({url:o,filename:e,saveAs:!0});var d=document.createElement("a");if(null!=d.download)return d.download=e,d.href=o,document.body.appendChild(d),d.click(),document.body.removeChild(d),URL.revokeObjectURL&&"undefined"!=typeof setTimeout&&setTimeout(function(){URL.revokeObjectURL(o)},6e4),o}}if("undefined"!=typeof $&&"undefined"!=typeof File&&"undefined"!=typeof Folder)try{var g=File(e);return g.open("w"),g.encoding="binary",Array.isArray(n)&&(n=Qc(n)),g.write(n),g.close(),n}catch(m){if(!m.message||!m.message.match(/onstruct/))throw m}throw new Error("cannot save file "+e)}function _a(e){for(var n=Object.keys(e),t=[],r=0;r<n.length;++r)Object.prototype.hasOwnProperty.call(e,n[r])&&t.push(n[r]);return t}function Su(e,n){for(var t=[],r=_a(e),s=0;s!==r.length;++s)null==t[e[r[s]][n]]&&(t[e[r[s]][n]]=r[s]);return t}function xl(e){for(var n=[],t=_a(e),r=0;r!==t.length;++r)n[e[t[r]]]=t[r];return n}function Ku(e){for(var n=[],t=_a(e),r=0;r!==t.length;++r)n[e[t[r]]]=parseInt(t[r],10);return n}var A0=new Date(1899,11,30,0,0,0);function xa(e,n){var t=e.getTime();return n&&(t-=1263168e5),(t-(A0.getTime()+6e4*(e.getTimezoneOffset()-A0.getTimezoneOffset())))/864e5}var Za=new Date,xh=A0.getTime()+6e4*(Za.getTimezoneOffset()-A0.getTimezoneOffset()),pc=Za.getTimezoneOffset();function Vf(e){var n=new Date;return n.setTime(24*e*60*60*1e3+xh),n.getTimezoneOffset()!==pc&&n.setTime(n.getTime()+6e4*(n.getTimezoneOffset()-pc)),n}var Fg=new Date("2017-02-19T19:06:09.000Z"),Xu=isNaN(Fg.getFullYear())?new Date("2/19/17"):Fg,sf=2017==Xu.getFullYear();function zo(e,n){var t=new Date(e);if(sf)return n>0?t.setTime(t.getTime()+60*t.getTimezoneOffset()*1e3):n<0&&t.setTime(t.getTime()-60*t.getTimezoneOffset()*1e3),t;if(e instanceof Date)return e;if(1917==Xu.getFullYear()&&!isNaN(t.getFullYear())){var r=t.getFullYear();return e.indexOf(""+r)>-1||t.setFullYear(t.getFullYear()+100),t}var s=e.match(/\d+/g)||["2017","2","19","0","0","0"],o=new Date(+s[0],+s[1]-1,+s[2],+s[3]||0,+s[4]||0,+s[5]||0);return e.indexOf("Z")>-1&&(o=new Date(o.getTime()-60*o.getTimezoneOffset()*1e3)),o}function bh(e,n){if(ns&&Buffer.isBuffer(e)){if(n){if(255==e[0]&&254==e[1])return eu(e.slice(2).toString("utf16le"));if(254==e[1]&&255==e[2])return eu(function pd(e){for(var n=[],t=0;t<e.length>>1;++t)n[t]=String.fromCharCode(e.charCodeAt(2*t+1)+(e.charCodeAt(2*t)<<8));return n.join("")}(e.slice(2).toString("binary")))}return e.toString("binary")}if("undefined"!=typeof TextDecoder)try{if(n){if(255==e[0]&&254==e[1])return eu(new TextDecoder("utf-16le").decode(e.slice(2)));if(254==e[0]&&255==e[1])return eu(new TextDecoder("utf-16be").decode(e.slice(2)))}var t={"\u20ac":"\x80","\u201a":"\x82",\u0192:"\x83","\u201e":"\x84","\u2026":"\x85","\u2020":"\x86","\u2021":"\x87",\u02c6:"\x88","\u2030":"\x89",\u0160:"\x8a","\u2039":"\x8b",\u0152:"\x8c",\u017d:"\x8e","\u2018":"\x91","\u2019":"\x92","\u201c":"\x93","\u201d":"\x94","\u2022":"\x95","\u2013":"\x96","\u2014":"\x97","\u02dc":"\x98","\u2122":"\x99",\u0161:"\x9a","\u203a":"\x9b",\u0153:"\x9c",\u017e:"\x9e",\u0178:"\x9f"};return Array.isArray(e)&&(e=new Uint8Array(e)),new TextDecoder("latin1").decode(e).replace(/[\u20ac\u201a\u0192\u201e\u2026\u2020\u2021\u02c6\u2030\u0160\u2039\u0152\u017d\u2018\u2019\u201c\u201d\u2022\u2013\u2014\u02dc\u2122\u0161\u203a\u0153\u017e\u0178]/g,function(o){return t[o]||o})}catch(o){}for(var r=[],s=0;s!=e.length;++s)r.push(String.fromCharCode(e[s]));return r.join("")}function ao(e){if("undefined"!=typeof JSON&&!Array.isArray(e))return JSON.parse(JSON.stringify(e));if("object"!=typeof e||null==e)return e;if(e instanceof Date)return new Date(e.getTime());var n={};for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&(n[t]=ao(e[t]));return n}function fa(e,n){for(var t="";t.length<n;)t+=e;return t}function $a(e){var n=Number(e);if(!isNaN(n))return isFinite(n)?n:NaN;if(!/\d/.test(e))return n;var t=1,r=e.replace(/([\d]),([\d])/g,"$1$2").replace(/[$]/g,"").replace(/[%]/g,function(){return t*=100,""});return isNaN(n=Number(r))&&(r=r.replace(/[(](.*)[)]/,function(s,o){return t=-t,o}),isNaN(n=Number(r)))?n:n/t}var Au=["january","february","march","april","may","june","july","august","september","october","november","december"];function hu(e){var n=new Date(e),t=new Date(NaN),r=n.getYear(),s=n.getMonth(),o=n.getDate();if(isNaN(o))return t;var d=e.toLowerCase();if(d.match(/jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec/)){if((d=d.replace(/[^a-z]/g,"").replace(/([^a-z]|^)[ap]m?([^a-z]|$)/,"")).length>3&&-1==Au.indexOf(d))return t}else if(d.match(/[a-z]/))return t;return r<0||r>8099?t:(s>0||o>1)&&101!=r?n:e.match(/[^-0-9:,\/\\]/)?t:n}function ms(e,n,t){if(e.FullPaths){var r;if("string"==typeof t)return r=ns?$l(t):function md(e){for(var n=[],t=0,r=e.length+250,s=yo(e.length+255),o=0;o<e.length;++o){var d=e.charCodeAt(o);if(d<128)s[t++]=d;else if(d<2048)s[t++]=192|d>>6&31,s[t++]=128|63&d;else if(d>=55296&&d<57344){d=64+(1023&d);var g=1023&e.charCodeAt(++o);s[t++]=240|d>>8&7,s[t++]=128|d>>2&63,s[t++]=128|g>>6&15|(3&d)<<4,s[t++]=128|63&g}else s[t++]=224|d>>12&15,s[t++]=128|d>>6&63,s[t++]=128|63&d;t>r&&(n.push(s.slice(0,t)),t=0,s=yo(65535),r=65530)}return n.push(s.slice(0,t)),So(n)}(t),qi.utils.cfb_add(e,n,r);qi.utils.cfb_add(e,n,t)}else e.file(n,t)}function I0(){return qi.utils.cfb_new()}var Ma='<?xml version="1.0" encoding="UTF-8" standalone="yes"?>\r\n',af=xl({"&quot;":'"',"&apos;":"'","&gt;":">","&lt;":"<","&amp;":"&"}),Zf=/[&<>'"]/g,$f=/[\u0000-\u0008\u000b-\u001f]/g;function ds(e){return(e+"").replace(Zf,function(t){return af[t]}).replace($f,function(t){return"_x"+("000"+t.charCodeAt(0).toString(16)).slice(-4)+"_"})}function rv(e){return ds(e).replace(/ /g,"_x0020_")}var iv=/[\u0000-\u001f]/g;function lf(e){return(e+"").replace(Zf,function(t){return af[t]}).replace(/\n/g,"<br/>").replace(iv,function(t){return"&#x"+("000"+t.charCodeAt(0).toString(16)).slice(-4)+";"})}function Ug(e){for(var n="",t=0,r=0,s=0,o=0,d=0,g=0;t<e.length;)(r=e.charCodeAt(t++))<128?n+=String.fromCharCode(r):(s=e.charCodeAt(t++),r>191&&r<224?(d=(31&r)<<6,d|=63&s,n+=String.fromCharCode(d)):(o=e.charCodeAt(t++),r<240?n+=String.fromCharCode((15&r)<<12|(63&s)<<6|63&o):(g=((7&r)<<18|(63&s)<<12|(63&o)<<6|63&(d=e.charCodeAt(t++)))-65536,n+=String.fromCharCode(55296+(g>>>10&1023)),n+=String.fromCharCode(56320+(1023&g)))));return n}function th(e){var t,r,g,n=yo(2*e.length),s=1,o=0,d=0;for(r=0;r<e.length;r+=s)s=1,(g=e.charCodeAt(r))<128?t=g:g<224?(t=64*(31&g)+(63&e.charCodeAt(r+1)),s=2):g<240?(t=4096*(15&g)+64*(63&e.charCodeAt(r+1))+(63&e.charCodeAt(r+2)),s=3):(s=4,t=262144*(7&g)+4096*(63&e.charCodeAt(r+1))+64*(63&e.charCodeAt(r+2))+(63&e.charCodeAt(r+3)),d=55296+((t-=65536)>>>10&1023),t=56320+(1023&t)),0!==d&&(n[o++]=255&d,n[o++]=d>>>8,d=0),n[o++]=t%256,n[o++]=t>>>8;return n.slice(0,o).toString("ucs2")}function cf(e){return $l(e,"binary").toString("utf8")}var k0="foo bar baz\xe2\x98\x83\xf0\x9f\x8d\xa3",ta=ns&&(cf(k0)==Ug(k0)&&cf||th(k0)==Ug(k0)&&th)||Ug,eu=ns?function(e){return $l(e,"utf8").toString("binary")}:function(e){for(var n=[],t=0,r=0,s=0;t<e.length;)switch(r=e.charCodeAt(t++),!0){case r<128:n.push(String.fromCharCode(r));break;case r<2048:n.push(String.fromCharCode(192+(r>>6))),n.push(String.fromCharCode(128+(63&r)));break;case r>=55296&&r<57344:r-=55296,s=e.charCodeAt(t++)-56320+(r<<10),n.push(String.fromCharCode(240+(s>>18&7))),n.push(String.fromCharCode(144+(s>>12&63))),n.push(String.fromCharCode(128+(s>>6&63))),n.push(String.fromCharCode(128+(63&s)));break;default:n.push(String.fromCharCode(224+(r>>12))),n.push(String.fromCharCode(128+(r>>6&63))),n.push(String.fromCharCode(128+(63&r)))}return n.join("")},wd=function(){var e=[["nbsp"," "],["middot","\xb7"],["quot",'"'],["apos","'"],["gt",">"],["lt","<"],["amp","&"]].map(function(n){return[new RegExp("&"+n[0]+";","ig"),n[1]]});return function(t){for(var r=t.replace(/^[\t\n\r ]+/,"").replace(/[\t\n\r ]+$/,"").replace(/>\s+/g,">").replace(/\s+</g,"<").replace(/[\t\n\r ]+/g," ").replace(/<\s*[bB][rR]\s*\/?>/g,"\n").replace(/<[^>]*>/g,""),s=0;s<e.length;++s)r=r.replace(e[s][0],e[s][1]);return r}}(),Kf=/(^\s|\s$|\n)/;function Oa(e,n){return"<"+e+(n.match(Kf)?' xml:space="preserve"':"")+">"+n+"</"+e+">"}function gc(e){return _a(e).map(function(n){return" "+n+'="'+e[n]+'"'}).join("")}function hi(e,n,t){return"<"+e+(null!=t?gc(t):"")+(null!=n?(n.match(Kf)?' xml:space="preserve"':"")+">"+n+"</"+e:"/")+">"}function Gh(e,n){try{return e.toISOString().replace(/\.\d*/,"")}catch(t){if(n)throw t}return""}var ll_TCMNT="http://schemas.microsoft.com/office/spreadsheetml/2018/threadedcomments",ll_r="http://schemas.openxmlformats.org/officeDocument/2006/relationships",ll_vt="http://schemas.openxmlformats.org/officeDocument/2006/docPropsVTypes",ll_xsi="http://www.w3.org/2001/XMLSchema-instance",rh=["http://schemas.openxmlformats.org/spreadsheetml/2006/main","http://purl.oclc.org/ooxml/spreadsheetml/main","http://schemas.microsoft.com/office/excel/2006/main","http://schemas.microsoft.com/office/excel/2006/2"],bl_o="urn:schemas-microsoft-com:office:office",bl_x="urn:schemas-microsoft-com:office:excel",bl_ss="urn:schemas-microsoft-com:office:spreadsheet",Bg=function(e){for(var n=[],r=0;r<e[0].length;++r)if(e[0][r])for(var s=0,o=e[0][r].length;s<o;s+=10240)n.push.apply(n,e[0][r].slice(s,s+10240));return n},N0=ns?function(e){return e[0].length>0&&Buffer.isBuffer(e[0][0])?Buffer.concat(e[0].map(function(n){return Buffer.isBuffer(n)?n:$l(n)})):Bg(e)}:Bg,jg=function(e,n,t){for(var r=[],s=n;s<t;s+=2)r.push(String.fromCharCode(Ll(e,s)));return r.join("").replace(ol,"")},Vg=ns?function(e,n,t){return Buffer.isBuffer(e)?e.toString("utf16le",n,t).replace(ol,""):jg(e,n,t)}:jg,Hg=function(e,n,t){for(var r=[],s=n;s<n+t;++s)r.push(("0"+e[s].toString(16)).slice(-2));return r.join("")},Zh=ns?function(e,n,t){return Buffer.isBuffer(e)?e.toString("hex",n,n+t):Hg(e,n,t)}:Hg,Ed=function(e,n,t){for(var r=[],s=n;s<t;s++)r.push(String.fromCharCode(mc(e,s)));return r.join("")},df=ns?function(n,t,r){return Buffer.isBuffer(n)?n.toString("utf8",t,r):Ed(n,t,r)}:Ed,Td=function(e,n){var t=na(e,n);return t>0?df(e,n+4,n+4+t-1):""},M0=Td,q=function(e,n){var t=na(e,n);return t>0?df(e,n+4,n+4+t-1):""},S=q,k=function(e,n){var t=2*na(e,n);return t>0?df(e,n+4,n+4+t-1):""},le=k,wt=function(n,t){var r=na(n,t);return r>0?Vg(n,t+4,t+4+r):""},zt=wt,Vn=function(e,n){var t=na(e,n);return t>0?df(e,n+4,n+4+t):""},Vr=Vn,Ei=function(e,n){return function bd(e,n){for(var t=1-2*(e[n+7]>>>7),r=((127&e[n+7])<<4)+(e[n+6]>>>4&15),s=15&e[n+6],o=5;o>=0;--o)s=256*s+e[n+o];return 2047==r?0==s?t*(1/0):NaN:(0==r?r=-1022:(r-=1023,s+=Math.pow(2,52)),t*Math.pow(2,r-52)*s)}(e,n)},Yi=Ei,Os=function(n){return Array.isArray(n)||"undefined"!=typeof Uint8Array&&n instanceof Uint8Array};ns&&(M0=function(n,t){if(!Buffer.isBuffer(n))return Td(n,t);var r=n.readUInt32LE(t);return r>0?n.toString("utf8",t+4,t+4+r-1):""},S=function(n,t){if(!Buffer.isBuffer(n))return q(n,t);var r=n.readUInt32LE(t);return r>0?n.toString("utf8",t+4,t+4+r-1):""},le=function(n,t){if(!Buffer.isBuffer(n))return k(n,t);var r=2*n.readUInt32LE(t);return n.toString("utf16le",t+4,t+4+r-1)},zt=function(n,t){if(!Buffer.isBuffer(n))return wt(n,t);var r=n.readUInt32LE(t);return n.toString("utf16le",t+4,t+4+r)},Vr=function(n,t){if(!Buffer.isBuffer(n))return Vn(n,t);var r=n.readUInt32LE(t);return n.toString("utf8",t+4,t+4+r)},Yi=function(n,t){return Buffer.isBuffer(n)?n.readDoubleLE(t):Ei(n,t)},Os=function(n){return Buffer.isBuffer(n)||Array.isArray(n)||"undefined"!=typeof Uint8Array&&n instanceof Uint8Array});var mc=function(e,n){return e[n]},Ll=function(e,n){return 256*e[n+1]+e[n]},ih=function(e,n){var t=256*e[n+1]+e[n];return t<32768?t:-1*(65535-t+1)},na=function(e,n){return e[n+3]*(1<<24)+(e[n+2]<<16)+(e[n+1]<<8)+e[n]},$h=function(e,n){return e[n+3]<<24|e[n+2]<<16|e[n+1]<<8|e[n]},O0=function(e,n){return e[n]<<24|e[n+1]<<16|e[n+2]<<8|e[n+3]};function ff(e,n){var r,s,d,g,m,_,t="",o=[];switch(n){case"dbcs":if(_=this.l,ns&&Buffer.isBuffer(this))t=this.slice(this.l,this.l+2*e).toString("utf16le");else for(m=0;m<e;++m)t+=String.fromCharCode(Ll(this,_)),_+=2;e*=2;break;case"utf8":t=df(this,this.l,this.l+e);break;case"utf16le":t=Vg(this,this.l,this.l+(e*=2));break;case"wstr":return ff.call(this,e,"dbcs");case"lpstr-ansi":t=M0(this,this.l),e=4+na(this,this.l);break;case"lpstr-cp":t=S(this,this.l),e=4+na(this,this.l);break;case"lpwstr":t=le(this,this.l),e=4+2*na(this,this.l);break;case"lpp4":e=4+na(this,this.l),t=zt(this,this.l),2&e&&(e+=2);break;case"8lpp4":e=4+na(this,this.l),t=Vr(this,this.l),3&e&&(e+=4-(3&e));break;case"cstr":for(e=0,t="";0!==(d=mc(this,this.l+e++));)o.push(lu(d));t=o.join("");break;case"_wstr":for(e=0,t="";0!==(d=Ll(this,this.l+e));)o.push(lu(d)),e+=2;e+=2,t=o.join("");break;case"dbcs-cont":for(t="",_=this.l,m=0;m<e;++m){if(this.lens&&-1!==this.lens.indexOf(_))return d=mc(this,_),this.l=_+1,g=ff.call(this,e-m,d?"dbcs-cont":"sbcs-cont"),o.join("")+g;o.push(lu(Ll(this,_))),_+=2}t=o.join(""),e*=2;break;case"cpstr":0;case"sbcs-cont":for(t="",_=this.l,m=0;m!=e;++m){if(this.lens&&-1!==this.lens.indexOf(_))return d=mc(this,_),this.l=_+1,g=ff.call(this,e-m,d?"dbcs-cont":"sbcs-cont"),o.join("")+g;o.push(lu(mc(this,_))),_+=1}t=o.join("");break;default:switch(e){case 1:return r=mc(this,this.l),this.l++,r;case 2:return r=("i"===n?ih:Ll)(this,this.l),this.l+=2,r;case 4:case-4:return"i"===n||0==(128&this[this.l+3])?(r=(e>0?$h:O0)(this,this.l),this.l+=4,r):(s=na(this,this.l),this.l+=4,s);case 8:case-8:if("f"===n)return s=8==e?Yi(this,this.l):Yi([this[this.l+7],this[this.l+6],this[this.l+5],this[this.l+4],this[this.l+3],this[this.l+2],this[this.l+1],this[this.l+0]],0),this.l+=8,s;e=8;case 16:t=Zh(this,this.l,e)}}return this.l+=e,t}var lv=function(e,n,t){e[t]=255&n,e[t+1]=n>>>8&255};function Fa(e,n,t){var r=0,s=0;if("dbcs"===t){for(s=0;s!=n.length;++s)lv(this,n.charCodeAt(s),this.l+2*s);r=2*n.length}else if("sbcs"===t){for(n=n.replace(/[^\x00-\x7F]/g,"_"),s=0;s!=n.length;++s)this[this.l+s]=255&n.charCodeAt(s);r=n.length}else{if("hex"===t){for(;s<e;++s)this[this.l++]=parseInt(n.slice(2*s,2*s+2),16)||0;return this}if("utf16le"===t){var d=Math.min(this.l+e,this.length);for(s=0;s<Math.min(n.length,e);++s){var g=n.charCodeAt(s);this[this.l++]=255&g,this[this.l++]=g>>8}for(;this.l<d;)this[this.l++]=0;return this}switch(e){case 1:r=1,this[this.l]=255&n;break;case 2:r=2,this[this.l]=255&n,this[this.l+1]=255&(n>>>=8);break;case 3:r=3,this[this.l]=255&n,this[this.l+1]=255&(n>>>=8),this[this.l+2]=255&(n>>>=8);break;case 4:r=4,function(e,n,t){e[t]=255&n,e[t+1]=n>>>8&255,e[t+2]=n>>>16&255,e[t+3]=n>>>24&255}(this,n,this.l);break;case 8:if(r=8,"f"===t){!function av(e,n,t){var r=(n<0||1/n==-1/0?1:0)<<7,s=0,o=0,d=r?-n:n;isFinite(d)?0==d?s=o=0:(s=Math.floor(Math.log(d)/Math.LN2),o=d*Math.pow(2,52-s),s<=-1023&&(!isFinite(o)||o<Math.pow(2,52))?s=-1022:(o-=Math.pow(2,52),s+=1023)):(s=2047,o=isNaN(n)?26985:0);for(var g=0;g<=5;++g,o/=256)e[t+g]=255&o;e[t+6]=(15&s)<<4|15&o,e[t+7]=s>>4|r}(this,n,this.l);break}case 16:break;case-4:r=4,function(e,n,t){e[t]=255&n,e[t+1]=n>>8&255,e[t+2]=n>>16&255,e[t+3]=n>>24&255}(this,n,this.l)}}return this.l+=r,this}function Zs(e,n){var t=Zh(this,this.l,e.length>>1);if(t!==e)throw new Error(n+"Expected "+e+" saw "+t);this.l+=e.length>>1}function Yl(e,n){e.l=n,e.read_shift=ff,e.chk=Zs,e.write_shift=Fa}function cl(e,n){e.l+=n}function Er(e){var n=yo(e);return Yl(n,0),n}function ia(){var e=[],n=ns?256:2048,t=function(_){var w=Er(_);return Yl(w,0),w},r=t(n),s=function(){!r||(r.length>r.l&&((r=r.slice(0,r.l)).l=r.length),r.length>0&&e.push(r),r=null)},o=function(_){return r&&_<r.length-r.l?r:(s(),r=t(Math.max(_+1,n)))};return{next:o,push:function(_){s(),null==(r=_).l&&(r.l=r.length),o(n)},end:function(){return s(),So(e)},_bufs:e}}function Yr(e,n,t,r){var o,s=+n;if(!isNaN(s)){r||(r=A1[s].p||(t||[]).length||0),o=1+(s>=128?1:0)+1,r>=128&&++o,r>=16384&&++o,r>=2097152&&++o;var d=e.next(o);s<=127?d.write_shift(1,s):(d.write_shift(1,128+(127&s)),d.write_shift(1,s>>7));for(var g=0;4!=g;++g){if(!(r>=128)){d.write_shift(1,r);break}d.write_shift(1,128+(127&r)),r>>=7}r>0&&Os(t)&&e.push(t)}}function Yh(e,n,t){var r=ao(e);if(n.s?(r.cRel&&(r.c+=n.s.c),r.rRel&&(r.r+=n.s.r)):(r.cRel&&(r.c+=n.c),r.rRel&&(r.r+=n.r)),!t||t.biff<12){for(;r.c>=256;)r.c-=256;for(;r.r>=65536;)r.r-=65536}return r}function cv(e,n,t){var r=ao(e);return r.s=Yh(r.s,n.s,t),r.e=Yh(r.e,n.s,t),r}function Iu(e,n){if(e.cRel&&e.c<0)for(e=ao(e);e.c<0;)e.c+=n>8?16384:256;if(e.rRel&&e.r<0)for(e=ao(e);e.r<0;)e.r+=n>8?1048576:n>5?65536:16384;var t=Gi(e);return!e.cRel&&null!=e.cRel&&(t=function vc(e){return e.replace(/^([A-Z])/,"$$$1")}(t)),!e.rRel&&null!=e.rRel&&(t=function ab(e){return e.replace(/([A-Z]|^)(\d+)$/,"$1$$$2")}(t)),t}function uv(e,n){return 0!=e.s.r||e.s.rRel||e.e.r!=(n.biff>=12?1048575:n.biff>=8?65536:16384)||e.e.rRel?0!=e.s.c||e.s.cRel||e.e.c!=(n.biff>=12?16383:255)||e.e.cRel?Iu(e.s,n.biff)+":"+Iu(e.e,n.biff):(e.s.rRel?"":"$")+El(e.s.r)+":"+(e.e.rRel?"":"$")+El(e.e.r):(e.s.cRel?"":"$")+Mo(e.s.c)+":"+(e.e.cRel?"":"$")+Mo(e.e.c)}function kp(e){return parseInt(function Js(e){return e.replace(/\$(\d+)$/,"$1")}(e),10)-1}function El(e){return""+(e+1)}function bx(e){for(var n=function Pp(e){return e.replace(/^\$([A-Z])/,"$1")}(e),t=0,r=0;r!==n.length;++r)t=26*t+n.charCodeAt(r)-64;return t-1}function Mo(e){if(e<0)throw new Error("invalid column "+e);var n="";for(++e;e;e=Math.floor((e-1)/26))n=String.fromCharCode((e-1)%26+65)+n;return n}function ul(e){for(var n=0,t=0,r=0;r<e.length;++r){var s=e.charCodeAt(r);s>=48&&s<=57?n=10*n+(s-48):s>=65&&s<=90&&(t=26*t+(s-64))}return{c:t-1,r:n-1}}function Gi(e){for(var n=e.c+1,t="";n;n=(n-1)/26|0)t=String.fromCharCode((n-1)%26+65)+t;return t+(e.r+1)}function Kl(e){var n=e.indexOf(":");return-1==n?{s:ul(e),e:ul(e)}:{s:ul(e.slice(0,n)),e:ul(e.slice(n+1))}}function ks(e,n){return void 0===n||"number"==typeof n?ks(e.s,e.e):("string"!=typeof e&&(e=Gi(e)),"string"!=typeof n&&(n=Gi(n)),e==n?e:e+":"+n)}function go(e){var n={s:{c:0,r:0},e:{c:0,r:0}},t=0,r=0,s=0,o=e.length;for(t=0;r<o&&!((s=e.charCodeAt(r)-64)<1||s>26);++r)t=26*t+s;for(n.s.c=--t,t=0;r<o&&!((s=e.charCodeAt(r)-48)<0||s>9);++r)t=10*t+s;if(n.s.r=--t,r===o||10!=s)return n.e.c=n.s.c,n.e.r=n.s.r,n;for(++r,t=0;r!=o&&!((s=e.charCodeAt(r)-64)<1||s>26);++r)t=26*t+s;for(n.e.c=--t,t=0;r!=o&&!((s=e.charCodeAt(r)-48)<0||s>9);++r)t=10*t+s;return n.e.r=--t,n}function Kh(e,n,t){return null==e||null==e.t||"z"==e.t?"":void 0!==e.w?e.w:("d"==e.t&&!e.z&&t&&t.dateNF&&(e.z=t.dateNF),"e"==e.t?Qh[e.v]||e.v:function py(e,n){var t="d"==e.t&&n instanceof Date;if(null!=e.z)try{return e.w=fc(e.z,t?xa(n):n)}catch(r){}try{return e.w=fc((e.XF||{}).numFmtId||(t?14:0),t?xa(n):n)}catch(r){return""+n}}(e,null==n?e.v:n))}function Xf(e,n){var t=n&&n.sheet?n.sheet:"Sheet1",r={};return r[t]=e,{SheetNames:[t],Sheets:r}}function gy(e,n,t){var r=t||{},s=e?Array.isArray(e):r.dense,o=e||(s?[]:{}),d=0,g=0;if(o&&null!=r.origin){if("number"==typeof r.origin)d=r.origin;else{var m="string"==typeof r.origin?ul(r.origin):r.origin;d=m.r,g=m.c}o["!ref"]||(o["!ref"]="A1:A1")}var _={s:{c:1e7,r:1e7},e:{c:0,r:0}};if(o["!ref"]){var w=go(o["!ref"]);_.s.c=w.s.c,_.s.r=w.s.r,_.e.c=Math.max(_.e.c,w.e.c),_.e.r=Math.max(_.e.r,w.e.r),-1==d&&(_.e.r=d=w.e.r+1)}for(var A=0;A!=n.length;++A)if(n[A]){if(!Array.isArray(n[A]))throw new Error("aoa_to_sheet expects an array of arrays");for(var N=0;N!=n[A].length;++N)if(void 0!==n[A][N]){var D={v:n[A][N]},ee=d+A,B=g+N;if(_.s.r>ee&&(_.s.r=ee),_.s.c>B&&(_.s.c=B),_.e.r<ee&&(_.e.r=ee),_.e.c<B&&(_.e.c=B),!n[A][N]||"object"!=typeof n[A][N]||Array.isArray(n[A][N])||n[A][N]instanceof Date)if(Array.isArray(D.v)&&(D.f=n[A][N][1],D.v=D.v[0]),null===D.v)if(D.f)D.t="n";else if(r.nullError)D.t="e",D.v=0;else{if(!r.sheetStubs)continue;D.t="z"}else"number"==typeof D.v?D.t="n":"boolean"==typeof D.v?D.t="b":D.v instanceof Date?(D.z=r.dateNF||ts[14],r.cellDates?(D.t="d",D.w=fc(D.z,xa(D.v))):(D.t="n",D.v=xa(D.v),D.w=fc(D.z,D.v))):D.t="s";else D=n[A][N];if(s)o[ee]||(o[ee]=[]),o[ee][B]&&o[ee][B].z&&(D.z=o[ee][B].z),o[ee][B]=D;else{var he=Gi({c:B,r:ee});o[he]&&o[he].z&&(D.z=o[he].z),o[he]=D}}}return _.s.c<1e7&&(o["!ref"]=ks(_)),o}function Sd(e,n){return gy(null,e,n)}function Xh(e,n){return n||(n=Er(4)),n.write_shift(4,e),n}function Po(e){var n=e.read_shift(4);return 0===n?"":e.read_shift(n,"dbcs")}function Tl(e,n){var t=!1;return null==n&&(t=!0,n=Er(4+2*e.length)),n.write_shift(4,e.length),e.length>0&&n.write_shift(0,e,"dbcs"),t?n.slice(0,n.l):n}function Ex(e){return{ich:e.read_shift(2),ifnt:e.read_shift(2)}}function Du(e,n){var t=e.l,r=e.read_shift(1),s=Po(e),o=[],d={t:s,h:s};if(0!=(1&r)){for(var g=e.read_shift(4),m=0;m!=g;++m)o.push(Ex(e));d.r=o}else d.r=[{ich:0,ifnt:0}];return e.l=t+n,d}var Tx=Du;function sh(e){var n=e.read_shift(4),t=e.read_shift(2);return t+=e.read_shift(1)<<16,e.l++,{c:n,iStyleRef:t}}function Qf(e,n){return null==n&&(n=Er(8)),n.write_shift(-4,e.c),n.write_shift(3,e.iStyleRef||e.s),n.write_shift(1,0),n}function ep(e){var n=e.read_shift(2);return n+=e.read_shift(1)<<16,e.l++,{c:-1,iStyleRef:n}}function Np(e,n){return null==n&&(n=Er(4)),n.write_shift(3,e.iStyleRef||e.s),n.write_shift(1,0),n}var lb=Po,Mp=Tl;function qg(e){var n=e.read_shift(4);return 0===n||4294967295===n?"":e.read_shift(n,"dbcs")}function hv(e,n){var t=!1;return null==n&&(t=!0,n=Er(127)),n.write_shift(4,e.length>0?e.length:4294967295),e.length>0&&n.write_shift(0,e,"dbcs"),t?n.slice(0,n.l):n}var Cx=Po,dv=qg,fv=hv;function yy(e){var n=e.slice(e.l,e.l+4),t=1&n[0],r=2&n[0];e.l+=4;var s=0===r?Yi([0,0,0,0,252&n[0],n[1],n[2],n[3]],0):$h(n,0)>>2;return t?s/100:s}function pv(e,n){null==n&&(n=Er(4));var t=0,r=0,s=100*e;if(e==(0|e)&&e>=-(1<<29)&&e<1<<29?r=1:s==(0|s)&&s>=-(1<<29)&&s<1<<29&&(r=1,t=1),!r)throw new Error("unsupported RkNumber "+e);n.write_shift(-4,((t?s:e)<<2)+(t+2))}function Sx(e){var n={s:{},e:{}};return n.s.r=e.read_shift(4),n.e.r=e.read_shift(4),n.s.c=e.read_shift(4),n.e.c=e.read_shift(4),n}var Ul=Sx,Ad=function R0(e,n){return n||(n=Er(16)),n.write_shift(4,e.s.r),n.write_shift(4,e.e.r),n.write_shift(4,e.s.c),n.write_shift(4,e.e.c),n};function du(e){if(e.length-e.l<8)throw"XLS Xnum Buffer underflow";return e.read_shift(8,"f")}function tp(e,n){return(n||Er(8)).write_shift(8,e,"f")}function ku(e,n){if(n||(n=Er(8)),!e||e.auto)return n.write_shift(4,0),n.write_shift(4,0),n;null!=e.index?(n.write_shift(1,2),n.write_shift(1,e.index)):null!=e.theme?(n.write_shift(1,6),n.write_shift(1,e.theme)):(n.write_shift(1,5),n.write_shift(1,0));var t=e.tint||0;if(t>0?t*=32767:t<0&&(t*=32768),n.write_shift(2,t),e.rgb&&null==e.theme){var r=e.rgb||"FFFFFF";"number"==typeof r&&(r=("000000"+r.toString(16)).slice(-6)),n.write_shift(1,parseInt(r.slice(0,2),16)),n.write_shift(1,parseInt(r.slice(2,4),16)),n.write_shift(1,parseInt(r.slice(4,6),16)),n.write_shift(1,255)}else n.write_shift(2,0),n.write_shift(1,0),n.write_shift(1,0);return n}var Ey={1:{n:"CodePage",t:2},2:{n:"Category",t:80},3:{n:"PresentationFormat",t:80},4:{n:"ByteCount",t:3},5:{n:"LineCount",t:3},6:{n:"ParagraphCount",t:3},7:{n:"SlideCount",t:3},8:{n:"NoteCount",t:3},9:{n:"HiddenCount",t:3},10:{n:"MultimediaClipCount",t:3},11:{n:"ScaleCrop",t:11},12:{n:"HeadingPairs",t:4108},13:{n:"TitlesOfParts",t:4126},14:{n:"Manager",t:80},15:{n:"Company",t:80},16:{n:"LinksUpToDate",t:11},17:{n:"CharacterCount",t:3},19:{n:"SharedDoc",t:11},22:{n:"HyperlinksChanged",t:11},23:{n:"AppVersion",t:3,p:"version"},24:{n:"DigSig",t:65},26:{n:"ContentType",t:80},27:{n:"ContentStatus",t:80},28:{n:"Language",t:80},29:{n:"Version",t:80},255:{},2147483648:{n:"Locale",t:19},2147483651:{n:"Behavior",t:19},1919054434:{}},Ty={1:{n:"CodePage",t:2},2:{n:"Title",t:80},3:{n:"Subject",t:80},4:{n:"Author",t:80},5:{n:"Keywords",t:80},6:{n:"Comments",t:80},7:{n:"Template",t:80},8:{n:"LastAuthor",t:80},9:{n:"RevNumber",t:80},10:{n:"EditTime",t:64},11:{n:"LastPrinted",t:64},12:{n:"CreatedDate",t:64},13:{n:"ModifiedDate",t:64},14:{n:"PageCount",t:3},15:{n:"WordCount",t:3},16:{n:"CharCount",t:3},17:{n:"Thumbnail",t:71},18:{n:"Application",t:80},19:{n:"DocSecurity",t:3},255:{},2147483648:{n:"Locale",t:19},2147483651:{n:"Behavior",t:19},1919054434:{}};function Sy(e){return e.map(function(n){return[n>>16&255,n>>8&255,255&n]})}var Fp=ao(Sy([0,16777215,16711680,65280,255,16776960,16711935,65535,0,16777215,16711680,65280,255,16776960,16711935,65535,8388608,32768,128,8421376,8388736,32896,12632256,8421504,10066431,10040166,16777164,13434879,6684774,16744576,26316,13421823,128,16711935,16776960,65535,8388736,8388608,32896,255,52479,13434879,13434828,16777113,10079487,16751052,13408767,16764057,3368703,3394764,10079232,16763904,16750848,16737792,6710937,9868950,13158,3381606,13056,3355392,10040064,10040166,3355545,3355443,16777215,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0])),Qh={0:"#NULL!",7:"#DIV/0!",15:"#VALUE!",23:"#REF!",29:"#NAME?",36:"#NUM!",42:"#N/A",43:"#GETTING_DATA",255:"#WTF?"},B0={"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml":"workbooks","application/vnd.ms-excel.sheet.macroEnabled.main+xml":"workbooks","application/vnd.ms-excel.sheet.binary.macroEnabled.main":"workbooks","application/vnd.ms-excel.addin.macroEnabled.main+xml":"workbooks","application/vnd.openxmlformats-officedocument.spreadsheetml.template.main+xml":"workbooks","application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml":"sheets","application/vnd.ms-excel.worksheet":"sheets","application/vnd.ms-excel.binIndexWs":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.chartsheet+xml":"charts","application/vnd.ms-excel.chartsheet":"charts","application/vnd.ms-excel.macrosheet+xml":"macros","application/vnd.ms-excel.macrosheet":"macros","application/vnd.ms-excel.intlmacrosheet":"TODO","application/vnd.ms-excel.binIndexMs":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.dialogsheet+xml":"dialogs","application/vnd.ms-excel.dialogsheet":"dialogs","application/vnd.openxmlformats-officedocument.spreadsheetml.sharedStrings+xml":"strs","application/vnd.ms-excel.sharedStrings":"strs","application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml":"styles","application/vnd.ms-excel.styles":"styles","application/vnd.openxmlformats-package.core-properties+xml":"coreprops","application/vnd.openxmlformats-officedocument.custom-properties+xml":"custprops","application/vnd.openxmlformats-officedocument.extended-properties+xml":"extprops","application/vnd.openxmlformats-officedocument.customXmlProperties+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.customProperty":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.comments+xml":"comments","application/vnd.ms-excel.comments":"comments","application/vnd.ms-excel.threadedcomments+xml":"threadedcomments","application/vnd.ms-excel.person+xml":"people","application/vnd.openxmlformats-officedocument.spreadsheetml.sheetMetadata+xml":"metadata","application/vnd.ms-excel.sheetMetadata":"metadata","application/vnd.ms-excel.pivotTable":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotTable+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.chart+xml":"TODO","application/vnd.ms-office.chartcolorstyle+xml":"TODO","application/vnd.ms-office.chartstyle+xml":"TODO","application/vnd.ms-office.chartex+xml":"TODO","application/vnd.ms-excel.calcChain":"calcchains","application/vnd.openxmlformats-officedocument.spreadsheetml.calcChain+xml":"calcchains","application/vnd.openxmlformats-officedocument.spreadsheetml.printerSettings":"TODO","application/vnd.ms-office.activeX":"TODO","application/vnd.ms-office.activeX+xml":"TODO","application/vnd.ms-excel.attachedToolbars":"TODO","application/vnd.ms-excel.connections":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.connections+xml":"TODO","application/vnd.ms-excel.externalLink":"links","application/vnd.openxmlformats-officedocument.spreadsheetml.externalLink+xml":"links","application/vnd.ms-excel.pivotCacheDefinition":"TODO","application/vnd.ms-excel.pivotCacheRecords":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotCacheDefinition+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotCacheRecords+xml":"TODO","application/vnd.ms-excel.queryTable":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.queryTable+xml":"TODO","application/vnd.ms-excel.userNames":"TODO","application/vnd.ms-excel.revisionHeaders":"TODO","application/vnd.ms-excel.revisionLog":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.revisionHeaders+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.revisionLog+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.userNames+xml":"TODO","application/vnd.ms-excel.tableSingleCells":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.tableSingleCells+xml":"TODO","application/vnd.ms-excel.slicer":"TODO","application/vnd.ms-excel.slicerCache":"TODO","application/vnd.ms-excel.slicer+xml":"TODO","application/vnd.ms-excel.slicerCache+xml":"TODO","application/vnd.ms-excel.wsSortMap":"TODO","application/vnd.ms-excel.table":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.table+xml":"TODO","application/vnd.openxmlformats-officedocument.theme+xml":"themes","application/vnd.openxmlformats-officedocument.themeOverride+xml":"TODO","application/vnd.ms-excel.Timeline+xml":"TODO","application/vnd.ms-excel.TimelineCache+xml":"TODO","application/vnd.ms-office.vbaProject":"vba","application/vnd.ms-office.vbaProjectSignature":"TODO","application/vnd.ms-office.volatileDependencies":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.volatileDependencies+xml":"TODO","application/vnd.ms-excel.controlproperties+xml":"TODO","application/vnd.openxmlformats-officedocument.model+data":"TODO","application/vnd.ms-excel.Survey+xml":"TODO","application/vnd.openxmlformats-officedocument.drawing+xml":"drawings","application/vnd.openxmlformats-officedocument.drawingml.chartshapes+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramColors+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramData+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramLayout+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramStyle+xml":"TODO","application/vnd.openxmlformats-officedocument.vmlDrawing":"TODO","application/vnd.openxmlformats-package.relationships+xml":"rels","application/vnd.openxmlformats-officedocument.oleObject":"TODO","image/png":"TODO",sheet:"js"},Th={workbooks:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml",xlsm:"application/vnd.ms-excel.sheet.macroEnabled.main+xml",xlsb:"application/vnd.ms-excel.sheet.binary.macroEnabled.main",xlam:"application/vnd.ms-excel.addin.macroEnabled.main+xml",xltx:"application/vnd.openxmlformats-officedocument.spreadsheetml.template.main+xml"},strs:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sharedStrings+xml",xlsb:"application/vnd.ms-excel.sharedStrings"},comments:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.comments+xml",xlsb:"application/vnd.ms-excel.comments"},sheets:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml",xlsb:"application/vnd.ms-excel.worksheet"},charts:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.chartsheet+xml",xlsb:"application/vnd.ms-excel.chartsheet"},dialogs:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.dialogsheet+xml",xlsb:"application/vnd.ms-excel.dialogsheet"},macros:{xlsx:"application/vnd.ms-excel.macrosheet+xml",xlsb:"application/vnd.ms-excel.macrosheet"},metadata:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheetMetadata+xml",xlsb:"application/vnd.ms-excel.sheetMetadata"},styles:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml",xlsb:"application/vnd.ms-excel.styles"}};function Ay(e,n){var s,t=function al(e){for(var n=[],t=_a(e),r=0;r!==t.length;++r)null==n[e[t[r]]]&&(n[e[t[r]]]=[]),n[e[t[r]]].push(t[r]);return n}(B0),r=[];r[r.length]=Ma,r[r.length]=hi("Types",null,{xmlns:"http://schemas.openxmlformats.org/package/2006/content-types","xmlns:xsd":"http://www.w3.org/2001/XMLSchema","xmlns:xsi":ll_xsi}),r=r.concat([["xml","application/xml"],["bin","application/vnd.ms-excel.sheet.binary.macroEnabled.main"],["vml","application/vnd.openxmlformats-officedocument.vmlDrawing"],["data","application/vnd.openxmlformats-officedocument.model+data"],["bmp","image/bmp"],["png","image/png"],["gif","image/gif"],["emf","image/x-emf"],["wmf","image/x-wmf"],["jpg","image/jpeg"],["jpeg","image/jpeg"],["tif","image/tiff"],["tiff","image/tiff"],["pdf","application/pdf"],["rels","application/vnd.openxmlformats-package.relationships+xml"]].map(function(m){return hi("Default",null,{Extension:m[0],ContentType:m[1]})}));var o=function(m){e[m]&&e[m].length>0&&(r[r.length]=hi("Override",null,{PartName:("/"==(s=e[m][0])[0]?"":"/")+s,ContentType:Th[m][n.bookType]||Th[m].xlsx}))},d=function(m){(e[m]||[]).forEach(function(_){r[r.length]=hi("Override",null,{PartName:("/"==_[0]?"":"/")+_,ContentType:Th[m][n.bookType]||Th[m].xlsx})})},g=function(m){(e[m]||[]).forEach(function(_){r[r.length]=hi("Override",null,{PartName:("/"==_[0]?"":"/")+_,ContentType:t[m][0]})})};return o("workbooks"),d("sheets"),d("charts"),g("themes"),["strs","styles"].forEach(o),["coreprops","extprops","custprops"].forEach(g),g("vba"),g("comments"),g("threadedcomments"),g("drawings"),d("metadata"),g("people"),r.length>2&&(r[r.length]="</Types>",r[1]=r[1].replace("/>",">")),r.join("")}var Ss={WB:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/officeDocument",SHEET:"http://sheetjs.openxmlformats.org/officeDocument/2006/relationships/officeDocument",HLINK:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/hyperlink",VML:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/vmlDrawing",XPATH:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/externalLinkPath",XMISS:"http://schemas.microsoft.com/office/2006/relationships/xlExternalLinkPath/xlPathMissing",XLINK:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/externalLink",CXML:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/customXml",CXMLP:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/customXmlProps",CMNT:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/comments",CORE_PROPS:"http://schemas.openxmlformats.org/package/2006/relationships/metadata/core-properties",EXT_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/extended-properties",CUST_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/custom-properties",SST:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/sharedStrings",STY:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/styles",THEME:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/theme",CHART:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/chart",CHARTEX:"http://schemas.microsoft.com/office/2014/relationships/chartEx",CS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/chartsheet",WS:["http://schemas.openxmlformats.org/officeDocument/2006/relationships/worksheet","http://purl.oclc.org/ooxml/officeDocument/relationships/worksheet"],DS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/dialogsheet",MS:"http://schemas.microsoft.com/office/2006/relationships/xlMacrosheet",IMG:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/image",DRAW:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/drawing",XLMETA:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/sheetMetadata",TCMNT:"http://schemas.microsoft.com/office/2017/10/relationships/threadedComment",PEOPLE:"http://schemas.microsoft.com/office/2017/10/relationships/person",VBA:"http://schemas.microsoft.com/office/2006/relationships/vbaProject"};function V0(e){var n=e.lastIndexOf("/");return e.slice(0,n+1)+"_rels/"+e.slice(n+1)+".rels"}function oh(e){var n=[Ma,hi("Relationships",null,{xmlns:"http://schemas.openxmlformats.org/package/2006/relationships"})];return _a(e["!id"]).forEach(function(t){n[n.length]=hi("Relationship",null,e["!id"][t])}),n.length>2&&(n[n.length]="</Relationships>",n[1]=n[1].replace("/>",">")),n.join("")}function uo(e,n,t,r,s,o){if(s||(s={}),e["!id"]||(e["!id"]={}),e["!idx"]||(e["!idx"]=1),n<0)for(n=e["!idx"];e["!id"]["rId"+n];++n);if(e["!idx"]=n+1,s.Id="rId"+n,s.Type=r,s.Target=t,o?s.TargetMode=o:[Ss.HLINK,Ss.XPATH,Ss.XMISS].indexOf(s.Type)>-1&&(s.TargetMode="External"),e["!id"][s.Id])throw new Error("Cannot rewrite rId "+n);return e["!id"][s.Id]=s,e[("/"+s.Target).replace("//","/")]=s,n}function Rp(e,n,t){return['  <rdf:Description rdf:about="'+e+'">\n','    <rdf:type rdf:resource="http://docs.oasis-open.org/ns/office/1.2/meta/'+(t||"odf")+"#"+n+'"/>\n',"  </rdf:Description>\n"].join("")}function yv(e,n){return['  <rdf:Description rdf:about="'+e+'">\n','    <ns0:hasPart xmlns:ns0="http://docs.oasis-open.org/ns/office/1.2/meta/pkg#" rdf:resource="'+n+'"/>\n',"  </rdf:Description>\n"].join("")}function xv(){return'<office:document-meta xmlns:office="urn:oasis:names:tc:opendocument:xmlns:office:1.0" xmlns:meta="urn:oasis:names:tc:opendocument:xmlns:meta:1.0" xmlns:dc="http://purl.org/dc/elements/1.1/" xmlns:xlink="http://www.w3.org/1999/xlink" office:version="1.2"><office:meta><meta:generator>SheetJS '+No_version+"</meta:generator></office:meta></office:document-meta>"}var ed=[["cp:category","Category"],["cp:contentStatus","ContentStatus"],["cp:keywords","Keywords"],["cp:lastModifiedBy","LastAuthor"],["cp:lastPrinted","LastPrinted"],["cp:revision","RevNumber"],["cp:version","Version"],["dc:creator","Author"],["dc:description","Comments"],["dc:identifier","Identifier"],["dc:language","Language"],["dc:subject","Subject"],["dc:title","Title"],["dcterms:created","CreatedDate","date"],["dcterms:modified","ModifiedDate","date"]];function Lp(e,n,t,r,s){null!=s[e]||null==n||""===n||(s[e]=n,n=ds(n),r[r.length]=t?hi(e,n,t):Oa(e,n))}function W0(e,n){var t=n||{},r=[Ma,hi("cp:coreProperties",null,{"xmlns:cp":"http://schemas.openxmlformats.org/package/2006/metadata/core-properties","xmlns:dc":"http://purl.org/dc/elements/1.1/","xmlns:dcterms":"http://purl.org/dc/terms/","xmlns:dcmitype":"http://purl.org/dc/dcmitype/","xmlns:xsi":ll_xsi})],s={};if(!e&&!t.Props)return r.join("");e&&(null!=e.CreatedDate&&Lp("dcterms:created","string"==typeof e.CreatedDate?e.CreatedDate:Gh(e.CreatedDate,t.WTF),{"xsi:type":"dcterms:W3CDTF"},r,s),null!=e.ModifiedDate&&Lp("dcterms:modified","string"==typeof e.ModifiedDate?e.ModifiedDate:Gh(e.ModifiedDate,t.WTF),{"xsi:type":"dcterms:W3CDTF"},r,s));for(var o=0;o!=ed.length;++o){var d=ed[o],g=t.Props&&null!=t.Props[d[1]]?t.Props[d[1]]:e?e[d[1]]:null;!0===g?g="1":!1===g?g="0":"number"==typeof g&&(g=String(g)),null!=g&&Lp(d[0],g,null,r,s)}return r.length>2&&(r[r.length]="</cp:coreProperties>",r[1]=r[1].replace("/>",">")),r.join("")}var ah=[["Application","Application","string"],["AppVersion","AppVersion","string"],["Company","Company","string"],["DocSecurity","DocSecurity","string"],["Manager","Manager","string"],["HyperlinksChanged","HyperlinksChanged","bool"],["SharedDoc","SharedDoc","bool"],["LinksUpToDate","LinksUpToDate","bool"],["ScaleCrop","ScaleCrop","bool"],["HeadingPairs","HeadingPairs","raw"],["TitlesOfParts","TitlesOfParts","raw"]],Dy=["Worksheets","SheetNames","NamedRanges","DefinedNames","Chartsheets","ChartNames"];function hb(e){var n=[],t=hi;return e||(e={}),e.Application="SheetJS",n[n.length]=Ma,n[n.length]=hi("Properties",null,{xmlns:"http://schemas.openxmlformats.org/officeDocument/2006/extended-properties","xmlns:vt":ll_vt}),ah.forEach(function(r){if(void 0!==e[r[1]]){var s;switch(r[2]){case"string":s=ds(String(e[r[1]]));break;case"bool":s=e[r[1]]?"true":"false"}void 0!==s&&(n[n.length]=t(r[0],s))}}),n[n.length]=t("HeadingPairs",t("vt:vector",t("vt:variant","<vt:lpstr>Worksheets</vt:lpstr>")+t("vt:variant",t("vt:i4",String(e.Worksheets))),{size:2,baseType:"variant"})),n[n.length]=t("TitlesOfParts",t("vt:vector",e.SheetNames.map(function(r){return"<vt:lpstr>"+ds(r)+"</vt:lpstr>"}).join(""),{size:e.Worksheets,baseType:"lpstr"})),n.length>2&&(n[n.length]="</Properties>",n[1]=n[1].replace("/>",">")),n.join("")}function yf(e){var n=[Ma,hi("Properties",null,{xmlns:"http://schemas.openxmlformats.org/officeDocument/2006/custom-properties","xmlns:vt":ll_vt})];if(!e)return n.join("");var t=1;return _a(e).forEach(function(s){++t,n[n.length]=hi("property",function ov(e,n){switch(typeof e){case"string":var t=hi("vt:lpwstr",ds(e));return n&&(t=t.replace(/&quot;/g,"_x0022_")),t;case"number":return hi((0|e)==e?"vt:i4":"vt:r8",ds(String(e)));case"boolean":return hi("vt:bool",e?"true":"false")}if(e instanceof Date)return hi("vt:filetime",Gh(e));throw new Error("Unable to serialize "+e)}(e[s],!0),{fmtid:"{D5CDD505-2E9C-101B-9397-08002B2CF9AE}",pid:t,name:ds(s)})}),n.length>2&&(n[n.length]="</Properties>",n[1]=n[1].replace("/>",">")),n.join("")}var _f={Title:"Title",Subject:"Subject",Author:"Author",Keywords:"Keywords",Comments:"Description",LastAuthor:"LastAuthor",RevNumber:"Revision",Application:"AppName",LastPrinted:"LastPrinted",CreatedDate:"Created",ModifiedDate:"LastSaved",Category:"Category",Manager:"Manager",Company:"Company",AppVersion:"Version",ContentStatus:"ContentStatus",Identifier:"Identifier",Language:"Language"};function Ny(e,n){var t=Er(4),r=Er(4);switch(t.write_shift(4,80==e?31:e),e){case 3:r.write_shift(-4,n);break;case 5:(r=Er(8)).write_shift(8,n,"f");break;case 11:r.write_shift(4,n?1:0);break;case 64:r=function fb(e){var t=("string"==typeof e?new Date(Date.parse(e)):e).getTime()/1e3+11644473600,r=t%Math.pow(2,32),s=(t-r)/Math.pow(2,32);s*=1e7;var o=(r*=1e7)/Math.pow(2,32)|0;o>0&&(r%=Math.pow(2,32),s+=o);var d=Er(8);return d.write_shift(4,r),d.write_shift(4,s),d}(n);break;case 31:case 80:for((r=Er(4+2*(n.length+1)+(n.length%2?0:2))).write_shift(4,n.length+1),r.write_shift(0,n,"dbcs");r.l!=r.length;)r.write_shift(1,0);break;default:throw new Error("TypedPropertyValue unrecognized type "+e+" "+n)}return So([t,r])}var kd=["CodePage","Thumbnail","_PID_LINKBASE","_PID_HLINKS","SystemIdentifier","FMTID"];function np(e){switch(typeof e){case"boolean":return 11;case"number":return(0|e)==e?3:5;case"string":return 31;case"object":if(e instanceof Date)return 64}return-1}function Ev(e,n,t){var r=Er(8),s=[],o=[],d=8,g=0,m=Er(8),_=Er(8);if(m.write_shift(4,2),m.write_shift(4,1200),_.write_shift(4,1),o.push(m),s.push(_),d+=8+m.length,!n){(_=Er(8)).write_shift(4,0),s.unshift(_);var w=[Er(4)];for(w[0].write_shift(4,e.length),g=0;g<e.length;++g){var A=e[g][0];for((m=Er(8+2*(A.length+1)+(A.length%2?0:2))).write_shift(4,g+2),m.write_shift(4,A.length+1),m.write_shift(0,A,"dbcs");m.l!=m.length;)m.write_shift(1,0);w.push(m)}m=So(w),o.unshift(m),d+=8+m.length}for(g=0;g<e.length;++g)if((!n||n[e[g][0]])&&!(kd.indexOf(e[g][0])>-1||Dy.indexOf(e[g][0])>-1)&&null!=e[g][1]){var N=e[g][1],D=0;if(n){var ee=t[D=+n[e[g][0]]];if("version"==ee.p&&"string"==typeof N){var B=N.split(".");N=(+B[0]<<16)+(+B[1]||0)}m=Ny(ee.t,N)}else{var he=np(N);-1==he&&(he=31,N=String(N)),m=Ny(he,N)}o.push(m),(_=Er(8)).write_shift(4,n?D:2+g),s.push(_),d+=8+m.length}var Pe=8*(o.length+1);for(g=0;g<o.length;++g)s[g].write_shift(4,Pe),Pe+=o[g].length;return r.write_shift(4,d),r.write_shift(4,o.length),So([r].concat(s).concat(o))}function Mx(e,n,t,r,s,o){var d=Er(s?68:48),g=[d];d.write_shift(2,65534),d.write_shift(2,0),d.write_shift(4,842412599),d.write_shift(16,qi.utils.consts.HEADER_CLSID,"hex"),d.write_shift(4,s?2:1),d.write_shift(16,n,"hex"),d.write_shift(4,s?68:48);var m=Ev(e,t,r);if(g.push(m),s){var _=Ev(s,null,null);d.write_shift(16,o,"hex"),d.write_shift(4,68+m.length),g.push(_)}return So(g)}function Xl(e,n){return n||(n=Er(2)),n.write_shift(2,+!!e),n}function hl(e){return e.read_shift(2,"u")}function Pu(e,n){return n||(n=Er(2)),n.write_shift(2,e),n}function My(e,n,t){return t||(t=Er(2)),t.write_shift(1,"e"==n?+e:+!!e),t.write_shift(1,"e"==n?1:0),t}function rd(e,n,t){var r=e.read_shift(t&&t.biff>=12?2:1),s="sbcs-cont",o=Es;t&&t.biff>=8&&(Es=1200),t&&8!=t.biff?12==t.biff&&(s="wstr"):e.read_shift(1)&&(s="dbcs-cont"),t.biff>=2&&t.biff<=5&&(s="cpstr");var g=r?e.read_shift(r,s):"";return Es=o,g}function Oy(e){var n=e.t||"",r=Er(3);r.write_shift(2,n.length),r.write_shift(1,1);var s=Er(2*n.length);return s.write_shift(2*n.length,n,"utf16le"),So([r,s])}function Fy(e,n,t){return t||(t=Er(3+2*e.length)),t.write_shift(2,e.length),t.write_shift(1,1),t.write_shift(31,e,"utf16le"),t}function gb(e,n){n||(n=Er(6+2*e.length)),n.write_shift(4,1+e.length);for(var t=0;t<e.length;++t)n.write_shift(2,e.charCodeAt(t));return n.write_shift(2,0),n}function mb(e){var n=Er(512),t=0,r=e.Target;"file://"==r.slice(0,7)&&(r=r.slice(7));var s=r.indexOf("#"),o=s>-1?31:23;switch(r.charAt(0)){case"#":o=28;break;case".":o&=-3}n.write_shift(4,2),n.write_shift(4,o);var d=[8,6815827,6619237,4849780,83];for(t=0;t<d.length;++t)n.write_shift(4,d[t]);if(28==o)gb(r=r.slice(1),n);else if(2&o){for(d="e0 c9 ea 79 f9 ba ce 11 8c 82 00 aa 00 4b a9 0b".split(" "),t=0;t<d.length;++t)n.write_shift(1,parseInt(d[t],16));var g=s>-1?r.slice(0,s):r;for(n.write_shift(4,2*(g.length+1)),t=0;t<g.length;++t)n.write_shift(2,g.charCodeAt(t));n.write_shift(2,0),8&o&&gb(s>-1?r.slice(s+1):"",n)}else{for(d="03 03 00 00 00 00 00 00 c0 00 00 00 00 00 00 46".split(" "),t=0;t<d.length;++t)n.write_shift(1,parseInt(d[t],16));for(var m=0;"../"==r.slice(3*m,3*m+3)||"..\\"==r.slice(3*m,3*m+3);)++m;for(n.write_shift(2,m),n.write_shift(4,r.length-3*m+1),t=0;t<r.length-3*m;++t)n.write_shift(1,255&r.charCodeAt(t+3*m));for(n.write_shift(1,0),n.write_shift(2,65535),n.write_shift(2,57005),t=0;t<6;++t)n.write_shift(4,0)}return n.slice(0,n.l)}function Vp(e,n,t,r){return r||(r=Er(6)),r.write_shift(2,e),r.write_shift(2,n),r.write_shift(2,t||0),r}function Hp(e,n,t){var r=t.biff>8?4:2;return[e.read_shift(r),e.read_shift(r,"i"),e.read_shift(r,"i")]}function rp(e){var n=e.read_shift(2),t=e.read_shift(2);return{s:{c:e.read_shift(2),r:n},e:{c:e.read_shift(2),r:t}}}function Av(e,n){return n||(n=Er(8)),n.write_shift(2,e.s.r),n.write_shift(2,e.e.r),n.write_shift(2,e.s.c),n.write_shift(2,e.e.c),n}function ip(e,n,t){var r=1536,s=16;switch(t.bookType){case"biff8":case"xla":break;case"biff5":r=1280,s=8;break;case"biff4":r=4,s=6;break;case"biff3":r=3,s=6;break;case"biff2":r=2,s=4;break;default:throw new Error("unsupported BIFF version")}var o=Er(s);return o.write_shift(2,r),o.write_shift(2,n),s>4&&o.write_shift(2,29282),s>6&&o.write_shift(2,1997),s>8&&(o.write_shift(2,49161),o.write_shift(2,1),o.write_shift(2,1798),o.write_shift(2,0)),o}function Wp(e,n){var t=!n||n.biff>=8?2:1,r=Er(8+t*e.name.length);r.write_shift(4,e.pos),r.write_shift(1,e.hs||0),r.write_shift(1,e.dt),r.write_shift(1,e.name.length),n.biff>=8&&r.write_shift(1,1),r.write_shift(t*e.name.length,e.name,n.biff<8?"sbcs":"utf16le");var s=r.slice(0,r.l);return s.l=r.l,s}function Tb(e,n,t,r){var s=t&&5==t.biff;r||(r=Er(s?3+n.length:5+2*n.length)),r.write_shift(2,e),r.write_shift(s?1:2,n.length),s||r.write_shift(1,1),r.write_shift((s?1:2)*n.length,n,s?"sbcs":"utf16le");var o=r.length>r.l?r.slice(0,r.l):r;return null==o.l&&(o.l=o.length),o}function zx(e,n,t,r){var s=t&&5==t.biff;r||(r=Er(s?16:20)),r.write_shift(2,0),e.style?(r.write_shift(2,e.numFmtId||0),r.write_shift(2,65524)):(r.write_shift(2,e.numFmtId||0),r.write_shift(2,n<<4));var o=0;return e.numFmtId>0&&s&&(o|=1024),r.write_shift(4,o),r.write_shift(4,0),s||r.write_shift(4,0),r.write_shift(2,0),r}function Db(e){var n=Er(24),t=ul(e[0]);n.write_shift(2,t.r),n.write_shift(2,t.r),n.write_shift(2,t.c),n.write_shift(2,t.c);for(var r="d0 c9 ea 79 f9 ba ce 11 8c 82 00 aa 00 4b a9 0b".split(" "),s=0;s<16;++s)n.write_shift(1,parseInt(r[s],16));return So([n,mb(e[1])])}function sm(e){var n=e[1].Tooltip,t=Er(10+2*(n.length+1));t.write_shift(2,2048);var r=ul(e[0]);t.write_shift(2,r.r),t.write_shift(2,r.r),t.write_shift(2,r.c),t.write_shift(2,r.c);for(var s=0;s<n.length;++s)t.write_shift(2,n.charCodeAt(s));return t.write_shift(2,0),t}var i_=function(){var e={1:437,2:850,3:1252,4:1e4,100:852,101:866,102:865,103:861,104:895,105:620,106:737,107:857,120:950,121:949,122:936,123:932,124:874,125:1255,126:1256,150:10007,151:10029,152:10006,200:1250,201:1251,202:1254,203:1253,0:20127,8:865,9:437,10:850,11:437,13:437,14:850,15:437,16:850,17:437,18:850,19:932,20:850,21:437,22:850,23:865,24:437,25:437,26:850,27:437,28:863,29:850,31:852,34:852,35:852,36:860,37:850,38:866,55:850,64:852,77:936,78:949,79:950,80:874,87:1252,88:1252,89:1252,108:863,134:737,135:852,136:857,204:1257,255:16969},n=xl({1:437,2:850,3:1252,4:1e4,100:852,101:866,102:865,103:861,104:895,105:620,106:737,107:857,120:950,121:949,122:936,123:932,124:874,125:1255,126:1256,150:10007,151:10029,152:10006,200:1250,201:1251,202:1254,203:1253,0:20127});function r(g,m){var _=m||{};_.dateNF||(_.dateNF="yyyymmdd");var w=Sd(function t(g,m){var _=[],w=yo(1);switch(m.type){case"base64":w=Sc(Zl(g));break;case"binary":w=Sc(g);break;case"buffer":case"array":w=g}Yl(w,0);var A=w.read_shift(1),N=!!(136&A),D=!1,ee=!1;switch(A){case 2:case 3:case 131:case 139:case 245:break;case 48:case 49:D=!0,N=!0;break;case 140:ee=!0;break;default:throw new Error("DBF Unsupported Version: "+A.toString(16))}var B=0,he=521;2==A&&(B=w.read_shift(2)),w.l+=3,2!=A&&(B=w.read_shift(4)),B>1048576&&(B=1e6),2!=A&&(he=w.read_shift(2));var Pe=w.read_shift(2),je=m.codepage||1252;2!=A&&(w.l+=16,w.read_shift(1),0!==w[w.l]&&(je=e[w[w.l]]),w.l+=1,w.l+=2),ee&&(w.l+=36);for(var Xe=[],Vt={},Xt=Math.min(w.length,2==A?521:he-10-(D?264:0)),bn=ee?32:11;w.l<Xt&&13!=w[w.l];)switch(Vt={},Vt.name=Ts.utils.decode(je,w.slice(w.l,w.l+bn)).replace(/[\u0000\r\n].*$/g,""),w.l+=bn,Vt.type=String.fromCharCode(w.read_shift(1)),2!=A&&!ee&&(Vt.offset=w.read_shift(4)),Vt.len=w.read_shift(1),2==A&&(Vt.offset=w.read_shift(2)),Vt.dec=w.read_shift(1),Vt.name.length&&Xe.push(Vt),2!=A&&(w.l+=ee?13:14),Vt.type){case"B":(!D||8!=Vt.len)&&m.WTF&&console.log("Skipping "+Vt.name+":"+Vt.type);break;case"G":case"P":m.WTF&&console.log("Skipping "+Vt.name+":"+Vt.type);break;case"+":case"0":case"@":case"C":case"D":case"F":case"I":case"L":case"M":case"N":case"O":case"T":case"Y":break;default:throw new Error("Unknown Field Type: "+Vt.type)}if(13!==w[w.l]&&(w.l=he-1),13!==w.read_shift(1))throw new Error("DBF Terminator not found "+w.l+" "+w[w.l]);w.l=he;var At=0,St=0;for(_[0]=[],St=0;St!=Xe.length;++St)_[0][St]=Xe[St].name;for(;B-- >0;)if(42!==w[w.l])for(++w.l,_[++At]=[],St=0,St=0;St!=Xe.length;++St){var Jt=w.slice(w.l,w.l+Xe[St].len);w.l+=Xe[St].len,Yl(Jt,0);var gn=Ts.utils.decode(je,Jt);switch(Xe[St].type){case"C":gn.trim().length&&(_[At][St]=gn.replace(/\s+$/,""));break;case"D":_[At][St]=8===gn.length?new Date(+gn.slice(0,4),+gn.slice(4,6)-1,+gn.slice(6,8)):gn;break;case"F":_[At][St]=parseFloat(gn.trim());break;case"+":case"I":_[At][St]=ee?2147483648^Jt.read_shift(-4,"i"):Jt.read_shift(4,"i");break;case"L":switch(gn.trim().toUpperCase()){case"Y":case"T":_[At][St]=!0;break;case"N":case"F":_[At][St]=!1;break;case"":case"?":break;default:throw new Error("DBF Unrecognized L:|"+gn+"|")}break;case"M":if(!N)throw new Error("DBF Unexpected MEMO for type "+A.toString(16));_[At][St]="##MEMO##"+(ee?parseInt(gn.trim(),10):Jt.read_shift(4));break;case"N":(gn=gn.replace(/\u0000/g,"").trim())&&"."!=gn&&(_[At][St]=+gn||0);break;case"@":_[At][St]=new Date(Jt.read_shift(-8,"f")-621356832e5);break;case"T":_[At][St]=new Date(864e5*(Jt.read_shift(4)-2440588)+Jt.read_shift(4));break;case"Y":_[At][St]=Jt.read_shift(4,"i")/1e4+Jt.read_shift(4,"i")/1e4*Math.pow(2,32);break;case"O":_[At][St]=-Jt.read_shift(-8,"f");break;case"B":if(D&&8==Xe[St].len){_[At][St]=Jt.read_shift(8,"f");break}case"G":case"P":Jt.l+=Xe[St].len;break;case"0":if("_NullFlags"===Xe[St].name)break;default:throw new Error("DBF Unsupported data type "+Xe[St].type)}}else w.l+=Pe;if(2!=A&&w.l<w.length&&26!=w[w.l++])throw new Error("DBF EOF Marker missing "+(w.l-1)+" of "+w.length+" "+w[w.l-1].toString(16));return m&&m.sheetRows&&(_=_.slice(0,m.sheetRows)),m.DBF=Xe,_}(g,_),_);return w["!cols"]=_.DBF.map(function(A){return{wch:A.len,DBF:A}}),delete _.DBF,w}var o={B:8,C:250,L:1,D:8,"?":0,"":0};return{to_workbook:function s(g,m){try{return Xf(r(g,m),m)}catch(_){if(m&&m.WTF)throw _}return{SheetNames:[],Sheets:{}}},to_sheet:r,from_sheet:function d(g,m){var _=m||{};if(+_.codepage>=0&&Jo(+_.codepage),"string"==_.type)throw new Error("Cannot write DBF to JS string");var w=ia(),A=a2(g,{header:1,raw:!0,cellDates:!0}),N=A[0],D=A.slice(1),ee=g["!cols"]||[],B=0,he=0,Pe=0,je=1;for(B=0;B<N.length;++B)if(((ee[B]||{}).DBF||{}).name)N[B]=ee[B].DBF.name,++Pe;else if(null!=N[B]){if(++Pe,"number"==typeof N[B]&&(N[B]=N[B].toString(10)),"string"!=typeof N[B])throw new Error("DBF Invalid column name "+N[B]+" |"+typeof N[B]+"|");if(N.indexOf(N[B])!==B)for(he=0;he<1024;++he)if(-1==N.indexOf(N[B]+"_"+he)){N[B]+="_"+he;break}}var Xe=go(g["!ref"]),Vt=[],Xt=[],bn=[];for(B=0;B<=Xe.e.c-Xe.s.c;++B){var At="",St="",Jt=0,gn=[];for(he=0;he<D.length;++he)null!=D[he][B]&&gn.push(D[he][B]);if(0!=gn.length&&null!=N[B]){for(he=0;he<gn.length;++he){switch(typeof gn[he]){case"number":St="B";break;case"string":default:St="C";break;case"boolean":St="L";break;case"object":St=gn[he]instanceof Date?"D":"C"}Jt=Math.max(Jt,String(gn[he]).length),At=At&&At!=St?"C":St}Jt>250&&(Jt=250),"C"==(St=((ee[B]||{}).DBF||{}).type)&&ee[B].DBF.len>Jt&&(Jt=ee[B].DBF.len),"B"==At&&"N"==St&&(At="N",bn[B]=ee[B].DBF.dec,Jt=ee[B].DBF.len),Xt[B]="C"==At||"N"==St?Jt:o[At]||0,je+=Xt[B],Vt[B]=At}else Vt[B]="?"}var vt=w.next(32);for(vt.write_shift(4,318902576),vt.write_shift(4,D.length),vt.write_shift(2,296+32*Pe),vt.write_shift(2,je),B=0;B<4;++B)vt.write_shift(4,0);for(vt.write_shift(4,0|(+n[ua]||3)<<8),B=0,he=0;B<N.length;++B)if(null!=N[B]){var st=w.next(32),rn=(N[B].slice(-10)+"\0\0\0\0\0\0\0\0\0\0\0").slice(0,11);st.write_shift(1,rn,"sbcs"),st.write_shift(1,"?"==Vt[B]?"C":Vt[B],"sbcs"),st.write_shift(4,he),st.write_shift(1,Xt[B]||o[Vt[B]]||0),st.write_shift(1,bn[B]||0),st.write_shift(1,2),st.write_shift(4,0),st.write_shift(1,0),st.write_shift(4,0),st.write_shift(4,0),he+=Xt[B]||o[Vt[B]]||0}var tn=w.next(264);for(tn.write_shift(4,13),B=0;B<65;++B)tn.write_shift(4,0);for(B=0;B<D.length;++B){var Fn=w.next(je);for(Fn.write_shift(1,0),he=0;he<N.length;++he)if(null!=N[he])switch(Vt[he]){case"L":Fn.write_shift(1,null==D[B][he]?63:D[B][he]?84:70);break;case"B":Fn.write_shift(8,D[B][he]||0,"f");break;case"N":var Wn="0";for("number"==typeof D[B][he]&&(Wn=D[B][he].toFixed(bn[he]||0)),Pe=0;Pe<Xt[he]-Wn.length;++Pe)Fn.write_shift(1,32);Fn.write_shift(1,Wn,"sbcs");break;case"D":D[B][he]?(Fn.write_shift(4,("0000"+D[B][he].getFullYear()).slice(-4),"sbcs"),Fn.write_shift(2,("00"+(D[B][he].getMonth()+1)).slice(-2),"sbcs"),Fn.write_shift(2,("00"+D[B][he].getDate()).slice(-2),"sbcs")):Fn.write_shift(8,"00000000","sbcs");break;case"C":var Kn=String(null!=D[B][he]?D[B][he]:"").slice(0,Xt[he]);for(Fn.write_shift(1,Kn,"sbcs"),Pe=0;Pe<Xt[he]-Kn.length;++Pe)Fn.write_shift(1,32)}}return w.next(1).write_shift(1,26),w.end()}}}(),$x=function(){var e={AA:"\xc0",BA:"\xc1",CA:"\xc2",DA:195,HA:"\xc4",JA:197,AE:"\xc8",BE:"\xc9",CE:"\xca",HE:"\xcb",AI:"\xcc",BI:"\xcd",CI:"\xce",HI:"\xcf",AO:"\xd2",BO:"\xd3",CO:"\xd4",DO:213,HO:"\xd6",AU:"\xd9",BU:"\xda",CU:"\xdb",HU:"\xdc",Aa:"\xe0",Ba:"\xe1",Ca:"\xe2",Da:227,Ha:"\xe4",Ja:229,Ae:"\xe8",Be:"\xe9",Ce:"\xea",He:"\xeb",Ai:"\xec",Bi:"\xed",Ci:"\xee",Hi:"\xef",Ao:"\xf2",Bo:"\xf3",Co:"\xf4",Do:245,Ho:"\xf6",Au:"\xf9",Bu:"\xfa",Cu:"\xfb",Hu:"\xfc",KC:"\xc7",Kc:"\xe7",q:"\xe6",z:"\u0153",a:"\xc6",j:"\u0152",DN:209,Dn:241,Hy:255,S:169,c:170,R:174,"B ":180,0:176,1:177,2:178,3:179,5:181,6:182,7:183,Q:185,k:186,b:208,i:216,l:222,s:240,y:248,"!":161,'"':162,"#":163,"(":164,"%":165,"'":167,"H ":168,"+":171,";":187,"<":188,"=":189,">":190,"?":191,"{":223},n=new RegExp("\x1bN("+_a(e).join("|").replace(/\|\|\|/,"|\\||").replace(/([?()+])/g,"\\$1")+"|\\|)","gm"),t=function(N,D){var ee=e[D];return"number"==typeof ee?Gu(ee):ee},r=function(N,D,ee){var B=D.charCodeAt(0)-32<<4|ee.charCodeAt(0)-48;return 59==B?N:Gu(B)};function o(N,D){var vt,ee=N.split(/[\n\r]+/),B=-1,he=-1,Pe=0,je=0,Xe=[],Vt=[],Xt=null,bn={},At=[],St=[],Jt=[],gn=0;for(+D.codepage>=0&&Jo(+D.codepage);Pe!==ee.length;++Pe){gn=0;var Fn,st=ee[Pe].trim().replace(/\x1B([\x20-\x2F])([\x30-\x3F])/g,r).replace(n,t),rn=st.replace(/;;/g,"\0").split(";").map(function(_t){return _t.replace(/\u0000/g,";")});if(st.length>0)switch(rn[0]){case"ID":case"E":case"B":case"O":case"W":break;case"P":"P"==rn[1].charAt(0)&&Vt.push(st.slice(3).replace(/;;/g,";"));break;case"C":var Wn=!1,Kn=!1,Zn=!1,zn=!1,nr=-1,Qn=-1;for(je=1;je<rn.length;++je)switch(rn[je].charAt(0)){case"A":case"G":break;case"X":he=parseInt(rn[je].slice(1))-1,Kn=!0;break;case"Y":for(B=parseInt(rn[je].slice(1))-1,Kn||(he=0),vt=Xe.length;vt<=B;++vt)Xe[vt]=[];break;case"K":'"'===(Fn=rn[je].slice(1)).charAt(0)?Fn=Fn.slice(1,Fn.length-1):"TRUE"===Fn?Fn=!0:"FALSE"===Fn?Fn=!1:isNaN($a(Fn))?isNaN(hu(Fn).getDate())||(Fn=zo(Fn)):(Fn=$a(Fn),null!==Xt&&_h(Xt)&&(Fn=Vf(Fn))),Wn=!0;break;case"E":zn=!0;var Ie=Vd(rn[je].slice(1),{r:B,c:he});Xe[B][he]=[Xe[B][he],Ie];break;case"S":Zn=!0,Xe[B][he]=[Xe[B][he],"S5S"];break;case"R":nr=parseInt(rn[je].slice(1))-1;break;case"C":Qn=parseInt(rn[je].slice(1))-1;break;default:if(D&&D.WTF)throw new Error("SYLK bad record "+st)}if(Wn&&(Xe[B][he]&&2==Xe[B][he].length?Xe[B][he][0]=Fn:Xe[B][he]=Fn,Xt=null),Zn){if(zn)throw new Error("SYLK shared formula cannot have own formula");var bt=nr>-1&&Xe[nr][Qn];if(!bt||!bt[1])throw new Error("SYLK shared formula cannot find base");Xe[B][he][1]=ww(bt[1],{r:B-nr,c:he-Qn})}break;case"F":var ut=0;for(je=1;je<rn.length;++je)switch(rn[je].charAt(0)){case"X":he=parseInt(rn[je].slice(1))-1,++ut;break;case"Y":for(B=parseInt(rn[je].slice(1))-1,vt=Xe.length;vt<=B;++vt)Xe[vt]=[];break;case"M":gn=parseInt(rn[je].slice(1))/20;break;case"F":case"G":case"S":case"D":case"N":break;case"P":Xt=Vt[parseInt(rn[je].slice(1))];break;case"W":for(Jt=rn[je].slice(1).split(" "),vt=parseInt(Jt[0],10);vt<=parseInt(Jt[1],10);++vt)gn=parseInt(Jt[2],10),St[vt-1]=0===gn?{hidden:!0}:{wch:gn},ad(St[vt-1]);break;case"C":St[he=parseInt(rn[je].slice(1))-1]||(St[he]={});break;case"R":At[B=parseInt(rn[je].slice(1))-1]||(At[B]={}),gn>0?(At[B].hpt=gn,At[B].hpx=ld(gn)):0===gn&&(At[B].hidden=!0);break;default:if(D&&D.WTF)throw new Error("SYLK bad record "+st)}ut<1&&(Xt=null);break;default:if(D&&D.WTF)throw new Error("SYLK bad record "+st)}}return At.length>0&&(bn["!rows"]=At),St.length>0&&(bn["!cols"]=St),D&&D.sheetRows&&(Xe=Xe.slice(0,D.sheetRows)),[Xe,bn]}function d(N,D){var ee=function s(N,D){switch(D.type){case"base64":return o(Zl(N),D);case"binary":return o(N,D);case"buffer":return o(ns&&Buffer.isBuffer(N)?N.toString("binary"):Qc(N),D);case"array":return o(bh(N),D)}throw new Error("Unrecognized type "+D.type)}(N,D),he=ee[1],Pe=Sd(ee[0],D);return _a(he).forEach(function(je){Pe[je]=he[je]}),Pe}function m(N,D,ee,B){var he="C;Y"+(ee+1)+";X"+(B+1)+";K";switch(N.t){case"n":he+=N.v||0,N.f&&!N.F&&(he+=";E"+t0(N.f,{r:ee,c:B}));break;case"b":he+=N.v?"TRUE":"FALSE";break;case"e":he+=N.w||N.v;break;case"d":he+='"'+(N.w||N.v)+'"';break;case"s":he+='"'+N.v.replace(/"/g,"").replace(/;/g,";;")+'"'}return he}return e["|"]=254,{to_workbook:function g(N,D){return Xf(d(N,D),D)},to_sheet:d,from_sheet:function A(N,D){var Pe,ee=["ID;PWXL;N;E"],B=[],he=go(N["!ref"]),je=Array.isArray(N),Xe="\r\n";ee.push("P;PGeneral"),ee.push("F;P0;DG0G8;M255"),N["!cols"]&&function _(N,D){D.forEach(function(ee,B){var he="F;W"+(B+1)+" "+(B+1)+" ";ee.hidden?he+="0":("number"==typeof ee.width&&!ee.wpx&&(ee.wpx=Cf(ee.width)),"number"==typeof ee.wpx&&!ee.wch&&(ee.wch=Mu(ee.wpx)),"number"==typeof ee.wch&&(he+=Math.round(ee.wch)))," "!=he.charAt(he.length-1)&&N.push(he)})}(ee,N["!cols"]),N["!rows"]&&function w(N,D){D.forEach(function(ee,B){var he="F;";ee.hidden?he+="M0;":ee.hpt?he+="M"+20*ee.hpt+";":ee.hpx&&(he+="M"+20*Ld(ee.hpx)+";"),he.length>2&&N.push(he+"R"+(B+1))})}(ee,N["!rows"]),ee.push("B;Y"+(he.e.r-he.s.r+1)+";X"+(he.e.c-he.s.c+1)+";D"+[he.s.c,he.s.r,he.e.c,he.e.r].join(" "));for(var Vt=he.s.r;Vt<=he.e.r;++Vt)for(var Xt=he.s.c;Xt<=he.e.c;++Xt){var bn=Gi({r:Vt,c:Xt});(Pe=je?(N[Vt]||[])[Xt]:N[bn])&&(null!=Pe.v||Pe.f&&!Pe.F)&&B.push(m(Pe,0,Vt,Xt))}return ee.join(Xe)+Xe+B.join(Xe)+Xe+"E"+Xe}}}(),cm=function(){function n(o,d){for(var g=o.split("\n"),m=-1,_=-1,w=0,A=[];w!==g.length;++w)if("BOT"!==g[w].trim()){if(!(m<0)){for(var N=g[w].trim().split(","),D=N[0],ee=N[1],B=g[++w]||"";1&(B.match(/["]/g)||[]).length&&w<g.length-1;)B+="\n"+g[++w];switch(B=B.trim(),+D){case-1:if("BOT"===B){A[++m]=[],_=0;continue}if("EOD"!==B)throw new Error("Unrecognized DIF special command "+B);break;case 0:A[m][_]="TRUE"===B||"FALSE"!==B&&(isNaN($a(ee))?isNaN(hu(ee).getDate())?ee:zo(ee):$a(ee)),++_;break;case 1:(B=(B=B.slice(1,B.length-1)).replace(/""/g,'"'))&&B.match(/^=".*"$/)&&(B=B.slice(2,-1)),A[m][_++]=""!==B?B:null}if("EOD"===B)break}}else A[++m]=[],_=0;return d&&d.sheetRows&&(A=A.slice(0,d.sheetRows)),A}function t(o,d){return Sd(function e(o,d){switch(d.type){case"base64":return n(Zl(o),d);case"binary":return n(o,d);case"buffer":return n(ns&&Buffer.isBuffer(o)?o.toString("binary"):Qc(o),d);case"array":return n(bh(o),d)}throw new Error("Unrecognized type "+d.type)}(o,d),d)}return{to_workbook:function r(o,d){return Xf(t(o,d),d)},to_sheet:t,from_sheet:function(){var o=function(m,_,w,A,N){m.push(_),m.push(w+","+A),m.push('"'+N.replace(/"/g,'""')+'"')},d=function(m,_,w,A){m.push(_+","+w),m.push(1==_?'"'+A.replace(/"/g,'""')+'"':A)};return function(m){var A,_=[],w=go(m["!ref"]),N=Array.isArray(m);o(_,"TABLE",0,1,"sheetjs"),o(_,"VECTORS",0,w.e.r-w.s.r+1,""),o(_,"TUPLES",0,w.e.c-w.s.c+1,""),o(_,"DATA",0,0,"");for(var D=w.s.r;D<=w.e.r;++D){d(_,-1,0,"BOT");for(var ee=w.s.c;ee<=w.e.c;++ee){var B=Gi({r:D,c:ee});if(A=N?(m[D]||[])[ee]:m[B])switch(A.t){case"n":var he=A.w;!he&&null!=A.v&&(he=A.v),null==he?d(_,1,0,A.f&&!A.F?"="+A.f:""):d(_,0,he,"V");break;case"b":d(_,0,A.v?1:0,A.v?"TRUE":"FALSE");break;case"s":d(_,1,0,isNaN(A.v)?A.v:'="'+A.v+'"');break;case"d":A.w||(A.w=fc(A.z||ts[14],xa(zo(A.v)))),d(_,0,A.w,"V");break;default:d(_,1,0,"")}else d(_,1,0,"")}}return d(_,-1,0,"EOD"),_.join("\r\n")}}()}}(),Ef=function(){function e(A){return A.replace(/\\b/g,"\\").replace(/\\c/g,":").replace(/\\n/g,"\n")}function n(A){return A.replace(/\\/g,"\\b").replace(/:/g,"\\c").replace(/\n/g,"\\n")}function r(A,N){return Sd(function t(A,N){for(var D=A.split("\n"),ee=-1,B=-1,he=0,Pe=[];he!==D.length;++he){var je=D[he].trim().split(":");if("cell"===je[0]){var Xe=ul(je[1]);if(Pe.length<=Xe.r)for(ee=Pe.length;ee<=Xe.r;++ee)Pe[ee]||(Pe[ee]=[]);switch(ee=Xe.r,B=Xe.c,je[2]){case"t":Pe[ee][B]=e(je[3]);break;case"v":Pe[ee][B]=+je[3];break;case"vtf":var Vt=je[je.length-1];case"vtc":Pe[ee][B]="nl"===je[3]?!!+je[4]:+je[4],"vtf"==je[2]&&(Pe[ee][B]=[Pe[ee][B],Vt])}}}return N&&N.sheetRows&&(Pe=Pe.slice(0,N.sheetRows)),Pe}(A,N),N)}var o=["socialcalc:version:1.5","MIME-Version: 1.0","Content-Type: multipart/mixed; boundary=SocialCalcSpreadsheetControlSave"].join("\n"),d=["--SocialCalcSpreadsheetControlSave","Content-type: text/plain; charset=UTF-8"].join("\n")+"\n",g=["# SocialCalc Spreadsheet Control Save","part:sheet"].join("\n"),m="--SocialCalcSpreadsheetControlSave--";function _(A){if(!A||!A["!ref"])return"";for(var ee,N=[],D=[],B="",he=Kl(A["!ref"]),Pe=Array.isArray(A),je=he.s.r;je<=he.e.r;++je)for(var Xe=he.s.c;Xe<=he.e.c;++Xe)if(B=Gi({r:je,c:Xe}),(ee=Pe?(A[je]||[])[Xe]:A[B])&&null!=ee.v&&"z"!==ee.t){switch(D=["cell",B,"t"],ee.t){case"s":case"str":D.push(n(ee.v));break;case"n":ee.f?(D[2]="vtf",D[3]="n",D[4]=ee.v,D[5]=n(ee.f)):(D[2]="v",D[3]=ee.v);break;case"b":D[2]="vt"+(ee.f?"f":"c"),D[3]="nl",D[4]=ee.v?"1":"0",D[5]=n(ee.f||(ee.v?"TRUE":"FALSE"));break;case"d":var Vt=xa(zo(ee.v));D[2]="vtc",D[3]="nd",D[4]=""+Vt,D[5]=ee.w||fc(ee.z||ts[14],Vt);break;case"e":continue}N.push(D.join(":"))}return N.push("sheet:c:"+(he.e.c-he.s.c+1)+":r:"+(he.e.r-he.s.r+1)+":tvf:1"),N.push("valueformat:1:text-wiki"),N.join("\n")}return{to_workbook:function s(A,N){return Xf(r(A,N),N)},to_sheet:r,from_sheet:function w(A){return[o,d,g,d,_(A),m].join("\n")}}}(),Yp=function(){function e(w,A,N,D,ee){ee.raw?A[N][D]=w:""===w||(A[N][D]="TRUE"===w||"FALSE"!==w&&(isNaN($a(w))?isNaN(hu(w).getDate())?w:zo(w):$a(w)))}var t={44:",",9:"\t",59:";",124:"|"},r={44:3,9:2,59:1,124:0};function s(w){for(var A={},N=!1,D=0,ee=0;D<w.length;++D)34==(ee=w.charCodeAt(D))?N=!N:!N&&ee in t&&(A[ee]=(A[ee]||0)+1);for(D in ee=[],A)Object.prototype.hasOwnProperty.call(A,D)&&ee.push([A[D],D]);if(!ee.length)for(D in A=r)Object.prototype.hasOwnProperty.call(A,D)&&ee.push([A[D],D]);return ee.sort(function(B,he){return B[0]-he[0]||r[B[1]]-r[he[1]]}),t[ee.pop()[1]]||44}function d(w,A){return!A||!A.PRN||A.FS||"sep="==w.slice(0,4)||w.indexOf("\t")>=0||w.indexOf(",")>=0||w.indexOf(";")>=0?function o(w,A){var N=A||{},D="",ee=N.dense?[]:{},B={s:{c:0,r:0},e:{c:0,r:0}};"sep="==w.slice(0,4)?13==w.charCodeAt(5)&&10==w.charCodeAt(6)?(D=w.charAt(4),w=w.slice(7)):13==w.charCodeAt(5)||10==w.charCodeAt(5)?(D=w.charAt(4),w=w.slice(6)):D=s(w.slice(0,1024)):D=N&&N.FS?N.FS:s(w.slice(0,1024));var he=0,Pe=0,je=0,Xe=0,Vt=0,Xt=D.charCodeAt(0),bn=!1,At=0,St=w.charCodeAt(0);w=w.replace(/\r\n/gm,"\n");var Jt=null!=N.dateNF?function rf(e){var n="number"==typeof e?ts[e]:e;return n=n.replace(dy,"(\\d+)"),new RegExp("^"+n+"$")}(N.dateNF):null;function gn(){var vt=w.slice(Xe,Vt),st={};if('"'==vt.charAt(0)&&'"'==vt.charAt(vt.length-1)&&(vt=vt.slice(1,-1).replace(/""/g,'"')),0===vt.length)st.t="z";else if(N.raw)st.t="s",st.v=vt;else if(0===vt.trim().length)st.t="s",st.v=vt;else if(61==vt.charCodeAt(0))34==vt.charCodeAt(1)&&34==vt.charCodeAt(vt.length-1)?(st.t="s",st.v=vt.slice(2,-1).replace(/""/g,'"')):function n0(e){return 1!=e.length}(vt)?(st.t="n",st.f=vt.slice(1)):(st.t="s",st.v=vt);else if("TRUE"==vt)st.t="b",st.v=!0;else if("FALSE"==vt)st.t="b",st.v=!1;else if(isNaN(je=$a(vt)))if(!isNaN(hu(vt).getDate())||Jt&&vt.match(Jt)){st.z=N.dateNF||ts[14];var rn=0;Jt&&vt.match(Jt)&&(vt=function uu(e,n,t){var r=-1,s=-1,o=-1,d=-1,g=-1,m=-1;(n.match(dy)||[]).forEach(function(A,N){var D=parseInt(t[N+1],10);switch(A.toLowerCase().charAt(0)){case"y":r=D;break;case"d":o=D;break;case"h":d=D;break;case"s":m=D;break;case"m":d>=0?g=D:s=D}}),m>=0&&-1==g&&s>=0&&(g=s,s=-1);var _=(""+(r>=0?r:(new Date).getFullYear())).slice(-4)+"-"+("00"+(s>=1?s:1)).slice(-2)+"-"+("00"+(o>=1?o:1)).slice(-2);7==_.length&&(_="0"+_),8==_.length&&(_="20"+_);var w=("00"+(d>=0?d:0)).slice(-2)+":"+("00"+(g>=0?g:0)).slice(-2)+":"+("00"+(m>=0?m:0)).slice(-2);return-1==d&&-1==g&&-1==m?_:-1==r&&-1==s&&-1==o?w:_+"T"+w}(0,N.dateNF,vt.match(Jt)||[]),rn=1),N.cellDates?(st.t="d",st.v=zo(vt,rn)):(st.t="n",st.v=xa(zo(vt,rn))),!1!==N.cellText&&(st.w=fc(st.z,st.v instanceof Date?xa(st.v):st.v)),N.cellNF||delete st.z}else st.t="s",st.v=vt;else st.t="n",!1!==N.cellText&&(st.w=vt),st.v=je;if("z"==st.t||(N.dense?(ee[he]||(ee[he]=[]),ee[he][Pe]=st):ee[Gi({c:Pe,r:he})]=st),St=w.charCodeAt(Xe=Vt+1),B.e.c<Pe&&(B.e.c=Pe),B.e.r<he&&(B.e.r=he),At==Xt)++Pe;else if(Pe=0,++he,N.sheetRows&&N.sheetRows<=he)return!0}e:for(;Vt<w.length;++Vt)switch(At=w.charCodeAt(Vt)){case 34:34===St&&(bn=!bn);break;case Xt:case 10:case 13:if(!bn&&gn())break e}return Vt-Xe>0&&gn(),ee["!ref"]=ks(B),ee}(w,A):Sd(function n(w,A){var N=A||{},D=[];if(!w||0===w.length)return D;for(var ee=w.split(/[\r\n]/),B=ee.length-1;B>=0&&0===ee[B].length;)--B;for(var he=10,Pe=0,je=0;je<=B;++je)-1==(Pe=ee[je].indexOf(" "))?Pe=ee[je].length:Pe++,he=Math.max(he,Pe);for(je=0;je<=B;++je){D[je]=[];var Xe=0;for(e(ee[je].slice(0,he).trim(),D,je,Xe,N),Xe=1;Xe<=(ee[je].length-he)/10+1;++Xe)e(ee[je].slice(he+10*(Xe-1),he+10*Xe).trim(),D,je,Xe,N)}return N.sheetRows&&(D=D.slice(0,N.sheetRows)),D}(w,A),A)}function g(w,A){var N="",D="string"==A.type?[0,0,0,0]:function oA(e,n){var t="";switch((n||{}).type||"base64"){case"buffer":case"array":return[e[0],e[1],e[2],e[3],e[4],e[5],e[6],e[7]];case"base64":t=Zl(e.slice(0,12));break;case"binary":t=e;break;default:throw new Error("Unrecognized type "+(n&&n.type||"undefined"))}return[t.charCodeAt(0),t.charCodeAt(1),t.charCodeAt(2),t.charCodeAt(3),t.charCodeAt(4),t.charCodeAt(5),t.charCodeAt(6),t.charCodeAt(7)]}(w,A);switch(A.type){case"base64":N=Zl(w);break;case"binary":case"string":N=w;break;case"buffer":N=65001==A.codepage?w.toString("utf8"):ns&&Buffer.isBuffer(w)?w.toString("binary"):Qc(w);break;case"array":N=bh(w);break;default:throw new Error("Unrecognized type "+A.type)}return 239==D[0]&&187==D[1]&&191==D[2]?N=ta(N.slice(3)):"string"!=A.type&&"buffer"!=A.type&&65001==A.codepage&&(N=ta(N)),"socialcalc:version:"==N.slice(0,19)?Ef.to_sheet("string"==A.type?N:ta(N),A):d(N,A)}return{to_workbook:function m(w,A){return Xf(g(w,A),A)},to_sheet:g,from_sheet:function _(w){for(var D,A=[],N=go(w["!ref"]),ee=Array.isArray(w),B=N.s.r;B<=N.e.r;++B){for(var he=[],Pe=N.s.c;Pe<=N.e.c;++Pe){var je=Gi({r:B,c:Pe});if((D=ee?(w[B]||[])[Pe]:w[je])&&null!=D.v){for(var Xe=(D.w||(Kh(D),D.w)||"").slice(0,10);Xe.length<10;)Xe+=" ";he.push(Xe+(0===Pe?" ":""))}else he.push("          ")}A.push(he.join(""))}return A.join("\n")}}}(),Kp=function(){function e(Ie,bt,ut){if(Ie){Yl(Ie,Ie.l||0);for(var _t=ut.Enum||nr;Ie.l<Ie.length;){var Kt=Ie.read_shift(2),In=_t[Kt]||_t[65535],An=Ie.read_shift(2),Pn=Ie.l+An,qn=In.f&&In.f(Ie,An,ut);if(Ie.l=Pn,bt(qn,In,Kt))return}}}function t(Ie,bt){if(!Ie)return Ie;var ut=bt||{},_t=ut.dense?[]:{},Kt="Sheet1",In="",An=0,Pn={},qn=[],Rr=[],Gt={s:{r:0,c:0},e:{r:0,c:0}},oi=ut.sheetRows||0;if(0==Ie[2]&&(8==Ie[3]||9==Ie[3])&&Ie.length>=16&&5==Ie[14]&&108===Ie[15])throw new Error("Unsupported Works 3 for Mac file");if(2==Ie[2])ut.Enum=nr,e(Ie,function(qr,Ti,ei){switch(ei){case 0:ut.vers=qr,qr>=4096&&(ut.qpro=!0);break;case 6:Gt=qr;break;case 204:qr&&(In=qr);break;case 222:In=qr;break;case 15:case 51:ut.qpro||(qr[1].v=qr[1].v.slice(1));case 13:case 14:case 16:14==ei&&112==(112&qr[2])&&(15&qr[2])>1&&(15&qr[2])<15&&(qr[1].z=ut.dateNF||ts[14],ut.cellDates&&(qr[1].t="d",qr[1].v=Vf(qr[1].v))),ut.qpro&&qr[3]>An&&(_t["!ref"]=ks(Gt),Pn[Kt]=_t,qn.push(Kt),_t=ut.dense?[]:{},Gt={s:{r:0,c:0},e:{r:0,c:0}},An=qr[3],Kt=In||"Sheet"+(An+1),In="");var gi=ut.dense?(_t[qr[0].r]||[])[qr[0].c]:_t[Gi(qr[0])];if(gi){gi.t=qr[1].t,gi.v=qr[1].v,null!=qr[1].z&&(gi.z=qr[1].z),null!=qr[1].f&&(gi.f=qr[1].f);break}ut.dense?(_t[qr[0].r]||(_t[qr[0].r]=[]),_t[qr[0].r][qr[0].c]=qr[1]):_t[Gi(qr[0])]=qr[1]}},ut);else{if(26!=Ie[2]&&14!=Ie[2])throw new Error("Unrecognized LOTUS BOF "+Ie[2]);ut.Enum=Qn,14==Ie[2]&&(ut.qpro=!0,Ie.l=0),e(Ie,function(qr,Ti,ei){switch(ei){case 204:Kt=qr;break;case 22:qr[1].v=qr[1].v.slice(1);case 23:case 24:case 25:case 37:case 39:case 40:if(qr[3]>An&&(_t["!ref"]=ks(Gt),Pn[Kt]=_t,qn.push(Kt),_t=ut.dense?[]:{},Gt={s:{r:0,c:0},e:{r:0,c:0}},Kt="Sheet"+((An=qr[3])+1)),oi>0&&qr[0].r>=oi)break;ut.dense?(_t[qr[0].r]||(_t[qr[0].r]=[]),_t[qr[0].r][qr[0].c]=qr[1]):_t[Gi(qr[0])]=qr[1],Gt.e.c<qr[0].c&&(Gt.e.c=qr[0].c),Gt.e.r<qr[0].r&&(Gt.e.r=qr[0].r);break;case 27:qr[14e3]&&(Rr[qr[14e3][0]]=qr[14e3][1]);break;case 1537:Rr[qr[0]]=qr[1],qr[0]==An&&(Kt=qr[1])}},ut)}if(_t["!ref"]=ks(Gt),Pn[In||Kt]=_t,qn.push(In||Kt),!Rr.length)return{SheetNames:qn,Sheets:Pn};for(var _i={},gr=[],on=0;on<Rr.length;++on)Pn[qn[on]]?(gr.push(Rr[on]||qn[on]),_i[Rr[on]]=Pn[Rr[on]]||Pn[qn[on]]):(gr.push(Rr[on]),_i[Rr[on]]={"!ref":"A1"});return{SheetNames:gr,Sheets:_i}}function _(Ie,bt,ut){var _t=[{c:0,r:0},{t:"n",v:0},0,0];return ut.qpro&&20768!=ut.vers?(_t[0].c=Ie.read_shift(1),_t[3]=Ie.read_shift(1),_t[0].r=Ie.read_shift(2),Ie.l+=2):(_t[2]=Ie.read_shift(1),_t[0].c=Ie.read_shift(2),_t[0].r=Ie.read_shift(2)),_t}function w(Ie,bt,ut){var _t=Ie.l+bt,Kt=_(Ie,0,ut);if(Kt[1].t="s",20768==ut.vers){Ie.l++;var In=Ie.read_shift(1);return Kt[1].v=Ie.read_shift(In,"utf8"),Kt}return ut.qpro&&Ie.l++,Kt[1].v=Ie.read_shift(_t-Ie.l,"cstr"),Kt}function A(Ie,bt,ut){var _t=Er(7+ut.length);_t.write_shift(1,255),_t.write_shift(2,bt),_t.write_shift(2,Ie),_t.write_shift(1,39);for(var Kt=0;Kt<_t.length;++Kt){var In=ut.charCodeAt(Kt);_t.write_shift(1,In>=128?95:In)}return _t.write_shift(1,0),_t}function D(Ie,bt,ut){var _t=Er(7);return _t.write_shift(1,255),_t.write_shift(2,bt),_t.write_shift(2,Ie),_t.write_shift(2,ut,"i"),_t}function B(Ie,bt,ut){var _t=Er(13);return _t.write_shift(1,255),_t.write_shift(2,bt),_t.write_shift(2,Ie),_t.write_shift(8,ut,"f"),_t}function Pe(Ie,bt,ut){var _t=32768&bt;return bt=(_t?Ie:0)+((bt&=-32769)>=8192?bt-16384:bt),(_t?"":"$")+(ut?Mo(bt):El(bt))}var je={51:["FALSE",0],52:["TRUE",0],70:["LEN",1],80:["SUM",69],81:["AVERAGEA",69],82:["COUNTA",69],83:["MINA",69],84:["MAXA",69],111:["T",1]},Xe=["","","","","","","","","","+","-","*","/","^","=","<>","<=",">=","<",">","","","","","&","","","","","","",""];function Xt(Ie){var bt=[{c:0,r:0},{t:"n",v:0},0];return bt[0].r=Ie.read_shift(2),bt[3]=Ie[Ie.l++],bt[0].c=Ie[Ie.l++],bt}function At(Ie,bt,ut,_t){var Kt=Er(6+_t.length);Kt.write_shift(2,Ie),Kt.write_shift(1,ut),Kt.write_shift(1,bt),Kt.write_shift(1,39);for(var In=0;In<_t.length;++In){var An=_t.charCodeAt(In);Kt.write_shift(1,An>=128?95:An)}return Kt.write_shift(1,0),Kt}function Jt(Ie,bt){var ut=Xt(Ie),_t=Ie.read_shift(4),Kt=Ie.read_shift(4),In=Ie.read_shift(2);if(65535==In)return 0===_t&&3221225472===Kt?(ut[1].t="e",ut[1].v=15):0===_t&&3489660928===Kt?(ut[1].t="e",ut[1].v=42):ut[1].v=0,ut;var An=32768&In;return In=(32767&In)-16446,ut[1].v=(1-2*An)*(Kt*Math.pow(2,In+32)+_t*Math.pow(2,In)),ut}function gn(Ie,bt,ut,_t){var Kt=Er(14);if(Kt.write_shift(2,Ie),Kt.write_shift(1,ut),Kt.write_shift(1,bt),0==_t)return Kt.write_shift(4,0),Kt.write_shift(4,0),Kt.write_shift(2,65535),Kt;var In=0,An=0,qn=0;return _t<0&&(In=1,_t=-_t),An=0|Math.log2(_t),0==(2147483648&(qn=(_t/=Math.pow(2,An-31))>>>0))&&(++An,qn=(_t/=2)>>>0),_t-=qn,qn|=2147483648,qn>>>=0,_t*=Math.pow(2,32),Kt.write_shift(4,_t>>>0),Kt.write_shift(4,qn),Kt.write_shift(2,An+=16383+(In?32768:0)),Kt}function rn(Ie,bt){var ut=Xt(Ie),_t=Ie.read_shift(8,"f");return ut[1].v=_t,ut}function Fn(Ie,bt){return 0==Ie[Ie.l+bt-1]?Ie.read_shift(bt,"cstr"):""}function zn(Ie,bt){var ut=Er(5+Ie.length);ut.write_shift(2,14e3),ut.write_shift(2,bt);for(var _t=0;_t<Ie.length;++_t){var Kt=Ie.charCodeAt(_t);ut[ut.l++]=Kt>127?95:Kt}return ut[ut.l++]=0,ut}var nr={0:{n:"BOF",f:hl},1:{n:"EOF"},2:{n:"CALCMODE"},3:{n:"CALCORDER"},4:{n:"SPLIT"},5:{n:"SYNC"},6:{n:"RANGE",f:function g(Ie,bt,ut){var _t={s:{c:0,r:0},e:{c:0,r:0}};return 8==bt&&ut.qpro?(_t.s.c=Ie.read_shift(1),Ie.l++,_t.s.r=Ie.read_shift(2),_t.e.c=Ie.read_shift(1),Ie.l++,_t.e.r=Ie.read_shift(2),_t):(_t.s.c=Ie.read_shift(2),_t.s.r=Ie.read_shift(2),12==bt&&ut.qpro&&(Ie.l+=2),_t.e.c=Ie.read_shift(2),_t.e.r=Ie.read_shift(2),12==bt&&ut.qpro&&(Ie.l+=2),65535==_t.s.c&&(_t.s.c=_t.e.c=_t.s.r=_t.e.r=0),_t)}},7:{n:"WINDOW1"},8:{n:"COLW1"},9:{n:"WINTWO"},10:{n:"COLW2"},11:{n:"NAME"},12:{n:"BLANK"},13:{n:"INTEGER",f:function N(Ie,bt,ut){var _t=_(Ie,0,ut);return _t[1].v=Ie.read_shift(2,"i"),_t}},14:{n:"NUMBER",f:function ee(Ie,bt,ut){var _t=_(Ie,0,ut);return _t[1].v=Ie.read_shift(8,"f"),_t}},15:{n:"LABEL",f:w},16:{n:"FORMULA",f:function he(Ie,bt,ut){var _t=Ie.l+bt,Kt=_(Ie,0,ut);if(Kt[1].v=Ie.read_shift(8,"f"),ut.qpro)Ie.l=_t;else{var In=Ie.read_shift(2);(function Vt(Ie,bt){Yl(Ie,0);for(var ut=[],_t=0,Kt="",In="",An="",Pn="";Ie.l<Ie.length;){var qn=Ie[Ie.l++];switch(qn){case 0:ut.push(Ie.read_shift(8,"f"));break;case 1:In=Pe(bt[0].c,Ie.read_shift(2),!0),Kt=Pe(bt[0].r,Ie.read_shift(2),!1),ut.push(In+Kt);break;case 2:var Rr=Pe(bt[0].c,Ie.read_shift(2),!0),Gt=Pe(bt[0].r,Ie.read_shift(2),!1);In=Pe(bt[0].c,Ie.read_shift(2),!0),Kt=Pe(bt[0].r,Ie.read_shift(2),!1),ut.push(Rr+Gt+":"+In+Kt);break;case 3:if(Ie.l<Ie.length)return void console.error("WK1 premature formula end");break;case 4:ut.push("("+ut.pop()+")");break;case 5:ut.push(Ie.read_shift(2));break;case 6:for(var oi="";qn=Ie[Ie.l++];)oi+=String.fromCharCode(qn);ut.push('"'+oi.replace(/"/g,'""')+'"');break;case 8:ut.push("-"+ut.pop());break;case 23:ut.push("+"+ut.pop());break;case 22:ut.push("NOT("+ut.pop()+")");break;case 20:case 21:Pn=ut.pop(),An=ut.pop(),ut.push(["AND","OR"][qn-20]+"("+An+","+Pn+")");break;default:if(qn<32&&Xe[qn])Pn=ut.pop(),An=ut.pop(),ut.push(An+Xe[qn]+Pn);else{if(!je[qn])return qn<=7?console.error("WK1 invalid opcode "+qn.toString(16)):qn<=24?console.error("WK1 unsupported op "+qn.toString(16)):qn<=30?console.error("WK1 invalid opcode "+qn.toString(16)):qn<=115?console.error("WK1 unsupported function opcode "+qn.toString(16)):console.error("WK1 unrecognized opcode "+qn.toString(16));if(69==(_t=je[qn][1])&&(_t=Ie[Ie.l++]),_t>ut.length)return void console.error("WK1 bad formula parse 0x"+qn.toString(16)+":|"+ut.join("|")+"|");var _i=ut.slice(-_t);ut.length-=_t,ut.push(je[qn][0]+"("+_i.join(",")+")")}}}1==ut.length?bt[1].f=""+ut[0]:console.error("WK1 bad formula parse |"+ut.join("|")+"|")})(Ie.slice(Ie.l,Ie.l+In),Kt),Ie.l+=In}return Kt}},24:{n:"TABLE"},25:{n:"ORANGE"},26:{n:"PRANGE"},27:{n:"SRANGE"},28:{n:"FRANGE"},29:{n:"KRANGE1"},32:{n:"HRANGE"},35:{n:"KRANGE2"},36:{n:"PROTEC"},37:{n:"FOOTER"},38:{n:"HEADER"},39:{n:"SETUP"},40:{n:"MARGINS"},41:{n:"LABELFMT"},42:{n:"TITLES"},43:{n:"SHEETJS"},45:{n:"GRAPH"},46:{n:"NGRAPH"},47:{n:"CALCCOUNT"},48:{n:"UNFORMATTED"},49:{n:"CURSORW12"},50:{n:"WINDOW"},51:{n:"STRING",f:w},55:{n:"PASSWORD"},56:{n:"LOCKED"},60:{n:"QUERY"},61:{n:"QUERYNAME"},62:{n:"PRINT"},63:{n:"PRINTNAME"},64:{n:"GRAPH2"},65:{n:"GRAPHNAME"},66:{n:"ZOOM"},67:{n:"SYMSPLIT"},68:{n:"NSROWS"},69:{n:"NSCOLS"},70:{n:"RULER"},71:{n:"NNAME"},72:{n:"ACOMM"},73:{n:"AMACRO"},74:{n:"PARSE"},102:{n:"PRANGES??"},103:{n:"RRANGES??"},104:{n:"FNAME??"},105:{n:"MRANGES??"},204:{n:"SHEETNAMECS",f:Fn},222:{n:"SHEETNAMELP",f:function Wn(Ie,bt){var ut=Ie[Ie.l++];ut>bt-1&&(ut=bt-1);for(var _t="";_t.length<ut;)_t+=String.fromCharCode(Ie[Ie.l++]);return _t}},65535:{n:""}},Qn={0:{n:"BOF"},1:{n:"EOF"},2:{n:"PASSWORD"},3:{n:"CALCSET"},4:{n:"WINDOWSET"},5:{n:"SHEETCELLPTR"},6:{n:"SHEETLAYOUT"},7:{n:"COLUMNWIDTH"},8:{n:"HIDDENCOLUMN"},9:{n:"USERRANGE"},10:{n:"SYSTEMRANGE"},11:{n:"ZEROFORCE"},12:{n:"SORTKEYDIR"},13:{n:"FILESEAL"},14:{n:"DATAFILLNUMS"},15:{n:"PRINTMAIN"},16:{n:"PRINTSTRING"},17:{n:"GRAPHMAIN"},18:{n:"GRAPHSTRING"},19:{n:"??"},20:{n:"ERRCELL"},21:{n:"NACELL"},22:{n:"LABEL16",f:function bn(Ie,bt){var ut=Xt(Ie);return ut[1].t="s",ut[1].v=Ie.read_shift(bt-4,"cstr"),ut}},23:{n:"NUMBER17",f:Jt},24:{n:"NUMBER18",f:function St(Ie,bt){var ut=Xt(Ie);ut[1].v=Ie.read_shift(2);var _t=ut[1].v>>1;if(1&ut[1].v)switch(7&_t){case 0:_t=5e3*(_t>>3);break;case 1:_t=500*(_t>>3);break;case 2:_t=(_t>>3)/20;break;case 3:_t=(_t>>3)/200;break;case 4:_t=(_t>>3)/2e3;break;case 5:_t=(_t>>3)/2e4;break;case 6:_t=(_t>>3)/16;break;case 7:_t=(_t>>3)/64}return ut[1].v=_t,ut}},25:{n:"FORMULA19",f:function vt(Ie,bt){var ut=Jt(Ie);return Ie.l+=bt-14,ut}},26:{n:"FORMULA1A"},27:{n:"XFORMAT",f:function Zn(Ie,bt){for(var ut={},_t=Ie.l+bt;Ie.l<_t;){var Kt=Ie.read_shift(2);if(14e3==Kt){for(ut[Kt]=[0,""],ut[Kt][0]=Ie.read_shift(2);Ie[Ie.l];)ut[Kt][1]+=String.fromCharCode(Ie[Ie.l]),Ie.l++;Ie.l++}}return ut}},28:{n:"DTLABELMISC"},29:{n:"DTLABELCELL"},30:{n:"GRAPHWINDOW"},31:{n:"CPA"},32:{n:"LPLAUTO"},33:{n:"QUERY"},34:{n:"HIDDENSHEET"},35:{n:"??"},37:{n:"NUMBER25",f:function st(Ie,bt){var ut=Xt(Ie),_t=Ie.read_shift(4);return ut[1].v=_t>>6,ut}},38:{n:"??"},39:{n:"NUMBER27",f:rn},40:{n:"FORMULA28",f:function tn(Ie,bt){var ut=rn(Ie);return Ie.l+=bt-10,ut}},142:{n:"??"},147:{n:"??"},150:{n:"??"},151:{n:"??"},152:{n:"??"},153:{n:"??"},154:{n:"??"},155:{n:"??"},156:{n:"??"},163:{n:"??"},174:{n:"??"},175:{n:"??"},176:{n:"??"},177:{n:"??"},184:{n:"??"},185:{n:"??"},186:{n:"??"},187:{n:"??"},188:{n:"??"},195:{n:"??"},201:{n:"??"},204:{n:"SHEETNAMECS",f:Fn},205:{n:"??"},206:{n:"??"},207:{n:"??"},208:{n:"??"},256:{n:"??"},259:{n:"??"},260:{n:"??"},261:{n:"??"},262:{n:"??"},263:{n:"??"},265:{n:"??"},266:{n:"??"},267:{n:"??"},268:{n:"??"},270:{n:"??"},271:{n:"??"},384:{n:"??"},389:{n:"??"},390:{n:"??"},393:{n:"??"},396:{n:"??"},512:{n:"??"},514:{n:"??"},513:{n:"??"},516:{n:"??"},517:{n:"??"},640:{n:"??"},641:{n:"??"},642:{n:"??"},643:{n:"??"},644:{n:"??"},645:{n:"??"},646:{n:"??"},647:{n:"??"},648:{n:"??"},658:{n:"??"},659:{n:"??"},660:{n:"??"},661:{n:"??"},662:{n:"??"},665:{n:"??"},666:{n:"??"},768:{n:"??"},772:{n:"??"},1537:{n:"SHEETINFOQP",f:function Kn(Ie,bt,ut){if(ut.qpro&&!(bt<21)){var _t=Ie.read_shift(1);return Ie.l+=17,Ie.l+=1,Ie.l+=2,[_t,Ie.read_shift(bt-21,"cstr")]}}},1600:{n:"??"},1602:{n:"??"},1793:{n:"??"},1794:{n:"??"},1795:{n:"??"},1796:{n:"??"},1920:{n:"??"},2048:{n:"??"},2049:{n:"??"},2052:{n:"??"},2688:{n:"??"},10998:{n:"??"},12849:{n:"??"},28233:{n:"??"},28484:{n:"??"},65535:{n:""}};return{sheet_to_wk1:function r(Ie,bt){var ut=bt||{};if(+ut.codepage>=0&&Jo(+ut.codepage),"string"==ut.type)throw new Error("Cannot write WK1 to JS string");var _t=ia(),Kt=go(Ie["!ref"]),In=Array.isArray(Ie),An=[];xi(_t,0,function o(Ie){var bt=Er(2);return bt.write_shift(2,Ie),bt}(1030)),xi(_t,6,function m(Ie){var bt=Er(8);return bt.write_shift(2,Ie.s.c),bt.write_shift(2,Ie.s.r),bt.write_shift(2,Ie.e.c),bt.write_shift(2,Ie.e.r),bt}(Kt));for(var Pn=Math.min(Kt.e.r,8191),qn=Kt.s.r;qn<=Pn;++qn)for(var Rr=El(qn),Gt=Kt.s.c;Gt<=Kt.e.c;++Gt){qn===Kt.s.r&&(An[Gt]=Mo(Gt));var _i=In?(Ie[qn]||[])[Gt]:Ie[An[Gt]+Rr];_i&&"z"!=_i.t&&("n"==_i.t?(0|_i.v)==_i.v&&_i.v>=-32768&&_i.v<=32767?xi(_t,13,D(qn,Gt,_i.v)):xi(_t,14,B(qn,Gt,_i.v)):xi(_t,15,A(qn,Gt,Kh(_i).slice(0,239))))}return xi(_t,1),_t.end()},book_to_wk3:function s(Ie,bt){var ut=bt||{};if(+ut.codepage>=0&&Jo(+ut.codepage),"string"==ut.type)throw new Error("Cannot write WK3 to JS string");var _t=ia();xi(_t,0,function d(Ie){var bt=Er(26);bt.write_shift(2,4096),bt.write_shift(2,4),bt.write_shift(4,0);for(var ut=0,_t=0,Kt=0,In=0;In<Ie.SheetNames.length;++In){var Pn=Ie.Sheets[Ie.SheetNames[In]];if(Pn&&Pn["!ref"]){++Kt;var qn=Kl(Pn["!ref"]);ut<qn.e.r&&(ut=qn.e.r),_t<qn.e.c&&(_t=qn.e.c)}}return ut>8191&&(ut=8191),bt.write_shift(2,ut),bt.write_shift(1,Kt),bt.write_shift(1,_t),bt.write_shift(2,0),bt.write_shift(2,0),bt.write_shift(1,1),bt.write_shift(1,2),bt.write_shift(4,0),bt.write_shift(4,0),bt}(Ie));for(var Kt=0,In=0;Kt<Ie.SheetNames.length;++Kt)(Ie.Sheets[Ie.SheetNames[Kt]]||{})["!ref"]&&xi(_t,27,zn(Ie.SheetNames[Kt],In++));var An=0;for(Kt=0;Kt<Ie.SheetNames.length;++Kt){var Pn=Ie.Sheets[Ie.SheetNames[Kt]];if(Pn&&Pn["!ref"]){for(var qn=go(Pn["!ref"]),Rr=Array.isArray(Pn),Gt=[],oi=Math.min(qn.e.r,8191),_i=qn.s.r;_i<=oi;++_i)for(var gr=El(_i),on=qn.s.c;on<=qn.e.c;++on){_i===qn.s.r&&(Gt[on]=Mo(on));var Ti=Rr?(Pn[_i]||[])[on]:Pn[Gt[on]+gr];Ti&&"z"!=Ti.t&&("n"==Ti.t?xi(_t,23,gn(_i,on,An,Ti.v)):xi(_t,22,At(_i,on,An,Kh(Ti).slice(0,239))))}++An}}return xi(_t,1),_t.end()},to_workbook:function n(Ie,bt){switch(bt.type){case"base64":return t(Sc(Zl(Ie)),bt);case"binary":return t(Sc(Ie),bt);case"buffer":case"array":return t(Ie,bt)}throw"Unsupported type "+bt.type}}}(),Pb=/^\s|\s$|[\t\n\r]/;function Zv(e,n){if(!n.bookSST)return"";var t=[Ma];t[t.length]=hi("sst",null,{xmlns:rh[0],count:e.Count,uniqueCount:e.Unique});for(var r=0;r!=e.length;++r)if(null!=e[r]){var s=e[r],o="<si>";s.r?o+=s.r:(o+="<t",s.t||(s.t=""),s.t.match(Pb)&&(o+=' xml:space="preserve"'),o+=">"+ds(s.t)+"</t>"),t[t.length]=o+="</si>"}return t.length>2&&(t[t.length]="</sst>",t[1]=t[1].replace("/>",">")),t.join("")}var ew=function vy(e,n){var t=!1;return null==n&&(t=!0,n=Er(15+4*e.t.length)),n.write_shift(1,0),Tl(e.t,n),t?n.slice(0,n.l):n};function a_(e){var n=ia();Yr(n,159,function o_(e,n){return n||(n=Er(8)),n.write_shift(4,e.Count),n.write_shift(4,e.Unique),n}(e));for(var t=0;t<e.length;++t)Yr(n,19,ew(e[t]));return Yr(n,160),n.end()}function Xv(e){var t,o,n=0,r=function tw(e){for(var n=[],t=e.split(""),r=0;r<t.length;++r)n[r]=t[r].charCodeAt(0);return n}(e),s=r.length+1;for((t=yo(s))[0]=r.length,o=1;o!=s;++o)t[o]=r[o-1];for(o=s-1;o>=0;--o)n=((0==(16384&n)?0:1)|n<<1&32767)^t[o];return 52811^n}var Jv=function(){function e(s,o){switch(o.type){case"base64":return n(Zl(s),o);case"binary":return n(s,o);case"buffer":return n(ns&&Buffer.isBuffer(s)?s.toString("binary"):Qc(s),o);case"array":return n(bh(s),o)}throw new Error("Unrecognized type "+o.type)}function n(s,o){var g=(o||{}).dense?[]:{},m=s.match(/\\trowd.*?\\row\b/g);if(!m.length)throw new Error("RTF missing table");var _={s:{c:0,r:0},e:{c:0,r:m.length-1}};return m.forEach(function(w,A){Array.isArray(g)&&(g[A]=[]);for(var ee,N=/\\\w+\b/g,D=0,B=-1;ee=N.exec(w);){if("\\cell"===ee[0]){var he=w.slice(D,N.lastIndex-ee[0].length);if(" "==he[0]&&(he=he.slice(1)),++B,he.length){var Pe={v:he,t:"s"};Array.isArray(g)?g[A][B]=Pe:g[Gi({r:A,c:B})]=Pe}}D=N.lastIndex}B>_.e.c&&(_.e.c=B)}),g["!ref"]=ks(_),g}return{to_workbook:function t(s,o){return Xf(e(s,o),o)},to_sheet:e,from_sheet:function r(s){for(var g,o=["{\\rtf1\\ansi"],d=go(s["!ref"]),m=Array.isArray(s),_=d.s.r;_<=d.e.r;++_){o.push("\\trowd\\trautofit1");for(var w=d.s.c;w<=d.e.c;++w)o.push("\\cellx"+(w+1));for(o.push("\\pard\\intbl"),w=d.s.c;w<=d.e.c;++w){var A=Gi({r:_,c:w});(g=m?(s[_]||[])[w]:s[A])&&(null!=g.v||g.f&&!g.F)&&(o.push(" "+(g.w||(Kh(g),g.w))),o.push("\\cell"))}o.push("\\pard\\intbl\\row")}return o.join("")+"}"}}}();function Xp(e){for(var n=0,t=1;3!=n;++n)t=256*t+(e[n]>255?255:e[n]<0?0:e[n]);return t.toString(16).toUpperCase().slice(1)}var nu=6;function Cf(e){return Math.floor((e+Math.round(128/nu)/256)*nu)}function Mu(e){return Math.floor((e-5)/nu*100+.5)/100}function Rd(e){return Math.round((e*nu+5)/nu*256)/256}function ad(e){e.width?(e.wpx=Cf(e.width),e.wch=Mu(e.wpx),e.MDW=nu):e.wpx?(e.wch=Mu(e.wpx),e.width=Rd(e.wch),e.MDW=nu):"number"==typeof e.wch&&(e.width=Rd(e.wch),e.wpx=Cf(e.width),e.MDW=nu),e.customWidth&&delete e.customWidth}function Ld(e){return 96*e/96}function ld(e){return 96*e/96}function mm(e,n){var r,t=[Ma,hi("styleSheet",null,{xmlns:rh[0],"xmlns:vt":ll_vt})];return e.SSF&&null!=(r=function lg(e){var n=["<numFmts>"];return[[5,8],[23,26],[41,44],[50,392]].forEach(function(t){for(var r=t[0];r<=t[1];++r)null!=e[r]&&(n[n.length]=hi("numFmt",null,{numFmtId:r,formatCode:ds(e[r])}))}),1===n.length?"":(n[n.length]="</numFmts>",n[0]=hi("numFmts",null,{count:n.length-2}).replace("/>",">"),n.join(""))}(e.SSF))&&(t[t.length]=r),t[t.length]='<fonts count="1"><font><sz val="12"/><color theme="1"/><name val="Calibri"/><family val="2"/><scheme val="minor"/></font></fonts>',t[t.length]='<fills count="2"><fill><patternFill patternType="none"/></fill><fill><patternFill patternType="gray125"/></fill></fills>',t[t.length]='<borders count="1"><border><left/><right/><top/><bottom/><diagonal/></border></borders>',t[t.length]='<cellStyleXfs count="1"><xf numFmtId="0" fontId="0" fillId="0" borderId="0"/></cellStyleXfs>',(r=function e1(e){var n=[];return n[n.length]=hi("cellXfs",null),e.forEach(function(t){n[n.length]=hi("xf",null,t)}),n[n.length]="</cellXfs>",2===n.length?"":(n[0]=hi("cellXfs",null,{count:n.length-2}).replace("/>",">"),n.join(""))}(n.cellXfs))&&(t[t.length]=r),t[t.length]='<cellStyles count="1"><cellStyle name="Normal" xfId="0" builtinId="0"/></cellStyles>',t[t.length]='<dxfs count="0"/>',t[t.length]='<tableStyles count="0" defaultTableStyle="TableStyleMedium9" defaultPivotStyle="PivotStyleMedium4"/>',t.length>2&&(t[t.length]="</styleSheet>",t[1]=t[1].replace("/>",">")),t.join("")}function n1(e,n,t){t||(t=Er(6+4*n.length)),t.write_shift(2,e),Tl(n,t);var r=t.length>t.l?t.slice(0,t.l):t;return null==t.l&&(t.l=t.length),r}var cg,ow=["none","solid","mediumGray","darkGray","lightGray","darkHorizontal","darkVertical","darkDown","darkUp","darkGrid","darkTrellis","lightHorizontal","lightVertical","lightDown","lightUp","lightGrid","lightTrellis","gray125","gray0625"],ug=cl;function ym(e,n){n||(n=Er(84)),cg||(cg=xl(ow));var t=cg[e.patternType];null==t&&(t=40),n.write_shift(4,t);var r=0;if(40!=t)for(ku({auto:1},n),ku({auto:1},n);r<12;++r)n.write_shift(4,0);else{for(;r<4;++r)n.write_shift(4,0);for(;r<12;++r)n.write_shift(4,0)}return n.length>n.l?n.slice(0,n.l):n}function lw(e,n,t){return t||(t=Er(16)),t.write_shift(2,n||0),t.write_shift(2,e.numFmtId||0),t.write_shift(2,0),t.write_shift(2,0),t.write_shift(2,0),t.write_shift(1,0),t.write_shift(1,0),t.write_shift(1,0),t.write_shift(1,0),t.write_shift(1,0),t.write_shift(1,0),t}function _m(e,n){return n||(n=Er(10)),n.write_shift(1,0),n.write_shift(1,0),n.write_shift(4,0),n.write_shift(4,0),n}var g_=cl;function qb(e,n){var t=ia();return Yr(t,278),function NC(e,n){if(n){var t=0;[[5,8],[23,26],[41,44],[50,392]].forEach(function(r){for(var s=r[0];s<=r[1];++s)null!=n[s]&&++t}),0!=t&&(Yr(e,615,Xh(t)),[[5,8],[23,26],[41,44],[50,392]].forEach(function(r){for(var s=r[0];s<=r[1];++s)null!=n[s]&&Yr(e,44,n1(s,n[s]))}),Yr(e,616))}}(t,e.SSF),function Hb(e){Yr(e,611,Xh(1)),Yr(e,43,function r1(e,n){n||(n=Er(153)),n.write_shift(2,20*e.sz),function _y(e,n){n||(n=Er(2)),n.write_shift(1,(e.italic?2:0)|(e.strike?8:0)|(e.outline?16:0)|(e.shadow?32:0)|(e.condense?64:0)|(e.extend?128:0)),n.write_shift(1,0)}(e,n),n.write_shift(2,e.bold?700:400);var t=0;"superscript"==e.vertAlign?t=1:"subscript"==e.vertAlign&&(t=2),n.write_shift(2,t),n.write_shift(1,e.underline||0),n.write_shift(1,e.family||0),n.write_shift(1,e.charset||0),n.write_shift(1,0),ku(e.color,n);var r=0;return"major"==e.scheme&&(r=1),"minor"==e.scheme&&(r=2),n.write_shift(1,r),Tl(e.name,n),n.length>n.l?n.slice(0,n.l):n}({sz:12,color:{theme:1},name:"Calibri",family:2,scheme:"minor"})),Yr(e,612)}(t),function s1(e){Yr(e,603,Xh(2)),Yr(e,45,ym({patternType:"none"})),Yr(e,45,ym({patternType:"gray125"})),Yr(e,604)}(t),function xm(e){Yr(e,613,Xh(1)),Yr(e,46,function Bb(e,n){return n||(n=Er(51)),n.write_shift(1,0),_m(0,n),_m(0,n),_m(0,n),_m(0,n),_m(0,n),n.length>n.l?n.slice(0,n.l):n}()),Yr(e,614)}(t),function cw(e){Yr(e,626,Xh(1)),Yr(e,47,lw({numFmtId:0,fontId:0,fillId:0,borderId:0},65535)),Yr(e,627)}(t),function zb(e,n){Yr(e,617,Xh(n.length)),n.forEach(function(t){Yr(e,47,lw(t,0))}),Yr(e,618)}(t,n.cellXfs),function Wb(e){Yr(e,619,Xh(1)),Yr(e,48,function m_(e,n){return n||(n=Er(52)),n.write_shift(4,e.xfId),n.write_shift(2,1),n.write_shift(1,+e.builtinId),n.write_shift(1,0),hv(e.name||"",n),n.length>n.l?n.slice(0,n.l):n}({xfId:0,builtinId:0,name:"Normal"})),Yr(e,620)}(t),function v_(e){Yr(e,505,Xh(0)),Yr(e,506)}(t),function _o(e){Yr(e,508,function jb(e,n,t){var r=Er(2052);return r.write_shift(4,e),hv(n,r),hv(t,r),r.length>r.l?r.slice(0,r.l):r}(0,"TableStyleMedium9","PivotStyleMedium4")),Yr(e,509)}(t),Yr(t,279),t.end()}function __(e,n){if(n&&n.themeXLSX)return n.themeXLSX;if(e&&"string"==typeof e.raw)return e.raw;var t=[Ma];return t[t.length]='<a:theme xmlns:a="http://schemas.openxmlformats.org/drawingml/2006/main" name="Office Theme">',t[t.length]="<a:themeElements>",t[t.length]='<a:clrScheme name="Office">',t[t.length]='<a:dk1><a:sysClr val="windowText" lastClr="000000"/></a:dk1>',t[t.length]='<a:lt1><a:sysClr val="window" lastClr="FFFFFF"/></a:lt1>',t[t.length]='<a:dk2><a:srgbClr val="1F497D"/></a:dk2>',t[t.length]='<a:lt2><a:srgbClr val="EEECE1"/></a:lt2>',t[t.length]='<a:accent1><a:srgbClr val="4F81BD"/></a:accent1>',t[t.length]='<a:accent2><a:srgbClr val="C0504D"/></a:accent2>',t[t.length]='<a:accent3><a:srgbClr val="9BBB59"/></a:accent3>',t[t.length]='<a:accent4><a:srgbClr val="8064A2"/></a:accent4>',t[t.length]='<a:accent5><a:srgbClr val="4BACC6"/></a:accent5>',t[t.length]='<a:accent6><a:srgbClr val="F79646"/></a:accent6>',t[t.length]='<a:hlink><a:srgbClr val="0000FF"/></a:hlink>',t[t.length]='<a:folHlink><a:srgbClr val="800080"/></a:folHlink>',t[t.length]="</a:clrScheme>",t[t.length]='<a:fontScheme name="Office">',t[t.length]="<a:majorFont>",t[t.length]='<a:latin typeface="Cambria"/>',t[t.length]='<a:ea typeface=""/>',t[t.length]='<a:cs typeface=""/>',t[t.length]='<a:font script="Jpan" typeface="\uff2d\uff33 \uff30\u30b4\u30b7\u30c3\u30af"/>',t[t.length]='<a:font script="Hang" typeface="\ub9d1\uc740 \uace0\ub515"/>',t[t.length]='<a:font script="Hans" typeface="\u5b8b\u4f53"/>',t[t.length]='<a:font script="Hant" typeface="\u65b0\u7d30\u660e\u9ad4"/>',t[t.length]='<a:font script="Arab" typeface="Times New Roman"/>',t[t.length]='<a:font script="Hebr" typeface="Times New Roman"/>',t[t.length]='<a:font script="Thai" typeface="Tahoma"/>',t[t.length]='<a:font script="Ethi" typeface="Nyala"/>',t[t.length]='<a:font script="Beng" typeface="Vrinda"/>',t[t.length]='<a:font script="Gujr" typeface="Shruti"/>',t[t.length]='<a:font script="Khmr" typeface="MoolBoran"/>',t[t.length]='<a:font script="Knda" typeface="Tunga"/>',t[t.length]='<a:font script="Guru" typeface="Raavi"/>',t[t.length]='<a:font script="Cans" typeface="Euphemia"/>',t[t.length]='<a:font script="Cher" typeface="Plantagenet Cherokee"/>',t[t.length]='<a:font script="Yiii" typeface="Microsoft Yi Baiti"/>',t[t.length]='<a:font script="Tibt" typeface="Microsoft Himalaya"/>',t[t.length]='<a:font script="Thaa" typeface="MV Boli"/>',t[t.length]='<a:font script="Deva" typeface="Mangal"/>',t[t.length]='<a:font script="Telu" typeface="Gautami"/>',t[t.length]='<a:font script="Taml" typeface="Latha"/>',t[t.length]='<a:font script="Syrc" typeface="Estrangelo Edessa"/>',t[t.length]='<a:font script="Orya" typeface="Kalinga"/>',t[t.length]='<a:font script="Mlym" typeface="Kartika"/>',t[t.length]='<a:font script="Laoo" typeface="DokChampa"/>',t[t.length]='<a:font script="Sinh" typeface="Iskoola Pota"/>',t[t.length]='<a:font script="Mong" typeface="Mongolian Baiti"/>',t[t.length]='<a:font script="Viet" typeface="Times New Roman"/>',t[t.length]='<a:font script="Uigh" typeface="Microsoft Uighur"/>',t[t.length]='<a:font script="Geor" typeface="Sylfaen"/>',t[t.length]="</a:majorFont>",t[t.length]="<a:minorFont>",t[t.length]='<a:latin typeface="Calibri"/>',t[t.length]='<a:ea typeface=""/>',t[t.length]='<a:cs typeface=""/>',t[t.length]='<a:font script="Jpan" typeface="\uff2d\uff33 \uff30\u30b4\u30b7\u30c3\u30af"/>',t[t.length]='<a:font script="Hang" typeface="\ub9d1\uc740 \uace0\ub515"/>',t[t.length]='<a:font script="Hans" typeface="\u5b8b\u4f53"/>',t[t.length]='<a:font script="Hant" typeface="\u65b0\u7d30\u660e\u9ad4"/>',t[t.length]='<a:font script="Arab" typeface="Arial"/>',t[t.length]='<a:font script="Hebr" typeface="Arial"/>',t[t.length]='<a:font script="Thai" typeface="Tahoma"/>',t[t.length]='<a:font script="Ethi" typeface="Nyala"/>',t[t.length]='<a:font script="Beng" typeface="Vrinda"/>',t[t.length]='<a:font script="Gujr" typeface="Shruti"/>',t[t.length]='<a:font script="Khmr" typeface="DaunPenh"/>',t[t.length]='<a:font script="Knda" typeface="Tunga"/>',t[t.length]='<a:font script="Guru" typeface="Raavi"/>',t[t.length]='<a:font script="Cans" typeface="Euphemia"/>',t[t.length]='<a:font script="Cher" typeface="Plantagenet Cherokee"/>',t[t.length]='<a:font script="Yiii" typeface="Microsoft Yi Baiti"/>',t[t.length]='<a:font script="Tibt" typeface="Microsoft Himalaya"/>',t[t.length]='<a:font script="Thaa" typeface="MV Boli"/>',t[t.length]='<a:font script="Deva" typeface="Mangal"/>',t[t.length]='<a:font script="Telu" typeface="Gautami"/>',t[t.length]='<a:font script="Taml" typeface="Latha"/>',t[t.length]='<a:font script="Syrc" typeface="Estrangelo Edessa"/>',t[t.length]='<a:font script="Orya" typeface="Kalinga"/>',t[t.length]='<a:font script="Mlym" typeface="Kartika"/>',t[t.length]='<a:font script="Laoo" typeface="DokChampa"/>',t[t.length]='<a:font script="Sinh" typeface="Iskoola Pota"/>',t[t.length]='<a:font script="Mong" typeface="Mongolian Baiti"/>',t[t.length]='<a:font script="Viet" typeface="Arial"/>',t[t.length]='<a:font script="Uigh" typeface="Microsoft Uighur"/>',t[t.length]='<a:font script="Geor" typeface="Sylfaen"/>',t[t.length]="</a:minorFont>",t[t.length]="</a:fontScheme>",t[t.length]='<a:fmtScheme name="Office">',t[t.length]="<a:fillStyleLst>",t[t.length]='<a:solidFill><a:schemeClr val="phClr"/></a:solidFill>',t[t.length]='<a:gradFill rotWithShape="1">',t[t.length]="<a:gsLst>",t[t.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="50000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',t[t.length]='<a:gs pos="35000"><a:schemeClr val="phClr"><a:tint val="37000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',t[t.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:tint val="15000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',t[t.length]="</a:gsLst>",t[t.length]='<a:lin ang="16200000" scaled="1"/>',t[t.length]="</a:gradFill>",t[t.length]='<a:gradFill rotWithShape="1">',t[t.length]="<a:gsLst>",t[t.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="100000"/><a:shade val="100000"/><a:satMod val="130000"/></a:schemeClr></a:gs>',t[t.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:tint val="50000"/><a:shade val="100000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',t[t.length]="</a:gsLst>",t[t.length]='<a:lin ang="16200000" scaled="0"/>',t[t.length]="</a:gradFill>",t[t.length]="</a:fillStyleLst>",t[t.length]="<a:lnStyleLst>",t[t.length]='<a:ln w="9525" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"><a:shade val="95000"/><a:satMod val="105000"/></a:schemeClr></a:solidFill><a:prstDash val="solid"/></a:ln>',t[t.length]='<a:ln w="25400" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"/></a:solidFill><a:prstDash val="solid"/></a:ln>',t[t.length]='<a:ln w="38100" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"/></a:solidFill><a:prstDash val="solid"/></a:ln>',t[t.length]="</a:lnStyleLst>",t[t.length]="<a:effectStyleLst>",t[t.length]="<a:effectStyle>",t[t.length]="<a:effectLst>",t[t.length]='<a:outerShdw blurRad="40000" dist="20000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="38000"/></a:srgbClr></a:outerShdw>',t[t.length]="</a:effectLst>",t[t.length]="</a:effectStyle>",t[t.length]="<a:effectStyle>",t[t.length]="<a:effectLst>",t[t.length]='<a:outerShdw blurRad="40000" dist="23000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="35000"/></a:srgbClr></a:outerShdw>',t[t.length]="</a:effectLst>",t[t.length]="</a:effectStyle>",t[t.length]="<a:effectStyle>",t[t.length]="<a:effectLst>",t[t.length]='<a:outerShdw blurRad="40000" dist="23000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="35000"/></a:srgbClr></a:outerShdw>',t[t.length]="</a:effectLst>",t[t.length]='<a:scene3d><a:camera prst="orthographicFront"><a:rot lat="0" lon="0" rev="0"/></a:camera><a:lightRig rig="threePt" dir="t"><a:rot lat="0" lon="0" rev="1200000"/></a:lightRig></a:scene3d>',t[t.length]='<a:sp3d><a:bevelT w="63500" h="25400"/></a:sp3d>',t[t.length]="</a:effectStyle>",t[t.length]="</a:effectStyleLst>",t[t.length]="<a:bgFillStyleLst>",t[t.length]='<a:solidFill><a:schemeClr val="phClr"/></a:solidFill>',t[t.length]='<a:gradFill rotWithShape="1">',t[t.length]="<a:gsLst>",t[t.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="40000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',t[t.length]='<a:gs pos="40000"><a:schemeClr val="phClr"><a:tint val="45000"/><a:shade val="99000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',t[t.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:shade val="20000"/><a:satMod val="255000"/></a:schemeClr></a:gs>',t[t.length]="</a:gsLst>",t[t.length]='<a:path path="circle"><a:fillToRect l="50000" t="-80000" r="50000" b="180000"/></a:path>',t[t.length]="</a:gradFill>",t[t.length]='<a:gradFill rotWithShape="1">',t[t.length]="<a:gsLst>",t[t.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="80000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',t[t.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:shade val="30000"/><a:satMod val="200000"/></a:schemeClr></a:gs>',t[t.length]="</a:gsLst>",t[t.length]='<a:path path="circle"><a:fillToRect l="50000" t="50000" r="50000" b="50000"/></a:path>',t[t.length]="</a:gradFill>",t[t.length]="</a:bgFillStyleLst>",t[t.length]="</a:fmtScheme>",t[t.length]="</a:themeElements>",t[t.length]="<a:objectDefaults>",t[t.length]="<a:spDef>",t[t.length]='<a:spPr/><a:bodyPr/><a:lstStyle/><a:style><a:lnRef idx="1"><a:schemeClr val="accent1"/></a:lnRef><a:fillRef idx="3"><a:schemeClr val="accent1"/></a:fillRef><a:effectRef idx="2"><a:schemeClr val="accent1"/></a:effectRef><a:fontRef idx="minor"><a:schemeClr val="lt1"/></a:fontRef></a:style>',t[t.length]="</a:spDef>",t[t.length]="<a:lnDef>",t[t.length]='<a:spPr/><a:bodyPr/><a:lstStyle/><a:style><a:lnRef idx="2"><a:schemeClr val="accent1"/></a:lnRef><a:fillRef idx="0"><a:schemeClr val="accent1"/></a:fillRef><a:effectRef idx="1"><a:schemeClr val="accent1"/></a:effectRef><a:fontRef idx="minor"><a:schemeClr val="tx1"/></a:fontRef></a:style>',t[t.length]="</a:lnDef>",t[t.length]="</a:objectDefaults>",t[t.length]="<a:extraClrSchemeLst/>",t[t.length]="</a:theme>",t.join("")}function $b(){var e=ia();return Yr(e,332),Yr(e,334,Xh(1)),Yr(e,335,function w_(e){var n=Er(12+2*e.name.length);return n.write_shift(4,e.flags),n.write_shift(4,e.version),Tl(e.name,n),n.slice(0,n.l)}({name:"XLDAPR",version:12e4,flags:3496657072})),Yr(e,336),Yr(e,339,function bm(e,n){var t=Er(8+2*n.length);return t.write_shift(4,e),Tl(n,t),t.slice(0,t.l)}(1,"XLDAPR")),Yr(e,52),Yr(e,35,Xh(514)),Yr(e,4096,Xh(0)),Yr(e,4097,Pu(1)),Yr(e,36),Yr(e,53),Yr(e,340),Yr(e,337,function b_(e,n){var t=Er(8);return t.write_shift(4,e),t.write_shift(4,n?1:0),t}(1,!0)),Yr(e,51,function FC(e){var n=Er(4+8*e.length);n.write_shift(4,e.length);for(var t=0;t<e.length;++t)n.write_shift(4,e[t][0]),n.write_shift(4,e[t][1]);return n}([[1,0]])),Yr(e,338),Yr(e,333),e.end()}function dg(){var e=[Ma];return e.push('<metadata xmlns="http://schemas.openxmlformats.org/spreadsheetml/2006/main" xmlns:xlrd="http://schemas.microsoft.com/office/spreadsheetml/2017/richdata" xmlns:xda="http://schemas.microsoft.com/office/spreadsheetml/2017/dynamicarray">\n  <metadataTypes count="1">\n    <metadataType name="XLDAPR" minSupportedVersion="120000" copy="1" pasteAll="1" pasteValues="1" merge="1" splitFirst="1" rowColShift="1" clearFormats="1" clearComments="1" assign="1" coerce="1" cellMeta="1"/>\n  </metadataTypes>\n  <futureMetadata name="XLDAPR" count="1">\n    <bk>\n      <extLst>\n        <ext uri="{bdbb8cdc-fa1e-496e-a857-3c3f30c029c3}">\n          <xda:dynamicArrayProperties fDynamic="1" fCollapsed="0"/>\n        </ext>\n      </extLst>\n    </bk>\n  </futureMetadata>\n  <cellMetadata count="1">\n    <bk>\n      <rc t="1" v="0"/>\n    </bk>\n  </cellMetadata>\n</metadata>'),e.join("")}var e0=1024;function Em(e,n){for(var t=[21600,21600],r=["m0,0l0",t[1],t[0],t[1],t[0],"0xe"].join(","),s=[hi("xml",null,{"xmlns:v":"urn:schemas-microsoft-com:vml","xmlns:o":bl_o,"xmlns:x":bl_x,"xmlns:mv":"http://macVmlSchemaUri"}).replace(/\/>/,">"),hi("o:shapelayout",hi("o:idmap",null,{"v:ext":"edit",data:e}),{"v:ext":"edit"}),hi("v:shapetype",[hi("v:stroke",null,{joinstyle:"miter"}),hi("v:path",null,{gradientshapeok:"t","o:connecttype":"rect"})].join(""),{id:"_x0000_t202","o:spt":202,coordsize:t.join(","),path:r})];e0<1e3*e;)e0+=1e3;return n.forEach(function(o){var d=ul(o[0]),g={color2:"#BEFF82",type:"gradient"};"gradient"==g.type&&(g.angle="-180");var m="gradient"==g.type?hi("o:fill",null,{type:"gradientUnscaled","v:ext":"view"}):null,_=hi("v:fill",m,g);++e0,s=s.concat(["<v:shape"+gc({id:"_x0000_s"+e0,type:"#_x0000_t202",style:"position:absolute; margin-left:80pt;margin-top:5pt;width:104pt;height:64pt;z-index:10"+(o[1].hidden?";visibility:hidden":""),fillcolor:"#ECFAD4",strokecolor:"#edeaa1"})+">",_,hi("v:shadow",null,{on:"t",obscured:"t"}),hi("v:path",null,{"o:connecttype":"none"}),'<v:textbox><div style="text-align:left"></div></v:textbox>','<x:ClientData ObjectType="Note">',"<x:MoveWithCells/>","<x:SizeWithCells/>",Oa("x:Anchor",[d.c+1,0,d.r+1,0,d.c+3,20,d.r+5,20].join(",")),Oa("x:AutoFill","False"),Oa("x:Row",String(d.r)),Oa("x:Column",String(d.c)),o[1].hidden?"":"<x:Visible/>","</x:ClientData>","</v:shape>"])}),s.push("</xml>"),s.join("")}function u1(e){var n=[Ma,hi("comments",null,{xmlns:rh[0]})],t=[];return n.push("<authors>"),e.forEach(function(r){r[1].forEach(function(s){var o=ds(s.a);-1==t.indexOf(o)&&(t.push(o),n.push("<author>"+o+"</author>")),s.T&&s.ID&&-1==t.indexOf("tc="+s.ID)&&(t.push("tc="+s.ID),n.push("<author>tc="+s.ID+"</author>"))})}),0==t.length&&(t.push("SheetJ5"),n.push("<author>SheetJ5</author>")),n.push("</authors>"),n.push("<commentList>"),e.forEach(function(r){var s=0,o=[];if(r[1][0]&&r[1][0].T&&r[1][0].ID?s=t.indexOf("tc="+r[1][0].ID):r[1].forEach(function(m){m.a&&(s=t.indexOf(ds(m.a))),o.push(m.t||"")}),n.push('<comment ref="'+r[0]+'" authorId="'+s+'"><text>'),o.length<=1)n.push(Oa("t",ds(o[0]||"")));else{for(var d="Comment:\n    "+o[0]+"\n",g=1;g<o.length;++g)d+="Reply:\n    "+o[g]+"\n";n.push(Oa("t",ds(d)))}n.push("</text></comment>")}),n.push("</commentList>"),n.length>2&&(n[n.length]="</comments>",n[1]=n[1].replace("/>",">")),n.join("")}function h1(e,n,t){var r=[Ma,hi("ThreadedComments",null,{xmlns:ll_TCMNT}).replace(/[\/]>/,">")];return e.forEach(function(s){var o="";(s[1]||[]).forEach(function(d,g){if(d.T){d.a&&-1==n.indexOf(d.a)&&n.push(d.a);var m={ref:s[0],id:"{54EE7951-7262-4200-6969-"+("000000000000"+t.tcid++).slice(-12)+"}"};0==g?o=m.id:m.parentId=o,d.ID=m.id,d.a&&(m.personId="{54EE7950-7262-4200-6969-"+("000000000000"+n.indexOf(d.a)).slice(-12)+"}"),r.push(hi("threadedComment",Oa("text",d.t||""),m))}else delete d.ID})}),r.push("</ThreadedComments>"),r.join("")}var Yb=Po;function Sm(e){var n=ia(),t=[];return Yr(n,628),Yr(n,630),e.forEach(function(r){r[1].forEach(function(s){t.indexOf(s.a)>-1||(t.push(s.a.slice(0,54)),Yr(n,632,function Kb(e){return Tl(e.slice(0,54))}(s.a)))})}),Yr(n,631),Yr(n,633),e.forEach(function(r){r[1].forEach(function(s){s.iauthor=t.indexOf(s.a);var o={s:ul(r[0]),e:ul(r[0])};Yr(n,635,function _w(e,n){return null==n&&(n=Er(36)),n.write_shift(4,e[1].iauthor),Ad(e[0],n),n.write_shift(4,0),n.write_shift(4,0),n.write_shift(4,0),n.write_shift(4,0),n}([o,s])),s.t&&s.t.length>0&&Yr(n,637,function Jf(e,n){var t=!1;return null==n&&(t=!0,n=Er(23+4*e.t.length)),n.write_shift(1,1),Tl(e.t,n),n.write_shift(4,1),function Wg(e,n){n||(n=Er(4)),n.write_shift(2,e.ich||0),n.write_shift(2,e.ifnt||0)}({ich:0,ifnt:0},n),t?n.slice(0,n.l):n}(s)),Yr(n,636),delete s.iauthor})}),Yr(n,634),Yr(n,629),n.end()}var f1=["xlsb","xlsm","xlam","biff8","xla"],Vd=function(){var e=/(^|[^A-Za-z_])R(\[?-?\d+\]|[1-9]\d*|)C(\[?-?\d+\]|[1-9]\d*|)(?![A-Za-z0-9_])/g,n={r:0,c:0};function t(r,s,o,d){var g=!1,m=!1;0==o.length?m=!0:"["==o.charAt(0)&&(m=!0,o=o.slice(1,-1)),0==d.length?g=!0:"["==d.charAt(0)&&(g=!0,d=d.slice(1,-1));var _=o.length>0?0|parseInt(o,10):0,w=d.length>0?0|parseInt(d,10):0;return g?w+=n.c:--w,m?_+=n.r:--_,s+(g?"":"$")+Mo(w)+(m?"":"$")+El(_)}return function(s,o){return n=o,s.replace(e,t)}}(),S_=/(^|[^._A-Z0-9])([$]?)([A-Z]{1,2}|[A-W][A-Z]{2}|X[A-E][A-Z]|XF[A-D])([$]?)(10[0-3]\d{4}|104[0-7]\d{3}|1048[0-4]\d{2}|10485[0-6]\d|104857[0-6]|[1-9]\d{0,5})(?![_.\(A-Za-z0-9])/g,t0=function(){return function(n,t){return n.replace(S_,function(r,s,o,d,g,m){var _=bx(d)-(o?0:t.c),w=kp(m)-(g?0:t.r);return s+"R"+(0==w?"":g?w+1:"["+w+"]")+"C"+(0==_?"":o?_+1:"["+_+"]")})}}();function ww(e,n){return e.replace(S_,function(t,r,s,o,d,g){return r+("$"==s?s+o:Mo(bx(o)+n.c))+("$"==d?d+g:El(kp(g)+n.r))})}function La(e){e.l+=1}function Ou(e,n){var t=e.read_shift(1==n?1:2);return[16383&t,t>>14&1,t>>15&1]}function bw(e,n,t){var r=2;if(t){if(t.biff>=2&&t.biff<=5)return A_(e);12==t.biff&&(r=4)}var s=e.read_shift(r),o=e.read_shift(r),d=Ou(e,2),g=Ou(e,2);return{s:{r:s,c:d[0],cRel:d[1],rRel:d[2]},e:{r:o,c:g[0],cRel:g[1],rRel:g[2]}}}function A_(e){var n=Ou(e,2),t=Ou(e,2),r=e.read_shift(1),s=e.read_shift(1);return{s:{r:n[0],c:r,cRel:n[1],rRel:n[2]},e:{r:t[0],c:s,cRel:t[1],rRel:t[2]}}}function r0(e,n,t){if(t&&t.biff>=2&&t.biff<=5)return function Tw(e){var n=Ou(e,2),t=e.read_shift(1);return{r:n[0],c:t,cRel:n[1],rRel:n[2]}}(e);var r=e.read_shift(t&&12==t.biff?4:2),s=Ou(e,2);return{r,c:s[0],cRel:s[1],rRel:s[2]}}function gg(e){var n=e.read_shift(2),t=e.read_shift(2);return{r:n,c:255&t,fQuoted:!!(16384&t),cRel:t>>15,rRel:t>>15}}function cd(e){var n=1&e[e.l+1];return e.l+=4,[n,1]}function y1(e){return[e.read_shift(1),e.read_shift(1)]}function Nw(e,n){var t=[e.read_shift(1)];if(12==n)switch(t[0]){case 2:t[0]=4;break;case 4:t[0]=16;break;case 0:t[0]=1;break;case 1:t[0]=2}switch(t[0]){case 4:t[1]=function Ka(e,n){return 1===e.read_shift(n)}(e,1)?"TRUE":"FALSE",12!=n&&(e.l+=7);break;case 37:case 16:t[1]=Qh[e[e.l]],e.l+=12==n?4:8;break;case 0:e.l+=8;break;case 1:t[1]=du(e);break;case 2:t[1]=function jp(e,n,t){if(t.biff>5)return function Jg(e,n,t){var r=e.read_shift(t&&2==t.biff?1:2);return 0===r?(e.l++,""):function Bp(e,n,t){if(t){if(t.biff>=2&&t.biff<=5)return e.read_shift(n,"cpstr");if(t.biff>=12)return e.read_shift(n,"dbcs-cont")}var s=e.read_shift(1);return e.read_shift(n,0===s?"sbcs-cont":"dbcs-cont")}(e,r,t)}(e,0,t);var r=e.read_shift(1);return 0===r?(e.l++,""):e.read_shift(r,t.biff<=4||!e.lens?"cpstr":"sbcs-cont")}(e,0,{biff:n>0&&n<8?2:n});break;default:throw new Error("Bad SerAr: "+t[0])}return t}function P_(e,n,t){for(var r=e.read_shift(12==t.biff?4:2),s=[],o=0;o!=r;++o)s.push((12==t.biff?Ul:rp)(e,8));return s}function b1(e,n,t){var r=0,s=0;12==t.biff?(r=e.read_shift(4),s=e.read_shift(4)):(s=1+e.read_shift(1),r=1+e.read_shift(2)),t.biff>=2&&t.biff<8&&(--r,0==--s&&(s=256));for(var o=0,d=[];o!=r&&(d[o]=[]);++o)for(var g=0;g!=s;++g)d[o][g]=Nw(e,t.biff);return d}function Im(e,n,t){return e.l+=2,[gg(e)]}function Uw(e){return e.l+=6,[]}function a(e){return e.l+=2,[hl(e),1&e.read_shift(2)]}var Ye=["Data","All","Headers","??","?Data2","??","?DataHeaders","??","Totals","??","??","??","?DataTotals","??","??","??","?Current"],Qi={1:{n:"PtgExp",f:function rE(e,n,t){return e.l++,t&&12==t.biff?[e.read_shift(4,"i"),0]:[e.read_shift(2),e.read_shift(t&&2==t.biff?1:2)]}},2:{n:"PtgTbl",f:cl},3:{n:"PtgAdd",f:La},4:{n:"PtgSub",f:La},5:{n:"PtgMul",f:La},6:{n:"PtgDiv",f:La},7:{n:"PtgPower",f:La},8:{n:"PtgConcat",f:La},9:{n:"PtgLt",f:La},10:{n:"PtgLe",f:La},11:{n:"PtgEq",f:La},12:{n:"PtgGe",f:La},13:{n:"PtgGt",f:La},14:{n:"PtgNe",f:La},15:{n:"PtgIsect",f:La},16:{n:"PtgUnion",f:La},17:{n:"PtgRange",f:La},18:{n:"PtgUplus",f:La},19:{n:"PtgUminus",f:La},20:{n:"PtgPercent",f:La},21:{n:"PtgParen",f:La},22:{n:"PtgMissArg",f:La},23:{n:"PtgStr",f:function Pw(e,n,t){return e.l++,rd(e,0,t)}},26:{n:"PtgSheet",f:function Cn(e,n,t){return e.l+=5,e.l+=2,e.l+=2==t.biff?1:4,["PTGSHEET"]}},27:{n:"PtgEndSheet",f:function fr(e,n,t){return e.l+=2==t.biff?4:5,["PTGENDSHEET"]}},28:{n:"PtgErr",f:function Dw(e){return e.l++,Qh[e.read_shift(1)]}},29:{n:"PtgBool",f:function w1(e){return e.l++,0!==e.read_shift(1)}},30:{n:"PtgInt",f:function kw(e){return e.l++,e.read_shift(2)}},31:{n:"PtgNum",f:function iE(e){return e.l++,du(e)}},32:{n:"PtgArray",f:function I_(e,n,t){var r=(96&e[e.l++])>>5;return e.l+=2==t.biff?6:12==t.biff?14:7,[r]}},33:{n:"PtgFunc",f:function x1(e,n,t){var r=(96&e[e.l])>>5;e.l+=1;var s=e.read_shift(t&&t.biff<=3?1:2);return[VC[s],hD[s],r]}},34:{n:"PtgFuncVar",f:function Ah(e,n,t){var r=e[e.l++],s=e.read_shift(1),o=t&&t.biff<=3?[88==r?-1:0,e.read_shift(1)]:function nE(e){return[e[e.l+1]>>7,32767&e.read_shift(2)]}(e);return[s,(0===o[0]?hD:tc)[o[1]]]}},35:{n:"PtgName",f:function N_(e,n,t){var r=e.read_shift(1)>>>5&3,o=e.read_shift(!t||t.biff>=8?4:2);switch(t.biff){case 2:e.l+=5;break;case 3:case 4:e.l+=8;break;case 5:e.l+=12}return[r,0,o]}},36:{n:"PtgRef",f:function k_(e,n,t){var r=(96&e[e.l])>>5;return e.l+=1,[r,r0(e,0,t)]}},37:{n:"PtgArea",f:function Cw(e,n,t){return[(96&e[e.l++])>>5,bw(e,0,t)]}},38:{n:"PtgMemArea",f:function E1(e,n,t){var r=e.read_shift(1)>>>5&3;return e.l+=t&&2==t.biff?3:4,[r,e.read_shift(t&&2==t.biff?1:2)]}},39:{n:"PtgMemErr",f:cl},40:{n:"PtgMemNoMem",f:cl},41:{n:"PtgMemFunc",f:function Ow(e,n,t){return[e.read_shift(1)>>>5&3,e.read_shift(t&&2==t.biff?1:2)]}},42:{n:"PtgRefErr",f:function Fw(e,n,t){var r=e.read_shift(1)>>>5&3;return e.l+=4,t.biff<8&&e.l--,12==t.biff&&(e.l+=2),[r]}},43:{n:"PtgAreaErr",f:function Aw(e,n,t){var r=(96&e[e.l++])>>5;return e.l+=t&&t.biff>8?12:t.biff<8?6:8,[r]}},44:{n:"PtgRefN",f:function _1(e,n,t){var r=(96&e[e.l])>>5;e.l+=1;var s=function Xb(e,n,t){var r=t&&t.biff?t.biff:8;if(r>=2&&r<=5)return function Jb(e){var n=e.read_shift(2),t=e.read_shift(1),r=(32768&n)>>15,s=(16384&n)>>14;return n&=16383,1==r&&n>=8192&&(n-=16384),1==s&&t>=128&&(t-=256),{r:n,c:t,cRel:s,rRel:r}}(e);var s=e.read_shift(r>=12?4:2),o=e.read_shift(2),d=(16384&o)>>14,g=(32768&o)>>15;if(o&=16383,1==g)for(;s>524287;)s-=1048576;if(1==d)for(;o>8191;)o-=16384;return{r:s,c:o,cRel:d,rRel:g}}(e,0,t);return[r,s]}},45:{n:"PtgAreaN",f:function v1(e,n,t){var r=(96&e[e.l++])>>5,s=function Ew(e,n,t){if(t.biff<8)return A_(e);var r=e.read_shift(12==t.biff?4:2),s=e.read_shift(12==t.biff?4:2),o=Ou(e,2),d=Ou(e,2);return{s:{r,c:o[0],cRel:o[1],rRel:o[2]},e:{r:s,c:d[0],cRel:d[1],rRel:d[2]}}}(e,0,t);return[r,s]}},46:{n:"PtgMemAreaN",f:function Br(e){return[e.read_shift(1)>>>5&3,e.read_shift(2)]}},47:{n:"PtgMemNoMemN",f:function Jr(e){return[e.read_shift(1)>>>5&3,e.read_shift(2)]}},57:{n:"PtgNameX",f:function Mw(e,n,t){return 5==t.biff?function s0(e){var n=e.read_shift(1)>>>5&3,t=e.read_shift(2,"i");e.l+=8;var r=e.read_shift(2);return e.l+=12,[n,t,r]}(e):[e.read_shift(1)>>>5&3,e.read_shift(2),e.read_shift(4)]}},58:{n:"PtgRef3d",f:function tE(e,n,t){var r=(96&e[e.l])>>5;e.l+=1;var s=e.read_shift(2);return t&&5==t.biff&&(e.l+=12),[r,s,r0(e,0,t)]}},59:{n:"PtgArea3d",f:function Sw(e,n,t){var r=(96&e[e.l++])>>5,s=e.read_shift(2,"i");if(t&&5===t.biff)e.l+=12;return[r,s,bw(e,0,t)]}},60:{n:"PtgRefErr3d",f:function Rw(e,n,t){var r=(96&e[e.l++])>>5,s=e.read_shift(2),o=4;if(t)switch(t.biff){case 5:o=15;break;case 12:o=6}return e.l+=o,[r,s]}},61:{n:"PtgAreaErr3d",f:function RC(e,n,t){var r=(96&e[e.l++])>>5,s=e.read_shift(2),o=8;if(t)switch(t.biff){case 5:e.l+=12,o=6;break;case 12:o=12}return e.l+=o,[r,s]}},255:{}},Uo={64:32,96:32,65:33,97:33,66:34,98:34,67:35,99:35,68:36,100:36,69:37,101:37,70:38,102:38,71:39,103:39,72:40,104:40,73:41,105:41,74:42,106:42,75:43,107:43,76:44,108:44,77:45,109:45,78:46,110:46,79:47,111:47,88:34,120:34,89:57,121:57,90:58,122:58,91:59,123:59,92:60,124:60,93:61,125:61},Ua={1:{n:"PtgElfLel",f:a},2:{n:"PtgElfRw",f:Im},3:{n:"PtgElfCol",f:Im},6:{n:"PtgElfRwV",f:Im},7:{n:"PtgElfColV",f:Im},10:{n:"PtgElfRadical",f:Im},11:{n:"PtgElfRadicalS",f:Uw},13:{n:"PtgElfColS",f:Uw},15:{n:"PtgElfColSV",f:Uw},16:{n:"PtgElfRadicalLel",f:a},25:{n:"PtgList",f:function pt(e){e.l+=2;var n=e.read_shift(2),t=e.read_shift(2),r=e.read_shift(4),s=e.read_shift(2),o=e.read_shift(2);return{ixti:n,coltype:3&t,rt:Ye[t>>2&31],idx:r,c:s,C:o}}},29:{n:"PtgSxName",f:function Wt(e){return e.l+=2,[e.read_shift(4)]}},255:{}},Ja={0:{n:"PtgAttrNoop",f:function Fi(e){return e.l+=4,[0,0]}},1:{n:"PtgAttrSemi",f:function Sh(e,n,t){var r=255&e[e.l+1]?1:0;return e.l+=t&&2==t.biff?3:4,[r]}},2:{n:"PtgAttrIf",f:function Hd(e,n,t){var r=255&e[e.l+1]?1:0;return e.l+=2,[r,e.read_shift(t&&2==t.biff?1:2)]}},4:{n:"PtgAttrChoose",f:function Iw(e,n,t){e.l+=2;for(var r=e.read_shift(t&&2==t.biff?1:2),s=[],o=0;o<=r;++o)s.push(e.read_shift(t&&2==t.biff?1:2));return s}},8:{n:"PtgAttrGoto",f:function Qb(e,n,t){var r=255&e[e.l+1]?1:0;return e.l+=2,[r,e.read_shift(t&&2==t.biff?1:2)]}},16:{n:"PtgAttrSum",f:function pp(e,n,t){e.l+=t&&2==t.biff?3:4}},32:{n:"PtgAttrBaxcel",f:cd},33:{n:"PtgAttrBaxcel",f:cd},64:{n:"PtgAttrSpace",f:function D_(e){return e.read_shift(2),y1(e)}},65:{n:"PtgAttrSpaceSemi",f:function eE(e){return e.read_shift(2),y1(e)}},128:{n:"PtgAttrIfError",f:function Ch(e){var n=255&e[e.l+1]?1:0;return e.l+=2,[n,e.read_shift(2)]}},255:{}};function jl(e,n,t,r){if(r.biff<8)return cl(e,n);for(var s=e.l+n,o=[],d=0;d!==t.length;++d)switch(t[d][0]){case"PtgArray":t[d][1]=b1(e,0,r),o.push(t[d][1]);break;case"PtgMemArea":t[d][2]=P_(e,0,r),o.push(t[d][2]);break;case"PtgExp":r&&12==r.biff&&(t[d][1][1]=e.read_shift(4),o.push(t[d][1]));break;case"PtgList":case"PtgElfRadicalS":case"PtgElfColS":case"PtgElfColSV":throw"Unsupported "+t[d][0]}return 0!=(n=s-e.l)&&o.push(cl(e,n)),o}function Sl(e){for(var n=[],t=0;t<e.length;++t){for(var r=e[t],s=[],o=0;o<r.length;++o){var d=r[o];s.push(d?2===d[0]?'"'+d[1].replace(/"/g,'""')+'"':d[1]:"")}n.push(s.join(","))}return n.join(";")}var ec={PtgAdd:"+",PtgConcat:"&",PtgDiv:"/",PtgEq:"=",PtgGe:">=",PtgGt:">",PtgLe:"<=",PtgLt:"<",PtgMul:"*",PtgNe:"<>",PtgPower:"^",PtgSub:"-"};function UC(e,n,t){if(!e)return"SH33TJSERR0";if(t.biff>8&&(!e.XTI||!e.XTI[n]))return e.SheetNames[n];if(!e.XTI)return"SH33TJSERR6";var r=e.XTI[n];if(t.biff<8)return n>1e4&&(n-=65536),n<0&&(n=-n),0==n?"":e.XTI[n-1];if(!r)return"SH33TJSERR1";var s="";if(t.biff>8)switch(e[r[0]][0]){case 357:return s=-1==r[1]?"#REF":e.SheetNames[r[1]],r[1]==r[2]?s:s+":"+e.SheetNames[r[2]];case 358:return null!=t.SID?e.SheetNames[t.SID]:"SH33TJSSAME"+e[r[0]][0];default:return"SH33TJSSRC"+e[r[0]][0]}switch(e[r[0]][0][0]){case 1025:return s=-1==r[1]?"#REF":e.SheetNames[r[1]]||"SH33TJSERR3",r[1]==r[2]?s:s+":"+e.SheetNames[r[2]];case 14849:return e[r[0]].slice(1).map(function(o){return o.Name}).join(";;");default:return e[r[0]][0][3]?(s=-1==r[1]?"#REF":e[r[0]][0][3][r[1]]||"SH33TJSERR4",r[1]==r[2]?s:s+":"+e[r[0]][0][3][r[2]]):"SH33TJSERR2"}}function km(e,n,t){var r=UC(e,n,t);return"#REF"==r?r:function Dm(e,n){if(!(e||n&&n.biff<=5&&n.biff>=2))throw new Error("empty sheet name");return/[^\w\u4E00-\u9FFF\u3040-\u30FF]/.test(e)?"'"+e+"'":e}(r,t)}function hh(e,n,t,r,s){var m,_,w,D,o=s&&s.biff||8,d={s:{c:0,r:0},e:{c:0,r:0}},g=[],A=0,N=0,ee="";if(!e[0]||!e[0][0])return"";for(var B=-1,he="",Pe=0,je=e[0].length;Pe<je;++Pe){var Xe=e[0][Pe];switch(Xe[0]){case"PtgUminus":g.push("-"+g.pop());break;case"PtgUplus":g.push("+"+g.pop());break;case"PtgPercent":g.push(g.pop()+"%");break;case"PtgAdd":case"PtgConcat":case"PtgDiv":case"PtgEq":case"PtgGe":case"PtgGt":case"PtgLe":case"PtgLt":case"PtgMul":case"PtgNe":case"PtgPower":case"PtgSub":if(m=g.pop(),_=g.pop(),B>=0){switch(e[0][B][1][0]){case 0:he=fa(" ",e[0][B][1][1]);break;case 1:he=fa("\r",e[0][B][1][1]);break;default:if(he="",s.WTF)throw new Error("Unexpected PtgAttrSpaceType "+e[0][B][1][0])}_+=he,B=-1}g.push(_+ec[Xe[0]]+m);break;case"PtgIsect":m=g.pop(),_=g.pop(),g.push(_+" "+m);break;case"PtgUnion":m=g.pop(),_=g.pop(),g.push(_+","+m);break;case"PtgRange":m=g.pop(),_=g.pop(),g.push(_+":"+m);break;case"PtgAttrChoose":case"PtgAttrGoto":case"PtgAttrIf":case"PtgAttrIfError":case"PtgAttrBaxcel":case"PtgAttrSemi":case"PtgMemArea":case"PtgTbl":case"PtgMemErr":case"PtgMemAreaN":case"PtgMemNoMemN":case"PtgAttrNoop":case"PtgSheet":case"PtgEndSheet":case"PtgMemFunc":case"PtgMemNoMem":break;case"PtgRef":w=Yh(Xe[1][1],d,s),g.push(Iu(w,o));break;case"PtgRefN":w=t?Yh(Xe[1][1],t,s):Xe[1][1],g.push(Iu(w,o));break;case"PtgRef3d":A=Xe[1][1],w=Yh(Xe[1][2],d,s),ee=km(r,A,s),g.push(ee+"!"+Iu(w,o));break;case"PtgFunc":case"PtgFuncVar":var Xt=Xe[1][0],bn=Xe[1][1];Xt||(Xt=0);var At=0==(Xt&=127)?[]:g.slice(-Xt);g.length-=Xt,"User"===bn&&(bn=At.shift()),g.push(bn+"("+At.join(",")+")");break;case"PtgBool":g.push(Xe[1]?"TRUE":"FALSE");break;case"PtgInt":case"PtgErr":g.push(Xe[1]);break;case"PtgNum":g.push(String(Xe[1]));break;case"PtgStr":g.push('"'+Xe[1].replace(/"/g,'""')+'"');break;case"PtgAreaN":D=cv(Xe[1][1],t?{s:t}:d,s),g.push(uv(D,s));break;case"PtgArea":D=cv(Xe[1][1],d,s),g.push(uv(D,s));break;case"PtgArea3d":D=Xe[1][2],ee=km(r,A=Xe[1][1],s),g.push(ee+"!"+uv(D,s));break;case"PtgAttrSum":g.push("SUM("+g.pop()+")");break;case"PtgName":var St=(r.names||[])[(N=Xe[1][2])-1]||(r[0]||[])[N],Jt=St?St.Name:"SH33TJSNAME"+String(N);Jt&&"_xlfn."==Jt.slice(0,6)&&!s.xlfn&&(Jt=Jt.slice(6)),g.push(Jt);break;case"PtgNameX":var vt,gn=Xe[1][1];if(N=Xe[1][2],!(s.biff<=5)){var st="";if(14849==((r[gn]||[])[0]||[])[0]||(1025==((r[gn]||[])[0]||[])[0]?r[gn][N]&&r[gn][N].itab>0&&(st=r.SheetNames[r[gn][N].itab-1]+"!"):st=r.SheetNames[N-1]+"!"),r[gn]&&r[gn][N])st+=r[gn][N].Name;else if(r[0]&&r[0][N])st+=r[0][N].Name;else{var rn=(UC(r,gn,s)||"").split(";;");rn[N-1]?st=rn[N-1]:st+="SH33TJSERRX"}g.push(st);break}gn<0&&(gn=-gn),r[gn]&&(vt=r[gn][N]),vt||(vt={Name:"SH33TJSERRY"}),g.push(vt.Name);break;case"PtgParen":var tn="(",Fn=")";if(B>=0){switch(he="",e[0][B][1][0]){case 2:tn=fa(" ",e[0][B][1][1])+tn;break;case 3:tn=fa("\r",e[0][B][1][1])+tn;break;case 4:Fn=fa(" ",e[0][B][1][1])+Fn;break;case 5:Fn=fa("\r",e[0][B][1][1])+Fn;break;default:if(s.WTF)throw new Error("Unexpected PtgAttrSpaceType "+e[0][B][1][0])}B=-1}g.push(tn+g.pop()+Fn);break;case"PtgRefErr":case"PtgRefErr3d":case"PtgAreaErr":case"PtgAreaErr3d":g.push("#REF!");break;case"PtgExp":var Wn={c:t.c,r:t.r};if(r.sharedf[Gi(w={c:Xe[1][1],r:Xe[1][0]})]){var Kn=r.sharedf[Gi(w)];g.push(hh(Kn,0,Wn,r,s))}else{var Zn=!1;for(m=0;m!=r.arrayf.length;++m)if(!(w.c<(_=r.arrayf[m])[0].s.c||w.c>_[0].e.c||w.r<_[0].s.r||w.r>_[0].e.r)){g.push(hh(_[1],0,Wn,r,s)),Zn=!0;break}Zn||g.push(Xe[1])}break;case"PtgArray":g.push("{"+Sl(Xe[1])+"}");break;case"PtgAttrSpace":case"PtgAttrSpaceSemi":B=Pe;break;case"PtgMissArg":g.push("");break;case"PtgList":g.push("Table"+Xe[1].idx+"[#"+Xe[1].rt+"]");break;case"PtgElfCol":case"PtgElfColS":case"PtgElfColSV":case"PtgElfColV":case"PtgElfLel":case"PtgElfRadical":case"PtgElfRadicalLel":case"PtgElfRadicalS":case"PtgElfRw":case"PtgElfRwV":throw new Error("Unsupported ELFs");default:throw new Error("Unrecognized Formula Token: "+String(Xe))}if(3!=s.biff&&B>=0&&-1==["PtgAttrSpace","PtgAttrSpaceSemi","PtgAttrGoto"].indexOf(e[0][Pe][0])){var nr=!0;switch((Xe=e[0][B])[1][0]){case 4:nr=!1;case 0:he=fa(" ",Xe[1][1]);break;case 5:nr=!1;case 1:he=fa("\r",Xe[1][1]);break;default:if(he="",s.WTF)throw new Error("Unexpected PtgAttrSpaceType "+Xe[1][0])}g.push((nr?he:"")+g.pop()+(nr?"":he)),B=-1}}if(g.length>1&&s.WTF)throw new Error("bad formula stack");return g[0]}function jw(e,n,t){var r=e.read_shift(4),s=function Qa(e,n,t){for(var s,o,r=e.l+n,d=[];r!=e.l;)n=r-e.l,s=Qi[o=e[e.l]]||Qi[Uo[o]],(24===o||25===o)&&(s=(24===o?Ua:Ja)[e[e.l+1]]),s&&s.f?d.push([s.n,s.f(e,n,t)]):cl(e,n);return d}(e,r,t),o=e.read_shift(4);return[s,o>0?jl(e,o,s,t):null]}var Vw=jw,Hw=jw,zw=jw,Ww=jw,tc={0:"BEEP",1:"OPEN",2:"OPEN.LINKS",3:"CLOSE.ALL",4:"SAVE",5:"SAVE.AS",6:"FILE.DELETE",7:"PAGE.SETUP",8:"PRINT",9:"PRINTER.SETUP",10:"QUIT",11:"NEW.WINDOW",12:"ARRANGE.ALL",13:"WINDOW.SIZE",14:"WINDOW.MOVE",15:"FULL",16:"CLOSE",17:"RUN",22:"SET.PRINT.AREA",23:"SET.PRINT.TITLES",24:"SET.PAGE.BREAK",25:"REMOVE.PAGE.BREAK",26:"FONT",27:"DISPLAY",28:"PROTECT.DOCUMENT",29:"PRECISION",30:"A1.R1C1",31:"CALCULATE.NOW",32:"CALCULATION",34:"DATA.FIND",35:"EXTRACT",36:"DATA.DELETE",37:"SET.DATABASE",38:"SET.CRITERIA",39:"SORT",40:"DATA.SERIES",41:"TABLE",42:"FORMAT.NUMBER",43:"ALIGNMENT",44:"STYLE",45:"BORDER",46:"CELL.PROTECTION",47:"COLUMN.WIDTH",48:"UNDO",49:"CUT",50:"COPY",51:"PASTE",52:"CLEAR",53:"PASTE.SPECIAL",54:"EDIT.DELETE",55:"INSERT",56:"FILL.RIGHT",57:"FILL.DOWN",61:"DEFINE.NAME",62:"CREATE.NAMES",63:"FORMULA.GOTO",64:"FORMULA.FIND",65:"SELECT.LAST.CELL",66:"SHOW.ACTIVE.CELL",67:"GALLERY.AREA",68:"GALLERY.BAR",69:"GALLERY.COLUMN",70:"GALLERY.LINE",71:"GALLERY.PIE",72:"GALLERY.SCATTER",73:"COMBINATION",74:"PREFERRED",75:"ADD.OVERLAY",76:"GRIDLINES",77:"SET.PREFERRED",78:"AXES",79:"LEGEND",80:"ATTACH.TEXT",81:"ADD.ARROW",82:"SELECT.CHART",83:"SELECT.PLOT.AREA",84:"PATTERNS",85:"MAIN.CHART",86:"OVERLAY",87:"SCALE",88:"FORMAT.LEGEND",89:"FORMAT.TEXT",90:"EDIT.REPEAT",91:"PARSE",92:"JUSTIFY",93:"HIDE",94:"UNHIDE",95:"WORKSPACE",96:"FORMULA",97:"FORMULA.FILL",98:"FORMULA.ARRAY",99:"DATA.FIND.NEXT",100:"DATA.FIND.PREV",101:"FORMULA.FIND.NEXT",102:"FORMULA.FIND.PREV",103:"ACTIVATE",104:"ACTIVATE.NEXT",105:"ACTIVATE.PREV",106:"UNLOCKED.NEXT",107:"UNLOCKED.PREV",108:"COPY.PICTURE",109:"SELECT",110:"DELETE.NAME",111:"DELETE.FORMAT",112:"VLINE",113:"HLINE",114:"VPAGE",115:"HPAGE",116:"VSCROLL",117:"HSCROLL",118:"ALERT",119:"NEW",120:"CANCEL.COPY",121:"SHOW.CLIPBOARD",122:"MESSAGE",124:"PASTE.LINK",125:"APP.ACTIVATE",126:"DELETE.ARROW",127:"ROW.HEIGHT",128:"FORMAT.MOVE",129:"FORMAT.SIZE",130:"FORMULA.REPLACE",131:"SEND.KEYS",132:"SELECT.SPECIAL",133:"APPLY.NAMES",134:"REPLACE.FONT",135:"FREEZE.PANES",136:"SHOW.INFO",137:"SPLIT",138:"ON.WINDOW",139:"ON.DATA",140:"DISABLE.INPUT",142:"OUTLINE",143:"LIST.NAMES",144:"FILE.CLOSE",145:"SAVE.WORKBOOK",146:"DATA.FORM",147:"COPY.CHART",148:"ON.TIME",149:"WAIT",150:"FORMAT.FONT",151:"FILL.UP",152:"FILL.LEFT",153:"DELETE.OVERLAY",155:"SHORT.MENUS",159:"SET.UPDATE.STATUS",161:"COLOR.PALETTE",162:"DELETE.STYLE",163:"WINDOW.RESTORE",164:"WINDOW.MAXIMIZE",166:"CHANGE.LINK",167:"CALCULATE.DOCUMENT",168:"ON.KEY",169:"APP.RESTORE",170:"APP.MOVE",171:"APP.SIZE",172:"APP.MINIMIZE",173:"APP.MAXIMIZE",174:"BRING.TO.FRONT",175:"SEND.TO.BACK",185:"MAIN.CHART.TYPE",186:"OVERLAY.CHART.TYPE",187:"SELECT.END",188:"OPEN.MAIL",189:"SEND.MAIL",190:"STANDARD.FONT",191:"CONSOLIDATE",192:"SORT.SPECIAL",193:"GALLERY.3D.AREA",194:"GALLERY.3D.COLUMN",195:"GALLERY.3D.LINE",196:"GALLERY.3D.PIE",197:"VIEW.3D",198:"GOAL.SEEK",199:"WORKGROUP",200:"FILL.GROUP",201:"UPDATE.LINK",202:"PROMOTE",203:"DEMOTE",204:"SHOW.DETAIL",206:"UNGROUP",207:"OBJECT.PROPERTIES",208:"SAVE.NEW.OBJECT",209:"SHARE",210:"SHARE.NAME",211:"DUPLICATE",212:"APPLY.STYLE",213:"ASSIGN.TO.OBJECT",214:"OBJECT.PROTECTION",215:"HIDE.OBJECT",216:"SET.EXTRACT",217:"CREATE.PUBLISHER",218:"SUBSCRIBE.TO",219:"ATTRIBUTES",220:"SHOW.TOOLBAR",222:"PRINT.PREVIEW",223:"EDIT.COLOR",224:"SHOW.LEVELS",225:"FORMAT.MAIN",226:"FORMAT.OVERLAY",227:"ON.RECALC",228:"EDIT.SERIES",229:"DEFINE.STYLE",240:"LINE.PRINT",243:"ENTER.DATA",249:"GALLERY.RADAR",250:"MERGE.STYLES",251:"EDITION.OPTIONS",252:"PASTE.PICTURE",253:"PASTE.PICTURE.LINK",254:"SPELLING",256:"ZOOM",259:"INSERT.OBJECT",260:"WINDOW.MINIMIZE",265:"SOUND.NOTE",266:"SOUND.PLAY",267:"FORMAT.SHAPE",268:"EXTEND.POLYGON",269:"FORMAT.AUTO",272:"GALLERY.3D.BAR",273:"GALLERY.3D.SURFACE",274:"FILL.AUTO",276:"CUSTOMIZE.TOOLBAR",277:"ADD.TOOL",278:"EDIT.OBJECT",279:"ON.DOUBLECLICK",280:"ON.ENTRY",281:"WORKBOOK.ADD",282:"WORKBOOK.MOVE",283:"WORKBOOK.COPY",284:"WORKBOOK.OPTIONS",285:"SAVE.WORKSPACE",288:"CHART.WIZARD",289:"DELETE.TOOL",290:"MOVE.TOOL",291:"WORKBOOK.SELECT",292:"WORKBOOK.ACTIVATE",293:"ASSIGN.TO.TOOL",295:"COPY.TOOL",296:"RESET.TOOL",297:"CONSTRAIN.NUMERIC",298:"PASTE.TOOL",302:"WORKBOOK.NEW",305:"SCENARIO.CELLS",306:"SCENARIO.DELETE",307:"SCENARIO.ADD",308:"SCENARIO.EDIT",309:"SCENARIO.SHOW",310:"SCENARIO.SHOW.NEXT",311:"SCENARIO.SUMMARY",312:"PIVOT.TABLE.WIZARD",313:"PIVOT.FIELD.PROPERTIES",314:"PIVOT.FIELD",315:"PIVOT.ITEM",316:"PIVOT.ADD.FIELDS",318:"OPTIONS.CALCULATION",319:"OPTIONS.EDIT",320:"OPTIONS.VIEW",321:"ADDIN.MANAGER",322:"MENU.EDITOR",323:"ATTACH.TOOLBARS",324:"VBAActivate",325:"OPTIONS.CHART",328:"VBA.INSERT.FILE",330:"VBA.PROCEDURE.DEFINITION",336:"ROUTING.SLIP",338:"ROUTE.DOCUMENT",339:"MAIL.LOGON",342:"INSERT.PICTURE",343:"EDIT.TOOL",344:"GALLERY.DOUGHNUT",350:"CHART.TREND",352:"PIVOT.ITEM.PROPERTIES",354:"WORKBOOK.INSERT",355:"OPTIONS.TRANSITION",356:"OPTIONS.GENERAL",370:"FILTER.ADVANCED",373:"MAIL.ADD.MAILER",374:"MAIL.DELETE.MAILER",375:"MAIL.REPLY",376:"MAIL.REPLY.ALL",377:"MAIL.FORWARD",378:"MAIL.NEXT.LETTER",379:"DATA.LABEL",380:"INSERT.TITLE",381:"FONT.PROPERTIES",382:"MACRO.OPTIONS",383:"WORKBOOK.HIDE",384:"WORKBOOK.UNHIDE",385:"WORKBOOK.DELETE",386:"WORKBOOK.NAME",388:"GALLERY.CUSTOM",390:"ADD.CHART.AUTOFORMAT",391:"DELETE.CHART.AUTOFORMAT",392:"CHART.ADD.DATA",393:"AUTO.OUTLINE",394:"TAB.ORDER",395:"SHOW.DIALOG",396:"SELECT.ALL",397:"UNGROUP.SHEETS",398:"SUBTOTAL.CREATE",399:"SUBTOTAL.REMOVE",400:"RENAME.OBJECT",412:"WORKBOOK.SCROLL",413:"WORKBOOK.NEXT",414:"WORKBOOK.PREV",415:"WORKBOOK.TAB.SPLIT",416:"FULL.SCREEN",417:"WORKBOOK.PROTECT",420:"SCROLLBAR.PROPERTIES",421:"PIVOT.SHOW.PAGES",422:"TEXT.TO.COLUMNS",423:"FORMAT.CHARTTYPE",424:"LINK.FORMAT",425:"TRACER.DISPLAY",430:"TRACER.NAVIGATE",431:"TRACER.CLEAR",432:"TRACER.ERROR",433:"PIVOT.FIELD.GROUP",434:"PIVOT.FIELD.UNGROUP",435:"CHECKBOX.PROPERTIES",436:"LABEL.PROPERTIES",437:"LISTBOX.PROPERTIES",438:"EDITBOX.PROPERTIES",439:"PIVOT.REFRESH",440:"LINK.COMBO",441:"OPEN.TEXT",442:"HIDE.DIALOG",443:"SET.DIALOG.FOCUS",444:"ENABLE.OBJECT",445:"PUSHBUTTON.PROPERTIES",446:"SET.DIALOG.DEFAULT",447:"FILTER",448:"FILTER.SHOW.ALL",449:"CLEAR.OUTLINE",450:"FUNCTION.WIZARD",451:"ADD.LIST.ITEM",452:"SET.LIST.ITEM",453:"REMOVE.LIST.ITEM",454:"SELECT.LIST.ITEM",455:"SET.CONTROL.VALUE",456:"SAVE.COPY.AS",458:"OPTIONS.LISTS.ADD",459:"OPTIONS.LISTS.DELETE",460:"SERIES.AXES",461:"SERIES.X",462:"SERIES.Y",463:"ERRORBAR.X",464:"ERRORBAR.Y",465:"FORMAT.CHART",466:"SERIES.ORDER",467:"MAIL.LOGOFF",468:"CLEAR.ROUTING.SLIP",469:"APP.ACTIVATE.MICROSOFT",470:"MAIL.EDIT.MAILER",471:"ON.SHEET",472:"STANDARD.WIDTH",473:"SCENARIO.MERGE",474:"SUMMARY.INFO",475:"FIND.FILE",476:"ACTIVE.CELL.FONT",477:"ENABLE.TIPWIZARD",478:"VBA.MAKE.ADDIN",480:"INSERTDATATABLE",481:"WORKGROUP.OPTIONS",482:"MAIL.SEND.MAILER",485:"AUTOCORRECT",489:"POST.DOCUMENT",491:"PICKLIST",493:"VIEW.SHOW",494:"VIEW.DEFINE",495:"VIEW.DELETE",509:"SHEET.BACKGROUND",510:"INSERT.MAP.OBJECT",511:"OPTIONS.MENONO",517:"MSOCHECKS",518:"NORMAL",519:"LAYOUT",520:"RM.PRINT.AREA",521:"CLEAR.PRINT.AREA",522:"ADD.PRINT.AREA",523:"MOVE.BRK",545:"HIDECURR.NOTE",546:"HIDEALL.NOTES",547:"DELETE.NOTE",548:"TRAVERSE.NOTES",549:"ACTIVATE.NOTES",620:"PROTECT.REVISIONS",621:"UNPROTECT.REVISIONS",647:"OPTIONS.ME",653:"WEB.PUBLISH",667:"NEWWEBQUERY",673:"PIVOT.TABLE.CHART",753:"OPTIONS.SAVE",755:"OPTIONS.SPELL",808:"HIDEALL.INKANNOTS"},hD={0:"COUNT",1:"IF",2:"ISNA",3:"ISERROR",4:"SUM",5:"AVERAGE",6:"MIN",7:"MAX",8:"ROW",9:"COLUMN",10:"NA",11:"NPV",12:"STDEV",13:"DOLLAR",14:"FIXED",15:"SIN",16:"COS",17:"TAN",18:"ATAN",19:"PI",20:"SQRT",21:"EXP",22:"LN",23:"LOG10",24:"ABS",25:"INT",26:"SIGN",27:"ROUND",28:"LOOKUP",29:"INDEX",30:"REPT",31:"MID",32:"LEN",33:"VALUE",34:"TRUE",35:"FALSE",36:"AND",37:"OR",38:"NOT",39:"MOD",40:"DCOUNT",41:"DSUM",42:"DAVERAGE",43:"DMIN",44:"DMAX",45:"DSTDEV",46:"VAR",47:"DVAR",48:"TEXT",49:"LINEST",50:"TREND",51:"LOGEST",52:"GROWTH",53:"GOTO",54:"HALT",55:"RETURN",56:"PV",57:"FV",58:"NPER",59:"PMT",60:"RATE",61:"MIRR",62:"IRR",63:"RAND",64:"MATCH",65:"DATE",66:"TIME",67:"DAY",68:"MONTH",69:"YEAR",70:"WEEKDAY",71:"HOUR",72:"MINUTE",73:"SECOND",74:"NOW",75:"AREAS",76:"ROWS",77:"COLUMNS",78:"OFFSET",79:"ABSREF",80:"RELREF",81:"ARGUMENT",82:"SEARCH",83:"TRANSPOSE",84:"ERROR",85:"STEP",86:"TYPE",87:"ECHO",88:"SET.NAME",89:"CALLER",90:"DEREF",91:"WINDOWS",92:"SERIES",93:"DOCUMENTS",94:"ACTIVE.CELL",95:"SELECTION",96:"RESULT",97:"ATAN2",98:"ASIN",99:"ACOS",100:"CHOOSE",101:"HLOOKUP",102:"VLOOKUP",103:"LINKS",104:"INPUT",105:"ISREF",106:"GET.FORMULA",107:"GET.NAME",108:"SET.VALUE",109:"LOG",110:"EXEC",111:"CHAR",112:"LOWER",113:"UPPER",114:"PROPER",115:"LEFT",116:"RIGHT",117:"EXACT",118:"TRIM",119:"REPLACE",120:"SUBSTITUTE",121:"CODE",122:"NAMES",123:"DIRECTORY",124:"FIND",125:"CELL",126:"ISERR",127:"ISTEXT",128:"ISNUMBER",129:"ISBLANK",130:"T",131:"N",132:"FOPEN",133:"FCLOSE",134:"FSIZE",135:"FREADLN",136:"FREAD",137:"FWRITELN",138:"FWRITE",139:"FPOS",140:"DATEVALUE",141:"TIMEVALUE",142:"SLN",143:"SYD",144:"DDB",145:"GET.DEF",146:"REFTEXT",147:"TEXTREF",148:"INDIRECT",149:"REGISTER",150:"CALL",151:"ADD.BAR",152:"ADD.MENU",153:"ADD.COMMAND",154:"ENABLE.COMMAND",155:"CHECK.COMMAND",156:"RENAME.COMMAND",157:"SHOW.BAR",158:"DELETE.MENU",159:"DELETE.COMMAND",160:"GET.CHART.ITEM",161:"DIALOG.BOX",162:"CLEAN",163:"MDETERM",164:"MINVERSE",165:"MMULT",166:"FILES",167:"IPMT",168:"PPMT",169:"COUNTA",170:"CANCEL.KEY",171:"FOR",172:"WHILE",173:"BREAK",174:"NEXT",175:"INITIATE",176:"REQUEST",177:"POKE",178:"EXECUTE",179:"TERMINATE",180:"RESTART",181:"HELP",182:"GET.BAR",183:"PRODUCT",184:"FACT",185:"GET.CELL",186:"GET.WORKSPACE",187:"GET.WINDOW",188:"GET.DOCUMENT",189:"DPRODUCT",190:"ISNONTEXT",191:"GET.NOTE",192:"NOTE",193:"STDEVP",194:"VARP",195:"DSTDEVP",196:"DVARP",197:"TRUNC",198:"ISLOGICAL",199:"DCOUNTA",200:"DELETE.BAR",201:"UNREGISTER",204:"USDOLLAR",205:"FINDB",206:"SEARCHB",207:"REPLACEB",208:"LEFTB",209:"RIGHTB",210:"MIDB",211:"LENB",212:"ROUNDUP",213:"ROUNDDOWN",214:"ASC",215:"DBCS",216:"RANK",219:"ADDRESS",220:"DAYS360",221:"TODAY",222:"VDB",223:"ELSE",224:"ELSE.IF",225:"END.IF",226:"FOR.CELL",227:"MEDIAN",228:"SUMPRODUCT",229:"SINH",230:"COSH",231:"TANH",232:"ASINH",233:"ACOSH",234:"ATANH",235:"DGET",236:"CREATE.OBJECT",237:"VOLATILE",238:"LAST.ERROR",239:"CUSTOM.UNDO",240:"CUSTOM.REPEAT",241:"FORMULA.CONVERT",242:"GET.LINK.INFO",243:"TEXT.BOX",244:"INFO",245:"GROUP",246:"GET.OBJECT",247:"DB",248:"PAUSE",251:"RESUME",252:"FREQUENCY",253:"ADD.TOOLBAR",254:"DELETE.TOOLBAR",255:"User",256:"RESET.TOOLBAR",257:"EVALUATE",258:"GET.TOOLBAR",259:"GET.TOOL",260:"SPELLING.CHECK",261:"ERROR.TYPE",262:"APP.TITLE",263:"WINDOW.TITLE",264:"SAVE.TOOLBAR",265:"ENABLE.TOOL",266:"PRESS.TOOL",267:"REGISTER.ID",268:"GET.WORKBOOK",269:"AVEDEV",270:"BETADIST",271:"GAMMALN",272:"BETAINV",273:"BINOMDIST",274:"CHIDIST",275:"CHIINV",276:"COMBIN",277:"CONFIDENCE",278:"CRITBINOM",279:"EVEN",280:"EXPONDIST",281:"FDIST",282:"FINV",283:"FISHER",284:"FISHERINV",285:"FLOOR",286:"GAMMADIST",287:"GAMMAINV",288:"CEILING",289:"HYPGEOMDIST",290:"LOGNORMDIST",291:"LOGINV",292:"NEGBINOMDIST",293:"NORMDIST",294:"NORMSDIST",295:"NORMINV",296:"NORMSINV",297:"STANDARDIZE",298:"ODD",299:"PERMUT",300:"POISSON",301:"TDIST",302:"WEIBULL",303:"SUMXMY2",304:"SUMX2MY2",305:"SUMX2PY2",306:"CHITEST",307:"CORREL",308:"COVAR",309:"FORECAST",310:"FTEST",311:"INTERCEPT",312:"PEARSON",313:"RSQ",314:"STEYX",315:"SLOPE",316:"TTEST",317:"PROB",318:"DEVSQ",319:"GEOMEAN",320:"HARMEAN",321:"SUMSQ",322:"KURT",323:"SKEW",324:"ZTEST",325:"LARGE",326:"SMALL",327:"QUARTILE",328:"PERCENTILE",329:"PERCENTRANK",330:"MODE",331:"TRIMMEAN",332:"TINV",334:"MOVIE.COMMAND",335:"GET.MOVIE",336:"CONCATENATE",337:"POWER",338:"PIVOT.ADD.DATA",339:"GET.PIVOT.TABLE",340:"GET.PIVOT.FIELD",341:"GET.PIVOT.ITEM",342:"RADIANS",343:"DEGREES",344:"SUBTOTAL",345:"SUMIF",346:"COUNTIF",347:"COUNTBLANK",348:"SCENARIO.GET",349:"OPTIONS.LISTS.GET",350:"ISPMT",351:"DATEDIF",352:"DATESTRING",353:"NUMBERSTRING",354:"ROMAN",355:"OPEN.DIALOG",356:"SAVE.DIALOG",357:"VIEW.GET",358:"GETPIVOTDATA",359:"HYPERLINK",360:"PHONETIC",361:"AVERAGEA",362:"MAXA",363:"MINA",364:"STDEVPA",365:"VARPA",366:"STDEVA",367:"VARA",368:"BAHTTEXT",369:"THAIDAYOFWEEK",370:"THAIDIGIT",371:"THAIMONTHOFYEAR",372:"THAINUMSOUND",373:"THAINUMSTRING",374:"THAISTRINGLENGTH",375:"ISTHAIDIGIT",376:"ROUNDBAHTDOWN",377:"ROUNDBAHTUP",378:"THAIYEAR",379:"RTD",380:"CUBEVALUE",381:"CUBEMEMBER",382:"CUBEMEMBERPROPERTY",383:"CUBERANKEDMEMBER",384:"HEX2BIN",385:"HEX2DEC",386:"HEX2OCT",387:"DEC2BIN",388:"DEC2HEX",389:"DEC2OCT",390:"OCT2BIN",391:"OCT2HEX",392:"OCT2DEC",393:"BIN2DEC",394:"BIN2OCT",395:"BIN2HEX",396:"IMSUB",397:"IMDIV",398:"IMPOWER",399:"IMABS",400:"IMSQRT",401:"IMLN",402:"IMLOG2",403:"IMLOG10",404:"IMSIN",405:"IMCOS",406:"IMEXP",407:"IMARGUMENT",408:"IMCONJUGATE",409:"IMAGINARY",410:"IMREAL",411:"COMPLEX",412:"IMSUM",413:"IMPRODUCT",414:"SERIESSUM",415:"FACTDOUBLE",416:"SQRTPI",417:"QUOTIENT",418:"DELTA",419:"GESTEP",420:"ISEVEN",421:"ISODD",422:"MROUND",423:"ERF",424:"ERFC",425:"BESSELJ",426:"BESSELK",427:"BESSELY",428:"BESSELI",429:"XIRR",430:"XNPV",431:"PRICEMAT",432:"YIELDMAT",433:"INTRATE",434:"RECEIVED",435:"DISC",436:"PRICEDISC",437:"YIELDDISC",438:"TBILLEQ",439:"TBILLPRICE",440:"TBILLYIELD",441:"PRICE",442:"YIELD",443:"DOLLARDE",444:"DOLLARFR",445:"NOMINAL",446:"EFFECT",447:"CUMPRINC",448:"CUMIPMT",449:"EDATE",450:"EOMONTH",451:"YEARFRAC",452:"COUPDAYBS",453:"COUPDAYS",454:"COUPDAYSNC",455:"COUPNCD",456:"COUPNUM",457:"COUPPCD",458:"DURATION",459:"MDURATION",460:"ODDLPRICE",461:"ODDLYIELD",462:"ODDFPRICE",463:"ODDFYIELD",464:"RANDBETWEEN",465:"WEEKNUM",466:"AMORDEGRC",467:"AMORLINC",468:"CONVERT",724:"SHEETJS",469:"ACCRINT",470:"ACCRINTM",471:"WORKDAY",472:"NETWORKDAYS",473:"GCD",474:"MULTINOMIAL",475:"LCM",476:"FVSCHEDULE",477:"CUBEKPIMEMBER",478:"CUBESET",479:"CUBESETCOUNT",480:"IFERROR",481:"COUNTIFS",482:"SUMIFS",483:"AVERAGEIF",484:"AVERAGEIFS"},VC={2:1,3:1,10:0,15:1,16:1,17:1,18:1,19:0,20:1,21:1,22:1,23:1,24:1,25:1,26:1,27:2,30:2,31:3,32:1,33:1,34:0,35:0,38:1,39:2,40:3,41:3,42:3,43:3,44:3,45:3,47:3,48:2,53:1,61:3,63:0,65:3,66:3,67:1,68:1,69:1,70:1,71:1,72:1,73:1,74:0,75:1,76:1,77:1,79:2,80:2,83:1,85:0,86:1,89:0,90:1,94:0,95:0,97:2,98:1,99:1,101:3,102:3,105:1,106:1,108:2,111:1,112:1,113:1,114:1,117:2,118:1,119:4,121:1,126:1,127:1,128:1,129:1,130:1,131:1,133:1,134:1,135:1,136:2,137:2,138:2,140:1,141:1,142:3,143:4,144:4,161:1,162:1,163:1,164:1,165:2,172:1,175:2,176:2,177:3,178:2,179:1,184:1,186:1,189:3,190:1,195:3,196:3,197:1,198:1,199:3,201:1,207:4,210:3,211:1,212:2,213:2,214:1,215:1,225:0,229:1,230:1,231:1,232:1,233:1,234:1,235:3,244:1,247:4,252:2,257:1,261:1,271:1,273:4,274:2,275:2,276:2,277:3,278:3,279:1,280:3,281:3,282:3,283:1,284:1,285:2,286:4,287:3,288:2,289:4,290:3,291:3,292:3,293:4,294:1,295:3,296:1,297:3,298:1,299:2,300:3,301:3,302:4,303:2,304:2,305:2,306:2,307:2,308:2,309:3,310:2,311:2,312:2,313:2,314:2,315:2,316:4,325:2,326:2,327:2,328:2,331:2,332:2,337:2,342:1,343:1,346:2,347:1,350:4,351:3,352:1,353:2,360:1,368:1,369:1,370:1,371:1,372:1,373:1,374:1,375:1,376:1,377:1,378:1,382:3,385:1,392:1,393:1,396:2,397:2,398:2,399:1,400:1,401:1,402:1,403:1,404:1,405:1,406:1,407:1,408:1,409:1,410:1,414:4,415:1,416:1,417:2,420:1,421:1,422:2,424:1,425:2,426:2,427:2,428:2,430:3,438:3,439:3,440:3,443:2,444:2,445:2,446:2,447:6,448:6,449:2,450:2,464:2,468:3,476:2,479:1,480:2,65535:0};function dD(e){return("of:="+e.replace(S_,"$1[.$2$3$4$5]").replace(/\]:\[/g,":")).replace(/;/g,"|").replace(/,/g,";")}function zC(e){return e.replace(/\./,"!")}var O_="undefined"!=typeof Map;function cE(e,n,t){var r=0,s=e.length;if(t){if(O_?t.has(n):Object.prototype.hasOwnProperty.call(t,n))for(var o=O_?t.get(n):t[n];r<o.length;++r)if(e[o[r]].t===n)return e.Count++,o[r]}else for(;r<s;++r)if(e[r].t===n)return e.Count++,r;return e[s]={t:n},e.Count++,e.Unique++,t&&(O_?(t.has(n)||t.set(n,[]),t.get(n).push(s)):(Object.prototype.hasOwnProperty.call(t,n)||(t[n]=[]),t[n].push(s))),s}function Gw(e,n){var t={min:e+1,max:e+1},r=-1;return n.MDW&&(nu=n.MDW),null!=n.width?t.customWidth=1:null!=n.wpx?r=Mu(n.wpx):null!=n.wch&&(r=n.wch),r>-1?(t.width=Rd(r),t.customWidth=1):null!=n.width&&(t.width=n.width),n.hidden&&(t.hidden=!0),null!=n.level&&(t.outlineLevel=t.level=n.level),t}function Sf(e,n){if(e){var t=[.7,.7,.75,.75,.3,.3];"xlml"==n&&(t=[1,1,1,1,.5,.5]),null==e.left&&(e.left=t[0]),null==e.right&&(e.right=t[1]),null==e.top&&(e.top=t[2]),null==e.bottom&&(e.bottom=t[3]),null==e.header&&(e.header=t[4]),null==e.footer&&(e.footer=t[5])}}function mg(e,n,t){var r=t.revssf[null!=n.z?n.z:"General"],s=60,o=e.length;if(null==r&&t.ssf)for(;s<392;++s)if(null==t.ssf[s]){Pc(n.z,s),t.ssf[s]=n.z,t.revssf[n.z]=r=s;break}for(s=0;s!=o;++s)if(e[s].numFmtId===r)return s;return e[o]={numFmtId:r,fontId:0,fillId:0,borderId:0,xfId:0,applyNumberFormat:1},o}function pD(e,n,t){if(e&&e["!ref"]){var r=go(e["!ref"]);if(r.e.c<r.s.c||r.e.r<r.s.r)throw new Error("Bad range ("+t+"): "+e["!ref"])}}var _D=["objects","scenarios","selectLockedCells","selectUnlockedCells"],cM=["formatColumns","formatRows","formatCells","insertColumns","insertRows","insertHyperlinks","deleteColumns","deleteRows","sort","autoFilter","pivotTables"];function TD(e,n,t,r){if(e.c&&t["!comments"].push([n,e.c]),void 0===e.v&&"string"!=typeof e.f||"z"===e.t&&!e.f)return"";var s="",o=e.t,d=e.v;if("z"!==e.t)switch(e.t){case"b":s=e.v?"1":"0";break;case"n":s=""+e.v;break;case"e":s=Qh[e.v];break;case"d":r&&r.cellDates?s=zo(e.v,-1).toISOString():((e=ao(e)).t="n",s=""+(e.v=xa(zo(e.v)))),void 0===e.z&&(e.z=ts[14]);break;default:s=e.v}var g=Oa("v",ds(s)),m={r:n},_=mg(r.cellXfs,e,r);switch(0!==_&&(m.s=_),e.t){case"n":case"z":break;case"d":m.t="d";break;case"b":m.t="b";break;case"e":m.t="e";break;default:if(null==e.v){delete e.t;break}if(e.v.length>32767)throw new Error("Text length must not exceed 32767 characters");if(r&&r.bookSST){g=Oa("v",""+cE(r.Strings,e.v,r.revStrings)),m.t="s";break}m.t="str"}if(e.t!=o&&(e.t=o,e.v=d),"string"==typeof e.f&&e.f){var w=e.F&&e.F.slice(0,n.length)==n?{t:"array",ref:e.F}:null;g=hi("f",ds(e.f),w)+(null!=e.v?g:"")}return e.l&&t["!links"].push([n,e.l]),e.D&&(m.cm=1),hi("c",g,m)}function hE(e,n,t,r){var d,s=[Ma,hi("worksheet",null,{xmlns:rh[0],"xmlns:r":ll_r})],g="",m=t.Sheets[t.SheetNames[e]];null==m&&(m={});var _=m["!ref"]||"A1",w=go(_);if(w.e.c>16383||w.e.r>1048575){if(n.WTF)throw new Error("Range "+_+" exceeds format limit A1:XFD1048576");w.e.c=Math.min(w.e.c,16383),w.e.r=Math.min(w.e.c,1048575),_=ks(w)}r||(r={}),m["!comments"]=[];var A=[];(function yD(e,n,t,r,s){var o=!1,d={},g=null;if("xlsx"!==r.bookType&&n.vbaraw){var m=n.SheetNames[t];try{n.Workbook&&(m=n.Workbook.Sheets[t].CodeName||m)}catch(w){}o=!0,d.codeName=eu(ds(m))}if(e&&e["!outline"]){var _={summaryBelow:1,summaryRight:1};e["!outline"].above&&(_.summaryBelow=0),e["!outline"].left&&(_.summaryRight=0),g=(g||"")+hi("outlinePr",null,_)}!o&&!g||(s[s.length]=hi("sheetPr",g,d))})(m,t,e,n,s),s[s.length]=hi("dimension",null,{ref:_}),s[s.length]=function ED(e,n,t,r){var s={workbookViewId:"0"};return(((r||{}).Workbook||{}).Views||[])[0]&&(s.rightToLeft=r.Workbook.Views[0].RTL?"1":"0"),hi("sheetViews",hi("sheetView",null,s),{})}(0,0,0,t),n.sheetFormat&&(s[s.length]=hi("sheetFormatPr",null,{defaultRowHeight:n.sheetFormat.defaultRowHeight||"16",baseColWidth:n.sheetFormat.baseColWidth||"10",outlineLevelRow:n.sheetFormat.outlineLevelRow||"7"})),null!=m["!cols"]&&m["!cols"].length>0&&(s[s.length]=function xD(e,n){for(var r,t=["<cols>"],s=0;s!=n.length;++s)!(r=n[s])||(t[t.length]=hi("col",null,Gw(s,r)));return t[t.length]="</cols>",t.join("")}(0,m["!cols"])),s[d=s.length]="<sheetData/>",m["!links"]=[],null!=m["!ref"]&&(g=function SD(e,n,t,r){var m,he,s=[],o=[],d=go(e["!ref"]),g="",_="",w=[],A=0,N=0,D=e["!rows"],ee=Array.isArray(e),B={r:_},Pe=-1;for(N=d.s.c;N<=d.e.c;++N)w[N]=Mo(N);for(A=d.s.r;A<=d.e.r;++A){for(o=[],_=El(A),N=d.s.c;N<=d.e.c;++N){m=w[N]+_;var je=ee?(e[A]||[])[N]:e[m];void 0!==je&&null!=(g=TD(je,m,e,n))&&o.push(g)}(o.length>0||D&&D[A])&&(B={r:_},D&&D[A]&&((he=D[A]).hidden&&(B.hidden=1),Pe=-1,he.hpx?Pe=Ld(he.hpx):he.hpt&&(Pe=he.hpt),Pe>-1&&(B.ht=Pe,B.customHeight=1),he.level&&(B.outlineLevel=he.level)),s[s.length]=hi("row",o.join(""),B))}if(D)for(;A<D.length;++A)D&&D[A]&&(B={r:A+1},(he=D[A]).hidden&&(B.hidden=1),Pe=-1,he.hpx?Pe=Ld(he.hpx):he.hpt&&(Pe=he.hpt),Pe>-1&&(B.ht=Pe,B.customHeight=1),he.level&&(B.outlineLevel=he.level),s[s.length]=hi("row","",B));return s.join("")}(m,n),g.length>0&&(s[s.length]=g)),s.length>d+1&&(s[s.length]="</sheetData>",s[d]=s[d].replace("/>",">")),m["!protect"]&&(s[s.length]=function uM(e){var n={sheet:1};return _D.forEach(function(t){null!=e[t]&&e[t]&&(n[t]="1")}),cM.forEach(function(t){null!=e[t]&&!e[t]&&(n[t]="0")}),e.password&&(n.password=Xv(e.password).toString(16).toUpperCase()),hi("sheetProtection",null,n)}(m["!protect"])),null!=m["!autofilter"]&&(s[s.length]=function QC(e,n,t,r){var s="string"==typeof e.ref?e.ref:ks(e.ref);t.Workbook||(t.Workbook={Sheets:[]}),t.Workbook.Names||(t.Workbook.Names=[]);var o=t.Workbook.Names,d=Kl(s);d.s.r==d.e.r&&(d.e.r=Kl(n["!ref"]).e.r,s=ks(d));for(var g=0;g<o.length;++g){var m=o[g];if("_xlnm._FilterDatabase"==m.Name&&m.Sheet==r){m.Ref="'"+t.SheetNames[r]+"'!"+s;break}}return g==o.length&&o.push({Name:"_xlnm._FilterDatabase",Sheet:r,Ref:"'"+t.SheetNames[r]+"'!"+s}),hi("autoFilter",null,{ref:s})}(m["!autofilter"],m,t,e)),null!=m["!merges"]&&m["!merges"].length>0&&(s[s.length]=function KC(e){if(0===e.length)return"";for(var n='<mergeCells count="'+e.length+'">',t=0;t!=e.length;++t)n+='<mergeCell ref="'+ks(e[t])+'"/>';return n+"</mergeCells>"}(m["!merges"]));var D,N=-1,ee=-1;return m["!links"].length>0&&(s[s.length]="<hyperlinks>",m["!links"].forEach(function(B){!B[1].Target||(D={ref:B[0]},"#"!=B[1].Target.charAt(0)&&(ee=uo(r,-1,ds(B[1].Target).replace(/#.*$/,""),Ss.HLINK),D["r:id"]="rId"+ee),(N=B[1].Target.indexOf("#"))>-1&&(D.location=ds(B[1].Target.slice(N+1))),B[1].Tooltip&&(D.tooltip=ds(B[1].Tooltip)),s[s.length]=hi("hyperlink",null,D))}),s[s.length]="</hyperlinks>"),delete m["!links"],null!=m["!margins"]&&(s[s.length]=function JC(e){return Sf(e),hi("pageMargins",null,e)}(m["!margins"])),(!n||n.ignoreEC||null==n.ignoreEC)&&(s[s.length]=Oa("ignoredErrors",hi("ignoredError",null,{numberStoredAsText:1,sqref:_}))),A.length>0&&(ee=uo(r,-1,"../drawings/drawing"+(e+1)+".xml",Ss.DRAW),s[s.length]=hi("drawing",null,{"r:id":"rId"+ee}),m["!drawing"]=A),m["!comments"].length>0&&(ee=uo(r,-1,"../drawings/vmlDrawing"+(e+1)+".vml",Ss.VML),s[s.length]=hi("legacyDrawing",null,{"r:id":"rId"+ee}),m["!legacy"]=ee),s.length>1&&(s[s.length]="</worksheet>",s[1]=s[1].replace("/>",">")),s.join("")}function T1(e,n,t,r){var s=function ID(e,n,t){var r=Er(145),s=(t["!rows"]||[])[e]||{};r.write_shift(4,e),r.write_shift(4,0);var o=320;s.hpx?o=20*Ld(s.hpx):s.hpt&&(o=20*s.hpt),r.write_shift(2,o),r.write_shift(1,0);var d=0;s.level&&(d|=s.level),s.hidden&&(d|=16),(s.hpx||s.hpt)&&(d|=32),r.write_shift(1,d),r.write_shift(1,0);var g=0,m=r.l;r.l+=4;for(var _={r:e,c:0},w=0;w<16;++w)if(!(n.s.c>w+1<<10||n.e.c<w<<10)){for(var A=-1,N=-1,D=w<<10;D<w+1<<10;++D)_.c=D,(Array.isArray(t)?(t[_.r]||[])[_.c]:t[Gi(_)])&&(A<0&&(A=D),N=D);A<0||(++g,r.write_shift(4,A),r.write_shift(4,N))}var B=r.l;return r.l=m,r.write_shift(4,g),r.l=B,r.length>r.l?r.slice(0,r.l):r}(r,t,n);(s.length>17||(n["!rows"]||[])[r])&&Yr(e,0,s)}var DD=Ul,eS=Ad;var XD=Ul,vE=Ad,pS=["left","right","top","bottom","header","footer"];function sk(e,n,t,r,s,o,d){if(void 0===n.v)return!1;var g="";switch(n.t){case"b":g=n.v?"1":"0";break;case"d":(n=ao(n)).z=n.z||ts[14],n.v=xa(zo(n.v)),n.t="n";break;case"n":case"e":g=""+n.v;break;default:g=n.v}var m={r:t,c:r};switch(m.s=mg(s.cellXfs,n,s),n.l&&o["!links"].push([Gi(m),n.l]),n.c&&o["!comments"].push([Gi(m),n.c]),n.t){case"s":case"str":return s.bookSST?(g=cE(s.Strings,n.v,s.revStrings),m.t="s",m.v=g,d?Yr(e,18,function VD(e,n,t){return null==t&&(t=Er(8)),Np(n,t),t.write_shift(4,n.v),t}(0,m)):Yr(e,7,function BD(e,n,t){return null==t&&(t=Er(12)),Qf(n,t),t.write_shift(4,n.v),t}(0,m))):(m.t="str",d?Yr(e,17,function pE(e,n,t){return null==t&&(t=Er(8+4*e.v.length)),Np(n,t),Tl(e.v,t),t.length>t.l?t.slice(0,t.l):t}(n,m)):Yr(e,6,function $D(e,n,t){return null==t&&(t=Er(12+4*e.v.length)),Qf(n,t),Tl(e.v,t),t.length>t.l?t.slice(0,t.l):t}(n,m))),!0;case"n":return n.v==(0|n.v)&&n.v>-1e3&&n.v<1e3?d?Yr(e,13,function GD(e,n,t){return null==t&&(t=Er(8)),Np(n,t),pv(e.v,t),t}(n,m)):Yr(e,2,function lS(e,n,t){return null==t&&(t=Er(12)),Qf(n,t),pv(e.v,t),t}(n,m)):d?Yr(e,16,function WD(e,n,t){return null==t&&(t=Er(12)),Np(n,t),tp(e.v,t),t}(n,m)):Yr(e,5,function zD(e,n,t){return null==t&&(t=Er(16)),Qf(n,t),tp(e.v,t),t}(n,m)),!0;case"b":return m.t="b",d?Yr(e,15,function FD(e,n,t){return null==t&&(t=Er(5)),Np(n,t),t.write_shift(1,e.v?1:0),t}(n,m)):Yr(e,4,function iS(e,n,t){return null==t&&(t=Er(9)),Qf(n,t),t.write_shift(1,e.v?1:0),t}(n,m)),!0;case"e":return m.t="e",d?Yr(e,14,function sS(e,n,t){return null==t&&(t=Er(8)),Np(n,t),t.write_shift(1,e.v),t.write_shift(2,0),t.write_shift(1,0),t}(n,m)):Yr(e,3,function fE(e,n,t){return null==t&&(t=Er(9)),Qf(n,t),t.write_shift(1,e.v),t}(n,m)),!0}return d?Yr(e,12,function MD(e,n,t){return null==t&&(t=Er(4)),Np(n,t)}(0,m)):Yr(e,1,function ND(e,n,t){return null==t&&(t=Er(8)),Qf(n,t)}(0,m)),!0}function uk(e,n,t,r){var s=ia(),o=t.SheetNames[e],d=t.Sheets[o]||{},g=o;try{t&&t.Workbook&&(g=t.Workbook.Sheets[e].CodeName||g)}catch(_){}var m=go(d["!ref"]||"A1");if(m.e.c>16383||m.e.r>1048575){if(n.WTF)throw new Error("Range "+(d["!ref"]||"A1")+" exceeds format limit A1:XFD1048576");m.e.c=Math.min(m.e.c,16383),m.e.r=Math.min(m.e.c,1048575)}return d["!links"]=[],d["!comments"]=[],Yr(s,129),(t.vbaraw||d["!outline"])&&Yr(s,147,function PD(e,n,t){null==t&&(t=Er(84+4*e.length));var r=192;n&&(n.above&&(r&=-65),n.left&&(r&=-129)),t.write_shift(1,r);for(var s=1;s<3;++s)t.write_shift(1,0);return ku({auto:1},t),t.write_shift(-4,-1),t.write_shift(-4,-1),Mp(e,t),t.slice(0,t.l)}(g,d["!outline"])),Yr(s,148,eS(m)),function yS(e,n,t){Yr(e,133),Yr(e,137,function U_(e,n,t){null==t&&(t=Er(30));var r=924;return(((n||{}).Views||[])[0]||{}).RTL&&(r|=32),t.write_shift(2,r),t.write_shift(4,0),t.write_shift(4,0),t.write_shift(4,0),t.write_shift(1,0),t.write_shift(1,0),t.write_shift(2,0),t.write_shift(2,100),t.write_shift(2,0),t.write_shift(2,0),t.write_shift(2,0),t.write_shift(4,0),t}(0,t)),Yr(e,138),Yr(e,134)}(s,0,t.Workbook),function vS(e,n){!n||!n["!cols"]||(Yr(e,390),n["!cols"].forEach(function(t,r){t&&Yr(e,60,function fM(e,n,t){null==t&&(t=Er(18));var r=Gw(e,n);t.write_shift(-4,e),t.write_shift(-4,e),t.write_shift(4,256*(r.width||10)),t.write_shift(4,0);var s=0;return n.hidden&&(s|=1),"number"==typeof r.width&&(s|=2),n.level&&(s|=n.level<<8),t.write_shift(2,s),t}(r,t))}),Yr(e,391))}(s,d),function ok(e,n,t,r){var s=go(n["!ref"]||"A1"),d="",g=[];Yr(e,145);var m=Array.isArray(n),_=s.e.r;n["!rows"]&&(_=Math.max(s.e.r,n["!rows"].length-1));for(var w=s.s.r;w<=_;++w){d=El(w),T1(e,n,s,w);var A=!1;if(w<=s.e.r)for(var N=s.s.c;N<=s.e.c;++N){w===s.s.r&&(g[N]=Mo(N));var D=m?(n[w]||[])[N]:n[g[N]+d];A=!!D&&sk(e,D,w,N,r,n,A)}}Yr(e,146)}(s,d,0,n),function ck(e,n){!n["!protect"]||Yr(e,535,function pM(e,n){return null==n&&(n=Er(66)),n.write_shift(2,e.password?Xv(e.password):0),n.write_shift(4,1),[["objects",!1],["scenarios",!1],["formatCells",!0],["formatColumns",!0],["formatRows",!0],["insertColumns",!0],["insertRows",!0],["insertHyperlinks",!0],["deleteColumns",!0],["deleteRows",!0],["selectLockedCells",!1],["sort",!0],["autoFilter",!0],["pivotTables",!0],["selectUnlockedCells",!1]].forEach(function(t){n.write_shift(4,t[1]?null==e[t[0]]||e[t[0]]?0:1:null!=e[t[0]]&&e[t[0]]?0:1)}),n}(n["!protect"]))}(s,d),function ak(e,n,t,r){if(n["!autofilter"]){var s=n["!autofilter"],o="string"==typeof s.ref?s.ref:ks(s.ref);t.Workbook||(t.Workbook={Sheets:[]}),t.Workbook.Names||(t.Workbook.Names=[]);var d=t.Workbook.Names,g=Kl(o);g.s.r==g.e.r&&(g.e.r=Kl(n["!ref"]).e.r,o=ks(g));for(var m=0;m<d.length;++m){var _=d[m];if("_xlnm._FilterDatabase"==_.Name&&_.Sheet==r){_.Ref="'"+t.SheetNames[r]+"'!"+o;break}}m==d.length&&d.push({Name:"_xlnm._FilterDatabase",Sheet:r,Ref:"'"+t.SheetNames[r]+"'!"+o}),Yr(e,161,Ad(go(o))),Yr(e,162)}}(s,d,t,e),function mS(e,n){!n||!n["!merges"]||(Yr(e,177,function JD(e,n){return null==n&&(n=Er(4)),n.write_shift(4,e),n}(n["!merges"].length)),n["!merges"].forEach(function(t){Yr(e,176,vE(t))}),Yr(e,178))}(s,d),function Kw(e,n,t){n["!links"].forEach(function(r){if(r[1].Target){var s=uo(t,-1,r[1].Target.replace(/#.*$/,""),Ss.HLINK);Yr(e,494,function QD(e,n){var t=Er(50+4*(e[1].Target.length+(e[1].Tooltip||"").length));Ad({s:ul(e[0]),e:ul(e[0])},t),fv("rId"+n,t);var r=e[1].Target.indexOf("#");return Tl((-1==r?"":e[1].Target.slice(r+1))||"",t),Tl(e[1].Tooltip||"",t),Tl("",t),t.slice(0,t.l)}(r,s))}}),delete n["!links"]}(s,d,r),d["!margins"]&&Yr(s,476,function tk(e,n){return null==n&&(n=Er(48)),Sf(e),pS.forEach(function(t){tp(e[t],n)}),n}(d["!margins"])),(!n||n.ignoreEC||null==n.ignoreEC)&&function yE(e,n){!n||!n["!ref"]||(Yr(e,648),Yr(e,649,function nk(e){var n=Er(24);return n.write_shift(4,4),n.write_shift(4,1),Ad(e,n),n}(go(n["!ref"]))),Yr(e,650))}(s,d),function B_(e,n,t,r){if(n["!comments"].length>0){var s=uo(r,-1,"../drawings/vmlDrawing"+(t+1)+".vml",Ss.VML);Yr(e,551,fv("rId"+s)),n["!legacy"]=s}}(s,d,e,r),Yr(s,130),s.end()}var vg=[["allowRefreshQuery",!1,"bool"],["autoCompressPictures",!0,"bool"],["backupFile",!1,"bool"],["checkCompatibility",!1,"bool"],["CodeName",""],["date1904",!1,"bool"],["defaultThemeVersion",0,"int"],["filterPrivacy",!1,"bool"],["hidePivotFieldList",!1,"bool"],["promptedSolutions",!1,"bool"],["publishItems",!1,"bool"],["refreshAllConnections",!1,"bool"],["saveExternalLinkValues",!0,"bool"],["showBorderUnselectedTables",!0,"bool"],["showInkAnnotation",!0,"bool"],["showObjects","all"],["showPivotChartFilter",!1,"bool"],["updateLinks","userSet"]],wE="][*?/\\".split("");function bE(e,n){if(e.length>31){if(n)return!1;throw new Error("Sheet names cannot exceed 31 chars")}var t=!0;return wE.forEach(function(r){if(-1!=e.indexOf(r)){if(!n)throw new Error("Sheet name cannot contain : \\ / ? * [ ]");t=!1}}),t}function TS(e){var n=[Ma];n[n.length]=hi("workbook",null,{xmlns:rh[0],"xmlns:r":ll_r});var t=e.Workbook&&(e.Workbook.Names||[]).length>0,r={codeName:"ThisWorkbook"};e.Workbook&&e.Workbook.WBProps&&(vg.forEach(function(g){null!=e.Workbook.WBProps[g[0]]&&e.Workbook.WBProps[g[0]]!=g[1]&&(r[g[0]]=e.Workbook.WBProps[g[0]])}),e.Workbook.WBProps.CodeName&&(r.codeName=e.Workbook.WBProps.CodeName,delete r.CodeName)),n[n.length]=hi("workbookPr",null,r);var s=e.Workbook&&e.Workbook.Sheets||[],o=0;if(s&&s[0]&&s[0].Hidden){for(n[n.length]="<bookViews>",o=0;o!=e.SheetNames.length&&s[o]&&s[o].Hidden;++o);o==e.SheetNames.length&&(o=0),n[n.length]='<workbookView firstSheet="'+o+'" activeTab="'+o+'"/>',n[n.length]="</bookViews>"}for(n[n.length]="<sheets>",o=0;o!=e.SheetNames.length;++o){var d={name:ds(e.SheetNames[o].slice(0,31))};if(d.sheetId=""+(o+1),d["r:id"]="rId"+(o+1),s[o])switch(s[o].Hidden){case 1:d.state="hidden";break;case 2:d.state="veryHidden"}n[n.length]=hi("sheet",null,d)}return n[n.length]="</sheets>",t&&(n[n.length]="<definedNames>",e.Workbook&&e.Workbook.Names&&e.Workbook.Names.forEach(function(g){var m={name:g.Name};g.Comment&&(m.comment=g.Comment),null!=g.Sheet&&(m.localSheetId=""+g.Sheet),g.Hidden&&(m.hidden="1"),g.Ref&&(n[n.length]=hi("definedName",ds(g.Ref),m))}),n[n.length]="</definedNames>"),n.length>2&&(n[n.length]="</workbook>",n[1]=n[1].replace("/>",">")),n.join("")}function xk(e,n){return n||(n=Er(127)),n.write_shift(4,e.Hidden),n.write_shift(4,e.iTabID),fv(e.strRelID,n),Tl(e.name.slice(0,31),n),n.length>n.l?n.slice(0,n.l):n}function Ek(e,n){var t=ia();return Yr(t,131),Yr(t,128,function IS(e,n){n||(n=Er(127));for(var t=0;4!=t;++t)n.write_shift(4,0);return Tl("SheetJS",n),Tl(No_version,n),Tl(No_version,n),Tl("7262",n),n.length>n.l?n.slice(0,n.l):n}()),Yr(t,153,function bk(e,n){n||(n=Er(72));var t=0;return e&&e.filterPrivacy&&(t|=8),n.write_shift(4,t),n.write_shift(4,0),Mp(e&&e.CodeName||"ThisWorkbook",n),n.slice(0,n.l)}(e.Workbook&&e.Workbook.WBProps||null)),function kS(e,n){if(n.Workbook&&n.Workbook.Sheets){for(var t=n.Workbook.Sheets,r=0,s=-1,o=-1;r<t.length;++r)!t[r]||!t[r].Hidden&&-1==s?s=r:1==t[r].Hidden&&-1==o&&(o=r);o>s||(Yr(e,135),Yr(e,158,function DS(e,n){return n||(n=Er(29)),n.write_shift(-4,0),n.write_shift(-4,460),n.write_shift(4,28800),n.write_shift(4,17600),n.write_shift(4,500),n.write_shift(4,e),n.write_shift(4,e),n.write_shift(1,120),n.length>n.l?n.slice(0,n.l):n}(s)),Yr(e,136))}}(t,e),function AS(e,n){Yr(e,143);for(var t=0;t!=n.SheetNames.length;++t)Yr(e,156,xk({Hidden:n.Workbook&&n.Workbook.Sheets&&n.Workbook.Sheets[t]&&n.Workbook.Sheets[t].Hidden||0,iTabID:t+1,strRelID:"rId"+(t+1),name:n.SheetNames[t]}));Yr(e,144)}(t,e),Yr(t,132),t.end()}function kk(e,n,t,r,s){return(".bin"===n.slice(-4)?uk:hE)(e,t,r,s)}function Pk(e,n,t){return(".bin"===n.slice(-4)?Sm:u1)(e,t)}function PE(e){return hi("NamedRange",null,{"ss:Name":e.Name,"ss:RefersTo":"="+t0(e.Ref,{r:0,c:0})})}function LS(e,n,t,r,s,o,d){if(!e||null==e.v&&null==e.f)return"";var g={};if(e.f&&(g["ss:Formula"]="="+ds(t0(e.f,d))),e.F&&e.F.slice(0,n.length)==n){var m=ul(e.F.slice(n.length+1));g["ss:ArrayRange"]="RC:R"+(m.r==d.r?"":"["+(m.r-d.r)+"]")+"C"+(m.c==d.c?"":"["+(m.c-d.c)+"]")}if(e.l&&e.l.Target&&(g["ss:HRef"]=ds(e.l.Target),e.l.Tooltip&&(g["x:HRefScreenTip"]=ds(e.l.Tooltip))),t["!merges"])for(var _=t["!merges"],w=0;w!=_.length;++w)_[w].s.c!=d.c||_[w].s.r!=d.r||(_[w].e.c>_[w].s.c&&(g["ss:MergeAcross"]=_[w].e.c-_[w].s.c),_[w].e.r>_[w].s.r&&(g["ss:MergeDown"]=_[w].e.r-_[w].s.r));var A="",N="";switch(e.t){case"z":if(!r.sheetStubs)return"";break;case"n":A="Number",N=String(e.v);break;case"b":A="Boolean",N=e.v?"1":"0";break;case"e":A="Error",N=Qh[e.v];break;case"d":A="DateTime",N=new Date(e.v).toISOString(),null==e.z&&(e.z=e.z||ts[14]);break;case"s":A="String",N=function xd(e){return(e+"").replace(Zf,function(t){return af[t]}).replace(iv,function(t){return"&#x"+t.charCodeAt(0).toString(16).toUpperCase()+";"})}(e.v||"")}var D=mg(r.cellXfs,e,r);g["ss:StyleID"]="s"+(21+D),g["ss:Index"]=d.c+1;var B="z"==e.t?"":'<Data ss:Type="'+A+'">'+(null!=e.v?N:"")+"</Data>";return(e.c||[]).length>0&&(B+=function RS(e){return e.map(function(n){var t=function wx(e){return e.replace(/(\r\n|[\r\n])/g,"&#10;")}(n.t||""),r=hi("ss:Data",t,{xmlns:"http://www.w3.org/TR/REC-html40"});return hi("Comment",r,{"ss:Author":n.a})}).join("")}(e.c)),hi("Cell",B,g)}function Uk(e,n){var t='<Row ss:Index="'+(e+1)+'"';return n&&(n.hpt&&!n.hpx&&(n.hpx=ld(n.hpt)),n.hpx&&(t+=' ss:AutoFitHeight="0" ss:Height="'+n.hpx+'"'),n.hidden&&(t+=' ss:Hidden="1"')),t+">"}function BS(e,n,t){var r=[],o=t.Sheets[t.SheetNames[e]],d=o?function FS(e,n,t,r){if(!e||!((r||{}).Workbook||{}).Names)return"";for(var s=r.Workbook.Names,o=[],d=0;d<s.length;++d){var g=s[d];g.Sheet==t&&(g.Name.match(/^_xlfn\./)||o.push(PE(g)))}return o.join("")}(o,0,e,t):"";return d.length>0&&r.push("<Names>"+d+"</Names>"),d=o?function US(e,n,t,r){if(!e["!ref"])return"";var s=go(e["!ref"]),o=e["!merges"]||[],d=0,g=[];e["!cols"]&&e["!cols"].forEach(function(he,Pe){ad(he);var je=!!he.width,Xe=Gw(Pe,he),Vt={"ss:Index":Pe+1};je&&(Vt["ss:Width"]=Cf(Xe.width)),he.hidden&&(Vt["ss:Hidden"]="1"),g.push(hi("Column",null,Vt))});for(var m=Array.isArray(e),_=s.s.r;_<=s.e.r;++_){for(var w=[Uk(_,(e["!rows"]||[])[_])],A=s.s.c;A<=s.e.c;++A){var N=!1;for(d=0;d!=o.length;++d)if(!(o[d].s.c>A||o[d].s.r>_||o[d].e.c<A||o[d].e.r<_)){(o[d].s.c!=A||o[d].s.r!=_)&&(N=!0);break}if(!N){var D={r:_,c:A},ee=Gi(D);w.push(LS(m?(e[_]||[])[A]:e[ee],ee,e,n,0,0,D))}}w.push("</Row>"),w.length>2&&g.push(w.join(""))}return g.join("")}(o,n):"",d.length>0&&r.push("<Table>"+d+"</Table>"),r.push(function Lk(e,n,t,r){if(!e)return"";var s=[];if(e["!margins"]&&(s.push("<PageSetup>"),e["!margins"].header&&s.push(hi("Header",null,{"x:Margin":e["!margins"].header})),e["!margins"].footer&&s.push(hi("Footer",null,{"x:Margin":e["!margins"].footer})),s.push(hi("PageMargins",null,{"x:Bottom":e["!margins"].bottom||"0.75","x:Left":e["!margins"].left||"0.7","x:Right":e["!margins"].right||"0.7","x:Top":e["!margins"].top||"0.75"})),s.push("</PageSetup>")),r&&r.Workbook&&r.Workbook.Sheets&&r.Workbook.Sheets[t])if(r.Workbook.Sheets[t].Hidden)s.push(hi("Visible",1==r.Workbook.Sheets[t].Hidden?"SheetHidden":"SheetVeryHidden",{}));else{for(var o=0;o<t&&(!r.Workbook.Sheets[o]||r.Workbook.Sheets[o].Hidden);++o);o==t&&s.push("<Selected/>")}return((((r||{}).Workbook||{}).Views||[])[0]||{}).RTL&&s.push("<DisplayRightToLeft/>"),e["!protect"]&&(s.push(Oa("ProtectContents","True")),e["!protect"].objects&&s.push(Oa("ProtectObjects","True")),e["!protect"].scenarios&&s.push(Oa("ProtectScenarios","True")),null==e["!protect"].selectLockedCells||e["!protect"].selectLockedCells?null!=e["!protect"].selectUnlockedCells&&!e["!protect"].selectUnlockedCells&&s.push(Oa("EnableSelection","UnlockedCells")):s.push(Oa("EnableSelection","NoSelection")),[["formatCells","AllowFormatCells"],["formatColumns","AllowSizeCols"],["formatRows","AllowSizeRows"],["insertColumns","AllowInsertCols"],["insertRows","AllowInsertRows"],["insertHyperlinks","AllowInsertHyperlinks"],["deleteColumns","AllowDeleteCols"],["deleteRows","AllowDeleteRows"],["sort","AllowSort"],["autoFilter","AllowFilter"],["pivotTables","AllowUsePivotTables"]].forEach(function(d){e["!protect"][d[0]]&&s.push("<"+d[1]+"/>")})),0==s.length?"":hi("WorksheetOptions",s.join(""),{xmlns:bl_x})}(o,0,e,t)),r.join("")}function Bk(e,n){n||(n={}),e.SSF||(e.SSF=ao(ts)),e.SSF&&(Cu(),S0(e.SSF),n.revssf=Ku(e.SSF),n.revssf[e.SSF[65535]]=0,n.ssf=e.SSF,n.cellXfs=[],mg(n.cellXfs,{},{revssf:{General:0}}));var t=[];t.push(function Ok(e,n){var t=[];return e.Props&&t.push(function db(e,n){var t=[];return _a(_f).map(function(r){for(var s=0;s<ed.length;++s)if(ed[s][1]==r)return ed[s];for(s=0;s<ah.length;++s)if(ah[s][1]==r)return ah[s];throw r}).forEach(function(r){if(null!=e[r[1]]){var s=n&&n.Props&&null!=n.Props[r[1]]?n.Props[r[1]]:e[r[1]];"date"===r[2]&&(s=new Date(s).toISOString().replace(/\.\d*Z/,"Z")),"number"==typeof s?s=String(s):!0===s||!1===s?s=s?"1":"0":s instanceof Date&&(s=new Date(s).toISOString().replace(/\.\d*Z/,"")),t.push(Oa(_f[r[1]]||r[1],s))}}),hi("DocumentProperties",t.join(""),{xmlns:bl_o})}(e.Props,n)),e.Custprops&&t.push(function bv(e,n){var t=["Worksheets","SheetNames"],r="CustomDocumentProperties",s=[];return e&&_a(e).forEach(function(o){if(Object.prototype.hasOwnProperty.call(e,o)){for(var d=0;d<ed.length;++d)if(o==ed[d][1])return;for(d=0;d<ah.length;++d)if(o==ah[d][1])return;for(d=0;d<t.length;++d)if(o==t[d])return;var g=e[o],m="string";"number"==typeof g?(m="float",g=String(g)):!0===g||!1===g?(m="boolean",g=g?"1":"0"):g=String(g),s.push(hi(rv(o),g,{"dt:dt":m}))}}),n&&_a(n).forEach(function(o){if(Object.prototype.hasOwnProperty.call(n,o)&&(!e||!Object.prototype.hasOwnProperty.call(e,o))){var d=n[o],g="string";"number"==typeof d?(g="float",d=String(d)):!0===d||!1===d?(g="boolean",d=d?"1":"0"):d instanceof Date?(g="dateTime.tz",d=d.toISOString()):d=String(d),s.push(hi(rv(o),d,{"dt:dt":g}))}}),"<"+r+' xmlns="'+bl_o+'">'+s.join("")+"</"+r+">"}(e.Props,e.Custprops)),t.join("")}(e,n)),t.push(""),t.push(""),t.push("");for(var r=0;r<e.SheetNames.length;++r)t.push(hi("Worksheet",BS(r,n,e),{"ss:Name":ds(e.SheetNames[r])}));return t[2]=function Rk(e,n){var t=['<Style ss:ID="Default" ss:Name="Normal"><NumberFormat/></Style>'];return n.cellXfs.forEach(function(r,s){var o=[];o.push(hi("NumberFormat",null,{"ss:Format":ds(ts[r.numFmtId])}));var d={"ss:ID":"s"+(21+s)};t.push(hi("Style",o.join(""),d))}),hi("Styles",t.join(""))}(0,n),t[3]=function NE(e){if(!((e||{}).Workbook||{}).Names)return"";for(var n=e.Workbook.Names,t=[],r=0;r<n.length;++r){var s=n[r];null==s.Sheet&&(s.Name.match(/^_xlfn\./)||t.push(PE(s)))}return hi("Names",t.join(""))}(e),Ma+hi("Workbook",t.join(""),{xmlns:bl_ss,"xmlns:o":bl_o,"xmlns:x":bl_x,"xmlns:ss":bl_ss,"xmlns:dt":"uuid:C2F41010-65B3-11d1-A29F-00AA00C14882","xmlns:html":"http://www.w3.org/TR/REC-html40"})}var A1={0:{f:function AD(e,n){var t={},r=e.l+n;t.r=e.read_shift(4),e.l+=4;var s=e.read_shift(2);e.l+=1;var o=e.read_shift(1);return e.l=r,7&o&&(t.level=7&o),16&o&&(t.hidden=!0),32&o&&(t.hpt=s/20),t}},1:{f:function nS(e){return[sh(e)]}},2:{f:function aS(e){return[sh(e),yy(e),"n"]}},3:{f:function RD(e){return[sh(e),e.read_shift(1),"e"]}},4:{f:function rS(e){return[sh(e),e.read_shift(1),"b"]}},5:{f:function HD(e){return[sh(e),du(e),"n"]}},6:{f:function ZD(e){return[sh(e),Po(e),"str"]}},7:{f:function UD(e){return[sh(e),e.read_shift(4),"s"]}},8:{f:function KD(e,n,t){var r=e.l+n,s=sh(e);s.r=t["!row"];var d=[s,Po(e),"str"];if(t.cellFormula){e.l+=2;var g=Hw(e,r-e.l,t);d[3]=hh(g,0,s,t.supbooks,t)}else e.l=r;return d}},9:{f:function mE(e,n,t){var r=e.l+n,s=sh(e);s.r=t["!row"];var d=[s,du(e),"n"];if(t.cellFormula){e.l+=2;var g=Hw(e,r-e.l,t);d[3]=hh(g,0,s,t.supbooks,t)}else e.l=r;return d}},10:{f:function gE(e,n,t){var r=e.l+n,s=sh(e);s.r=t["!row"];var d=[s,e.read_shift(1),"b"];if(t.cellFormula){e.l+=2;var g=Hw(e,r-e.l,t);d[3]=hh(g,0,s,t.supbooks,t)}else e.l=r;return d}},11:{f:function uS(e,n,t){var r=e.l+n,s=sh(e);s.r=t["!row"];var d=[s,e.read_shift(1),"e"];if(t.cellFormula){e.l+=2;var g=Hw(e,r-e.l,t);d[3]=hh(g,0,s,t.supbooks,t)}else e.l=r;return d}},12:{f:function dE(e){return[ep(e)]}},13:{f:function qD(e){return[ep(e),yy(e),"n"]}},14:{f:function LD(e){return[ep(e),e.read_shift(1),"e"]}},15:{f:function OD(e){return[ep(e),e.read_shift(1),"b"]}},16:{f:function oS(e){return[ep(e),du(e),"n"]}},17:{f:function YD(e){return[ep(e),Po(e),"str"]}},18:{f:function jD(e){return[ep(e),e.read_shift(4),"s"]}},19:{f:Du},20:{},21:{},22:{},23:{},24:{},25:{},26:{},27:{},28:{},29:{},30:{},31:{},32:{},33:{},34:{},35:{T:1},36:{T:-1},37:{T:1},38:{T:-1},39:{f:function CS(e,n,t){var r=e.l+n;e.l+=4,e.l+=1;var s=e.read_shift(4),o=Cx(e),d=zw(e,0,t),g=qg(e);e.l=r;var m={Name:o,Ptg:d};return s<268435455&&(m.Sheet=s),g&&(m.Comment=g),m}},40:{},42:{},43:{f:function p_(e,n,t){var r={};r.sz=e.read_shift(2)/20;var s=function Hc(e){var n=e.read_shift(1);return e.l++,{fBold:1&n,fItalic:2&n,fUnderline:4&n,fStrikeout:8&n,fOutline:16&n,fShadow:32&n,fCondense:64&n,fExtend:128&n}}(e);switch(s.fItalic&&(r.italic=1),s.fCondense&&(r.condense=1),s.fExtend&&(r.extend=1),s.fShadow&&(r.shadow=1),s.fOutline&&(r.outline=1),s.fStrikeout&&(r.strike=1),700===e.read_shift(2)&&(r.bold=1),e.read_shift(2)){case 1:r.vertAlign="superscript";break;case 2:r.vertAlign="subscript"}var d=e.read_shift(1);0!=d&&(r.underline=d);var g=e.read_shift(1);g>0&&(r.family=g);var m=e.read_shift(1);switch(m>0&&(r.charset=m),e.l++,r.color=function EC(e){var n={},r=e.read_shift(1)>>>1,s=e.read_shift(1),o=e.read_shift(2,"i"),d=e.read_shift(1),g=e.read_shift(1),m=e.read_shift(1);switch(e.l++,r){case 0:n.auto=1;break;case 1:n.index=s;var _=Fp[s];_&&(n.rgb=Xp(_));break;case 2:n.rgb=Xp([d,g,m]);break;case 3:n.theme=s}return 0!=o&&(n.tint=o>0?o/32767:o/32768),n}(e),e.read_shift(1)){case 1:r.scheme="major";break;case 2:r.scheme="minor"}return r.name=Po(e),r}},44:{f:function vm(e,n){return[e.read_shift(2),Po(e)]}},45:{f:ug},46:{f:g_},47:{f:function aw(e,n){var t=e.l+n,r=e.read_shift(2),s=e.read_shift(2);return e.l=t,{ixfe:r,numFmtId:s}}},48:{},49:{f:function my(e){return e.read_shift(4,"i")}},50:{},51:{f:function gw(e){for(var n=[],t=e.read_shift(4);t-- >0;)n.push([e.read_shift(4),e.read_shift(4)]);return n}},52:{T:1},53:{T:-1},54:{T:1},55:{T:-1},56:{T:1},57:{T:-1},58:{},59:{},60:{f:function om(e,n,t){if(!t.cellStyles)return cl(e,n);var r=t&&t.biff>=12?4:2,s=e.read_shift(r),o=e.read_shift(r),d=e.read_shift(r),g=e.read_shift(r),m=e.read_shift(2);2==r&&(e.l+=2);var _={s,e:o,w:d,ixfe:g,flags:m};return(t.biff>=5||!t.biff)&&(_.level=m>>8&7),_}},62:{f:function cS(e){return[sh(e),Du(e),"is"]}},63:{f:function cD(e){var n={};n.i=e.read_shift(4);var t={};t.r=e.read_shift(4),t.c=e.read_shift(4),n.r=Gi(t);var r=e.read_shift(1);return 2&r&&(n.l="1"),8&r&&(n.a="1"),n}},64:{f:function gS(){}},65:{},66:{},67:{},68:{},69:{},70:{},128:{},129:{T:1},130:{T:-1},131:{T:1,f:cl,p:0},132:{T:-1},133:{T:1},134:{T:-1},135:{T:1},136:{T:-1},137:{T:1,f:function C1(e){var n=e.read_shift(2);return e.l+=28,{RTL:32&n}}},138:{T:-1},139:{T:1},140:{T:-1},141:{T:1},142:{T:-1},143:{T:1},144:{T:-1},145:{T:1},146:{T:-1},147:{f:function tS(e,n){var t={},r=e[e.l];return++e.l,t.above=!(64&r),t.left=!(128&r),e.l+=18,t.name=lb(e,n-19),t}},148:{f:DD,p:16},151:{f:function dS(){}},152:{},153:{f:function wk(e,n){var t={},r=e.read_shift(4);t.defaultThemeVersion=e.read_shift(4);var s=n>8?Po(e):"";return s.length>0&&(t.CodeName=s),t.autoCompressPictures=!!(65536&r),t.backupFile=!!(64&r),t.checkCompatibility=!!(4096&r),t.date1904=!!(1&r),t.filterPrivacy=!!(8&r),t.hidePivotFieldList=!!(1024&r),t.promptedSolutions=!!(16&r),t.publishItems=!!(2048&r),t.refreshAllConnections=!!(262144&r),t.saveExternalLinkValues=!!(128&r),t.showBorderUnselectedTables=!!(4&r),t.showInkAnnotation=!!(32&r),t.showObjects=["all","placeholders","none"][r>>13&3],t.showPivotChartFilter=!!(32768&r),t.updateLinks=["userSet","never","always"][r>>8&3],t}},154:{},155:{},156:{f:function _k(e,n){var t={};return t.Hidden=e.read_shift(4),t.iTabID=e.read_shift(4),t.strRelID=dv(e,n-8),t.name=Po(e),t}},157:{},158:{},159:{T:1,f:function Nb(e){return[e.read_shift(4),e.read_shift(4)]}},160:{T:-1},161:{T:1,f:Ul},162:{T:-1},163:{T:1},164:{T:-1},165:{T:1},166:{T:-1},167:{},168:{},169:{},170:{},171:{},172:{T:1},173:{T:-1},174:{},175:{},176:{f:XD},177:{T:1},178:{T:-1},179:{T:1},180:{T:-1},181:{T:1},182:{T:-1},183:{T:1},184:{T:-1},185:{T:1},186:{T:-1},187:{T:1},188:{T:-1},189:{T:1},190:{T:-1},191:{T:1},192:{T:-1},193:{T:1},194:{T:-1},195:{T:1},196:{T:-1},197:{T:1},198:{T:-1},199:{T:1},200:{T:-1},201:{T:1},202:{T:-1},203:{T:1},204:{T:-1},205:{T:1},206:{T:-1},207:{T:1},208:{T:-1},209:{T:1},210:{T:-1},211:{T:1},212:{T:-1},213:{T:1},214:{T:-1},215:{T:1},216:{T:-1},217:{T:1},218:{T:-1},219:{T:1},220:{T:-1},221:{T:1},222:{T:-1},223:{T:1},224:{T:-1},225:{T:1},226:{T:-1},227:{T:1},228:{T:-1},229:{T:1},230:{T:-1},231:{T:1},232:{T:-1},233:{T:1},234:{T:-1},235:{T:1},236:{T:-1},237:{T:1},238:{T:-1},239:{T:1},240:{T:-1},241:{T:1},242:{T:-1},243:{T:1},244:{T:-1},245:{T:1},246:{T:-1},247:{T:1},248:{T:-1},249:{T:1},250:{T:-1},251:{T:1},252:{T:-1},253:{T:1},254:{T:-1},255:{T:1},256:{T:-1},257:{T:1},258:{T:-1},259:{T:1},260:{T:-1},261:{T:1},262:{T:-1},263:{T:1},264:{T:-1},265:{T:1},266:{T:-1},267:{T:1},268:{T:-1},269:{T:1},270:{T:-1},271:{T:1},272:{T:-1},273:{T:1},274:{T:-1},275:{T:1},276:{T:-1},277:{},278:{T:1},279:{T:-1},280:{T:1},281:{T:-1},282:{T:1},283:{T:1},284:{T:-1},285:{T:1},286:{T:-1},287:{T:1},288:{T:-1},289:{T:1},290:{T:-1},291:{T:1},292:{T:-1},293:{T:1},294:{T:-1},295:{T:1},296:{T:-1},297:{T:1},298:{T:-1},299:{T:1},300:{T:-1},301:{T:1},302:{T:-1},303:{T:1},304:{T:-1},305:{T:1},306:{T:-1},307:{T:1},308:{T:-1},309:{T:1},310:{T:-1},311:{T:1},312:{T:-1},313:{T:-1},314:{T:1},315:{T:-1},316:{T:1},317:{T:-1},318:{T:1},319:{T:-1},320:{T:1},321:{T:-1},322:{T:1},323:{T:-1},324:{T:1},325:{T:-1},326:{T:1},327:{T:-1},328:{T:1},329:{T:-1},330:{T:1},331:{T:-1},332:{T:1},333:{T:-1},334:{T:1},335:{f:function OC(e,n){return{flags:e.read_shift(4),version:e.read_shift(4),name:Po(e)}}},336:{T:-1},337:{f:function mw(e){return e.l+=4,0!=e.read_shift(4)},T:1},338:{T:-1},339:{T:1},340:{T:-1},341:{T:1},342:{T:-1},343:{T:1},344:{T:-1},345:{T:1},346:{T:-1},347:{T:1},348:{T:-1},349:{T:1},350:{T:-1},351:{},352:{},353:{T:1},354:{T:-1},355:{f:dv},357:{},358:{},359:{},360:{T:1},361:{},362:{f:function Zy(e,n,t){if(t.biff<8)return function IC(e,n,t){3==e[e.l+1]&&e[e.l]++;var r=rd(e,0,t);return 3==r.charCodeAt(0)?r.slice(1):r}(e,0,t);for(var r=[],s=e.l+n,o=e.read_shift(t.biff>8?4:2);0!=o--;)r.push(Hp(e,0,t));if(e.l!=s)throw new Error("Bad ExternSheet: "+e.l+" != "+s);return r}},363:{},364:{},366:{},367:{},368:{},369:{},370:{},371:{},372:{T:1},373:{T:-1},374:{T:1},375:{T:-1},376:{T:1},377:{T:-1},378:{T:1},379:{T:-1},380:{T:1},381:{T:-1},382:{T:1},383:{T:-1},384:{T:1},385:{T:-1},386:{T:1},387:{T:-1},388:{T:1},389:{T:-1},390:{T:1},391:{T:-1},392:{T:1},393:{T:-1},394:{T:1},395:{T:-1},396:{},397:{},398:{},399:{},400:{},401:{T:1},403:{},404:{},405:{},406:{},407:{},408:{},409:{},410:{},411:{},412:{},413:{},414:{},415:{},416:{},417:{},418:{},419:{},420:{},421:{},422:{T:1},423:{T:1},424:{T:-1},425:{T:-1},426:{f:function ek(e,n,t){var r=e.l+n,s=Sx(e),o=e.read_shift(1),d=[s];if(d[2]=o,t.cellFormula){var g=Vw(e,r-e.l,t);d[1]=g}else e.l=r;return d}},427:{f:function fS(e,n,t){var r=e.l+n,o=[Ul(e,16)];if(t.cellFormula){var d=Ww(e,r-e.l,t);o[1]=d,e.l=r}else e.l=r;return o}},428:{},429:{T:1},430:{T:-1},431:{T:1},432:{T:-1},433:{T:1},434:{T:-1},435:{T:1},436:{T:-1},437:{T:1},438:{T:-1},439:{T:1},440:{T:-1},441:{T:1},442:{T:-1},443:{T:1},444:{T:-1},445:{T:1},446:{T:-1},447:{T:1},448:{T:-1},449:{T:1},450:{T:-1},451:{T:1},452:{T:-1},453:{T:1},454:{T:-1},455:{T:1},456:{T:-1},457:{T:1},458:{T:-1},459:{T:1},460:{T:-1},461:{T:1},462:{T:-1},463:{T:1},464:{T:-1},465:{T:1},466:{T:-1},467:{T:1},468:{T:-1},469:{T:1},470:{T:-1},471:{},472:{},473:{T:1},474:{T:-1},475:{},476:{f:function Yw(e){var n={};return pS.forEach(function(t){n[t]=du(e)}),n}},477:{},478:{},479:{T:1},480:{T:-1},481:{T:1},482:{T:-1},483:{T:1},484:{T:-1},485:{f:function kD(){}},486:{T:1},487:{T:-1},488:{T:1},489:{T:-1},490:{T:1},491:{T:-1},492:{T:1},493:{T:-1},494:{f:function hS(e,n){var t=e.l+n,r=Ul(e,16),s=qg(e),o=Po(e),d=Po(e),g=Po(e);e.l=t;var m={rfx:r,relId:s,loc:o,display:g};return d&&(m.Tooltip=d),m}},495:{T:1},496:{T:-1},497:{T:1},498:{T:-1},499:{},500:{T:1},501:{T:-1},502:{T:1},503:{T:-1},504:{},505:{T:1},506:{T:-1},507:{},508:{T:1},509:{T:-1},510:{T:1},511:{T:-1},512:{},513:{},514:{T:1},515:{T:-1},516:{T:1},517:{T:-1},518:{T:1},519:{T:-1},520:{T:1},521:{T:-1},522:{},523:{},524:{},525:{},526:{},527:{},528:{T:1},529:{T:-1},530:{T:1},531:{T:-1},532:{T:1},533:{T:-1},534:{},535:{},536:{},537:{},538:{T:1},539:{T:-1},540:{T:1},541:{T:-1},542:{T:1},548:{},549:{},550:{f:dv},551:{},552:{},553:{},554:{T:1},555:{T:-1},556:{T:1},557:{T:-1},558:{T:1},559:{T:-1},560:{T:1},561:{T:-1},562:{},564:{},565:{T:1},566:{T:-1},569:{T:1},570:{T:-1},572:{},573:{T:1},574:{T:-1},577:{},578:{},579:{},580:{},581:{},582:{},583:{},584:{},585:{},586:{},587:{},588:{T:-1},589:{},590:{T:1},591:{T:-1},592:{T:1},593:{T:-1},594:{T:1},595:{T:-1},596:{},597:{T:1},598:{T:-1},599:{T:1},600:{T:-1},601:{T:1},602:{T:-1},603:{T:1},604:{T:-1},605:{T:1},606:{T:-1},607:{},608:{T:1},609:{T:-1},610:{},611:{T:1},612:{T:-1},613:{T:1},614:{T:-1},615:{T:1},616:{T:-1},617:{T:1},618:{T:-1},619:{T:1},620:{T:-1},625:{},626:{T:1},627:{T:-1},628:{T:1},629:{T:-1},630:{T:1},631:{T:-1},632:{f:Yb},633:{T:1},634:{T:-1},635:{T:1,f:function Cm(e){var n={};n.iauthor=e.read_shift(4);var t=Ul(e,16);return n.rfx=t.s,n.ref=Gi(t.s),e.l+=16,n}},636:{T:-1},637:{f:Tx},638:{T:1},639:{},640:{T:-1},641:{T:1},642:{T:-1},643:{T:1},644:{},645:{T:-1},646:{T:1},648:{T:1},649:{},650:{T:-1},651:{f:function fk(e,n){return e.l+=10,{name:Po(e)}}},652:{},653:{T:1},654:{T:-1},655:{T:1},656:{T:-1},657:{T:1},658:{T:-1},659:{},660:{T:1},661:{},662:{T:-1},663:{},664:{T:1},665:{},666:{T:-1},667:{},668:{},669:{},671:{T:1},672:{T:-1},673:{T:1},674:{T:-1},675:{},676:{},677:{},678:{},679:{},680:{},681:{},1024:{},1025:{},1026:{T:1},1027:{T:-1},1028:{T:1},1029:{T:-1},1030:{},1031:{T:1},1032:{T:-1},1033:{T:1},1034:{T:-1},1035:{},1036:{},1037:{},1038:{T:1},1039:{T:-1},1040:{},1041:{T:1},1042:{T:-1},1043:{},1044:{},1045:{},1046:{T:1},1047:{T:-1},1048:{T:1},1049:{T:-1},1050:{},1051:{T:1},1052:{T:1},1053:{f:function rk(){}},1054:{T:1},1055:{},1056:{T:1},1057:{T:-1},1058:{T:1},1059:{T:-1},1061:{},1062:{T:1},1063:{T:-1},1064:{T:1},1065:{T:-1},1066:{T:1},1067:{T:-1},1068:{T:1},1069:{T:-1},1070:{T:1},1071:{T:-1},1072:{T:1},1073:{T:-1},1075:{T:1},1076:{T:-1},1077:{T:1},1078:{T:-1},1079:{T:1},1080:{T:-1},1081:{T:1},1082:{T:-1},1083:{T:1},1084:{T:-1},1085:{},1086:{T:1},1087:{T:-1},1088:{T:1},1089:{T:-1},1090:{T:1},1091:{T:-1},1092:{T:1},1093:{T:-1},1094:{T:1},1095:{T:-1},1096:{},1097:{T:1},1098:{},1099:{T:-1},1100:{T:1},1101:{T:-1},1102:{},1103:{},1104:{},1105:{},1111:{},1112:{},1113:{T:1},1114:{T:-1},1115:{T:1},1116:{T:-1},1117:{},1118:{T:1},1119:{T:-1},1120:{T:1},1121:{T:-1},1122:{T:1},1123:{T:-1},1124:{T:1},1125:{T:-1},1126:{},1128:{T:1},1129:{T:-1},1130:{},1131:{T:1},1132:{T:-1},1133:{T:1},1134:{T:-1},1135:{T:1},1136:{T:-1},1137:{T:1},1138:{T:-1},1139:{T:1},1140:{T:-1},1141:{},1142:{T:1},1143:{T:-1},1144:{T:1},1145:{T:-1},1146:{},1147:{T:1},1148:{T:-1},1149:{T:1},1150:{T:-1},1152:{T:1},1153:{T:-1},1154:{T:-1},1155:{T:-1},1156:{T:-1},1157:{T:1},1158:{T:-1},1159:{T:1},1160:{T:-1},1161:{T:1},1162:{T:-1},1163:{T:1},1164:{T:-1},1165:{T:1},1166:{T:-1},1167:{T:1},1168:{T:-1},1169:{T:1},1170:{T:-1},1171:{},1172:{T:1},1173:{T:-1},1177:{},1178:{T:1},1180:{},1181:{},1182:{},2048:{T:1},2049:{T:-1},2050:{},2051:{T:1},2052:{T:-1},2053:{},2054:{},2055:{T:1},2056:{T:-1},2057:{T:1},2058:{T:-1},2060:{},2067:{},2068:{T:1},2069:{T:-1},2070:{},2071:{},2072:{T:1},2073:{T:-1},2075:{},2076:{},2077:{T:1},2078:{T:-1},2079:{},2080:{T:1},2081:{T:-1},2082:{},2083:{T:1},2084:{T:-1},2085:{T:1},2086:{T:-1},2087:{T:1},2088:{T:-1},2089:{T:1},2090:{T:-1},2091:{},2092:{},2093:{T:1},2094:{T:-1},2095:{},2096:{T:1},2097:{T:-1},2098:{T:1},2099:{T:-1},2100:{T:1},2101:{T:-1},2102:{},2103:{T:1},2104:{T:-1},2105:{},2106:{T:1},2107:{T:-1},2108:{},2109:{T:1},2110:{T:-1},2111:{T:1},2112:{T:-1},2113:{T:1},2114:{T:-1},2115:{},2116:{},2117:{},2118:{T:1},2119:{T:-1},2120:{},2121:{T:1},2122:{T:-1},2123:{T:1},2124:{T:-1},2125:{},2126:{T:1},2127:{T:-1},2128:{},2129:{T:1},2130:{T:-1},2131:{T:1},2132:{T:-1},2133:{T:1},2134:{},2135:{},2136:{},2137:{T:1},2138:{T:-1},2139:{T:1},2140:{T:-1},2141:{},3072:{},3073:{},4096:{T:1},4097:{T:-1},5002:{T:1},5003:{T:-1},5081:{T:1},5082:{T:-1},5083:{},5084:{T:1},5085:{T:-1},5086:{T:1},5087:{T:-1},5088:{},5089:{},5090:{},5092:{T:1},5093:{T:-1},5094:{},5095:{T:1},5096:{T:-1},5097:{},5099:{},65535:{n:""}};function xi(e,n,t,r){var s=n;if(!isNaN(s)){var o=r||(t||[]).length||0,d=e.next(4);d.write_shift(2,s),d.write_shift(2,o),o>0&&Os(t)&&e.push(t)}}function I1(e,n,t){return e||(e=Er(7)),e.write_shift(2,n),e.write_shift(2,t),e.write_shift(2,0),e.write_shift(1,0),e}function FE(e,n,t,r){if(null!=n.v)switch(n.t){case"d":case"n":var s="d"==n.t?xa(zo(n.v)):n.v;return void(s==(0|s)&&s>=0&&s<65536?xi(e,2,function Zx(e,n,t){var r=Er(9);return I1(r,e,n),r.write_shift(2,t),r}(t,r,s)):xi(e,3,function ig(e,n,t){var r=Er(15);return I1(r,e,n),r.write_shift(8,t,"f"),r}(t,r,s)));case"b":case"e":return void xi(e,5,function VS(e,n,t,r){var s=Er(9);return I1(s,e,n),My(t,r||"b",s),s}(t,r,n.v,n.t));case"s":case"str":return void xi(e,4,function n2(e,n,t){var r=Er(8+2*t.length);return I1(r,e,n),r.write_shift(1,t.length),r.write_shift(t.length,t,"sbcs"),r.l<r.length?r.slice(0,r.l):r}(t,r,(n.v||"").slice(0,255)))}xi(e,1,I1(null,t,r))}function LE(e,n,t,r,s){var o=16+mg(s.cellXfs,n,s);if(null!=n.v||n.bf)if(n.bf)xi(e,6,function uD(e,n,t,r,s){var o=Vp(n,t,s),d=function fs(e){if(null==e){var n=Er(8);return n.write_shift(1,3),n.write_shift(1,0),n.write_shift(2,0),n.write_shift(2,0),n.write_shift(2,65535),n}return tp("number"==typeof e?e:0)}(e.v),g=Er(6);g.write_shift(2,33),g.write_shift(4,0);for(var _=Er(e.bf.length),w=0;w<e.bf.length;++w)_[w]=e.bf[w];return So([o,d,g,_])}(n,t,r,0,o));else switch(n.t){case"d":case"n":xi(e,515,function eg(e,n,t,r){var s=Er(14);return Vp(e,n,r,s),tp(t,s),s}(t,r,"d"==n.t?xa(zo(n.v)):n.v,o));break;case"b":case"e":xi(e,517,function Gy(e,n,t,r,s,o){var d=Er(8);return Vp(e,n,r,d),My(t,o,d),d}(t,r,n.v,o,0,n.t));break;case"s":case"str":s.bookSST?xi(e,253,function Bx(e,n,t,r){var s=Er(10);return Vp(e,n,r,s),s.write_shift(4,t),s}(t,r,cE(s.Strings,n.v,s.revStrings),o)):xi(e,516,function bb(e,n,t,r,s){var o=!s||8==s.biff,d=Er(+o+8+(1+o)*t.length);return Vp(e,n,r,d),d.write_shift(2,t.length),o&&d.write_shift(1,1),d.write_shift((1+o)*t.length,t,o?"utf16le":"sbcs"),d}(t,r,(n.v||"").slice(0,255),o,s));break;default:xi(e,513,Vp(t,r,o))}else xi(e,513,Vp(t,r,o))}function xM(e,n,t){var w,r=ia(),s=t.SheetNames[e],o=t.Sheets[s]||{},d=(t||{}).Workbook||{},g=(d.Sheets||[])[e]||{},m=Array.isArray(o),_=8==n.biff,A="",N=[],D=go(o["!ref"]||"A1"),ee=_?65536:16384;if(D.e.c>255||D.e.r>=ee){if(n.WTF)throw new Error("Range "+(o["!ref"]||"A1")+" exceeds format limit A1:IV16384");D.e.c=Math.min(D.e.c,255),D.e.r=Math.min(D.e.c,ee-1)}xi(r,2057,ip(0,16,n)),xi(r,13,Pu(1)),xi(r,12,Pu(100)),xi(r,15,Xl(!0)),xi(r,17,Xl(!1)),xi(r,16,tp(.001)),xi(r,95,Xl(!0)),xi(r,42,Xl(!1)),xi(r,43,Xl(!1)),xi(r,130,Pu(1)),xi(r,128,function qy(e){var n=Er(8);return n.write_shift(4,0),n.write_shift(2,e[0]?e[0]+1:0),n.write_shift(2,e[1]?e[1]+1:0),n}([0,0])),xi(r,131,Xl(!1)),xi(r,132,Xl(!1)),_&&function RE(e,n){if(n){var t=0;n.forEach(function(r,s){++t<=256&&r&&xi(e,125,function e_(e,n){var t=Er(12);t.write_shift(2,n),t.write_shift(2,n),t.write_shift(2,256*e.width),t.write_shift(2,0);var r=0;return e.hidden&&(r|=1),t.write_shift(1,r),t.write_shift(1,r=e.level||0),t.write_shift(2,0),t}(Gw(s,r),s))})}}(r,o["!cols"]),xi(r,512,function jx(e,n){var t=8!=n.biff&&n.biff?2:4,r=Er(2*t+6);return r.write_shift(t,e.s.r),r.write_shift(t,e.e.r+1),r.write_shift(2,e.s.c),r.write_shift(2,e.e.c+1),r.write_shift(2,0),r}(D,n)),_&&(o["!links"]=[]);for(var B=D.s.r;B<=D.e.r;++B){A=El(B);for(var he=D.s.c;he<=D.e.c;++he){B===D.s.r&&(N[he]=Mo(he)),w=N[he]+A;var Pe=m?(o[B]||[])[he]:o[w];!Pe||(LE(r,Pe,B,he,n),_&&Pe.l&&o["!links"].push([w,Pe.l]))}}var je=g.CodeName||g.name||s;return _&&xi(r,574,function Ov(e){var n=Er(18),t=1718;return e&&e.RTL&&(t|=64),n.write_shift(2,t),n.write_shift(4,0),n.write_shift(4,64),n.write_shift(4,0),n.write_shift(4,0),n}((d.Views||[])[0])),_&&(o["!merges"]||[]).length&&xi(r,229,function im(e){var n=Er(2+8*e.length);n.write_shift(2,e.length);for(var t=0;t<e.length;++t)Av(e[t],n);return n}(o["!merges"])),_&&function qk(e,n){for(var t=0;t<n["!links"].length;++t){var r=n["!links"][t];xi(e,440,Db(r)),r[1].Tooltip&&xi(e,2048,sm(r))}delete n["!links"]}(r,o),xi(r,442,Fy(je)),_&&function r2(e,n){var t=Er(19);t.write_shift(4,2151),t.write_shift(4,0),t.write_shift(4,0),t.write_shift(2,3),t.write_shift(1,1),t.write_shift(4,0),xi(e,2151,t),(t=Er(39)).write_shift(4,2152),t.write_shift(4,0),t.write_shift(4,0),t.write_shift(2,3),t.write_shift(1,0),t.write_shift(4,0),t.write_shift(2,1),t.write_shift(4,4),t.write_shift(2,0),Av(go(n["!ref"]||"A1"),t),t.write_shift(4,4),xi(e,2152,t)}(r,o),xi(r,10),r.end()}function Gk(e,n,t){var r=ia(),s=(e||{}).Workbook||{},o=s.Sheets||[],d=s.WBProps||{},g=8==t.biff,m=5==t.biff;xi(r,2057,ip(0,5,t)),"xla"==t.bookType&&xi(r,135),xi(r,225,g?Pu(1200):null),xi(r,193,function CC(e,n){n||(n=Er(e));for(var t=0;t<e;++t)n.write_shift(1,0);return n}(2)),m&&xi(r,191),m&&xi(r,192),xi(r,226),xi(r,92,function K0(e,n){var t=!n||8==n.biff,r=Er(t?112:54);for(r.write_shift(8==n.biff?2:1,7),t&&r.write_shift(1,0),r.write_shift(4,859007059),r.write_shift(4,5458548|(t?0:536870912));r.l<r.length;)r.write_shift(1,t?0:32);return r}(0,t)),xi(r,66,Pu(g?1200:1252)),g&&xi(r,353,Pu(0)),g&&xi(r,448),xi(r,317,function t_(e){for(var n=Er(2*e),t=0;t<e;++t)n.write_shift(2,t+1);return n}(e.SheetNames.length)),g&&e.vbaraw&&xi(r,211),g&&e.vbaraw&&xi(r,442,Fy(d.CodeName||"ThisWorkbook")),xi(r,156,Pu(17)),xi(r,25,Xl(!1)),xi(r,18,Xl(!1)),xi(r,19,Pu(0)),g&&xi(r,431,Xl(!1)),g&&xi(r,444,Pu(0)),xi(r,61,function J0(){var e=Er(18);return e.write_shift(2,0),e.write_shift(2,0),e.write_shift(2,29280),e.write_shift(2,17600),e.write_shift(2,56),e.write_shift(2,0),e.write_shift(2,0),e.write_shift(2,1),e.write_shift(2,500),e}()),xi(r,64,Xl(!1)),xi(r,141,Pu(0)),xi(r,34,Xl("true"==function wS(e){return e.Workbook&&e.Workbook.WBProps&&function ea(e){switch(e){case 1:case!0:case"1":case"true":case"TRUE":return!0;default:return!1}}(e.Workbook.WBProps.date1904)?"true":"false"}(e))),xi(r,14,Xl(!0)),g&&xi(r,439,Xl(!1)),xi(r,218,Pu(0)),function Wk(e,n,t){xi(e,49,function Hy(e,n){var t=e.name||"Arial",r=n&&5==n.biff,o=Er(r?15+t.length:16+2*t.length);return o.write_shift(2,20*(e.sz||12)),o.write_shift(4,0),o.write_shift(2,400),o.write_shift(4,0),o.write_shift(2,0),o.write_shift(1,t.length),r||o.write_shift(1,1),o.write_shift((r?1:2)*t.length,t,r?"sbcs":"utf16le"),o}({sz:12,color:{theme:1},name:"Arial",family:2,scheme:"minor"},t))}(r,0,t),function zS(e,n,t){!n||[[5,8],[23,26],[41,44],[50,392]].forEach(function(r){for(var s=r[0];s<=r[1];++s)null!=n[s]&&xi(e,1054,Tb(s,n[s],t))})}(r,e.SSF,t),function WS(e,n){for(var t=0;t<16;++t)xi(e,224,zx({numFmtId:0,style:!0},0,n));n.cellXfs.forEach(function(r){xi(e,224,zx(r,0,n))})}(r,t),g&&xi(r,352,Xl(!1));var w=r.end(),A=ia();g&&xi(A,140,function Qy(e){return e||(e=Er(4)),e.write_shift(2,1),e.write_shift(2,1),e}()),g&&t.Strings&&function OE(e,n,t,r){var s=r||(t||[]).length||0;if(s<=8224)return xi(e,n,t,s);var o=n;if(!isNaN(o)){for(var d=t.parts||[],g=0,m=0,_=0;_+(d[g]||8224)<=8224;)_+=d[g]||8224,g++;var w=e.next(4);for(w.write_shift(2,o),w.write_shift(2,_),e.push(t.slice(m,m+_)),m+=_;m<s;){for((w=e.next(4)).write_shift(2,60),_=0;_+(d[g]||8224)<=8224;)_+=d[g]||8224,g++;w.write_shift(2,_),e.push(t.slice(m,m+_)),m+=_}}}(A,252,function Pv(e,n){var t=Er(8);t.write_shift(4,e.Count),t.write_shift(4,e.Unique);for(var r=[],s=0;s<e.length;++s)r[s]=Oy(e[s]);var o=So([t].concat(r));return o.parts=[t.length].concat(r.map(function(d){return d.length})),o}(t.Strings)),xi(A,10);var N=A.end(),D=ia(),ee=0,B=0;for(B=0;B<e.SheetNames.length;++B)ee+=(g?12:11)+(g?2:1)*e.SheetNames[B].length;var he=w.length+ee+N.length;for(B=0;B<e.SheetNames.length;++B)xi(D,133,Wp({pos:he,hs:(o[B]||{}).Hidden||0,dt:0,name:e.SheetNames[B]},t)),he+=n[B].length;var je=D.end();if(ee!=je.length)throw new Error("BS8 "+ee+" != "+je.length);var Xe=[];return w.length&&Xe.push(w),je.length&&Xe.push(je),N.length&&Xe.push(N),So(Xe)}function UE(e,n){for(var t=0;t<=e.SheetNames.length;++t){var r=e.Sheets[e.SheetNames[t]];r&&r["!ref"]&&Kl(r["!ref"]).e.c>255&&"undefined"!=typeof console&&console.error&&console.error("Worksheet '"+e.SheetNames[t]+"' extends beyond column IV (255).  Data may be lost.")}var o=n||{};switch(o.biff||2){case 8:case 5:return function Zk(e,n){var t=n||{},r=[];e&&!e.SSF&&(e.SSF=ao(ts)),e&&e.SSF&&(Cu(),S0(e.SSF),t.revssf=Ku(e.SSF),t.revssf[e.SSF[65535]]=0,t.ssf=e.SSF),t.Strings=[],t.Strings.Count=0,t.Strings.Unique=0,QE(t),t.cellXfs=[],mg(t.cellXfs,{},{revssf:{General:0}}),e.Props||(e.Props={});for(var s=0;s<e.SheetNames.length;++s)r[r.length]=xM(s,t,e);return r.unshift(Gk(e,r,t)),So(r)}(e,n);case 4:case 3:case 2:return function HS(e,n){for(var t=n||{},r=ia(),s=0,o=0;o<e.SheetNames.length;++o)e.SheetNames[o]==t.sheet&&(s=o);if(0==s&&t.sheet&&e.SheetNames[0]!=t.sheet)throw new Error("Sheet not found: "+t.sheet);return xi(r,4==t.biff?1033:3==t.biff?521:9,ip(0,16,t)),function _M(e,n,t,r){var d,s=Array.isArray(n),o=go(n["!ref"]||"A1"),g="",m=[];if(o.e.c>255||o.e.r>16383){if(r.WTF)throw new Error("Range "+(n["!ref"]||"A1")+" exceeds format limit A1:IV16384");o.e.c=Math.min(o.e.c,255),o.e.r=Math.min(o.e.c,16383),d=ks(o)}for(var _=o.s.r;_<=o.e.r;++_){g=El(_);for(var w=o.s.c;w<=o.e.c;++w){_===o.s.r&&(m[w]=Mo(w)),d=m[w]+g;var A=s?(n[_]||[])[w]:n[d];!A||FE(e,A,_,w)}}}(r,e.Sheets[e.SheetNames[s]],0,t),xi(r,10),r.end()}(e,n)}throw new Error("invalid type "+o.bookType+" for BIFF")}function qS(e,n,t,r){for(var s=e["!merges"]||[],o=[],d=n.s.c;d<=n.e.c;++d){for(var g=0,m=0,_=0;_<s.length;++_)if(!(s[_].s.r>t||s[_].s.c>d||s[_].e.r<t||s[_].e.c<d)){if(s[_].s.r<t||s[_].s.c<d){g=-1;break}g=s[_].e.r-s[_].s.r+1,m=s[_].e.c-s[_].s.c+1;break}if(!(g<0)){var w=Gi({r:t,c:d}),A=r.dense?(e[t]||[])[d]:e[w],N=A&&null!=A.v&&(A.h||lf(A.w||(Kh(A),A.w)||""))||"",D={};g>1&&(D.rowspan=g),m>1&&(D.colspan=m),r.editable?N='<span contenteditable="true">'+N+"</span>":A&&(D["data-t"]=A&&A.t||"z",null!=A.v&&(D["data-v"]=A.v),null!=A.z&&(D["data-z"]=A.z),A.l&&"#"!=(A.l.Target||"#").charAt(0)&&(N='<a href="'+A.l.Target+'">'+N+"</a>")),D.id=(r.id||"sjs")+"-"+w,o.push(hi("td",N,D))}}return"<tr>"+o.join("")+"</tr>"}function HE(e,n){var t=n||{},s=null!=t.footer?t.footer:"</body></html>",o=[null!=t.header?t.header:'<html><head><meta charset="utf-8"/><title>SheetJS Table Export</title></head><body>'],d=Kl(e["!ref"]);t.dense=Array.isArray(e),o.push(function GS(e,n,t){return[].join("")+"<table"+(t&&t.id?' id="'+t.id+'"':"")+">"}(0,0,t));for(var g=d.s.r;g<=d.e.r;++g)o.push(qS(e,d,g,t));return o.push("</table>"+s),o.join("")}function ZS(e,n,t){var r=t||{},s=0,o=0;if(null!=r.origin)if("number"==typeof r.origin)s=r.origin;else{var d="string"==typeof r.origin?ul(r.origin):r.origin;s=d.r,o=d.c}var g=n.getElementsByTagName("tr"),m=Math.min(r.sheetRows||1e7,g.length),_={s:{r:0,c:0},e:{r:s,c:o}};if(e["!ref"]){var w=Kl(e["!ref"]);_.s.r=Math.min(_.s.r,w.s.r),_.s.c=Math.min(_.s.c,w.s.c),_.e.r=Math.max(_.e.r,w.e.r),_.e.c=Math.max(_.e.c,w.e.c),-1==s&&(_.e.r=s=w.e.r+1)}var A=[],N=0,D=e["!rows"]||(e["!rows"]=[]),ee=0,B=0,he=0,Pe=0,je=0,Xe=0;for(e["!cols"]||(e["!cols"]=[]);ee<g.length&&B<m;++ee){var Vt=g[ee];if(WE(Vt)){if(r.display)continue;D[B]={hidden:!0}}var Xt=Vt.children;for(he=Pe=0;he<Xt.length;++he){var bn=Xt[he];if(!r.display||!WE(bn)){var At=bn.hasAttribute("data-v")?bn.getAttribute("data-v"):bn.hasAttribute("v")?bn.getAttribute("v"):wd(bn.innerHTML),St=bn.getAttribute("data-z")||bn.getAttribute("z");for(N=0;N<A.length;++N){var Jt=A[N];Jt.s.c==Pe+o&&Jt.s.r<B+s&&B+s<=Jt.e.r&&(Pe=Jt.e.c+1-o,N=-1)}Xe=+bn.getAttribute("colspan")||1,((je=+bn.getAttribute("rowspan")||1)>1||Xe>1)&&A.push({s:{r:B+s,c:Pe+o},e:{r:B+s+(je||1)-1,c:Pe+o+(Xe||1)-1}});var gn={t:"s",v:At},vt=bn.getAttribute("data-t")||bn.getAttribute("t")||"";null!=At&&(0==At.length?gn.t=vt||"z":r.raw||0==At.trim().length||"s"==vt||("TRUE"===At?gn={t:"b",v:!0}:"FALSE"===At?gn={t:"b",v:!1}:isNaN($a(At))?isNaN(hu(At).getDate())||(gn={t:"d",v:zo(At)},r.cellDates||(gn={t:"n",v:xa(gn.v)}),gn.z=r.dateNF||ts[14]):gn={t:"n",v:$a(At)})),void 0===gn.z&&null!=St&&(gn.z=St);var st="",rn=bn.getElementsByTagName("A");if(rn&&rn.length)for(var tn=0;tn<rn.length&&(!rn[tn].hasAttribute("href")||"#"==(st=rn[tn].getAttribute("href")).charAt(0));++tn);st&&"#"!=st.charAt(0)&&(gn.l={Target:st}),r.dense?(e[B+s]||(e[B+s]=[]),e[B+s][Pe+o]=gn):e[Gi({c:Pe+o,r:B+s})]=gn,_.e.c<Pe+o&&(_.e.c=Pe+o),Pe+=Xe}}++B}return A.length&&(e["!merges"]=(e["!merges"]||[]).concat(A)),_.e.r=Math.max(_.e.r,B-1+s),e["!ref"]=ks(_),B>=m&&(e["!fullref"]=ks((_.e.r=g.length-ee+B-1+s,_))),e}function zE(e,n){return ZS((n||{}).dense?[]:{},e,n)}function WE(e){var n="",t=function YS(e){return e.ownerDocument.defaultView&&"function"==typeof e.ownerDocument.defaultView.getComputedStyle?e.ownerDocument.defaultView.getComputedStyle:"function"==typeof getComputedStyle?getComputedStyle:null}(e);return t&&(n=t(e).getPropertyValue("display")),n||(n=e.style&&e.style.display),"none"===n}var wM=function(){var e=["<office:master-styles>",'<style:master-page style:name="mp1" style:page-layout-name="mp1">',"<style:header/>",'<style:header-left style:display="false"/>',"<style:footer/>",'<style:footer-left style:display="false"/>',"</style:master-page>","</office:master-styles>"].join(""),n="<office:document-styles "+gc({"xmlns:office":"urn:oasis:names:tc:opendocument:xmlns:office:1.0","xmlns:table":"urn:oasis:names:tc:opendocument:xmlns:table:1.0","xmlns:style":"urn:oasis:names:tc:opendocument:xmlns:style:1.0","xmlns:text":"urn:oasis:names:tc:opendocument:xmlns:text:1.0","xmlns:draw":"urn:oasis:names:tc:opendocument:xmlns:drawing:1.0","xmlns:fo":"urn:oasis:names:tc:opendocument:xmlns:xsl-fo-compatible:1.0","xmlns:xlink":"http://www.w3.org/1999/xlink","xmlns:dc":"http://purl.org/dc/elements/1.1/","xmlns:number":"urn:oasis:names:tc:opendocument:xmlns:datastyle:1.0","xmlns:svg":"urn:oasis:names:tc:opendocument:xmlns:svg-compatible:1.0","xmlns:of":"urn:oasis:names:tc:opendocument:xmlns:of:1.2","office:version":"1.2"})+">"+e+"</office:document-styles>";return function(){return Ma+n}}(),Jk=function(){var e=function(o){return ds(o).replace(/  +/g,function(d){return'<text:s text:c="'+d.length+'"/>'}).replace(/\t/g,"<text:tab/>").replace(/\n/g,"</text:p><text:p>").replace(/^ /,"<text:s/>").replace(/ $/,"<text:s/>")},n="          <table:table-cell />\n",r=function(o,d,g){var m=[];m.push('      <table:table table:name="'+ds(d.SheetNames[g])+'" table:style-name="ta1">\n');var _=0,w=0,A=Kl(o["!ref"]||"A1"),N=o["!merges"]||[],D=0,ee=Array.isArray(o);if(o["!cols"])for(w=0;w<=A.e.c;++w)m.push("        <table:table-column"+(o["!cols"][w]?' table:style-name="co'+o["!cols"][w].ods+'"':"")+"></table:table-column>\n");var he=o["!rows"]||[];for(_=0;_<A.s.r;++_)m.push("        <table:table-row"+(he[_]?' table:style-name="ro'+he[_].ods+'"':"")+"></table:table-row>\n");for(;_<=A.e.r;++_){for(m.push("        <table:table-row"+(he[_]?' table:style-name="ro'+he[_].ods+'"':"")+">\n"),w=0;w<A.s.c;++w)m.push(n);for(;w<=A.e.c;++w){var Pe=!1,je={},Xe="";for(D=0;D!=N.length;++D)if(!(N[D].s.c>w||N[D].s.r>_||N[D].e.c<w||N[D].e.r<_)){(N[D].s.c!=w||N[D].s.r!=_)&&(Pe=!0),je["table:number-columns-spanned"]=N[D].e.c-N[D].s.c+1,je["table:number-rows-spanned"]=N[D].e.r-N[D].s.r+1;break}if(Pe)m.push("          <table:covered-table-cell/>\n");else{var Vt=Gi({r:_,c:w}),Xt=ee?(o[_]||[])[w]:o[Vt];if(Xt&&Xt.f&&(je["table:formula"]=ds(dD(Xt.f)),Xt.F&&Xt.F.slice(0,Vt.length)==Vt)){var bn=Kl(Xt.F);je["table:number-matrix-columns-spanned"]=bn.e.c-bn.s.c+1,je["table:number-matrix-rows-spanned"]=bn.e.r-bn.s.r+1}if(Xt){switch(Xt.t){case"b":Xe=Xt.v?"TRUE":"FALSE",je["office:value-type"]="boolean",je["office:boolean-value"]=Xt.v?"true":"false";break;case"n":Xe=Xt.w||String(Xt.v||0),je["office:value-type"]="float",je["office:value"]=Xt.v||0;break;case"s":case"str":Xe=null==Xt.v?"":Xt.v,je["office:value-type"]="string";break;case"d":Xe=Xt.w||zo(Xt.v).toISOString(),je["office:value-type"]="date",je["office:date-value"]=zo(Xt.v).toISOString(),je["table:style-name"]="ce1";break;default:m.push(n);continue}var At=e(Xe);if(Xt.l&&Xt.l.Target){var St=Xt.l.Target;"#"!=(St="#"==St.charAt(0)?"#"+zC(St.slice(1)):St).charAt(0)&&!St.match(/^\w+:/)&&(St="../"+St),At=hi("text:a",At,{"xlink:href":St.replace(/&/g,"&amp;")})}m.push("          "+hi("table:table-cell",hi("text:p",At,{}),je)+"\n")}else m.push(n)}}m.push("        </table:table-row>\n")}return m.push("      </table:table>\n"),m.join("")};return function(d,g){var m=[Ma],_=gc({"xmlns:office":"urn:oasis:names:tc:opendocument:xmlns:office:1.0","xmlns:table":"urn:oasis:names:tc:opendocument:xmlns:table:1.0","xmlns:style":"urn:oasis:names:tc:opendocument:xmlns:style:1.0","xmlns:text":"urn:oasis:names:tc:opendocument:xmlns:text:1.0","xmlns:draw":"urn:oasis:names:tc:opendocument:xmlns:drawing:1.0","xmlns:fo":"urn:oasis:names:tc:opendocument:xmlns:xsl-fo-compatible:1.0","xmlns:xlink":"http://www.w3.org/1999/xlink","xmlns:dc":"http://purl.org/dc/elements/1.1/","xmlns:meta":"urn:oasis:names:tc:opendocument:xmlns:meta:1.0","xmlns:number":"urn:oasis:names:tc:opendocument:xmlns:datastyle:1.0","xmlns:presentation":"urn:oasis:names:tc:opendocument:xmlns:presentation:1.0","xmlns:svg":"urn:oasis:names:tc:opendocument:xmlns:svg-compatible:1.0","xmlns:chart":"urn:oasis:names:tc:opendocument:xmlns:chart:1.0","xmlns:dr3d":"urn:oasis:names:tc:opendocument:xmlns:dr3d:1.0","xmlns:math":"http://www.w3.org/1998/Math/MathML","xmlns:form":"urn:oasis:names:tc:opendocument:xmlns:form:1.0","xmlns:script":"urn:oasis:names:tc:opendocument:xmlns:script:1.0","xmlns:ooo":"http://openoffice.org/2004/office","xmlns:ooow":"http://openoffice.org/2004/writer","xmlns:oooc":"http://openoffice.org/2004/calc","xmlns:dom":"http://www.w3.org/2001/xml-events","xmlns:xforms":"http://www.w3.org/2002/xforms","xmlns:xsd":"http://www.w3.org/2001/XMLSchema","xmlns:xsi":"http://www.w3.org/2001/XMLSchema-instance","xmlns:sheet":"urn:oasis:names:tc:opendocument:sh33tjs:1.0","xmlns:rpt":"http://openoffice.org/2005/report","xmlns:of":"urn:oasis:names:tc:opendocument:xmlns:of:1.2","xmlns:xhtml":"http://www.w3.org/1999/xhtml","xmlns:grddl":"http://www.w3.org/2003/g/data-view#","xmlns:tableooo":"http://openoffice.org/2009/table","xmlns:drawooo":"http://openoffice.org/2010/draw","xmlns:calcext":"urn:org:documentfoundation:names:experimental:calc:xmlns:calcext:1.0","xmlns:loext":"urn:org:documentfoundation:names:experimental:office:xmlns:loext:1.0","xmlns:field":"urn:openoffice:names:experimental:ooo-ms-interop:xmlns:field:1.0","xmlns:formx":"urn:openoffice:names:experimental:ooxml-odf-interop:xmlns:form:1.0","xmlns:css3t":"http://www.w3.org/TR/css3-text/","office:version":"1.2"}),w=gc({"xmlns:config":"urn:oasis:names:tc:opendocument:xmlns:config:1.0","office:mimetype":"application/vnd.oasis.opendocument.spreadsheet"});"fods"==g.bookType?(m.push("<office:document"+_+w+">\n"),m.push(xv().replace(/office:document-meta/g,"office:meta"))):m.push("<office:document-content"+_+">\n"),function(o,d){o.push(" <office:automatic-styles>\n"),o.push('  <number:date-style style:name="N37" number:automatic-order="true">\n'),o.push('   <number:month number:style="long"/>\n'),o.push("   <number:text>/</number:text>\n"),o.push('   <number:day number:style="long"/>\n'),o.push("   <number:text>/</number:text>\n"),o.push("   <number:year/>\n"),o.push("  </number:date-style>\n");var g=0;d.SheetNames.map(function(_){return d.Sheets[_]}).forEach(function(_){if(_&&_["!cols"])for(var w=0;w<_["!cols"].length;++w)if(_["!cols"][w]){var A=_["!cols"][w];if(null==A.width&&null==A.wpx&&null==A.wch)continue;ad(A),A.ods=g;var N=_["!cols"][w].wpx+"px";o.push('  <style:style style:name="co'+g+'" style:family="table-column">\n'),o.push('   <style:table-column-properties fo:break-before="auto" style:column-width="'+N+'"/>\n'),o.push("  </style:style>\n"),++g}});var m=0;d.SheetNames.map(function(_){return d.Sheets[_]}).forEach(function(_){if(_&&_["!rows"])for(var w=0;w<_["!rows"].length;++w)if(_["!rows"][w]){_["!rows"][w].ods=m;var A=_["!rows"][w].hpx+"px";o.push('  <style:style style:name="ro'+m+'" style:family="table-row">\n'),o.push('   <style:table-row-properties fo:break-before="auto" style:row-height="'+A+'"/>\n'),o.push("  </style:style>\n"),++m}}),o.push('  <style:style style:name="ta1" style:family="table" style:master-page-name="mp1">\n'),o.push('   <style:table-properties table:display="true" style:writing-mode="lr-tb"/>\n'),o.push("  </style:style>\n"),o.push('  <style:style style:name="ce1" style:family="table-cell" style:parent-style-name="Default" style:data-style-name="N37"/>\n'),o.push(" </office:automatic-styles>\n")}(m,d),m.push("  <office:body>\n"),m.push("    <office:spreadsheet>\n");for(var A=0;A!=d.SheetNames.length;++A)m.push(r(d.Sheets[d.SheetNames[A]],d,A));return m.push("    </office:spreadsheet>\n"),m.push("  </office:body>\n"),m.push("fods"==g.bookType?"</office:document>":"</office:document-content>"),m.join("")}}();function XS(e,n){if("fods"==n.bookType)return Jk(e,n);var t=I0(),r="",s=[],o=[];return ms(t,r="mimetype","application/vnd.oasis.opendocument.spreadsheet"),ms(t,r="content.xml",Jk(e,n)),s.push([r,"text/xml"]),o.push([r,"ContentFile"]),ms(t,r="styles.xml",wM(e,n)),s.push([r,"text/xml"]),o.push([r,"StylesFile"]),ms(t,r="meta.xml",Ma+xv()),s.push([r,"text/xml"]),o.push([r,"MetadataFile"]),ms(t,r="manifest.rdf",function _v(e){var n=[Ma];n.push('<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#">\n');for(var t=0;t!=e.length;++t)n.push(Rp(e[t][0],e[t][1])),n.push(yv("",e[t][0]));return n.push(Rp("","Document","pkg")),n.push("</rdf:RDF>"),n.join("")}(o)),s.push([r,"application/rdf+xml"]),ms(t,r="META-INF/manifest.xml",function Zg(e){var n=[Ma];n.push('<manifest:manifest xmlns:manifest="urn:oasis:names:tc:opendocument:xmlns:manifest:1.0" manifest:version="1.2">\n'),n.push('  <manifest:file-entry manifest:full-path="/" manifest:version="1.2" manifest:media-type="application/vnd.oasis.opendocument.spreadsheet"/>\n');for(var t=0;t<e.length;++t)n.push('  <manifest:file-entry manifest:full-path="'+e[t][0]+'" manifest:media-type="'+e[t][1]+'"/>\n');return n.push("</manifest:manifest>"),n.join("")}(s)),t}function Nm(e){return new DataView(e.buffer,e.byteOffset,e.byteLength)}function Qk(e){return"undefined"!=typeof TextEncoder?(new TextEncoder).encode(e):Sc(eu(e))}function Af(e){var n=e.reduce(function(s,o){return s+o.length},0),t=new Uint8Array(n),r=0;return e.forEach(function(s){t.set(s,r),r+=s.length}),t}function D1(e,n){var t=n?n[0]:0,r=127&e[t];e:if(e[t++]>=128&&(r|=(127&e[t])<<7,e[t++]<128||(r|=(127&e[t])<<14,e[t++]<128)||(r|=(127&e[t])<<21,e[t++]<128)||(r+=(127&e[t])*Math.pow(2,28),++t,e[t++]<128)||(r+=(127&e[t])*Math.pow(2,35),++t,e[t++]<128)||(r+=(127&e[t])*Math.pow(2,42),++t,e[t++]<128)))break e;return n&&(n[0]=t),r}function Wo(e){var n=new Uint8Array(7);n[0]=127&e;var t=1;e:if(e>127){if(n[t-1]|=128,n[t]=e>>7&127,++t,e<=16383||(n[t-1]|=128,n[t]=e>>14&127,++t,e<=2097151)||(n[t-1]|=128,n[t]=e>>21&127,++t,e<=268435455)||(n[t-1]|=128,n[t]=e/256>>>21&127,++t,e<=34359738367)||(n[t-1]|=128,n[t]=e/65536>>>21&127,++t,e<=4398046511103))break e;n[t-1]|=128,n[t]=e/16777216>>>21&127,++t}return n.slice(0,t)}function xc(e){var n=0,t=127&e[n];e:if(e[n++]>=128){if(t|=(127&e[n])<<7,e[n++]<128||(t|=(127&e[n])<<14,e[n++]<128)||(t|=(127&e[n])<<21,e[n++]<128))break e;t|=(127&e[n])<<28}return t}function Oo(e){for(var n=[],t=[0];t[0]<e.length;){var g,r=t[0],s=D1(e,t),o=7&s,d=0;if(0==(s=Math.floor(s/8)))break;switch(o){case 0:for(var m=t[0];e[t[0]++]>=128;);g=e.slice(m,t[0]);break;case 5:g=e.slice(t[0],t[0]+(d=4)),t[0]+=d;break;case 1:g=e.slice(t[0],t[0]+(d=8)),t[0]+=d;break;case 2:d=D1(e,t),g=e.slice(t[0],t[0]+d),t[0]+=d;break;default:throw new Error("PB Type ".concat(o," for Field ").concat(s," at offset ").concat(r))}var _={data:g,type:o};null==n[s]?n[s]=[_]:n[s].push(_)}return n}function Wc(e){var n=[];return e.forEach(function(t,r){t.forEach(function(s){!s.data||(n.push(Wo(8*r+s.type)),2==s.type&&n.push(Wo(s.data.length)),n.push(s.data))})}),Af(n)}function hd(e){for(var n,t=[],r=[0];r[0]<e.length;){var s=D1(e,r),o=Oo(e.slice(r[0],r[0]+s));r[0]+=s;var d={id:xc(o[1][0].data),messages:[]};o[2].forEach(function(g){var m=Oo(g.data),_=xc(m[3][0].data);d.messages.push({meta:m,data:e.slice(r[0],r[0]+_)}),r[0]+=_}),(null==(n=o[3])?void 0:n[0])&&(d.merge=xc(o[3][0].data)>>>0>0),t.push(d)}return t}function G_(e){var n=[];return e.forEach(function(t){var r=[];r[1]=[{data:Wo(t.id),type:0}],r[2]=[],null!=t.merge&&(r[3]=[{data:Wo(+!!t.merge),type:0}]);var s=[];t.messages.forEach(function(d){s.push(d.data),d.meta[3]=[{type:0,data:Wo(d.data.length)}],r[2].push({data:Wc(d.meta),type:2})});var o=Wc(r);n.push(Wo(o.length)),n.push(o),s.forEach(function(d){return n.push(d)})}),Af(n)}function t5(e,n){if(0!=e)throw new Error("Unexpected Snappy chunk type ".concat(e));for(var t=[0],r=D1(n,t),s=[];t[0]<n.length;){var o=3&n[t[0]];if(0!=o){var m=0,_=0;if(1==o?(_=4+(n[t[0]]>>2&7),m=(224&n[t[0]++])<<3,m|=n[t[0]++]):(_=1+(n[t[0]++]>>2),2==o?(m=n[t[0]]|n[t[0]+1]<<8,t[0]+=2):(m=(n[t[0]]|n[t[0]+1]<<8|n[t[0]+2]<<16|n[t[0]+3]<<24)>>>0,t[0]+=4)),s=[Af(s)],0==m)throw new Error("Invalid offset 0");if(m>s[0].length)throw new Error("Invalid offset beyond length");if(_>=m)for(s.push(s[0].slice(-m)),_-=m;_>=s[s.length-1].length;)s.push(s[s.length-1]),_-=s[s.length-1].length;s.push(s[0].slice(-m,-m+_))}else{var d=n[t[0]++]>>2;if(d<60)++d;else{var g=d-59;d=n[t[0]],g>1&&(d|=n[t[0]+1]<<8),g>2&&(d|=n[t[0]+2]<<16),g>3&&(d|=n[t[0]+3]<<24),d>>>=0,d++,t[0]+=g}s.push(n.slice(t[0],t[0]+d)),t[0]+=d}}var w=Af(s);if(w.length!=r)throw new Error("Unexpected length: ".concat(w.length," != ").concat(r));return w}function zd(e){for(var n=[],t=0;t<e.length;){var r=e[t++],s=e[t]|e[t+1]<<8|e[t+2]<<16;n.push(t5(r,e.slice(t+=3,t+s))),t+=s}if(t!==e.length)throw new Error("data is not a valid framed stream!");return Af(n)}function yg(e){for(var n=[],t=0;t<e.length;){var r=Math.min(e.length-t,268435455),s=new Uint8Array(4);n.push(s);var o=Wo(r),d=o.length;n.push(o),r<=60?(d++,n.push(new Uint8Array([r-1<<2]))):r<=256?(d+=2,n.push(new Uint8Array([240,r-1&255]))):r<=65536?(d+=3,n.push(new Uint8Array([244,r-1&255,r-1>>8&255]))):r<=16777216?(d+=4,n.push(new Uint8Array([248,r-1&255,r-1>>8&255,r-1>>16&255]))):r<=4294967296&&(d+=5,n.push(new Uint8Array([252,r-1&255,r-1>>8&255,r-1>>16&255,r-1>>>24&255]))),n.push(e.slice(t,t+r)),d+=r,s[0]=0,s[1]=255&d,s[2]=d>>8&255,s[3]=d>>16&255,t+=r}return Af(n)}function eA(e,n){var t=new Uint8Array(32),r=Nm(t),s=12,o=0;switch(t[0]=5,e.t){case"n":t[1]=2,function GE(e,n,t){var r=Math.floor(0==t?0:Math.LOG10E*Math.log(Math.abs(t)))+6176-20,s=t/Math.pow(10,r-6176);e[n+15]|=r>>7,e[n+14]|=(127&r)<<1;for(var o=0;s>=1;++o,s/=256)e[n+o]=255&s;e[n+15]|=t>=0?0:128}(t,s,e.v),o|=1,s+=16;break;case"b":t[1]=6,r.setFloat64(s,e.v?1:0,!0),o|=2,s+=8;break;case"s":if(-1==n.indexOf(e.v))throw new Error("Value ".concat(e.v," missing from SST!"));t[1]=3,r.setUint32(s,n.indexOf(e.v),!0),o|=8,s+=4;break;default:throw"unsupported cell type "+e.t}return r.setUint32(8,o,!0),t.slice(0,s)}function tA(e,n){var t=new Uint8Array(32),r=Nm(t),s=12,o=0;switch(t[0]=3,e.t){case"n":t[2]=2,r.setFloat64(s,e.v,!0),o|=32,s+=8;break;case"b":t[2]=6,r.setFloat64(s,e.v?1:0,!0),o|=32,s+=8;break;case"s":if(-1==n.indexOf(e.v))throw new Error("Value ".concat(e.v," missing from SST!"));t[2]=3,r.setUint32(s,n.indexOf(e.v),!0),o|=16,s+=4;break;default:throw"unsupported cell type "+e.t}return r.setUint32(4,o,!0),t.slice(0,s)}function Fu(e){return D1(Oo(e)[1][0].data)}function l5(e,n,t){var r,s,o,d;if(!(null==(r=e[6])?void 0:r[0])||!(null==(s=e[7])?void 0:s[0]))throw"Mutation only works on post-BNC storages!";if((null==(d=null==(o=e[8])?void 0:o[0])?void 0:d.data)&&xc(e[8][0].data)>0)throw"Math only works with normal offsets";for(var m=0,_=Nm(e[7][0].data),w=0,A=[],N=Nm(e[4][0].data),D=0,ee=[],B=0;B<n.length;++B)if(null!=n[B]){var he,Pe;switch(_.setUint16(2*B,w,!0),N.setUint16(2*B,D,!0),typeof n[B]){case"string":he=eA({t:"s",v:n[B]},t),Pe=tA({t:"s",v:n[B]},t);break;case"number":he=eA({t:"n",v:n[B]},t),Pe=tA({t:"n",v:n[B]},t);break;case"boolean":he=eA({t:"b",v:n[B]},t),Pe=tA({t:"b",v:n[B]},t);break;default:throw new Error("Unsupported value "+n[B])}A.push(he),w+=he.length,ee.push(Pe),D+=Pe.length,++m}else _.setUint16(2*B,65535,!0),N.setUint16(2*B,65535);for(e[2][0].data=Wo(m);B<e[7][0].data.length/2;++B)_.setUint16(2*B,65535,!0),N.setUint16(2*B,65535,!0);return e[6][0].data=Af(A),e[3][0].data=Af(ee),m}function QE(e){!function JE(e){return function(t){for(var r=0;r!=e.length;++r){var s=e[r];void 0===t[s[0]]&&(t[s[0]]=s[1]),"n"===s[2]&&(t[s[0]]=Number(t[s[0]]))}}}([["cellDates",!1],["bookSST",!1],["bookType","xlsx"],["compression",!1],["WTF",!1]])(e)}function rA(e,n){return"ods"==n.bookType?XS(e,n):"numbers"==n.bookType?function XE(e,n){if(!n||!n.numbers)throw new Error("Must pass a `numbers` option -- check the README");var t=e.Sheets[e.SheetNames[0]];e.SheetNames.length>1&&console.error("The Numbers writer currently writes only the first table");var r=Kl(t["!ref"]);r.s.r=r.s.c=0;var s=!1;r.e.c>9&&(s=!0,r.e.c=9),r.e.r>49&&(s=!0,r.e.r=49),s&&console.error("The Numbers writer is currently limited to ".concat(ks(r)));var o=a2(t,{range:r,header:1}),d=["~Sh33tJ5~"];o.forEach(function(ut){return ut.forEach(function(_t){"string"==typeof _t&&d.push(_t)})});var g={},m=[],_=qi.read(n.numbers,{type:"base64"});_.FileIndex.map(function(ut,_t){return[ut,_.FullPaths[_t]]}).forEach(function(ut){var _t=ut[0],Kt=ut[1];2==_t.type&&_t.name.match(/\.iwa/)&&hd(zd(_t.content)).forEach(function(qn){m.push(qn.id),g[qn.id]={deps:[],location:Kt,type:xc(qn.messages[0].meta[1][0].data)}})}),m.sort(function(ut,_t){return ut-_t});var w=m.filter(function(ut){return ut>1}).map(function(ut){return[ut,Wo(ut)]});_.FileIndex.map(function(ut,_t){return[ut,_.FullPaths[_t]]}).forEach(function(ut){var _t=ut[0];_t.name.match(/\.iwa/)&&hd(zd(_t.content)).forEach(function(An){An.messages.forEach(function(Pn){w.forEach(function(qn){An.messages.some(function(Rr){return 11006!=xc(Rr.meta[1][0].data)&&function bM(e,n){e:for(var t=0;t<=e.length-n.length;++t){for(var r=0;r<n.length;++r)if(e[t+r]!=n[r])continue e;return!0}return!1}(Rr.data,qn[1])})&&g[qn[0]].deps.push(An.id)})})})});for(var ee,N=qi.find(_,g[1].location),D=hd(zd(N.content)),B=0;B<D.length;++B){var he=D[B];1==he.id&&(ee=he)}var Pe=Fu(Oo(ee.messages[0].data)[1][0].data);for(D=hd(zd((N=qi.find(_,g[Pe].location)).content)),B=0;B<D.length;++B)(he=D[B]).id==Pe&&(ee=he);for(Pe=Fu(Oo(ee.messages[0].data)[2][0].data),D=hd(zd((N=qi.find(_,g[Pe].location)).content)),B=0;B<D.length;++B)(he=D[B]).id==Pe&&(ee=he);for(Pe=Fu(Oo(ee.messages[0].data)[2][0].data),D=hd(zd((N=qi.find(_,g[Pe].location)).content)),B=0;B<D.length;++B)(he=D[B]).id==Pe&&(ee=he);var je=Oo(ee.messages[0].data);je[6][0].data=Wo(r.e.r+1),je[7][0].data=Wo(r.e.c+1);for(var Xe=Fu(je[46][0].data),Vt=qi.find(_,g[Xe].location),Xt=hd(zd(Vt.content)),bn=0;bn<Xt.length&&Xt[bn].id!=Xe;++bn);if(Xt[bn].id!=Xe)throw"Bad ColumnRowUIDMapArchive";var At=Oo(Xt[bn].messages[0].data);At[1]=[],At[2]=[],At[3]=[];for(var St=0;St<=r.e.c;++St){var Jt=[];Jt[1]=Jt[2]=[{type:0,data:Wo(St+420690)}],At[1].push({type:2,data:Wc(Jt)}),At[2].push({type:0,data:Wo(St)}),At[3].push({type:0,data:Wo(St)})}At[4]=[],At[5]=[],At[6]=[];for(var gn=0;gn<=r.e.r;++gn)(Jt=[])[1]=Jt[2]=[{type:0,data:Wo(gn+726270)}],At[4].push({type:2,data:Wc(Jt)}),At[5].push({type:0,data:Wo(gn)}),At[6].push({type:0,data:Wo(gn)});Xt[bn].messages[0].data=Wc(At),Vt.content=yg(G_(Xt)),Vt.size=Vt.content.length,delete je[46];var vt=Oo(je[4][0].data);vt[7][0].data=Wo(r.e.r+1);var rn=Fu(Oo(vt[1][0].data)[2][0].data);if((Xt=hd(zd((Vt=qi.find(_,g[rn].location)).content)))[0].id!=rn)throw"Bad HeaderStorageBucket";var tn=Oo(Xt[0].messages[0].data);for(gn=0;gn<o.length;++gn){var Fn=Oo(tn[2][0].data);Fn[1][0].data=Wo(gn),Fn[4][0].data=Wo(o[gn].length),tn[2][gn]={type:tn[2][0].type,data:Wc(Fn)}}Xt[0].messages[0].data=Wc(tn),Vt.content=yg(G_(Xt)),Vt.size=Vt.content.length;var Wn=Fu(vt[2][0].data);if((Xt=hd(zd((Vt=qi.find(_,g[Wn].location)).content)))[0].id!=Wn)throw"Bad HeaderStorageBucket";for(tn=Oo(Xt[0].messages[0].data),St=0;St<=r.e.c;++St)(Fn=Oo(tn[2][0].data))[1][0].data=Wo(St),Fn[4][0].data=Wo(r.e.r+1),tn[2][St]={type:tn[2][0].type,data:Wc(Fn)};Xt[0].messages[0].data=Wc(tn),Vt.content=yg(G_(Xt)),Vt.size=Vt.content.length;var Kn=Fu(vt[4][0].data);!function(){for(var Kt,ut=qi.find(_,g[Kn].location),_t=hd(zd(ut.content)),In=0;In<_t.length;++In){var An=_t[In];An.id==Kn&&(Kt=An)}var Pn=Oo(Kt.messages[0].data);Pn[3]=[];var qn=[];d.forEach(function(oi,_i){qn[1]=[{type:0,data:Wo(_i)}],qn[2]=[{type:0,data:Wo(1)}],qn[3]=[{type:2,data:Qk(oi)}],Pn[3].push({type:2,data:Wc(qn)})}),Kt.messages[0].data=Wc(Pn);var Gt=yg(G_(_t));ut.content=Gt,ut.size=ut.content.length}();var Zn=Oo(vt[3][0].data),zn=Zn[1][0];delete Zn[2];var nr=Oo(zn.data),Qn=Fu(nr[2][0].data);!function(){for(var Kt,ut=qi.find(_,g[Qn].location),_t=hd(zd(ut.content)),In=0;In<_t.length;++In){var An=_t[In];An.id==Qn&&(Kt=An)}var Pn=Oo(Kt.messages[0].data);delete Pn[6],delete Zn[7];var qn=new Uint8Array(Pn[5][0].data);Pn[5]=[];for(var Rr=0,Gt=0;Gt<=r.e.r;++Gt){var oi=Oo(qn);Rr+=l5(oi,o[Gt],d),oi[1][0].data=Wo(Gt),Pn[5].push({data:Wc(oi),type:2})}Pn[1]=[{type:0,data:Wo(r.e.c+1)}],Pn[2]=[{type:0,data:Wo(r.e.r+1)}],Pn[3]=[{type:0,data:Wo(Rr)}],Pn[4]=[{type:0,data:Wo(r.e.r+1)}],Kt.messages[0].data=Wc(Pn);var gr=yg(G_(_t));ut.content=gr,ut.size=ut.content.length}(),zn.data=Wc(nr),vt[3][0].data=Wc(Zn),je[4][0].data=Wc(vt),ee.messages[0].data=Wc(je);var bt=yg(G_(D));return N.content=bt,N.size=N.content.length,_}(e,n):"xlsb"==n.bookType?function iA(e,n){e0=1024,e&&!e.SSF&&(e.SSF=ao(ts)),e&&e.SSF&&(Cu(),S0(e.SSF),n.revssf=Ku(e.SSF),n.revssf[e.SSF[65535]]=0,n.ssf=e.SSF),n.rels={},n.wbrels={},n.Strings=[],n.Strings.Count=0,n.Strings.Unique=0,O_?n.revStrings=new Map:(n.revStrings={},n.revStrings.foo=[],delete n.revStrings.foo);var t="xlsb"==n.bookType?"bin":"xml",r=f1.indexOf(n.bookType)>-1,s={workbooks:[],sheets:[],charts:[],dialogs:[],macros:[],rels:[],strs:[],comments:[],threadedcomments:[],links:[],coreprops:[],extprops:[],custprops:[],themes:[],styles:[],calcchains:[],vba:[],drawings:[],metadata:[],people:[],TODO:[],xmlns:""};QE(n=n||{});var o=I0(),d="",g=0;if(n.cellXfs=[],mg(n.cellXfs,{},{revssf:{General:0}}),e.Props||(e.Props={}),ms(o,d="docProps/core.xml",W0(e.Props,n)),s.coreprops.push(d),uo(n.rels,2,d,Ss.CORE_PROPS),d="docProps/app.xml",!e.Props||!e.Props.SheetNames)if(e.Workbook&&e.Workbook.Sheets){for(var m=[],_=0;_<e.SheetNames.length;++_)2!=(e.Workbook.Sheets[_]||{}).Hidden&&m.push(e.SheetNames[_]);e.Props.SheetNames=m}else e.Props.SheetNames=e.SheetNames;for(e.Props.Worksheets=e.Props.SheetNames.length,ms(o,d,hb(e.Props)),s.extprops.push(d),uo(n.rels,3,d,Ss.EXT_PROPS),e.Custprops!==e.Props&&_a(e.Custprops||{}).length>0&&(ms(o,d="docProps/custom.xml",yf(e.Custprops)),s.custprops.push(d),uo(n.rels,4,d,Ss.CUST_PROPS)),g=1;g<=e.SheetNames.length;++g){var w={"!id":{}},A=e.Sheets[e.SheetNames[g-1]];if(ms(o,d="xl/worksheets/sheet"+g+"."+t,kk(g-1,d,n,e,w)),s.sheets.push(d),uo(n.wbrels,-1,"worksheets/sheet"+g+"."+t,Ss.WS[0]),A){var D=A["!comments"],ee=!1,B="";D&&D.length>0&&(ms(o,B="xl/comments"+g+"."+t,Pk(D,B,n)),s.comments.push(B),uo(w,-1,"../comments"+g+"."+t,Ss.CMNT),ee=!0),A["!legacy"]&&ee&&ms(o,"xl/drawings/vmlDrawing"+g+".vml",Em(g,A["!comments"])),delete A["!comments"],delete A["!legacy"]}w["!id"].rId1&&ms(o,V0(d),oh(w))}return null!=n.Strings&&n.Strings.length>0&&(ms(o,d="xl/sharedStrings."+t,function Jw(e,n,t){return(".bin"===n.slice(-4)?a_:Zv)(e,t)}(n.Strings,d,n)),s.strs.push(d),uo(n.wbrels,-1,"sharedStrings."+t,Ss.SST)),ms(o,d="xl/workbook."+t,function Dk(e,n,t){return(".bin"===n.slice(-4)?Ek:TS)(e,t)}(e,d,n)),s.workbooks.push(d),uo(n.rels,1,d,Ss.WB),ms(o,d="xl/theme/theme1.xml",__(e.Themes,n)),s.themes.push(d),uo(n.wbrels,-1,"theme/theme1.xml",Ss.THEME),ms(o,d="xl/styles."+t,function Xw(e,n,t){return(".bin"===n.slice(-4)?qb:mm)(e,t)}(e,d,n)),s.styles.push(d),uo(n.wbrels,-1,"styles."+t,Ss.STY),e.vbaraw&&r&&(ms(o,d="xl/vbaProject.bin",e.vbaraw),s.vba.push(d),uo(n.wbrels,-1,"vbaProject.bin",Ss.VBA)),ms(o,d="xl/metadata."+t,function Nk(e){return(".bin"===e.slice(-4)?$b:dg)()}(d)),s.metadata.push(d),uo(n.wbrels,-1,"metadata."+t,Ss.XLMETA),ms(o,"[Content_Types].xml",Ay(s,n)),ms(o,"_rels/.rels",oh(n.rels)),ms(o,"xl/_rels/workbook."+t+".rels",oh(n.wbrels)),delete n.revssf,delete n.ssf,o}(e,n):function sA(e,n){e0=1024,e&&!e.SSF&&(e.SSF=ao(ts)),e&&e.SSF&&(Cu(),S0(e.SSF),n.revssf=Ku(e.SSF),n.revssf[e.SSF[65535]]=0,n.ssf=e.SSF),n.rels={},n.wbrels={},n.Strings=[],n.Strings.Count=0,n.Strings.Unique=0,O_?n.revStrings=new Map:(n.revStrings={},n.revStrings.foo=[],delete n.revStrings.foo);var t="xml",r=f1.indexOf(n.bookType)>-1,s={workbooks:[],sheets:[],charts:[],dialogs:[],macros:[],rels:[],strs:[],comments:[],threadedcomments:[],links:[],coreprops:[],extprops:[],custprops:[],themes:[],styles:[],calcchains:[],vba:[],drawings:[],metadata:[],people:[],TODO:[],xmlns:""};QE(n=n||{});var o=I0(),d="",g=0;if(n.cellXfs=[],mg(n.cellXfs,{},{revssf:{General:0}}),e.Props||(e.Props={}),ms(o,d="docProps/core.xml",W0(e.Props,n)),s.coreprops.push(d),uo(n.rels,2,d,Ss.CORE_PROPS),d="docProps/app.xml",!e.Props||!e.Props.SheetNames)if(e.Workbook&&e.Workbook.Sheets){for(var m=[],_=0;_<e.SheetNames.length;++_)2!=(e.Workbook.Sheets[_]||{}).Hidden&&m.push(e.SheetNames[_]);e.Props.SheetNames=m}else e.Props.SheetNames=e.SheetNames;e.Props.Worksheets=e.Props.SheetNames.length,ms(o,d,hb(e.Props)),s.extprops.push(d),uo(n.rels,3,d,Ss.EXT_PROPS),e.Custprops!==e.Props&&_a(e.Custprops||{}).length>0&&(ms(o,d="docProps/custom.xml",yf(e.Custprops)),s.custprops.push(d),uo(n.rels,4,d,Ss.CUST_PROPS));var w=["SheetJ5"];for(n.tcid=0,g=1;g<=e.SheetNames.length;++g){var A={"!id":{}},N=e.Sheets[e.SheetNames[g-1]];if(ms(o,d="xl/worksheets/sheet"+g+"."+t,hE(g-1,n,e,A)),s.sheets.push(d),uo(n.wbrels,-1,"worksheets/sheet"+g+"."+t,Ss.WS[0]),N){var ee=N["!comments"],B=!1,he="";if(ee&&ee.length>0){var Pe=!1;ee.forEach(function(je){je[1].forEach(function(Xe){1==Xe.T&&(Pe=!0)})}),Pe&&(ms(o,he="xl/threadedComments/threadedComment"+g+"."+t,h1(ee,w,n)),s.threadedcomments.push(he),uo(A,-1,"../threadedComments/threadedComment"+g+"."+t,Ss.TCMNT)),ms(o,he="xl/comments"+g+"."+t,u1(ee)),s.comments.push(he),uo(A,-1,"../comments"+g+"."+t,Ss.CMNT),B=!0}N["!legacy"]&&B&&ms(o,"xl/drawings/vmlDrawing"+g+".vml",Em(g,N["!comments"])),delete N["!comments"],delete N["!legacy"]}A["!id"].rId1&&ms(o,V0(d),oh(A))}return null!=n.Strings&&n.Strings.length>0&&(ms(o,d="xl/sharedStrings."+t,Zv(n.Strings,n)),s.strs.push(d),uo(n.wbrels,-1,"sharedStrings."+t,Ss.SST)),ms(o,d="xl/workbook."+t,TS(e)),s.workbooks.push(d),uo(n.rels,1,d,Ss.WB),ms(o,d="xl/theme/theme1.xml",__(e.Themes,n)),s.themes.push(d),uo(n.wbrels,-1,"theme/theme1.xml",Ss.THEME),ms(o,d="xl/styles."+t,mm(e,n)),s.styles.push(d),uo(n.wbrels,-1,"styles."+t,Ss.STY),e.vbaraw&&r&&(ms(o,d="xl/vbaProject.bin",e.vbaraw),s.vba.push(d),uo(n.wbrels,-1,"vbaProject.bin",Ss.VBA)),ms(o,d="xl/metadata."+t,dg()),s.metadata.push(d),uo(n.wbrels,-1,"metadata."+t,Ss.XLMETA),w.length>1&&(ms(o,d="xl/persons/person.xml",function E_(e){var n=[Ma,hi("personList",null,{xmlns:ll_TCMNT,"xmlns:x":rh[0]}).replace(/[\/]>/,">")];return e.forEach(function(t,r){n.push(hi("person",null,{displayName:t,id:"{54EE7950-7262-4200-6969-"+("000000000000"+r).slice(-12)+"}",userId:t,providerId:"None"}))}),n.push("</personList>"),n.join("")}(w)),s.people.push(d),uo(n.wbrels,-1,"persons/person.xml",Ss.PEOPLE)),ms(o,"[Content_Types].xml",Ay(s,n)),ms(o,"_rels/.rels",oh(n.rels)),ms(o,"xl/_rels/workbook.xml.rels",oh(n.wbrels)),delete n.revssf,delete n.ssf,o}(e,n)}function uA(e,n){switch(n.type){case"base64":case"binary":break;case"buffer":case"array":n.type="";break;case"file":return co(n.file,qi.write(e,{type:ns?"buffer":""}));case"string":throw new Error("'string' output type invalid for '"+n.bookType+"' files");default:throw new Error("Unrecognized type "+n.type)}return qi.write(e,n)}function Df(e,n,t){t||(t="");var r=t+e;switch(n.type){case"base64":return gd(eu(r));case"binary":return eu(r);case"string":return e;case"file":return co(n.file,r,"utf8");case"buffer":return ns?$l(r,"utf8"):"undefined"!=typeof TextEncoder?(new TextEncoder).encode(r):Df(r,{type:"binary"}).split("").map(function(s){return s.charCodeAt(0)})}throw new Error("Unrecognized type "+n.type)}function $_(e,n){switch(n.type){case"string":case"base64":case"binary":for(var t="",r=0;r<e.length;++r)t+=String.fromCharCode(e[r]);return"base64"==n.type?gd(t):"string"==n.type?ta(t):t;case"file":return co(n.file,e);case"buffer":return e;default:throw new Error("Unrecognized type "+n.type)}}function rT(e,n){(function bu(){Jo(1200),function wu(){Ro(1252)}()})(),function ES(e){if(!e||!e.SheetNames||!e.Sheets)throw new Error("Invalid Workbook");if(!e.SheetNames.length)throw new Error("Workbook is empty");!function bS(e,n,t){e.forEach(function(r,s){bE(r);for(var o=0;o<s;++o)if(r==e[o])throw new Error("Duplicate Sheet Name: "+r);if(t){var d=n&&n[s]&&n[s].CodeName||r;if(95==d.charCodeAt(0)&&d.length>22)throw new Error("Bad Code Name: Worksheet"+d)}})}(e.SheetNames,e.Workbook&&e.Workbook.Sheets||[],!!e.vbaraw);for(var t=0;t<e.SheetNames.length;++t)pD(e.Sheets[e.SheetNames[t]],0,t)}(e);var t=ao(n||{});if(t.cellStyles&&(t.cellNF=!0,t.sheetStubs=!0),"array"==t.type){t.type="binary";var r=rT(e,t);return t.type="array",tf(r)}var s=0;if(t.sheet&&(s="number"==typeof t.sheet?t.sheet:e.SheetNames.indexOf(t.sheet),!e.SheetNames[s]))throw new Error("Sheet not found: "+t.sheet+" : "+typeof t.sheet);switch(t.bookType||"xlsb"){case"xml":case"xlml":return Df(Bk(e,t),t);case"slk":case"sylk":return Df($x.from_sheet(e.Sheets[e.SheetNames[s]],t),t);case"htm":case"html":return Df(HE(e.Sheets[e.SheetNames[s]],t),t);case"txt":return function v5(e,n){switch(n.type){case"base64":return gd(e);case"binary":case"string":return e;case"file":return co(n.file,e,"binary");case"buffer":return ns?$l(e,"binary"):e.split("").map(function(t){return t.charCodeAt(0)})}throw new Error("Unrecognized type "+n.type)}(x5(e.Sheets[e.SheetNames[s]],t),t);case"csv":return Df(pA(e.Sheets[e.SheetNames[s]],t),t,"\ufeff");case"dif":return Df(cm.from_sheet(e.Sheets[e.SheetNames[s]],t),t);case"dbf":return $_(i_.from_sheet(e.Sheets[e.SheetNames[s]],t),t);case"prn":return Df(Yp.from_sheet(e.Sheets[e.SheetNames[s]],t),t);case"rtf":return Df(Jv.from_sheet(e.Sheets[e.SheetNames[s]],t),t);case"eth":return Df(Ef.from_sheet(e.Sheets[e.SheetNames[s]],t),t);case"fods":return Df(XS(e,t),t);case"wk1":return $_(Kp.sheet_to_wk1(e.Sheets[e.SheetNames[s]],t),t);case"wk3":return $_(Kp.book_to_wk3(e,t),t);case"biff2":t.biff||(t.biff=2);case"biff3":t.biff||(t.biff=3);case"biff4":return t.biff||(t.biff=4),$_(UE(e,t),t);case"biff5":t.biff||(t.biff=5);case"biff8":case"xla":case"xls":return t.biff||(t.biff=8),function tT(e,n){var t=n||{};return uA(function zk(e,n){var t=n||{},r=qi.utils.cfb_new({root:"R"}),s="/Workbook";switch(t.bookType||"xls"){case"xls":t.bookType="biff8";case"xla":t.bookType||(t.bookType="xla");case"biff8":s="/Workbook",t.biff=8;break;case"biff5":s="/Book",t.biff=5;break;default:throw new Error("invalid type "+t.bookType+" for XLS CFB")}return qi.utils.cfb_add(r,s,UE(e,t)),8==t.biff&&(e.Props||e.Custprops)&&function Hk(e,n){var d,t=[],r=[],s=[],o=0,g=Su(Ey,"n"),m=Su(Ty,"n");if(e.Props)for(d=_a(e.Props),o=0;o<d.length;++o)(Object.prototype.hasOwnProperty.call(g,d[o])?t:Object.prototype.hasOwnProperty.call(m,d[o])?r:s).push([d[o],e.Props[d[o]]]);if(e.Custprops)for(d=_a(e.Custprops),o=0;o<d.length;++o)Object.prototype.hasOwnProperty.call(e.Props||{},d[o])||(Object.prototype.hasOwnProperty.call(g,d[o])?t:Object.prototype.hasOwnProperty.call(m,d[o])?r:s).push([d[o],e.Custprops[d[o]]]);var _=[];for(o=0;o<s.length;++o)kd.indexOf(s[o][0])>-1||Dy.indexOf(s[o][0])>-1||null!=s[o][1]&&_.push(s[o]);r.length&&qi.utils.cfb_add(n,"/\x05SummaryInformation",Mx(r,"e0859ff2f94f6810ab9108002b27b3d9",m,Ty)),(t.length||_.length)&&qi.utils.cfb_add(n,"/\x05DocumentSummaryInformation",Mx(t,"02d5cdd59c2e1b10939708002b2cf9ae",g,Ey,_.length?_:null,"05d5cdd59c2e1b10939708002b2cf9ae"))}(e,r),8==t.biff&&e.vbaraw&&function C_(e,n){n.FullPaths.forEach(function(t,r){if(0!=r){var s=t.replace(/[^\/]*[\/]/,"/_VBA_PROJECT_CUR/");"/"!==s.slice(-1)&&qi.utils.cfb_add(e,s,n.FileIndex[r].content)}})}(r,qi.read(e.vbaraw,{type:"string"==typeof e.vbaraw?"binary":"buffer"})),r}(e,t),t)}(e,t);case"xlsx":case"xlsm":case"xlam":case"xlsb":case"numbers":case"ods":return function m5(e,n){var t=ao(n||{});return function o2(e,n){var t={},r=ns?"nodebuffer":"undefined"!=typeof Uint8Array?"array":"string";if(n.compression&&(t.compression="DEFLATE"),n.password)t.type=r;else switch(n.type){case"base64":t.type="base64";break;case"binary":t.type="string";break;case"string":throw new Error("'string' output type invalid for '"+n.bookType+"' files");case"buffer":case"file":t.type=r;break;default:throw new Error("Unrecognized type "+n.type)}var s=e.FullPaths?qi.write(e,{fileType:"zip",type:{nodebuffer:"buffer",string:"binary"}[t.type]||t.type,compression:!!n.compression}):e.generate(t);if("undefined"!=typeof Deno&&"string"==typeof s){if("binary"==n.type||"base64"==n.type)return s;s=new Uint8Array(tf(s))}return n.password&&"undefined"!=typeof encrypt_agile?uA(encrypt_agile(s,n.password),n):"file"===n.type?co(n.file,s):"string"==n.type?ta(s):s}(rA(e,t),t)}(e,t);default:throw new Error("Unrecognized bookType |"+t.bookType+"|")}}function k1(e,n,t){var r=t||{};return r.type="file",r.file=n,function iT(e){if(!e.bookType){var t=e.file.slice(e.file.lastIndexOf(".")).toLowerCase();t.match(/^\.[a-z]+$/)&&(e.bookType=t.slice(1)),e.bookType={xls:"biff8",htm:"html",slk:"sylk",socialcalc:"eth",Sh33tJS:"WTF"}[e.bookType]||e.bookType}}(r),rT(e,r)}function dA(e,n,t,r,s,o,d,g){var m=El(t),_=g.defval,w=g.raw||!Object.prototype.hasOwnProperty.call(g,"raw"),A=!0,N=1===s?[]:{};if(1!==s)if(Object.defineProperty)try{Object.defineProperty(N,"__rowNum__",{value:t,enumerable:!1})}catch(he){N.__rowNum__=t}else N.__rowNum__=t;if(!d||e[t])for(var D=n.s.c;D<=n.e.c;++D){var ee=d?e[t][D]:e[r[D]+m];if(void 0!==ee&&void 0!==ee.t){var B=ee.v;switch(ee.t){case"z":if(null==B)break;continue;case"e":B=0==B?null:void 0;break;case"s":case"d":case"b":case"n":break;default:throw new Error("unrecognized type "+ee.t)}if(null!=o[D]){if(null==B)if("e"==ee.t&&null===B)N[o[D]]=null;else if(void 0!==_)N[o[D]]=_;else{if(!w||null!==B)continue;N[o[D]]=null}else N[o[D]]=w&&("n"!==ee.t||"n"===ee.t&&!1!==g.rawNumbers)?B:Kh(ee,B,g);null!=B&&(A=!1)}}else{if(void 0===_)continue;null!=o[D]&&(N[o[D]]=_)}}return{row:N,isempty:A}}function a2(e,n){if(null==e||null==e["!ref"])return[];var t={t:"n",v:0},r=0,s=1,o=[],d=0,g="",m={s:{r:0,c:0},e:{r:0,c:0}},_=n||{},w=null!=_.range?_.range:e["!ref"];switch(1===_.header?r=1:"A"===_.header?r=2:Array.isArray(_.header)?r=3:null==_.header&&(r=0),typeof w){case"string":m=go(w);break;case"number":(m=go(e["!ref"])).s.r=w;break;default:m=w}r>0&&(s=0);var A=El(m.s.r),N=[],D=[],ee=0,B=0,he=Array.isArray(e),Pe=m.s.r,je=0,Xe={};he&&!e[Pe]&&(e[Pe]=[]);var Vt=_.skipHidden&&e["!cols"]||[],Xt=_.skipHidden&&e["!rows"]||[];for(je=m.s.c;je<=m.e.c;++je)if(!(Vt[je]||{}).hidden)switch(N[je]=Mo(je),t=he?e[Pe][je]:e[N[je]+A],r){case 1:o[je]=je-m.s.c;break;case 2:o[je]=N[je];break;case 3:o[je]=_.header[je-m.s.c];break;default:if(null==t&&(t={w:"__EMPTY",t:"s"}),g=d=Kh(t,null,_),B=Xe[d]||0){do{g=d+"_"+B++}while(Xe[g]);Xe[d]=B,Xe[g]=1}else Xe[d]=1;o[je]=g}for(Pe=m.s.r+s;Pe<=m.e.r;++Pe)if(!(Xt[Pe]||{}).hidden){var bn=dA(e,m,Pe,N,r,o,he,_);(!1===bn.isempty||(1===r?!1!==_.blankrows:_.blankrows))&&(D[ee++]=bn.row)}return D.length=ee,D}var fA=/"/g;function _5(e,n,t,r,s,o,d,g){for(var m=!0,_=[],w="",A=El(t),N=n.s.c;N<=n.e.c;++N)if(r[N]){var D=g.dense?(e[t]||[])[N]:e[r[N]+A];if(null==D)w="";else if(null!=D.v){m=!1,w=""+(g.rawNumbers&&"n"==D.t?D.v:Kh(D,null,g));for(var ee=0,B=0;ee!==w.length;++ee)if((B=w.charCodeAt(ee))===s||B===o||34===B||g.forceQuotes){w='"'+w.replace(fA,'""')+'"';break}"ID"==w&&(w='"ID"')}else null==D.f||D.F?w="":(m=!1,(w="="+D.f).indexOf(",")>=0&&(w='"'+w.replace(fA,'""')+'"'));_.push(w)}return!1===g.blankrows&&m?null:_.join(d)}function pA(e,n){var t=[],r=null==n?{}:n;if(null==e||null==e["!ref"])return"";var s=go(e["!ref"]),o=void 0!==r.FS?r.FS:",",d=o.charCodeAt(0),g=void 0!==r.RS?r.RS:"\n",m=g.charCodeAt(0),_=new RegExp(("|"==o?"\\|":o)+"+$"),w="",A=[];r.dense=Array.isArray(e);for(var N=r.skipHidden&&e["!cols"]||[],D=r.skipHidden&&e["!rows"]||[],ee=s.s.c;ee<=s.e.c;++ee)(N[ee]||{}).hidden||(A[ee]=Mo(ee));for(var B=0,he=s.s.r;he<=s.e.r;++he)(D[he]||{}).hidden||null!=(w=_5(e,s,he,A,d,m,o,r))&&(r.strip&&(w=w.replace(_,"")),(w||!1!==r.blankrows)&&t.push((B++?g:"")+w));return delete r.dense,t.join("")}function x5(e,n){n||(n={}),n.FS="\t",n.RS="\n";var t=pA(e,n);return t}function w5(e,n,t){var r=t||{},s=+!r.skipHeader,o=e||{},d=0,g=0;if(o&&null!=r.origin)if("number"==typeof r.origin)d=r.origin;else{var m="string"==typeof r.origin?ul(r.origin):r.origin;d=m.r,g=m.c}var _,w={s:{c:0,r:0},e:{c:g,r:d+n.length-1+s}};if(o["!ref"]){var A=go(o["!ref"]);w.e.c=Math.max(w.e.c,A.e.c),w.e.r=Math.max(w.e.r,A.e.r),-1==d&&(w.e.r=(d=A.e.r+1)+n.length-1+s)}else-1==d&&(d=0,w.e.r=n.length-1+s);var N=r.header||[],D=0;n.forEach(function(B,he){_a(B).forEach(function(Pe){-1==(D=N.indexOf(Pe))&&(N[D=N.length]=Pe);var je=B[Pe],Xe="z",Vt="",Xt=Gi({c:g+D,r:d+he+s});_=_g(o,Xt),!je||"object"!=typeof je||je instanceof Date?("number"==typeof je?Xe="n":"boolean"==typeof je?Xe="b":"string"==typeof je?Xe="s":je instanceof Date?(Xe="d",r.cellDates||(Xe="n",je=xa(je)),Vt=r.dateNF||ts[14]):null===je&&r.nullError&&(Xe="e",je=0),_?(_.t=Xe,_.v=je,delete _.w,delete _.R,Vt&&(_.z=Vt)):o[Xt]=_={t:Xe,v:je},Vt&&(_.z=Vt)):o[Xt]=je})}),w.e.c=Math.max(w.e.c,g+N.length-1);var ee=El(d);if(s)for(D=0;D<N.length;++D)o[Mo(D+g)+ee]={t:"s",v:N[D]};return o["!ref"]=ks(w),o}function _g(e,n,t){if("string"==typeof n){if(Array.isArray(e)){var r=ul(n);return e[r.r]||(e[r.r]=[]),e[r.r][r.c]||(e[r.r][r.c]={t:"z"})}return e[n]||(e[n]={t:"z"})}return _g(e,Gi("number"!=typeof n?n:{r:n,c:t||0}))}function c2(e,n,t){return n?(e.l={Target:n},t&&(e.l.Tooltip=t)):delete e.l,e}var ga={encode_col:Mo,encode_row:El,encode_cell:Gi,encode_range:ks,decode_col:bx,decode_row:kp,split_cell:function zg(e){return e.replace(/(\$?[A-Z]*)(\$?\d*)/,"$1,$2").split(",")},decode_cell:ul,decode_range:Kl,format_cell:Kh,sheet_add_aoa:gy,sheet_add_json:w5,sheet_add_dom:ZS,aoa_to_sheet:Sd,json_to_sheet:function b5(e,n){return w5(null,e,n)},table_to_sheet:zE,table_to_book:function $S(e,n){return Xf(zE(e,n),n)},sheet_to_csv:pA,sheet_to_txt:x5,sheet_to_json:a2,sheet_to_html:HE,sheet_to_formulae:function CM(e){var t,n="",r="";if(null==e||null==e["!ref"])return[];var g,s=go(e["!ref"]),o="",d=[],m=[],_=Array.isArray(e);for(g=s.s.c;g<=s.e.c;++g)d[g]=Mo(g);for(var w=s.s.r;w<=s.e.r;++w)for(o=El(w),g=s.s.c;g<=s.e.c;++g)if(n=d[g]+o,r="",void 0!==(t=_?(e[w]||[])[g]:e[n])){if(null!=t.F){if(n=t.F,!t.f)continue;r=t.f,-1==n.indexOf(":")&&(n=n+":"+n)}if(null!=t.f)r=t.f;else{if("z"==t.t)continue;if("n"==t.t&&null!=t.v)r=""+t.v;else if("b"==t.t)r=t.v?"TRUE":"FALSE";else if(void 0!==t.w)r="'"+t.w;else{if(void 0===t.v)continue;r="s"==t.t?"'"+t.v:""+t.v}}m[m.length]=n+"="+r}return m},sheet_to_row_object_array:a2,sheet_get_cell:_g,book_new:function sT(){return{SheetNames:[],Sheets:{}}},book_append_sheet:function l2(e,n,t,r){var s=1;if(!t)for(;s<=65535&&-1!=e.SheetNames.indexOf(t="Sheet"+s);++s,t=void 0);if(!t||e.SheetNames.length>=65535)throw new Error("Too many worksheets");if(r&&e.SheetNames.indexOf(t)>=0){var o=t.match(/(^.*?)(\d+)$/);s=o&&+o[2]||0;var d=o&&o[1]||t;for(++s;s<=65535&&-1!=e.SheetNames.indexOf(t=d+s);++s);}if(bE(t),e.SheetNames.indexOf(t)>=0)throw new Error("Worksheet with name |"+t+"| already exists!");return e.SheetNames.push(t),e.Sheets[t]=n,t},book_set_sheet_visibility:function Om(e,n,t){e.Workbook||(e.Workbook={}),e.Workbook.Sheets||(e.Workbook.Sheets=[]);var r=function E5(e,n){if("number"==typeof n){if(n>=0&&e.SheetNames.length>n)return n;throw new Error("Cannot find sheet # "+n)}if("string"==typeof n){var t=e.SheetNames.indexOf(n);if(t>-1)return t;throw new Error("Cannot find sheet name |"+n+"|")}throw new Error("Cannot find sheet |"+n+"|")}(e,n);switch(e.Workbook.Sheets[r]||(e.Workbook.Sheets[r]={}),t){case 0:case 1:case 2:break;default:throw new Error("Bad sheet visibility setting "+t)}e.Workbook.Sheets[r].Hidden=t},cell_set_number_format:function gA(e,n){return e.z=n,e},cell_set_hyperlink:c2,cell_set_internal_link:function oT(e,n,t){return c2(e,"#"+n,t)},cell_add_comment:function T5(e,n,t){e.c||(e.c=[]),e.c.push({t:n,a:t||"SheetJS"})},sheet_set_array_formula:function aT(e,n,t,r){for(var s="string"!=typeof n?n:go(n),o="string"==typeof n?n:ks(n),d=s.s.r;d<=s.e.r;++d)for(var g=s.s.c;g<=s.e.c;++g){var m=_g(e,d,g);m.t="n",m.F=o,delete m.v,d==s.s.r&&g==s.s.c&&(m.f=t,r&&(m.D=!0))}return e},consts:{SHEET_VISIBLE:0,SHEET_HIDDEN:1,SHEET_VERY_HIDDEN:2}};let S5=(()=>{class e{transform(t){return t?"Si":"No"}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275pipe=h.Yjl({name:"respuestaBooleano",type:e,pure:!0}),e})();function A5(e,n){if(1&e&&(h.TgZ(0,"div")(1,"span"),h._uU(2),h.qZA(),h._UZ(3,"br"),h.TgZ(4,"span"),h._uU(5),h.qZA(),h._UZ(6,"br"),h.TgZ(7,"span"),h._uU(8),h.qZA(),h._UZ(9,"br"),h.TgZ(10,"span"),h._uU(11),h.qZA(),h._UZ(12,"br"),h.TgZ(13,"span"),h._uU(14),h.qZA(),h._UZ(15,"br"),h.TgZ(16,"span"),h._uU(17),h.qZA(),h._UZ(18,"br"),h.TgZ(19,"label"),h._uU(20,"Foto Perfil"),h.qZA(),h._UZ(21,"br")(22,"img",1),h.qZA()),2&e){const t=h.oxw();h.xp6(2),h.hij("Nombre: ",t.administrador.nombre,""),h.xp6(3),h.hij("Apellido: ",t.administrador.apellido,""),h.xp6(3),h.hij("DNI: ",t.administrador.dni,""),h.xp6(3),h.hij("Edad: ",t.administrador.edad,""),h.xp6(3),h.hij("Email: ",t.administrador.mail,""),h.xp6(3),h.hij("Password: ",t.administrador.password,""),h.xp6(5),h.Q6J("src",t.administrador.fotoUrl,h.LSH)}}function I5(e,n){if(1&e&&(h.TgZ(0,"li",4)(1,"span"),h._uU(2),h.qZA()()),2&e){const t=n.$implicit;h.xp6(2),h.Oqu(t.nombre)}}function mA(e,n){if(1&e&&(h.TgZ(0,"div")(1,"span"),h._uU(2),h.qZA(),h._UZ(3,"br"),h.TgZ(4,"span"),h._uU(5),h.qZA(),h._UZ(6,"br"),h.TgZ(7,"span"),h._uU(8),h.qZA(),h._UZ(9,"br"),h.TgZ(10,"span"),h._uU(11),h.qZA(),h._UZ(12,"br"),h.TgZ(13,"span"),h._uU(14,"Especialidades: "),h.TgZ(15,"ul",2),h.YNc(16,I5,3,1,"li",3),h.qZA()(),h.TgZ(17,"span"),h._uU(18),h.ALo(19,"respuestaBooleano"),h.qZA(),h._UZ(20,"br"),h.TgZ(21,"span"),h._uU(22),h.qZA(),h._UZ(23,"br"),h.TgZ(24,"span"),h._uU(25),h.qZA(),h._UZ(26,"br"),h.TgZ(27,"label"),h._uU(28,"Foto Perfil"),h.qZA(),h._UZ(29,"br")(30,"img",1),h.qZA()),2&e){const t=h.oxw();h.xp6(2),h.hij("Nombre: ",t.especialista.nombre,""),h.xp6(3),h.hij("Apellido: ",t.especialista.apellido,""),h.xp6(3),h.hij("DNI: ",t.especialista.dni,""),h.xp6(3),h.hij("Edad: ",t.especialista.edad,""),h.xp6(5),h.Q6J("ngForOf",t.especialista.especialidades),h.xp6(2),h.hij("Habilitado: ",h.lcZ(19,9,t.especialista.habilitado),""),h.xp6(4),h.hij("Email: ",t.especialista.mail,""),h.xp6(3),h.hij("Password: ",t.especialista.password,""),h.xp6(5),h.Q6J("src",t.especialista.fotoUrl,h.LSH)}}function vA(e,n){if(1&e&&(h.TgZ(0,"tr")(1,"td"),h._uU(2),h.qZA(),h.TgZ(3,"td"),h._uU(4),h.qZA(),h.TgZ(5,"td"),h._uU(6),h.ALo(7,"date"),h.qZA(),h.TgZ(8,"td"),h._uU(9),h.qZA(),h.TgZ(10,"td"),h._uU(11),h.qZA(),h.TgZ(12,"td"),h._uU(13),h.qZA(),h.TgZ(14,"td"),h._uU(15),h.qZA()()),2&e){const t=n.$implicit;h.xp6(2),h.Oqu(t.especialidad),h.xp6(2),h.Oqu(t.especialistaNombre),h.xp6(2),h.Oqu(h.xi3(7,7,t.fecha,"yyyy/MM/dd HH:mm")),h.xp6(3),h.Oqu(t.estado),h.xp6(2),h.Oqu(t.encuesta),h.xp6(2),h.Oqu(t.calificacion),h.xp6(2),h.Oqu(t.resenia)}}function yA(e,n){if(1&e&&(h.TgZ(0,"table",8)(1,"tr")(2,"th"),h._uU(3,"Especialidad"),h.qZA(),h.TgZ(4,"th"),h._uU(5,"Especialista"),h.qZA(),h.TgZ(6,"th"),h._uU(7,"Fecha"),h.qZA(),h.TgZ(8,"th"),h._uU(9,"Estado"),h.qZA(),h.TgZ(10,"th"),h._uU(11,"Encuesta"),h.qZA(),h.TgZ(12,"th"),h._uU(13,"Calificaci\xf3n"),h.qZA(),h.TgZ(14,"th"),h._uU(15,"Rese\xf1a"),h.qZA()(),h.YNc(16,vA,16,10,"tr",9),h.qZA()),2&e){const t=h.oxw(2);h.xp6(16),h.Q6J("ngForOf",t.arrayTurnosPaciente)}}function D5(e,n){if(1&e){const t=h.EpF();h.TgZ(0,"button",10),h.NdJ("click",function(){return h.CHM(t),h.oxw(2).exportExcelOnlyOne()}),h._uU(1," Exportar Datos a Excel "),h.qZA()}}const k5=function(){return[]};function _A(e,n){if(1&e&&(h.TgZ(0,"div")(1,"table",5)(2,"tr")(3,"th"),h._uU(4,"Nombre"),h.qZA(),h.TgZ(5,"th"),h._uU(6,"Apellido"),h.qZA(),h.TgZ(7,"th"),h._uU(8,"DNI"),h.qZA(),h.TgZ(9,"th"),h._uU(10,"edad"),h.qZA(),h.TgZ(11,"th"),h._uU(12,"Obra Social"),h.qZA(),h.TgZ(13,"th"),h._uU(14,"Email"),h.qZA(),h.TgZ(15,"th"),h._uU(16,"Password"),h.qZA(),h.TgZ(17,"th"),h._uU(18,"Foto Perfil 1"),h.qZA(),h.TgZ(19,"th"),h._uU(20,"Foto Perfil 2"),h.qZA()(),h.TgZ(21,"tr")(22,"td"),h._uU(23),h.qZA(),h.TgZ(24,"td"),h._uU(25),h.qZA(),h.TgZ(26,"td"),h._uU(27),h.qZA(),h.TgZ(28,"td"),h._uU(29),h.qZA(),h.TgZ(30,"td"),h._uU(31),h.qZA(),h.TgZ(32,"td"),h._uU(33),h.qZA(),h.TgZ(34,"td"),h._uU(35),h.qZA(),h.TgZ(36,"td"),h._UZ(37,"img",1),h.qZA(),h.TgZ(38,"td"),h._UZ(39,"img",1),h.qZA()()(),h.YNc(40,yA,17,1,"table",6),h.YNc(41,D5,2,0,"button",7),h.qZA()),2&e){const t=h.oxw();h.xp6(23),h.Oqu(t.paciente.nombre),h.xp6(2),h.Oqu(t.paciente.apellido),h.xp6(2),h.Oqu(t.paciente.dni),h.xp6(2),h.Oqu(t.paciente.edad),h.xp6(2),h.Oqu(t.paciente.obraSocial),h.xp6(2),h.Oqu(t.paciente.mail),h.xp6(2),h.Oqu(t.paciente.password),h.xp6(2),h.Q6J("src",t.paciente.foto1Url,h.LSH),h.xp6(2),h.Q6J("src",t.paciente.foto2Url,h.LSH),h.xp6(1),h.Q6J("ngIf","paciente"!=t.user.tipo&&t.arrayTurnosPaciente!=h.DdM(11,k5)),h.xp6(1),h.Q6J("ngIf","administrador"==t.user.tipo)}}let u2=(()=>{class e{constructor(){this.arrayTurnosPaciente=[],this.user=JSON.parse(localStorage.getItem("loggedUser")||"")}ngOnInit(){}exportExcelOnlyOne(){let t="DatosUsuario"+this.paciente.nombre+"_"+this.paciente.apellido+".xlsx",r=document.getElementById("excel-table-one");const s=ga.table_to_sheet(r);let o=document.getElementById("excel-turnos-table-one");const d=ga.table_to_sheet(o),g=ga.book_new();ga.book_append_sheet(g,s,"DatosUsuario"),ga.book_append_sheet(g,d,"Turnos"),k1(g,t)}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=h.Xpm({type:e,selectors:[["app-detalle-usuario"]],inputs:{administrador:"administrador",especialista:"especialista",paciente:"paciente",arrayTurnosPaciente:"arrayTurnosPaciente"},decls:3,vars:3,consts:[[4,"ngIf"],["alt","",3,"src"],[1,"list-group","mb-3","text-muted"],["class"," d-flex justify-content-between lh-condensed ",4,"ngFor","ngForOf"],[1,"d-flex","justify-content-between","lh-condensed"],["id","excel-table-one",1,"table","table-bordered"],["id","excel-turnos-table-one","class","table table-bordered",4,"ngIf"],["class","btn btn-outline-secondary",3,"click",4,"ngIf"],["id","excel-turnos-table-one",1,"table","table-bordered"],[4,"ngFor","ngForOf"],[1,"btn","btn-outline-secondary",3,"click"]],template:function(t,r){1&t&&(h.YNc(0,A5,23,7,"div",0),h.YNc(1,mA,31,11,"div",0),h.YNc(2,_A,42,12,"div",0)),2&t&&(h.Q6J("ngIf",r.administrador),h.xp6(1),h.Q6J("ngIf",r.especialista),h.xp6(1),h.Q6J("ngIf",r.paciente))},directives:[C.O5,C.sg],pipes:[S5,C.uU],styles:["img[_ngcontent-%COMP%]{display:inline;width:100px;height:100px;object-fit:scale-down}"]}),e})();function wa(e){return(wa="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(n){return typeof n}:function(n){return n&&"function"==typeof Symbol&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n})(e)}var ba=Uint8Array,ru=Uint16Array,Rm=Uint32Array,Y_=new ba([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),P1=new ba([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),K_=new ba([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),P5=function(e,n){for(var t=new ru(31),r=0;r<31;++r)t[r]=n+=1<<e[r-1];var s=new Rm(t[30]);for(r=1;r<30;++r)for(var o=t[r];o<t[r+1];++o)s[o]=o-t[r]<<5|r;return[t,s]},N5=P5(Y_,2),xA=N5[0],uT=N5[1];xA[28]=258,uT[258]=28;for(var M5=P5(P1,0),wA=M5[0],bA=M5[1],h2=new ru(32768),Al=0;Al<32768;++Al){var Lm=(43690&Al)>>>1|(21845&Al)<<1;h2[Al]=((65280&(Lm=(61680&(Lm=(52428&Lm)>>>2|(13107&Lm)<<2))>>>4|(3855&Lm)<<4))>>>8|(255&Lm)<<8)>>>1}var l=function(e,n,t){for(var r=e.length,s=0,o=new ru(n);s<r;++s)++o[e[s]-1];var g,d=new ru(n);for(s=0;s<n;++s)d[s]=d[s-1]+o[s-1]<<1;if(t){g=new ru(1<<n);var m=15-n;for(s=0;s<r;++s)if(e[s])for(var _=s<<4|e[s],w=n-e[s],A=d[e[s]-1]++<<w,N=A|(1<<w)-1;A<=N;++A)g[h2[A]>>>m]=_}else for(g=new ru(r),s=0;s<r;++s)g[s]=h2[d[e[s]-1]++]>>>15-e[s];return g},c=new ba(288);for(Al=0;Al<144;++Al)c[Al]=8;for(Al=144;Al<256;++Al)c[Al]=9;for(Al=256;Al<280;++Al)c[Al]=7;for(Al=280;Al<288;++Al)c[Al]=8;var f=new ba(32);for(Al=0;Al<32;++Al)f[Al]=5;var v=l(c,9,0),x=l(c,9,1),T=l(f,5,0),U=l(f,5,1),te=function(e){for(var n=e[0],t=1;t<e.length;++t)e[t]>n&&(n=e[t]);return n},ge=function(e,n,t){var r=n/8>>0;return(e[r]|e[r+1]<<8)>>>(7&n)&t},rt=function(e,n){var t=n/8>>0;return(e[t]|e[t+1]<<8|e[t+2]<<16)>>>(7&n)},Ct=function(e){return(e/8>>0)+(7&e&&1)},en=function(e,n,t){(null==n||n<0)&&(n=0),(null==t||t>e.length)&&(t=e.length);var r=new(e instanceof ru?ru:e instanceof Rm?Rm:ba)(t-n);return r.set(e.subarray(n,t)),r},Yn=function(e,n,t){var r=n/8>>0;e[r]|=t<<=7&n,e[r+1]|=t>>>8},Ir=function(e,n,t){var r=n/8>>0;e[r]|=t<<=7&n,e[r+1]|=t>>>8,e[r+2]|=t>>>16},ci=function(e,n){for(var t=[],r=0;r<e.length;++r)e[r]&&t.push({s:r,f:e[r]});var s=t.length,o=t.slice();if(!s)return[new ba(0),0];if(1==s){var d=new ba(t[0].s+1);return d[t[0].s]=1,[d,1]}t.sort(function(Xt,bn){return Xt.f-bn.f}),t.push({s:-1,f:25001});var g=t[0],m=t[1],_=0,w=1,A=2;for(t[0]={s:-1,f:g.f+m.f,l:g,r:m};w!=s-1;)g=t[t[_].f<t[A].f?_++:A++],m=t[_!=w&&t[_].f<t[A].f?_++:A++],t[w++]={s:-1,f:g.f+m.f,l:g,r:m};var N=o[0].s;for(r=1;r<s;++r)o[r].s>N&&(N=o[r].s);var D=new ru(N+1),ee=wi(t[w-1],D,0);if(ee>n){r=0;var B=0,he=ee-n,Pe=1<<he;for(o.sort(function(bn,At){return D[At.s]-D[bn.s]||bn.f-At.f});r<s;++r){var je=o[r].s;if(!(D[je]>n))break;B+=Pe-(1<<ee-D[je]),D[je]=n}for(B>>>=he;B>0;){var Xe=o[r].s;D[Xe]<n?B-=1<<n-D[Xe]++-1:++r}for(;r>=0&&B;--r){var Vt=o[r].s;D[Vt]==n&&(--D[Vt],++B)}ee=n}return[new ba(D),ee]},wi=function(e,n,t){return-1==e.s?Math.max(wi(e.l,n,t+1),wi(e.r,n,t+1)):n[e.s]=t},Hi=function(e){for(var n=e.length;n&&!e[--n];);for(var t=new ru(++n),r=0,s=e[0],o=1,d=function(m){t[r++]=m},g=1;g<=n;++g)if(e[g]==s&&g!=n)++o;else{if(!s&&o>2){for(;o>138;o-=138)d(32754);o>2&&(d(o>10?o-11<<5|28690:o-3<<5|12305),o=0)}else if(o>3){for(d(s),--o;o>6;o-=6)d(8304);o>2&&(d(o-3<<5|8208),o=0)}for(;o--;)d(s);o=1,s=e[g]}return[t.subarray(0,r),n]},Wr=function(e,n){for(var t=0,r=0;r<n.length;++r)t+=e[r]*n[r];return t},ss=function(e,n,t){var r=t.length,s=Ct(n+2);e[s]=255&r,e[s+1]=r>>>8,e[s+2]=255^e[s],e[s+3]=255^e[s+1];for(var o=0;o<r;++o)e[s+o+4]=t[o];return 8*(s+4+r)},ho=function(e,n,t,r,s,o,d,g,m,_,w){Yn(n,w++,t),++s[256];for(var A=ci(s,15),N=A[0],D=A[1],ee=ci(o,15),B=ee[0],he=ee[1],Pe=Hi(N),je=Pe[0],Xe=Pe[1],Vt=Hi(B),Xt=Vt[0],bn=Vt[1],At=new ru(19),St=0;St<je.length;++St)At[31&je[St]]++;for(St=0;St<Xt.length;++St)At[31&Xt[St]]++;for(var Jt=ci(At,7),gn=Jt[0],vt=Jt[1],st=19;st>4&&!gn[K_[st-1]];--st);var Wn,Kn,Zn,zn,rn=_+5<<3,tn=Wr(s,c)+Wr(o,f)+d,Fn=Wr(s,N)+Wr(o,B)+d+14+3*st+Wr(At,gn)+(2*At[16]+3*At[17]+7*At[18]);if(rn<=tn&&rn<=Fn)return ss(n,w,e.subarray(m,m+_));if(Yn(n,w,1+(Fn<tn)),w+=2,Fn<tn){Wn=l(N,D,0),Kn=N,Zn=l(B,he,0),zn=B;var nr=l(gn,vt,0);for(Yn(n,w,Xe-257),Yn(n,w+5,bn-1),Yn(n,w+10,st-4),w+=14,St=0;St<st;++St)Yn(n,w+3*St,gn[K_[St]]);w+=3*st;for(var Qn=[je,Xt],Ie=0;Ie<2;++Ie){var bt=Qn[Ie];for(St=0;St<bt.length;++St)Yn(n,w,nr[ut=31&bt[St]]),w+=gn[ut],ut>15&&(Yn(n,w,bt[St]>>>5&127),w+=bt[St]>>>12)}}else Wn=v,Kn=c,Zn=T,zn=f;for(St=0;St<g;++St)if(r[St]>255){var ut;Ir(n,w,Wn[257+(ut=r[St]>>>18&31)]),w+=Kn[ut+257],ut>7&&(Yn(n,w,r[St]>>>23&31),w+=Y_[ut]);var _t=31&r[St];Ir(n,w,Zn[_t]),w+=zn[_t],_t>3&&(Ir(n,w,r[St]>>>5&8191),w+=P1[_t])}else Ir(n,w,Wn[r[St]]),w+=Kn[r[St]];return Ir(n,w,Wn[256]),w+Kn[256]},qo=new Rm([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),Ih=new ba(0),M1=function(e,n,t,r,s){return function(e,n,t,r,s,o){var d=e.length,g=new ba(r+d+5*(1+Math.floor(d/7e3))+s),m=g.subarray(r,g.length-s),_=0;if(!n||d<8)for(var w=0;w<=d;w+=65535){var A=w+65535;A<d?_=ss(m,_,e.subarray(w,A)):(m[w]=o,_=ss(m,_,e.subarray(w,d)))}else{for(var N=qo[n-1],D=N>>>13,ee=8191&N,B=(1<<t)-1,he=new ru(32768),Pe=new ru(B+1),je=Math.ceil(t/3),Xe=2*je,Vt=function(_i){return(e[_i]^e[_i+1]<<je^e[_i+2]<<Xe)&B},Xt=new Rm(25e3),bn=new ru(288),At=new ru(32),St=0,Jt=0,gn=(w=0,0),vt=0,st=0;w<d;++w){var rn=Vt(w),tn=32767&w,Fn=Pe[rn];if(he[tn]=Fn,Pe[rn]=tn,vt<=w){var Wn=d-w;if((St>7e3||gn>24576)&&Wn>423){_=ho(e,m,0,Xt,bn,At,Jt,gn,st,w-st,_),gn=St=Jt=0,st=w;for(var Kn=0;Kn<286;++Kn)bn[Kn]=0;for(Kn=0;Kn<30;++Kn)At[Kn]=0}var Zn=2,zn=0,nr=ee,Qn=tn-Fn&32767;if(Wn>2&&rn==Vt(w-Qn))for(var Ie=Math.min(D,Wn)-1,bt=Math.min(32767,w),ut=Math.min(258,Wn);Qn<=bt&&--nr&&tn!=Fn;){if(e[w+Zn]==e[w+Zn-Qn]){for(var _t=0;_t<ut&&e[w+_t]==e[w+_t-Qn];++_t);if(_t>Zn){if(Zn=_t,zn=Qn,_t>Ie)break;var Kt=Math.min(Qn,_t-2),In=0;for(Kn=0;Kn<Kt;++Kn){var An=w-Qn+Kn+32768&32767,qn=An-he[An]+32768&32767;qn>In&&(In=qn,Fn=An)}}}Qn+=(tn=Fn)-(Fn=he[tn])+32768&32767}if(zn){Xt[gn++]=268435456|uT[Zn]<<18|bA[zn];var Rr=31&uT[Zn],Gt=31&bA[zn];Jt+=Y_[Rr]+P1[Gt],++bn[257+Rr],++At[Gt],vt=w+Zn,++St}else Xt[gn++]=e[w],++bn[e[w]]}}_=ho(e,m,o,Xt,bn,At,Jt,gn,st,w-st,_),o||(_=ss(m,_,Ih))}return en(g,0,r+Ct(_)+s)}(e,null==n.level?6:n.level,null==n.mem?Math.ceil(1.5*Math.max(8,Math.min(13,Math.log(e.length)))):12+n.mem,t,r,!s)};function fT(e,n){void 0===n&&(n={});var t=function(){var e=1,n=0;return{p:function(t){for(var r=e,s=n,o=t.length,d=0;d!=o;){for(var g=Math.min(d+5552,o);d<g;++d)s+=r+=t[d];r%=65521,s%=65521}e=r,n=s},d:function(){return(e>>>8<<16|(255&n)<<8|n>>>8)+2*((255&e)<<23)}}}();t.p(e);var r=M1(e,n,2,4);return function(e,n){var t=n.level,r=0==t?0:t<6?1:9==t?3:2;e[0]=120,e[1]=r<<6|(r?32-2*r:1)}(r,n),function(e,n,t){for(;t;++n)e[n]=t,t>>>=8}(r,r.length-4,t.d()),r}function TA(e,n){return function(e,n,t){var r=e.length,s=!n||t,o=!t||t.i;t||(t={}),n||(n=new ba(3*r));var d=function(Kt){var In=n.length;if(Kt>In){var An=new ba(Math.max(2*In,Kt));An.set(n),n=An}},g=t.f||0,m=t.p||0,_=t.b||0,w=t.l,A=t.d,N=t.m,D=t.n,ee=8*r;do{if(!w){t.f=g=ge(e,m,1);var B=ge(e,m+1,3);if(m+=3,!B){var Pe=e[(he=Ct(m)+4)-4]|e[he-3]<<8,je=he+Pe;if(je>r){if(o)throw"unexpected EOF";break}s&&d(_+Pe),n.set(e.subarray(he,je),_),t.b=_+=Pe,t.p=m=8*je;continue}if(1==B)w=x,A=U,N=9,D=5;else{if(2!=B)throw"invalid block type";var Xe=ge(e,m,31)+257,Vt=ge(e,m+10,15)+4,Xt=Xe+ge(e,m+5,31)+1;m+=14;for(var bn=new ba(Xt),At=new ba(19),St=0;St<Vt;++St)At[K_[St]]=ge(e,m+3*St,7);m+=3*Vt;var Jt=te(At),gn=(1<<Jt)-1;if(!o&&m+Xt*(Jt+7)>ee)break;var vt=l(At,Jt,1);for(St=0;St<Xt;){var he,st=vt[ge(e,m,gn)];if(m+=15&st,(he=st>>>4)<16)bn[St++]=he;else{var rn=0,tn=0;for(16==he?(tn=3+ge(e,m,3),m+=2,rn=bn[St-1]):17==he?(tn=3+ge(e,m,7),m+=3):18==he&&(tn=11+ge(e,m,127),m+=7);tn--;)bn[St++]=rn}}var Fn=bn.subarray(0,Xe),Wn=bn.subarray(Xe);N=te(Fn),D=te(Wn),w=l(Fn,N,1),A=l(Wn,D,1)}if(m>ee)throw"unexpected EOF"}s&&d(_+131072);for(var Kn=(1<<N)-1,Zn=(1<<D)-1,zn=N+D+18;o||m+zn<ee;){var nr=(rn=w[rt(e,m)&Kn])>>>4;if((m+=15&rn)>ee)throw"unexpected EOF";if(!rn)throw"invalid length/literal";if(nr<256)n[_++]=nr;else{if(256==nr){w=null;break}var Qn=nr-254;nr>264&&(Qn=ge(e,m,(1<<(Ie=Y_[St=nr-257]))-1)+xA[St],m+=Ie);var bt=A[rt(e,m)&Zn],ut=bt>>>4;if(!bt)throw"invalid distance";if(m+=15&bt,Wn=wA[ut],ut>3){var Ie=P1[ut];Wn+=rt(e,m)&(1<<Ie)-1,m+=Ie}if(m>ee)throw"unexpected EOF";s&&d(_+131072);for(var _t=_+Qn;_<_t;_+=4)n[_]=n[_-Wn],n[_+1]=n[_+1-Wn],n[_+2]=n[_+2-Wn],n[_+3]=n[_+3-Wn];_=_t}}t.l=w,t.p=m,t.b=_,w&&(g=1,t.m=N,t.d=A,t.n=D)}while(!g);return _==n.length?n:en(n,0,_)}((function(e){if(8!=(15&e[0])||e[0]>>>4>7||(e[0]<<8|e[1])%31)throw"invalid zlib data";if(32&e[1])throw"invalid zlib data: preset dictionaries not supported"}(e),e.subarray(2,-4)),n)}var As=function(){return"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this}();function B5(){As.console&&"function"==typeof As.console.log&&As.console.log.apply(As.console,arguments)}var dl={log:B5,warn:function(e){As.console&&("function"==typeof As.console.warn?As.console.warn.apply(As.console,arguments):B5.call(null,arguments))},error:function(e){As.console&&("function"==typeof As.console.error?As.console.error.apply(As.console,arguments):B5(e))}};function j5(e,n,t){var r=new XMLHttpRequest;r.open("GET",e),r.responseType="blob",r.onload=function(){X_(r.response,n,t)},r.onerror=function(){dl.error("could not download file")},r.send()}function zM(e){var n=new XMLHttpRequest;n.open("HEAD",e,!1);try{n.send()}catch(t){}return n.status>=200&&n.status<=299}function SA(e){try{e.dispatchEvent(new MouseEvent("click"))}catch(t){var n=document.createEvent("MouseEvents");n.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),e.dispatchEvent(n)}}var pT,V5,X_=As.saveAs||("object"!==("undefined"==typeof window?"undefined":wa(window))||window!==As?function(){}:"undefined"!=typeof HTMLAnchorElement&&"download"in HTMLAnchorElement.prototype?function(e,n,t){var r=As.URL||As.webkitURL,s=document.createElement("a");s.download=n=n||e.name||"download",s.rel="noopener","string"==typeof e?(s.href=e,s.origin!==location.origin?zM(s.href)?j5(e,n,t):SA(s,s.target="_blank"):SA(s)):(s.href=r.createObjectURL(e),setTimeout(function(){r.revokeObjectURL(s.href)},4e4),setTimeout(function(){SA(s)},0))}:"msSaveOrOpenBlob"in navigator?function(e,n,t){if(n=n||e.name||"download","string"==typeof e)if(zM(e))j5(e,n,t);else{var r=document.createElement("a");r.href=e,r.target="_blank",setTimeout(function(){SA(r)})}else navigator.msSaveOrOpenBlob((s=e,void 0===(o=t)?o={autoBom:!1}:"object"!==wa(o)&&(dl.warn("Deprecated: Expected third argument to be a object"),o={autoBom:!o}),o.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(s.type)?new Blob([String.fromCharCode(65279),s],{type:s.type}):s),n);var s,o}:function(e,n,t,r){if((r=r||open("","_blank"))&&(r.document.title=r.document.body.innerText="downloading..."),"string"==typeof e)return j5(e,n,t);var s="application/octet-stream"===e.type,o=/constructor/i.test(As.HTMLElement)||As.safari,d=/CriOS\/[\d]+/.test(navigator.userAgent);if((d||s&&o)&&"object"===("undefined"==typeof FileReader?"undefined":wa(FileReader))){var g=new FileReader;g.onloadend=function(){var w=g.result;w=d?w:w.replace(/^data:[^;]*;/,"data:attachment/file;"),r?r.location.href=w:location=w,r=null},g.readAsDataURL(e)}else{var m=As.URL||As.webkitURL,_=m.createObjectURL(e);r?r.location=_:location.href=_,r=null,setTimeout(function(){m.revokeObjectURL(_)},4e4)}});function WM(e){var n;e=e||"",this.ok=!1,"#"==e.charAt(0)&&(e=e.substr(1,6)),e={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"}[e=(e=e.replace(/ /g,"")).toLowerCase()]||e;for(var t=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(g){return[parseInt(g[1]),parseInt(g[2]),parseInt(g[3])]}},{re:/^(\w{2})(\w{2})(\w{2})$/,example:["#00ff00","336699"],process:function(g){return[parseInt(g[1],16),parseInt(g[2],16),parseInt(g[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,example:["#fb0","f0f"],process:function(g){return[parseInt(g[1]+g[1],16),parseInt(g[2]+g[2],16),parseInt(g[3]+g[3],16)]}}],r=0;r<t.length;r++){var o=t[r].process,d=t[r].re.exec(e);d&&(n=o(d),this.r=n[0],this.g=n[1],this.b=n[2],this.ok=!0)}this.r=this.r<0||isNaN(this.r)?0:this.r>255?255:this.r,this.g=this.g<0||isNaN(this.g)?0:this.g>255?255:this.g,this.b=this.b<0||isNaN(this.b)?0:this.b>255?255:this.b,this.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"},this.toHex=function(){var g=this.r.toString(16),m=this.g.toString(16),_=this.b.toString(16);return 1==g.length&&(g="0"+g),1==m.length&&(m="0"+m),1==_.length&&(_="0"+_),"#"+g+m+_}}function H5(e,n){var t=e[0],r=e[1],s=e[2],o=e[3];t=Dh(t,r,s,o,n[0],7,-680876936),o=Dh(o,t,r,s,n[1],12,-389564586),s=Dh(s,o,t,r,n[2],17,606105819),r=Dh(r,s,o,t,n[3],22,-1044525330),t=Dh(t,r,s,o,n[4],7,-176418897),o=Dh(o,t,r,s,n[5],12,1200080426),s=Dh(s,o,t,r,n[6],17,-1473231341),r=Dh(r,s,o,t,n[7],22,-45705983),t=Dh(t,r,s,o,n[8],7,1770035416),o=Dh(o,t,r,s,n[9],12,-1958414417),s=Dh(s,o,t,r,n[10],17,-42063),r=Dh(r,s,o,t,n[11],22,-1990404162),t=Dh(t,r,s,o,n[12],7,1804603682),o=Dh(o,t,r,s,n[13],12,-40341101),s=Dh(s,o,t,r,n[14],17,-1502002290),t=kh(t,r=Dh(r,s,o,t,n[15],22,1236535329),s,o,n[1],5,-165796510),o=kh(o,t,r,s,n[6],9,-1069501632),s=kh(s,o,t,r,n[11],14,643717713),r=kh(r,s,o,t,n[0],20,-373897302),t=kh(t,r,s,o,n[5],5,-701558691),o=kh(o,t,r,s,n[10],9,38016083),s=kh(s,o,t,r,n[15],14,-660478335),r=kh(r,s,o,t,n[4],20,-405537848),t=kh(t,r,s,o,n[9],5,568446438),o=kh(o,t,r,s,n[14],9,-1019803690),s=kh(s,o,t,r,n[3],14,-187363961),r=kh(r,s,o,t,n[8],20,1163531501),t=kh(t,r,s,o,n[13],5,-1444681467),o=kh(o,t,r,s,n[2],9,-51403784),s=kh(s,o,t,r,n[7],14,1735328473),t=Ph(t,r=kh(r,s,o,t,n[12],20,-1926607734),s,o,n[5],4,-378558),o=Ph(o,t,r,s,n[8],11,-2022574463),s=Ph(s,o,t,r,n[11],16,1839030562),r=Ph(r,s,o,t,n[14],23,-35309556),t=Ph(t,r,s,o,n[1],4,-1530992060),o=Ph(o,t,r,s,n[4],11,1272893353),s=Ph(s,o,t,r,n[7],16,-155497632),r=Ph(r,s,o,t,n[10],23,-1094730640),t=Ph(t,r,s,o,n[13],4,681279174),o=Ph(o,t,r,s,n[0],11,-358537222),s=Ph(s,o,t,r,n[3],16,-722521979),r=Ph(r,s,o,t,n[6],23,76029189),t=Ph(t,r,s,o,n[9],4,-640364487),o=Ph(o,t,r,s,n[12],11,-421815835),s=Ph(s,o,t,r,n[15],16,530742520),t=Nh(t,r=Ph(r,s,o,t,n[2],23,-995338651),s,o,n[0],6,-198630844),o=Nh(o,t,r,s,n[7],10,1126891415),s=Nh(s,o,t,r,n[14],15,-1416354905),r=Nh(r,s,o,t,n[5],21,-57434055),t=Nh(t,r,s,o,n[12],6,1700485571),o=Nh(o,t,r,s,n[3],10,-1894986606),s=Nh(s,o,t,r,n[10],15,-1051523),r=Nh(r,s,o,t,n[1],21,-2054922799),t=Nh(t,r,s,o,n[8],6,1873313359),o=Nh(o,t,r,s,n[15],10,-30611744),s=Nh(s,o,t,r,n[6],15,-1560198380),r=Nh(r,s,o,t,n[13],21,1309151649),t=Nh(t,r,s,o,n[4],6,-145523070),o=Nh(o,t,r,s,n[11],10,-1120210379),s=Nh(s,o,t,r,n[2],15,718787259),r=Nh(r,s,o,t,n[9],21,-343485551),e[0]=R1(t,e[0]),e[1]=R1(r,e[1]),e[2]=R1(s,e[2]),e[3]=R1(o,e[3])}function AA(e,n,t,r,s,o){return n=R1(R1(n,e),R1(r,o)),R1(n<<s|n>>>32-s,t)}function Dh(e,n,t,r,s,o,d){return AA(n&t|~n&r,e,n,s,o,d)}function kh(e,n,t,r,s,o,d){return AA(n&r|t&~r,e,n,s,o,d)}function Ph(e,n,t,r,s,o,d){return AA(n^t^r,e,n,s,o,d)}function Nh(e,n,t,r,s,o,d){return AA(t^(n|~r),e,n,s,o,d)}function qM(e){var n,t=e.length,r=[1732584193,-271733879,-1732584194,271733878];for(n=64;n<=e.length;n+=64)H5(r,t4(e.substring(n-64,n)));e=e.substring(n-64);var s=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(n=0;n<e.length;n++)s[n>>2]|=e.charCodeAt(n)<<(n%4<<3);if(s[n>>2]|=128<<(n%4<<3),n>55)for(H5(r,s),n=0;n<16;n++)s[n]=0;return s[14]=8*t,H5(r,s),r}function t4(e){var n,t=[];for(n=0;n<64;n+=4)t[n>>2]=e.charCodeAt(n)+(e.charCodeAt(n+1)<<8)+(e.charCodeAt(n+2)<<16)+(e.charCodeAt(n+3)<<24);return t}pT=As.atob.bind(As),V5=As.btoa.bind(As);var GM="0123456789abcdef".split("");function n4(e){for(var n="",t=0;t<4;t++)n+=GM[e>>8*t+4&15]+GM[e>>8*t&15];return n}function r4(e){return String.fromCharCode((255&e)>>0,(65280&e)>>8,(16711680&e)>>16,(4278190080&e)>>24)}function z5(e){return qM(e).map(r4).join("")}var i4="5d41402abc4b2a76b9719d911017c592"!=function(e){for(var n=0;n<e.length;n++)e[n]=n4(e[n]);return e.join("")}(qM("hello"));function R1(e,n){if(i4){var t=(65535&e)+(65535&n);return(e>>16)+(n>>16)+(t>>16)<<16|65535&t}return e+n&4294967295}function W5(e,n){var t,r,s;if(e!==t){for(var d=(s=e,new Array(1+(256/e.length>>0)+1).join(s)),g=[],m=0;m<256;m++)g[m]=m;var _=0;for(m=0;m<256;m++){var w=g[m];_=(_+w+d.charCodeAt(m))%256,g[m]=g[_],g[_]=w}t=e,r=g}else g=r;var A=n.length,N=0,D=0,ee="";for(m=0;m<A;m++)D=(D+(w=g[N=(N+1)%256]))%256,g[N]=g[D],g[D]=w,d=g[(g[N]+g[D])%256],ee+=String.fromCharCode(n.charCodeAt(m)^d);return ee}var ZM={print:4,modify:8,copy:16,"annot-forms":32};function y2(e,n,t,r){this.v=1,this.r=2;var s=192;e.forEach(function(g){if(void 0!==ZM.perm)throw new Error("Invalid permission: "+g);s+=ZM[g]}),this.padding="(\xbfN^Nu\x8aAd\0NV\xff\xfa\x01\b..\0\xb6\xd0h>\x80/\f\xa9\xfedSiz";var o=(n+this.padding).substr(0,32),d=(t+this.padding).substr(0,32);this.O=this.processOwnerPassword(o,d),this.P=-(1+(255^s)),this.encryptionKey=z5(o+this.O+this.lsbFirstWord(this.P)+this.hexToBytes(r)).substr(0,5),this.U=W5(this.encryptionKey,this.padding)}function _2(e){if(/[^\u0000-\u00ff]/.test(e))throw new Error("Invalid PDF Name Object: "+e+", Only accept ASCII characters.");for(var n="",t=e.length,r=0;r<t;r++){var s=e.charCodeAt(r);n+=s<33||35===s||37===s||40===s||41===s||47===s||60===s||62===s||91===s||93===s||123===s||125===s||s>126?"#"+("0"+s.toString(16)).slice(-2):e[r]}return n}function $M(e){if("object"!==wa(e))throw new Error("Invalid Context passed to initialize PubSub (jsPDF-module)");var n={};this.subscribe=function(t,r,s){if(s=s||!1,"string"!=typeof t||"function"!=typeof r||"boolean"!=typeof s)throw new Error("Invalid arguments passed to PubSub.subscribe (jsPDF-module)");n.hasOwnProperty(t)||(n[t]={});var o=Math.random().toString(35);return n[t][o]=[r,!!s],o},this.unsubscribe=function(t){for(var r in n)if(n[r][t])return delete n[r][t],0===Object.keys(n[r]).length&&delete n[r],!0;return!1},this.publish=function(t){if(n.hasOwnProperty(t)){var r=Array.prototype.slice.call(arguments,1),s=[];for(var o in n[t]){var d=n[t][o];try{d[0].apply(e,r)}catch(g){As.console&&dl.error("jsPDF PubSub Error",g.message,g)}d[1]&&s.push(o)}s.length&&s.forEach(this.unsubscribe)}},this.getTopics=function(){return n}}function IA(e){if(!(this instanceof IA))return new IA(e);var n="opacity,stroke-opacity".split(",");for(var t in e)e.hasOwnProperty(t)&&n.indexOf(t)>=0&&(this[t]=e[t]);this.id="",this.objectNumber=-1}function YM(e,n){this.gState=e,this.matrix=n,this.id="",this.objectNumber=-1}function J_(e,n,t,r,s){if(!(this instanceof J_))return new J_(e,n,t,r,s);this.type="axial"===e?2:3,this.coords=n,this.colors=t,YM.call(this,r,s)}function x2(e,n,t,r,s){if(!(this instanceof x2))return new x2(e,n,t,r,s);this.boundingBox=e,this.xStep=n,this.yStep=t,this.stream="",this.cloneIndex=0,YM.call(this,r,s)}function bs(e){var n,t="string"==typeof arguments[0]?arguments[0]:"p",r=arguments[1],s=arguments[2],o=arguments[3],d=[],g=1,m=16,_="S",w=null;"object"===wa(e=e||{})&&(t=e.orientation,r=e.unit||r,s=e.format||s,o=e.compress||e.compressPdf||o,null!==(w=e.encryption||null)&&(w.userPassword=w.userPassword||"",w.ownerPassword=w.ownerPassword||"",w.userPermissions=w.userPermissions||[]),g="number"==typeof e.userUnit?Math.abs(e.userUnit):1,void 0!==e.precision&&(n=e.precision),void 0!==e.floatPrecision&&(m=e.floatPrecision),_=e.defaultPathOperation||"S"),d=e.filters||(!0===o?["FlateEncode"]:d),r=r||"mm",t=(""+(t||"P")).toLowerCase();var A=e.putOnlyUsedFonts||!1,N={},D={internal:{},__private__:{}};D.__private__.PubSub=$M;var ee="1.3",B=D.__private__.getPdfVersion=function(){return ee};D.__private__.setPdfVersion=function(X){ee=X};var he={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};D.__private__.getPageFormats=function(){return he};var Pe=D.__private__.getPageFormat=function(X){return he[X]};s=s||"a4";var je={COMPAT:"compat",ADVANCED:"advanced"},Xe=je.COMPAT;function Vt(){this.saveGraphicsState(),on(new ys(di,0,0,-di,0,J1()*di).toString()+" cm"),this.setFontSize(this.getFontSize()/di),_="n",Xe=je.ADVANCED}function Xt(){this.restoreGraphicsState(),_="S",Xe=je.COMPAT}var bn=D.__private__.combineFontStyleAndFontWeight=function(X,xt){if("bold"==X&&"normal"==xt||"bold"==X&&400==xt||"normal"==X&&"italic"==xt||"bold"==X&&"italic"==xt)throw new Error("Invalid Combination of fontweight and fontstyle");return xt&&(X=400==xt||"normal"===xt?"italic"===X?"italic":"normal":700!=xt&&"bold"!==xt||"normal"!==X?(700==xt?"bold":xt)+""+X:"bold"),X};D.advancedAPI=function(X){var xt=Xe===je.COMPAT;return xt&&Vt.call(this),"function"!=typeof X||(X(this),xt&&Xt.call(this)),this},D.compatAPI=function(X){var xt=Xe===je.ADVANCED;return xt&&Xt.call(this),"function"!=typeof X||(X(this),xt&&Vt.call(this)),this},D.isAdvancedAPI=function(){return Xe===je.ADVANCED};var At,St=function(X){if(Xe!==je.ADVANCED)throw new Error(X+" is only available in 'advanced' API mode. You need to call advancedAPI() first.")},Jt=D.roundToPrecision=D.__private__.roundToPrecision=function(X,xt){var dn=n||xt;if(isNaN(X)||isNaN(dn))throw new Error("Invalid argument passed to jsPDF.roundToPrecision");return X.toFixed(dn).replace(/0+$/,"")};At=D.hpf=D.__private__.hpf="number"==typeof m?function(X){if(isNaN(X))throw new Error("Invalid argument passed to jsPDF.hpf");return Jt(X,m)}:"smart"===m?function(X){if(isNaN(X))throw new Error("Invalid argument passed to jsPDF.hpf");return Jt(X,X>-1&&X<1?16:5)}:function(X){if(isNaN(X))throw new Error("Invalid argument passed to jsPDF.hpf");return Jt(X,16)};var gn=D.f2=D.__private__.f2=function(X){if(isNaN(X))throw new Error("Invalid argument passed to jsPDF.f2");return Jt(X,2)},vt=D.__private__.f3=function(X){if(isNaN(X))throw new Error("Invalid argument passed to jsPDF.f3");return Jt(X,3)},st=D.scale=D.__private__.scale=function(X){if(isNaN(X))throw new Error("Invalid argument passed to jsPDF.scale");return Xe===je.COMPAT?X*di:Xe===je.ADVANCED?X:void 0},rn=function(X){return Xe===je.COMPAT?J1()-X:Xe===je.ADVANCED?X:void 0},tn=function(X){return st(rn(X))};D.__private__.setPrecision=D.setPrecision=function(X){"number"==typeof parseInt(X,10)&&(n=parseInt(X,10))};var Fn,Wn="00000000000000000000000000000000",Kn=D.__private__.getFileId=function(){return Wn},Zn=D.__private__.setFileId=function(X){return Wn=void 0!==X&&/^[a-fA-F0-9]{32}$/.test(X)?X.toUpperCase():Wn.split("").map(function(){return"ABCDEF0123456789".charAt(Math.floor(16*Math.random()))}).join(""),null!==w&&(Fh=new y2(w.userPermissions,w.userPassword,w.ownerPassword,Wn)),Wn};D.setFileId=function(X){return Zn(X),this},D.getFileId=function(){return Kn()};var zn=D.__private__.convertDateToPDFDate=function(X){var xt=X.getTimezoneOffset(),dn=xt<0?"+":"-",Rn=Math.floor(Math.abs(xt/60)),ir=Math.abs(xt%60),Ur=[dn,ut(Rn),"'",ut(ir),"'"].join("");return["D:",X.getFullYear(),ut(X.getMonth()+1),ut(X.getDate()),ut(X.getHours()),ut(X.getMinutes()),ut(X.getSeconds()),Ur].join("")},nr=D.__private__.convertPDFDateToDate=function(X){var xt=parseInt(X.substr(2,4),10),dn=parseInt(X.substr(6,2),10)-1,Rn=parseInt(X.substr(8,2),10),ir=parseInt(X.substr(10,2),10),Ur=parseInt(X.substr(12,2),10),li=parseInt(X.substr(14,2),10);return new Date(xt,dn,Rn,ir,Ur,li,0)},Qn=D.__private__.setCreationDate=function(X){var xt;if(void 0===X&&(X=new Date),X instanceof Date)xt=zn(X);else{if(!/^D:(20[0-2][0-9]|203[0-7]|19[7-9][0-9])(0[0-9]|1[0-2])([0-2][0-9]|3[0-1])(0[0-9]|1[0-9]|2[0-3])(0[0-9]|[1-5][0-9])(0[0-9]|[1-5][0-9])(\+0[0-9]|\+1[0-4]|-0[0-9]|-1[0-1])'(0[0-9]|[1-5][0-9])'?$/.test(X))throw new Error("Invalid argument passed to jsPDF.setCreationDate");xt=X}return Fn=xt},Ie=D.__private__.getCreationDate=function(X){var xt=Fn;return"jsDate"===X&&(xt=nr(Fn)),xt};D.setCreationDate=function(X){return Qn(X),this},D.getCreationDate=function(X){return Ie(X)};var bt,ut=D.__private__.padd2=function(X){return("0"+parseInt(X)).slice(-2)},_t=D.__private__.padd2Hex=function(X){return("00"+(X=X.toString())).substr(X.length)},Kt=0,In=[],An=[],Pn=0,qn=[],Rr=[],Gt=!1,oi=An,_i=function(){Kt=0,Pn=0,An=[],In=[],qn=[],qt=Fc(),Yt=Fc()};D.__private__.setCustomOutputDestination=function(X){Gt=!0,oi=X};var gr=function(X){Gt||(oi=X)};D.__private__.resetCustomOutputDestination=function(){Gt=!1,oi=An};var on=D.__private__.out=function(X){return X=X.toString(),Pn+=X.length+1,oi.push(X),oi},qr=D.__private__.write=function(X){return on(1===arguments.length?X.toString():Array.prototype.join.call(arguments," "))},Ti=D.__private__.getArrayBuffer=function(X){for(var xt=X.length,dn=new ArrayBuffer(xt),Rn=new Uint8Array(dn);xt--;)Rn[xt]=X.charCodeAt(xt);return dn},ei=[["Helvetica","helvetica","normal","WinAnsiEncoding"],["Helvetica-Bold","helvetica","bold","WinAnsiEncoding"],["Helvetica-Oblique","helvetica","italic","WinAnsiEncoding"],["Helvetica-BoldOblique","helvetica","bolditalic","WinAnsiEncoding"],["Courier","courier","normal","WinAnsiEncoding"],["Courier-Bold","courier","bold","WinAnsiEncoding"],["Courier-Oblique","courier","italic","WinAnsiEncoding"],["Courier-BoldOblique","courier","bolditalic","WinAnsiEncoding"],["Times-Roman","times","normal","WinAnsiEncoding"],["Times-Bold","times","bold","WinAnsiEncoding"],["Times-Italic","times","italic","WinAnsiEncoding"],["Times-BoldItalic","times","bolditalic","WinAnsiEncoding"],["ZapfDingbats","zapfdingbats","normal",null],["Symbol","symbol","normal",null]];D.__private__.getStandardFonts=function(){return ei};var gi=e.fontSize||16;D.__private__.setFontSize=D.setFontSize=function(X){return gi=Xe===je.ADVANCED?X/di:X,this};var Ci,Ii=D.__private__.getFontSize=D.getFontSize=function(){return Xe===je.COMPAT?gi:gi*di},Xi=e.R2L||!1;D.__private__.setR2L=D.setR2L=function(X){return Xi=X,this},D.__private__.getR2L=D.getR2L=function(){return Xi};var ls,ws=D.__private__.setZoomMode=function(X){if(/^(?:\d+\.\d*|\d*\.\d+|\d+)%$/.test(X))Ci=X;else if(isNaN(X)){if(-1===[void 0,null,"fullwidth","fullheight","fullpage","original"].indexOf(X))throw new Error('zoom must be Integer (e.g. 2), a percentage Value (e.g. 300%) or fullwidth, fullheight, fullpage, original. "'+X+'" is not recognized.');Ci=X}else Ci=parseInt(X,10)};D.__private__.getZoomMode=function(){return Ci};var Fs,bo=D.__private__.setPageMode=function(X){if(-1==[void 0,null,"UseNone","UseOutlines","UseThumbs","FullScreen"].indexOf(X))throw new Error('Page mode must be one of UseNone, UseOutlines, UseThumbs, or FullScreen. "'+X+'" is not recognized.');ls=X};D.__private__.getPageMode=function(){return ls};var eo=D.__private__.setLayoutMode=function(X){if(-1==[void 0,null,"continuous","single","twoleft","tworight","two"].indexOf(X))throw new Error('Layout mode must be one of continuous, single, twoleft, tworight. "'+X+'" is not recognized.');Fs=X};D.__private__.getLayoutMode=function(){return Fs},D.__private__.setDisplayMode=D.setDisplayMode=function(X,xt,dn){return ws(X),eo(xt),bo(dn),this};var cs={title:"",subject:"",author:"",keywords:"",creator:""};D.__private__.getDocumentProperty=function(X){if(-1===Object.keys(cs).indexOf(X))throw new Error("Invalid argument passed to jsPDF.getDocumentProperty");return cs[X]},D.__private__.getDocumentProperties=function(){return cs},D.__private__.setDocumentProperties=D.setProperties=D.setDocumentProperties=function(X){for(var xt in cs)cs.hasOwnProperty(xt)&&X[xt]&&(cs[xt]=X[xt]);return this},D.__private__.setDocumentProperty=function(X,xt){if(-1===Object.keys(cs).indexOf(X))throw new Error("Invalid arguments passed to jsPDF.setDocumentProperty");return cs[X]=xt};var Mi,di,Ba,vs,fu,Ta={},Pl={},wp=[],Go={},Dg={},Vl={},Pf={},p0=null,pl=0,Hs=[],oa=new $M(D),Hm=e.hotfixes||[],pu={},bp={},Ep=[],ys=function X(xt,dn,Rn,ir,Ur,li){if(!(this instanceof X))return new X(xt,dn,Rn,ir,Ur,li);isNaN(xt)&&(xt=1),isNaN(dn)&&(dn=0),isNaN(Rn)&&(Rn=0),isNaN(ir)&&(ir=1),isNaN(Ur)&&(Ur=0),isNaN(li)&&(li=0),this._matrix=[xt,dn,Rn,ir,Ur,li]};Object.defineProperty(ys.prototype,"sx",{get:function(){return this._matrix[0]},set:function(X){this._matrix[0]=X}}),Object.defineProperty(ys.prototype,"shy",{get:function(){return this._matrix[1]},set:function(X){this._matrix[1]=X}}),Object.defineProperty(ys.prototype,"shx",{get:function(){return this._matrix[2]},set:function(X){this._matrix[2]=X}}),Object.defineProperty(ys.prototype,"sy",{get:function(){return this._matrix[3]},set:function(X){this._matrix[3]=X}}),Object.defineProperty(ys.prototype,"tx",{get:function(){return this._matrix[4]},set:function(X){this._matrix[4]=X}}),Object.defineProperty(ys.prototype,"ty",{get:function(){return this._matrix[5]},set:function(X){this._matrix[5]=X}}),Object.defineProperty(ys.prototype,"a",{get:function(){return this._matrix[0]},set:function(X){this._matrix[0]=X}}),Object.defineProperty(ys.prototype,"b",{get:function(){return this._matrix[1]},set:function(X){this._matrix[1]=X}}),Object.defineProperty(ys.prototype,"c",{get:function(){return this._matrix[2]},set:function(X){this._matrix[2]=X}}),Object.defineProperty(ys.prototype,"d",{get:function(){return this._matrix[3]},set:function(X){this._matrix[3]=X}}),Object.defineProperty(ys.prototype,"e",{get:function(){return this._matrix[4]},set:function(X){this._matrix[4]=X}}),Object.defineProperty(ys.prototype,"f",{get:function(){return this._matrix[5]},set:function(X){this._matrix[5]=X}}),Object.defineProperty(ys.prototype,"rotation",{get:function(){return Math.atan2(this.shx,this.sx)}}),Object.defineProperty(ys.prototype,"scaleX",{get:function(){return this.decompose().scale.sx}}),Object.defineProperty(ys.prototype,"scaleY",{get:function(){return this.decompose().scale.sy}}),Object.defineProperty(ys.prototype,"isIdentity",{get:function(){return 1===this.sx&&0===this.shy&&0===this.shx&&1===this.sy&&0===this.tx&&0===this.ty}}),ys.prototype.join=function(X){return[this.sx,this.shy,this.shx,this.sy,this.tx,this.ty].map(At).join(X)},ys.prototype.multiply=function(X){return new ys(X.sx*this.sx+X.shy*this.shx,X.sx*this.shy+X.shy*this.sy,X.shx*this.sx+X.sy*this.shx,X.shx*this.shy+X.sy*this.sy,X.tx*this.sx+X.ty*this.shx+this.tx,X.tx*this.shy+X.ty*this.sy+this.ty)},ys.prototype.decompose=function(){var X=this.sx,xt=this.shy,dn=this.shx,Rn=this.sy,ir=this.tx,Ur=this.ty,li=Math.sqrt(X*X+xt*xt),Bi=(X/=li)*dn+(xt/=li)*Rn;dn-=X*Bi,Rn-=xt*Bi;var ps=Math.sqrt(dn*dn+Rn*Rn);return Bi/=ps,X*(Rn/=ps)<xt*(dn/=ps)&&(X=-X,xt=-xt,Bi=-Bi,li=-li),{scale:new ys(li,0,0,ps,0,0),translate:new ys(1,0,0,1,ir,Ur),rotate:new ys(X,xt,-xt,X,0,0),skew:new ys(1,0,Bi,1,0,0)}},ys.prototype.toString=function(X){return this.join(" ")},ys.prototype.inversed=function(){var X=this.sx,xt=this.shy,dn=this.shx,Rn=this.sy,ir=this.tx,Ur=this.ty,li=1/(X*Rn-xt*dn),Bi=Rn*li,ps=-xt*li,no=-dn*li,mo=X*li;return new ys(Bi,ps,no,mo,-Bi*ir-no*Ur,-ps*ir-mo*Ur)},ys.prototype.applyToPoint=function(X){return new G2(X.x*this.sx+X.y*this.shx+this.tx,X.x*this.shy+X.y*this.sy+this.ty)},ys.prototype.applyToRectangle=function(X){var xt=this.applyToPoint(X),dn=this.applyToPoint(new G2(X.x+X.w,X.y+X.h));return new iC(xt.x,xt.y,dn.x-xt.x,dn.y-xt.y)},ys.prototype.clone=function(){return new ys(this.sx,this.shy,this.shx,this.sy,this.tx,this.ty)},D.Matrix=ys;var Nf=D.matrixMult=function(X,xt){return xt.multiply(X)},$d=new ys(1,0,0,1,0,0);D.unitMatrix=D.identityMatrix=$d;var Oh=function(X,xt){if(!Dg[X]){var dn=(xt instanceof J_?"Sh":"P")+(Object.keys(Go).length+1).toString(10);xt.id=dn,Dg[X]=dn,Go[dn]=xt,oa.publish("addPattern",xt)}};D.ShadingPattern=J_,D.TilingPattern=x2,D.addShadingPattern=function(X,xt){return St("addShadingPattern()"),Oh(X,xt),this},D.beginTilingPattern=function(X){St("beginTilingPattern()"),BI(X.boundingBox[0],X.boundingBox[1],X.boundingBox[2]-X.boundingBox[0],X.boundingBox[3]-X.boundingBox[1],X.matrix)},D.endTilingPattern=function(X,xt){St("endTilingPattern()"),xt.stream=Rr[bt].join("\n"),Oh(X,xt),oa.publish("endTilingPattern",xt),Ep.pop().restore()};var $c=D.__private__.newObject=function(){var X=Fc();return Pt(X,!0),X},Fc=D.__private__.newObjectDeferred=function(){return Kt++,In[Kt]=function(){return Pn},Kt},Pt=function(X,xt){return xt="boolean"==typeof xt&&xt,In[X]=Pn,xt&&on(X+" 0 obj"),X},cn=D.__private__.newAdditionalObject=function(){var X={objId:Fc(),content:""};return qn.push(X),X},qt=Fc(),Yt=Fc(),an=D.__private__.decodeColorString=function(X){var xt=X.split(" ");if(2!==xt.length||"g"!==xt[1]&&"G"!==xt[1])5===xt.length&&("k"===xt[4]||"K"===xt[4])&&(xt=[(1-xt[0])*(1-xt[3]),(1-xt[1])*(1-xt[3]),(1-xt[2])*(1-xt[3]),"r"]);else{var dn=parseFloat(xt[0]);xt=[dn,dn,dn,"r"]}for(var Rn="#",ir=0;ir<3;ir++)Rn+=("0"+Math.floor(255*parseFloat(xt[ir])).toString(16)).slice(-2);return Rn},un=D.__private__.encodeColorString=function(X){var xt;"string"==typeof X&&(X={ch1:X});var dn=X.ch1,Rn=X.ch2,ir=X.ch3,Ur=X.ch4,li="draw"===X.pdfColorType?["G","RG","K"]:["g","rg","k"];if("string"==typeof dn&&"#"!==dn.charAt(0)){var Bi=new WM(dn);if(Bi.ok)dn=Bi.toHex();else if(!/^\d*\.?\d*$/.test(dn))throw new Error('Invalid color "'+dn+'" passed to jsPDF.encodeColorString.')}if("string"==typeof dn&&/^#[0-9A-Fa-f]{3}$/.test(dn)&&(dn="#"+dn[1]+dn[1]+dn[2]+dn[2]+dn[3]+dn[3]),"string"==typeof dn&&/^#[0-9A-Fa-f]{6}$/.test(dn)){var ps=parseInt(dn.substr(1),16);dn=ps>>16&255,Rn=ps>>8&255,ir=255&ps}if(void 0===Rn||void 0===Ur&&dn===Rn&&Rn===ir)xt="string"==typeof dn?dn+" "+li[0]:2===X.precision?gn(dn/255)+" "+li[0]:vt(dn/255)+" "+li[0];else if(void 0===Ur||"object"===wa(Ur)){if(Ur&&!isNaN(Ur.a)&&0===Ur.a)return["1.","1.","1.",li[1]].join(" ");xt="string"==typeof dn?[dn,Rn,ir,li[1]].join(" "):2===X.precision?[gn(dn/255),gn(Rn/255),gn(ir/255),li[1]].join(" "):[vt(dn/255),vt(Rn/255),vt(ir/255),li[1]].join(" ")}else xt="string"==typeof dn?[dn,Rn,ir,Ur,li[2]].join(" "):2===X.precision?[gn(dn),gn(Rn),gn(ir),gn(Ur),li[2]].join(" "):[vt(dn),vt(Rn),vt(ir),vt(Ur),li[2]].join(" ");return xt},sr=D.__private__.getFilters=function(){return d},Cr=D.__private__.putStream=function(X){var xt=(X=X||{}).data||"",dn=X.filters||sr(),Rn=X.alreadyAppliedFilters||[],ir=X.addLength1||!1,Ur=xt.length,li=X.objectId,Bi=function(Rh){return Rh};if(null!==w&&void 0===li)throw new Error("ObjectId must be passed to putStream for file encryption");null!==w&&(Bi=Fh.encryptor(li,0));var ps={};!0===dn&&(dn=["FlateEncode"]);var no=X.additionalKeyValues||[],mo=(ps=void 0!==bs.API.processDataByFilters?bs.API.processDataByFilters(xt,dn):{data:xt,reverseChain:[]}).reverseChain+(Array.isArray(Rn)?Rn.join(" "):Rn.toString());if(0!==ps.data.length&&(no.push({key:"Length",value:ps.data.length}),!0===ir&&no.push({key:"Length1",value:Ur})),0!=mo.length)if(mo.split("/").length-1==1)no.push({key:"Filter",value:mo});else{no.push({key:"Filter",value:"["+mo+"]"});for(var Bo=0;Bo<no.length;Bo+=1)if("DecodeParms"===no[Bo].key){for(var bc=[],Rc=0;Rc<ps.reverseChain.split("/").length-1;Rc+=1)bc.push("null");bc.push(no[Bo].value),no[Bo].value="["+bc.join(" ")+"]"}}on("<<");for(var iu=0;iu<no.length;iu++)on("/"+no[iu].key+" "+no[iu].value);on(">>"),0!==ps.data.length&&(on("stream"),on(Bi(ps.data)),on("endstream"))},lr=D.__private__.putPage=function(X){var xt=X.number,dn=X.data,Rn=X.objId,ir=X.contentsObjId;Pt(Rn,!0),on("<</Type /Page"),on("/Parent "+X.rootDictionaryObjId+" 0 R"),on("/Resources "+X.resourceDictionaryObjId+" 0 R"),on("/MediaBox ["+parseFloat(At(X.mediaBox.bottomLeftX))+" "+parseFloat(At(X.mediaBox.bottomLeftY))+" "+At(X.mediaBox.topRightX)+" "+At(X.mediaBox.topRightY)+"]"),null!==X.cropBox&&on("/CropBox ["+At(X.cropBox.bottomLeftX)+" "+At(X.cropBox.bottomLeftY)+" "+At(X.cropBox.topRightX)+" "+At(X.cropBox.topRightY)+"]"),null!==X.bleedBox&&on("/BleedBox ["+At(X.bleedBox.bottomLeftX)+" "+At(X.bleedBox.bottomLeftY)+" "+At(X.bleedBox.topRightX)+" "+At(X.bleedBox.topRightY)+"]"),null!==X.trimBox&&on("/TrimBox ["+At(X.trimBox.bottomLeftX)+" "+At(X.trimBox.bottomLeftY)+" "+At(X.trimBox.topRightX)+" "+At(X.trimBox.topRightY)+"]"),null!==X.artBox&&on("/ArtBox ["+At(X.artBox.bottomLeftX)+" "+At(X.artBox.bottomLeftY)+" "+At(X.artBox.topRightX)+" "+At(X.artBox.topRightY)+"]"),"number"==typeof X.userUnit&&1!==X.userUnit&&on("/UserUnit "+X.userUnit),oa.publish("putPage",{objId:Rn,pageContext:Hs[xt],pageNumber:xt,page:dn}),on("/Contents "+ir+" 0 R"),on(">>"),on("endobj");var Ur=dn.join("\n");return Xe===je.ADVANCED&&(Ur+="\nQ"),Pt(ir,!0),Cr({data:Ur,filters:sr(),objectId:ir}),on("endobj"),Rn},pr=D.__private__.putPages=function(){var X,xt,dn=[];for(X=1;X<=pl;X++)Hs[X].objId=Fc(),Hs[X].contentsObjId=Fc();for(X=1;X<=pl;X++)dn.push(lr({number:X,data:Rr[X],objId:Hs[X].objId,contentsObjId:Hs[X].contentsObjId,mediaBox:Hs[X].mediaBox,cropBox:Hs[X].cropBox,bleedBox:Hs[X].bleedBox,trimBox:Hs[X].trimBox,artBox:Hs[X].artBox,userUnit:Hs[X].userUnit,rootDictionaryObjId:qt,resourceDictionaryObjId:Yt}));Pt(qt,!0),on("<</Type /Pages");var Rn="/Kids [";for(xt=0;xt<pl;xt++)Rn+=dn[xt]+" 0 R ";on(Rn+"]"),on("/Count "+pl),on(">>"),on("endobj"),oa.publish("postPutPages")},_r=function(X){oa.publish("putFont",{font:X,out:on,newObject:$c,putStream:Cr}),!0!==X.isAlreadyPutted&&(X.objectNumber=$c(),on("<<"),on("/Type /Font"),on("/BaseFont /"+_2(X.postScriptName)),on("/Subtype /Type1"),"string"==typeof X.encoding&&on("/Encoding /"+X.encoding),on("/FirstChar 32"),on("/LastChar 255"),on(">>"),on("endobj"))},si=function(){for(var X in Ta)Ta.hasOwnProperty(X)&&(!1===A||!0===A&&N.hasOwnProperty(X))&&_r(Ta[X])},mi=function(X){X.objectNumber=$c();var xt=[];xt.push({key:"Type",value:"/XObject"}),xt.push({key:"Subtype",value:"/Form"}),xt.push({key:"BBox",value:"["+[At(X.x),At(X.y),At(X.x+X.width),At(X.y+X.height)].join(" ")+"]"}),xt.push({key:"Matrix",value:"["+X.matrix.toString()+"]"});var dn=X.pages[1].join("\n");Cr({data:dn,additionalKeyValues:xt,objectId:X.objectNumber}),on("endobj")},Ui=function(){for(var X in pu)pu.hasOwnProperty(X)&&mi(pu[X])},vi=function(X,xt){var dn,Rn=[],ir=1/(xt-1);for(dn=0;dn<1;dn+=ir)Rn.push(dn);Rn.push(1),0!=X[0].offset&&X.unshift({offset:0,color:X[0].color}),1!=X[X.length-1].offset&&X.push({offset:1,color:X[X.length-1].color});for(var Bi="",ps=0,no=0;no<Rn.length;no++){for(dn=Rn[no];dn>X[ps+1].offset;)ps++;var mo=X[ps].offset,Bo=(dn-mo)/(X[ps+1].offset-mo),bc=X[ps].color,Rc=X[ps+1].color;Bi+=_t(Math.round((1-Bo)*bc[0]+Bo*Rc[0]).toString(16))+_t(Math.round((1-Bo)*bc[1]+Bo*Rc[1]).toString(16))+_t(Math.round((1-Bo)*bc[2]+Bo*Rc[2]).toString(16))}return Bi.trim()},Si=function(X,xt){xt||(xt=21);var dn=$c(),Rn=vi(X.colors,xt),ir=[];ir.push({key:"FunctionType",value:"0"}),ir.push({key:"Domain",value:"[0.0 1.0]"}),ir.push({key:"Size",value:"["+xt+"]"}),ir.push({key:"BitsPerSample",value:"8"}),ir.push({key:"Range",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),ir.push({key:"Decode",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),Cr({data:Rn,additionalKeyValues:ir,alreadyAppliedFilters:["/ASCIIHexDecode"],objectId:dn}),on("endobj"),X.objectNumber=$c(),on("<< /ShadingType "+X.type),on("/ColorSpace /DeviceRGB");var Ur="/Coords ["+At(parseFloat(X.coords[0]))+" "+At(parseFloat(X.coords[1]))+" ";Ur+=2===X.type?At(parseFloat(X.coords[2]))+" "+At(parseFloat(X.coords[3])):At(parseFloat(X.coords[2]))+" "+At(parseFloat(X.coords[3]))+" "+At(parseFloat(X.coords[4]))+" "+At(parseFloat(X.coords[5])),on(Ur+="]"),X.matrix&&on("/Matrix ["+X.matrix.toString()+"]"),on("/Function "+dn+" 0 R"),on("/Extend [true true]"),on(">>"),on("endobj")},Ps=function(X,xt){var dn=Fc(),Rn=$c();xt.push({resourcesOid:dn,objectOid:Rn}),X.objectNumber=Rn;var ir=[];ir.push({key:"Type",value:"/Pattern"}),ir.push({key:"PatternType",value:"1"}),ir.push({key:"PaintType",value:"1"}),ir.push({key:"TilingType",value:"1"}),ir.push({key:"BBox",value:"["+X.boundingBox.map(At).join(" ")+"]"}),ir.push({key:"XStep",value:At(X.xStep)}),ir.push({key:"YStep",value:At(X.yStep)}),ir.push({key:"Resources",value:dn+" 0 R"}),X.matrix&&ir.push({key:"Matrix",value:"["+X.matrix.toString()+"]"}),Cr({data:X.stream,additionalKeyValues:ir,objectId:X.objectNumber}),on("endobj")},aa=function(X){var xt;for(xt in Go)Go.hasOwnProperty(xt)&&(Go[xt]instanceof J_?Si(Go[xt]):Go[xt]instanceof x2&&Ps(Go[xt],X))},gu=function(X){for(var xt in X.objectNumber=$c(),on("<<"),X)switch(xt){case"opacity":on("/ca "+gn(X[xt]));break;case"stroke-opacity":on("/CA "+gn(X[xt]))}on(">>"),on("endobj")},rc=function(){var X;for(X in Vl)Vl.hasOwnProperty(X)&&gu(Vl[X])},mu=function(){for(var X in on("/XObject <<"),pu)pu.hasOwnProperty(X)&&pu[X].objectNumber>=0&&on("/"+X+" "+pu[X].objectNumber+" 0 R");oa.publish("putXobjectDict"),on(">>")},zm=function(){Fh.oid=$c(),on("<<"),on("/Filter /Standard"),on("/V "+Fh.v),on("/R "+Fh.r),on("/U <"+Fh.toHexString(Fh.U)+">"),on("/O <"+Fh.toHexString(Fh.O)+">"),on("/P "+Fh.P),on(">>"),on("endobj")},kg=function(){for(var X in on("/Font <<"),Ta)Ta.hasOwnProperty(X)&&(!1===A||!0===A&&N.hasOwnProperty(X))&&on("/"+X+" "+Ta[X].objectNumber+" 0 R");on(">>")},g0=function(){if(Object.keys(Go).length>0){for(var X in on("/Shading <<"),Go)Go.hasOwnProperty(X)&&Go[X]instanceof J_&&Go[X].objectNumber>=0&&on("/"+X+" "+Go[X].objectNumber+" 0 R");oa.publish("putShadingPatternDict"),on(">>")}},Pg=function(X){if(Object.keys(Go).length>0){for(var xt in on("/Pattern <<"),Go)Go.hasOwnProperty(xt)&&Go[xt]instanceof D.TilingPattern&&Go[xt].objectNumber>=0&&Go[xt].objectNumber<X&&on("/"+xt+" "+Go[xt].objectNumber+" 0 R");oa.publish("putTilingPatternDict"),on(">>")}},Mf=function(){if(Object.keys(Vl).length>0){var X;for(X in on("/ExtGState <<"),Vl)Vl.hasOwnProperty(X)&&Vl[X].objectNumber>=0&&on("/"+X+" "+Vl[X].objectNumber+" 0 R");oa.publish("putGStateDict"),on(">>")}},Yc=function(X){Pt(X.resourcesOid,!0),on("<<"),on("/ProcSet [/PDF /Text /ImageB /ImageC /ImageI]"),kg(),g0(),Pg(X.objectOid),Mf(),mu(),on(">>"),on("endobj")},TI=function(){var X=[];si(),rc(),Ui(),aa(X),oa.publish("putResources"),X.forEach(Yc),Yc({resourcesOid:Yt,objectOid:Number.MAX_SAFE_INTEGER}),oa.publish("postPutResources")},CI=function(){oa.publish("putAdditionalObjects");for(var X=0;X<qn.length;X++){var xt=qn[X];Pt(xt.objId,!0),on(xt.content),on("endobj")}oa.publish("postPutAdditionalObjects")},SI=function(X){Pl[X.fontName]=Pl[X.fontName]||{},Pl[X.fontName][X.fontStyle]=X.id},YT=function(X,xt,dn,Rn,ir){var Ur={id:"F"+(Object.keys(Ta).length+1).toString(10),postScriptName:X,fontName:xt,fontStyle:dn,encoding:Rn,isStandardFont:ir||!1,metadata:{}};return oa.publish("addFont",{font:Ur,instance:this}),Ta[Ur.id]=Ur,SI(Ur),Ur.id},EN=function(X){for(var xt=0,dn=ei.length;xt<dn;xt++){var Rn=YT.call(this,X[xt][0],X[xt][1],X[xt][2],ei[xt][3],!0);!1===A&&(N[Rn]=!0);var ir=X[xt][0].split("-");SI({id:Rn,fontName:ir[0],fontStyle:ir[1]||""})}oa.publish("addFonts",{fonts:Ta,dictionary:Pl})},m0=function(X){return X.foo=function(){try{return X.apply(this,arguments)}catch(Rn){var xt=Rn.stack||"";~xt.indexOf(" at ")&&(xt=xt.split(" at ")[1]);var dn="Error in function "+xt.split("\n")[0].split("<")[0]+": "+Rn.message;if(!As.console)throw new Error(dn);As.console.error(dn,Rn),As.alert&&alert(dn)}},X.foo.bar=X,X.foo},j2=function(X,xt){var dn,Rn,ir,Ur,li,Bi,ps,no,mo;if(ir=(xt=xt||{}).sourceEncoding||"Unicode",li=xt.outputEncoding,(xt.autoencode||li)&&Ta[Mi].metadata&&Ta[Mi].metadata[ir]&&Ta[Mi].metadata[ir].encoding&&(Ur=Ta[Mi].metadata[ir].encoding,!li&&Ta[Mi].encoding&&(li=Ta[Mi].encoding),!li&&Ur.codePages&&(li=Ur.codePages[0]),"string"==typeof li&&(li=Ur[li]),li)){for(ps=!1,Bi=[],dn=0,Rn=X.length;dn<Rn;dn++)(no=li[X.charCodeAt(dn)])?Bi.push(String.fromCharCode(no)):Bi.push(X[dn]),Bi[dn].charCodeAt(0)>>8&&(ps=!0);X=Bi.join("")}for(dn=X.length;void 0===ps&&0!==dn;)X.charCodeAt(dn-1)>>8&&(ps=!0),dn--;if(!ps)return X;for(Bi=xt.noBOM?[]:[254,255],dn=0,Rn=X.length;dn<Rn;dn++){if((mo=(no=X.charCodeAt(dn))>>8)>>8)throw new Error("Character at position "+dn+" of string '"+X+"' exceeds 16bits. Cannot be encoded into UCS-2 BE");Bi.push(mo),Bi.push(no-(mo<<8))}return String.fromCharCode.apply(void 0,Bi)},Yd=D.__private__.pdfEscape=D.pdfEscape=function(X,xt){return j2(X,xt).replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},KT=D.__private__.beginPage=function(X){Rr[++pl]=[],Hs[pl]={objId:0,contentsObjId:0,userUnit:Number(g),artBox:null,bleedBox:null,cropBox:null,trimBox:null,mediaBox:{bottomLeftX:0,bottomLeftY:0,topRightX:Number(X[0]),topRightY:Number(X[1])}},II(pl),gr(Rr[bt])},AI=function(X,xt){var dn,Rn,ir;switch(t=xt||t,"string"==typeof X&&(dn=Pe(X.toLowerCase()),Array.isArray(dn)&&(Rn=dn[0],ir=dn[1])),Array.isArray(X)&&(Rn=X[0]*di,ir=X[1]*di),isNaN(Rn)&&(Rn=s[0],ir=s[1]),(Rn>14400||ir>14400)&&(dl.warn("A page in a PDF can not be wider or taller than 14400 userUnit. jsPDF limits the width/height to 14400"),Rn=Math.min(14400,Rn),ir=Math.min(14400,ir)),s=[Rn,ir],t.substr(0,1)){case"l":ir>Rn&&(s=[ir,Rn]);break;case"p":Rn>ir&&(s=[ir,Rn])}KT(s),OI(eC),on(v0),0!==nC&&on(nC+" J"),0!==rC&&on(rC+" j"),oa.publish("addPage",{pageNumber:pl})},TN=function(X){X>0&&X<=pl&&(Rr.splice(X,1),Hs.splice(X,1),pl--,bt>pl&&(bt=pl),this.setPage(bt))},II=function(X){X>0&&X<=pl&&(bt=X)},CN=D.__private__.getNumberOfPages=D.getNumberOfPages=function(){return Rr.length-1},DI=function(X,xt,dn){var Rn,ir=void 0;return dn=dn||{},xt=void 0!==xt?xt:Ta[Mi].fontStyle,Rn=(X=void 0!==X?X:Ta[Mi].fontName).toLowerCase(),void 0!==Pl[Rn]&&void 0!==Pl[Rn][xt]?ir=Pl[Rn][xt]:void 0!==Pl[X]&&void 0!==Pl[X][xt]?ir=Pl[X][xt]:!1===dn.disableWarning&&dl.warn("Unable to look up font label for font '"+X+"', '"+xt+"'. Refer to getFontList() for available fonts."),ir||dn.noFallback||null==(ir=Pl.times[xt])&&(ir=Pl.times.normal),ir},SN=D.__private__.putInfo=function(){var X=$c(),xt=function(Rn){return Rn};for(var dn in null!==w&&(xt=Fh.encryptor(X,0)),on("<<"),on("/Producer ("+Yd(xt("jsPDF "+bs.version))+")"),cs)cs.hasOwnProperty(dn)&&cs[dn]&&on("/"+dn.substr(0,1).toUpperCase()+dn.substr(1)+" ("+Yd(xt(cs[dn]))+")");on("/CreationDate ("+Yd(xt(Fn))+")"),on(">>"),on("endobj")},XT=D.__private__.putCatalog=function(X){var xt=(X=X||{}).rootDictionaryObjId||qt;switch($c(),on("<<"),on("/Type /Catalog"),on("/Pages "+xt+" 0 R"),Ci||(Ci="fullwidth"),Ci){case"fullwidth":on("/OpenAction [3 0 R /FitH null]");break;case"fullheight":on("/OpenAction [3 0 R /FitV null]");break;case"fullpage":on("/OpenAction [3 0 R /Fit]");break;case"original":on("/OpenAction [3 0 R /XYZ null null 1]");break;default:var dn=""+Ci;"%"===dn.substr(dn.length-1)&&(Ci=parseInt(Ci)/100),"number"==typeof Ci&&on("/OpenAction [3 0 R /XYZ null null "+gn(Ci)+"]")}switch(Fs||(Fs="continuous"),Fs){case"continuous":on("/PageLayout /OneColumn");break;case"single":on("/PageLayout /SinglePage");break;case"two":case"twoleft":on("/PageLayout /TwoColumnLeft");break;case"tworight":on("/PageLayout /TwoColumnRight")}ls&&on("/PageMode /"+ls),oa.publish("putCatalog"),on(">>"),on("endobj")},AN=D.__private__.putTrailer=function(){on("trailer"),on("<<"),on("/Size "+(Kt+1)),on("/Root "+Kt+" 0 R"),on("/Info "+(Kt-1)+" 0 R"),null!==w&&on("/Encrypt "+Fh.oid+" 0 R"),on("/ID [ <"+Wn+"> <"+Wn+"> ]"),on(">>")},IN=D.__private__.putHeader=function(){on("%PDF-"+ee),on("%\xba\xdf\xac\xe0")},DN=D.__private__.putXRef=function(){var X="0000000000";on("xref"),on("0 "+(Kt+1)),on("0000000000 65535 f ");for(var xt=1;xt<=Kt;xt++)on("function"==typeof In[xt]?(X+In[xt]()).slice(-10)+" 00000 n ":void 0!==In[xt]?(X+In[xt]).slice(-10)+" 00000 n ":"0000000000 00000 n ")},Wm=D.__private__.buildDocument=function(){_i(),gr(An),oa.publish("buildDocument"),IN(),pr(),CI(),TI(),null!==w&&zm(),SN(),XT();var X=Pn;return DN(),AN(),on("startxref"),on(""+X),on("%%EOF"),gr(Rr[bt]),An.join("\n")},V2=D.__private__.getBlob=function(X){return new Blob([Ti(X)],{type:"application/pdf"})},H2=D.output=D.__private__.output=m0(function(X,xt){switch("string"==typeof(xt=xt||{})?xt={filename:xt}:xt.filename=xt.filename||"generated.pdf",X){case void 0:return Wm();case"save":D.save(xt.filename);break;case"arraybuffer":return Ti(Wm());case"blob":return V2(Wm());case"bloburi":case"bloburl":if(void 0!==As.URL&&"function"==typeof As.URL.createObjectURL)return As.URL&&As.URL.createObjectURL(V2(Wm()))||void 0;dl.warn("bloburl is not supported by your system, because URL.createObjectURL is not supported by your browser.");break;case"datauristring":case"dataurlstring":var dn="",Rn=Wm();try{dn=V5(Rn)}catch(Rc){dn=V5(unescape(encodeURIComponent(Rn)))}return"data:application/pdf;filename="+xt.filename+";base64,"+dn;case"pdfobjectnewwindow":if("[object Window]"===Object.prototype.toString.call(As)){var ir="https://cdnjs.cloudflare.com/ajax/libs/pdfobject/2.1.1/pdfobject.min.js",Ur=' integrity="sha512-4ze/a9/4jqu+tX9dfOqJYSvyYd5M6qum/3HpCLr+/Jqf0whc37VUbkpNGHR7/8pSnCFw47T1fmIpwBV7UySh3g==" crossorigin="anonymous"';xt.pdfObjectUrl&&(ir=xt.pdfObjectUrl,Ur="");var li='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><script src="'+ir+'"'+Ur+'><\/script><script >PDFObject.embed("'+this.output("dataurlstring")+'", '+JSON.stringify(xt)+");<\/script></body></html>",Bi=As.open();return null!==Bi&&Bi.document.write(li),Bi}throw new Error("The option pdfobjectnewwindow just works in a browser-environment.");case"pdfjsnewwindow":if("[object Window]"===Object.prototype.toString.call(As)){var ps='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe id="pdfViewer" src="'+(xt.pdfJsUrl||"examples/PDF.js/web/viewer.html")+"?file=&downloadName="+xt.filename+'" width="500px" height="400px" /></body></html>',no=As.open();if(null!==no){no.document.write(ps);var mo=this;no.document.documentElement.querySelector("#pdfViewer").onload=function(){no.document.title=xt.filename,no.document.documentElement.querySelector("#pdfViewer").contentWindow.PDFViewerApplication.open(mo.output("bloburl"))}}return no}throw new Error("The option pdfjsnewwindow just works in a browser-environment.");case"dataurlnewwindow":if("[object Window]"!==Object.prototype.toString.call(As))throw new Error("The option dataurlnewwindow just works in a browser-environment.");var Bo='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe src="'+this.output("datauristring",xt)+'"></iframe></body></html>',bc=As.open();if(null!==bc&&(bc.document.write(Bo),bc.document.title=xt.filename),bc||"undefined"==typeof safari)return bc;break;case"datauri":case"dataurl":return As.document.location.href=this.output("datauristring",xt);default:return null}}),kI=function(X){return!0===Array.isArray(Hm)&&Hm.indexOf(X)>-1};switch(r){case"pt":di=1;break;case"mm":di=72/25.4;break;case"cm":di=72/2.54;break;case"in":di=72;break;case"px":di=1==kI("px_scaling")?.75:96/72;break;case"pc":case"em":di=12;break;case"ex":di=6;break;default:if("number"!=typeof r)throw new Error("Invalid unit: "+r);di=r}var Fh=null;Qn(),Zn();var kN=function(X){return null!==w?Fh.encryptor(X,0):function(xt){return xt}},PI=D.__private__.getPageInfo=D.getPageInfo=function(X){if(isNaN(X)||X%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfo");return{objId:Hs[X].objId,pageNumber:X,pageContext:Hs[X]}},$s=D.__private__.getPageInfoByObjId=function(X){if(isNaN(X)||X%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfoByObjId");for(var xt in Hs)if(Hs[xt].objId===X)break;return PI(xt)},PN=D.__private__.getCurrentPageInfo=D.getCurrentPageInfo=function(){return{objId:Hs[bt].objId,pageNumber:bt,pageContext:Hs[bt]}};D.addPage=function(){return AI.apply(this,arguments),this},D.setPage=function(){return II.apply(this,arguments),gr.call(this,Rr[bt]),this},D.insertPage=function(X){return this.addPage(),this.movePage(bt,X),this},D.movePage=function(X,xt){var dn,Rn;if(X>xt){dn=Rr[X],Rn=Hs[X];for(var ir=X;ir>xt;ir--)Rr[ir]=Rr[ir-1],Hs[ir]=Hs[ir-1];Rr[xt]=dn,Hs[xt]=Rn,this.setPage(xt)}else if(X<xt){dn=Rr[X],Rn=Hs[X];for(var Ur=X;Ur<xt;Ur++)Rr[Ur]=Rr[Ur+1],Hs[Ur]=Hs[Ur+1];Rr[xt]=dn,Hs[xt]=Rn,this.setPage(xt)}return this},D.deletePage=function(){return TN.apply(this,arguments),this},D.__private__.text=D.text=function(X,xt,dn,Rn,ir){var Ur,li,Bi,ps,no,mo,Bo,bc,Rc,iu=(Rn=Rn||{}).scope||this;if("number"==typeof X&&"number"==typeof xt&&("string"==typeof dn||Array.isArray(dn))){var Rh=dn;dn=xt,xt=X,X=Rh}if(arguments[3]instanceof ys?(St("The transform parameter of text() with a Matrix value"),Rc=ir):(Bi=arguments[4],ps=arguments[5],"object"===wa(Bo=arguments[3])&&null!==Bo||("string"==typeof Bi&&(ps=Bi,Bi=null),"string"==typeof Bo&&(ps=Bo,Bo=null),"number"==typeof Bo&&(Bi=Bo,Bo=null),Rn={flags:Bo,angle:Bi,align:ps})),isNaN(xt)||isNaN(dn)||null==X)throw new Error("Invalid arguments passed to jsPDF.text");if(0===X.length)return iu;var Vu="",y0=!1,Of="number"==typeof Rn.lineHeightFactor?Rn.lineHeightFactor:gx,Gm=iu.internal.scaleFactor;function jI(Nl){return Nl=Nl.split("\t").join(Array(Rn.TabLen||9).join(" ")),Yd(Nl,Bo)}function lC(Nl){for(var Ml,Kc=Nl.concat(),vu=[],Km=Kc.length;Km--;)"string"==typeof(Ml=Kc.shift())?vu.push(Ml):Array.isArray(Nl)&&(1===Ml.length||void 0===Ml[1]&&void 0===Ml[2])?vu.push(Ml[0]):vu.push([Ml[0],Ml[1],Ml[2]]);return vu}function cC(Nl,Ml){var Kc;if("string"==typeof Nl)Kc=Ml(Nl)[0];else if(Array.isArray(Nl)){for(var vu,Km,ry=Nl.concat(),nb=[],HI=ry.length;HI--;)"string"==typeof(vu=ry.shift())?nb.push(Ml(vu)[0]):Array.isArray(vu)&&"string"==typeof vu[0]&&(Km=Ml(vu[0],vu[1],vu[2]),nb.push([Km[0],Km[1],Km[2]]));Kc=nb}return Kc}var $2=!1,uC=!0;if("string"==typeof X)$2=!0;else if(Array.isArray(X)){var hC=X.concat();li=[];for(var Y2,Kd=hC.length;Kd--;)("string"!=typeof(Y2=hC.shift())||Array.isArray(Y2)&&"string"!=typeof Y2[0])&&(uC=!1);$2=uC}if(!1===$2)throw new Error('Type of text must be string or Array. "'+X+'" is not recognized.');"string"==typeof X&&(X=X.match(/[\r?\n]/)?X.split(/\r\n|\r|\n/g):[X]);var K2=gi/iu.internal.scaleFactor,X2=K2*(Of-1);switch(Rn.baseline){case"bottom":dn-=X2;break;case"top":dn+=K2-X2;break;case"hanging":dn+=K2-2*X2;break;case"middle":dn+=K2/2-X2}if((mo=Rn.maxWidth||0)>0&&("string"==typeof X?X=iu.splitTextToSize(X,mo):"[object Array]"===Object.prototype.toString.call(X)&&(X=X.reduce(function(Nl,Ml){return Nl.concat(iu.splitTextToSize(Ml,mo))},[]))),oa.publish("preProcessText",Ur={text:X,x:xt,y:dn,options:Rn,mutex:{pdfEscape:Yd,activeFontKey:Mi,fonts:Ta,activeFontSize:gi}}),X=Ur.text,Bi=(Rn=Ur.options).angle,Rc instanceof ys||!Bi||"number"!=typeof Bi)Bi&&Bi instanceof ys&&(Rc=Bi);else{Bi*=Math.PI/180,0===Rn.rotationDirection&&(Bi=-Bi),Xe===je.ADVANCED&&(Bi=-Bi);var J2=Math.cos(Bi),dC=Math.sin(Bi);Rc=new ys(J2,dC,-dC,J2,0,0)}Xe!==je.ADVANCED||Rc||(Rc=$d),void 0!==(no=Rn.charSpace||q2)&&(Vu+=At(st(no))+" Tc\n",this.setCharSpace(this.getCharSpace()||0)),void 0!==(bc=Rn.horizontalScale)&&(Vu+=At(100*bc)+" Tz\n");var Xd=-1,VN=void 0!==Rn.renderingMode?Rn.renderingMode:Rn.stroke,fC=iu.internal.getCurrentPageInfo().pageContext;switch(VN){case 0:case!1:case"fill":Xd=0;break;case 1:case!0:case"stroke":Xd=1;break;case 2:case"fillThenStroke":Xd=2;break;case 3:case"invisible":Xd=3;break;case 4:case"fillAndAddForClipping":Xd=4;break;case 5:case"strokeAndAddPathForClipping":Xd=5;break;case 6:case"fillThenStrokeAndAddToPathForClipping":Xd=6;break;case 7:case"addToPathForClipping":Xd=7}var VI=void 0!==fC.usedRenderingMode?fC.usedRenderingMode:-1;-1!==Xd?Vu+=Xd+" Tr\n":-1!==VI&&(Vu+="0 Tr\n"),-1!==Xd&&(fC.usedRenderingMode=Xd),ps=Rn.align||"left";var _0,pC=gi*Of,HN=iu.internal.pageSize.getWidth(),zN=Ta[Mi];no=Rn.charSpace||q2,mo=Rn.maxWidth||0,Bo=Object.assign({autoencode:!0,noBOM:!0},Rn.flags);var Q1=[];if("[object Array]"===Object.prototype.toString.call(X)){var Tp;li=lC(X),"left"!==ps&&(_0=li.map(function(Nl){return iu.getStringUnitWidth(Nl,{font:zN,charSpace:no,fontSize:gi,doKerning:!1})*gi/Gm}));var x0,ey=0;if("right"===ps){xt-=_0[0],X=[],Kd=li.length;for(var Mg=0;Mg<Kd;Mg++)0===Mg?(x0=qm(xt),Tp=K1(dn)):(x0=st(ey-_0[Mg]),Tp=-pC),X.push([li[Mg],x0,Tp]),ey=_0[Mg]}else if("center"===ps){xt-=_0[0]/2,X=[],Kd=li.length;for(var Zm=0;Zm<Kd;Zm++)0===Zm?(x0=qm(xt),Tp=K1(dn)):(x0=st((ey-_0[Zm])/2),Tp=-pC),X.push([li[Zm],x0,Tp]),ey=_0[Zm]}else if("left"===ps){X=[],Kd=li.length;for(var Q2=0;Q2<Kd;Q2++)X.push(li[Q2])}else{if("justify"!==ps)throw new Error('Unrecognized alignment option, use "left", "center", "right" or "justify".');X=[],Kd=li.length,mo=0!==mo?mo:HN;for(var w0=0;w0<Kd;w0++)Tp=0===w0?K1(dn):-pC,x0=0===w0?qm(xt):0,Q1.push(w0<Kd-1?At(st((mo-_0[w0])/(li[w0].split(" ").length-1))):0),X.push([li[w0],x0,Tp])}}var eb="boolean"==typeof Rn.R2L?Rn.R2L:Xi;!0===eb&&(X=cC(X,function(Nl,Ml,Kc){return[Nl.split("").reverse().join(""),Ml,Kc]})),oa.publish("postProcessText",Ur={text:X,x:xt,y:dn,options:Rn,mutex:{pdfEscape:Yd,activeFontKey:Mi,fonts:Ta,activeFontSize:gi}}),X=Ur.text,y0=Ur.mutex.isHex||!1;var gC=Ta[Mi].encoding;"WinAnsiEncoding"!==gC&&"StandardEncoding"!==gC||(X=cC(X,function(Nl,Ml,Kc){return[jI(Nl),Ml,Kc]})),li=lC(X),X=[];for(var ty,b0,$m,yx=0,tb=1,_x=Array.isArray(li[0])?tb:yx,ny="",mC=function(Nl,Ml,Kc){var vu="";return Kc instanceof ys?(Kc="number"==typeof Rn.angle?Nf(Kc,new ys(1,0,0,1,Nl,Ml)):Nf(new ys(1,0,0,1,Nl,Ml),Kc),Xe===je.ADVANCED&&(Kc=Nf(new ys(1,0,0,-1,0,0),Kc)),vu=Kc.join(" ")+" Tm\n"):vu=At(Nl)+" "+At(Ml)+" Td\n",vu},Cp=0;Cp<li.length;Cp++){switch(ny="",_x){case tb:$m=(y0?"<":"(")+li[Cp][0]+(y0?">":")"),ty=parseFloat(li[Cp][1]),b0=parseFloat(li[Cp][2]);break;case yx:$m=(y0?"<":"(")+li[Cp]+(y0?">":")"),ty=qm(xt),b0=K1(dn)}void 0!==Q1&&void 0!==Q1[Cp]&&(ny=Q1[Cp]+" Tw\n"),0===Cp?X.push(ny+mC(ty,b0,Rc)+$m):_x===yx?X.push(ny+$m):_x===tb&&X.push(ny+mC(ty,b0,Rc)+$m)}X=X.join(_x===yx?" Tj\nT* ":" Tj\n"),X+=" Tj\n";var Ym="BT\n/";return Ym+=Mi+" "+gi+" Tf\n",Ym+=At(gi*Of)+" TL\n",Ym+=mx+"\n",Ym+=Vu,Ym+=X,on(Ym+="ET"),N[Mi]=!0,iu};var NN=D.__private__.clip=D.clip=function(X){return on("evenodd"===X?"W*":"W"),this};D.clipEvenOdd=function(){return NN("evenodd")},D.__private__.discardPath=D.discardPath=function(){return on("n"),this};var Ng=D.__private__.isValidStyle=function(X){var xt=!1;return-1!==[void 0,null,"S","D","F","DF","FD","f","f*","B","B*","n"].indexOf(X)&&(xt=!0),xt};D.__private__.setDefaultPathOperation=D.setDefaultPathOperation=function(X){return Ng(X)&&(_=X),this};var NI=D.__private__.getStyle=D.getStyle=function(X){var xt=_;switch(X){case"D":case"S":xt="S";break;case"F":xt="f";break;case"FD":case"DF":xt="B";break;case"f":case"f*":case"B":case"B*":xt=X}return xt},MI=D.close=function(){return on("h"),this};D.stroke=function(){return on("S"),this},D.fill=function(X){return z2("f",X),this},D.fillEvenOdd=function(X){return z2("f*",X),this},D.fillStroke=function(X){return z2("B",X),this},D.fillStrokeEvenOdd=function(X){return z2("B*",X),this};var z2=function(X,xt){"object"===wa(xt)?ON(xt,X):on(X)},JT=function(X){null===X||Xe===je.ADVANCED&&void 0===X||(X=NI(X),on(X))};function MN(X,xt,dn,Rn,ir){var Ur=new x2(xt||this.boundingBox,dn||this.xStep,Rn||this.yStep,this.gState,ir||this.matrix);Ur.stream=this.stream;var li=X+"$$"+this.cloneIndex+++"$$";return Oh(li,Ur),Ur}var ON=function(X,xt){var dn=Dg[X.key],Rn=Go[dn];if(Rn instanceof J_)on("q"),on(FN(xt)),Rn.gState&&D.setGState(Rn.gState),on(X.matrix.toString()+" cm"),on("/"+dn+" sh"),on("Q");else if(Rn instanceof x2){var ir=new ys(1,0,0,-1,0,J1());X.matrix&&(ir=ir.multiply(X.matrix||$d),dn=MN.call(Rn,X.key,X.boundingBox,X.xStep,X.yStep,ir).id),on("q"),on("/Pattern cs"),on("/"+dn+" scn"),Rn.gState&&D.setGState(Rn.gState),on(xt),on("Q")}},FN=function(X){switch(X){case"f":case"F":case"n":return"W n";case"f*":return"W* n";case"B":case"S":return"W S";case"B*":return"W* S"}},QT=D.moveTo=function(X,xt){return on(At(st(X))+" "+At(tn(xt))+" m"),this},px=D.lineTo=function(X,xt){return on(At(st(X))+" "+At(tn(xt))+" l"),this},Y1=D.curveTo=function(X,xt,dn,Rn,ir,Ur){return on([At(st(X)),At(tn(xt)),At(st(dn)),At(tn(Rn)),At(st(ir)),At(tn(Ur)),"c"].join(" ")),this};D.__private__.line=D.line=function(X,xt,dn,Rn,ir){if(isNaN(X)||isNaN(xt)||isNaN(dn)||isNaN(Rn)||!Ng(ir))throw new Error("Invalid arguments passed to jsPDF.line");return Xe===je.COMPAT?this.lines([[dn-X,Rn-xt]],X,xt,[1,1],ir||"S"):this.lines([[dn-X,Rn-xt]],X,xt,[1,1]).stroke()},D.__private__.lines=D.lines=function(X,xt,dn,Rn,ir,Ur){var li,Bi,ps,no,mo,Rh,Vu,y0;if("number"==typeof X&&(y0=dn,dn=xt,xt=X,X=y0),Rn=Rn||[1,1],Ur=Ur||!1,isNaN(xt)||isNaN(dn)||!Array.isArray(X)||!Array.isArray(Rn)||!Ng(ir)||"boolean"!=typeof Ur)throw new Error("Invalid arguments passed to jsPDF.lines");for(QT(xt,dn),li=Rn[0],Bi=Rn[1],no=X.length,Rh=xt,Vu=dn,ps=0;ps<no;ps++)2===(mo=X[ps]).length?px(Rh=mo[0]*li+Rh,Vu=mo[1]*Bi+Vu):Y1(mo[0]*li+Rh,mo[1]*Bi+Vu,mo[2]*li+Rh,mo[3]*Bi+Vu,Rh=mo[4]*li+Rh,Vu=mo[5]*Bi+Vu);return Ur&&MI(),JT(ir),this},D.path=function(X){for(var xt=0;xt<X.length;xt++){var dn=X[xt],Rn=dn.c;switch(dn.op){case"m":QT(Rn[0],Rn[1]);break;case"l":px(Rn[0],Rn[1]);break;case"c":Y1.apply(this,Rn);break;case"h":MI()}}return this},D.__private__.rect=D.rect=function(X,xt,dn,Rn,ir){if(isNaN(X)||isNaN(xt)||isNaN(dn)||isNaN(Rn)||!Ng(ir))throw new Error("Invalid arguments passed to jsPDF.rect");return Xe===je.COMPAT&&(Rn=-Rn),on([At(st(X)),At(tn(xt)),At(st(dn)),At(st(Rn)),"re"].join(" ")),JT(ir),this},D.__private__.triangle=D.triangle=function(X,xt,dn,Rn,ir,Ur,li){if(isNaN(X)||isNaN(xt)||isNaN(dn)||isNaN(Rn)||isNaN(ir)||isNaN(Ur)||!Ng(li))throw new Error("Invalid arguments passed to jsPDF.triangle");return this.lines([[dn-X,Rn-xt],[ir-dn,Ur-Rn],[X-ir,xt-Ur]],X,xt,[1,1],li,!0),this},D.__private__.roundedRect=D.roundedRect=function(X,xt,dn,Rn,ir,Ur,li){if(isNaN(X)||isNaN(xt)||isNaN(dn)||isNaN(Rn)||isNaN(ir)||isNaN(Ur)||!Ng(li))throw new Error("Invalid arguments passed to jsPDF.roundedRect");var Bi=4/3*(Math.SQRT2-1);return ir=Math.min(ir,.5*dn),Ur=Math.min(Ur,.5*Rn),this.lines([[dn-2*ir,0],[ir*Bi,0,ir,Ur-Ur*Bi,ir,Ur],[0,Rn-2*Ur],[0,Ur*Bi,-ir*Bi,Ur,-ir,Ur],[2*ir-dn,0],[-ir*Bi,0,-ir,-Ur*Bi,-ir,-Ur],[0,2*Ur-Rn],[0,-Ur*Bi,ir*Bi,-Ur,ir,-Ur]],X+ir,xt,[1,1],li,!0),this},D.__private__.ellipse=D.ellipse=function(X,xt,dn,Rn,ir){if(isNaN(X)||isNaN(xt)||isNaN(dn)||isNaN(Rn)||!Ng(ir))throw new Error("Invalid arguments passed to jsPDF.ellipse");var Ur=4/3*(Math.SQRT2-1)*dn,li=4/3*(Math.SQRT2-1)*Rn;return QT(X+dn,xt),Y1(X+dn,xt-li,X+Ur,xt-Rn,X,xt-Rn),Y1(X-Ur,xt-Rn,X-dn,xt-li,X-dn,xt),Y1(X-dn,xt+li,X-Ur,xt+Rn,X,xt+Rn),Y1(X+Ur,xt+Rn,X+dn,xt+li,X+dn,xt),JT(ir),this},D.__private__.circle=D.circle=function(X,xt,dn,Rn){if(isNaN(X)||isNaN(xt)||isNaN(dn)||!Ng(Rn))throw new Error("Invalid arguments passed to jsPDF.circle");return this.ellipse(X,xt,dn,dn,Rn)},D.setFont=function(X,xt,dn){return dn&&(xt=bn(xt,dn)),Mi=DI(X,xt,{disableWarning:!1}),this};var RN=D.__private__.getFont=D.getFont=function(){return Ta[DI.apply(D,arguments)]};D.__private__.getFontList=D.getFontList=function(){var X,xt,dn={};for(X in Pl)if(Pl.hasOwnProperty(X))for(xt in dn[X]=[],Pl[X])Pl[X].hasOwnProperty(xt)&&dn[X].push(xt);return dn},D.addFont=function(X,xt,dn,Rn,ir){var Ur=["StandardEncoding","MacRomanEncoding","Identity-H","WinAnsiEncoding"];return arguments[3]&&-1!==Ur.indexOf(arguments[3])?ir=arguments[3]:arguments[3]&&-1==Ur.indexOf(arguments[3])&&(dn=bn(dn,Rn)),YT.call(this,X,xt,dn,ir=ir||"Identity-H")};var gx,eC=e.lineWidth||.200025,W2=D.__private__.getLineWidth=D.getLineWidth=function(){return eC},OI=D.__private__.setLineWidth=D.setLineWidth=function(X){return eC=X,on(At(st(X))+" w"),this};D.__private__.setLineDash=bs.API.setLineDash=bs.API.setLineDashPattern=function(X,xt){if(X=X||[],xt=xt||0,isNaN(xt)||!Array.isArray(X))throw new Error("Invalid arguments passed to jsPDF.setLineDash");return X=X.map(function(dn){return At(st(dn))}).join(" "),xt=At(st(xt)),on("["+X+"] "+xt+" d"),this};var FI=D.__private__.getLineHeight=D.getLineHeight=function(){return gi*gx};D.__private__.getLineHeight=D.getLineHeight=function(){return gi*gx};var RI=D.__private__.setLineHeightFactor=D.setLineHeightFactor=function(X){return"number"==typeof(X=X||1.15)&&(gx=X),this},LI=D.__private__.getLineHeightFactor=D.getLineHeightFactor=function(){return gx};RI(e.lineHeight);var qm=D.__private__.getHorizontalCoordinate=function(X){return st(X)},K1=D.__private__.getVerticalCoordinate=function(X){return Xe===je.ADVANCED?X:Hs[bt].mediaBox.topRightY-Hs[bt].mediaBox.bottomLeftY-st(X)},LN=D.__private__.getHorizontalCoordinateString=D.getHorizontalCoordinateString=function(X){return At(qm(X))},X1=D.__private__.getVerticalCoordinateString=D.getVerticalCoordinateString=function(X){return At(K1(X))},v0=e.strokeColor||"0 G";D.__private__.getStrokeColor=D.getDrawColor=function(){return an(v0)},D.__private__.setStrokeColor=D.setDrawColor=function(X,xt,dn,Rn){return v0=un({ch1:X,ch2:xt,ch3:dn,ch4:Rn,pdfColorType:"draw",precision:2}),on(v0),this};var tC=e.fillColor||"0 g";D.__private__.getFillColor=D.getFillColor=function(){return an(tC)},D.__private__.setFillColor=D.setFillColor=function(X,xt,dn,Rn){return tC=un({ch1:X,ch2:xt,ch3:dn,ch4:Rn,pdfColorType:"fill",precision:2}),on(tC),this};var mx=e.textColor||"0 g",UN=D.__private__.getTextColor=D.getTextColor=function(){return an(mx)};D.__private__.setTextColor=D.setTextColor=function(X,xt,dn,Rn){return mx=un({ch1:X,ch2:xt,ch3:dn,ch4:Rn,pdfColorType:"text",precision:3}),this};var q2=e.charSpace,BN=D.__private__.getCharSpace=D.getCharSpace=function(){return parseFloat(q2||0)};D.__private__.setCharSpace=D.setCharSpace=function(X){if(isNaN(X))throw new Error("Invalid argument passed to jsPDF.setCharSpace");return q2=X,this};var nC=0;D.CapJoinStyles={0:0,butt:0,but:0,miter:0,1:1,round:1,rounded:1,circle:1,2:2,projecting:2,project:2,square:2,bevel:2},D.__private__.setLineCap=D.setLineCap=function(X){var xt=D.CapJoinStyles[X];if(void 0===xt)throw new Error("Line cap style of '"+X+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return nC=xt,on(xt+" J"),this};var rC=0;D.__private__.setLineJoin=D.setLineJoin=function(X){var xt=D.CapJoinStyles[X];if(void 0===xt)throw new Error("Line join style of '"+X+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return rC=xt,on(xt+" j"),this},D.__private__.setLineMiterLimit=D.__private__.setMiterLimit=D.setLineMiterLimit=D.setMiterLimit=function(X){if(X=X||0,isNaN(X))throw new Error("Invalid argument passed to jsPDF.setLineMiterLimit");return on(At(st(X))+" M"),this},D.GState=IA,D.setGState=function(X){(X="string"==typeof X?Vl[Pf[X]]:UI(null,X)).equals(p0)||(on("/"+X.id+" gs"),p0=X)};var UI=function(X,xt){if(!X||!Pf[X]){var dn=!1;for(var Rn in Vl)if(Vl.hasOwnProperty(Rn)&&Vl[Rn].equals(xt)){dn=!0;break}if(dn)xt=Vl[Rn];else{var ir="GS"+(Object.keys(Vl).length+1).toString(10);Vl[ir]=xt,xt.id=ir}return X&&(Pf[X]=xt.id),oa.publish("addGState",xt),xt}};D.addGState=function(X,xt){return UI(X,xt),this},D.saveGraphicsState=function(){return on("q"),wp.push({key:Mi,size:gi,color:mx}),this},D.restoreGraphicsState=function(){on("Q");var X=wp.pop();return Mi=X.key,gi=X.size,mx=X.color,p0=null,this},D.setCurrentTransformationMatrix=function(X){return on(X.toString()+" cm"),this},D.comment=function(X){return on("#"+X),this};var G2=function(X,xt){var dn=X||0;Object.defineProperty(this,"x",{enumerable:!0,get:function(){return dn},set:function(Ur){isNaN(Ur)||(dn=parseFloat(Ur))}});var Rn=xt||0;Object.defineProperty(this,"y",{enumerable:!0,get:function(){return Rn},set:function(Ur){isNaN(Ur)||(Rn=parseFloat(Ur))}});var ir="pt";return Object.defineProperty(this,"type",{enumerable:!0,get:function(){return ir},set:function(Ur){ir=Ur.toString()}}),this},iC=function(X,xt,dn,Rn){G2.call(this,X,xt),this.type="rect";var ir=dn||0;Object.defineProperty(this,"w",{enumerable:!0,get:function(){return ir},set:function(li){isNaN(li)||(ir=parseFloat(li))}});var Ur=Rn||0;return Object.defineProperty(this,"h",{enumerable:!0,get:function(){return Ur},set:function(li){isNaN(li)||(Ur=parseFloat(li))}}),this},sC=function(){this.page=pl,this.currentPage=bt,this.pages=Rr.slice(0),this.pagesContext=Hs.slice(0),this.x=Ba,this.y=vs,this.matrix=fu,this.width=vx(bt),this.height=J1(bt),this.outputDestination=oi,this.id="",this.objectNumber=-1};sC.prototype.restore=function(){pl=this.page,Hs=this.pagesContext,Rr=this.pages,Ba=this.x,vs=this.y,fu=this.matrix,oC(bt=this.currentPage,this.width),aC(bt,this.height),oi=this.outputDestination};var BI=function(X,xt,dn,Rn,ir){Ep.push(new sC),pl=bt=0,Rr=[],Ba=X,vs=xt,fu=ir,KT([dn,Rn])},jN=function(X){if(bp[X])Ep.pop().restore();else{var xt=new sC,dn="Xo"+(Object.keys(pu).length+1).toString(10);xt.id=dn,bp[X]=dn,pu[dn]=xt,oa.publish("addFormObject",xt),Ep.pop().restore()}};for(var Z2 in D.beginFormObject=function(X,xt,dn,Rn,ir){return BI(X,xt,dn,Rn,ir),this},D.endFormObject=function(X){return jN(X),this},D.doFormObject=function(X,xt){var dn=pu[bp[X]];return on("q"),on(xt.toString()+" cm"),on("/"+dn.id+" Do"),on("Q"),this},D.getFormObject=function(X){var xt=pu[bp[X]];return{x:xt.x,y:xt.y,width:xt.width,height:xt.height,matrix:xt.matrix}},D.save=function(X,xt){return X=X||"generated.pdf",(xt=xt||{}).returnPromise=xt.returnPromise||!1,!1===xt.returnPromise?(X_(V2(Wm()),X),"function"==typeof X_.unload&&As.setTimeout&&setTimeout(X_.unload,911),this):new Promise(function(dn,Rn){try{var ir=X_(V2(Wm()),X);"function"==typeof X_.unload&&As.setTimeout&&setTimeout(X_.unload,911),dn(ir)}catch(Ur){Rn(Ur.message)}})},bs.API)bs.API.hasOwnProperty(Z2)&&("events"===Z2&&bs.API.events.length?function(X,xt){var Rn,ir;for(ir=xt.length-1;-1!==ir;ir--)X.subscribe.apply(X,[xt[ir][0]].concat("function"==typeof(Rn=xt[ir][1])?[Rn]:Rn))}(oa,bs.API.events):D[Z2]=bs.API[Z2]);var vx=D.getPageWidth=function(X){return(Hs[X=X||bt].mediaBox.topRightX-Hs[X].mediaBox.bottomLeftX)/di},oC=D.setPageWidth=function(X,xt){Hs[X].mediaBox.topRightX=xt*di+Hs[X].mediaBox.bottomLeftX},J1=D.getPageHeight=function(X){return(Hs[X=X||bt].mediaBox.topRightY-Hs[X].mediaBox.bottomLeftY)/di},aC=D.setPageHeight=function(X,xt){Hs[X].mediaBox.topRightY=xt*di+Hs[X].mediaBox.bottomLeftY};return D.internal={pdfEscape:Yd,getStyle:NI,getFont:RN,getFontSize:Ii,getCharSpace:BN,getTextColor:UN,getLineHeight:FI,getLineHeightFactor:LI,getLineWidth:W2,write:qr,getHorizontalCoordinate:qm,getVerticalCoordinate:K1,getCoordinateString:LN,getVerticalCoordinateString:X1,collections:{},newObject:$c,newAdditionalObject:cn,newObjectDeferred:Fc,newObjectDeferredBegin:Pt,getFilters:sr,putStream:Cr,events:oa,scaleFactor:di,pageSize:{getWidth:function(){return vx(bt)},setWidth:function(X){oC(bt,X)},getHeight:function(){return J1(bt)},setHeight:function(X){aC(bt,X)}},encryptionOptions:w,encryption:Fh,getEncryptor:kN,output:H2,getNumberOfPages:CN,pages:Rr,out:on,f2:gn,f3:vt,getPageInfo:PI,getPageInfoByObjId:$s,getCurrentPageInfo:PN,getPDFVersion:B,Point:G2,Rectangle:iC,Matrix:ys,hasHotfix:kI},Object.defineProperty(D.internal.pageSize,"width",{get:function(){return vx(bt)},set:function(X){oC(bt,X)},enumerable:!0,configurable:!0}),Object.defineProperty(D.internal.pageSize,"height",{get:function(){return J1(bt)},set:function(X){aC(bt,X)},enumerable:!0,configurable:!0}),EN.call(D,ei),Mi="F1",AI(s,t),oa.publish("initialized"),D}y2.prototype.lsbFirstWord=function(e){return String.fromCharCode(e>>0&255,e>>8&255,e>>16&255,e>>24&255)},y2.prototype.toHexString=function(e){return e.split("").map(function(n){return("0"+(255&n.charCodeAt(0)).toString(16)).slice(-2)}).join("")},y2.prototype.hexToBytes=function(e){for(var n=[],t=0;t<e.length;t+=2)n.push(String.fromCharCode(parseInt(e.substr(t,2),16)));return n.join("")},y2.prototype.processOwnerPassword=function(e,n){return W5(z5(n).substr(0,5),e)},y2.prototype.encryptor=function(e,n){var t=z5(this.encryptionKey+String.fromCharCode(255&e,e>>8&255,e>>16&255,255&n,n>>8&255)).substr(0,10);return function(r){return W5(t,r)}},IA.prototype.equals=function(e){var n,t="id,objectNumber,equals";if(!e||wa(e)!==wa(this))return!1;var r=0;for(n in this)if(!(t.indexOf(n)>=0)){if(this.hasOwnProperty(n)&&!e.hasOwnProperty(n)||this[n]!==e[n])return!1;r++}for(n in e)e.hasOwnProperty(n)&&t.indexOf(n)<0&&r--;return 0===r},bs.API={events:[]},bs.version="2.5.1";var Oc=bs.API,q5=1,Q_=function(e){return e.replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},w2=function(e){return e.replace(/\\\\/g,"\\").replace(/\\\(/g,"(").replace(/\\\)/g,")")},Qs=function(e){return e.toFixed(2)},L1=function(e){return e.toFixed(5)};Oc.__acroform__={};var qd=function(e,n){e.prototype=Object.create(n.prototype),e.prototype.constructor=e},KM=function(e){return e*q5},wg=function(e){var n=new JM,t=Ki.internal.getHeight(e)||0,r=Ki.internal.getWidth(e)||0;return n.BBox=[0,0,Number(Qs(r)),Number(Qs(t))],n},s4=Oc.__acroform__.setBit=function(e,n){if(e=e||0,n=n||0,isNaN(e)||isNaN(n))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBit");return e|1<<n},o4=Oc.__acroform__.clearBit=function(e,n){if(e=e||0,n=n||0,isNaN(e)||isNaN(n))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBit");return e&~(1<<n)},a4=Oc.__acroform__.getBit=function(e,n){if(isNaN(e)||isNaN(n))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBit");return 0==(e&1<<n)?0:1},qc=Oc.__acroform__.getBitForPdf=function(e,n){if(isNaN(e)||isNaN(n))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBitForPdf");return a4(e,n-1)},Gc=Oc.__acroform__.setBitForPdf=function(e,n){if(isNaN(e)||isNaN(n))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBitForPdf");return s4(e,n-1)},Zc=Oc.__acroform__.clearBitForPdf=function(e,n){if(isNaN(e)||isNaN(n))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBitForPdf");return o4(e,n-1)},l4=Oc.__acroform__.calculateCoordinates=function(e,n){var t=n.internal.getHorizontalCoordinate,r=n.internal.getVerticalCoordinate,s=e[0],o=e[1],d=e[2],g=e[3],m={};return m.lowerLeft_X=t(s)||0,m.lowerLeft_Y=r(o+g)||0,m.upperRight_X=t(s+d)||0,m.upperRight_Y=r(o)||0,[Number(Qs(m.lowerLeft_X)),Number(Qs(m.lowerLeft_Y)),Number(Qs(m.upperRight_X)),Number(Qs(m.upperRight_Y))]},c4=function(e){if(e.appearanceStreamContent)return e.appearanceStreamContent;if(e.V||e.DV){var n=[],r=G5(e,e._V||e.DV),s=e.scope.internal.getFont(e.fontName,e.fontStyle).id;n.push("/Tx BMC"),n.push("q"),n.push("BT"),n.push(e.scope.__private__.encodeColorString(e.color)),n.push("/"+s+" "+Qs(r.fontSize)+" Tf"),n.push("1 0 0 1 0 0 Tm"),n.push(r.text),n.push("ET"),n.push("Q"),n.push("EMC");var o=wg(e);return o.scope=e.scope,o.stream=n.join("\n"),o}},G5=function(e,n){var t=0===e.fontSize?e.maxFontSize:e.fontSize,r={text:"",fontSize:""},s=(n=")"==(n="("==n.substr(0,1)?n.substr(1):n).substr(n.length-1)?n.substr(0,n.length-1):n).split(" ");s=s.map(e.multiline?function(vt){return vt.split("\n")}:function(vt){return[vt]});var o=t,d=Ki.internal.getHeight(e)||0;d=d<0?-d:d;var vt,g=Ki.internal.getWidth(e)||0;g=g<0?-g:g,o++;e:for(;o>0;){n="",o--;var _,w,A=DA("3",e,o).height,N=e.multiline?d-o:(d-A)/2,D=N+=2,ee=0,B=0,he=0;if(o<=0){n="(...) Tj\n",n+="% Width of Text: "+DA(n,e,o=12).width+", FieldWidth:"+g+"\n";break}for(var Pe="",je=0,Xe=0;Xe<s.length;Xe++)if(s.hasOwnProperty(Xe)){var Vt=!1;if(1!==s[Xe].length&&he!==s[Xe].length-1){if((A+2)*(je+2)+2>d)continue e;Pe+=s[Xe][he],Vt=!0,B=Xe,Xe--}else{Pe=" "==(Pe+=s[Xe][he]+" ").substr(Pe.length-1)?Pe.substr(0,Pe.length-1):Pe;var Xt=parseInt(Xe),bn=(vt=Xt)+1<s.length&&DA(Pe+" "+s[vt+1][0],e,o).width<=g-4,At=Xe>=s.length-1;if(bn&&!At){Pe+=" ",he=0;continue}if(bn||At){if(At)B=Xt;else if(e.multiline&&(A+2)*(je+2)+2>d)continue e}else{if(!e.multiline||(A+2)*(je+2)+2>d)continue e;B=Xt}}for(var St="",Jt=ee;Jt<=B;Jt++){var gn=s[Jt];if(e.multiline){if(Jt===B){St+=gn[he]+" ",he=(he+1)%gn.length;continue}if(Jt===ee){St+=gn[gn.length-1]+" ";continue}}St+=gn[0]+" "}switch(St=" "==St.substr(St.length-1)?St.substr(0,St.length-1):St,w=DA(St,e,o).width,e.textAlign){case"right":_=g-w-2;break;case"center":_=(g-w)/2;break;default:_=2}n+=Qs(_)+" "+Qs(D)+" Td\n",n+="("+Q_(St)+") Tj\n",n+=-Qs(_)+" 0 Td\n",D=-(o+2),w=0,ee=Vt?B:B+1,je++,Pe=""}break}return r.text=n,r.fontSize=o,r},DA=function(e,n,t){var r=n.scope.internal.getFont(n.fontName,n.fontStyle),s=n.scope.getStringUnitWidth(e,{font:r,fontSize:parseFloat(t),charSpace:0})*parseFloat(t);return{height:n.scope.getStringUnitWidth("3",{font:r,fontSize:parseFloat(t),charSpace:0})*parseFloat(t)*1.5,width:s}},u4={fields:[],xForms:[],acroFormDictionaryRoot:null,printedOut:!1,internal:null,isInitialized:!1},h4=function(e,n){var t={type:"reference",object:e};void 0===n.internal.getPageInfo(e.page).pageContext.annotations.find(function(r){return r.type===t.type&&r.object===t.object})&&n.internal.getPageInfo(e.page).pageContext.annotations.push(t)},XM=Oc.__acroform__.arrayToPdfArray=function(e,n,t){var r=function(d){return d};if(Array.isArray(e)){for(var s="[",o=0;o<e.length;o++)switch(0!==o&&(s+=" "),wa(e[o])){case"boolean":case"number":case"object":s+=e[o].toString();break;case"string":"/"!==e[o].substr(0,1)?(void 0!==n&&t&&(r=t.internal.getEncryptor(n)),s+="("+Q_(r(e[o].toString()))+")"):s+=e[o].toString()}return s+"]"}throw new Error("Invalid argument passed to jsPDF.__acroform__.arrayToPdfArray")},Z5=function(e,n,t){var r=function(s){return s};return void 0!==n&&t&&(r=t.internal.getEncryptor(n)),(e=e||"").toString(),"("+Q_(r(e))+")"},bg=function(){this._objId=void 0,this._scope=void 0,Object.defineProperty(this,"objId",{get:function(){if(void 0===this._objId){if(void 0===this.scope)return;this._objId=this.scope.internal.newObjectDeferred()}return this._objId},set:function(e){this._objId=e}}),Object.defineProperty(this,"scope",{value:this._scope,writable:!0})};bg.prototype.toString=function(){return this.objId+" 0 R"},bg.prototype.putStream=function(){var e=this.getKeyValueListForStream();this.scope.internal.putStream({data:this.stream,additionalKeyValues:e,objectId:this.objId}),this.scope.internal.out("endobj")},bg.prototype.getKeyValueListForStream=function(){var e=[],n=Object.getOwnPropertyNames(this).filter(function(o){return"content"!=o&&"appearanceStreamContent"!=o&&"scope"!=o&&"objId"!=o&&"_"!=o.substring(0,1)});for(var t in n)if(!1===Object.getOwnPropertyDescriptor(this,n[t]).configurable){var r=n[t],s=this[r];s&&(Array.isArray(s)?e.push({key:r,value:XM(s,this.objId,this.scope)}):s instanceof bg?(s.scope=this.scope,e.push({key:r,value:s.objId+" 0 R"})):"function"!=typeof s&&e.push({key:r,value:s}))}return e};var JM=function(){bg.call(this),Object.defineProperty(this,"Type",{value:"/XObject",configurable:!1,writable:!0}),Object.defineProperty(this,"Subtype",{value:"/Form",configurable:!1,writable:!0}),Object.defineProperty(this,"FormType",{value:1,configurable:!1,writable:!0});var e,n=[];Object.defineProperty(this,"BBox",{configurable:!1,get:function(){return n},set:function(t){n=t}}),Object.defineProperty(this,"Resources",{value:"2 0 R",configurable:!1,writable:!0}),Object.defineProperty(this,"stream",{enumerable:!1,configurable:!0,set:function(t){e=t.trim()},get:function(){return e||null}})};qd(JM,bg);var QM=function(){bg.call(this);var e,n=[];Object.defineProperty(this,"Kids",{enumerable:!1,configurable:!0,get:function(){return n.length>0?n:void 0}}),Object.defineProperty(this,"Fields",{enumerable:!1,configurable:!1,get:function(){return n}}),Object.defineProperty(this,"DA",{enumerable:!1,configurable:!1,get:function(){if(e){var t=function(r){return r};return this.scope&&(t=this.scope.internal.getEncryptor(this.objId)),"("+Q_(t(e))+")"}},set:function(t){e=t}})};qd(QM,bg);var a0=function e(){bg.call(this);var n=4;Object.defineProperty(this,"F",{enumerable:!1,configurable:!1,get:function(){return n},set:function(Pe){if(isNaN(Pe))throw new Error('Invalid value "'+Pe+'" for attribute F supplied.');n=Pe}}),Object.defineProperty(this,"showWhenPrinted",{enumerable:!0,configurable:!0,get:function(){return Boolean(qc(n,3))},set:function(Pe){this.F=!0===Boolean(Pe)?Gc(n,3):Zc(n,3)}});var t=0;Object.defineProperty(this,"Ff",{enumerable:!1,configurable:!1,get:function(){return t},set:function(Pe){if(isNaN(Pe))throw new Error('Invalid value "'+Pe+'" for attribute Ff supplied.');t=Pe}});var r=[];Object.defineProperty(this,"Rect",{enumerable:!1,configurable:!1,get:function(){if(0!==r.length)return r},set:function(Pe){r=void 0!==Pe?Pe:[]}}),Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[0])?0:r[0]},set:function(Pe){r[0]=Pe}}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[1])?0:r[1]},set:function(Pe){r[1]=Pe}}),Object.defineProperty(this,"width",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[2])?0:r[2]},set:function(Pe){r[2]=Pe}}),Object.defineProperty(this,"height",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[3])?0:r[3]},set:function(Pe){r[3]=Pe}});var s="";Object.defineProperty(this,"FT",{enumerable:!0,configurable:!1,get:function(){return s},set:function(Pe){switch(Pe){case"/Btn":case"/Tx":case"/Ch":case"/Sig":s=Pe;break;default:throw new Error('Invalid value "'+Pe+'" for attribute FT supplied.')}}});var o=null;Object.defineProperty(this,"T",{enumerable:!0,configurable:!1,get:function(){if(!o||o.length<1){if(this instanceof NA)return;o="FieldObject"+e.FieldNum++}var Pe=function(je){return je};return this.scope&&(Pe=this.scope.internal.getEncryptor(this.objId)),"("+Q_(Pe(o))+")"},set:function(Pe){o=Pe.toString()}}),Object.defineProperty(this,"fieldName",{configurable:!0,enumerable:!0,get:function(){return o},set:function(Pe){o=Pe}});var d="helvetica";Object.defineProperty(this,"fontName",{enumerable:!0,configurable:!0,get:function(){return d},set:function(Pe){d=Pe}});var g="normal";Object.defineProperty(this,"fontStyle",{enumerable:!0,configurable:!0,get:function(){return g},set:function(Pe){g=Pe}});var m=0;Object.defineProperty(this,"fontSize",{enumerable:!0,configurable:!0,get:function(){return m},set:function(Pe){m=Pe}});var _=void 0;Object.defineProperty(this,"maxFontSize",{enumerable:!0,configurable:!0,get:function(){return void 0===_?50/q5:_},set:function(Pe){_=Pe}});var w="black";Object.defineProperty(this,"color",{enumerable:!0,configurable:!0,get:function(){return w},set:function(Pe){w=Pe}});var A="/F1 0 Tf 0 g";Object.defineProperty(this,"DA",{enumerable:!0,configurable:!1,get:function(){if(!(!A||this instanceof NA||this instanceof ex))return Z5(A,this.objId,this.scope)},set:function(Pe){Pe=Pe.toString(),A=Pe}});var N=null;Object.defineProperty(this,"DV",{enumerable:!1,configurable:!1,get:function(){if(N)return this instanceof Uu?N:Z5(N,this.objId,this.scope)},set:function(Pe){Pe=Pe.toString(),N=this instanceof Uu?Pe:"("===Pe.substr(0,1)?w2(Pe.substr(1,Pe.length-2)):w2(Pe)}}),Object.defineProperty(this,"defaultValue",{enumerable:!0,configurable:!0,get:function(){return this instanceof Uu?w2(N.substr(1,N.length-1)):N},set:function(Pe){Pe=Pe.toString(),N=this instanceof Uu?"/"+Pe:Pe}});var D=null;Object.defineProperty(this,"_V",{enumerable:!1,configurable:!1,get:function(){if(D)return D},set:function(Pe){this.V=Pe}}),Object.defineProperty(this,"V",{enumerable:!1,configurable:!1,get:function(){if(D)return this instanceof Uu?D:Z5(D,this.objId,this.scope)},set:function(Pe){Pe=Pe.toString(),D=this instanceof Uu?Pe:"("===Pe.substr(0,1)?w2(Pe.substr(1,Pe.length-2)):w2(Pe)}}),Object.defineProperty(this,"value",{enumerable:!0,configurable:!0,get:function(){return this instanceof Uu?w2(D.substr(1,D.length-1)):D},set:function(Pe){Pe=Pe.toString(),D=this instanceof Uu?"/"+Pe:Pe}}),Object.defineProperty(this,"hasAnnotation",{enumerable:!0,configurable:!0,get:function(){return this.Rect}}),Object.defineProperty(this,"Type",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Annot":null}}),Object.defineProperty(this,"Subtype",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Widget":null}});var ee,B=!1;Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return B},set:function(Pe){Pe=Boolean(Pe),B=Pe}}),Object.defineProperty(this,"page",{enumerable:!0,configurable:!0,get:function(){if(ee)return ee},set:function(Pe){ee=Pe}}),Object.defineProperty(this,"readOnly",{enumerable:!0,configurable:!0,get:function(){return Boolean(qc(this.Ff,1))},set:function(Pe){this.Ff=!0===Boolean(Pe)?Gc(this.Ff,1):Zc(this.Ff,1)}}),Object.defineProperty(this,"required",{enumerable:!0,configurable:!0,get:function(){return Boolean(qc(this.Ff,2))},set:function(Pe){this.Ff=!0===Boolean(Pe)?Gc(this.Ff,2):Zc(this.Ff,2)}}),Object.defineProperty(this,"noExport",{enumerable:!0,configurable:!0,get:function(){return Boolean(qc(this.Ff,3))},set:function(Pe){this.Ff=!0===Boolean(Pe)?Gc(this.Ff,3):Zc(this.Ff,3)}});var he=null;Object.defineProperty(this,"Q",{enumerable:!0,configurable:!1,get:function(){if(null!==he)return he},set:function(Pe){if(-1===[0,1,2].indexOf(Pe))throw new Error('Invalid value "'+Pe+'" for attribute Q supplied.');he=Pe}}),Object.defineProperty(this,"textAlign",{get:function(){var Pe;switch(he){case 0:default:Pe="left";break;case 1:Pe="center";break;case 2:Pe="right"}return Pe},configurable:!0,enumerable:!0,set:function(Pe){switch(Pe){case"right":case 2:he=2;break;case"center":case 1:he=1;break;default:he=0}}})};qd(a0,bg);var b2=function(){a0.call(this),this.FT="/Ch",this.V="()",this.fontName="zapfdingbats";var e=0;Object.defineProperty(this,"TI",{enumerable:!0,configurable:!1,get:function(){return e},set:function(t){e=t}}),Object.defineProperty(this,"topIndex",{enumerable:!0,configurable:!0,get:function(){return e},set:function(t){e=t}});var n=[];Object.defineProperty(this,"Opt",{enumerable:!0,configurable:!1,get:function(){return XM(n,this.objId,this.scope)},set:function(t){var r,s;s=[],"string"==typeof(r=t)&&(s=function(o,d,g){g||(g=1);for(var m,_=[];m=d.exec(o);)_.push(m[g]);return _}(r,/\((.*?)\)/g)),n=s}}),this.getOptions=function(){return n},this.setOptions=function(t){n=t,this.sort&&n.sort()},this.addOption=function(t){t=(t=t||"").toString(),n.push(t),this.sort&&n.sort()},this.removeOption=function(t,r){for(r=r||!1,t=(t=t||"").toString();-1!==n.indexOf(t)&&(n.splice(n.indexOf(t),1),!1!==r););},Object.defineProperty(this,"combo",{enumerable:!0,configurable:!0,get:function(){return Boolean(qc(this.Ff,18))},set:function(t){this.Ff=!0===Boolean(t)?Gc(this.Ff,18):Zc(this.Ff,18)}}),Object.defineProperty(this,"edit",{enumerable:!0,configurable:!0,get:function(){return Boolean(qc(this.Ff,19))},set:function(t){!0===this.combo&&(this.Ff=!0===Boolean(t)?Gc(this.Ff,19):Zc(this.Ff,19))}}),Object.defineProperty(this,"sort",{enumerable:!0,configurable:!0,get:function(){return Boolean(qc(this.Ff,20))},set:function(t){!0===Boolean(t)?(this.Ff=Gc(this.Ff,20),n.sort()):this.Ff=Zc(this.Ff,20)}}),Object.defineProperty(this,"multiSelect",{enumerable:!0,configurable:!0,get:function(){return Boolean(qc(this.Ff,22))},set:function(t){this.Ff=!0===Boolean(t)?Gc(this.Ff,22):Zc(this.Ff,22)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return Boolean(qc(this.Ff,23))},set:function(t){this.Ff=!0===Boolean(t)?Gc(this.Ff,23):Zc(this.Ff,23)}}),Object.defineProperty(this,"commitOnSelChange",{enumerable:!0,configurable:!0,get:function(){return Boolean(qc(this.Ff,27))},set:function(t){this.Ff=!0===Boolean(t)?Gc(this.Ff,27):Zc(this.Ff,27)}}),this.hasAppearanceStream=!1};qd(b2,a0);var E2=function(){b2.call(this),this.fontName="helvetica",this.combo=!1};qd(E2,b2);var T2=function(){E2.call(this),this.combo=!0};qd(T2,E2);var kA=function(){T2.call(this),this.edit=!0};qd(kA,T2);var Uu=function(){a0.call(this),this.FT="/Btn",Object.defineProperty(this,"noToggleToOff",{enumerable:!0,configurable:!0,get:function(){return Boolean(qc(this.Ff,15))},set:function(t){this.Ff=!0===Boolean(t)?Gc(this.Ff,15):Zc(this.Ff,15)}}),Object.defineProperty(this,"radio",{enumerable:!0,configurable:!0,get:function(){return Boolean(qc(this.Ff,16))},set:function(t){this.Ff=!0===Boolean(t)?Gc(this.Ff,16):Zc(this.Ff,16)}}),Object.defineProperty(this,"pushButton",{enumerable:!0,configurable:!0,get:function(){return Boolean(qc(this.Ff,17))},set:function(t){this.Ff=!0===Boolean(t)?Gc(this.Ff,17):Zc(this.Ff,17)}}),Object.defineProperty(this,"radioIsUnison",{enumerable:!0,configurable:!0,get:function(){return Boolean(qc(this.Ff,26))},set:function(t){this.Ff=!0===Boolean(t)?Gc(this.Ff,26):Zc(this.Ff,26)}});var e,n={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var t=function(o){return o};if(this.scope&&(t=this.scope.internal.getEncryptor(this.objId)),0!==Object.keys(n).length){var r,s=[];for(r in s.push("<<"),n)s.push("/"+r+" ("+Q_(t(n[r]))+")");return s.push(">>"),s.join("\n")}},set:function(t){"object"===wa(t)&&(n=t)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return n.CA||""},set:function(t){"string"==typeof t&&(n.CA=t)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return e},set:function(t){e=t}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return e.substr(1,e.length-1)},set:function(t){e="/"+t}})};qd(Uu,a0);var PA=function(){Uu.call(this),this.pushButton=!0};qd(PA,Uu);var C2=function(){Uu.call(this),this.radio=!0,this.pushButton=!1;var e=[];Object.defineProperty(this,"Kids",{enumerable:!0,configurable:!1,get:function(){return e},set:function(n){e=void 0!==n?n:[]}})};qd(C2,Uu);var NA=function(){var e,n;a0.call(this),Object.defineProperty(this,"Parent",{enumerable:!1,configurable:!1,get:function(){return e},set:function(s){e=s}}),Object.defineProperty(this,"optionName",{enumerable:!1,configurable:!0,get:function(){return n},set:function(s){n=s}});var t,r={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var s=function(g){return g};this.scope&&(s=this.scope.internal.getEncryptor(this.objId));var o,d=[];for(o in d.push("<<"),r)d.push("/"+o+" ("+Q_(s(r[o]))+")");return d.push(">>"),d.join("\n")},set:function(s){"object"===wa(s)&&(r=s)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return r.CA||""},set:function(s){"string"==typeof s&&(r.CA=s)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return t},set:function(s){t=s}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return t.substr(1,t.length-1)},set:function(s){t="/"+s}}),this.caption="l",this.appearanceState="Off",this._AppearanceType=Ki.RadioButton.Circle,this.appearanceStreamContent=this._AppearanceType.createAppearanceStream(this.optionName)};qd(NA,a0),C2.prototype.setAppearance=function(e){if(!("createAppearanceStream"in e)||!("getCA"in e))throw new Error("Couldn't assign Appearance to RadioButton. Appearance was Invalid!");for(var n in this.Kids)if(this.Kids.hasOwnProperty(n)){var t=this.Kids[n];t.appearanceStreamContent=e.createAppearanceStream(t.optionName),t.caption=e.getCA()}},C2.prototype.createOption=function(e){var n=new NA;return n.Parent=this,n.optionName=e,this.Kids.push(n),p4.call(this.scope,n),n};var MA=function(){Uu.call(this),this.fontName="zapfdingbats",this.caption="3",this.appearanceState="On",this.value="On",this.textAlign="center",this.appearanceStreamContent=Ki.CheckBox.createAppearanceStream()};qd(MA,Uu);var ex=function(){a0.call(this),this.FT="/Tx",Object.defineProperty(this,"multiline",{enumerable:!0,configurable:!0,get:function(){return Boolean(qc(this.Ff,13))},set:function(n){this.Ff=!0===Boolean(n)?Gc(this.Ff,13):Zc(this.Ff,13)}}),Object.defineProperty(this,"fileSelect",{enumerable:!0,configurable:!0,get:function(){return Boolean(qc(this.Ff,21))},set:function(n){this.Ff=!0===Boolean(n)?Gc(this.Ff,21):Zc(this.Ff,21)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return Boolean(qc(this.Ff,23))},set:function(n){this.Ff=!0===Boolean(n)?Gc(this.Ff,23):Zc(this.Ff,23)}}),Object.defineProperty(this,"doNotScroll",{enumerable:!0,configurable:!0,get:function(){return Boolean(qc(this.Ff,24))},set:function(n){this.Ff=!0===Boolean(n)?Gc(this.Ff,24):Zc(this.Ff,24)}}),Object.defineProperty(this,"comb",{enumerable:!0,configurable:!0,get:function(){return Boolean(qc(this.Ff,25))},set:function(n){this.Ff=!0===Boolean(n)?Gc(this.Ff,25):Zc(this.Ff,25)}}),Object.defineProperty(this,"richText",{enumerable:!0,configurable:!0,get:function(){return Boolean(qc(this.Ff,26))},set:function(n){this.Ff=!0===Boolean(n)?Gc(this.Ff,26):Zc(this.Ff,26)}});var e=null;Object.defineProperty(this,"MaxLen",{enumerable:!0,configurable:!1,get:function(){return e},set:function(n){e=n}}),Object.defineProperty(this,"maxLength",{enumerable:!0,configurable:!0,get:function(){return e},set:function(n){Number.isInteger(n)&&(e=n)}}),Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return this.V||this.DV}})};qd(ex,a0);var OA=function(){ex.call(this),Object.defineProperty(this,"password",{enumerable:!0,configurable:!0,get:function(){return Boolean(qc(this.Ff,14))},set:function(e){this.Ff=!0===Boolean(e)?Gc(this.Ff,14):Zc(this.Ff,14)}}),this.password=!0};qd(OA,ex);var Ki={CheckBox:{createAppearanceStream:function(){return{N:{On:Ki.CheckBox.YesNormal},D:{On:Ki.CheckBox.YesPushDown,Off:Ki.CheckBox.OffPushDown}}},YesPushDown:function(e){var n=wg(e);n.scope=e.scope;var t=[],r=e.scope.internal.getFont(e.fontName,e.fontStyle).id,s=e.scope.__private__.encodeColorString(e.color),o=G5(e,e.caption);return t.push("0.749023 g"),t.push("0 0 "+Qs(Ki.internal.getWidth(e))+" "+Qs(Ki.internal.getHeight(e))+" re"),t.push("f"),t.push("BMC"),t.push("q"),t.push("0 0 1 rg"),t.push("/"+r+" "+Qs(o.fontSize)+" Tf "+s),t.push("BT"),t.push(o.text),t.push("ET"),t.push("Q"),t.push("EMC"),n.stream=t.join("\n"),n},YesNormal:function(e){var n=wg(e);n.scope=e.scope;var t=e.scope.internal.getFont(e.fontName,e.fontStyle).id,r=e.scope.__private__.encodeColorString(e.color),s=[],o=Ki.internal.getHeight(e),d=Ki.internal.getWidth(e),g=G5(e,e.caption);return s.push("1 g"),s.push("0 0 "+Qs(d)+" "+Qs(o)+" re"),s.push("f"),s.push("q"),s.push("0 0 1 rg"),s.push("0 0 "+Qs(d-1)+" "+Qs(o-1)+" re"),s.push("W"),s.push("n"),s.push("0 g"),s.push("BT"),s.push("/"+t+" "+Qs(g.fontSize)+" Tf "+r),s.push(g.text),s.push("ET"),s.push("Q"),n.stream=s.join("\n"),n},OffPushDown:function(e){var n=wg(e);n.scope=e.scope;var t=[];return t.push("0.749023 g"),t.push("0 0 "+Qs(Ki.internal.getWidth(e))+" "+Qs(Ki.internal.getHeight(e))+" re"),t.push("f"),n.stream=t.join("\n"),n}},RadioButton:{Circle:{createAppearanceStream:function(e){var n={D:{Off:Ki.RadioButton.Circle.OffPushDown},N:{}};return n.N[e]=Ki.RadioButton.Circle.YesNormal,n.D[e]=Ki.RadioButton.Circle.YesPushDown,n},getCA:function(){return"l"},YesNormal:function(e){var n=wg(e);n.scope=e.scope;var t=[],r=Ki.internal.getWidth(e)<=Ki.internal.getHeight(e)?Ki.internal.getWidth(e)/4:Ki.internal.getHeight(e)/4;r=Number((.9*r).toFixed(5));var o=Number((r*Ki.internal.Bezier_C).toFixed(5));return t.push("q"),t.push("1 0 0 1 "+L1(Ki.internal.getWidth(e)/2)+" "+L1(Ki.internal.getHeight(e)/2)+" cm"),t.push(r+" 0 m"),t.push(r+" "+o+" "+o+" "+r+" 0 "+r+" c"),t.push("-"+o+" "+r+" -"+r+" "+o+" -"+r+" 0 c"),t.push("-"+r+" -"+o+" -"+o+" -"+r+" 0 -"+r+" c"),t.push(o+" -"+r+" "+r+" -"+o+" "+r+" 0 c"),t.push("f"),t.push("Q"),n.stream=t.join("\n"),n},YesPushDown:function(e){var n=wg(e);n.scope=e.scope;var t=[],r=Ki.internal.getWidth(e)<=Ki.internal.getHeight(e)?Ki.internal.getWidth(e)/4:Ki.internal.getHeight(e)/4;r=Number((.9*r).toFixed(5));var s=Number((2*r).toFixed(5)),o=Number((s*Ki.internal.Bezier_C).toFixed(5)),d=Number((r*Ki.internal.Bezier_C).toFixed(5));return t.push("0.749023 g"),t.push("q"),t.push("1 0 0 1 "+L1(Ki.internal.getWidth(e)/2)+" "+L1(Ki.internal.getHeight(e)/2)+" cm"),t.push(s+" 0 m"),t.push(s+" "+o+" "+o+" "+s+" 0 "+s+" c"),t.push("-"+o+" "+s+" -"+s+" "+o+" -"+s+" 0 c"),t.push("-"+s+" -"+o+" -"+o+" -"+s+" 0 -"+s+" c"),t.push(o+" -"+s+" "+s+" -"+o+" "+s+" 0 c"),t.push("f"),t.push("Q"),t.push("0 g"),t.push("q"),t.push("1 0 0 1 "+L1(Ki.internal.getWidth(e)/2)+" "+L1(Ki.internal.getHeight(e)/2)+" cm"),t.push(r+" 0 m"),t.push(r+" "+d+" "+d+" "+r+" 0 "+r+" c"),t.push("-"+d+" "+r+" -"+r+" "+d+" -"+r+" 0 c"),t.push("-"+r+" -"+d+" -"+d+" -"+r+" 0 -"+r+" c"),t.push(d+" -"+r+" "+r+" -"+d+" "+r+" 0 c"),t.push("f"),t.push("Q"),n.stream=t.join("\n"),n},OffPushDown:function(e){var n=wg(e);n.scope=e.scope;var t=[],r=Ki.internal.getWidth(e)<=Ki.internal.getHeight(e)?Ki.internal.getWidth(e)/4:Ki.internal.getHeight(e)/4;r=Number((.9*r).toFixed(5));var s=Number((2*r).toFixed(5)),o=Number((s*Ki.internal.Bezier_C).toFixed(5));return t.push("0.749023 g"),t.push("q"),t.push("1 0 0 1 "+L1(Ki.internal.getWidth(e)/2)+" "+L1(Ki.internal.getHeight(e)/2)+" cm"),t.push(s+" 0 m"),t.push(s+" "+o+" "+o+" "+s+" 0 "+s+" c"),t.push("-"+o+" "+s+" -"+s+" "+o+" -"+s+" 0 c"),t.push("-"+s+" -"+o+" -"+o+" -"+s+" 0 -"+s+" c"),t.push(o+" -"+s+" "+s+" -"+o+" "+s+" 0 c"),t.push("f"),t.push("Q"),n.stream=t.join("\n"),n}},Cross:{createAppearanceStream:function(e){var n={D:{Off:Ki.RadioButton.Cross.OffPushDown},N:{}};return n.N[e]=Ki.RadioButton.Cross.YesNormal,n.D[e]=Ki.RadioButton.Cross.YesPushDown,n},getCA:function(){return"8"},YesNormal:function(e){var n=wg(e);n.scope=e.scope;var t=[],r=Ki.internal.calculateCross(e);return t.push("q"),t.push("1 1 "+Qs(Ki.internal.getWidth(e)-2)+" "+Qs(Ki.internal.getHeight(e)-2)+" re"),t.push("W"),t.push("n"),t.push(Qs(r.x1.x)+" "+Qs(r.x1.y)+" m"),t.push(Qs(r.x2.x)+" "+Qs(r.x2.y)+" l"),t.push(Qs(r.x4.x)+" "+Qs(r.x4.y)+" m"),t.push(Qs(r.x3.x)+" "+Qs(r.x3.y)+" l"),t.push("s"),t.push("Q"),n.stream=t.join("\n"),n},YesPushDown:function(e){var n=wg(e);n.scope=e.scope;var t=Ki.internal.calculateCross(e),r=[];return r.push("0.749023 g"),r.push("0 0 "+Qs(Ki.internal.getWidth(e))+" "+Qs(Ki.internal.getHeight(e))+" re"),r.push("f"),r.push("q"),r.push("1 1 "+Qs(Ki.internal.getWidth(e)-2)+" "+Qs(Ki.internal.getHeight(e)-2)+" re"),r.push("W"),r.push("n"),r.push(Qs(t.x1.x)+" "+Qs(t.x1.y)+" m"),r.push(Qs(t.x2.x)+" "+Qs(t.x2.y)+" l"),r.push(Qs(t.x4.x)+" "+Qs(t.x4.y)+" m"),r.push(Qs(t.x3.x)+" "+Qs(t.x3.y)+" l"),r.push("s"),r.push("Q"),n.stream=r.join("\n"),n},OffPushDown:function(e){var n=wg(e);n.scope=e.scope;var t=[];return t.push("0.749023 g"),t.push("0 0 "+Qs(Ki.internal.getWidth(e))+" "+Qs(Ki.internal.getHeight(e))+" re"),t.push("f"),n.stream=t.join("\n"),n}}},createDefaultAppearanceStream:function(e){var n=e.scope.internal.getFont(e.fontName,e.fontStyle).id,t=e.scope.__private__.encodeColorString(e.color);return"/"+n+" "+e.fontSize+" Tf "+t}};Ki.internal={Bezier_C:.551915024494,calculateCross:function(e){var n=Ki.internal.getWidth(e),t=Ki.internal.getHeight(e),r=Math.min(n,t);return{x1:{x:(n-r)/2,y:(t-r)/2+r},x2:{x:(n-r)/2+r,y:(t-r)/2},x3:{x:(n-r)/2,y:(t-r)/2},x4:{x:(n-r)/2+r,y:(t-r)/2+r}}}},Ki.internal.getWidth=function(e){var n=0;return"object"===wa(e)&&(n=KM(e.Rect[2])),n},Ki.internal.getHeight=function(e){var n=0;return"object"===wa(e)&&(n=KM(e.Rect[3])),n};var e,n,p4=Oc.addField=function(e){if(function(e,n){if(n.scope=e,void 0!==e.internal&&(void 0===e.internal.acroformPlugin||!1===e.internal.acroformPlugin.isInitialized)){if(a0.FieldNum=0,e.internal.acroformPlugin=JSON.parse(JSON.stringify(u4)),e.internal.acroformPlugin.acroFormDictionaryRoot)throw new Error("Exception while creating AcroformDictionary");q5=e.internal.scaleFactor,e.internal.acroformPlugin.acroFormDictionaryRoot=new QM,e.internal.acroformPlugin.acroFormDictionaryRoot.scope=e,e.internal.acroformPlugin.acroFormDictionaryRoot._eventID=e.internal.events.subscribe("postPutResources",function(){var t;(t=e).internal.events.unsubscribe(t.internal.acroformPlugin.acroFormDictionaryRoot._eventID),delete t.internal.acroformPlugin.acroFormDictionaryRoot._eventID,t.internal.acroformPlugin.printedOut=!0}),e.internal.events.subscribe("buildDocument",function(){!function(t){t.internal.acroformPlugin.acroFormDictionaryRoot.objId=void 0;var r=t.internal.acroformPlugin.acroFormDictionaryRoot.Fields;for(var s in r)if(r.hasOwnProperty(s)){var o=r[s];o.objId=void 0,o.hasAnnotation&&h4(o,t)}}(e)}),e.internal.events.subscribe("putCatalog",function(){!function(t){if(void 0===t.internal.acroformPlugin.acroFormDictionaryRoot)throw new Error("putCatalogCallback: Root missing.");t.internal.write("/AcroForm "+t.internal.acroformPlugin.acroFormDictionaryRoot.objId+" 0 R")}(e)}),e.internal.events.subscribe("postPutPages",function(t){!function(r,s){var o=!r;for(var d in r||(s.internal.newObjectDeferredBegin(s.internal.acroformPlugin.acroFormDictionaryRoot.objId,!0),s.internal.acroformPlugin.acroFormDictionaryRoot.putStream()),r=r||s.internal.acroformPlugin.acroFormDictionaryRoot.Kids)if(r.hasOwnProperty(d)){var g=r[d],m=[],_=g.Rect;if(g.Rect&&(g.Rect=l4(g.Rect,s)),s.internal.newObjectDeferredBegin(g.objId,!0),g.DA=Ki.createDefaultAppearanceStream(g),"object"===wa(g)&&"function"==typeof g.getKeyValueListForStream&&(m=g.getKeyValueListForStream()),g.Rect=_,g.hasAppearanceStream&&!g.appearanceStreamContent){var w=c4(g);m.push({key:"AP",value:"<</N "+w+">>"}),s.internal.acroformPlugin.xForms.push(w)}if(g.appearanceStreamContent){var A="";for(var N in g.appearanceStreamContent)if(g.appearanceStreamContent.hasOwnProperty(N)){var D=g.appearanceStreamContent[N];if(A+="/"+N+" ",A+="<<",Object.keys(D).length>=1||Array.isArray(D)){for(var d in D)if(D.hasOwnProperty(d)){var ee=D[d];"function"==typeof ee&&(ee=ee.call(s,g)),A+="/"+d+" "+ee+" ",s.internal.acroformPlugin.xForms.indexOf(ee)>=0||s.internal.acroformPlugin.xForms.push(ee)}}else"function"==typeof(ee=D)&&(ee=ee.call(s,g)),A+="/"+d+" "+ee,s.internal.acroformPlugin.xForms.indexOf(ee)>=0||s.internal.acroformPlugin.xForms.push(ee);A+=">>"}m.push({key:"AP",value:"<<\n"+A+">>"})}s.internal.putStream({additionalKeyValues:m,objectId:g.objId}),s.internal.out("endobj")}o&&function(e,n){for(var t in e)if(e.hasOwnProperty(t)){var r=t,s=e[t];n.internal.newObjectDeferredBegin(s.objId,!0),"object"===wa(s)&&"function"==typeof s.putStream&&s.putStream(),delete e[r]}}(s.internal.acroformPlugin.xForms,s)}(t,e)}),e.internal.acroformPlugin.isInitialized=!0}}(this,e),!(e instanceof a0))throw new Error("Invalid argument passed to jsPDF.addField.");var n;return(n=e).scope.internal.acroformPlugin.printedOut&&(n.scope.internal.acroformPlugin.printedOut=!1,n.scope.internal.acroformPlugin.acroFormDictionaryRoot=null),n.scope.internal.acroformPlugin.acroFormDictionaryRoot.Fields.push(n),e.page=e.scope.internal.getCurrentPageInfo().pageNumber,this};function eO(e){return e.reduce(function(n,t,r){return n[t]=r,n},{})}Oc.AcroFormChoiceField=b2,Oc.AcroFormListBox=E2,Oc.AcroFormComboBox=T2,Oc.AcroFormEditBox=kA,Oc.AcroFormButton=Uu,Oc.AcroFormPushButton=PA,Oc.AcroFormRadioButton=C2,Oc.AcroFormCheckBox=MA,Oc.AcroFormTextField=ex,Oc.AcroFormPasswordField=OA,Oc.AcroFormAppearance=Ki,Oc.AcroForm={ChoiceField:b2,ListBox:E2,ComboBox:T2,EditBox:kA,Button:Uu,PushButton:PA,RadioButton:C2,CheckBox:MA,TextField:ex,PasswordField:OA,Appearance:Ki},bs.AcroForm={ChoiceField:b2,ListBox:E2,ComboBox:T2,EditBox:kA,Button:Uu,PushButton:PA,RadioButton:C2,CheckBox:MA,TextField:ex,PasswordField:OA,Appearance:Ki},function(e){e.__addimage__={};var n="UNKNOWN",t={PNG:[[137,80,78,71]],TIFF:[[77,77,0,42],[73,73,42,0]],JPEG:[[255,216,255,224,void 0,void 0,74,70,73,70,0],[255,216,255,225,void 0,void 0,69,120,105,102,0,0],[255,216,255,219],[255,216,255,238]],JPEG2000:[[0,0,0,12,106,80,32,32]],GIF87a:[[71,73,70,56,55,97]],GIF89a:[[71,73,70,56,57,97]],WEBP:[[82,73,70,70,void 0,void 0,void 0,void 0,87,69,66,80]],BMP:[[66,77],[66,65],[67,73],[67,80],[73,67],[80,84]]},r=e.__addimage__.getImageFileTypeByImageData=function(vt,st){var rn,tn,Fn,Wn,Kn,Zn=n;if("RGBA"===(st=st||n)||void 0!==vt.data&&vt.data instanceof Uint8ClampedArray&&"height"in vt&&"width"in vt)return"RGBA";if(bn(vt))for(Kn in t)for(Fn=t[Kn],rn=0;rn<Fn.length;rn+=1){for(Wn=!0,tn=0;tn<Fn[rn].length;tn+=1)if(void 0!==Fn[rn][tn]&&Fn[rn][tn]!==vt[tn]){Wn=!1;break}if(!0===Wn){Zn=Kn;break}}else for(Kn in t)for(Fn=t[Kn],rn=0;rn<Fn.length;rn+=1){for(Wn=!0,tn=0;tn<Fn[rn].length;tn+=1)if(void 0!==Fn[rn][tn]&&Fn[rn][tn]!==vt.charCodeAt(tn)){Wn=!1;break}if(!0===Wn){Zn=Kn;break}}return Zn===n&&st!==n&&(Zn=st),Zn},s=function vt(st){for(var rn=this.internal.write,tn=this.internal.putStream,Fn=(0,this.internal.getFilters)();-1!==Fn.indexOf("FlateEncode");)Fn.splice(Fn.indexOf("FlateEncode"),1);st.objectId=this.internal.newObject();var Wn=[];if(Wn.push({key:"Type",value:"/XObject"}),Wn.push({key:"Subtype",value:"/Image"}),Wn.push({key:"Width",value:st.width}),Wn.push({key:"Height",value:st.height}),st.colorSpace===he.INDEXED?Wn.push({key:"ColorSpace",value:"[/Indexed /DeviceRGB "+(st.palette.length/3-1)+" "+("sMask"in st&&void 0!==st.sMask?st.objectId+2:st.objectId+1)+" 0 R]"}):(Wn.push({key:"ColorSpace",value:"/"+st.colorSpace}),st.colorSpace===he.DEVICE_CMYK&&Wn.push({key:"Decode",value:"[1 0 1 0 1 0 1 0]"})),Wn.push({key:"BitsPerComponent",value:st.bitsPerComponent}),"decodeParameters"in st&&void 0!==st.decodeParameters&&Wn.push({key:"DecodeParms",value:"<<"+st.decodeParameters+">>"}),"transparency"in st&&Array.isArray(st.transparency)){for(var Kn="",Zn=0,zn=st.transparency.length;Zn<zn;Zn++)Kn+=st.transparency[Zn]+" "+st.transparency[Zn]+" ";Wn.push({key:"Mask",value:"["+Kn+"]"})}if(void 0!==st.sMask&&Wn.push({key:"SMask",value:st.objectId+1+" 0 R"}),tn({data:st.data,additionalKeyValues:Wn,alreadyAppliedFilters:void 0!==st.filter?["/"+st.filter]:void 0,objectId:st.objectId}),rn("endobj"),"sMask"in st&&void 0!==st.sMask){var Ie={width:st.width,height:st.height,colorSpace:"DeviceGray",bitsPerComponent:st.bitsPerComponent,decodeParameters:"/Predictor "+st.predictor+" /Colors 1 /BitsPerComponent "+st.bitsPerComponent+" /Columns "+st.width,data:st.sMask};"filter"in st&&(Ie.filter=st.filter),vt.call(this,Ie)}if(st.colorSpace===he.INDEXED){var bt=this.internal.newObject();tn({data:St(new Uint8Array(st.palette)),objectId:bt}),rn("endobj")}},o=function(){var vt=this.internal.collections.addImage_images;for(var st in vt)s.call(this,vt[st])},d=function(){var vt,st=this.internal.collections.addImage_images,rn=this.internal.write;for(var tn in st)rn("/I"+(vt=st[tn]).index,vt.objectId,"0","R")},g=function(){this.internal.collections.addImage_images||(this.internal.collections.addImage_images={},this.internal.events.subscribe("putResources",o),this.internal.events.subscribe("putXobjectDict",d))},m=function(){var vt=this.internal.collections.addImage_images;return g.call(this),vt},_=function(){return Object.keys(this.internal.collections.addImage_images).length},w=function(vt){return"function"==typeof e["process"+vt.toUpperCase()]},A=function(vt){return"object"===wa(vt)&&1===vt.nodeType},N=function(vt,st){if("IMG"===vt.nodeName&&vt.hasAttribute("src")){var rn=""+vt.getAttribute("src");if(0===rn.indexOf("data:image/"))return pT(unescape(rn).split("base64,").pop());var tn=e.loadFile(rn,!0);if(void 0!==tn)return tn}if("CANVAS"===vt.nodeName){if(0===vt.width||0===vt.height)throw new Error("Given canvas must have data. Canvas width: "+vt.width+", height: "+vt.height);var Fn;switch(st){case"PNG":Fn="image/png";break;case"WEBP":Fn="image/webp";break;default:Fn="image/jpeg"}return pT(vt.toDataURL(Fn,1).split("base64,").pop())}},D=function(vt){var st=this.internal.collections.addImage_images;if(st)for(var rn in st)if(vt===st[rn].alias)return st[rn]},ee=function(vt,st,rn){return vt||st||(vt=-96,st=-96),vt<0&&(vt=-1*rn.width*72/vt/this.internal.scaleFactor),st<0&&(st=-1*rn.height*72/st/this.internal.scaleFactor),0===vt&&(vt=st*rn.width/rn.height),0===st&&(st=vt*rn.height/rn.width),[vt,st]},B=function(vt,st,rn,tn,Fn,Wn){var Kn=ee.call(this,rn,tn,Fn),Zn=this.internal.getCoordinateString,zn=this.internal.getVerticalCoordinateString,nr=m.call(this);if(rn=Kn[0],tn=Kn[1],nr[Fn.index]=Fn,Wn){Wn*=Math.PI/180;var Qn=Math.cos(Wn),Ie=Math.sin(Wn),bt=function(_t){return _t.toFixed(4)},ut=[bt(Qn),bt(Ie),bt(-1*Ie),bt(Qn),0,0,"cm"]}this.internal.write("q"),Wn?(this.internal.write([1,"0","0",1,Zn(vt),zn(st+tn),"cm"].join(" ")),this.internal.write(ut.join(" ")),this.internal.write([Zn(rn),"0","0",Zn(tn),"0","0","cm"].join(" "))):this.internal.write([Zn(rn),"0","0",Zn(tn),Zn(vt),zn(st+tn),"cm"].join(" ")),this.isAdvancedAPI()&&this.internal.write([1,0,0,-1,0,0,"cm"].join(" ")),this.internal.write("/I"+Fn.index+" Do"),this.internal.write("Q")},he=e.color_spaces={DEVICE_RGB:"DeviceRGB",DEVICE_GRAY:"DeviceGray",DEVICE_CMYK:"DeviceCMYK",CAL_GREY:"CalGray",CAL_RGB:"CalRGB",LAB:"Lab",ICC_BASED:"ICCBased",INDEXED:"Indexed",PATTERN:"Pattern",SEPARATION:"Separation",DEVICE_N:"DeviceN"};e.decode={DCT_DECODE:"DCTDecode",FLATE_DECODE:"FlateDecode",LZW_DECODE:"LZWDecode",JPX_DECODE:"JPXDecode",JBIG2_DECODE:"JBIG2Decode",ASCII85_DECODE:"ASCII85Decode",ASCII_HEX_DECODE:"ASCIIHexDecode",RUN_LENGTH_DECODE:"RunLengthDecode",CCITT_FAX_DECODE:"CCITTFaxDecode"};var Pe=e.image_compression={NONE:"NONE",FAST:"FAST",MEDIUM:"MEDIUM",SLOW:"SLOW"},je=e.__addimage__.sHashCode=function(vt){var st,rn,tn=0;if("string"==typeof vt)for(rn=vt.length,st=0;st<rn;st++)tn=(tn<<5)-tn+vt.charCodeAt(st),tn|=0;else if(bn(vt))for(rn=vt.byteLength/2,st=0;st<rn;st++)tn=(tn<<5)-tn+vt[st],tn|=0;return tn},Xe=e.__addimage__.validateStringAsBase64=function(vt){(vt=vt||"").toString().trim();var st=!0;return 0===vt.length&&(st=!1),vt.length%4!=0&&(st=!1),!1===/^[A-Za-z0-9+/]+$/.test(vt.substr(0,vt.length-2))&&(st=!1),!1===/^[A-Za-z0-9/][A-Za-z0-9+/]|[A-Za-z0-9+/]=|==$/.test(vt.substr(-2))&&(st=!1),st},Vt=e.__addimage__.extractImageFromDataUrl=function(vt){var st=(vt=vt||"").split("base64,"),rn=null;if(2===st.length){var tn=/^data:(\w*\/\w*);*(charset=(?!charset=)[\w=-]*)*;*$/.exec(st[0]);Array.isArray(tn)&&(rn={mimeType:tn[1],charset:tn[2],data:st[1]})}return rn},Xt=e.__addimage__.supportsArrayBuffer=function(){return"undefined"!=typeof ArrayBuffer&&"undefined"!=typeof Uint8Array};e.__addimage__.isArrayBuffer=function(vt){return Xt()&&vt instanceof ArrayBuffer};var bn=e.__addimage__.isArrayBufferView=function(vt){return Xt()&&"undefined"!=typeof Uint32Array&&(vt instanceof Int8Array||vt instanceof Uint8Array||"undefined"!=typeof Uint8ClampedArray&&vt instanceof Uint8ClampedArray||vt instanceof Int16Array||vt instanceof Uint16Array||vt instanceof Int32Array||vt instanceof Uint32Array||vt instanceof Float32Array||vt instanceof Float64Array)},At=e.__addimage__.binaryStringToUint8Array=function(vt){for(var st=vt.length,rn=new Uint8Array(st),tn=0;tn<st;tn++)rn[tn]=vt.charCodeAt(tn);return rn},St=e.__addimage__.arrayBufferToBinaryString=function(vt){for(var st="",rn=bn(vt)?vt:new Uint8Array(vt),tn=0;tn<rn.length;tn+=8192)st+=String.fromCharCode.apply(null,rn.subarray(tn,tn+8192));return st};e.addImage=function(){var vt,st,rn,tn,Fn,Wn,Kn,Zn,zn;if("number"==typeof arguments[1]?(st=n,rn=arguments[1],tn=arguments[2],Fn=arguments[3],Wn=arguments[4],Kn=arguments[5],Zn=arguments[6],zn=arguments[7]):(st=arguments[1],rn=arguments[2],tn=arguments[3],Fn=arguments[4],Wn=arguments[5],Kn=arguments[6],Zn=arguments[7],zn=arguments[8]),"object"===wa(vt=arguments[0])&&!A(vt)&&"imageData"in vt){var nr=vt;vt=nr.imageData,st=nr.format||st||n,rn=nr.x||rn||0,tn=nr.y||tn||0,Fn=nr.w||nr.width||Fn,Wn=nr.h||nr.height||Wn,Kn=nr.alias||Kn,Zn=nr.compression||Zn,zn=nr.rotation||nr.angle||zn}var Qn=this.internal.getFilters();if(void 0===Zn&&-1!==Qn.indexOf("FlateEncode")&&(Zn="SLOW"),isNaN(rn)||isNaN(tn))throw new Error("Invalid coordinates passed to jsPDF.addImage");g.call(this);var Ie=Jt.call(this,vt,st,Kn,Zn);return B.call(this,rn,tn,Fn,Wn,Ie,zn),this};var Jt=function(vt,st,rn,tn){var Fn,Wn,Kn,zn;if("string"==typeof vt&&r(vt)===n){vt=unescape(vt);var Zn=gn(vt,!1);(""!==Zn||void 0!==(Zn=e.loadFile(vt,!0)))&&(vt=Zn)}if(A(vt)&&(vt=N(vt,st)),st=r(vt,st),!w(st))throw new Error("addImage does not support files of type '"+st+"', please ensure that a plugin for '"+st+"' support is added.");if((null==(Kn=rn)||0===Kn.length)&&(rn="string"==typeof(zn=vt)||bn(zn)?je(zn):bn(zn.data)?je(zn.data):null),(Fn=D.call(this,rn))||(Xt()&&(vt instanceof Uint8Array||"RGBA"===st||(Wn=vt,vt=At(vt))),Fn=this["process"+st.toUpperCase()](vt,_.call(this),rn,function(zn){return zn&&"string"==typeof zn&&(zn=zn.toUpperCase()),zn in e.image_compression?zn:Pe.NONE}(tn),Wn)),!Fn)throw new Error("An unknown error occurred whilst processing the image.");return Fn},gn=e.__addimage__.convertBase64ToBinaryString=function(vt,st){var rn;st="boolean"!=typeof st||st;var tn,Fn="";if("string"==typeof vt){tn=null!==(rn=Vt(vt))?rn.data:vt;try{Fn=pT(tn)}catch(Wn){if(st)throw Xe(tn)?new Error("atob-Error in jsPDF.convertBase64ToBinaryString "+Wn.message):new Error("Supplied Data is not a valid base64-String jsPDF.convertBase64ToBinaryString ")}}return Fn};e.getImageProperties=function(vt){var st,rn,tn="";if(A(vt)&&(vt=N(vt)),"string"==typeof vt&&r(vt)===n&&(""===(tn=gn(vt,!1))&&(tn=e.loadFile(vt)||""),vt=tn),rn=r(vt),!w(rn))throw new Error("addImage does not support files of type '"+rn+"', please ensure that a plugin for '"+rn+"' support is added.");if(!Xt()||vt instanceof Uint8Array||(vt=At(vt)),!(st=this["process"+rn.toUpperCase()](vt)))throw new Error("An unknown error occurred whilst processing the image");return st.fileType=rn,st}}(bs.API),e=bs.API,n=function(t){if(void 0!==t&&""!=t)return!0},bs.API.events.push(["addPage",function(t){this.internal.getPageInfo(t.pageNumber).pageContext.annotations=[]}]),e.events.push(["putPage",function(t){for(var r,s,o,d=this.internal.getCoordinateString,g=this.internal.getVerticalCoordinateString,m=this.internal.getPageInfoByObjId(t.objId),_=t.pageContext.annotations,w=!1,A=0;A<_.length&&!w;A++)switch((r=_[A]).type){case"link":(n(r.options.url)||n(r.options.pageNumber))&&(w=!0);break;case"reference":case"text":case"freetext":w=!0}if(0!=w){this.internal.write("/Annots [");for(var N=0;N<_.length;N++){r=_[N];var D=this.internal.pdfEscape,ee=this.internal.getEncryptor(t.objId);switch(r.type){case"reference":this.internal.write(" "+r.object.objId+" 0 R ");break;case"text":var B=this.internal.newAdditionalObject(),he=this.internal.newAdditionalObject(),Pe=this.internal.getEncryptor(B.objId),je=r.title||"Note";o="<</Type /Annot /Subtype /Text "+(s="/Rect ["+d(r.bounds.x)+" "+g(r.bounds.y+r.bounds.h)+" "+d(r.bounds.x+r.bounds.w)+" "+g(r.bounds.y)+"] ")+"/Contents ("+D(Pe(r.contents))+")",o+=" /Popup "+he.objId+" 0 R",o+=" /P "+m.objId+" 0 R",o+=" /T ("+D(Pe(je))+") >>",B.content=o;var Xe=B.objId+" 0 R";o="<</Type /Annot /Subtype /Popup "+(s="/Rect ["+d(r.bounds.x+30)+" "+g(r.bounds.y+r.bounds.h)+" "+d(r.bounds.x+r.bounds.w+30)+" "+g(r.bounds.y)+"] ")+" /Parent "+Xe,r.open&&(o+=" /Open true"),he.content=o+=" >>",this.internal.write(B.objId,"0 R",he.objId,"0 R");break;case"freetext":s="/Rect ["+d(r.bounds.x)+" "+g(r.bounds.y)+" "+d(r.bounds.x+r.bounds.w)+" "+g(r.bounds.y+r.bounds.h)+"] ";var Vt=r.color||"#000000";o="<</Type /Annot /Subtype /FreeText "+s+"/Contents ("+D(ee(r.contents))+")",o+=" /DS(font: Helvetica,sans-serif 12.0pt; text-align:left; color:#"+Vt+")",o+=" /Border [0 0 0]",this.internal.write(o+=" >>");break;case"link":if(r.options.name){var Xt=this.annotations._nameMap[r.options.name];r.options.pageNumber=Xt.page,r.options.top=Xt.y}else r.options.top||(r.options.top=0);if(s="/Rect ["+r.finalBounds.x+" "+r.finalBounds.y+" "+r.finalBounds.w+" "+r.finalBounds.h+"] ",o="",r.options.url)o="<</Type /Annot /Subtype /Link "+s+"/Border [0 0 0] /A <</S /URI /URI ("+D(ee(r.options.url))+") >>";else if(r.options.pageNumber)switch(o="<</Type /Annot /Subtype /Link "+s+"/Border [0 0 0] /Dest ["+this.internal.getPageInfo(r.options.pageNumber).objId+" 0 R",r.options.magFactor=r.options.magFactor||"XYZ",r.options.magFactor){case"Fit":o+=" /Fit]";break;case"FitH":o+=" /FitH "+r.options.top+"]";break;case"FitV":r.options.left=r.options.left||0,o+=" /FitV "+r.options.left+"]";break;default:var bn=g(r.options.top);r.options.left=r.options.left||0,void 0===r.options.zoom&&(r.options.zoom=0),o+=" /XYZ "+r.options.left+" "+bn+" "+r.options.zoom+"]"}""!=o&&this.internal.write(o+=" >>")}}this.internal.write("]")}}]),e.createAnnotation=function(t){var r=this.internal.getCurrentPageInfo();switch(t.type){case"link":this.link(t.bounds.x,t.bounds.y,t.bounds.w,t.bounds.h,t);break;case"text":case"freetext":r.pageContext.annotations.push(t)}},e.link=function(t,r,s,o,d){var g=this.internal.getCurrentPageInfo(),m=this.internal.getCoordinateString,_=this.internal.getVerticalCoordinateString;g.pageContext.annotations.push({finalBounds:{x:m(t),y:_(r),w:m(t+s),h:_(r+o)},options:d,type:"link"})},e.textWithLink=function(t,r,s,o){var d,g,m=this.getTextWidth(t),_=this.internal.getLineHeight()/this.internal.scaleFactor;if(void 0!==o.maxWidth){var w=this.splitTextToSize(t,g=o.maxWidth).length;d=Math.ceil(_*w)}else g=m,d=_;return this.text(t,r,s,o),"center"===o.align&&(r-=m/2),"right"===o.align&&(r-=m),this.link(r,(s+=.2*_)-_,g,d,o),m},e.getTextWidth=function(t){var r=this.internal.getFontSize();return this.getStringUnitWidth(t)*r/this.internal.scaleFactor},function(e){var n={1569:[65152],1570:[65153,65154],1571:[65155,65156],1572:[65157,65158],1573:[65159,65160],1574:[65161,65162,65163,65164],1575:[65165,65166],1576:[65167,65168,65169,65170],1577:[65171,65172],1578:[65173,65174,65175,65176],1579:[65177,65178,65179,65180],1580:[65181,65182,65183,65184],1581:[65185,65186,65187,65188],1582:[65189,65190,65191,65192],1583:[65193,65194],1584:[65195,65196],1585:[65197,65198],1586:[65199,65200],1587:[65201,65202,65203,65204],1588:[65205,65206,65207,65208],1589:[65209,65210,65211,65212],1590:[65213,65214,65215,65216],1591:[65217,65218,65219,65220],1592:[65221,65222,65223,65224],1593:[65225,65226,65227,65228],1594:[65229,65230,65231,65232],1601:[65233,65234,65235,65236],1602:[65237,65238,65239,65240],1603:[65241,65242,65243,65244],1604:[65245,65246,65247,65248],1605:[65249,65250,65251,65252],1606:[65253,65254,65255,65256],1607:[65257,65258,65259,65260],1608:[65261,65262],1609:[65263,65264,64488,64489],1610:[65265,65266,65267,65268],1649:[64336,64337],1655:[64477],1657:[64358,64359,64360,64361],1658:[64350,64351,64352,64353],1659:[64338,64339,64340,64341],1662:[64342,64343,64344,64345],1663:[64354,64355,64356,64357],1664:[64346,64347,64348,64349],1667:[64374,64375,64376,64377],1668:[64370,64371,64372,64373],1670:[64378,64379,64380,64381],1671:[64382,64383,64384,64385],1672:[64392,64393],1676:[64388,64389],1677:[64386,64387],1678:[64390,64391],1681:[64396,64397],1688:[64394,64395],1700:[64362,64363,64364,64365],1702:[64366,64367,64368,64369],1705:[64398,64399,64400,64401],1709:[64467,64468,64469,64470],1711:[64402,64403,64404,64405],1713:[64410,64411,64412,64413],1715:[64406,64407,64408,64409],1722:[64414,64415],1723:[64416,64417,64418,64419],1726:[64426,64427,64428,64429],1728:[64420,64421],1729:[64422,64423,64424,64425],1733:[64480,64481],1734:[64473,64474],1735:[64471,64472],1736:[64475,64476],1737:[64482,64483],1739:[64478,64479],1740:[64508,64509,64510,64511],1744:[64484,64485,64486,64487],1746:[64430,64431],1747:[64432,64433]},t={65247:{65154:65269,65156:65271,65160:65273,65166:65275},65248:{65154:65270,65156:65272,65160:65274,65166:65276},65165:{65247:{65248:{65258:65010}}},1617:{1612:64606,1613:64607,1614:64608,1615:64609,1616:64610}},r={1612:64606,1613:64607,1614:64608,1615:64609,1616:64610},s=[1570,1571,1573,1575];e.__arabicParser__={};var o=e.__arabicParser__.isInArabicSubstitutionA=function(B){return void 0!==n[B.charCodeAt(0)]},d=e.__arabicParser__.isArabicLetter=function(B){return"string"==typeof B&&/^[\u0600-\u06FF\u0750-\u077F\u08A0-\u08FF\uFB50-\uFDFF\uFE70-\uFEFF]+$/.test(B)},g=e.__arabicParser__.isArabicEndLetter=function(B){return d(B)&&o(B)&&n[B.charCodeAt(0)].length<=2},m=e.__arabicParser__.isArabicAlfLetter=function(B){return d(B)&&s.indexOf(B.charCodeAt(0))>=0};e.__arabicParser__.arabicLetterHasIsolatedForm=function(B){return d(B)&&o(B)&&n[B.charCodeAt(0)].length>=1};var _=e.__arabicParser__.arabicLetterHasFinalForm=function(B){return d(B)&&o(B)&&n[B.charCodeAt(0)].length>=2};e.__arabicParser__.arabicLetterHasInitialForm=function(B){return d(B)&&o(B)&&n[B.charCodeAt(0)].length>=3};var w=e.__arabicParser__.arabicLetterHasMedialForm=function(B){return d(B)&&o(B)&&4==n[B.charCodeAt(0)].length},A=e.__arabicParser__.resolveLigatures=function(B){var he=0,Pe=t,je="",Xe=0;for(he=0;he<B.length;he+=1)void 0!==Pe[B.charCodeAt(he)]?(Xe++,"number"==typeof(Pe=Pe[B.charCodeAt(he)])&&(je+=String.fromCharCode(Pe),Pe=t,Xe=0),he===B.length-1&&(Pe=t,je+=B.charAt(he-(Xe-1)),he-=Xe-1,Xe=0)):(Pe=t,je+=B.charAt(he-Xe),he-=Xe,Xe=0);return je};e.__arabicParser__.isArabicDiacritic=function(B){return void 0!==B&&void 0!==r[B.charCodeAt(0)]};var N=e.__arabicParser__.getCorrectForm=function(B,he,Pe){return d(B)?!1===o(B)?-1:!_(B)||!d(he)&&!d(Pe)||!d(Pe)&&g(he)||g(B)&&!d(he)||g(B)&&m(he)||g(B)&&g(he)?0:w(B)&&d(he)&&!g(he)&&d(Pe)&&_(Pe)?3:g(B)||!d(Pe)?1:2:-1},D=function(B){var he=0,Pe=0,je=0,Xe="",Vt="",Xt="",bn=(B=B||"").split("\\s+"),At=[];for(he=0;he<bn.length;he+=1){for(At.push(""),Pe=0;Pe<bn[he].length;Pe+=1)Vt=bn[he][Pe-1],Xt=bn[he][Pe+1],d(Xe=bn[he][Pe])?(je=N(Xe,Vt,Xt),At[he]+=-1!==je?String.fromCharCode(n[Xe.charCodeAt(0)][je]):Xe):At[he]+=Xe;At[he]=A(At[he])}return At.join(" ")},ee=e.__arabicParser__.processArabic=e.processArabic=function(){var B,he="string"==typeof arguments[0]?arguments[0]:arguments[0].text,Pe=[];if(Array.isArray(he)){var je=0;for(Pe=[],je=0;je<he.length;je+=1)Array.isArray(he[je])?Pe.push([D(he[je][0]),he[je][1],he[je][2]]):Pe.push([D(he[je])]);B=Pe}else B=D(he);return"string"==typeof arguments[0]?B:(arguments[0].text=B,arguments[0])};e.events.push(["preProcessText",ee])}(bs.API),bs.API.autoPrint=function(e){var n;return"javascript"===((e=e||{}).variant=e.variant||"non-conform",e.variant)?this.addJS("print({});"):(this.internal.events.subscribe("postPutResources",function(){n=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /Named"),this.internal.out("/Type /Action"),this.internal.out("/N /Print"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){this.internal.out("/OpenAction "+n+" 0 R")})),this},function(e){var n=function(){var t=void 0;Object.defineProperty(this,"pdf",{get:function(){return t},set:function(g){t=g}});var r=150;Object.defineProperty(this,"width",{get:function(){return r},set:function(g){r=isNaN(g)||!1===Number.isInteger(g)||g<0?150:g,this.getContext("2d").pageWrapXEnabled&&(this.getContext("2d").pageWrapX=r+1)}});var s=300;Object.defineProperty(this,"height",{get:function(){return s},set:function(g){s=isNaN(g)||!1===Number.isInteger(g)||g<0?300:g,this.getContext("2d").pageWrapYEnabled&&(this.getContext("2d").pageWrapY=s+1)}});var o=[];Object.defineProperty(this,"childNodes",{get:function(){return o},set:function(g){o=g}});var d={};Object.defineProperty(this,"style",{get:function(){return d},set:function(g){d=g}}),Object.defineProperty(this,"parentNode",{})};n.prototype.getContext=function(t,r){var s;if("2d"!==(t=t||"2d"))return null;for(s in r)this.pdf.context2d.hasOwnProperty(s)&&(this.pdf.context2d[s]=r[s]);return this.pdf.context2d._canvas=this,this.pdf.context2d},n.prototype.toDataURL=function(){throw new Error("toDataURL is not implemented.")},e.events.push(["initialized",function(){this.canvas=new n,this.canvas.pdf=this}])}(bs.API),function(e){var n={left:0,top:0,bottom:0,right:0},t=!1,r=function(){void 0===this.internal.__cell__&&(this.internal.__cell__={},this.internal.__cell__.padding=3,this.internal.__cell__.headerFunction=void 0,this.internal.__cell__.margins=Object.assign({},n),this.internal.__cell__.margins.width=this.getPageWidth(),s.call(this))},s=function(){this.internal.__cell__.lastCell=new o,this.internal.__cell__.pages=1},o=function(){var m=arguments[0];Object.defineProperty(this,"x",{enumerable:!0,get:function(){return m},set:function(B){m=B}});var _=arguments[1];Object.defineProperty(this,"y",{enumerable:!0,get:function(){return _},set:function(B){_=B}});var w=arguments[2];Object.defineProperty(this,"width",{enumerable:!0,get:function(){return w},set:function(B){w=B}});var A=arguments[3];Object.defineProperty(this,"height",{enumerable:!0,get:function(){return A},set:function(B){A=B}});var N=arguments[4];Object.defineProperty(this,"text",{enumerable:!0,get:function(){return N},set:function(B){N=B}});var D=arguments[5];Object.defineProperty(this,"lineNumber",{enumerable:!0,get:function(){return D},set:function(B){D=B}});var ee=arguments[6];return Object.defineProperty(this,"align",{enumerable:!0,get:function(){return ee},set:function(B){ee=B}}),this};o.prototype.clone=function(){return new o(this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align)},o.prototype.toArray=function(){return[this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align]},e.setHeaderFunction=function(m){return r.call(this),this.internal.__cell__.headerFunction="function"==typeof m?m:void 0,this},e.getTextDimensions=function(m,_){r.call(this);var w=(_=_||{}).fontSize||this.getFontSize(),A=_.font||this.getFont(),N=_.scaleFactor||this.internal.scaleFactor,D=0,ee=0,B=0,he=this;if(!Array.isArray(m)&&"string"!=typeof m){if("number"!=typeof m)throw new Error("getTextDimensions expects text-parameter to be of type String or type Number or an Array of Strings.");m=String(m)}var Pe=_.maxWidth;Pe>0?"string"==typeof m?m=this.splitTextToSize(m,Pe):"[object Array]"===Object.prototype.toString.call(m)&&(m=m.reduce(function(Xe,Vt){return Xe.concat(he.splitTextToSize(Vt,Pe))},[])):m=Array.isArray(m)?m:[m];for(var je=0;je<m.length;je++)D<(B=this.getStringUnitWidth(m[je],{font:A})*w)&&(D=B);return 0!==D&&(ee=m.length),{w:D/=N,h:Math.max((ee*w*this.getLineHeightFactor()-w*(this.getLineHeightFactor()-1))/N,0)}},e.cellAddPage=function(){r.call(this),this.addPage();var m=this.internal.__cell__.margins||n;return this.internal.__cell__.lastCell=new o(m.left,m.top,void 0,void 0),this.internal.__cell__.pages+=1,this};var d=e.cell=function(){var m;m=arguments[0]instanceof o?arguments[0]:new o(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5]),r.call(this);var _=this.internal.__cell__.lastCell,w=this.internal.__cell__.padding,A=this.internal.__cell__.margins||n,N=this.internal.__cell__.tableHeaderRow,D=this.internal.__cell__.printHeaders;return void 0!==_.lineNumber&&(_.lineNumber===m.lineNumber?(m.x=(_.x||0)+(_.width||0),m.y=_.y||0):_.y+_.height+m.height+A.bottom>this.getPageHeight()?(this.cellAddPage(),m.y=A.top,D&&N&&(this.printHeaderRow(m.lineNumber,!0),m.y+=N[0].height)):m.y=_.y+_.height||m.y),void 0!==m.text[0]&&(this.rect(m.x,m.y,m.width,m.height,!0===t?"FD":void 0),"right"===m.align?this.text(m.text,m.x+m.width-w,m.y+w,{align:"right",baseline:"top"}):"center"===m.align?this.text(m.text,m.x+m.width/2,m.y+w,{align:"center",baseline:"top",maxWidth:m.width-w-w}):this.text(m.text,m.x+w,m.y+w,{align:"left",baseline:"top",maxWidth:m.width-w-w})),this.internal.__cell__.lastCell=m,this};e.table=function(m,_,w,A,N){if(r.call(this),!w)throw new Error("No data for PDF table.");var D,ee,B,he,Pe=[],je=[],Xe=[],Vt={},Xt={},bn=[],At=[],St=(N=N||{}).autoSize||!1,Jt=!1!==N.printHeaders,gn=N.css&&void 0!==N.css["font-size"]?16*N.css["font-size"]:N.fontSize||12,vt=N.margins||Object.assign({width:this.getPageWidth()},n),st="number"==typeof N.padding?N.padding:3,rn=N.headerBackgroundColor||"#c8c8c8",tn=N.headerTextColor||"#000";if(s.call(this),this.internal.__cell__.printHeaders=Jt,this.internal.__cell__.margins=vt,this.internal.__cell__.table_font_size=gn,this.internal.__cell__.padding=st,this.internal.__cell__.headerBackgroundColor=rn,this.internal.__cell__.headerTextColor=tn,this.setFontSize(gn),null==A)je=Pe=Object.keys(w[0]),Xe=Pe.map(function(){return"left"});else if(Array.isArray(A)&&"object"===wa(A[0]))for(Pe=A.map(function(nr){return nr.name}),je=A.map(function(nr){return nr.prompt||nr.name||""}),Xe=A.map(function(nr){return nr.align||"left"}),D=0;D<A.length;D+=1)Xt[A[D].name]=A[D].width*(19.049976/25.4);else Array.isArray(A)&&"string"==typeof A[0]&&(je=Pe=A,Xe=Pe.map(function(){return"left"}));if(St||Array.isArray(A)&&"string"==typeof A[0])for(D=0;D<Pe.length;D+=1){for(Vt[he=Pe[D]]=w.map(function(nr){return nr[he]}),this.setFont(void 0,"bold"),bn.push(this.getTextDimensions(je[D],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w),ee=Vt[he],this.setFont(void 0,"normal"),B=0;B<ee.length;B+=1)bn.push(this.getTextDimensions(ee[B],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w);Xt[he]=Math.max.apply(null,bn)+st+st,bn=[]}if(Jt){var Fn={};for(D=0;D<Pe.length;D+=1)Fn[Pe[D]]={},Fn[Pe[D]].text=je[D],Fn[Pe[D]].align=Xe[D];var Wn=g.call(this,Fn,Xt);At=Pe.map(function(nr){return new o(m,_,Xt[nr],Wn,Fn[nr].text,void 0,Fn[nr].align)}),this.setTableHeaderRow(At),this.printHeaderRow(1,!1)}var Kn=A.reduce(function(nr,Qn){return nr[Qn.name]=Qn.align,nr},{});for(D=0;D<w.length;D+=1){"rowStart"in N&&N.rowStart instanceof Function&&N.rowStart({row:D,data:w[D]},this);var Zn=g.call(this,w[D],Xt);for(B=0;B<Pe.length;B+=1){var zn=w[D][Pe[B]];"cellStart"in N&&N.cellStart instanceof Function&&N.cellStart({row:D,col:B,data:zn},this),d.call(this,new o(m,_,Xt[Pe[B]],Zn,zn,D+2,Kn[Pe[B]]))}}return this.internal.__cell__.table_x=m,this.internal.__cell__.table_y=_,this};var g=function(m,_){var w=this.internal.__cell__.padding,A=this.internal.__cell__.table_font_size,N=this.internal.scaleFactor;return Object.keys(m).map(function(D){var ee=m[D];return this.splitTextToSize(ee.hasOwnProperty("text")?ee.text:ee,_[D]-w-w)},this).map(function(D){return this.getLineHeightFactor()*D.length*A/N+w+w},this).reduce(function(D,ee){return Math.max(D,ee)},0)};e.setTableHeaderRow=function(m){r.call(this),this.internal.__cell__.tableHeaderRow=m},e.printHeaderRow=function(m,_){if(r.call(this),!this.internal.__cell__.tableHeaderRow)throw new Error("Property tableHeaderRow does not exist.");var w;if(t=!0,"function"==typeof this.internal.__cell__.headerFunction){var A=this.internal.__cell__.headerFunction(this,this.internal.__cell__.pages);this.internal.__cell__.lastCell=new o(A[0],A[1],A[2],A[3],void 0,-1)}this.setFont(void 0,"bold");for(var N=[],D=0;D<this.internal.__cell__.tableHeaderRow.length;D+=1){w=this.internal.__cell__.tableHeaderRow[D].clone(),_&&(w.y=this.internal.__cell__.margins.top||0,N.push(w)),w.lineNumber=m;var ee=this.getTextColor();this.setTextColor(this.internal.__cell__.headerTextColor),this.setFillColor(this.internal.__cell__.headerBackgroundColor),d.call(this,w),this.setTextColor(ee)}N.length>0&&this.setTableHeaderRow(N),this.setFont(void 0,"normal"),t=!1}}(bs.API);var tO={italic:["italic","oblique","normal"],oblique:["oblique","italic","normal"],normal:["normal","oblique","italic"]},nO=["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded"],$5=eO(nO),rO=[100,200,300,400,500,600,700,800,900],g4=eO(rO);function Y5(e){var o,n=e.family.replace(/"|'/g,"").toLowerCase(),t=tO[o=(o=e.style)||"normal"]?o:"normal",r=function(o){return o?"number"==typeof o?o>=100&&o<=900&&o%100==0?o:400:/^\d00$/.test(o)?parseInt(o):"bold"===o?700:400:400}(e.weight),s=function(o){return"number"==typeof $5[o=o||"normal"]?o:"normal"}(e.stretch);return{family:n,style:t,weight:r,stretch:s,src:e.src||[],ref:e.ref||{name:n,style:[s,t,r].join(" ")}}}function iO(e,n,t,r){var s;for(s=t;s>=0&&s<n.length;s+=r)if(e[n[s]])return e[n[s]];for(s=t;s>=0&&s<n.length;s-=r)if(e[n[s]])return e[n[s]]}var m4={"sans-serif":"helvetica",fixed:"courier",monospace:"courier",terminal:"courier",cursive:"times",fantasy:"times",serif:"times"},sO={caption:"times",icon:"times",menu:"times","message-box":"times","small-caption":"times","status-bar":"times"};function oO(e){return[e.stretch,e.style,e.weight,e.family].join(" ")}function aO(e){return e.trimLeft()}function y4(e,n){for(var t=0;t<e.length;){if(e.charAt(t)===n)return[e.substring(0,t),e.substring(t+1)];t+=1}return null}function _4(e){var n=e.match(/^(-[a-z_]|[a-z_])[a-z0-9_-]*/i);return null===n?null:[n[0],e.substring(n[0].length)]}var FA,lO,cO,K5=["times"];(function(e){var n,t,r,s,o,d,g,m,_,w=function(Ie){return this.isStrokeTransparent=(Ie=Ie||{}).isStrokeTransparent||!1,this.strokeOpacity=Ie.strokeOpacity||1,this.strokeStyle=Ie.strokeStyle||"#000000",this.fillStyle=Ie.fillStyle||"#000000",this.isFillTransparent=Ie.isFillTransparent||!1,this.fillOpacity=Ie.fillOpacity||1,this.font=Ie.font||"10px sans-serif",this.textBaseline=Ie.textBaseline||"alphabetic",this.textAlign=Ie.textAlign||"left",this.lineWidth=Ie.lineWidth||1,this.lineJoin=Ie.lineJoin||"miter",this.lineCap=Ie.lineCap||"butt",this.path=Ie.path||[],this.transform=void 0!==Ie.transform?Ie.transform.clone():new m,this.globalCompositeOperation=Ie.globalCompositeOperation||"normal",this.globalAlpha=Ie.globalAlpha||1,this.clip_path=Ie.clip_path||[],this.currentPoint=Ie.currentPoint||new d,this.miterLimit=Ie.miterLimit||10,this.lastPoint=Ie.lastPoint||new d,this.lineDashOffset=Ie.lineDashOffset||0,this.lineDash=Ie.lineDash||[],this.margin=Ie.margin||[0,0,0,0],this.prevPageLastElemOffset=Ie.prevPageLastElemOffset||0,this.ignoreClearRect="boolean"!=typeof Ie.ignoreClearRect||Ie.ignoreClearRect,this};e.events.push(["initialized",function(){this.context2d=new A(this),n=this.internal.f2,t=this.internal.getCoordinateString,r=this.internal.getVerticalCoordinateString,s=this.internal.getHorizontalCoordinate,o=this.internal.getVerticalCoordinate,d=this.internal.Point,g=this.internal.Rectangle,m=this.internal.Matrix,_=new w}]);var A=function(Ie){Object.defineProperty(this,"canvas",{get:function(){return{parentNode:!1,style:!1}}});var bt=Ie;Object.defineProperty(this,"pdf",{get:function(){return bt}});var ut=!1;Object.defineProperty(this,"pageWrapXEnabled",{get:function(){return ut},set:function(gr){ut=Boolean(gr)}});var _t=!1;Object.defineProperty(this,"pageWrapYEnabled",{get:function(){return _t},set:function(gr){_t=Boolean(gr)}});var Kt=0;Object.defineProperty(this,"posX",{get:function(){return Kt},set:function(gr){isNaN(gr)||(Kt=gr)}});var In=0;Object.defineProperty(this,"posY",{get:function(){return In},set:function(gr){isNaN(gr)||(In=gr)}}),Object.defineProperty(this,"margin",{get:function(){return _.margin},set:function(gr){var on;"number"==typeof gr?on=[gr,gr,gr,gr]:((on=new Array(4))[0]=gr[0],on[1]=gr.length>=2?gr[1]:on[0],on[2]=gr.length>=3?gr[2]:on[0],on[3]=gr.length>=4?gr[3]:on[1]),_.margin=on}});var An=!1;Object.defineProperty(this,"autoPaging",{get:function(){return An},set:function(gr){An=gr}});var Pn=0;Object.defineProperty(this,"lastBreak",{get:function(){return Pn},set:function(gr){Pn=gr}});var qn=[];Object.defineProperty(this,"pageBreaks",{get:function(){return qn},set:function(gr){qn=gr}}),Object.defineProperty(this,"ctx",{get:function(){return _},set:function(gr){gr instanceof w&&(_=gr)}}),Object.defineProperty(this,"path",{get:function(){return _.path},set:function(gr){_.path=gr}});var Rr=[];Object.defineProperty(this,"ctxStack",{get:function(){return Rr},set:function(gr){Rr=gr}}),Object.defineProperty(this,"fillStyle",{get:function(){return this.ctx.fillStyle},set:function(gr){var on;on=N(gr),this.ctx.fillStyle=on.style,this.ctx.isFillTransparent=0===on.a,this.ctx.fillOpacity=on.a,this.pdf.setFillColor(on.r,on.g,on.b,{a:on.a}),this.pdf.setTextColor(on.r,on.g,on.b,{a:on.a})}}),Object.defineProperty(this,"strokeStyle",{get:function(){return this.ctx.strokeStyle},set:function(gr){var on=N(gr);this.ctx.strokeStyle=on.style,this.ctx.isStrokeTransparent=0===on.a,this.ctx.strokeOpacity=on.a,0===on.a?this.pdf.setDrawColor(255,255,255):this.pdf.setDrawColor(on.r,on.g,on.b)}}),Object.defineProperty(this,"lineCap",{get:function(){return this.ctx.lineCap},set:function(gr){-1!==["butt","round","square"].indexOf(gr)&&(this.ctx.lineCap=gr,this.pdf.setLineCap(gr))}}),Object.defineProperty(this,"lineWidth",{get:function(){return this.ctx.lineWidth},set:function(gr){isNaN(gr)||(this.ctx.lineWidth=gr,this.pdf.setLineWidth(gr))}}),Object.defineProperty(this,"lineJoin",{get:function(){return this.ctx.lineJoin},set:function(gr){-1!==["bevel","round","miter"].indexOf(gr)&&(this.ctx.lineJoin=gr,this.pdf.setLineJoin(gr))}}),Object.defineProperty(this,"miterLimit",{get:function(){return this.ctx.miterLimit},set:function(gr){isNaN(gr)||(this.ctx.miterLimit=gr,this.pdf.setMiterLimit(gr))}}),Object.defineProperty(this,"textBaseline",{get:function(){return this.ctx.textBaseline},set:function(gr){this.ctx.textBaseline=gr}}),Object.defineProperty(this,"textAlign",{get:function(){return this.ctx.textAlign},set:function(gr){-1!==["right","end","center","left","start"].indexOf(gr)&&(this.ctx.textAlign=gr)}});var Gt=null,_i=null;Object.defineProperty(this,"fontFaces",{get:function(){return _i},set:function(gr){Gt=null,_i=gr}}),Object.defineProperty(this,"font",{get:function(){return this.ctx.font},set:function(gr){var on;if(this.ctx.font=gr,null!==(on=/^\s*(?=(?:(?:[-a-z]+\s*){0,2}(italic|oblique))?)(?=(?:(?:[-a-z]+\s*){0,2}(small-caps))?)(?=(?:(?:[-a-z]+\s*){0,2}(bold(?:er)?|lighter|[1-9]00))?)(?:(?:normal|\1|\2|\3)\s*){0,3}((?:xx?-)?(?:small|large)|medium|smaller|larger|[.\d]+(?:\%|in|[cem]m|ex|p[ctx]))(?:\s*\/\s*(normal|[.\d]+(?:\%|in|[cem]m|ex|p[ctx])))?\s*([-_,\"\'\sa-z]+?)\s*$/i.exec(gr))){var qr=on[1],Ti=on[3],ei=on[4],gi=on[6],Ci=/^([.\d]+)((?:%|in|[cem]m|ex|p[ctx]))$/i.exec(ei)[2];ei=Math.floor("px"===Ci?parseFloat(ei)*this.pdf.internal.scaleFactor:"em"===Ci?parseFloat(ei)*this.pdf.getFontSize():parseFloat(ei)*this.pdf.internal.scaleFactor),this.pdf.setFontSize(ei);var Ii=function(cs){var Mi,di,Ba=[],vs=cs.trim();if(""===vs)return K5;if(vs in sO)return[sO[vs]];for(;""!==vs;){switch(di=null,Mi=(vs=aO(vs)).charAt(0)){case'"':case"'":di=y4(vs.substring(1),Mi);break;default:di=_4(vs)}if(null===di||(Ba.push(di[0]),""!==(vs=aO(di[1]))&&","!==vs.charAt(0)))return K5;vs=vs.replace(/^,/,"")}return Ba}(gi);if(this.fontFaces){var Xi=function v4(e,n,t){for(var r=(t=t||{}).defaultFontFamily||"times",s=Object.assign({},m4,t.genericFontFamilies||{}),o=null,d=null,g=0;g<n.length;++g)if(s[(o=Y5(n[g])).family]&&(o.family=s[o.family]),e.hasOwnProperty(o.family)){d=e[o.family];break}if(!(d=d||e[r]))throw new Error("Could not find a font-family for the rule '"+oO(o)+"' and default family '"+r+"'.");if(d=function(m,_){if(_[m])return _[m];var w=$5[m],N=iO(_,nO,w,w<=$5.normal?-1:1);if(!N)throw new Error("Could not find a matching font-stretch value for "+m);return N}(o.stretch,d),d=function(m,_){if(_[m])return _[m];for(var w=tO[m],A=0;A<w.length;++A)if(_[w[A]])return _[w[A]];throw new Error("Could not find a matching font-style for "+m)}(o.style,d),!(d=function(m,_){if(_[m])return _[m];if(400===m&&_[500])return _[500];if(500===m&&_[400])return _[400];var A=iO(_,rO,g4[m],m<400?-1:1);if(!A)throw new Error("Could not find a matching font-weight for value "+m);return A}(o.weight,d)))throw new Error("Failed to resolve a font for the rule '"+oO(o)+"'.");return d}(function oi(gr,on){if(null===Gt){var qr=(Ti=gr.getFontList(),ei=[],Object.keys(Ti).forEach(function(gi){Ti[gi].forEach(function(Ci){var Ii=null;switch(Ci){case"bold":Ii={family:gi,weight:"bold"};break;case"italic":Ii={family:gi,style:"italic"};break;case"bolditalic":Ii={family:gi,weight:"bold",style:"italic"};break;case"":case"normal":Ii={family:gi}}null!==Ii&&(Ii.ref={name:gi,style:Ci},ei.push(Ii))})}),ei);Gt=function(Ti){for(var ei={},gi=0;gi<Ti.length;++gi){var Ci=Y5(Ti[gi]),Ii=Ci.family,Xi=Ci.stretch,ls=Ci.style,ws=Ci.weight;ei[Ii]=ei[Ii]||{},ei[Ii][Xi]=ei[Ii][Xi]||{},ei[Ii][Xi][ls]=ei[Ii][Xi][ls]||{},ei[Ii][Xi][ls][ws]=Ci}return ei}(qr.concat(on))}var Ti,ei;return Gt}(this.pdf,this.fontFaces),Ii.map(function(cs){return{family:cs,stretch:"normal",weight:Ti,style:qr}}));this.pdf.setFont(Xi.ref.name,Xi.ref.style)}else{var ls="";("bold"===Ti||parseInt(Ti,10)>=700||"bold"===qr)&&(ls="bold"),"italic"===qr&&(ls+="italic"),0===ls.length&&(ls="normal");for(var ws="",Fs={arial:"Helvetica",Arial:"Helvetica",verdana:"Helvetica",Verdana:"Helvetica",helvetica:"Helvetica",Helvetica:"Helvetica","sans-serif":"Helvetica",fixed:"Courier",monospace:"Courier",terminal:"Courier",cursive:"Times",fantasy:"Times",serif:"Times"},bo=0;bo<Ii.length;bo++){if(void 0!==this.pdf.internal.getFont(Ii[bo],ls,{noFallback:!0,disableWarning:!0})){ws=Ii[bo];break}if("bolditalic"===ls&&void 0!==this.pdf.internal.getFont(Ii[bo],"bold",{noFallback:!0,disableWarning:!0}))ws=Ii[bo],ls="bold";else if(void 0!==this.pdf.internal.getFont(Ii[bo],"normal",{noFallback:!0,disableWarning:!0})){ws=Ii[bo],ls="normal";break}}if(""===ws)for(var eo=0;eo<Ii.length;eo++)if(Fs[Ii[eo]]){ws=Fs[Ii[eo]];break}this.pdf.setFont(ws=""===ws?"Times":ws,ls)}}}}),Object.defineProperty(this,"globalCompositeOperation",{get:function(){return this.ctx.globalCompositeOperation},set:function(gr){this.ctx.globalCompositeOperation=gr}}),Object.defineProperty(this,"globalAlpha",{get:function(){return this.ctx.globalAlpha},set:function(gr){this.ctx.globalAlpha=gr}}),Object.defineProperty(this,"lineDashOffset",{get:function(){return this.ctx.lineDashOffset},set:function(gr){this.ctx.lineDashOffset=gr,Qn.call(this)}}),Object.defineProperty(this,"lineDash",{get:function(){return this.ctx.lineDash},set:function(gr){this.ctx.lineDash=gr,Qn.call(this)}}),Object.defineProperty(this,"ignoreClearRect",{get:function(){return this.ctx.ignoreClearRect},set:function(gr){this.ctx.ignoreClearRect=Boolean(gr)}})};A.prototype.setLineDash=function(Ie){this.lineDash=Ie},A.prototype.getLineDash=function(){return this.lineDash.length%2?this.lineDash.concat(this.lineDash):this.lineDash.slice()},A.prototype.fill=function(){Vt.call(this,"fill",!1)},A.prototype.stroke=function(){Vt.call(this,"stroke",!1)},A.prototype.beginPath=function(){this.path=[{type:"begin"}]},A.prototype.moveTo=function(Ie,bt){if(isNaN(Ie)||isNaN(bt))throw dl.error("jsPDF.context2d.moveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.moveTo");var ut=this.ctx.transform.applyToPoint(new d(Ie,bt));this.path.push({type:"mt",x:ut.x,y:ut.y}),this.ctx.lastPoint=new d(Ie,bt)},A.prototype.closePath=function(){var Ie=new d(0,0),bt=0;for(bt=this.path.length-1;-1!==bt;bt--)if("begin"===this.path[bt].type&&"object"===wa(this.path[bt+1])&&"number"==typeof this.path[bt+1].x){Ie=new d(this.path[bt+1].x,this.path[bt+1].y);break}this.path.push({type:"close"}),this.ctx.lastPoint=new d(Ie.x,Ie.y)},A.prototype.lineTo=function(Ie,bt){if(isNaN(Ie)||isNaN(bt))throw dl.error("jsPDF.context2d.lineTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.lineTo");var ut=this.ctx.transform.applyToPoint(new d(Ie,bt));this.path.push({type:"lt",x:ut.x,y:ut.y}),this.ctx.lastPoint=new d(ut.x,ut.y)},A.prototype.clip=function(){this.ctx.clip_path=JSON.parse(JSON.stringify(this.path)),Vt.call(this,null,!0)},A.prototype.quadraticCurveTo=function(Ie,bt,ut,_t){if(isNaN(ut)||isNaN(_t)||isNaN(Ie)||isNaN(bt))throw dl.error("jsPDF.context2d.quadraticCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.quadraticCurveTo");var Kt=this.ctx.transform.applyToPoint(new d(ut,_t)),In=this.ctx.transform.applyToPoint(new d(Ie,bt));this.path.push({type:"qct",x1:In.x,y1:In.y,x:Kt.x,y:Kt.y}),this.ctx.lastPoint=new d(Kt.x,Kt.y)},A.prototype.bezierCurveTo=function(Ie,bt,ut,_t,Kt,In){if(isNaN(Kt)||isNaN(In)||isNaN(Ie)||isNaN(bt)||isNaN(ut)||isNaN(_t))throw dl.error("jsPDF.context2d.bezierCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.bezierCurveTo");var An=this.ctx.transform.applyToPoint(new d(Kt,In)),Pn=this.ctx.transform.applyToPoint(new d(Ie,bt)),qn=this.ctx.transform.applyToPoint(new d(ut,_t));this.path.push({type:"bct",x1:Pn.x,y1:Pn.y,x2:qn.x,y2:qn.y,x:An.x,y:An.y}),this.ctx.lastPoint=new d(An.x,An.y)},A.prototype.arc=function(Ie,bt,ut,_t,Kt,In){if(isNaN(Ie)||isNaN(bt)||isNaN(ut)||isNaN(_t)||isNaN(Kt))throw dl.error("jsPDF.context2d.arc: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.arc");if(In=Boolean(In),!this.ctx.transform.isIdentity){var An=this.ctx.transform.applyToPoint(new d(Ie,bt));Ie=An.x,bt=An.y;var Pn=this.ctx.transform.applyToPoint(new d(0,ut)),qn=this.ctx.transform.applyToPoint(new d(0,0));ut=Math.sqrt(Math.pow(Pn.x-qn.x,2)+Math.pow(Pn.y-qn.y,2))}Math.abs(Kt-_t)>=2*Math.PI&&(_t=0,Kt=2*Math.PI),this.path.push({type:"arc",x:Ie,y:bt,radius:ut,startAngle:_t,endAngle:Kt,counterclockwise:In})},A.prototype.arcTo=function(Ie,bt,ut,_t,Kt){throw new Error("arcTo not implemented.")},A.prototype.rect=function(Ie,bt,ut,_t){if(isNaN(Ie)||isNaN(bt)||isNaN(ut)||isNaN(_t))throw dl.error("jsPDF.context2d.rect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rect");this.moveTo(Ie,bt),this.lineTo(Ie+ut,bt),this.lineTo(Ie+ut,bt+_t),this.lineTo(Ie,bt+_t),this.lineTo(Ie,bt),this.lineTo(Ie+ut,bt),this.lineTo(Ie,bt)},A.prototype.fillRect=function(Ie,bt,ut,_t){if(isNaN(Ie)||isNaN(bt)||isNaN(ut)||isNaN(_t))throw dl.error("jsPDF.context2d.fillRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillRect");if(!D.call(this)){var Kt={};"butt"!==this.lineCap&&(Kt.lineCap=this.lineCap,this.lineCap="butt"),"miter"!==this.lineJoin&&(Kt.lineJoin=this.lineJoin,this.lineJoin="miter"),this.beginPath(),this.rect(Ie,bt,ut,_t),this.fill(),Kt.hasOwnProperty("lineCap")&&(this.lineCap=Kt.lineCap),Kt.hasOwnProperty("lineJoin")&&(this.lineJoin=Kt.lineJoin)}},A.prototype.strokeRect=function(Ie,bt,ut,_t){if(isNaN(Ie)||isNaN(bt)||isNaN(ut)||isNaN(_t))throw dl.error("jsPDF.context2d.strokeRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeRect");ee.call(this)||(this.beginPath(),this.rect(Ie,bt,ut,_t),this.stroke())},A.prototype.clearRect=function(Ie,bt,ut,_t){if(isNaN(Ie)||isNaN(bt)||isNaN(ut)||isNaN(_t))throw dl.error("jsPDF.context2d.clearRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.clearRect");this.ignoreClearRect||(this.fillStyle="#ffffff",this.fillRect(Ie,bt,ut,_t))},A.prototype.save=function(Ie){Ie="boolean"!=typeof Ie||Ie;for(var bt=this.pdf.internal.getCurrentPageInfo().pageNumber,ut=0;ut<this.pdf.internal.getNumberOfPages();ut++)this.pdf.setPage(ut+1),this.pdf.internal.out("q");if(this.pdf.setPage(bt),Ie){this.ctx.fontSize=this.pdf.internal.getFontSize();var _t=new w(this.ctx);this.ctxStack.push(this.ctx),this.ctx=_t}},A.prototype.restore=function(Ie){Ie="boolean"!=typeof Ie||Ie;for(var bt=this.pdf.internal.getCurrentPageInfo().pageNumber,ut=0;ut<this.pdf.internal.getNumberOfPages();ut++)this.pdf.setPage(ut+1),this.pdf.internal.out("Q");this.pdf.setPage(bt),Ie&&0!==this.ctxStack.length&&(this.ctx=this.ctxStack.pop(),this.fillStyle=this.ctx.fillStyle,this.strokeStyle=this.ctx.strokeStyle,this.font=this.ctx.font,this.lineCap=this.ctx.lineCap,this.lineWidth=this.ctx.lineWidth,this.lineJoin=this.ctx.lineJoin,this.lineDash=this.ctx.lineDash,this.lineDashOffset=this.ctx.lineDashOffset)},A.prototype.toDataURL=function(){throw new Error("toDataUrl not implemented.")};var N=function(Ie){var bt,ut,_t,Kt;if(!0===Ie.isCanvasGradient&&(Ie=Ie.getColor()),!Ie)return{r:0,g:0,b:0,a:0,style:Ie};if(/transparent|rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*0+\s*\)/.test(Ie))bt=0,ut=0,_t=0,Kt=0;else{var In=/rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/.exec(Ie);if(null!==In)bt=parseInt(In[1]),ut=parseInt(In[2]),_t=parseInt(In[3]),Kt=1;else if(null!==(In=/rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*([\d.]+)\s*\)/.exec(Ie)))bt=parseInt(In[1]),ut=parseInt(In[2]),_t=parseInt(In[3]),Kt=parseFloat(In[4]);else{if(Kt=1,"string"==typeof Ie&&"#"!==Ie.charAt(0)){var An=new WM(Ie);Ie=An.ok?An.toHex():"#000000"}4===Ie.length?(bt=Ie.substring(1,2),bt+=bt,ut=Ie.substring(2,3),ut+=ut,_t=Ie.substring(3,4),_t+=_t):(bt=Ie.substring(1,3),ut=Ie.substring(3,5),_t=Ie.substring(5,7)),bt=parseInt(bt,16),ut=parseInt(ut,16),_t=parseInt(_t,16)}}return{r:bt,g:ut,b:_t,a:Kt,style:Ie}},D=function(){return this.ctx.isFillTransparent||0==this.globalAlpha},ee=function(){return Boolean(this.ctx.isStrokeTransparent||0==this.globalAlpha)};A.prototype.fillText=function(Ie,bt,ut,_t){if(isNaN(bt)||isNaN(ut)||"string"!=typeof Ie)throw dl.error("jsPDF.context2d.fillText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillText");if(_t=isNaN(_t)?void 0:_t,!D.call(this)){var Kt=Zn(this.ctx.transform.rotation),In=this.ctx.transform.scaleX;st.call(this,{text:Ie,x:bt,y:ut,scale:In,angle:Kt,align:this.textAlign,maxWidth:_t})}},A.prototype.strokeText=function(Ie,bt,ut,_t){if(isNaN(bt)||isNaN(ut)||"string"!=typeof Ie)throw dl.error("jsPDF.context2d.strokeText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeText");if(!ee.call(this)){_t=isNaN(_t)?void 0:_t;var Kt=Zn(this.ctx.transform.rotation),In=this.ctx.transform.scaleX;st.call(this,{text:Ie,x:bt,y:ut,scale:In,renderingMode:"stroke",angle:Kt,align:this.textAlign,maxWidth:_t})}},A.prototype.measureText=function(Ie){if("string"!=typeof Ie)throw dl.error("jsPDF.context2d.measureText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.measureText");var bt=this.pdf,ut=this.pdf.internal.scaleFactor,_t=bt.internal.getFontSize(),Kt=bt.getStringUnitWidth(Ie)*_t/bt.internal.scaleFactor,In=function(An){var Pn=(An=An||{}).width||0;return Object.defineProperty(this,"width",{get:function(){return Pn}}),this};return new In({width:Kt*=Math.round(96*ut/72*1e4)/1e4})},A.prototype.scale=function(Ie,bt){if(isNaN(Ie)||isNaN(bt))throw dl.error("jsPDF.context2d.scale: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.scale");var ut=new m(Ie,0,0,bt,0,0);this.ctx.transform=this.ctx.transform.multiply(ut)},A.prototype.rotate=function(Ie){if(isNaN(Ie))throw dl.error("jsPDF.context2d.rotate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rotate");var bt=new m(Math.cos(Ie),Math.sin(Ie),-Math.sin(Ie),Math.cos(Ie),0,0);this.ctx.transform=this.ctx.transform.multiply(bt)},A.prototype.translate=function(Ie,bt){if(isNaN(Ie)||isNaN(bt))throw dl.error("jsPDF.context2d.translate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.translate");var ut=new m(1,0,0,1,Ie,bt);this.ctx.transform=this.ctx.transform.multiply(ut)},A.prototype.transform=function(Ie,bt,ut,_t,Kt,In){if(isNaN(Ie)||isNaN(bt)||isNaN(ut)||isNaN(_t)||isNaN(Kt)||isNaN(In))throw dl.error("jsPDF.context2d.transform: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.transform");var An=new m(Ie,bt,ut,_t,Kt,In);this.ctx.transform=this.ctx.transform.multiply(An)},A.prototype.setTransform=function(Ie,bt,ut,_t,Kt,In){Ie=isNaN(Ie)?1:Ie,bt=isNaN(bt)?0:bt,ut=isNaN(ut)?0:ut,_t=isNaN(_t)?1:_t,Kt=isNaN(Kt)?0:Kt,In=isNaN(In)?0:In,this.ctx.transform=new m(Ie,bt,ut,_t,Kt,In)};var B=function(){return this.margin[0]>0||this.margin[1]>0||this.margin[2]>0||this.margin[3]>0};A.prototype.drawImage=function(Ie,bt,ut,_t,Kt,In,An,Pn,qn){var Rr=this.pdf.getImageProperties(Ie),Gt=1,oi=1,_i=1,gr=1;void 0!==_t&&void 0!==Pn&&(_i=Pn/_t,gr=qn/Kt,Gt=Rr.width/_t*Pn/_t,oi=Rr.height/Kt*qn/Kt),void 0===In&&(In=bt,An=ut,bt=0,ut=0),void 0!==_t&&void 0===Pn&&(Pn=_t,qn=Kt),void 0===_t&&void 0===Pn&&(Pn=Rr.width,qn=Rr.height);for(var on,qr=this.ctx.transform.decompose(),Ti=Zn(qr.rotate.shx),ei=new m,gi=(ei=(ei=(ei=ei.multiply(qr.translate)).multiply(qr.skew)).multiply(qr.scale)).applyToRectangle(new g(In-bt*_i,An-ut*gr,_t*Gt,Kt*oi)),Ci=he.call(this,gi),Ii=[],Xi=0;Xi<Ci.length;Xi+=1)-1===Ii.indexOf(Ci[Xi])&&Ii.push(Ci[Xi]);if(Xe(Ii),this.autoPaging)for(var ls=Ii[0],ws=Ii[Ii.length-1],Fs=ls;Fs<ws+1;Fs++){this.pdf.setPage(Fs);var bo=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],eo=1===Fs?this.posY+this.margin[0]:this.margin[0],Mi=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],di=1===Fs?0:this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2]+(Fs-2)*Mi;if(0!==this.ctx.clip_path.length){var Ba=this.path;on=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=je(on,this.posX+this.margin[3],-di+eo+this.ctx.prevPageLastElemOffset),Xt.call(this,"fill",!0),this.path=Ba}var vs=JSON.parse(JSON.stringify(gi));vs=je([vs],this.posX+this.margin[3],-di+eo+this.ctx.prevPageLastElemOffset)[0];var fu=(Fs>ls||Fs<ws)&&B.call(this);fu&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],bo,Mi,null).clip().discardPath()),this.pdf.addImage(Ie,"JPEG",vs.x,vs.y,vs.w,vs.h,null,null,Ti),fu&&this.pdf.restoreGraphicsState()}else this.pdf.addImage(Ie,"JPEG",gi.x,gi.y,gi.w,gi.h,null,null,Ti)};var he=function(Ie,bt,ut){var _t=[];bt=bt||this.pdf.internal.pageSize.width,ut=ut||this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2];var Kt=this.posY+this.ctx.prevPageLastElemOffset;switch(Ie.type){default:case"mt":case"lt":_t.push(Math.floor((Ie.y+Kt)/ut)+1);break;case"arc":_t.push(Math.floor((Ie.y+Kt-Ie.radius)/ut)+1),_t.push(Math.floor((Ie.y+Kt+Ie.radius)/ut)+1);break;case"qct":var In=zn(this.ctx.lastPoint.x,this.ctx.lastPoint.y,Ie.x1,Ie.y1,Ie.x,Ie.y);_t.push(Math.floor((In.y+Kt)/ut)+1),_t.push(Math.floor((In.y+In.h+Kt)/ut)+1);break;case"bct":var An=nr(this.ctx.lastPoint.x,this.ctx.lastPoint.y,Ie.x1,Ie.y1,Ie.x2,Ie.y2,Ie.x,Ie.y);_t.push(Math.floor((An.y+Kt)/ut)+1),_t.push(Math.floor((An.y+An.h+Kt)/ut)+1);break;case"rect":_t.push(Math.floor((Ie.y+Kt)/ut)+1),_t.push(Math.floor((Ie.y+Ie.h+Kt)/ut)+1)}for(var Pn=0;Pn<_t.length;Pn+=1)for(;this.pdf.internal.getNumberOfPages()<_t[Pn];)Pe.call(this);return _t},Pe=function(){var Ie=this.fillStyle,bt=this.strokeStyle,ut=this.font,_t=this.lineCap,Kt=this.lineWidth,In=this.lineJoin;this.pdf.addPage(),this.fillStyle=Ie,this.strokeStyle=bt,this.font=ut,this.lineCap=_t,this.lineWidth=Kt,this.lineJoin=In},je=function(Ie,bt,ut){for(var _t=0;_t<Ie.length;_t++)switch(Ie[_t].type){case"bct":Ie[_t].x2+=bt,Ie[_t].y2+=ut;case"qct":Ie[_t].x1+=bt,Ie[_t].y1+=ut;default:Ie[_t].x+=bt,Ie[_t].y+=ut}return Ie},Xe=function(Ie){return Ie.sort(function(bt,ut){return bt-ut})},Vt=function(Ie,bt){for(var ut,_t,Kt=this.fillStyle,In=this.strokeStyle,An=this.lineCap,Pn=this.lineWidth,qn=Math.abs(Pn*this.ctx.transform.scaleX),Rr=this.lineJoin,Gt=JSON.parse(JSON.stringify(this.path)),oi=JSON.parse(JSON.stringify(this.path)),_i=[],gr=0;gr<oi.length;gr++)if(void 0!==oi[gr].x)for(var on=he.call(this,oi[gr]),qr=0;qr<on.length;qr+=1)-1===_i.indexOf(on[qr])&&_i.push(on[qr]);for(var Ti=0;Ti<_i.length;Ti++)for(;this.pdf.internal.getNumberOfPages()<_i[Ti];)Pe.call(this);if(Xe(_i),this.autoPaging)for(var ei=_i[0],gi=_i[_i.length-1],Ci=ei;Ci<gi+1;Ci++){this.pdf.setPage(Ci),this.fillStyle=Kt,this.strokeStyle=In,this.lineCap=An,this.lineWidth=qn,this.lineJoin=Rr;var Ii=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],Xi=1===Ci?this.posY+this.margin[0]:this.margin[0],ws=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],Fs=1===Ci?0:this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2]+(Ci-2)*ws;if(0!==this.ctx.clip_path.length){var bo=this.path;ut=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=je(ut,this.posX+this.margin[3],-Fs+Xi+this.ctx.prevPageLastElemOffset),Xt.call(this,Ie,!0),this.path=bo}if(_t=JSON.parse(JSON.stringify(Gt)),this.path=je(_t,this.posX+this.margin[3],-Fs+Xi+this.ctx.prevPageLastElemOffset),!1===bt||0===Ci){var eo=(Ci>ei||Ci<gi)&&B.call(this);eo&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Ii,ws,null).clip().discardPath()),Xt.call(this,Ie,bt),eo&&this.pdf.restoreGraphicsState()}this.lineWidth=Pn}else this.lineWidth=qn,Xt.call(this,Ie,bt),this.lineWidth=Pn;this.path=Gt},Xt=function(Ie,bt){if(("stroke"!==Ie||bt||!ee.call(this))&&("stroke"===Ie||bt||!D.call(this))){for(var ut,_t,Kt=[],In=this.path,An=0;An<In.length;An++){var Pn=In[An];switch(Pn.type){case"begin":Kt.push({begin:!0});break;case"close":Kt.push({close:!0});break;case"mt":Kt.push({start:Pn,deltas:[],abs:[]});break;case"lt":var qn=Kt.length;if(In[An-1]&&!isNaN(In[An-1].x)&&(ut=[Pn.x-In[An-1].x,Pn.y-In[An-1].y],qn>0))for(;qn>=0;qn--)if(!0!==Kt[qn-1].close&&!0!==Kt[qn-1].begin){Kt[qn-1].deltas.push(ut),Kt[qn-1].abs.push(Pn);break}break;case"bct":Kt[Kt.length-1].deltas.push(ut=[Pn.x1-In[An-1].x,Pn.y1-In[An-1].y,Pn.x2-In[An-1].x,Pn.y2-In[An-1].y,Pn.x-In[An-1].x,Pn.y-In[An-1].y]);break;case"qct":Kt[Kt.length-1].deltas.push(ut=[In[An-1].x+2/3*(Pn.x1-In[An-1].x)-In[An-1].x,In[An-1].y+2/3*(Pn.y1-In[An-1].y)-In[An-1].y,Pn.x+2/3*(Pn.x1-Pn.x)-In[An-1].x,Pn.y+2/3*(Pn.y1-Pn.y)-In[An-1].y,Pn.x-In[An-1].x,Pn.y-In[An-1].y]);break;case"arc":Kt.push({deltas:[],abs:[],arc:!0}),Array.isArray(Kt[Kt.length-1].abs)&&Kt[Kt.length-1].abs.push(Pn)}}_t=bt?null:"stroke"===Ie?"stroke":"fill";for(var qr=!1,Ti=0;Ti<Kt.length;Ti++)if(Kt[Ti].arc)for(var ei=Kt[Ti].abs,gi=0;gi<ei.length;gi++){var Ci=ei[gi];"arc"===Ci.type?St.call(this,Ci.x,Ci.y,Ci.radius,Ci.startAngle,Ci.endAngle,Ci.counterclockwise,void 0,bt,!qr):rn.call(this,Ci.x,Ci.y),qr=!0}else!0===Kt[Ti].close?(this.pdf.internal.out("h"),qr=!1):!0!==Kt[Ti].begin&&(tn.call(this,Kt[Ti].deltas,Kt[Ti].start.x,Kt[Ti].start.y),qr=!0);_t&&Jt.call(this,_t),bt&&gn.call(this)}},bn=function(Ie){var bt=this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor,ut=bt*(this.pdf.internal.getLineHeightFactor()-1);switch(this.ctx.textBaseline){case"bottom":return Ie-ut;case"top":return Ie+bt-ut;case"hanging":return Ie+bt-2*ut;case"middle":return Ie+bt/2-ut;default:return Ie}},At=function(Ie){return Ie+this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor*(this.pdf.internal.getLineHeightFactor()-1)};A.prototype.createLinearGradient=function(){var Ie=function(){};return Ie.colorStops=[],Ie.addColorStop=function(bt,ut){this.colorStops.push([bt,ut])},Ie.getColor=function(){return 0===this.colorStops.length?"#000000":this.colorStops[0][1]},Ie.isCanvasGradient=!0,Ie},A.prototype.createPattern=function(){return this.createLinearGradient()},A.prototype.createRadialGradient=function(){return this.createLinearGradient()};var St=function(Ie,bt,ut,_t,Kt,In,An,Pn,qn){for(var Rr=Wn.call(this,ut,_t,Kt,In),Gt=0;Gt<Rr.length;Gt++){var oi=Rr[Gt];0===Gt&&(qn?vt.call(this,oi.x1+Ie,oi.y1+bt):rn.call(this,oi.x1+Ie,oi.y1+bt)),Fn.call(this,Ie,bt,oi.x2,oi.y2,oi.x3,oi.y3,oi.x4,oi.y4)}Pn?gn.call(this):Jt.call(this,An)},Jt=function(Ie){switch(Ie){case"stroke":this.pdf.internal.out("S");break;case"fill":this.pdf.internal.out("f")}},gn=function(){this.pdf.clip(),this.pdf.discardPath()},vt=function(Ie,bt){this.pdf.internal.out(t(Ie)+" "+r(bt)+" m")},st=function(Ie){var bt;switch(Ie.align){case"right":case"end":bt="right";break;case"center":bt="center";break;default:bt="left"}var ut=this.pdf.getTextDimensions(Ie.text),_t=bn.call(this,Ie.y),Kt=At.call(this,_t)-ut.h,In=this.ctx.transform.applyToPoint(new d(Ie.x,_t)),An=this.ctx.transform.decompose(),Pn=new m;Pn=(Pn=(Pn=Pn.multiply(An.translate)).multiply(An.skew)).multiply(An.scale);for(var qn,Rr,Gt,oi=this.ctx.transform.applyToRectangle(new g(Ie.x,_t,ut.w,ut.h)),_i=Pn.applyToRectangle(new g(Ie.x,Kt,ut.w,ut.h)),gr=he.call(this,_i),on=[],qr=0;qr<gr.length;qr+=1)-1===on.indexOf(gr[qr])&&on.push(gr[qr]);if(Xe(on),this.autoPaging)for(var Ti=on[0],ei=on[on.length-1],gi=Ti;gi<ei+1;gi++){this.pdf.setPage(gi);var Ci=1===gi?this.posY+this.margin[0]:this.margin[0],Xi=this.pdf.internal.pageSize.height-this.margin[2],ls=Xi-this.margin[0],ws=this.pdf.internal.pageSize.width-this.margin[1],Fs=ws-this.margin[3],bo=1===gi?0:this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2]+(gi-2)*ls;if(0!==this.ctx.clip_path.length){var eo=this.path;qn=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=je(qn,this.posX+this.margin[3],-1*bo+Ci),Xt.call(this,"fill",!0),this.path=eo}var cs=je([JSON.parse(JSON.stringify(_i))],this.posX+this.margin[3],-bo+Ci+this.ctx.prevPageLastElemOffset)[0];Ie.scale>=.01&&(Rr=this.pdf.internal.getFontSize(),this.pdf.setFontSize(Rr*Ie.scale),this.lineWidth=(Gt=this.lineWidth)*Ie.scale);var Mi="text"!==this.autoPaging;if(Mi||cs.y+cs.h<=Xi){if(Mi||cs.y>=Ci&&cs.x<=ws){var di=Mi?Ie.text:this.pdf.splitTextToSize(Ie.text,Ie.maxWidth||ws-cs.x)[0],Ba=je([JSON.parse(JSON.stringify(oi))],this.posX+this.margin[3],-bo+Ci+this.ctx.prevPageLastElemOffset)[0],vs=Mi&&(gi>Ti||gi<ei)&&B.call(this);vs&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Fs,ls,null).clip().discardPath()),this.pdf.text(di,Ba.x,Ba.y,{angle:Ie.angle,align:bt,renderingMode:Ie.renderingMode}),vs&&this.pdf.restoreGraphicsState()}}else cs.y<Xi&&(this.ctx.prevPageLastElemOffset+=Xi-cs.y);Ie.scale>=.01&&(this.pdf.setFontSize(Rr),this.lineWidth=Gt)}else Ie.scale>=.01&&(Rr=this.pdf.internal.getFontSize(),this.pdf.setFontSize(Rr*Ie.scale),this.lineWidth=(Gt=this.lineWidth)*Ie.scale),this.pdf.text(Ie.text,In.x+this.posX,In.y+this.posY,{angle:Ie.angle,align:bt,renderingMode:Ie.renderingMode,maxWidth:Ie.maxWidth}),Ie.scale>=.01&&(this.pdf.setFontSize(Rr),this.lineWidth=Gt)},rn=function(Ie,bt,ut,_t){_t=_t||0,this.pdf.internal.out(t(Ie+(ut=ut||0))+" "+r(bt+_t)+" l")},tn=function(Ie,bt,ut){return this.pdf.lines(Ie,bt,ut,null,null)},Fn=function(Ie,bt,ut,_t,Kt,In,An,Pn){this.pdf.internal.out([n(s(ut+Ie)),n(o(_t+bt)),n(s(Kt+Ie)),n(o(In+bt)),n(s(An+Ie)),n(o(Pn+bt)),"c"].join(" "))},Wn=function(Ie,bt,ut,_t){for(var Kt=2*Math.PI,In=Math.PI/2;bt>ut;)bt-=Kt;var An=Math.abs(ut-bt);An<Kt&&_t&&(An=Kt-An);for(var Pn=[],qn=_t?-1:1,Rr=bt;An>1e-5;){var Gt=Rr+qn*Math.min(An,In);Pn.push(Kn.call(this,Ie,Rr,Gt)),An-=Math.abs(Gt-Rr),Rr=Gt}return Pn},Kn=function(Ie,bt,ut){var _t=(ut-bt)/2,Kt=Ie*Math.cos(_t),In=Ie*Math.sin(_t),An=Kt,Pn=-In,qn=An*An+Pn*Pn,Rr=qn+An*Kt+Pn*In,Gt=4/3*(Math.sqrt(2*qn*Rr)-Rr)/(An*In-Pn*Kt),oi=An-Gt*Pn,_i=Pn+Gt*An,gr=oi,on=-_i,qr=_t+bt,Ti=Math.cos(qr),ei=Math.sin(qr);return{x1:Ie*Math.cos(bt),y1:Ie*Math.sin(bt),x2:oi*Ti-_i*ei,y2:oi*ei+_i*Ti,x3:gr*Ti-on*ei,y3:gr*ei+on*Ti,x4:Ie*Math.cos(ut),y4:Ie*Math.sin(ut)}},Zn=function(Ie){return 180*Ie/Math.PI},zn=function(Ie,bt,ut,_t,Kt,In){var An=Ie+.5*(ut-Ie),Pn=bt+.5*(_t-bt),qn=Kt+.5*(ut-Kt),Rr=In+.5*(_t-In),Gt=Math.min(Ie,Kt,An,qn),oi=Math.max(Ie,Kt,An,qn),_i=Math.min(bt,In,Pn,Rr),gr=Math.max(bt,In,Pn,Rr);return new g(Gt,_i,oi-Gt,gr-_i)},nr=function(Ie,bt,ut,_t,Kt,In,An,Pn){var qn,Rr,Gt,oi,_i,gr,on,qr,Ti,ei,gi,Ci,Ii,Xi,ls=ut-Ie,ws=_t-bt,Fs=Kt-ut,bo=In-_t,eo=An-Kt,cs=Pn-In;for(Rr=0;Rr<41;Rr++)Ti=(on=(Gt=Ie+(qn=Rr/40)*ls)+qn*((_i=ut+qn*Fs)-Gt))+qn*(_i+qn*(Kt+qn*eo-_i)-on),ei=(qr=(oi=bt+qn*ws)+qn*((gr=_t+qn*bo)-oi))+qn*(gr+qn*(In+qn*cs-gr)-qr),0==Rr?(gi=Ti,Ci=ei,Ii=Ti,Xi=ei):(gi=Math.min(gi,Ti),Ci=Math.min(Ci,ei),Ii=Math.max(Ii,Ti),Xi=Math.max(Xi,ei));return new g(Math.round(gi),Math.round(Ci),Math.round(Ii-gi),Math.round(Xi-Ci))},Qn=function(){if(this.prevLineDash||this.ctx.lineDash.length||this.ctx.lineDashOffset){var ut=JSON.stringify({lineDash:this.ctx.lineDash,lineDashOffset:this.ctx.lineDashOffset});this.prevLineDash!==ut&&(this.pdf.setLineDash(this.ctx.lineDash,this.ctx.lineDashOffset),this.prevLineDash=ut)}}})(bs.API),function(e){var n=function(o){var d,g,m,_,w,A,N,D,ee,B;for(/[^\x00-\xFF]/.test(o),g=[],m=0,_=(o+=d="\0\0\0\0".slice(o.length%4||4)).length;_>m;m+=4)0!==(w=(o.charCodeAt(m)<<24)+(o.charCodeAt(m+1)<<16)+(o.charCodeAt(m+2)<<8)+o.charCodeAt(m+3))?(A=(w=((w=((w=((w=(w-(B=w%85))/85)-(ee=w%85))/85)-(D=w%85))/85)-(N=w%85))/85)%85,g.push(A+33,N+33,D+33,ee+33,B+33)):g.push(122);return function(he,Pe){for(var je=Pe;je>0;je--)he.pop()}(g,d.length),String.fromCharCode.apply(String,g)+"~>"},t=function(o){var d,g,m,_,w,A=String,N="length",D=255,ee="charCodeAt",B="slice",he="replace";for(o[B](-2),o=o[B](0,-2)[he](/\s/g,"")[he]("z","!!!!!"),m=[],_=0,w=(o+=d="uuuuu"[B](o[N]%5||5))[N];w>_;_+=5)g=52200625*(o[ee](_)-33)+614125*(o[ee](_+1)-33)+7225*(o[ee](_+2)-33)+85*(o[ee](_+3)-33)+(o[ee](_+4)-33),m.push(D&g>>24,D&g>>16,D&g>>8,D&g);return function(Pe,je){for(var Xe=je;Xe>0;Xe--)Pe.pop()}(m,d[N]),A.fromCharCode.apply(A,m)},r=function(o){var d=new RegExp(/^([0-9A-Fa-f]{2})+$/);if(-1!==(o=o.replace(/\s/g,"")).indexOf(">")&&(o=o.substr(0,o.indexOf(">"))),o.length%2&&(o+="0"),!1===d.test(o))return"";for(var g="",m=0;m<o.length;m+=2)g+=String.fromCharCode("0x"+(o[m]+o[m+1]));return g},s=function(o){for(var d=new Uint8Array(o.length),g=o.length;g--;)d[g]=o.charCodeAt(g);return(d=fT(d)).reduce(function(m,_){return m+String.fromCharCode(_)},"")};e.processDataByFilters=function(o,d){var g=0,m=o||"",_=[];for("string"==typeof(d=d||[])&&(d=[d]),g=0;g<d.length;g+=1)switch(d[g]){case"ASCII85Decode":case"/ASCII85Decode":m=t(m),_.push("/ASCII85Encode");break;case"ASCII85Encode":case"/ASCII85Encode":m=n(m),_.push("/ASCII85Decode");break;case"ASCIIHexDecode":case"/ASCIIHexDecode":m=r(m),_.push("/ASCIIHexEncode");break;case"ASCIIHexEncode":case"/ASCIIHexEncode":m=m.split("").map(function(w){return("0"+w.charCodeAt().toString(16)).slice(-2)}).join("")+">",_.push("/ASCIIHexDecode");break;case"FlateEncode":case"/FlateEncode":m=s(m),_.push("/FlateDecode");break;default:throw new Error('The filter: "'+d[g]+'" is not implemented')}return{data:m,reverseChain:_.reverse().join(" ")}}}(bs.API),function(e){e.loadFile=function(n,t,r){return function(s,o,d){o=!1!==o,d="function"==typeof d?d:function(){};var g=void 0;try{g=function(m,_,w){var A=new XMLHttpRequest,N=0,D=function(ee){var B=ee.length,he=[],Pe=String.fromCharCode;for(N=0;N<B;N+=1)he.push(Pe(255&ee.charCodeAt(N)));return he.join("")};if(A.open("GET",m,!_),A.overrideMimeType("text/plain; charset=x-user-defined"),!1===_&&(A.onload=function(){w(200===A.status?D(this.responseText):void 0)}),A.send(null),_&&200===A.status)return D(A.responseText)}(s,o,d)}catch(m){}return g}(n,t,r)},e.loadImageFile=e.loadFile}(bs.API),function(e){function n(){return(As.html2canvas?Promise.resolve(As.html2canvas):me.e(159).then(me.t.bind(me,4159,23))).catch(function(d){return Promise.reject(new Error("Could not load html2canvas: "+d))}).then(function(d){return d.default?d.default:d})}function t(){return(As.DOMPurify?Promise.resolve(As.DOMPurify):me.e(735).then(me.t.bind(me,2735,23))).catch(function(d){return Promise.reject(new Error("Could not load dompurify: "+d))}).then(function(d){return d.default?d.default:d})}var r=function(d){var g=wa(d);return"undefined"===g?"undefined":"string"===g||d instanceof String?"string":"number"===g||d instanceof Number?"number":"function"===g||d instanceof Function?"function":d&&d.constructor===Array?"array":d&&1===d.nodeType?"element":"object"===g?"object":"unknown"},s=function(d,g){var m=document.createElement(d);for(var _ in g.className&&(m.className=g.className),g.innerHTML&&g.dompurify&&(m.innerHTML=g.dompurify.sanitize(g.innerHTML)),g.style)m.style[_]=g.style[_];return m},o=function d(g){var m=Object.assign(d.convert(Promise.resolve()),JSON.parse(JSON.stringify(d.template))),_=d.convert(Promise.resolve(),m);return(_=_.setProgress(1,d,1,[d])).set(g)};(o.prototype=Object.create(Promise.prototype)).constructor=o,o.convert=function(d,g){return d.__proto__=g||o.prototype,d},o.template={prop:{src:null,container:null,overlay:null,canvas:null,img:null,pdf:null,pageSize:null,callback:function(){}},progress:{val:0,state:null,n:0,stack:[]},opt:{filename:"file.pdf",margin:[0,0,0,0],enableLinks:!0,x:0,y:0,html2canvas:{},jsPDF:{},backgroundColor:"transparent"}},o.prototype.from=function(d,g){return this.then(function(){switch(g=g||function(m){switch(r(m)){case"string":return"string";case"element":return"canvas"===m.nodeName.toLowerCase()?"canvas":"element";default:return"unknown"}}(d)){case"string":return this.then(t).then(function(m){return this.set({src:s("div",{innerHTML:d,dompurify:m})})});case"element":return this.set({src:d});case"canvas":return this.set({canvas:d});case"img":return this.set({img:d});default:return this.error("Unknown source type.")}})},o.prototype.to=function(d){switch(d){case"container":return this.toContainer();case"canvas":return this.toCanvas();case"img":return this.toImg();case"pdf":return this.toPdf();default:return this.error("Invalid target.")}},o.prototype.toContainer=function(){return this.thenList([function(){return this.prop.src||this.error("Cannot duplicate - no source HTML.")},function(){return this.prop.pageSize||this.setPageSize()}]).then(function(){var d={position:"relative",display:"inline-block",width:("number"!=typeof this.opt.width||isNaN(this.opt.width)||"number"!=typeof this.opt.windowWidth||isNaN(this.opt.windowWidth)?Math.max(this.prop.src.clientWidth,this.prop.src.scrollWidth,this.prop.src.offsetWidth):this.opt.windowWidth)+"px",left:0,right:0,top:0,margin:"auto",backgroundColor:this.opt.backgroundColor},g=function m(_,w){for(var A=3===_.nodeType?document.createTextNode(_.nodeValue):_.cloneNode(!1),N=_.firstChild;N;N=N.nextSibling)!0!==w&&1===N.nodeType&&"SCRIPT"===N.nodeName||A.appendChild(m(N,w));return 1===_.nodeType&&("CANVAS"===_.nodeName?(A.width=_.width,A.height=_.height,A.getContext("2d").drawImage(_,0,0)):"TEXTAREA"!==_.nodeName&&"SELECT"!==_.nodeName||(A.value=_.value),A.addEventListener("load",function(){A.scrollTop=_.scrollTop,A.scrollLeft=_.scrollLeft},!0)),A}(this.prop.src,this.opt.html2canvas.javascriptEnabled);"BODY"===g.tagName&&(d.height=Math.max(document.body.scrollHeight,document.body.offsetHeight,document.documentElement.clientHeight,document.documentElement.scrollHeight,document.documentElement.offsetHeight)+"px"),this.prop.overlay=s("div",{className:"html2pdf__overlay",style:{position:"fixed",overflow:"hidden",zIndex:1e3,left:"-100000px",right:0,bottom:0,top:0}}),this.prop.container=s("div",{className:"html2pdf__container",style:d}),this.prop.container.appendChild(g),this.prop.container.firstChild.appendChild(s("div",{style:{clear:"both",border:"0 none transparent",margin:0,padding:0,height:0}})),this.prop.container.style.float="none",this.prop.overlay.appendChild(this.prop.container),document.body.appendChild(this.prop.overlay),this.prop.container.firstChild.style.position="relative",this.prop.container.height=Math.max(this.prop.container.firstChild.clientHeight,this.prop.container.firstChild.scrollHeight,this.prop.container.firstChild.offsetHeight)+"px"})},o.prototype.toCanvas=function(){return this.thenList([function(){return document.body.contains(this.prop.container)||this.toContainer()}]).then(n).then(function(g){var m=Object.assign({},this.opt.html2canvas);return delete m.onrendered,g(this.prop.container,m)}).then(function(g){(this.opt.html2canvas.onrendered||function(){})(g),this.prop.canvas=g,document.body.removeChild(this.prop.overlay)})},o.prototype.toContext2d=function(){return this.thenList([function(){return document.body.contains(this.prop.container)||this.toContainer()}]).then(n).then(function(g){var m=this.opt.jsPDF,_=this.opt.fontFaces,w="number"!=typeof this.opt.width||isNaN(this.opt.width)||"number"!=typeof this.opt.windowWidth||isNaN(this.opt.windowWidth)?1:this.opt.width/this.opt.windowWidth,A=Object.assign({async:!0,allowTaint:!0,scale:w,scrollX:this.opt.scrollX||0,scrollY:this.opt.scrollY||0,backgroundColor:"#ffffff",imageTimeout:15e3,logging:!0,proxy:null,removeContainer:!0,foreignObjectRendering:!1,useCORS:!1},this.opt.html2canvas);if(delete A.onrendered,m.context2d.autoPaging=void 0===this.opt.autoPaging||this.opt.autoPaging,m.context2d.posX=this.opt.x,m.context2d.posY=this.opt.y,m.context2d.margin=this.opt.margin,m.context2d.fontFaces=_,_)for(var N=0;N<_.length;++N){var D=_[N],ee=D.src.find(function(B){return"truetype"===B.format});ee&&m.addFont(ee.url,D.ref.name,D.ref.style)}return A.windowHeight=A.windowHeight||0,A.windowHeight=0==A.windowHeight?Math.max(this.prop.container.clientHeight,this.prop.container.scrollHeight,this.prop.container.offsetHeight):A.windowHeight,m.context2d.save(!0),g(this.prop.container,A)}).then(function(g){this.opt.jsPDF.context2d.restore(!0),(this.opt.html2canvas.onrendered||function(){})(g),this.prop.canvas=g,document.body.removeChild(this.prop.overlay)})},o.prototype.toImg=function(){return this.thenList([function(){return this.prop.canvas||this.toCanvas()}]).then(function(){var d=this.prop.canvas.toDataURL("image/"+this.opt.image.type,this.opt.image.quality);this.prop.img=document.createElement("img"),this.prop.img.src=d})},o.prototype.toPdf=function(){return this.thenList([function(){return this.toContext2d()}]).then(function(){this.prop.pdf=this.prop.pdf||this.opt.jsPDF})},o.prototype.output=function(d,g,m){return"img"===(m=m||"pdf").toLowerCase()||"image"===m.toLowerCase()?this.outputImg(d,g):this.outputPdf(d,g)},o.prototype.outputPdf=function(d,g){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){return this.prop.pdf.output(d,g)})},o.prototype.outputImg=function(d){return this.thenList([function(){return this.prop.img||this.toImg()}]).then(function(){switch(d){case void 0:case"img":return this.prop.img;case"datauristring":case"dataurlstring":return this.prop.img.src;case"datauri":case"dataurl":return document.location.href=this.prop.img.src;default:throw'Image output type "'+d+'" is not supported.'}})},o.prototype.save=function(d){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).set(d?{filename:d}:null).then(function(){this.prop.pdf.save(this.opt.filename)})},o.prototype.doCallback=function(){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){this.prop.callback(this.prop.pdf)})},o.prototype.set=function(d){if("object"!==r(d))return this;var g=Object.keys(d||{}).map(function(m){if(m in o.template.prop)return function(){this.prop[m]=d[m]};switch(m){case"margin":return this.setMargin.bind(this,d.margin);case"jsPDF":return function(){return this.opt.jsPDF=d.jsPDF,this.setPageSize()};case"pageSize":return this.setPageSize.bind(this,d.pageSize);default:return function(){this.opt[m]=d[m]}}},this);return this.then(function(){return this.thenList(g)})},o.prototype.get=function(d,g){return this.then(function(){var m=d in o.template.prop?this.prop[d]:this.opt[d];return g?g(m):m})},o.prototype.setMargin=function(d){return this.then(function(){switch(r(d)){case"number":d=[d,d,d,d];case"array":if(2===d.length&&(d=[d[0],d[1],d[0],d[1]]),4===d.length)break;default:return this.error("Invalid margin array.")}this.opt.margin=d}).then(this.setPageSize)},o.prototype.setPageSize=function(d){function g(m,_){return Math.floor(m*_/72*96)}return this.then(function(){(d=d||bs.getPageSize(this.opt.jsPDF)).hasOwnProperty("inner")||(d.inner={width:d.width-this.opt.margin[1]-this.opt.margin[3],height:d.height-this.opt.margin[0]-this.opt.margin[2]},d.inner.px={width:g(d.inner.width,d.k),height:g(d.inner.height,d.k)},d.inner.ratio=d.inner.height/d.inner.width),this.prop.pageSize=d})},o.prototype.setProgress=function(d,g,m,_){return null!=d&&(this.progress.val=d),null!=g&&(this.progress.state=g),null!=m&&(this.progress.n=m),null!=_&&(this.progress.stack=_),this.progress.ratio=this.progress.val/this.progress.state,this},o.prototype.updateProgress=function(d,g,m,_){return this.setProgress(d?this.progress.val+d:null,g||null,m?this.progress.n+m:null,_?this.progress.stack.concat(_):null)},o.prototype.then=function(d,g){var m=this;return this.thenCore(d,g,function(_,w){return m.updateProgress(null,null,1,[_]),Promise.prototype.then.call(this,function(A){return m.updateProgress(null,_),A}).then(_,w).then(function(A){return m.updateProgress(1),A})})},o.prototype.thenCore=function(d,g,m){m=m||Promise.prototype.then,d&&(d=d.bind(this)),g&&(g=g.bind(this));var _=-1!==Promise.toString().indexOf("[native code]")&&"Promise"===Promise.name?this:o.convert(Object.assign({},this),Promise.prototype),w=m.call(_,d,g);return o.convert(w,this.__proto__)},o.prototype.thenExternal=function(d,g){return Promise.prototype.then.call(this,d,g)},o.prototype.thenList=function(d){var g=this;return d.forEach(function(m){g=g.thenCore(m)}),g},o.prototype.catch=function(d){d&&(d=d.bind(this));var g=Promise.prototype.catch.call(this,d);return o.convert(g,this)},o.prototype.catchExternal=function(d){return Promise.prototype.catch.call(this,d)},o.prototype.error=function(d){return this.then(function(){throw new Error(d)})},o.prototype.using=o.prototype.set,o.prototype.saveAs=o.prototype.save,o.prototype.export=o.prototype.output,o.prototype.run=o.prototype.then,bs.getPageSize=function(d,g,m){if("object"===wa(d)){var _=d;d=_.orientation,g=_.unit||g,m=_.format||m}g=g||"mm",m=m||"a4",d=(""+(d||"P")).toLowerCase();var w,A=(""+m).toLowerCase(),N={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};switch(g){case"pt":w=1;break;case"mm":w=72/25.4;break;case"cm":w=72/2.54;break;case"in":w=72;break;case"px":w=.75;break;case"pc":case"em":w=12;break;case"ex":w=6;break;default:throw"Invalid unit: "+g}var D,ee=0,B=0;if(N.hasOwnProperty(A))ee=N[A][1]/w,B=N[A][0]/w;else try{ee=m[1],B=m[0]}catch(he){throw new Error("Invalid format: "+m)}if("p"===d||"portrait"===d)d="p",B>ee&&(D=B,B=ee,ee=D);else{if("l"!==d&&"landscape"!==d)throw"Invalid orientation: "+d;d="l",ee>B&&(D=B,B=ee,ee=D)}return{width:B,height:ee,unit:g,k:w,orientation:d}},e.html=function(d,g){(g=g||{}).callback=g.callback||function(){},g.html2canvas=g.html2canvas||{},g.html2canvas.canvas=g.html2canvas.canvas||this.canvas,g.jsPDF=g.jsPDF||this,g.fontFaces=g.fontFaces?g.fontFaces.map(Y5):null;var m=new o(g);return g.worker?m:m.from(d).doCallback()}}(bs.API),bs.API.addJS=function(e){return cO=e,this.internal.events.subscribe("postPutResources",function(){FA=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/Names [(EmbeddedJS) "+(FA+1)+" 0 R]"),this.internal.out(">>"),this.internal.out("endobj"),lO=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /JavaScript"),this.internal.out("/JS ("+cO+")"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){void 0!==FA&&void 0!==lO&&this.internal.out("/Names <</JavaScript "+FA+" 0 R>>")}),this},function(e){var n;e.events.push(["postPutResources",function(){var t=this,r=/^(\d+) 0 obj$/;if(this.outline.root.children.length>0)for(var s=t.outline.render().split(/\r\n/),o=0;o<s.length;o++){var d=s[o],g=r.exec(d);null!=g&&t.internal.newObjectDeferredBegin(g[1],!1),t.internal.write(d)}if(this.outline.createNamedDestinations){var _=this.internal.pages.length,w=[];for(o=0;o<_;o++){var A=t.internal.newObject();w.push(A);var N=t.internal.getPageInfo(o+1);t.internal.write("<< /D["+N.objId+" 0 R /XYZ null null null]>> endobj")}var D=t.internal.newObject();for(t.internal.write("<< /Names [ "),o=0;o<w.length;o++)t.internal.write("(page_"+(o+1)+")"+w[o]+" 0 R");t.internal.write(" ] >>","endobj"),n=t.internal.newObject(),t.internal.write("<< /Dests "+D+" 0 R"),t.internal.write(">>","endobj")}}]),e.events.push(["putCatalog",function(){this.outline.root.children.length>0&&(this.internal.write("/Outlines",this.outline.makeRef(this.outline.root)),this.outline.createNamedDestinations&&this.internal.write("/Names "+n+" 0 R"))}]),e.events.push(["initialized",function(){var t=this;t.outline={createNamedDestinations:!1,root:{children:[]}},t.outline.add=function(r,s,o){var d={title:s,options:o,children:[]};return null==r&&(r=this.root),r.children.push(d),d},t.outline.render=function(){return this.ctx={},this.ctx.val="",this.ctx.pdf=t,this.genIds_r(this.root),this.renderRoot(this.root),this.renderItems(this.root),this.ctx.val},t.outline.genIds_r=function(r){r.id=t.internal.newObjectDeferred();for(var s=0;s<r.children.length;s++)this.genIds_r(r.children[s])},t.outline.renderRoot=function(r){this.objStart(r),this.line("/Type /Outlines"),r.children.length>0&&(this.line("/First "+this.makeRef(r.children[0])),this.line("/Last "+this.makeRef(r.children[r.children.length-1]))),this.line("/Count "+this.count_r({count:0},r)),this.objEnd()},t.outline.renderItems=function(r){for(var s=this.ctx.pdf.internal.getVerticalCoordinateString,o=0;o<r.children.length;o++){var d=r.children[o];this.objStart(d),this.line("/Title "+this.makeString(d.title)),this.line("/Parent "+this.makeRef(r)),o>0&&this.line("/Prev "+this.makeRef(r.children[o-1])),o<r.children.length-1&&this.line("/Next "+this.makeRef(r.children[o+1])),d.children.length>0&&(this.line("/First "+this.makeRef(d.children[0])),this.line("/Last "+this.makeRef(d.children[d.children.length-1])));var g=this.count=this.count_r({count:0},d);if(g>0&&this.line("/Count "+g),d.options&&d.options.pageNumber){var m=t.internal.getPageInfo(d.options.pageNumber);this.line("/Dest ["+m.objId+" 0 R /XYZ 0 "+s(0)+" 0]")}this.objEnd()}for(var _=0;_<r.children.length;_++)this.renderItems(r.children[_])},t.outline.line=function(r){this.ctx.val+=r+"\r\n"},t.outline.makeRef=function(r){return r.id+" 0 R"},t.outline.makeString=function(r){return"("+t.internal.pdfEscape(r)+")"},t.outline.objStart=function(r){this.ctx.val+="\r\n"+r.id+" 0 obj\r\n<<\r\n"},t.outline.objEnd=function(){this.ctx.val+=">> \r\nendobj\r\n"},t.outline.count_r=function(r,s){for(var o=0;o<s.children.length;o++)r.count++,this.count_r(r,s.children[o]);return r.count}}])}(bs.API),function(e){var n=[192,193,194,195,196,197,198,199];e.processJPEG=function(t,r,s,o,d,g){var m,_=this.decode.DCT_DECODE,w=null;if("string"==typeof t||this.__addimage__.isArrayBuffer(t)||this.__addimage__.isArrayBufferView(t)){switch(t=this.__addimage__.isArrayBuffer(t=d||t)?new Uint8Array(t):t,(m=function(A){for(var N,D=256*A.charCodeAt(4)+A.charCodeAt(5),ee=A.length,B={width:0,height:0,numcomponents:1},he=4;he<ee;he+=2){if(-1!==n.indexOf(A.charCodeAt((he+=D)+1))){N=256*A.charCodeAt(he+5)+A.charCodeAt(he+6),B={width:256*A.charCodeAt(he+7)+A.charCodeAt(he+8),height:N,numcomponents:A.charCodeAt(he+9)};break}D=256*A.charCodeAt(he+2)+A.charCodeAt(he+3)}return B}(t=this.__addimage__.isArrayBufferView(t)?this.__addimage__.arrayBufferToBinaryString(t):t)).numcomponents){case 1:g=this.color_spaces.DEVICE_GRAY;break;case 4:g=this.color_spaces.DEVICE_CMYK;break;case 3:g=this.color_spaces.DEVICE_RGB}w={data:t,width:m.width,height:m.height,colorSpace:g,bitsPerComponent:8,filter:_,index:r,alias:s}}return w}}(bs.API);var S2,RA,uO,hO,dO,x4=function(){var e,n,t;function r(o){var d,m,_,w,A,N,D,ee,B,he,Pe,je,Xe;for(this.data=o,this.pos=8,this.palette=[],this.imgData=[],this.transparency={},this.animation=null,this.text={},A=null;;){switch(d=this.readUInt32(),ee=function(){var Vt,Xt;for(Xt=[],Vt=0;Vt<4;++Vt)Xt.push(String.fromCharCode(this.data[this.pos++]));return Xt}.call(this).join("")){case"IHDR":this.width=this.readUInt32(),this.height=this.readUInt32(),this.bits=this.data[this.pos++],this.colorType=this.data[this.pos++],this.compressionMethod=this.data[this.pos++],this.filterMethod=this.data[this.pos++],this.interlaceMethod=this.data[this.pos++];break;case"acTL":this.animation={numFrames:this.readUInt32(),numPlays:this.readUInt32()||1/0,frames:[]};break;case"PLTE":this.palette=this.read(d);break;case"fcTL":A&&this.animation.frames.push(A),this.pos+=4,A={width:this.readUInt32(),height:this.readUInt32(),xOffset:this.readUInt32(),yOffset:this.readUInt32()},w=this.readUInt16(),_=this.readUInt16()||100,A.delay=1e3*w/_,A.disposeOp=this.data[this.pos++],A.blendOp=this.data[this.pos++],A.data=[];break;case"IDAT":case"fdAT":for("fdAT"===ee&&(this.pos+=4,d-=4),o=(null!=A?A.data:void 0)||this.imgData,Pe=0;0<=d?Pe<d:Pe>d;0<=d?++Pe:--Pe)o.push(this.data[this.pos++]);break;case"tRNS":switch(this.transparency={},this.colorType){case 3:if(m=this.palette.length/3,this.transparency.indexed=this.read(d),this.transparency.indexed.length>m)throw new Error("More transparent colors than palette size");if((B=m-this.transparency.indexed.length)>0)for(je=0;0<=B?je<B:je>B;0<=B?++je:--je)this.transparency.indexed.push(255);break;case 0:this.transparency.grayscale=this.read(d)[0];break;case 2:this.transparency.rgb=this.read(d)}break;case"tEXt":N=(he=this.read(d)).indexOf(0),D=String.fromCharCode.apply(String,he.slice(0,N)),this.text[D]=String.fromCharCode.apply(String,he.slice(N+1));break;case"IEND":return A&&this.animation.frames.push(A),this.colors=function(){switch(this.colorType){case 0:case 3:case 4:return 1;case 2:case 6:return 3}}.call(this),this.hasAlphaChannel=4===(Xe=this.colorType)||6===Xe,this.pixelBitlength=this.bits*(this.colors+(this.hasAlphaChannel?1:0)),this.colorSpace=function(){switch(this.colors){case 1:return"DeviceGray";case 3:return"DeviceRGB"}}.call(this),void(this.imgData=new Uint8Array(this.imgData));default:this.pos+=d}if(this.pos+=4,this.pos>this.data.length)throw new Error("Incomplete or corrupt PNG file")}}r.prototype.read=function(o){var d,g;for(g=[],d=0;0<=o?d<o:d>o;0<=o?++d:--d)g.push(this.data[this.pos++]);return g},r.prototype.readUInt32=function(){return this.data[this.pos++]<<24|this.data[this.pos++]<<16|this.data[this.pos++]<<8|this.data[this.pos++]},r.prototype.readUInt16=function(){return this.data[this.pos++]<<8|this.data[this.pos++]},r.prototype.decodePixels=function(o){var d=this.pixelBitlength/8,g=new Uint8Array(this.width*this.height*d),m=0,_=this;if(null==o&&(o=this.imgData),0===o.length)return new Uint8Array(0);function w(A,N,D,ee){var B,he,Pe,je,Xe,Vt,Xt,bn,St,Jt,gn,vt,st,rn,tn,Fn,Wn,Kn,Zn,zn,nr=Math.ceil((_.width-A)/D),Qn=Math.ceil((_.height-N)/ee),Ie=_.width==nr&&_.height==Qn;for(st=d*nr,gn=Ie?g:new Uint8Array(st*Qn),Vt=o.length,vt=0,he=0;vt<Qn&&m<Vt;){switch(o[m++]){case 0:for(je=Fn=0;Fn<st;je=Fn+=1)gn[he++]=o[m++];break;case 1:for(je=Wn=0;Wn<st;je=Wn+=1)B=o[m++],Xe=je<d?0:gn[he-d],gn[he++]=(B+Xe)%256;break;case 2:for(je=Kn=0;Kn<st;je=Kn+=1)B=o[m++],Pe=(je-je%d)/d,gn[he++]=((rn=vt&&gn[(vt-1)*st+Pe*d+je%d])+B)%256;break;case 3:for(je=Zn=0;Zn<st;je=Zn+=1)B=o[m++],Pe=(je-je%d)/d,Xe=je<d?0:gn[he-d],rn=vt&&gn[(vt-1)*st+Pe*d+je%d],gn[he++]=(B+Math.floor((Xe+rn)/2))%256;break;case 4:for(je=zn=0;zn<st;je=zn+=1)B=o[m++],Pe=(je-je%d)/d,0===vt?rn=tn=0:(rn=gn[(vt-1)*st+Pe*d+je%d],tn=Pe&&gn[(vt-1)*st+(Pe-1)*d+je%d]),Xt=(Xe=je<d?0:gn[he-d])+rn-tn,bn=Math.abs(Xt-Xe),St=Math.abs(Xt-rn),Jt=Math.abs(Xt-tn),gn[he++]=(B+(bn<=St&&bn<=Jt?Xe:St<=Jt?rn:tn))%256;break;default:throw new Error("Invalid filter algorithm: "+o[m-1])}if(!Ie){var bt=((N+vt*ee)*_.width+A)*d,ut=vt*st;for(je=0;je<nr;je+=1){for(var _t=0;_t<d;_t+=1)g[bt++]=gn[ut++];bt+=(D-1)*d}}vt++}}return o=TA(o),1==_.interlaceMethod?(w(0,0,8,8),w(4,0,8,8),w(0,4,4,8),w(2,0,4,4),w(0,2,2,4),w(1,0,2,2),w(0,1,1,2)):w(0,0,1,1),g},r.prototype.decodePalette=function(){var o,d,g,m,_,w,A,N,D;for(g=this.palette,w=this.transparency.indexed||[],_=new Uint8Array((w.length||0)+g.length),m=0,o=0,d=A=0,N=g.length;A<N;d=A+=3)_[m++]=g[d],_[m++]=g[d+1],_[m++]=g[d+2],_[m++]=null!=(D=w[o++])?D:255;return _},r.prototype.copyToImageData=function(o,d){var g,m,_,w,A,N,D,ee,B,he,Pe;if(m=this.colors,B=null,g=this.hasAlphaChannel,this.palette.length&&(B=null!=(Pe=this._decodedPalette)?Pe:this._decodedPalette=this.decodePalette(),m=4,g=!0),ee=(_=o.data||o).length,A=B||d,w=N=0,1===m)for(;w<ee;)D=B?4*d[w/4]:N,he=A[D++],_[w++]=he,_[w++]=he,_[w++]=he,_[w++]=g?A[D++]:255,N=D;else for(;w<ee;)D=B?4*d[w/4]:N,_[w++]=A[D++],_[w++]=A[D++],_[w++]=A[D++],_[w++]=g?A[D++]:255,N=D},r.prototype.decode=function(){var o;return o=new Uint8Array(this.width*this.height*4),this.copyToImageData(o,this.decodePixels()),o};var s=function(){if("[object Window]"===Object.prototype.toString.call(As)){try{n=As.document.createElement("canvas"),t=n.getContext("2d")}catch(o){return!1}return!0}return!1};return s(),e=function(o){var d;if(!0===s())return t.width=o.width,t.height=o.height,t.clearRect(0,0,o.width,o.height),t.putImageData(o,0,0),(d=new Image).src=n.toDataURL(),d;throw new Error("This method requires a Browser with Canvas-capability.")},r.prototype.decodeFrames=function(o){var d,g,m,_,w,A,N,D;if(this.animation){for(D=[],g=w=0,A=(N=this.animation.frames).length;w<A;g=++w)m=o.createImageData((d=N[g]).width,d.height),_=this.decodePixels(new Uint8Array(d.data)),this.copyToImageData(m,_),d.imageData=m,D.push(d.image=e(m));return D}},r.prototype.renderFrame=function(o,d){var g,m,_;return g=(m=this.animation.frames)[d],_=m[d-1],0===d&&o.clearRect(0,0,this.width,this.height),1===(null!=_?_.disposeOp:void 0)?o.clearRect(_.xOffset,_.yOffset,_.width,_.height):2===(null!=_?_.disposeOp:void 0)&&o.putImageData(_.imageData,_.xOffset,_.yOffset),0===g.blendOp&&o.clearRect(g.xOffset,g.yOffset,g.width,g.height),o.drawImage(g.image,g.xOffset,g.yOffset)},r.prototype.animate=function(o){var d,g,m,_,w,A,N=this;return g=0,_=(A=this.animation).numFrames,m=A.frames,w=A.numPlays,(d=function(){var D,ee;if(D=g++%_,ee=m[D],N.renderFrame(o,D),_>1&&g/_<w)return N.animation._timeout=setTimeout(d,ee.delay)})()},r.prototype.stopAnimation=function(){var o;return clearTimeout(null!=(o=this.animation)?o._timeout:void 0)},r.prototype.render=function(o){var d,g;return o._png&&o._png.stopAnimation(),o._png=this,o.width=this.width,o.height=this.height,d=o.getContext("2d"),this.animation?(this.decodeFrames(d),this.animate(d)):(g=d.createImageData(this.width,this.height),this.copyToImageData(g,this.decodePixels()),d.putImageData(g,0,0))},r}();function w4(e){var n=0;if(71!==e[n++]||73!==e[n++]||70!==e[n++]||56!==e[n++]||56!=(e[n++]+1&253)||97!==e[n++])throw new Error("Invalid GIF 87a/89a header.");var t=e[n++]|e[n++]<<8,r=e[n++]|e[n++]<<8,s=e[n++],d=1<<1+(7&s);n++,n++;var g=null,m=null;s>>7&&(g=n,m=d,n+=3*d);var _=!0,w=[],A=0,N=null,D=0,ee=null;for(this.width=t,this.height=r;_&&n<e.length;)switch(e[n++]){case 33:switch(e[n++]){case 255:if(11!==e[n]||78==e[n+1]&&69==e[n+2]&&84==e[n+3]&&83==e[n+4]&&67==e[n+5]&&65==e[n+6]&&80==e[n+7]&&69==e[n+8]&&50==e[n+9]&&46==e[n+10]&&48==e[n+11]&&3==e[n+12]&&1==e[n+13]&&0==e[n+16])n+=14,ee=e[n++]|e[n++]<<8,n++;else for(n+=12;;){if(!((vt=e[n++])>=0))throw Error("Invalid block size");if(0===vt)break;n+=vt}break;case 249:if(4!==e[n++]||0!==e[n+4])throw new Error("Invalid graphics extension block.");var B=e[n++];A=e[n++]|e[n++]<<8,N=e[n++],0==(1&B)&&(N=null),D=B>>2&7,n++;break;case 254:for(;;){if(!((vt=e[n++])>=0))throw Error("Invalid block size");if(0===vt)break;n+=vt}break;default:throw new Error("Unknown graphic control label: 0x"+e[n-1].toString(16))}break;case 44:var he=e[n++]|e[n++]<<8,Pe=e[n++]|e[n++]<<8,je=e[n++]|e[n++]<<8,Xe=e[n++]|e[n++]<<8,Vt=e[n++],Xt=Vt>>6&1,bn=1<<1+(7&Vt),At=g,St=m,Jt=!1;Vt>>7&&(Jt=!0,At=n,St=bn,n+=3*bn);var gn=n;for(n++;;){var vt;if(!((vt=e[n++])>=0))throw Error("Invalid block size");if(0===vt)break;n+=vt}w.push({x:he,y:Pe,width:je,height:Xe,has_local_palette:Jt,palette_offset:At,palette_size:St,data_offset:gn,data_length:n-gn,transparent_index:N,interlaced:!!Xt,delay:A,disposal:D});break;case 59:_=!1;break;default:throw new Error("Unknown gif block: 0x"+e[n-1].toString(16))}this.numFrames=function(){return w.length},this.loopCount=function(){return ee},this.frameInfo=function(st){if(st<0||st>=w.length)throw new Error("Frame index out of range.");return w[st]},this.decodeAndBlitFrameBGRA=function(st,rn){var tn=this.frameInfo(st),Fn=tn.width*tn.height,Wn=new Uint8Array(Fn);fO(e,tn.data_offset,Wn,Fn);var Kn=tn.palette_offset,Zn=tn.transparent_index;null===Zn&&(Zn=256);var zn=tn.width,nr=t-zn,Qn=zn,Ie=4*(tn.y*t+tn.x),bt=4*((tn.y+tn.height)*t+tn.x),ut=Ie,_t=4*nr;!0===tn.interlaced&&(_t+=4*t*7);for(var Kt=8,In=0,An=Wn.length;In<An;++In){var Pn=Wn[In];if(0===Qn&&(Qn=zn,(ut+=_t)>=bt&&(_t=4*nr+4*t*(Kt-1),ut=Ie+(zn+nr)*(Kt<<1),Kt>>=1)),Pn===Zn)ut+=4;else{var qn=e[Kn+3*Pn],Rr=e[Kn+3*Pn+1];rn[ut++]=e[Kn+3*Pn+2],rn[ut++]=Rr,rn[ut++]=qn,rn[ut++]=255}--Qn}},this.decodeAndBlitFrameRGBA=function(st,rn){var tn=this.frameInfo(st),Fn=tn.width*tn.height,Wn=new Uint8Array(Fn);fO(e,tn.data_offset,Wn,Fn);var Kn=tn.palette_offset,Zn=tn.transparent_index;null===Zn&&(Zn=256);var zn=tn.width,nr=t-zn,Qn=zn,Ie=4*(tn.y*t+tn.x),bt=4*((tn.y+tn.height)*t+tn.x),ut=Ie,_t=4*nr;!0===tn.interlaced&&(_t+=4*t*7);for(var Kt=8,In=0,An=Wn.length;In<An;++In){var Pn=Wn[In];if(0===Qn&&(Qn=zn,(ut+=_t)>=bt&&(_t=4*nr+4*t*(Kt-1),ut=Ie+(zn+nr)*(Kt<<1),Kt>>=1)),Pn===Zn)ut+=4;else{var Rr=e[Kn+3*Pn+1],Gt=e[Kn+3*Pn+2];rn[ut++]=e[Kn+3*Pn],rn[ut++]=Rr,rn[ut++]=Gt,rn[ut++]=255}--Qn}}}function fO(e,n,t,r){for(var s=e[n++],o=1<<s,d=o+1,g=d+1,m=s+1,_=(1<<m)-1,w=0,A=0,N=0,D=e[n++],ee=new Int32Array(4096),B=null;;){for(;w<16&&0!==D;)A|=e[n++]<<w,w+=8,1===D?D=e[n++]:--D;if(w<m)break;var he=A&_;if(A>>=m,w-=m,he!==o){if(he===d)break;for(var Pe=he<g?he:B,je=0,Xe=Pe;Xe>o;)Xe=ee[Xe]>>8,++je;var Vt=Xe;if(N+je+(Pe!==he?1:0)>r)return void dl.log("Warning, gif stream longer than expected.");t[N++]=Vt;var Xt=N+=je;for(Pe!==he&&(t[N++]=Vt),Xe=Pe;je--;)t[--Xt]=255&(Xe=ee[Xe]),Xe>>=8;null!==B&&g<4096&&(ee[g++]=B<<8|Vt,g>=_+1&&m<12&&(++m,_=_<<1|1)),B=he}else g=d+1,_=(1<<(m=s+1))-1,B=null}return N!==r&&dl.log("Warning, gif stream shorter than expected."),t}function X5(e){var n,t,r,s,o,d=Math.floor,g=new Array(64),m=new Array(64),_=new Array(64),w=new Array(64),A=new Array(65535),N=new Array(65535),D=new Array(64),ee=new Array(64),B=[],he=0,Pe=7,je=new Array(64),Xe=new Array(64),Vt=new Array(64),Xt=new Array(256),bn=new Array(2048),At=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63],St=[0,0,1,5,1,1,1,1,1,1,0,0,0,0,0,0,0],Jt=[0,1,2,3,4,5,6,7,8,9,10,11],gn=[0,0,2,1,3,3,2,4,3,5,5,4,4,0,0,1,125],vt=[1,2,3,0,4,17,5,18,33,49,65,6,19,81,97,7,34,113,20,50,129,145,161,8,35,66,177,193,21,82,209,240,36,51,98,114,130,9,10,22,23,24,25,26,37,38,39,40,41,42,52,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,225,226,227,228,229,230,231,232,233,234,241,242,243,244,245,246,247,248,249,250],st=[0,0,3,1,1,1,1,1,1,1,1,1,0,0,0,0,0],rn=[0,1,2,3,4,5,6,7,8,9,10,11],tn=[0,0,2,1,2,4,4,3,4,7,5,4,4,0,1,2,119],Fn=[0,1,2,3,17,4,5,33,49,6,18,65,81,7,97,113,19,34,50,129,8,20,66,145,161,177,193,9,35,51,82,240,21,98,114,209,10,22,36,52,225,37,241,23,24,25,26,38,39,40,41,42,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,130,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,226,227,228,229,230,231,232,233,234,242,243,244,245,246,247,248,249,250];function Wn(Ie,bt){for(var ut=0,_t=0,Kt=new Array,In=1;In<=16;In++){for(var An=1;An<=Ie[In];An++)Kt[bt[_t]]=[],Kt[bt[_t]][0]=ut,Kt[bt[_t]][1]=In,_t++,ut++;ut*=2}return Kt}function Kn(Ie){for(var bt=Ie[0],ut=Ie[1]-1;ut>=0;)bt&1<<ut&&(he|=1<<Pe),ut--,--Pe<0&&(255==he?(Zn(255),Zn(0)):Zn(he),Pe=7,he=0)}function Zn(Ie){B.push(Ie)}function zn(Ie){Zn(Ie>>8&255),Zn(255&Ie)}function nr(Ie,bt,ut,_t,Kt){for(var In,An=Kt[0],Pn=Kt[240],qn=function(ei,gi){var Ci,Ii,Xi,ls,ws,Fs,bo,eo,cs,Mi,di=0;for(cs=0;cs<8;++cs){var Ba=(Ci=ei[di])+(eo=ei[di+7]),vs=Ci-eo,fu=(Ii=ei[di+1])+(bo=ei[di+6]),Ta=Ii-bo,Pl=(Xi=ei[di+2])+(Fs=ei[di+5]),wp=Xi-Fs,Go=(ls=ei[di+3])+(ws=ei[di+4]),Dg=ls-ws,Vl=Ba+Go,Pf=Ba-Go,p0=fu+Pl,pl=fu-Pl;ei[di]=Vl+p0,ei[di+4]=Vl-p0;var Hs=.707106781*(pl+Pf);ei[di+2]=Pf+Hs,ei[di+6]=Pf-Hs;var oa=.382683433*((Vl=Dg+wp)-(pl=Ta+vs)),Hm=.5411961*Vl+oa,pu=1.306562965*pl+oa,bp=.707106781*(p0=wp+Ta),Ep=vs+bp,ys=vs-bp;ei[di+5]=ys+Hm,ei[di+3]=ys-Hm,ei[di+1]=Ep+pu,ei[di+7]=Ep-pu,di+=8}for(di=0,cs=0;cs<8;++cs){var Nf=(Ci=ei[di])+(eo=ei[di+56]),$d=Ci-eo,Oh=(Ii=ei[di+8])+(bo=ei[di+48]),$c=Ii-bo,Fc=(Xi=ei[di+16])+(Fs=ei[di+40]),Pt=Xi-Fs,cn=(ls=ei[di+24])+(ws=ei[di+32]),qt=ls-ws,Yt=Nf+cn,an=Nf-cn,un=Oh+Fc,sr=Oh-Fc;ei[di]=Yt+un,ei[di+32]=Yt-un;var Cr=.707106781*(sr+an);ei[di+16]=an+Cr,ei[di+48]=an-Cr;var lr=.382683433*((Yt=qt+Pt)-(sr=$c+$d)),pr=.5411961*Yt+lr,_r=1.306562965*sr+lr,si=.707106781*(un=Pt+$c),mi=$d+si,Ui=$d-si;ei[di+40]=Ui+pr,ei[di+24]=Ui-pr,ei[di+8]=mi+_r,ei[di+56]=mi-_r,di++}for(cs=0;cs<64;++cs)D[cs]=(Mi=ei[cs]*gi[cs])>0?Mi+.5|0:Mi-.5|0;return D}(Ie,bt),Rr=0;Rr<64;++Rr)ee[At[Rr]]=qn[Rr];var Gt=ee[0]-ut;ut=ee[0],0==Gt?Kn(_t[0]):(Kn(_t[N[In=32767+Gt]]),Kn(A[In]));for(var oi=63;oi>0&&0==ee[oi];)oi--;if(0==oi)return Kn(An),ut;for(var _i,gr=1;gr<=oi;){for(var on=gr;0==ee[gr]&&gr<=oi;)++gr;var qr=gr-on;if(qr>=16){_i=qr>>4;for(var Ti=1;Ti<=_i;++Ti)Kn(Pn);qr&=15}Kn(Kt[(qr<<4)+N[In=32767+ee[gr]]]),Kn(A[In]),gr++}return 63!=oi&&Kn(An),ut}function Qn(Ie){Ie=Math.min(Math.max(Ie,1),100),o!=Ie&&(function(bt){for(var ut=[16,11,10,16,24,40,51,61,12,12,14,19,26,58,60,55,14,13,16,24,40,57,69,56,14,17,22,29,51,87,80,62,18,22,37,56,68,109,103,77,24,35,55,64,81,104,113,92,49,64,78,87,103,121,120,101,72,92,95,98,112,100,103,99],_t=0;_t<64;_t++){var Kt=d((ut[_t]*bt+50)/100);Kt=Math.min(Math.max(Kt,1),255),g[At[_t]]=Kt}for(var In=[17,18,24,47,99,99,99,99,18,21,26,66,99,99,99,99,24,26,56,99,99,99,99,99,47,66,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],An=0;An<64;An++){var Pn=d((In[An]*bt+50)/100);Pn=Math.min(Math.max(Pn,1),255),m[At[An]]=Pn}for(var qn=[1,1.387039845,1.306562965,1.175875602,1,.785694958,.5411961,.275899379],Rr=0,Gt=0;Gt<8;Gt++)for(var oi=0;oi<8;oi++)_[Rr]=1/(g[At[Rr]]*qn[Gt]*qn[oi]*8),w[Rr]=1/(m[At[Rr]]*qn[Gt]*qn[oi]*8),Rr++}(Ie<50?Math.floor(5e3/Ie):Math.floor(200-2*Ie)),o=Ie)}this.encode=function(Ie,bt){var Ii,Xi;bt&&Qn(bt),B=new Array,he=0,Pe=7,zn(65496),zn(65504),zn(16),Zn(74),Zn(70),Zn(73),Zn(70),Zn(0),Zn(1),Zn(1),Zn(0),zn(1),zn(1),Zn(0),Zn(0),function(){zn(65499),zn(132),Zn(0);for(var Ii=0;Ii<64;Ii++)Zn(g[Ii]);Zn(1);for(var Xi=0;Xi<64;Xi++)Zn(m[Xi])}(),Ii=Ie.width,Xi=Ie.height,zn(65472),zn(17),Zn(8),zn(Xi),zn(Ii),Zn(3),Zn(1),Zn(17),Zn(0),Zn(2),Zn(17),Zn(1),Zn(3),Zn(17),Zn(1),function(){zn(65476),zn(418),Zn(0);for(var Ii=0;Ii<16;Ii++)Zn(St[Ii+1]);for(var Xi=0;Xi<=11;Xi++)Zn(Jt[Xi]);Zn(16);for(var ls=0;ls<16;ls++)Zn(gn[ls+1]);for(var ws=0;ws<=161;ws++)Zn(vt[ws]);Zn(1);for(var Fs=0;Fs<16;Fs++)Zn(st[Fs+1]);for(var bo=0;bo<=11;bo++)Zn(rn[bo]);Zn(17);for(var eo=0;eo<16;eo++)Zn(tn[eo+1]);for(var cs=0;cs<=161;cs++)Zn(Fn[cs])}(),zn(65498),zn(12),Zn(3),Zn(1),Zn(0),Zn(2),Zn(17),Zn(3),Zn(17),Zn(0),Zn(63),Zn(0);var ut=0,_t=0,Kt=0;he=0,Pe=7,this.encode.displayName="_encode_";for(var In,An,Pn,qn,Rr,Gt,oi,_i,gr,on=Ie.data,Ti=Ie.height,ei=4*Ie.width,gi=0;gi<Ti;){for(In=0;In<ei;){for(Rr=ei*gi+In,oi=-1,_i=0,gr=0;gr<64;gr++)Gt=Rr+(_i=gr>>3)*ei+(oi=4*(7&gr)),gi+_i>=Ti&&(Gt-=ei*(gi+1+_i-Ti)),In+oi>=ei&&(Gt-=In+oi-ei+4),An=on[Gt++],Pn=on[Gt++],qn=on[Gt++],je[gr]=(bn[An]+bn[Pn+256>>0]+bn[qn+512>>0]>>16)-128,Xe[gr]=(bn[An+768>>0]+bn[Pn+1024>>0]+bn[qn+1280>>0]>>16)-128,Vt[gr]=(bn[An+1280>>0]+bn[Pn+1536>>0]+bn[qn+1792>>0]>>16)-128;ut=nr(je,_,ut,n,r),_t=nr(Xe,w,_t,t,s),Kt=nr(Vt,w,Kt,t,s),In+=32}gi+=8}if(Pe>=0){var Ci=[];Ci[1]=Pe+1,Ci[0]=(1<<Pe+1)-1,Kn(Ci)}return zn(65497),new Uint8Array(B)},e=e||50,function(){for(var Ie=String.fromCharCode,bt=0;bt<256;bt++)Xt[bt]=Ie(bt)}(),n=Wn(St,Jt),t=Wn(st,rn),r=Wn(gn,vt),s=Wn(tn,Fn),function(){for(var Ie=1,bt=2,ut=1;ut<=15;ut++){for(var _t=Ie;_t<bt;_t++)N[32767+_t]=ut,A[32767+_t]=[],A[32767+_t][1]=ut,A[32767+_t][0]=_t;for(var Kt=-(bt-1);Kt<=-Ie;Kt++)N[32767+Kt]=ut,A[32767+Kt]=[],A[32767+Kt][1]=ut,A[32767+Kt][0]=bt-1+Kt;Ie<<=1,bt<<=1}}(),function(){for(var Ie=0;Ie<256;Ie++)bn[Ie]=19595*Ie,bn[Ie+256>>0]=38470*Ie,bn[Ie+512>>0]=7471*Ie+32768,bn[Ie+768>>0]=-11059*Ie,bn[Ie+1024>>0]=-21709*Ie,bn[Ie+1280>>0]=32768*Ie+8421375,bn[Ie+1536>>0]=-27439*Ie,bn[Ie+1792>>0]=-5329*Ie}(),Qn(e)}function l0(e,n){if(this.pos=0,this.buffer=e,this.datav=new DataView(e.buffer),this.is_with_alpha=!!n,this.bottom_up=!0,this.flag=String.fromCharCode(this.buffer[0])+String.fromCharCode(this.buffer[1]),this.pos+=2,-1===["BM","BA","CI","CP","IC","PT"].indexOf(this.flag))throw new Error("Invalid BMP File");this.parseHeader(),this.parseBGR()}function pO(e){function n(St){if(!St)throw Error("assert :P")}function t(St,Jt,gn){for(var vt=0;4>vt;vt++)if(St[Jt+vt]!=gn.charCodeAt(vt))return!0;return!1}function r(St,Jt,gn,vt,st){for(var rn=0;rn<st;rn++)St[Jt+rn]=gn[vt+rn]}function s(St,Jt,gn,vt){for(var st=0;st<vt;st++)St[Jt+st]=gn}function o(St){return new Int32Array(St)}function d(St,Jt){for(var gn=[],vt=0;vt<St;vt++)gn.push(new Jt);return gn}function g(St,Jt){var gn=[];return function vt(st,rn,tn){for(var Fn=tn[rn],Wn=0;Wn<Fn&&(st.push(tn.length>rn+1?[]:new Jt),!(tn.length<rn+1));Wn++)vt(st[Wn],rn+1,tn)}(gn,0,St),gn}var m=function(){var St=this;function Jt(E,O){for(var ce=1<<O-1>>>0;E&ce;)ce>>>=1;return ce?(E&ce-1)+ce:E}function gn(E,O,ce,Ve,yt){n(!(Ve%ce));do{E[O+(Ve-=ce)]=yt}while(0<Ve)}function vt(E,O,ce,Ve,yt){if(n(2328>=yt),512>=yt)var Dt=o(512);else if(null==(Dt=o(yt)))return 0;return function(Ot,Bt,Ht,sn,Un,cr){var ur,Jn,Xr=Bt,Sr=1<<Ht,Bn=o(16),Gn=o(16);for(n(0!=Un),n(null!=sn),n(null!=Ot),n(0<Ht),Jn=0;Jn<Un;++Jn){if(15<sn[Jn])return 0;++Bn[sn[Jn]]}if(Bn[0]==Un)return 0;for(Gn[1]=0,ur=1;15>ur;++ur){if(Bn[ur]>1<<ur)return 0;Gn[ur+1]=Gn[ur]+Bn[ur]}for(Jn=0;Jn<Un;++Jn)ur=sn[Jn],0<sn[Jn]&&(cr[Gn[ur]++]=Jn);if(1==Gn[15])return(sn=new st).g=0,sn.value=cr[0],gn(Ot,Xr,1,Sr,sn),Sr;var $r,ti=-1,Kr=Sr-1,zi=0,Di=1,_s=1,Oi=1<<Ht;for(Jn=0,ur=1,Un=2;ur<=Ht;++ur,Un<<=1){if(Di+=_s<<=1,0>(_s-=Bn[ur]))return 0;for(;0<Bn[ur];--Bn[ur])(sn=new st).g=ur,sn.value=cr[Jn++],gn(Ot,Xr+zi,Un,Oi,sn),zi=Jt(zi,ur)}for(ur=Ht+1,Un=2;15>=ur;++ur,Un<<=1){if(Di+=_s<<=1,0>(_s-=Bn[ur]))return 0;for(;0<Bn[ur];--Bn[ur]){if(sn=new st,(zi&Kr)!=ti){for(Xr+=Oi,$r=1<<(ti=ur)-Ht;15>ti&&!(0>=($r-=Bn[ti]));)++ti,$r<<=1;Sr+=Oi=1<<($r=ti-Ht),Ot[Bt+(ti=zi&Kr)].g=$r+Ht,Ot[Bt+ti].value=Xr-Bt-ti}sn.g=ur-Ht,sn.value=cr[Jn++],gn(Ot,Xr+(zi>>Ht),Un,Oi,sn),zi=Jt(zi,ur)}}return Di!=2*Gn[15]-1?0:Sr}(E,O,ce,Ve,yt,Dt)}function st(){this.value=this.g=0}function rn(){this.value=this.g=0}function tn(){this.G=d(5,st),this.H=o(5),this.jc=this.Qb=this.qb=this.nd=0,this.pd=d(Kd,rn)}function Fn(E,O,ce,Ve){n(null!=E),n(null!=O),n(2147483648>Ve),E.Ca=254,E.I=0,E.b=-8,E.Ka=0,E.oa=O,E.pa=ce,E.Jd=O,E.Yc=ce+Ve,E.Zc=4<=Ve?ce+Ve-4+1:ce,In(E)}function Wn(E,O){for(var ce=0;0<O--;)ce|=Pn(E,128)<<O;return ce}function Kn(E,O){var ce=Wn(E,O);return An(E)?-ce:ce}function Zn(E,O,ce,Ve){var yt,Dt=0;for(n(null!=E),n(null!=O),n(4294967288>Ve),E.Sb=Ve,E.Ra=0,E.u=0,E.h=0,4<Ve&&(Ve=4),yt=0;yt<Ve;++yt)Dt+=O[ce+yt]<<8*yt;E.Ra=Dt,E.bb=Ve,E.oa=O,E.pa=ce}function zn(E){for(;8<=E.u&&E.bb<E.Sb;)E.Ra>>>=8,E.Ra+=E.oa[E.pa+E.bb]<<J2-8>>>0,++E.bb,E.u-=8;ut(E)&&(E.h=1,E.u=0)}function nr(E,O){if(n(0<=O),!E.h&&O<=X2){var ce=bt(E)&K2[O];return E.u+=O,zn(E),ce}return E.h=1,E.u=0}function Qn(){this.b=this.Ca=this.I=0,this.oa=[],this.pa=0,this.Jd=[],this.Yc=0,this.Zc=[],this.Ka=0}function Ie(){this.Ra=0,this.oa=[],this.h=this.u=this.bb=this.Sb=this.pa=0}function bt(E){return E.Ra>>>(E.u&J2-1)>>>0}function ut(E){return n(E.bb<=E.Sb),E.h||E.bb==E.Sb&&E.u>J2}function _t(E,O){E.u=O,E.h=ut(E)}function Kt(E){E.u>=dC&&(n(E.u>=dC),zn(E))}function In(E){n(null!=E&&null!=E.oa),E.pa<E.Zc?(E.I=(E.oa[E.pa++]|E.I<<8)>>>0,E.b+=8):(n(null!=E&&null!=E.oa),E.pa<E.Yc?(E.b+=8,E.I=E.oa[E.pa++]|E.I<<8):E.Ka?E.b=0:(E.I<<=8,E.b+=8,E.Ka=1))}function An(E){return Wn(E,1)}function Pn(E,O){var ce=E.Ca;0>E.b&&In(E);var Ve=E.b,yt=ce*O>>>8,Dt=(E.I>>>Ve>yt)+0;for(Dt?(ce-=yt,E.I-=yt+1<<Ve>>>0):ce=yt+1,Ve=ce,yt=0;256<=Ve;)yt+=8,Ve>>=8;return E.b-=Ve=7^yt+Xd[Ve],E.Ca=(ce<<Ve)-1,Dt}function qn(E,O,ce){E[O+0]=ce>>24&255,E[O+1]=ce>>16&255,E[O+2]=ce>>8&255,E[O+3]=ce>>0&255}function Rr(E,O){return E[O+0]<<0|E[O+1]<<8}function Gt(E,O){return Rr(E,O)|E[O+2]<<16}function oi(E,O){return Rr(E,O)|Rr(E,O+2)<<16}function _i(E,O){var ce=1<<O;return n(null!=E),n(0<O),E.X=o(ce),null==E.X?0:(E.Mb=32-O,E.Xa=O,1)}function gr(E,O){n(null!=E),n(null!=O),n(E.Xa==O.Xa),r(O.X,0,E.X,0,1<<O.Xa)}function on(){this.X=[],this.Xa=this.Mb=0}function qr(E,O,ce,Ve){n(null!=ce),n(null!=Ve);var yt=ce[0],Dt=Ve[0];return 0==yt&&(yt=(E*Dt+O/2)/O),0==Dt&&(Dt=(O*yt+E/2)/E),0>=yt||0>=Dt?0:(ce[0]=yt,Ve[0]=Dt,1)}function Ti(E,O){return E+(1<<O)-1>>>O}function ei(E,O){return((4278255360&E)+(4278255360&O)>>>0&4278255360)+((16711935&E)+(16711935&O)>>>0&16711935)>>>0}function gi(E,O){St[O]=function(ce,Ve,yt,Dt,Ot,Bt,Ht){var sn;for(sn=0;sn<Ot;++sn){var Un=St[E](Bt[Ht+sn-1],yt,Dt+sn);Bt[Ht+sn]=ei(ce[Ve+sn],Un)}}}function Ci(){this.ud=this.hd=this.jd=0}function Ii(E,O){return((4278124286&(E^O))>>>1)+(E&O)>>>0}function Xi(E){return 0<=E&&256>E?E:0>E?0:255<E?255:void 0}function ls(E,O){return Xi(E+(E-O+.5>>1))}function ws(E,O,ce){return Math.abs(O-ce)-Math.abs(E-ce)}function Fs(E,O,ce,Ve,yt,Dt,Ot){for(Ve=Dt[Ot-1],ce=0;ce<yt;++ce)Dt[Ot+ce]=Ve=ei(E[O+ce],Ve)}function bo(E,O,ce,Ve,yt){var Dt;for(Dt=0;Dt<ce;++Dt){var Ot=E[O+Dt],Bt=Ot>>8&255,Ht=16711935&(Ht=(Ht=16711935&Ot)+((Bt<<16)+Bt));Ve[yt+Dt]=(4278255360&Ot)+Ht>>>0}}function eo(E,O){O.jd=E>>0&255,O.hd=E>>8&255,O.ud=E>>16&255}function cs(E,O,ce,Ve,yt,Dt){var Ot;for(Ot=0;Ot<Ve;++Ot){var Bt=O[ce+Ot],Ht=Bt>>>8,sn=Bt,Un=255&(Un=(Un=Bt>>>16)+((E.jd<<24>>24)*(Ht<<24>>24)>>>5));sn=255&(sn=(sn+=(E.hd<<24>>24)*(Ht<<24>>24)>>>5)+((E.ud<<24>>24)*(Un<<24>>24)>>>5)),yt[Dt+Ot]=(4278255360&Bt)+(Un<<16)+sn}}function Mi(E,O,ce,Ve,yt){St[O]=function(Dt,Ot,Bt,Ht,sn,Un,cr,ur,Jn){for(Ht=cr;Ht<ur;++Ht)for(cr=0;cr<Jn;++cr)sn[Un++]=yt(Bt[Ve(Dt[Ot++])])},St[E]=function(Dt,Ot,Bt,Ht,sn,Un,cr){var ur=8>>Dt.b,Jn=Dt.Ea,Xr=Dt.K[0],Sr=Dt.w;if(8>ur)for(Dt=(1<<Dt.b)-1,Sr=(1<<ur)-1;Ot<Bt;++Ot){var Bn,Gn=0;for(Bn=0;Bn<Jn;++Bn)Bn&Dt||(Gn=Ve(Ht[sn++])),Un[cr++]=yt(Xr[Gn&Sr]),Gn>>=ur}else St["VP8LMapColor"+ce](Ht,sn,Xr,Sr,Un,cr,Ot,Bt,Jn)}}function di(E,O,ce,Ve,yt){for(ce=O+ce;O<ce;){var Dt=E[O++];Ve[yt++]=Dt>>16&255,Ve[yt++]=Dt>>8&255,Ve[yt++]=Dt>>0&255}}function Ba(E,O,ce,Ve,yt){for(ce=O+ce;O<ce;){var Dt=E[O++];Ve[yt++]=Dt>>16&255,Ve[yt++]=Dt>>8&255,Ve[yt++]=Dt>>0&255,Ve[yt++]=Dt>>24&255}}function vs(E,O,ce,Ve,yt){for(ce=O+ce;O<ce;){var Dt=(Ot=E[O++])>>16&240|Ot>>12&15,Ot=Ot>>0&240|Ot>>28&15;Ve[yt++]=Dt,Ve[yt++]=Ot}}function fu(E,O,ce,Ve,yt){for(ce=O+ce;O<ce;){var Dt=(Ot=E[O++])>>16&248|Ot>>13&7,Ot=Ot>>5&224|Ot>>3&31;Ve[yt++]=Dt,Ve[yt++]=Ot}}function Ta(E,O,ce,Ve,yt){for(ce=O+ce;O<ce;){var Dt=E[O++];Ve[yt++]=Dt>>0&255,Ve[yt++]=Dt>>8&255,Ve[yt++]=Dt>>16&255}}function Pl(E,O,ce,Ve,yt,Dt){if(0==Dt)for(ce=O+ce;O<ce;)qn(Ve,((Dt=E[O++])[0]>>24|Dt[1]>>8&65280|Dt[2]<<8&16711680|Dt[3]<<24)>>>0),yt+=32;else r(Ve,yt,E,O,ce)}function wp(E,O){St[O][0]=St[E+"0"],St[O][1]=St[E+"1"],St[O][2]=St[E+"2"],St[O][3]=St[E+"3"],St[O][4]=St[E+"4"],St[O][5]=St[E+"5"],St[O][6]=St[E+"6"],St[O][7]=St[E+"7"],St[O][8]=St[E+"8"],St[O][9]=St[E+"9"],St[O][10]=St[E+"10"],St[O][11]=St[E+"11"],St[O][12]=St[E+"12"],St[O][13]=St[E+"13"],St[O][14]=St[E+"0"],St[O][15]=St[E+"0"]}function Go(E){return E==GN||E==ZN||E==$I||E==$N}function Dg(){this.eb=[],this.size=this.A=this.fb=0}function Vl(){this.y=[],this.f=[],this.ea=[],this.F=[],this.Tc=this.Ed=this.Cd=this.Fd=this.lb=this.Db=this.Ab=this.fa=this.J=this.W=this.N=this.O=0}function Pf(){this.Rd=this.height=this.width=this.S=0,this.f={},this.f.RGBA=new Dg,this.f.kb=new Vl,this.sd=null}function p0(){this.width=[0],this.height=[0],this.Pd=[0],this.Qd=[0],this.format=[0]}function pl(){this.Id=this.fd=this.Md=this.hb=this.ib=this.da=this.bd=this.cd=this.j=this.v=this.Da=this.Sd=this.ob=0}function Hs(E){return alert("todo:WebPSamplerProcessPlane"),E.T}function oa(E,O){var ce=E.T,Ve=O.ba.f.RGBA,yt=Ve.eb,Dt=Ve.fb+E.ka*Ve.A,Ot=Ap[O.ba.S],Bt=E.y,Ht=E.O,sn=E.f,Un=E.N,cr=E.ea,ur=E.W,Jn=O.cc,Xr=O.dc,Sr=O.Mc,Bn=O.Nc,Gn=E.ka,$r=E.ka+E.T,ti=E.U,Kr=ti+1>>1;for(0==Gn?Ot(Bt,Ht,null,null,sn,Un,cr,ur,sn,Un,cr,ur,yt,Dt,null,null,ti):(Ot(O.ec,O.fc,Bt,Ht,Jn,Xr,Sr,Bn,sn,Un,cr,ur,yt,Dt-Ve.A,yt,Dt,ti),++ce);Gn+2<$r;Gn+=2)Ot(Bt,(Ht+=2*E.fa)-E.fa,Bt,Ht,Jn=sn,Xr=Un,Sr=cr,Bn=ur,sn,Un+=E.Rc,cr,ur+=E.Rc,yt,(Dt+=2*Ve.A)-Ve.A,yt,Dt,ti);return Ht+=E.fa,E.j+$r<E.o?(r(O.ec,O.fc,Bt,Ht,ti),r(O.cc,O.dc,sn,Un,Kr),r(O.Mc,O.Nc,cr,ur,Kr),ce--):1&$r||Ot(Bt,Ht,null,null,sn,Un,cr,ur,sn,Un,cr,ur,yt,Dt+Ve.A,null,null,ti),ce}function Hm(E,O,ce){var Ve=E.F,yt=[E.J];if(null!=Ve){var Dt=E.U,Ot=O.ba.S,Bt=Ot==ZI||Ot==$I;O=O.ba.f.RGBA;var Ht=[0],sn=E.ka;Ht[0]=E.T,E.Kb&&(0==sn?--Ht[0]:(--sn,yt[0]-=E.width),E.j+E.ka+E.T==E.o&&(Ht[0]=E.o-E.j-sn));var Un=O.eb;E=HI(Ve,yt[0],E.width,Dt,Ht,Un,(sn=O.fb+sn*O.A)+(Bt?0:3),O.A),n(ce==Ht),E&&Go(Ot)&&ry(Un,sn,Bt,Dt,Ht,O.A)}return 0}function pu(E){var O=E.ma,ce=O.ba.S,Ve=11>ce,yt=ce==qI||ce==GI||ce==ZI||ce==qN||12==ce||Go(ce);if(O.memory=null,O.Ib=null,O.Jb=null,O.Nd=null,!uC(O.Oa,E,yt?11:12))return 0;if(yt&&Go(ce)&&li(),E.da)alert("todo:use_scaling");else{if(Ve){if(O.Ib=Hs,E.Kb){if(O.memory=o(E.U+2*(ce=E.U+1>>1)),null==O.memory)return 0;O.ec=O.memory,O.fc=0,O.cc=O.ec,O.dc=O.fc+E.U,O.Mc=O.cc,O.Nc=O.dc+ce,O.Ib=oa,li()}}else alert("todo:EmitYUV");yt&&(O.Jb=Hm,Ve&&ir())}if(Ve&&!ER){for(E=0;256>E;++E)_j[E]=89858*(E-128)+KI>>YI,bj[E]=-22014*(E-128)+KI,wj[E]=-45773*(E-128),xj[E]=113618*(E-128)+KI>>YI;for(E=yC;E<XN;++E)Ej[E-yC]=Of(O=76283*(E-16)+KI>>YI,255),Tj[E-yC]=Of(O+8>>4,15);ER=1}return 1}function bp(E){var O=E.ma,ce=E.U,Ve=E.T;return n(!(1&E.ka)),0>=ce||0>=Ve?0:(ce=O.Ib(E,O),null!=O.Jb&&O.Jb(E,O,ce),O.Dc+=ce,1)}function Ep(E){E.ma.memory=null}function ys(E,O,ce,Ve){return 47!=nr(E,8)?0:(O[0]=nr(E,14)+1,ce[0]=nr(E,14)+1,Ve[0]=nr(E,1),0!=nr(E,3)?0:!E.h)}function Nf(E,O){if(4>E)return E+1;var ce=E-2>>1;return(2+(1&E)<<ce)+nr(O,ce)+1}function $d(E,O){return 120<O?O-120:1<=(ce=((ce=sj[O-1])>>4)*E+(8-(15&ce)))?ce:1;var ce}function Oh(E,O,ce){var Ve=bt(ce),yt=E[O+=255&Ve].g-8;return 0<yt&&(_t(ce,ce.u+8),Ve=bt(ce),O+=E[O].value,O+=Ve&(1<<yt)-1),_t(ce,ce.u+E[O].g),E[O].value}function $c(E,O,ce){return ce.g+=E.g,ce.value+=E.value<<O>>>0,n(8>=ce.g),E.g}function Fc(E,O,ce){var Ve=E.xc;return n((O=0==Ve?0:E.vc[E.md*(ce>>Ve)+(O>>Ve)])<E.Wb),E.Ya[O]}function Pt(E,O,ce,Ve){var yt=E.ab,Dt=E.c*O,Ot=E.C;O=Ot+O;var Bt=ce,Ht=Ve;for(Ve=E.Ta,ce=E.Ua;0<yt--;){var sn=E.gc[yt],Un=Ot,cr=O,ur=Bt,Jn=Ht,Xr=(Ht=Ve,Bt=ce,sn.Ea);switch(n(Un<cr),n(cr<=sn.nc),sn.hc){case 2:VI(ur,Jn,(cr-Un)*Xr,Ht,Bt);break;case 0:var Sr=Un,Bn=cr,Gn=Ht,$r=Bt,ti=(Oi=sn).Ea;0==Sr&&(VN(ur,Jn,null,null,1,Gn,$r),Fs(ur,Jn+1,0,0,ti-1,Gn,$r+1),Jn+=ti,$r+=ti,++Sr);for(var Kr=1<<Oi.b,zi=Kr-1,Di=Ti(ti,Oi.b),_s=Oi.K,Oi=Oi.w+(Sr>>Oi.b)*Di;Sr<Bn;){var ma=_s,ja=Oi,Zo=1;for(fC(ur,Jn,Gn,$r-ti,1,Gn,$r);Zo<ti;){var Fo=(Zo&~zi)+Kr;Fo>ti&&(Fo=ti),(0,Q1[ma[ja++]>>8&15])(ur,Jn+ +Zo,Gn,$r+Zo-ti,Fo-Zo,Gn,$r+Zo),Zo=Fo}Jn+=ti,$r+=ti,++Sr&zi||(Oi+=Di)}cr!=sn.nc&&r(Ht,Bt-Xr,Ht,Bt+(cr-Un-1)*Xr,Xr);break;case 1:for(Xr=ur,Bn=Jn,ti=(ur=sn.Ea)-($r=ur&~(Gn=(Jn=1<<sn.b)-1)),Sr=Ti(ur,sn.b),Kr=sn.K,sn=sn.w+(Un>>sn.b)*Sr;Un<cr;){for(zi=Kr,Di=sn,_s=new Ci,Oi=Bn+$r,ma=Bn+ur;Bn<Oi;)eo(zi[Di++],_s),Tp(_s,Xr,Bn,Jn,Ht,Bt),Bn+=Jn,Bt+=Jn;Bn<ma&&(eo(zi[Di++],_s),Tp(_s,Xr,Bn,ti,Ht,Bt),Bn+=ti,Bt+=ti),++Un&Gn||(sn+=Sr)}break;case 3:if(ur==Ht&&Jn==Bt&&0<sn.b){for(Bn=Ht,ur=Xr=Bt+(cr-Un)*Xr-($r=(cr-Un)*Ti(sn.Ea,sn.b)),Jn=Ht,Gn=Bt,Sr=[],$r=(ti=$r)-1;0<=$r;--$r)Sr[$r]=Jn[Gn+$r];for($r=ti-1;0<=$r;--$r)Bn[ur+$r]=Sr[$r];_0(sn,Un,cr,Ht,Xr,Ht,Bt)}else _0(sn,Un,cr,ur,Jn,Ht,Bt)}Bt=Ve,Ht=ce}Ht!=ce&&r(Ve,ce,Bt,Ht,Dt)}function cn(E,O){var ce=E.V,Ve=E.Ba+E.c*E.C,yt=O-E.C;if(n(O<=E.l.o),n(16>=yt),0<yt){var Dt=E.l,Ot=E.Ta,Bt=E.Ua,Ht=Dt.width;if(Pt(E,yt,ce,Ve),yt=Bt=[Bt],n((ce=E.C)<(Ve=O)),n(Dt.v<Dt.va),Ve>Dt.o&&(Ve=Dt.o),ce<Dt.j){var sn=Dt.j-ce;ce=Dt.j,yt[0]+=sn*Ht}if(ce>=Ve?ce=0:(yt[0]+=4*Dt.v,Dt.ka=ce-Dt.j,Dt.U=Dt.va-Dt.v,Dt.T=Ve-ce,ce=1),ce){if(Bt=Bt[0],11>(ce=E.ca).S){var Un=ce.f.RGBA,cr=(Ve=ce.S,yt=Dt.U,Dt=Dt.T,sn=Un.eb,Un.A),ur=Dt;for(Un=Un.fb+E.Ma*Un.A;0<ur--;){var Jn=Ot,Xr=Bt,Sr=yt,Bn=sn,Gn=Un;switch(Ve){case WI:x0(Jn,Xr,Sr,Bn,Gn);break;case qI:ey(Jn,Xr,Sr,Bn,Gn);break;case GN:ey(Jn,Xr,Sr,Bn,Gn),ry(Bn,Gn,0,Sr,1,0);break;case fR:Q2(Jn,Xr,Sr,Bn,Gn);break;case GI:Pl(Jn,Xr,Sr,Bn,Gn,1);break;case ZN:Pl(Jn,Xr,Sr,Bn,Gn,1),ry(Bn,Gn,0,Sr,1,0);break;case ZI:Pl(Jn,Xr,Sr,Bn,Gn,0);break;case $I:Pl(Jn,Xr,Sr,Bn,Gn,0),ry(Bn,Gn,1,Sr,1,0);break;case qN:Mg(Jn,Xr,Sr,Bn,Gn);break;case $N:Mg(Jn,Xr,Sr,Bn,Gn),nb(Bn,Gn,Sr,1,0);break;case pR:Zm(Jn,Xr,Sr,Bn,Gn);break;default:n(0)}Bt+=Ht,Un+=cr}E.Ma+=Dt}else alert("todo:EmitRescaledRowsYUVA");n(E.Ma<=ce.height)}}E.C=O,n(E.C<=E.i)}function qt(E){var O;if(0<E.ua)return 0;for(O=0;O<E.Wb;++O){var ce=E.Ya[O].G,Ve=E.Ya[O].H;if(0<ce[1][Ve[1]+0].g||0<ce[2][Ve[2]+0].g||0<ce[3][Ve[3]+0].g)return 0}return 1}function Yt(E,O,ce,Ve,yt,Dt){if(0!=E.Z){var Ot=E.qd,Bt=E.rd;for(n(null!=sy[E.Z]);O<ce;++O)sy[E.Z](Ot,Bt,Ve,yt,Ve,yt,Dt),Ot=Ve,Bt=yt,yt+=Dt;E.qd=Ot,E.rd=Bt}}function an(E,O){var ce=E.l.ma,Ve=0==ce.Z||1==ce.Z?E.l.j:E.C;if(Ve=E.C<Ve?Ve:E.C,n(O<=E.l.o),O>Ve){var yt=E.l.width,Dt=ce.ca,Ot=ce.tb+yt*Ve,Bt=E.V,Ht=E.Ba+E.c*Ve,sn=E.gc;n(1==E.ab),n(3==sn[0].hc),HN(sn[0],Ve,O,Bt,Ht,Dt,Ot),Yt(ce,Ve,O,Dt,Ot,yt)}E.C=E.Ma=O}function un(E,O,ce,Ve,yt,Dt,Ot){var Bt=E.$/Ve,Ht=E.$%Ve,sn=E.m,Un=E.s,cr=ce+E.$,ur=cr;yt=ce+Ve*yt;var Jn=ce+Ve*Dt,Xr=280+Un.ua,Sr=E.Pb?Bt:16777216,Bn=0<Un.ua?Un.Wa:null,Gn=Un.wc,$r=cr<Jn?Fc(Un,Ht,Bt):null;n(E.C<Dt),n(Jn<=yt);var ti=!1;e:for(;;){for(;ti||cr<Jn;){var Kr=0;if(Bt>=Sr){var zi=cr-ce;n((Sr=E).Pb),Sr.wd=Sr.m,Sr.xd=zi,0<Sr.s.ua&&gr(Sr.s.Wa,Sr.s.vb),Sr=Bt+aj}if(Ht&Gn||($r=Fc(Un,Ht,Bt)),n(null!=$r),$r.Qb&&(O[cr]=$r.qb,ti=!0),!ti)if(Kt(sn),$r.jc){zi=O;var Di=cr,_s=$r.pd[bt(Kr=sn)&Kd-1];n($r.jc),256>_s.g?(_t(Kr,Kr.u+_s.g),zi[Di]=_s.value,Kr=0):(_t(Kr,Kr.u+_s.g-256),n(256<=_s.value),Kr=_s.value),0==Kr&&(ti=!0)}else Kr=Oh($r.G[0],$r.H[0],sn);if(sn.h)break;if(ti||256>Kr){if(!ti)if($r.nd)O[cr]=($r.qb|Kr<<8)>>>0;else{if(Kt(sn),ti=Oh($r.G[1],$r.H[1],sn),Kt(sn),zi=Oh($r.G[2],$r.H[2],sn),Di=Oh($r.G[3],$r.H[3],sn),sn.h)break;O[cr]=(Di<<24|ti<<16|Kr<<8|zi)>>>0}if(ti=!1,++cr,++Ht>=Ve&&(Ht=0,++Bt,null!=Ot&&Bt<=Dt&&!(Bt%16)&&Ot(E,Bt),null!=Bn))for(;ur<cr;)Kr=O[ur++],Bn.X[(506832829*Kr&4294967295)>>>Bn.Mb]=Kr}else if(280>Kr){if(Kr=Nf(Kr-256,sn),zi=Oh($r.G[4],$r.H[4],sn),Kt(sn),zi=$d(Ve,zi=Nf(zi,sn)),sn.h)break;if(cr-ce<zi||yt-cr<Kr)break e;for(Di=0;Di<Kr;++Di)O[cr+Di]=O[cr+Di-zi];for(cr+=Kr,Ht+=Kr;Ht>=Ve;)Ht-=Ve,++Bt,null!=Ot&&Bt<=Dt&&!(Bt%16)&&Ot(E,Bt);if(n(cr<=yt),Ht&Gn&&($r=Fc(Un,Ht,Bt)),null!=Bn)for(;ur<cr;)Kr=O[ur++],Bn.X[(506832829*Kr&4294967295)>>>Bn.Mb]=Kr}else{if(!(Kr<Xr))break e;for(ti=Kr-280,n(null!=Bn);ur<cr;)Kr=O[ur++],Bn.X[(506832829*Kr&4294967295)>>>Bn.Mb]=Kr;Kr=cr,n(!(ti>>>(zi=Bn).Xa)),O[Kr]=zi.X[ti],ti=!0}ti||n(sn.h==ut(sn))}if(E.Pb&&sn.h&&cr<yt)n(E.m.h),E.a=5,E.m=E.wd,E.$=E.xd,0<E.s.ua&&gr(E.s.vb,E.s.Wa);else{if(sn.h)break e;null!=Ot&&Ot(E,Bt>Dt?Dt:Bt),E.a=0,E.$=cr-ce}return 1}return E.a=3,0}function sr(E){n(null!=E),E.vc=null,E.yc=null,E.Ya=null;var O=E.Wa;null!=O&&(O.X=null),E.vb=null,n(null!=E)}function Cr(){var E=new jN;return null==E?null:(E.a=0,E.xb=vR,wp("Predictor","VP8LPredictors"),wp("Predictor","VP8LPredictors_C"),wp("PredictorAdd","VP8LPredictorsAdd"),wp("PredictorAdd","VP8LPredictorsAdd_C"),VI=bo,Tp=cs,x0=di,ey=Ba,Mg=vs,Zm=fu,Q2=Ta,St.VP8LMapColor32b=pC,St.VP8LMapColor8b=zN,E)}function lr(E,O,ce,Ve,yt){var Dt=1,Ot=[E],Bt=[O],Ht=Ve.m,sn=Ve.s,Un=null,cr=0;e:for(;;){if(ce)for(;Dt&&nr(Ht,1);){var ur=Ot,Jn=Bt,Xr=Ve,Sr=1,Bn=Xr.m,Gn=Xr.gc[Xr.ab],$r=nr(Bn,2);if(Xr.Oc&1<<$r)Dt=0;else{switch(Xr.Oc|=1<<$r,Gn.hc=$r,Gn.Ea=ur[0],Gn.nc=Jn[0],Gn.K=[null],++Xr.ab,n(4>=Xr.ab),$r){case 0:case 1:Gn.b=nr(Bn,3)+2,Sr=lr(Ti(Gn.Ea,Gn.b),Ti(Gn.nc,Gn.b),0,Xr,Gn.K),Gn.K=Gn.K[0];break;case 3:var ti,Kr=nr(Bn,8)+1,zi=16<Kr?0:4<Kr?1:2<Kr?2:3;if(ur[0]=Ti(Gn.Ea,zi),Gn.b=zi,ti=Sr=lr(Kr,1,0,Xr,Gn.K)){var Di,_s=Kr,Oi=Gn,ma=1<<(8>>Oi.b),ja=o(ma);if(null==ja)ti=0;else{var Zo=Oi.K[0],Fo=Oi.w;for(ja[0]=Oi.K[0][0],Di=1;Di<1*_s;++Di)ja[Di]=ei(Zo[Fo+Di],ja[Di-1]);for(;Di<4*ma;++Di)ja[Di]=0;Oi.K[0]=null,Oi.K[0]=ja,ti=1}}Sr=ti;break;case 2:break;default:n(0)}Dt=Sr}}if(Ot=Ot[0],Bt=Bt[0],Dt&&nr(Ht,1)&&!(Dt=1<=(cr=nr(Ht,4))&&11>=cr)){Ve.a=3;break e}var gl;if(gl=Dt)t:{var el,lo,su,Jd=Ve,ou=Ot,Qd=Bt,Va=cr,Rf=ce,Lf=Jd.m,Hu=Jd.s,gh=[null],fd=1,Ip=0,Og=oj[Va];n:for(;;){if(Rf&&nr(Lf,1)){var zu=nr(Lf,3)+2,Jm=Ti(ou,zu),xx=Ti(Qd,zu),rb=Jm*xx;if(!lr(Jm,xx,0,Jd,gh))break n;for(gh=gh[0],Hu.xc=zu,el=0;el<rb;++el){var oy=gh[el]>>8&65535;gh[el]=oy,oy>=fd&&(fd=oy+1)}}if(Lf.h)break n;for(lo=0;5>lo;++lo){var Lc=gR[lo];!lo&&0<Va&&(Lc+=1<<Va),Ip<Lc&&(Ip=Lc)}var JN=d(fd*Og,st),SR=fd,AR=d(SR,tn);if(null==AR)var JI=null;else n(65536>=SR),JI=AR;var _C=o(Ip);if(null==JI||null==_C||null==JN){Jd.a=1;break n}var QI=JN;for(el=su=0;el<fd;++el){var T0=JI[el],ib=T0.G,sb=T0.H,IR=0,eD=1,DR=0;for(lo=0;5>lo;++lo){Lc=gR[lo],ib[lo]=QI,sb[lo]=su,!lo&&0<Va&&(Lc+=1<<Va);i:{var tD,QN=Lc,nD=Jd,xC=_C,Aj=QI,Ij=su,eM=0,ay=nD.m,Dj=nr(ay,1);if(s(xC,0,0,QN),Dj){var kj=nr(ay,1)+1,Pj=nr(ay,1),kR=nr(ay,0==Pj?1:8);xC[kR]=1,2==kj&&(xC[kR=nr(ay,8)]=1);var rD=1}else{var PR=o(19),NR=nr(ay,4)+4;if(19<NR){nD.a=3;var iD=0;break i}for(tD=0;tD<NR;++tD)PR[ij[tD]]=nr(ay,3);var tM=void 0,wC=void 0,MR=nD,Nj=PR,sD=QN,OR=xC,nM=0,ly=MR.m,FR=8,RR=d(128,st);r:for(;vt(RR,0,7,Nj,19);){if(nr(ly,1)){var Mj=2+2*nr(ly,3);if((tM=2+nr(ly,Mj))>sD)break r}else tM=sD;for(wC=0;wC<sD&&tM--;){Kt(ly);var LR=RR[0+(127&bt(ly))];_t(ly,ly.u+LR.g);var ob=LR.value;if(16>ob)OR[wC++]=ob,0!=ob&&(FR=ob);else{var Oj=16==ob,UR=ob-16,Fj=nj[UR],BR=nr(ly,tj[UR])+Fj;if(wC+BR>sD)break r;for(var Rj=Oj?FR:0;0<BR--;)OR[wC++]=Rj}}nM=1;break r}nM||(MR.a=3),rD=nM}(rD=rD&&!ay.h)&&(eM=vt(Aj,Ij,8,xC,QN)),rD&&0!=eM?iD=eM:(nD.a=3,iD=0)}if(0==iD)break n;if(eD&&1==rj[lo]&&(eD=0==QI[su].g),IR+=QI[su].g,su+=iD,3>=lo){var bC,rM=_C[0];for(bC=1;bC<Lc;++bC)_C[bC]>rM&&(rM=_C[bC]);DR+=rM}}if(T0.nd=eD,T0.Qb=0,eD&&(T0.qb=(ib[3][sb[3]+0].value<<24|ib[1][sb[1]+0].value<<16|ib[2][sb[2]+0].value)>>>0,0==IR&&256>ib[0][sb[0]+0].value&&(T0.Qb=1,T0.qb+=ib[0][sb[0]+0].value<<8)),T0.jc=!T0.Qb&&6>DR,T0.jc){var oD,Qm=T0;for(oD=0;oD<Kd;++oD){var cy=oD,uy=Qm.pd[cy],aD=Qm.G[0][Qm.H[0]+cy];256<=aD.value?(uy.g=aD.g+256,uy.value=aD.value):(uy.g=0,uy.value=0,cy>>=$c(aD,8,uy),cy>>=$c(Qm.G[1][Qm.H[1]+cy],16,uy),cy>>=$c(Qm.G[2][Qm.H[2]+cy],0,uy),$c(Qm.G[3][Qm.H[3]+cy],24,uy))}}}Hu.vc=gh,Hu.Wb=fd,Hu.Ya=JI,Hu.yc=JN,gl=1;break t}gl=0}if(!(Dt=gl)){Ve.a=3;break e}if(0<cr){if(sn.ua=1<<cr,!_i(sn.Wa,cr)){Ve.a=1,Dt=0;break e}}else sn.ua=0;var iM=Ve,jR=Ot,Lj=Bt,sM=iM.s,oM=sM.xc;if(iM.c=jR,iM.i=Lj,sM.md=Ti(jR,oM),sM.wc=0==oM?-1:(1<<oM)-1,ce){Ve.xb=pj;break e}if(null==(Un=o(Ot*Bt))){Ve.a=1,Dt=0;break e}Dt=(Dt=un(Ve,Un,0,Ot,Bt,Bt,null))&&!Ht.h;break e}return Dt?(null!=yt?yt[0]=Un:(n(null==Un),n(ce)),Ve.$=0,ce||sr(sn)):sr(sn),Dt}function pr(E,O){var ce=E.c*E.i,Ve=ce+O+16*O;return n(E.c<=O),E.V=o(Ve),null==E.V?(E.Ta=null,E.Ua=0,E.a=1,0):(E.Ta=E.V,E.Ua=E.Ba+ce+O,1)}function _r(E,O){var ce=E.C,Ve=O-ce,yt=E.V,Dt=E.Ba+E.c*ce;for(n(O<=E.l.o);0<Ve;){var Ot=16<Ve?16:Ve,Bt=E.l.ma,Ht=E.l.width,sn=Ht*Ot,Un=Bt.ca,cr=Bt.tb+Ht*ce,ur=E.Ta,Jn=E.Ua;Pt(E,Ot,yt,Dt),aR(ur,Jn,Un,cr,sn),Yt(Bt,ce,ce+Ot,Un,cr,Ht),Ve-=Ot,yt+=Ot*E.c,ce+=Ot}n(ce==O),E.C=E.Ma=O}function si(){this.ub=this.yd=this.td=this.Rb=0}function mi(){this.Kd=this.Ld=this.Ud=this.Td=this.i=this.c=0}function Ui(){this.Fb=this.Bb=this.Cb=0,this.Zb=o(4),this.Lb=o(4)}function vi(){var E;this.Yb=(function O(ce,Ve,yt){for(var Dt=yt[Ve],Ot=0;Ot<Dt&&(ce.push(yt.length>Ve+1?[]:0),!(yt.length<Ve+1));Ot++)O(ce[Ot],Ve+1,yt)}(E=[],0,[3,11]),E)}function Si(){this.jb=o(3),this.Wc=g([4,8],vi),this.Xc=g([4,17],vi)}function Ps(){this.Pc=this.wb=this.Tb=this.zd=0,this.vd=new o(4),this.od=new o(4)}function aa(){this.ld=this.La=this.dd=this.tc=0}function gu(){this.Na=this.la=0}function rc(){this.Sc=[0,0],this.Eb=[0,0],this.Qc=[0,0],this.ia=this.lc=0}function mu(){this.ad=o(384),this.Za=0,this.Ob=o(16),this.$b=this.Ad=this.ia=this.Gc=this.Hc=this.Dd=0}function zm(){this.uc=this.M=this.Nb=0,this.wa=Array(new aa),this.Y=0,this.ya=Array(new mu),this.aa=0,this.l=new Pg}function kg(){this.y=o(16),this.f=o(8),this.ea=o(8)}function g0(){this.cb=this.a=0,this.sc="",this.m=new Qn,this.Od=new si,this.Kc=new mi,this.ed=new Ps,this.Qa=new Ui,this.Ic=this.$c=this.Aa=0,this.D=new zm,this.Xb=this.Va=this.Hb=this.zb=this.yb=this.Ub=this.za=0,this.Jc=d(8,Qn),this.ia=0,this.pb=d(4,rc),this.Pa=new Si,this.Bd=this.kc=0,this.Ac=[],this.Bc=0,this.zc=[0,0,0,0],this.Gd=Array(new kg),this.Hd=0,this.rb=Array(new gu),this.sb=0,this.wa=Array(new aa),this.Y=0,this.oc=[],this.pc=0,this.sa=[],this.ta=0,this.qa=[],this.ra=0,this.Ha=[],this.B=this.R=this.Ia=0,this.Ec=[],this.M=this.ja=this.Vb=this.Fc=0,this.ya=Array(new mu),this.L=this.aa=0,this.gd=g([4,2],aa),this.ga=null,this.Fa=[],this.Cc=this.qc=this.P=0,this.Gb=[],this.Uc=0,this.mb=[],this.nb=0,this.rc=[],this.Ga=this.Vc=0}function Pg(){this.T=this.U=this.ka=this.height=this.width=0,this.y=[],this.f=[],this.ea=[],this.Rc=this.fa=this.W=this.N=this.O=0,this.ma="void",this.put="VP8IoPutHook",this.ac="VP8IoSetupHook",this.bc="VP8IoTeardownHook",this.ha=this.Kb=0,this.data=[],this.hb=this.ib=this.da=this.o=this.j=this.va=this.v=this.Da=this.ob=this.w=0,this.F=[],this.J=0}function Mf(){var E=new g0;return null!=E&&(E.a=0,E.sc="OK",E.cb=0,E.Xb=0,vC||(vC=SI)),E}function Yc(E,O,ce){return 0==E.a&&(E.a=O,E.sc=ce,E.cb=0),0}function TI(E,O,ce){return 3<=ce&&157==E[O+0]&&1==E[O+1]&&42==E[O+2]}function CI(E,O){if(null==E)return 0;if(E.a=0,E.sc="OK",null==O)return Yc(E,2,"null VP8Io passed to VP8GetHeaders()");var ce=O.data,Ve=O.w,yt=O.ha;if(4>yt)return Yc(E,7,"Truncated header.");var Dt=ce[Ve+0]|ce[Ve+1]<<8|ce[Ve+2]<<16,Ot=E.Od;if(Ot.Rb=!(1&Dt),Ot.td=Dt>>1&7,Ot.yd=Dt>>4&1,Ot.ub=Dt>>5,3<Ot.td)return Yc(E,3,"Incorrect keyframe parameters.");if(!Ot.yd)return Yc(E,4,"Frame not displayable.");Ve+=3,yt-=3;var Bt=E.Kc;if(Ot.Rb){if(7>yt)return Yc(E,7,"cannot parse picture header");if(!TI(ce,Ve,yt))return Yc(E,3,"Bad code word");Bt.c=16383&(ce[Ve+4]<<8|ce[Ve+3]),Bt.Td=ce[Ve+4]>>6,Bt.i=16383&(ce[Ve+6]<<8|ce[Ve+5]),Bt.Ud=ce[Ve+6]>>6,Ve+=7,yt-=7,E.za=Bt.c+15>>4,E.Ub=Bt.i+15>>4,O.width=Bt.c,O.height=Bt.i,O.Da=0,O.j=0,O.v=0,O.va=O.width,O.o=O.height,O.da=0,O.ib=O.width,O.hb=O.height,O.U=O.width,O.T=O.height,s((Dt=E.Pa).jb,0,255,Dt.jb.length),n(null!=(Dt=E.Qa)),Dt.Cb=0,Dt.Bb=0,Dt.Fb=1,s(Dt.Zb,0,0,Dt.Zb.length),s(Dt.Lb,0,0,Dt.Lb)}if(Ot.ub>yt)return Yc(E,7,"bad partition length");Fn(Dt=E.m,ce,Ve,Ot.ub),Ve+=Ot.ub,yt-=Ot.ub,Ot.Rb&&(Bt.Ld=An(Dt),Bt.Kd=An(Dt)),Bt=E.Qa;var Ht,sn=E.Pa;if(n(null!=Dt),n(null!=Bt),Bt.Cb=An(Dt),Bt.Cb){if(Bt.Bb=An(Dt),An(Dt)){for(Bt.Fb=An(Dt),Ht=0;4>Ht;++Ht)Bt.Zb[Ht]=An(Dt)?Kn(Dt,7):0;for(Ht=0;4>Ht;++Ht)Bt.Lb[Ht]=An(Dt)?Kn(Dt,6):0}if(Bt.Bb)for(Ht=0;3>Ht;++Ht)sn.jb[Ht]=An(Dt)?Wn(Dt,8):255}else Bt.Bb=0;if(Dt.Ka)return Yc(E,3,"cannot parse segment header");if((Bt=E.ed).zd=An(Dt),Bt.Tb=Wn(Dt,6),Bt.wb=Wn(Dt,3),Bt.Pc=An(Dt),Bt.Pc&&An(Dt)){for(sn=0;4>sn;++sn)An(Dt)&&(Bt.vd[sn]=Kn(Dt,6));for(sn=0;4>sn;++sn)An(Dt)&&(Bt.od[sn]=Kn(Dt,6))}if(E.L=0==Bt.Tb?0:Bt.zd?1:2,Dt.Ka)return Yc(E,3,"cannot parse filter header");var Un=yt;if(yt=Ht=Ve,Ve=Ht+Un,Bt=Un,E.Xb=(1<<Wn(E.m,2))-1,Un<3*(sn=E.Xb))ce=7;else{for(Ht+=3*sn,Bt-=3*sn,Un=0;Un<sn;++Un){var cr=ce[yt+0]|ce[yt+1]<<8|ce[yt+2]<<16;cr>Bt&&(cr=Bt),Fn(E.Jc[+Un],ce,Ht,cr),Ht+=cr,Bt-=cr,yt+=3}Fn(E.Jc[+sn],ce,Ht,Bt),ce=Ht<Ve?0:5}if(0!=ce)return Yc(E,ce,"cannot parse partitions");for(ce=Wn(Ht=E.m,7),yt=An(Ht)?Kn(Ht,4):0,Ve=An(Ht)?Kn(Ht,4):0,Bt=An(Ht)?Kn(Ht,4):0,sn=An(Ht)?Kn(Ht,4):0,Ht=An(Ht)?Kn(Ht,4):0,Un=E.Qa,cr=0;4>cr;++cr){if(Un.Cb){var ur=Un.Zb[cr];Un.Fb||(ur+=ce)}else{if(0<cr){E.pb[cr]=E.pb[0];continue}ur=ce}var Jn=E.pb[cr];Jn.Sc[0]=YN[Of(ur+yt,127)],Jn.Sc[1]=KN[Of(ur+0,127)],Jn.Eb[0]=2*YN[Of(ur+Ve,127)],Jn.Eb[1]=101581*KN[Of(ur+Bt,127)]>>16,8>Jn.Eb[1]&&(Jn.Eb[1]=8),Jn.Qc[0]=YN[Of(ur+sn,117)],Jn.Qc[1]=KN[Of(ur+Ht,127)],Jn.lc=ur+Ht}if(!Ot.Rb)return Yc(E,4,"Not a key frame.");for(An(Dt),Ot=E.Pa,ce=0;4>ce;++ce){for(yt=0;8>yt;++yt)for(Ve=0;3>Ve;++Ve)for(Bt=0;11>Bt;++Bt)sn=Pn(Dt,dj[ce][yt][Ve][Bt])?Wn(Dt,8):uj[ce][yt][Ve][Bt],Ot.Wc[ce][yt].Yb[Ve][Bt]=sn;for(yt=0;17>yt;++yt)Ot.Xc[ce][yt]=Ot.Wc[ce][fj[yt]]}return E.kc=An(Dt),E.kc&&(E.Bd=Wn(Dt,8)),E.cb=1}function SI(E,O,ce,Ve,yt,Dt,Ot){var Bt=O[yt].Yb[ce];for(ce=0;16>yt;++yt){if(!Pn(E,Bt[ce+0]))return yt;for(;!Pn(E,Bt[ce+1]);)if(Bt=O[++yt].Yb[0],ce=0,16==yt)return 16;var Ht=O[yt+1].Yb;if(Pn(E,Bt[ce+2])){var sn=E,Un=0;if(Pn(sn,(ur=Bt)[(cr=ce)+3]))if(Pn(sn,ur[cr+6])){for(Bt=0,cr=2*(Un=Pn(sn,ur[cr+8]))+(ur=Pn(sn,ur[cr+9+Un])),Un=0,ur=lj[cr];ur[Bt];++Bt)Un+=Un+Pn(sn,ur[Bt]);Un+=3+(8<<cr)}else Pn(sn,ur[cr+7])?(Un=7+2*Pn(sn,165),Un+=Pn(sn,145)):Un=5+Pn(sn,159);else Un=Pn(sn,ur[cr+4])?3+Pn(sn,ur[cr+5]):2;Bt=Ht[2]}else Un=1,Bt=Ht[1];Ht=Ot+cj[yt],0>(sn=E).b&&In(sn);var cr,ur=sn.b,Jn=(cr=sn.Ca>>1)-(sn.I>>ur)>>31;--sn.b,sn.Ca+=Jn,sn.Ca|=1,sn.I-=(cr+1&Jn)<<ur,Dt[Ht]=((Un^Jn)-Jn)*Ve[(0<yt)+0]}return 16}function YT(E){var O=E.rb[E.sb-1];O.la=0,O.Na=0,s(E.zc,0,0,E.zc.length),E.ja=0}function m0(E,O,ce,Ve,yt){E[O+ce+32*Ve]=-256&(yt=E[O+ce+32*Ve]+(yt>>3))?0>yt?0:255:yt}function j2(E,O,ce,Ve,yt,Dt){m0(E,O,0,ce,Ve+yt),m0(E,O,1,ce,Ve+Dt),m0(E,O,2,ce,Ve-Dt),m0(E,O,3,ce,Ve-yt)}function Yd(E){return(20091*E>>16)+E}function KT(E,O,ce,Ve){var yt,Dt=0,Ot=o(16);for(yt=0;4>yt;++yt){var Bt=E[O+0]+E[O+8],Ht=E[O+0]-E[O+8],sn=(35468*E[O+4]>>16)-Yd(E[O+12]),Un=Yd(E[O+4])+(35468*E[O+12]>>16);Ot[Dt+0]=Bt+Un,Ot[Dt+1]=Ht+sn,Ot[Dt+2]=Ht-sn,Ot[Dt+3]=Bt-Un,Dt+=4,O++}for(yt=Dt=0;4>yt;++yt)Bt=(E=Ot[Dt+0]+4)+Ot[Dt+8],Ht=E-Ot[Dt+8],sn=(35468*Ot[Dt+4]>>16)-Yd(Ot[Dt+12]),m0(ce,Ve,0,0,Bt+(Un=Yd(Ot[Dt+4])+(35468*Ot[Dt+12]>>16))),m0(ce,Ve,1,0,Ht+sn),m0(ce,Ve,2,0,Ht-sn),m0(ce,Ve,3,0,Bt-Un),Dt++,Ve+=32}function AI(E,O,ce,Ve){var yt=E[O+0]+4,Dt=35468*E[O+4]>>16,Ot=Yd(E[O+4]),Bt=35468*E[O+1]>>16;j2(ce,Ve,0,yt+Ot,E=Yd(E[O+1]),Bt),j2(ce,Ve,1,yt+Dt,E,Bt),j2(ce,Ve,2,yt-Dt,E,Bt),j2(ce,Ve,3,yt-Ot,E,Bt)}function TN(E,O,ce,Ve,yt){KT(E,O,ce,Ve),yt&&KT(E,O+16,ce,Ve+4)}function II(E,O,ce,Ve){eb(E,O+0,ce,Ve,1),eb(E,O+32,ce,Ve+128,1)}function CN(E,O,ce,Ve){var yt;for(E=E[O+0]+4,yt=0;4>yt;++yt)for(O=0;4>O;++O)m0(ce,Ve,O,yt,E)}function DI(E,O,ce,Ve){E[O+0]&&b0(E,O+0,ce,Ve),E[O+16]&&b0(E,O+16,ce,Ve+4),E[O+32]&&b0(E,O+32,ce,Ve+128),E[O+48]&&b0(E,O+48,ce,Ve+128+4)}function SN(E,O,ce,Ve){var yt,Dt=o(16);for(yt=0;4>yt;++yt){var Ot=E[O+0+yt]+E[O+12+yt],Bt=E[O+4+yt]+E[O+8+yt],Ht=E[O+4+yt]-E[O+8+yt],sn=E[O+0+yt]-E[O+12+yt];Dt[0+yt]=Ot+Bt,Dt[8+yt]=Ot-Bt,Dt[4+yt]=sn+Ht,Dt[12+yt]=sn-Ht}for(yt=0;4>yt;++yt)Ot=(E=Dt[0+4*yt]+3)+Dt[3+4*yt],Ht=Dt[1+4*yt]-Dt[2+4*yt],sn=E-Dt[3+4*yt],ce[Ve+0]=Ot+(Bt=Dt[1+4*yt]+Dt[2+4*yt])>>3,ce[Ve+16]=sn+Ht>>3,ce[Ve+32]=Ot-Bt>>3,ce[Ve+48]=sn-Ht>>3,Ve+=64}function XT(E,O,ce){var Ve,yt=O-32,Dt=Ff,Ot=255-E[yt-1];for(Ve=0;Ve<ce;++Ve){var Bt,Ht=Dt,sn=Ot+E[O-1];for(Bt=0;Bt<ce;++Bt)E[O+Bt]=Ht[sn+E[yt+Bt]];O+=32}}function AN(E,O){XT(E,O,4)}function IN(E,O){XT(E,O,8)}function DN(E,O){XT(E,O,16)}function Wm(E,O){var ce;for(ce=0;16>ce;++ce)r(E,O+32*ce,E,O-32,16)}function V2(E,O){var ce;for(ce=16;0<ce;--ce)s(E,O,E[O-1],16),O+=32}function H2(E,O,ce){var Ve;for(Ve=0;16>Ve;++Ve)s(O,ce+32*Ve,E,16)}function kI(E,O){var ce,Ve=16;for(ce=0;16>ce;++ce)Ve+=E[O-1+32*ce]+E[O+ce-32];H2(Ve>>5,E,O)}function Fh(E,O){var ce,Ve=8;for(ce=0;16>ce;++ce)Ve+=E[O-1+32*ce];H2(Ve>>4,E,O)}function kN(E,O){var ce,Ve=8;for(ce=0;16>ce;++ce)Ve+=E[O+ce-32];H2(Ve>>4,E,O)}function PI(E,O){H2(128,E,O)}function $s(E,O,ce){return E+2*O+ce+2>>2}function PN(E,O){var ce,Ve=O-32;for(Ve=new Uint8Array([$s(E[Ve-1],E[Ve+0],E[Ve+1]),$s(E[Ve+0],E[Ve+1],E[Ve+2]),$s(E[Ve+1],E[Ve+2],E[Ve+3]),$s(E[Ve+2],E[Ve+3],E[Ve+4])]),ce=0;4>ce;++ce)r(E,O+32*ce,Ve,0,Ve.length)}function NN(E,O){var ce=E[O-1],Ve=E[O-1+32],yt=E[O-1+64],Dt=E[O-1+96];qn(E,O+0,16843009*$s(E[O-1-32],ce,Ve)),qn(E,O+32,16843009*$s(ce,Ve,yt)),qn(E,O+64,16843009*$s(Ve,yt,Dt)),qn(E,O+96,16843009*$s(yt,Dt,Dt))}function Ng(E,O){var ce,Ve=4;for(ce=0;4>ce;++ce)Ve+=E[O+ce-32]+E[O-1+32*ce];for(Ve>>=3,ce=0;4>ce;++ce)s(E,O+32*ce,Ve,4)}function NI(E,O){var ce=E[O-1+0],Ve=E[O-1+32],yt=E[O-1+64],Dt=E[O-1-32],Ot=E[O+0-32],Bt=E[O+1-32],Ht=E[O+2-32],sn=E[O+3-32];E[O+0+96]=$s(Ve,yt,E[O-1+96]),E[O+1+96]=E[O+0+64]=$s(ce,Ve,yt),E[O+2+96]=E[O+1+64]=E[O+0+32]=$s(Dt,ce,Ve),E[O+3+96]=E[O+2+64]=E[O+1+32]=E[O+0+0]=$s(Ot,Dt,ce),E[O+3+64]=E[O+2+32]=E[O+1+0]=$s(Bt,Ot,Dt),E[O+3+32]=E[O+2+0]=$s(Ht,Bt,Ot),E[O+3+0]=$s(sn,Ht,Bt)}function MI(E,O){var ce=E[O+1-32],Ve=E[O+2-32],yt=E[O+3-32],Dt=E[O+4-32],Ot=E[O+5-32],Bt=E[O+6-32],Ht=E[O+7-32];E[O+0+0]=$s(E[O+0-32],ce,Ve),E[O+1+0]=E[O+0+32]=$s(ce,Ve,yt),E[O+2+0]=E[O+1+32]=E[O+0+64]=$s(Ve,yt,Dt),E[O+3+0]=E[O+2+32]=E[O+1+64]=E[O+0+96]=$s(yt,Dt,Ot),E[O+3+32]=E[O+2+64]=E[O+1+96]=$s(Dt,Ot,Bt),E[O+3+64]=E[O+2+96]=$s(Ot,Bt,Ht),E[O+3+96]=$s(Bt,Ht,Ht)}function z2(E,O){var ce=E[O-1+0],Ve=E[O-1+32],yt=E[O-1+64],Dt=E[O-1-32],Ot=E[O+0-32],Bt=E[O+1-32],Ht=E[O+2-32],sn=E[O+3-32];E[O+0+0]=E[O+1+64]=Dt+Ot+1>>1,E[O+1+0]=E[O+2+64]=Ot+Bt+1>>1,E[O+2+0]=E[O+3+64]=Bt+Ht+1>>1,E[O+3+0]=Ht+sn+1>>1,E[O+0+96]=$s(yt,Ve,ce),E[O+0+64]=$s(Ve,ce,Dt),E[O+0+32]=E[O+1+96]=$s(ce,Dt,Ot),E[O+1+32]=E[O+2+96]=$s(Dt,Ot,Bt),E[O+2+32]=E[O+3+96]=$s(Ot,Bt,Ht),E[O+3+32]=$s(Bt,Ht,sn)}function JT(E,O){var ce=E[O+0-32],Ve=E[O+1-32],yt=E[O+2-32],Dt=E[O+3-32],Ot=E[O+4-32],Bt=E[O+5-32],Ht=E[O+6-32],sn=E[O+7-32];E[O+0+0]=ce+Ve+1>>1,E[O+1+0]=E[O+0+64]=Ve+yt+1>>1,E[O+2+0]=E[O+1+64]=yt+Dt+1>>1,E[O+3+0]=E[O+2+64]=Dt+Ot+1>>1,E[O+0+32]=$s(ce,Ve,yt),E[O+1+32]=E[O+0+96]=$s(Ve,yt,Dt),E[O+2+32]=E[O+1+96]=$s(yt,Dt,Ot),E[O+3+32]=E[O+2+96]=$s(Dt,Ot,Bt),E[O+3+64]=$s(Ot,Bt,Ht),E[O+3+96]=$s(Bt,Ht,sn)}function MN(E,O){var ce=E[O-1+0],Ve=E[O-1+32],yt=E[O-1+64],Dt=E[O-1+96];E[O+0+0]=ce+Ve+1>>1,E[O+2+0]=E[O+0+32]=Ve+yt+1>>1,E[O+2+32]=E[O+0+64]=yt+Dt+1>>1,E[O+1+0]=$s(ce,Ve,yt),E[O+3+0]=E[O+1+32]=$s(Ve,yt,Dt),E[O+3+32]=E[O+1+64]=$s(yt,Dt,Dt),E[O+3+64]=E[O+2+64]=E[O+0+96]=E[O+1+96]=E[O+2+96]=E[O+3+96]=Dt}function ON(E,O){var ce=E[O-1+0],Ve=E[O-1+32],yt=E[O-1+64],Dt=E[O-1+96],Ot=E[O-1-32],Bt=E[O+0-32],Ht=E[O+1-32],sn=E[O+2-32];E[O+0+0]=E[O+2+32]=ce+Ot+1>>1,E[O+0+32]=E[O+2+64]=Ve+ce+1>>1,E[O+0+64]=E[O+2+96]=yt+Ve+1>>1,E[O+0+96]=Dt+yt+1>>1,E[O+3+0]=$s(Bt,Ht,sn),E[O+2+0]=$s(Ot,Bt,Ht),E[O+1+0]=E[O+3+32]=$s(ce,Ot,Bt),E[O+1+32]=E[O+3+64]=$s(Ve,ce,Ot),E[O+1+64]=E[O+3+96]=$s(yt,Ve,ce),E[O+1+96]=$s(Dt,yt,Ve)}function FN(E,O){var ce;for(ce=0;8>ce;++ce)r(E,O+32*ce,E,O-32,8)}function QT(E,O){var ce;for(ce=0;8>ce;++ce)s(E,O,E[O-1],8),O+=32}function px(E,O,ce){var Ve;for(Ve=0;8>Ve;++Ve)s(O,ce+32*Ve,E,8)}function Y1(E,O){var ce,Ve=8;for(ce=0;8>ce;++ce)Ve+=E[O+ce-32]+E[O-1+32*ce];px(Ve>>4,E,O)}function RN(E,O){var ce,Ve=4;for(ce=0;8>ce;++ce)Ve+=E[O+ce-32];px(Ve>>3,E,O)}function gx(E,O){var ce,Ve=4;for(ce=0;8>ce;++ce)Ve+=E[O-1+32*ce];px(Ve>>3,E,O)}function eC(E,O){px(128,E,O)}function W2(E,O,ce){var Ve=E[O-ce],yt=E[O+0],Dt=3*(yt-Ve)+WN[1020+E[O-2*ce]-E[O+ce]],Ot=zI[112+(Dt+4>>3)];E[O-ce]=Ff[255+Ve+zI[112+(Dt+3>>3)]],E[O+0]=Ff[255+yt-Ot]}function OI(E,O,ce,Ve){return Sp[255+E[O-2*ce]-E[O-ce]]>Ve||Sp[255+E[O+ce]-E[O+0]]>Ve}function FI(E,O,ce,Ve){return 4*Sp[255+E[O-ce]-E[O+0]]+Sp[255+E[O-2*ce]-E[O+ce]]<=Ve}function RI(E,O,ce,Ve,yt){var Dt=E[O-3*ce],Ot=E[O-2*ce],Bt=E[O-ce],Ht=E[O+0],sn=E[O+ce],Un=E[O+2*ce];return 4*Sp[255+Bt-Ht]+Sp[255+Ot-sn]>Ve?0:Sp[255+E[O-4*ce]-Dt]<=yt&&Sp[255+Dt-Ot]<=yt&&Sp[255+Ot-Bt]<=yt&&Sp[255+E[O+3*ce]-Un]<=yt&&Sp[255+Un-sn]<=yt&&Sp[255+sn-Ht]<=yt}function LI(E,O,ce,Ve){var yt=2*Ve+1;for(Ve=0;16>Ve;++Ve)FI(E,O+Ve,ce,yt)&&W2(E,O+Ve,ce)}function qm(E,O,ce,Ve){var yt=2*Ve+1;for(Ve=0;16>Ve;++Ve)FI(E,O+Ve*ce,1,yt)&&W2(E,O+Ve*ce,1)}function K1(E,O,ce,Ve){var yt;for(yt=3;0<yt;--yt)LI(E,O+=4*ce,ce,Ve)}function LN(E,O,ce,Ve){var yt;for(yt=3;0<yt;--yt)qm(E,O+=4,ce,Ve)}function X1(E,O,ce,Ve,yt,Dt,Ot,Bt){for(Dt=2*Dt+1;0<yt--;){if(RI(E,O,ce,Dt,Ot))if(OI(E,O,ce,Bt))W2(E,O,ce);else{var Ht=E,sn=O,Un=ce,cr=Ht[sn-2*Un],ur=Ht[sn-Un],Jn=Ht[sn+0],Xr=Ht[sn+Un],Sr=Ht[sn+2*Un],Bn=27*($r=WN[1020+3*(Jn-ur)+WN[1020+cr-Xr]])+63>>7,Gn=18*$r+63>>7,$r=9*$r+63>>7;Ht[sn-3*Un]=Ff[255+Ht[sn-3*Un]+$r],Ht[sn-2*Un]=Ff[255+cr+Gn],Ht[sn-Un]=Ff[255+ur+Bn],Ht[sn+0]=Ff[255+Jn-Bn],Ht[sn+Un]=Ff[255+Xr-Gn],Ht[sn+2*Un]=Ff[255+Sr-$r]}O+=Ve}}function v0(E,O,ce,Ve,yt,Dt,Ot,Bt){for(Dt=2*Dt+1;0<yt--;){if(RI(E,O,ce,Dt,Ot))if(OI(E,O,ce,Bt))W2(E,O,ce);else{var Ht=E,sn=O,Un=ce,cr=Ht[sn-Un],ur=Ht[sn+0],Jn=Ht[sn+Un],Xr=zI[112+(4+(Sr=3*(ur-cr))>>3)],Sr=zI[112+(Sr+3>>3)],Bn=Xr+1>>1;Ht[sn-2*Un]=Ff[255+Ht[sn-2*Un]+Bn],Ht[sn-Un]=Ff[255+cr+Sr],Ht[sn+0]=Ff[255+ur-Xr],Ht[sn+Un]=Ff[255+Jn-Bn]}O+=Ve}}function tC(E,O,ce,Ve,yt,Dt){X1(E,O,ce,1,16,Ve,yt,Dt)}function mx(E,O,ce,Ve,yt,Dt){X1(E,O,1,ce,16,Ve,yt,Dt)}function UN(E,O,ce,Ve,yt,Dt){var Ot;for(Ot=3;0<Ot;--Ot)v0(E,O+=4*ce,ce,1,16,Ve,yt,Dt)}function q2(E,O,ce,Ve,yt,Dt){var Ot;for(Ot=3;0<Ot;--Ot)v0(E,O+=4,1,ce,16,Ve,yt,Dt)}function BN(E,O,ce,Ve,yt,Dt,Ot,Bt){X1(E,O,yt,1,8,Dt,Ot,Bt),X1(ce,Ve,yt,1,8,Dt,Ot,Bt)}function nC(E,O,ce,Ve,yt,Dt,Ot,Bt){X1(E,O,1,yt,8,Dt,Ot,Bt),X1(ce,Ve,1,yt,8,Dt,Ot,Bt)}function rC(E,O,ce,Ve,yt,Dt,Ot,Bt){v0(E,O+4*yt,yt,1,8,Dt,Ot,Bt),v0(ce,Ve+4*yt,yt,1,8,Dt,Ot,Bt)}function UI(E,O,ce,Ve,yt,Dt,Ot,Bt){v0(E,O+4,1,yt,8,Dt,Ot,Bt),v0(ce,Ve+4,1,yt,8,Dt,Ot,Bt)}function G2(){this.ba=new Pf,this.ec=[],this.cc=[],this.Mc=[],this.Dc=this.Nc=this.dc=this.fc=0,this.Oa=new pl,this.memory=0,this.Ib="OutputFunc",this.Jb="OutputAlphaFunc",this.Nd="OutputRowFunc"}function iC(){this.data=[],this.offset=this.kd=this.ha=this.w=0,this.na=[],this.xa=this.gb=this.Ja=this.Sa=this.P=0}function sC(){this.nc=this.Ea=this.b=this.hc=0,this.K=[],this.w=0}function BI(){this.ua=0,this.Wa=new on,this.vb=new on,this.md=this.xc=this.wc=0,this.vc=[],this.Wb=0,this.Ya=new tn,this.yc=new st}function jN(){this.xb=this.a=0,this.l=new Pg,this.ca=new Pf,this.V=[],this.Ba=0,this.Ta=[],this.Ua=0,this.m=new Ie,this.Pb=0,this.wd=new Ie,this.Ma=this.$=this.C=this.i=this.c=this.xd=0,this.s=new BI,this.ab=0,this.gc=d(4,sC),this.Oc=0}function Z2(){this.Lc=this.Z=this.$a=this.i=this.c=0,this.l=new Pg,this.ic=0,this.ca=[],this.tb=0,this.qd=null,this.rd=0}function vx(E,O,ce,Ve,yt,Dt,Ot){for(E=null==E?0:E[O+0],O=0;O<Ot;++O)yt[Dt+O]=E+ce[Ve+O]&255,E=yt[Dt+O]}function oC(E,O,ce,Ve,yt,Dt,Ot){var Bt;if(null==E)vx(null,null,ce,Ve,yt,Dt,Ot);else for(Bt=0;Bt<Ot;++Bt)yt[Dt+Bt]=E[O+Bt]+ce[Ve+Bt]&255}function J1(E,O,ce,Ve,yt,Dt,Ot){if(null==E)vx(null,null,ce,Ve,yt,Dt,Ot);else{var Bt,Ht=E[O+0],sn=Ht,Un=Ht;for(Bt=0;Bt<Ot;++Bt)sn=Un+(Ht=E[O+Bt])-sn,Un=ce[Ve+Bt]+(-256&sn?0>sn?0:255:sn)&255,sn=Ht,yt[Dt+Bt]=Un}}function aC(E,O,ce,Ve){var yt=O.width,Dt=O.o;if(n(null!=E&&null!=O),0>ce||0>=Ve||ce+Ve>Dt)return null;if(!E.Cc){if(null==E.ga){var Ot;if(E.ga=new Z2,(Ot=null==E.ga)||(Ot=O.width*O.o,n(0==E.Gb.length),E.Gb=o(Ot),E.Uc=0,null==E.Gb?Ot=0:(E.mb=E.Gb,E.nb=E.Uc,E.rc=null,Ot=1),Ot=!Ot),!Ot){var Bt=E.Fa,Ht=E.P,sn=E.qc,Un=E.mb,cr=E.nb,ur=Ht+1,Jn=sn-1,Xr=(Ot=E.ga).l;if(n(null!=Bt&&null!=Un&&null!=O),sy[0]=null,sy[1]=vx,sy[2]=oC,sy[3]=J1,Ot.ca=Un,Ot.tb=cr,Ot.c=O.width,Ot.i=O.height,n(0<Ot.c&&0<Ot.i),1>=sn)O=0;else if(Ot.$a=Bt[Ht+0]>>0&3,Ot.Z=Bt[Ht+0]>>2&3,Ot.Lc=Bt[Ht+0]>>4&3,Ht=Bt[Ht+0]>>6&3,0>Ot.$a||1<Ot.$a||4<=Ot.Z||1<Ot.Lc||Ht)O=0;else if(Xr.put=bp,Xr.ac=pu,Xr.bc=Ep,Xr.ma=Ot,Xr.width=O.width,Xr.height=O.height,Xr.Da=O.Da,Xr.v=O.v,Xr.va=O.va,Xr.j=O.j,Xr.o=O.o,Ot.$a)e:{n(1==Ot.$a),O=Cr();t:for(;;){if(null==O){O=0;break e}if(n(null!=Ot),Ot.mc=O,O.c=Ot.c,O.i=Ot.i,O.l=Ot.l,O.l.ma=Ot,O.l.width=Ot.c,O.l.height=Ot.i,O.a=0,Zn(O.m,Bt,ur,Jn),!lr(Ot.c,Ot.i,1,O,null)||(1==O.ab&&3==O.gc[0].hc&&qt(O.s)?(Ot.ic=1,Bt=O.c*O.i,O.Ta=null,O.Ua=0,O.V=o(Bt),O.Ba=0,null==O.V?(O.a=1,O=0):O=1):(Ot.ic=0,O=pr(O,Ot.c)),!O))break t;O=1;break e}Ot.mc=null,O=0}else O=Jn>=Ot.c*Ot.i;Ot=!O}if(Ot)return null;1!=E.ga.Lc?E.Ga=0:Ve=Dt-ce}n(null!=E.ga),n(ce+Ve<=Dt);e:{if(O=(Bt=E.ga).c,Dt=Bt.l.o,0==Bt.$a){if(ur=E.rc,Jn=E.Vc,Xr=E.Fa,sn=E.mb,Un=E.nb+ce*O,n((Ht=E.P+1+ce*O)<=E.P+E.qc),0!=Bt.Z)for(n(null!=sy[Bt.Z]),Ot=0;Ot<Ve;++Ot)sy[Bt.Z](ur,Jn,Xr,Ht,sn,Un,O),ur=sn,Jn=Un,Un+=O,Ht+=O;else for(Ot=0;Ot<Ve;++Ot)r(sn,Un,Xr,Ht,O),ur=sn,Jn=Un,Un+=O,Ht+=O;E.rc=ur,E.Vc=Jn}else{if(n(null!=Bt.mc),O=ce+Ve,n(null!=(Ot=Bt.mc)),n(O<=Ot.i),Ot.C>=O)O=1;else if(Bt.ic||ir(),Bt.ic){Bt=Ot.V,ur=Ot.Ba;var Sr=Ot.i,Bn=(Xr=1,Ht=Ot.$/(Jn=Ot.c),sn=Ot.$%Jn,Un=Ot.m,cr=Ot.s,Ot.$),Gn=Jn*Sr,$r=Jn*O,ti=cr.wc,Kr=Bn<$r?Fc(cr,sn,Ht):null;n(Bn<=Gn),n(O<=Sr),n(qt(cr));t:for(;;){for(;!Un.h&&Bn<$r;){if(sn&ti||(Kr=Fc(cr,sn,Ht)),n(null!=Kr),Kt(Un),256>(Sr=Oh(Kr.G[0],Kr.H[0],Un)))Bt[ur+Bn]=Sr,++Bn,++sn>=Jn&&(sn=0,++Ht<=O&&!(Ht%16)&&an(Ot,Ht));else{if(!(280>Sr)){Xr=0;break t}Sr=Nf(Sr-256,Un);var zi,Di=Oh(Kr.G[4],Kr.H[4],Un);if(Kt(Un),!(Bn>=(Di=$d(Jn,Di=Nf(Di,Un)))&&Gn-Bn>=Sr)){Xr=0;break t}for(zi=0;zi<Sr;++zi)Bt[ur+Bn+zi]=Bt[ur+Bn+zi-Di];for(Bn+=Sr,sn+=Sr;sn>=Jn;)sn-=Jn,++Ht<=O&&!(Ht%16)&&an(Ot,Ht);Bn<$r&&sn&ti&&(Kr=Fc(cr,sn,Ht))}n(Un.h==ut(Un))}an(Ot,Ht>O?O:Ht);break t}!Xr||Un.h&&Bn<Gn?(Xr=0,Ot.a=Un.h?5:3):Ot.$=Bn,O=Xr}else O=un(Ot,Ot.V,Ot.Ba,Ot.c,Ot.i,O,_r);if(!O){Ve=0;break e}}ce+Ve>=Dt&&(E.Cc=1),Ve=1}if(!Ve)return null;if(E.Cc&&(null!=(Ve=E.ga)&&(Ve.mc=null),E.ga=null,0<E.Ga))return alert("todo:WebPDequantizeLevels"),null}return E.nb+ce*yt}function X(E,O,ce,Ve,yt,Dt){for(;0<yt--;){var Ot,Bt=E,Ht=O+(ce?1:0),sn=E,Un=O+(ce?0:3);for(Ot=0;Ot<Ve;++Ot){var cr=sn[Un+4*Ot];255!=cr&&(Bt[Ht+4*Ot+0]=Bt[Ht+4*Ot+0]*(cr*=32897)>>23,Bt[Ht+4*Ot+1]=Bt[Ht+4*Ot+1]*cr>>23,Bt[Ht+4*Ot+2]=Bt[Ht+4*Ot+2]*cr>>23)}O+=Dt}}function xt(E,O,ce,Ve,yt){for(;0<Ve--;){var Dt;for(Dt=0;Dt<ce;++Dt){var Ot=E[O+2*Dt+0],Bt=15&(sn=E[O+2*Dt+1]),Ht=4369*Bt,sn=(240&sn|sn>>4)*Ht>>16;E[O+2*Dt+0]=(240&Ot|Ot>>4)*Ht>>16&240|(15&Ot|Ot<<4)*Ht>>16>>4&15,E[O+2*Dt+1]=240&sn|Bt}O+=yt}}function dn(E,O,ce,Ve,yt,Dt,Ot,Bt){var Ht,sn,Un=255;for(sn=0;sn<yt;++sn){for(Ht=0;Ht<Ve;++Ht){var cr=E[O+Ht];Dt[Ot+4*Ht]=cr,Un&=cr}O+=ce,Ot+=Bt}return 255!=Un}function Rn(E,O,ce,Ve,yt){var Dt;for(Dt=0;Dt<yt;++Dt)ce[Ve+Dt]=E[O+Dt]>>8}function ir(){ry=X,nb=xt,HI=dn,aR=Rn}function Ur(E,O,ce){St[E]=function(Ve,yt,Dt,Ot,Bt,Ht,sn,Un,cr,ur,Jn,Xr,Sr,Bn,Gn,$r,ti){var Kr,zi=ti-1>>1,Di=Bt[Ht+0]|sn[Un+0]<<16,_s=cr[ur+0]|Jn[Xr+0]<<16;n(null!=Ve);var Oi=3*Di+_s+131074>>2;for(O(Ve[yt+0],255&Oi,Oi>>16,Sr,Bn),null!=Dt&&O(Dt[Ot+0],255&(Oi=3*_s+Di+131074>>2),Oi>>16,Gn,$r),Kr=1;Kr<=zi;++Kr){var ma=Bt[Ht+Kr]|sn[Un+Kr]<<16,ja=cr[ur+Kr]|Jn[Xr+Kr]<<16,Zo=Di+ma+_s+ja+524296,Fo=Zo+2*(ma+_s)>>3;Oi=Fo+Di>>1,Di=(Zo=Zo+2*(Di+ja)>>3)+ma>>1,O(Ve[yt+2*Kr-1],255&Oi,Oi>>16,Sr,Bn+(2*Kr-1)*ce),O(Ve[yt+2*Kr-0],255&Di,Di>>16,Sr,Bn+(2*Kr-0)*ce),null!=Dt&&(Di=Fo+ja>>1,O(Dt[Ot+2*Kr-1],255&(Oi=Zo+_s>>1),Oi>>16,Gn,$r+(2*Kr-1)*ce),O(Dt[Ot+2*Kr+0],255&Di,Di>>16,Gn,$r+(2*Kr+0)*ce)),Di=ma,_s=ja}1&ti||(O(Ve[yt+ti-1],255&(Oi=3*Di+_s+131074>>2),Oi>>16,Sr,Bn+(ti-1)*ce),null!=Dt&&O(Dt[Ot+ti-1],255&(Oi=3*_s+Di+131074>>2),Oi>>16,Gn,$r+(ti-1)*ce))}}function li(){Ap[WI]=gj,Ap[qI]=yR,Ap[fR]=mj,Ap[GI]=_R,Ap[ZI]=xR,Ap[qN]=wR,Ap[pR]=vj,Ap[GN]=yR,Ap[ZN]=_R,Ap[$I]=xR,Ap[$N]=wR}function Bi(E){return E&~yj?0>E?0:255:E>>bR}function ps(E,O){return Bi((19077*E>>8)+(26149*O>>8)-14234)}function no(E,O,ce){return Bi((19077*E>>8)-(6419*O>>8)-(13320*ce>>8)+8708)}function mo(E,O){return Bi((19077*E>>8)+(33050*O>>8)-17685)}function Bo(E,O,ce,Ve,yt){Ve[yt+0]=ps(E,ce),Ve[yt+1]=no(E,O,ce),Ve[yt+2]=mo(E,O)}function bc(E,O,ce,Ve,yt){Ve[yt+0]=mo(E,O),Ve[yt+1]=no(E,O,ce),Ve[yt+2]=ps(E,ce)}function Rc(E,O,ce,Ve,yt){var Dt=no(E,O,ce);O=Dt<<3&224|mo(E,O)>>3,Ve[yt+0]=248&ps(E,ce)|Dt>>5,Ve[yt+1]=O}function iu(E,O,ce,Ve,yt){var Dt=240&mo(E,O)|15;Ve[yt+0]=240&ps(E,ce)|no(E,O,ce)>>4,Ve[yt+1]=Dt}function Rh(E,O,ce,Ve,yt){Ve[yt+0]=255,Bo(E,O,ce,Ve,yt+1)}function Vu(E,O,ce,Ve,yt){bc(E,O,ce,Ve,yt),Ve[yt+3]=255}function y0(E,O,ce,Ve,yt){Bo(E,O,ce,Ve,yt),Ve[yt+3]=255}function Of(E,O){return 0>E?0:E>O?O:E}function Gm(E,O,ce){St[E]=function(Ve,yt,Dt,Ot,Bt,Ht,sn,Un,cr){for(var ur=Un+(-2&cr)*ce;Un!=ur;)O(Ve[yt+0],Dt[Ot+0],Bt[Ht+0],sn,Un),O(Ve[yt+1],Dt[Ot+0],Bt[Ht+0],sn,Un+ce),yt+=2,++Ot,++Ht,Un+=2*ce;1&cr&&O(Ve[yt+0],Dt[Ot+0],Bt[Ht+0],sn,Un)}}function jI(E,O,ce){return 0==ce?0==E?0==O?6:5:0==O?4:0:ce}function lC(E,O,ce,Ve,yt){switch(E>>>30){case 3:eb(O,ce,Ve,yt,0);break;case 2:gC(O,ce,Ve,yt);break;case 1:b0(O,ce,Ve,yt)}}function cC(E,O){var ce,Ve,yt=O.M,Dt=O.Nb,Ot=E.oc,Bt=E.pc+40,Ht=E.oc,sn=E.pc+584,Un=E.oc,cr=E.pc+600;for(ce=0;16>ce;++ce)Ot[Bt+32*ce-1]=129;for(ce=0;8>ce;++ce)Ht[sn+32*ce-1]=129,Un[cr+32*ce-1]=129;for(0<yt?Ot[Bt-1-32]=Ht[sn-1-32]=Un[cr-1-32]=129:(s(Ot,Bt-32-1,127,21),s(Ht,sn-32-1,127,9),s(Un,cr-32-1,127,9)),Ve=0;Ve<E.za;++Ve){var ur=O.ya[O.aa+Ve];if(0<Ve){for(ce=-1;16>ce;++ce)r(Ot,Bt+32*ce-4,Ot,Bt+32*ce+12,4);for(ce=-1;8>ce;++ce)r(Ht,sn+32*ce-4,Ht,sn+32*ce+4,4),r(Un,cr+32*ce-4,Un,cr+32*ce+4,4)}var Jn=E.Gd,Xr=E.Hd+Ve,Sr=ur.ad,Bn=ur.Hc;if(0<yt&&(r(Ot,Bt-32,Jn[Xr].y,0,16),r(Ht,sn-32,Jn[Xr].f,0,8),r(Un,cr-32,Jn[Xr].ea,0,8)),ur.Za){var Gn=Ot,$r=Bt-32+16;for(0<yt&&(Ve>=E.za-1?s(Gn,$r,Jn[Xr].y[15],4):r(Gn,$r,Jn[Xr+1].y,0,4)),ce=0;4>ce;ce++)Gn[$r+128+ce]=Gn[$r+256+ce]=Gn[$r+384+ce]=Gn[$r+0+ce];for(ce=0;16>ce;++ce,Bn<<=2)E0[ur.Ob[ce]](Gn=Ot,$r=Bt+TR[ce]),lC(Bn,Sr,16*+ce,Gn,$r)}else if(Gn=jI(Ve,yt,ur.Ob[0]),iy[Gn](Ot,Bt),0!=Bn)for(ce=0;16>ce;++ce,Bn<<=2)lC(Bn,Sr,16*+ce,Ot,Bt+TR[ce]);for(ce=ur.Gc,Gn=jI(Ve,yt,ur.Dd),Xm[Gn](Ht,sn),Xm[Gn](Un,cr),Bn=Sr,Gn=Ht,$r=sn,255&(ur=ce>>0)&&(170&ur?ty(Bn,256,Gn,$r):$m(Bn,256,Gn,$r)),ur=Un,Bn=cr,255&(ce>>=8)&&(170&ce?ty(Sr,320,ur,Bn):$m(Sr,320,ur,Bn)),yt<E.Ub-1&&(r(Jn[Xr].y,0,Ot,Bt+480,16),r(Jn[Xr].f,0,Ht,sn+224,8),r(Jn[Xr].ea,0,Un,cr+224,8)),Jn=E.sa,Xr=E.ta+16*Ve+16*Dt*E.R,Sr=E.qa,ur=E.ra+8*Ve+(ce=8*Dt*E.B),Bn=E.Ha,Gn=E.Ia+8*Ve+ce,ce=0;16>ce;++ce)r(Jn,Xr+ce*E.R,Ot,Bt+32*ce,16);for(ce=0;8>ce;++ce)r(Sr,ur+ce*E.B,Ht,sn+32*ce,8),r(Bn,Gn+ce*E.B,Un,cr+32*ce,8)}}function $2(E,O,ce,Ve,yt,Dt,Ot,Bt,Ht){var sn=[0],Un=[0],cr=0,ur=null!=Ht?Ht.kd:0,Jn=null!=Ht?Ht:new iC;if(null==E||12>ce)return 7;Jn.data=E,Jn.w=O,Jn.ha=ce,O=[O],ce=[ce],Jn.gb=[Jn.gb];e:{var Xr=O,Sr=ce,Bn=Jn.gb;if(n(null!=E),n(null!=Sr),n(null!=Bn),Bn[0]=0,12<=Sr[0]&&!t(E,Xr[0],"RIFF")){if(t(E,Xr[0]+8,"WEBP")){Bn=3;break e}var Gn=oi(E,Xr[0]+4);if(12>Gn||4294967286<Gn){Bn=3;break e}if(ur&&Gn>Sr[0]-8){Bn=7;break e}Bn[0]=Gn,Xr[0]+=12,Sr[0]-=12}Bn=0}if(0!=Bn)return Bn;for(Gn=0<Jn.gb[0],ce=ce[0];;){e:{var $r=E;Sr=O,Bn=ce;var ti=sn,Kr=Un,zi=Xr=[0];if((Oi=cr=[cr])[0]=0,8>Bn[0])Bn=7;else{if(!t($r,Sr[0],"VP8X")){if(10!=oi($r,Sr[0]+4)){Bn=3;break e}if(18>Bn[0]){Bn=7;break e}var Di=oi($r,Sr[0]+8),_s=1+Gt($r,Sr[0]+12);if(2147483648<=_s*($r=1+Gt($r,Sr[0]+15))){Bn=3;break e}null!=zi&&(zi[0]=Di),null!=ti&&(ti[0]=_s),null!=Kr&&(Kr[0]=$r),Sr[0]+=18,Bn[0]-=18,Oi[0]=1}Bn=0}}if(cr=cr[0],0!=Bn)return Bn;if(Sr=!!(2&(Xr=Xr[0])),!Gn&&cr)return 3;if(null!=Dt&&(Dt[0]=!!(16&Xr)),null!=Ot&&(Ot[0]=Sr),null!=Bt&&(Bt[0]=0),Ot=sn[0],Xr=Un[0],cr&&Sr&&null==Ht){Bn=0;break}if(4>ce){Bn=7;break}if(Gn&&cr||!Gn&&!cr&&!t(E,O[0],"ALPH")){ce=[ce],Jn.na=[Jn.na],Jn.P=[Jn.P],Jn.Sa=[Jn.Sa];e:{Bn=O,Gn=ce;var Oi=Jn.gb;ti=Jn.na,Kr=Jn.P,zi=Jn.Sa,_s=22,n(null!=(Di=E)),n(null!=Gn),$r=Bn[0];var ma=Gn[0];for(n(null!=ti),n(null!=zi),ti[0]=null,Kr[0]=null,zi[0]=0;;){if(Bn[0]=$r,Gn[0]=ma,8>ma){Bn=7;break e}var ja=oi(Di,$r+4);if(4294967286<ja){Bn=3;break e}var Zo=8+ja+1&-2;if(_s+=Zo,0<Oi&&_s>Oi){Bn=3;break e}if(!t(Di,$r,"VP8 ")||!t(Di,$r,"VP8L")){Bn=0;break e}if(ma[0]<Zo){Bn=7;break e}t(Di,$r,"ALPH")||(ti[0]=Di,Kr[0]=$r+8,zi[0]=ja),$r+=Zo,ma-=Zo}}if(ce=ce[0],Jn.na=Jn.na[0],Jn.P=Jn.P[0],Jn.Sa=Jn.Sa[0],0!=Bn)break}ce=[ce],Jn.Ja=[Jn.Ja],Jn.xa=[Jn.xa];e:if(Oi=E,Bn=O,Gn=ce,ti=Jn.gb[0],Kr=Jn.Ja,zi=Jn.xa,Di=Bn[0],$r=!t(Oi,Di,"VP8 "),_s=!t(Oi,Di,"VP8L"),n(null!=Oi),n(null!=Gn),n(null!=Kr),n(null!=zi),8>Gn[0])Bn=7;else{if($r||_s){if(Oi=oi(Oi,Di+4),12<=ti&&Oi>ti-12){Bn=3;break e}if(ur&&Oi>Gn[0]-8){Bn=7;break e}Kr[0]=Oi,Bn[0]+=8,Gn[0]-=8,zi[0]=_s}else zi[0]=5<=Gn[0]&&47==Oi[Di+0]&&!(Oi[Di+4]>>5),Kr[0]=Gn[0];Bn=0}if(ce=ce[0],Jn.Ja=Jn.Ja[0],Jn.xa=Jn.xa[0],O=O[0],0!=Bn)break;if(4294967286<Jn.Ja)return 3;if(null==Bt||Sr||(Bt[0]=Jn.xa?2:1),Ot=[Ot],Xr=[Xr],Jn.xa){if(5>ce){Bn=7;break}Bt=Ot,ur=Xr,Sr=Dt,null==E||5>ce?E=0:5<=ce&&47==E[O+0]&&!(E[O+4]>>5)?(Gn=[0],Oi=[0],ti=[0],Zn(Kr=new Ie,E,O,ce),ys(Kr,Gn,Oi,ti)?(null!=Bt&&(Bt[0]=Gn[0]),null!=ur&&(ur[0]=Oi[0]),null!=Sr&&(Sr[0]=ti[0]),E=1):E=0):E=0}else{if(10>ce){Bn=7;break}Bt=Xr,null==E||10>ce||!TI(E,O+3,ce-3)?E=0:(ur=E[O+0]|E[O+1]<<8|E[O+2]<<16,Sr=16383&(E[O+7]<<8|E[O+6]),E=16383&(E[O+9]<<8|E[O+8]),1&ur||3<(ur>>1&7)||!(ur>>4&1)||ur>>5>=Jn.Ja||!Sr||!E?E=0:(Ot&&(Ot[0]=Sr),Bt&&(Bt[0]=E),E=1))}if(!E||(Ot=Ot[0],Xr=Xr[0],cr&&(sn[0]!=Ot||Un[0]!=Xr)))return 3;null!=Ht&&(Ht[0]=Jn,Ht.offset=O-Ht.w,n(4294967286>O-Ht.w),n(Ht.offset==Ht.ha-ce));break}return 0==Bn||7==Bn&&cr&&null==Ht?(null!=Dt&&(Dt[0]|=null!=Jn.na&&0<Jn.na.length),null!=Ve&&(Ve[0]=Ot),null!=yt&&(yt[0]=Xr),0):Bn}function uC(E,O,ce){var Ve=O.width,yt=O.height,Dt=0,Ot=0,Bt=Ve,Ht=yt;if(O.Da=null!=E&&0<E.Da,O.Da&&(Bt=E.cd,Ht=E.bd,Dt=E.v,Ot=E.j,11>ce||(Dt&=-2,Ot&=-2),0>Dt||0>Ot||0>=Bt||0>=Ht||Dt+Bt>Ve||Ot+Ht>yt))return 0;if(O.v=Dt,O.j=Ot,O.va=Dt+Bt,O.o=Ot+Ht,O.U=Bt,O.T=Ht,O.da=null!=E&&0<E.da,O.da){if(!qr(Bt,Ht,ce=[E.ib],Dt=[E.hb]))return 0;O.ib=ce[0],O.hb=Dt[0]}return O.ob=null!=E&&E.ob,O.Kb=null==E||!E.Sd,O.da&&(O.ob=O.ib<3*Ve/4&&O.hb<3*yt/4,O.Kb=0),1}function hC(E){if(null==E)return 2;if(11>E.S){var O=E.f.RGBA;O.fb+=(E.height-1)*O.A,O.A=-O.A}else(O=E.f.kb).O+=((E=E.height)-1)*O.fa,O.fa=-O.fa,O.N+=(E-1>>1)*O.Ab,O.Ab=-O.Ab,O.W+=(E-1>>1)*O.Db,O.Db=-O.Db,null!=O.F&&(O.J+=(E-1)*O.lb,O.lb=-O.lb);return 0}function Y2(E,O,ce,Ve){if(null==Ve||0>=E||0>=O)return 2;if(null!=ce){if(ce.Da){var yt=ce.cd,Dt=ce.bd,Ot=-2&ce.v,Bt=-2&ce.j;if(0>Ot||0>Bt||0>=yt||0>=Dt||Ot+yt>E||Bt+Dt>O)return 2;E=yt,O=Dt}if(ce.da){if(!qr(E,O,yt=[ce.ib],Dt=[ce.hb]))return 2;E=yt[0],O=Dt[0]}}Ve.width=E,Ve.height=O;e:{var Ht=Ve.width,sn=Ve.height;if(E=Ve.S,0>=Ht||0>=sn||!(E>=WI&&13>E))E=2;else{if(0>=Ve.Rd&&null==Ve.sd){Ot=Dt=yt=O=0;var Un=(Bt=Ht*CR[E])*sn;if(11>E||(Dt=(sn+1)/2*(O=(Ht+1)/2),12==E&&(Ot=(yt=Ht)*sn)),null==(sn=o(Un+2*Dt+Ot))){E=1;break e}Ve.sd=sn,11>E?((Ht=Ve.f.RGBA).eb=sn,Ht.fb=0,Ht.A=Bt,Ht.size=Un):((Ht=Ve.f.kb).y=sn,Ht.O=0,Ht.fa=Bt,Ht.Fd=Un,Ht.f=sn,Ht.N=0+Un,Ht.Ab=O,Ht.Cd=Dt,Ht.ea=sn,Ht.W=0+Un+Dt,Ht.Db=O,Ht.Ed=Dt,12==E&&(Ht.F=sn,Ht.J=0+Un+2*Dt),Ht.Tc=Ot,Ht.lb=yt)}if(O=1,Dt=Ve.width,Ot=Ve.height,(yt=Ve.S)>=WI&&13>yt)if(11>yt)E=Ve.f.RGBA,O&=(Bt=Math.abs(E.A))*(Ot-1)+Dt<=E.size,O&=Bt>=Dt*CR[yt],O&=null!=E.eb;else{E=Ve.f.kb,Bt=(Dt+1)/2,Un=(Ot+1)/2,Ht=Math.abs(E.fa),sn=Math.abs(E.Ab);var cr=Math.abs(E.Db),ur=Math.abs(E.lb);O&=Ht*(Ot-1)+Dt<=E.Fd,O&=sn*(Un-1)+Bt<=E.Cd,O=(O&=cr*(Un-1)+Bt<=E.Ed)&Ht>=Dt&sn>=Bt&cr>=Bt,O&=null!=E.y,O&=null!=E.f,O&=null!=E.ea,12==yt&&(O&=ur>=Dt,O&=ur*(Ot-1)+Dt<=E.Tc,O&=null!=E.F)}else O=0;E=O?0:2}}return 0!=E||null!=ce&&ce.fd&&(E=hC(Ve)),E}var Kd=64,K2=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535,131071,262143,524287,1048575,2097151,4194303,8388607,16777215],X2=24,J2=32,dC=8,Xd=[0,0,1,1,2,2,2,2,3,3,3,3,3,3,3,3,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7];gi("Predictor0","PredictorAdd0"),St.Predictor0=function(){return 4278190080},St.Predictor1=function(E){return E},St.Predictor2=function(E,O,ce){return O[ce+0]},St.Predictor3=function(E,O,ce){return O[ce+1]},St.Predictor4=function(E,O,ce){return O[ce-1]},St.Predictor5=function(E,O,ce){return Ii(Ii(E,O[ce+1]),O[ce+0])},St.Predictor6=function(E,O,ce){return Ii(E,O[ce-1])},St.Predictor7=function(E,O,ce){return Ii(E,O[ce+0])},St.Predictor8=function(E,O,ce){return Ii(O[ce-1],O[ce+0])},St.Predictor9=function(E,O,ce){return Ii(O[ce+0],O[ce+1])},St.Predictor10=function(E,O,ce){return Ii(Ii(E,O[ce-1]),Ii(O[ce+0],O[ce+1]))},St.Predictor11=function(E,O,ce){var Ve=O[ce+0];return 0>=ws(Ve>>24&255,E>>24&255,(O=O[ce-1])>>24&255)+ws(Ve>>16&255,E>>16&255,O>>16&255)+ws(Ve>>8&255,E>>8&255,O>>8&255)+ws(255&Ve,255&E,255&O)?Ve:E},St.Predictor12=function(E,O,ce){var Ve=O[ce+0];return(Xi((E>>24&255)+(Ve>>24&255)-((O=O[ce-1])>>24&255))<<24|Xi((E>>16&255)+(Ve>>16&255)-(O>>16&255))<<16|Xi((E>>8&255)+(Ve>>8&255)-(O>>8&255))<<8|Xi((255&E)+(255&Ve)-(255&O)))>>>0},St.Predictor13=function(E,O,ce){var Ve=O[ce-1];return(ls((E=Ii(E,O[ce+0]))>>24&255,Ve>>24&255)<<24|ls(E>>16&255,Ve>>16&255)<<16|ls(E>>8&255,Ve>>8&255)<<8|ls(E>>0&255,Ve>>0&255))>>>0};var VN=St.PredictorAdd0;St.PredictorAdd1=Fs,gi("Predictor2","PredictorAdd2"),gi("Predictor3","PredictorAdd3"),gi("Predictor4","PredictorAdd4"),gi("Predictor5","PredictorAdd5"),gi("Predictor6","PredictorAdd6"),gi("Predictor7","PredictorAdd7"),gi("Predictor8","PredictorAdd8"),gi("Predictor9","PredictorAdd9"),gi("Predictor10","PredictorAdd10"),gi("Predictor11","PredictorAdd11"),gi("Predictor12","PredictorAdd12"),gi("Predictor13","PredictorAdd13");var fC=St.PredictorAdd2;Mi("ColorIndexInverseTransform","MapARGB","32b",function(E){return E>>8&255},function(E){return E}),Mi("VP8LColorIndexInverseTransformAlpha","MapAlpha","8b",function(E){return E},function(E){return E>>8&255});var VI,_0=St.ColorIndexInverseTransform,pC=St.MapARGB,HN=St.VP8LColorIndexInverseTransformAlpha,zN=St.MapAlpha,Q1=St.VP8LPredictorsAdd=[];Q1.length=16,(St.VP8LPredictors=[]).length=16,(St.VP8LPredictorsAdd_C=[]).length=16,(St.VP8LPredictors_C=[]).length=16;var Tp,x0,ey,Mg,Zm,Q2,w0,eb,gC,ty,b0,$m,yx,tb,_x,ny,mC,Cp,Ym,Nl,Ml,Kc,vu,Km,ry,nb,HI,aR,lR=o(511),cR=o(2041),uR=o(225),hR=o(767),dR=0,WN=cR,zI=uR,Ff=hR,Sp=lR,WI=0,qI=1,fR=2,GI=3,ZI=4,qN=5,pR=6,GN=7,ZN=8,$I=9,$N=10,tj=[2,3,7],nj=[3,3,11],gR=[280,256,256,256,40],rj=[0,1,1,1,0],ij=[17,18,0,1,2,3,4,5,16,6,7,8,9,10,11,12,13,14,15],sj=[24,7,23,25,40,6,39,41,22,26,38,42,56,5,55,57,21,27,54,58,37,43,72,4,71,73,20,28,53,59,70,74,36,44,88,69,75,52,60,3,87,89,19,29,86,90,35,45,68,76,85,91,51,61,104,2,103,105,18,30,102,106,34,46,84,92,67,77,101,107,50,62,120,1,119,121,83,93,17,31,100,108,66,78,118,122,33,47,117,123,49,63,99,109,82,94,0,116,124,65,79,16,32,98,110,48,115,125,81,95,64,114,126,97,111,80,113,127,96,112],oj=[2954,2956,2958,2962,2970,2986,3018,3082,3212,3468,3980,5004],aj=8,YN=[4,5,6,7,8,9,10,10,11,12,13,14,15,16,17,17,18,19,20,20,21,21,22,22,23,23,24,25,25,26,27,28,29,30,31,32,33,34,35,36,37,37,38,39,40,41,42,43,44,45,46,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,76,77,78,79,80,81,82,83,84,85,86,87,88,89,91,93,95,96,98,100,101,102,104,106,108,110,112,114,116,118,122,124,126,128,130,132,134,136,138,140,143,145,148,151,154,157],KN=[4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,60,62,64,66,68,70,72,74,76,78,80,82,84,86,88,90,92,94,96,98,100,102,104,106,108,110,112,114,116,119,122,125,128,131,134,137,140,143,146,149,152,155,158,161,164,167,170,173,177,181,185,189,193,197,201,205,209,213,217,221,225,229,234,239,245,249,254,259,264,269,274,279,284],vC=null,lj=[[173,148,140,0],[176,155,140,135,0],[180,157,141,134,130,0],[254,254,243,230,196,177,153,140,133,130,129,0]],cj=[0,1,4,8,5,2,3,6,9,12,13,10,7,11,14,15],mR=[-0,1,-1,2,-2,3,4,6,-3,5,-4,-5,-6,7,-7,8,-8,-9],uj=[[[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]],[[253,136,254,255,228,219,128,128,128,128,128],[189,129,242,255,227,213,255,219,128,128,128],[106,126,227,252,214,209,255,255,128,128,128]],[[1,98,248,255,236,226,255,255,128,128,128],[181,133,238,254,221,234,255,154,128,128,128],[78,134,202,247,198,180,255,219,128,128,128]],[[1,185,249,255,243,255,128,128,128,128,128],[184,150,247,255,236,224,128,128,128,128,128],[77,110,216,255,236,230,128,128,128,128,128]],[[1,101,251,255,241,255,128,128,128,128,128],[170,139,241,252,236,209,255,255,128,128,128],[37,116,196,243,228,255,255,255,128,128,128]],[[1,204,254,255,245,255,128,128,128,128,128],[207,160,250,255,238,128,128,128,128,128,128],[102,103,231,255,211,171,128,128,128,128,128]],[[1,152,252,255,240,255,128,128,128,128,128],[177,135,243,255,234,225,128,128,128,128,128],[80,129,211,255,194,224,128,128,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[246,1,255,128,128,128,128,128,128,128,128],[255,128,128,128,128,128,128,128,128,128,128]]],[[[198,35,237,223,193,187,162,160,145,155,62],[131,45,198,221,172,176,220,157,252,221,1],[68,47,146,208,149,167,221,162,255,223,128]],[[1,149,241,255,221,224,255,255,128,128,128],[184,141,234,253,222,220,255,199,128,128,128],[81,99,181,242,176,190,249,202,255,255,128]],[[1,129,232,253,214,197,242,196,255,255,128],[99,121,210,250,201,198,255,202,128,128,128],[23,91,163,242,170,187,247,210,255,255,128]],[[1,200,246,255,234,255,128,128,128,128,128],[109,178,241,255,231,245,255,255,128,128,128],[44,130,201,253,205,192,255,255,128,128,128]],[[1,132,239,251,219,209,255,165,128,128,128],[94,136,225,251,218,190,255,255,128,128,128],[22,100,174,245,186,161,255,199,128,128,128]],[[1,182,249,255,232,235,128,128,128,128,128],[124,143,241,255,227,234,128,128,128,128,128],[35,77,181,251,193,211,255,205,128,128,128]],[[1,157,247,255,236,231,255,255,128,128,128],[121,141,235,255,225,227,255,255,128,128,128],[45,99,188,251,195,217,255,224,128,128,128]],[[1,1,251,255,213,255,128,128,128,128,128],[203,1,248,255,255,128,128,128,128,128,128],[137,1,177,255,224,255,128,128,128,128,128]]],[[[253,9,248,251,207,208,255,192,128,128,128],[175,13,224,243,193,185,249,198,255,255,128],[73,17,171,221,161,179,236,167,255,234,128]],[[1,95,247,253,212,183,255,255,128,128,128],[239,90,244,250,211,209,255,255,128,128,128],[155,77,195,248,188,195,255,255,128,128,128]],[[1,24,239,251,218,219,255,205,128,128,128],[201,51,219,255,196,186,128,128,128,128,128],[69,46,190,239,201,218,255,228,128,128,128]],[[1,191,251,255,255,128,128,128,128,128,128],[223,165,249,255,213,255,128,128,128,128,128],[141,124,248,255,255,128,128,128,128,128,128]],[[1,16,248,255,255,128,128,128,128,128,128],[190,36,230,255,236,255,128,128,128,128,128],[149,1,255,128,128,128,128,128,128,128,128]],[[1,226,255,128,128,128,128,128,128,128,128],[247,192,255,128,128,128,128,128,128,128,128],[240,128,255,128,128,128,128,128,128,128,128]],[[1,134,252,255,255,128,128,128,128,128,128],[213,62,250,255,255,128,128,128,128,128,128],[55,93,255,128,128,128,128,128,128,128,128]],[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]]],[[[202,24,213,235,186,191,220,160,240,175,255],[126,38,182,232,169,184,228,174,255,187,128],[61,46,138,219,151,178,240,170,255,216,128]],[[1,112,230,250,199,191,247,159,255,255,128],[166,109,228,252,211,215,255,174,128,128,128],[39,77,162,232,172,180,245,178,255,255,128]],[[1,52,220,246,198,199,249,220,255,255,128],[124,74,191,243,183,193,250,221,255,255,128],[24,71,130,219,154,170,243,182,255,255,128]],[[1,182,225,249,219,240,255,224,128,128,128],[149,150,226,252,216,205,255,171,128,128,128],[28,108,170,242,183,194,254,223,255,255,128]],[[1,81,230,252,204,203,255,192,128,128,128],[123,102,209,247,188,196,255,233,128,128,128],[20,95,153,243,164,173,255,203,128,128,128]],[[1,222,248,255,216,213,128,128,128,128,128],[168,175,246,252,235,205,255,255,128,128,128],[47,116,215,255,211,212,255,255,128,128,128]],[[1,121,236,253,212,214,255,255,128,128,128],[141,84,213,252,201,202,255,219,128,128,128],[42,80,160,240,162,185,255,205,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[244,1,255,128,128,128,128,128,128,128,128],[238,1,255,128,128,128,128,128,128,128,128]]]],hj=[[[231,120,48,89,115,113,120,152,112],[152,179,64,126,170,118,46,70,95],[175,69,143,80,85,82,72,155,103],[56,58,10,171,218,189,17,13,152],[114,26,17,163,44,195,21,10,173],[121,24,80,195,26,62,44,64,85],[144,71,10,38,171,213,144,34,26],[170,46,55,19,136,160,33,206,71],[63,20,8,114,114,208,12,9,226],[81,40,11,96,182,84,29,16,36]],[[134,183,89,137,98,101,106,165,148],[72,187,100,130,157,111,32,75,80],[66,102,167,99,74,62,40,234,128],[41,53,9,178,241,141,26,8,107],[74,43,26,146,73,166,49,23,157],[65,38,105,160,51,52,31,115,128],[104,79,12,27,217,255,87,17,7],[87,68,71,44,114,51,15,186,23],[47,41,14,110,182,183,21,17,194],[66,45,25,102,197,189,23,18,22]],[[88,88,147,150,42,46,45,196,205],[43,97,183,117,85,38,35,179,61],[39,53,200,87,26,21,43,232,171],[56,34,51,104,114,102,29,93,77],[39,28,85,171,58,165,90,98,64],[34,22,116,206,23,34,43,166,73],[107,54,32,26,51,1,81,43,31],[68,25,106,22,64,171,36,225,114],[34,19,21,102,132,188,16,76,124],[62,18,78,95,85,57,50,48,51]],[[193,101,35,159,215,111,89,46,111],[60,148,31,172,219,228,21,18,111],[112,113,77,85,179,255,38,120,114],[40,42,1,196,245,209,10,25,109],[88,43,29,140,166,213,37,43,154],[61,63,30,155,67,45,68,1,209],[100,80,8,43,154,1,51,26,71],[142,78,78,16,255,128,34,197,171],[41,40,5,102,211,183,4,1,221],[51,50,17,168,209,192,23,25,82]],[[138,31,36,171,27,166,38,44,229],[67,87,58,169,82,115,26,59,179],[63,59,90,180,59,166,93,73,154],[40,40,21,116,143,209,34,39,175],[47,15,16,183,34,223,49,45,183],[46,17,33,183,6,98,15,32,183],[57,46,22,24,128,1,54,17,37],[65,32,73,115,28,128,23,128,205],[40,3,9,115,51,192,18,6,223],[87,37,9,115,59,77,64,21,47]],[[104,55,44,218,9,54,53,130,226],[64,90,70,205,40,41,23,26,57],[54,57,112,184,5,41,38,166,213],[30,34,26,133,152,116,10,32,134],[39,19,53,221,26,114,32,73,255],[31,9,65,234,2,15,1,118,73],[75,32,12,51,192,255,160,43,51],[88,31,35,67,102,85,55,186,85],[56,21,23,111,59,205,45,37,192],[55,38,70,124,73,102,1,34,98]],[[125,98,42,88,104,85,117,175,82],[95,84,53,89,128,100,113,101,45],[75,79,123,47,51,128,81,171,1],[57,17,5,71,102,57,53,41,49],[38,33,13,121,57,73,26,1,85],[41,10,67,138,77,110,90,47,114],[115,21,2,10,102,255,166,23,6],[101,29,16,10,85,128,101,196,26],[57,18,10,102,102,213,34,20,43],[117,20,15,36,163,128,68,1,26]],[[102,61,71,37,34,53,31,243,192],[69,60,71,38,73,119,28,222,37],[68,45,128,34,1,47,11,245,171],[62,17,19,70,146,85,55,62,70],[37,43,37,154,100,163,85,160,1],[63,9,92,136,28,64,32,201,85],[75,15,9,9,64,255,184,119,16],[86,6,28,5,64,255,25,248,1],[56,8,17,132,137,255,55,116,128],[58,15,20,82,135,57,26,121,40]],[[164,50,31,137,154,133,25,35,218],[51,103,44,131,131,123,31,6,158],[86,40,64,135,148,224,45,183,128],[22,26,17,131,240,154,14,1,209],[45,16,21,91,64,222,7,1,197],[56,21,39,155,60,138,23,102,213],[83,12,13,54,192,255,68,47,28],[85,26,85,85,128,128,32,146,171],[18,11,7,63,144,171,4,4,246],[35,27,10,146,174,171,12,26,128]],[[190,80,35,99,180,80,126,54,45],[85,126,47,87,176,51,41,20,32],[101,75,128,139,118,146,116,128,85],[56,41,15,176,236,85,37,9,62],[71,30,17,119,118,255,17,18,138],[101,38,60,138,55,70,43,26,142],[146,36,19,30,171,255,97,27,20],[138,45,61,62,219,1,81,188,64],[32,41,20,117,151,142,20,21,163],[112,19,12,61,195,128,48,4,24]]],dj=[[[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[176,246,255,255,255,255,255,255,255,255,255],[223,241,252,255,255,255,255,255,255,255,255],[249,253,253,255,255,255,255,255,255,255,255]],[[255,244,252,255,255,255,255,255,255,255,255],[234,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255]],[[255,246,254,255,255,255,255,255,255,255,255],[239,253,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[251,255,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[251,254,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,254,253,255,254,255,255,255,255,255,255],[250,255,254,255,254,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[217,255,255,255,255,255,255,255,255,255,255],[225,252,241,253,255,255,254,255,255,255,255],[234,250,241,250,253,255,253,254,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[223,254,254,255,255,255,255,255,255,255,255],[238,253,254,254,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[249,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,255,255,255,255,255,255,255,255,255],[247,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[252,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[186,251,250,255,255,255,255,255,255,255,255],[234,251,244,254,255,255,255,255,255,255,255],[251,251,243,253,254,255,254,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[236,253,254,255,255,255,255,255,255,255,255],[251,253,253,254,254,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[254,254,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[254,254,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[248,255,255,255,255,255,255,255,255,255,255],[250,254,252,254,255,255,255,255,255,255,255],[248,254,249,253,255,255,255,255,255,255,255]],[[255,253,253,255,255,255,255,255,255,255,255],[246,253,253,255,255,255,255,255,255,255,255],[252,254,251,254,254,255,255,255,255,255,255]],[[255,254,252,255,255,255,255,255,255,255,255],[248,254,253,255,255,255,255,255,255,255,255],[253,255,254,254,255,255,255,255,255,255,255]],[[255,251,254,255,255,255,255,255,255,255,255],[245,251,254,255,255,255,255,255,255,255,255],[253,253,254,255,255,255,255,255,255,255,255]],[[255,251,253,255,255,255,255,255,255,255,255],[252,253,254,255,255,255,255,255,255,255,255],[255,254,255,255,255,255,255,255,255,255,255]],[[255,252,255,255,255,255,255,255,255,255,255],[249,255,254,255,255,255,255,255,255,255,255],[255,255,254,255,255,255,255,255,255,255,255]],[[255,255,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]]],fj=[0,1,2,3,6,4,5,6,6,6,6,6,6,6,6,7,0],iy=[],E0=[],Xm=[],pj=1,vR=2,sy=[],Ap=[];Ur("UpsampleRgbLinePair",Bo,3),Ur("UpsampleBgrLinePair",bc,3),Ur("UpsampleRgbaLinePair",y0,4),Ur("UpsampleBgraLinePair",Vu,4),Ur("UpsampleArgbLinePair",Rh,4),Ur("UpsampleRgba4444LinePair",iu,2),Ur("UpsampleRgb565LinePair",Rc,2);var gj=St.UpsampleRgbLinePair,mj=St.UpsampleBgrLinePair,yR=St.UpsampleRgbaLinePair,_R=St.UpsampleBgraLinePair,xR=St.UpsampleArgbLinePair,wR=St.UpsampleRgba4444LinePair,vj=St.UpsampleRgb565LinePair,YI=16,KI=1<<YI-1,yC=-227,XN=482,bR=6,yj=(256<<bR)-1,ER=0,_j=o(256),xj=o(256),wj=o(256),bj=o(256),Ej=o(XN-yC),Tj=o(XN-yC);Gm("YuvToRgbRow",Bo,3),Gm("YuvToBgrRow",bc,3),Gm("YuvToRgbaRow",y0,4),Gm("YuvToBgraRow",Vu,4),Gm("YuvToArgbRow",Rh,4),Gm("YuvToRgba4444Row",iu,2),Gm("YuvToRgb565Row",Rc,2);var TR=[0,4,8,12,128,132,136,140,256,260,264,268,384,388,392,396],XI=[0,2,8],Cj=[8,7,6,4,4,2,2,2,1,1,1,1];this.WebPDecodeRGBA=function(E,O,ce,Ve,yt){var Dt=qI,Ot=new G2,Bt=new Pf;Ot.ba=Bt,Bt.S=Dt,Bt.width=[Bt.width],Bt.height=[Bt.height];var Ht=Bt.width,sn=Bt.height,Un=new p0;if(null==Un||null==E)var cr=2;else n(null!=Un),cr=$2(E,O,ce,Un.width,Un.height,Un.Pd,Un.Qd,Un.format,null);if(0!=cr?Ht=0:(null!=Ht&&(Ht[0]=Un.width[0]),null!=sn&&(sn[0]=Un.height[0]),Ht=1),Ht){Bt.width=Bt.width[0],Bt.height=Bt.height[0],null!=Ve&&(Ve[0]=Bt.width),null!=yt&&(yt[0]=Bt.height);e:{if(Ve=new Pg,(yt=new iC).data=E,yt.w=O,yt.ha=ce,yt.kd=1,O=[0],n(null!=yt),(0==(E=$2(yt.data,yt.w,yt.ha,null,null,null,O,null,yt))||7==E)&&O[0]&&(E=4),0==(O=E)){if(n(null!=Ot),Ve.data=yt.data,Ve.w=yt.w+yt.offset,Ve.ha=yt.ha-yt.offset,Ve.put=bp,Ve.ac=pu,Ve.bc=Ep,Ve.ma=Ot,yt.xa){if(null==(E=Cr())){Ot=1;break e}if(function(ur,Jn){var Xr=[0],Sr=[0],Bn=[0];t:for(;;){if(null==ur)return 0;if(null==Jn)return ur.a=2,0;if(ur.l=Jn,ur.a=0,Zn(ur.m,Jn.data,Jn.w,Jn.ha),!ys(ur.m,Xr,Sr,Bn)){ur.a=3;break t}if(ur.xb=vR,Jn.width=Xr[0],Jn.height=Sr[0],!lr(Xr[0],Sr[0],1,ur,null))break t;return 1}return n(0!=ur.a),0}(E,Ve)){if(Ve=0==(O=Y2(Ve.width,Ve.height,Ot.Oa,Ot.ba))){t:{Ve=E;n:for(;;){if(null==Ve){Ve=0;break t}if(n(null!=Ve.s.yc),n(null!=Ve.s.Ya),n(0<Ve.s.Wb),n(null!=(ce=Ve.l)),n(null!=(yt=ce.ma)),0!=Ve.xb){if(Ve.ca=yt.ba,Ve.tb=yt.tb,n(null!=Ve.ca),!uC(yt.Oa,ce,GI)){Ve.a=2;break n}if(!pr(Ve,ce.width)||ce.da)break n;if((ce.da||Go(Ve.ca.S))&&ir(),11>Ve.ca.S||(alert("todo:WebPInitConvertARGBToYUV"),null!=Ve.ca.f.kb.F&&ir()),Ve.Pb&&0<Ve.s.ua&&null==Ve.s.vb.X&&!_i(Ve.s.vb,Ve.s.Wa.Xa)){Ve.a=1;break n}Ve.xb=0}if(!un(Ve,Ve.V,Ve.Ba,Ve.c,Ve.i,ce.o,cn))break n;yt.Dc=Ve.Ma,Ve=1;break t}n(0!=Ve.a),Ve=0}Ve=!Ve}Ve&&(O=E.a)}else O=E.a}else{if(null==(E=new Mf)){Ot=1;break e}if(E.Fa=yt.na,E.P=yt.P,E.qc=yt.Sa,CI(E,Ve)){if(0==(O=Y2(Ve.width,Ve.height,Ot.Oa,Ot.ba))){if(E.Aa=0,ce=Ot.Oa,n(null!=(yt=E)),null!=ce){if(0<(Ht=0>(Ht=ce.Md)?0:100<Ht?255:255*Ht/100)){for(sn=Un=0;4>sn;++sn)12>(cr=yt.pb[sn]).lc&&(cr.ia=Ht*Cj[0>cr.lc?0:cr.lc]>>3),Un|=cr.ia;Un&&(alert("todo:VP8InitRandom"),yt.ia=1)}yt.Ga=ce.Id,100<yt.Ga?yt.Ga=100:0>yt.Ga&&(yt.Ga=0)}(function EN(E,O){if(null==E)return 0;if(null==O)return Yc(E,2,"NULL VP8Io parameter in VP8Decode().");if(!E.cb&&!CI(E,O))return 0;if(n(E.cb),null==O.ac||O.ac(O)){O.ob&&(E.L=0);var ce=XI[E.L];if(2==E.L?(E.yb=0,E.zb=0):(E.yb=O.v-ce>>4,E.zb=O.j-ce>>4,0>E.yb&&(E.yb=0),0>E.zb&&(E.zb=0)),E.Va=O.o+15+ce>>4,E.Hb=O.va+15+ce>>4,E.Hb>E.za&&(E.Hb=E.za),E.Va>E.Ub&&(E.Va=E.Ub),0<E.L){var Ve=E.ed;for(ce=0;4>ce;++ce){var yt;if(E.Qa.Cb){var Dt=E.Qa.Lb[ce];E.Qa.Fb||(Dt+=Ve.Tb)}else Dt=Ve.Tb;for(yt=0;1>=yt;++yt){var Ot=E.gd[ce][yt],Bt=Dt;if(Ve.Pc&&(Bt+=Ve.vd[0],yt&&(Bt+=Ve.od[0])),0<(Bt=0>Bt?0:63<Bt?63:Bt)){var Ht=Bt;0<Ve.wb&&(Ht=4<Ve.wb?Ht>>2:Ht>>1)>9-Ve.wb&&(Ht=9-Ve.wb),1>Ht&&(Ht=1),Ot.dd=Ht,Ot.tc=2*Bt+Ht,Ot.ld=40<=Bt?2:15<=Bt?1:0}else Ot.tc=0;Ot.La=yt}}}ce=0}else Yc(E,6,"Frame setup failed"),ce=E.a;if(ce=0==ce){if(ce){E.$c=0,0<E.Aa||(E.Ic=1);e:{Ve=4*(Ht=E.za);var sn=32*Ht,Un=Ht+1,cr=0<E.L?Ht*(0<E.Aa?2:1):0,ur=(2==E.Aa?2:1)*Ht;if((Ot=Ve+832+(yt=3*(16*(ce=E.Ic)+XI[E.L])/2*sn)+(Dt=null!=E.Fa&&0<E.Fa.length?E.Kc.c*E.Kc.i:0))!=Ot)ce=0;else{if(Ot>E.Vb){if(E.Vb=0,E.Ec=o(Ot),E.Fc=0,null==E.Ec){ce=Yc(E,1,"no memory during frame initialization.");break e}E.Vb=Ot}Bt=E.Fc,E.Ac=Ot=E.Ec,E.Bc=Bt,Bt+=Ve,E.Gd=d(sn,kg),E.Hd=0,E.rb=d(Un+1,gu),E.sb=1,E.wa=cr?d(cr,aa):null,E.Y=0,E.D.Nb=0,E.D.wa=E.wa,E.D.Y=E.Y,0<E.Aa&&(E.D.Y+=Ht),n(!0),E.oc=Ot,E.pc=Bt,Bt+=832,E.ya=d(ur,mu),E.aa=0,E.D.ya=E.ya,E.D.aa=E.aa,2==E.Aa&&(E.D.aa+=Ht),E.R=16*Ht,E.B=8*Ht,Ht=(sn=XI[E.L])*E.R,sn=sn/2*E.B,E.sa=Ot,E.ta=Bt+Ht,E.qa=E.sa,E.ra=E.ta+16*ce*E.R+sn,E.Ha=E.qa,E.Ia=E.ra+8*ce*E.B+sn,E.$c=0,Bt+=yt,E.mb=Dt?Ot:null,E.nb=Dt?Bt:null,n(Bt+Dt<=E.Fc+E.Vb),YT(E),s(E.Ac,E.Bc,0,Ve),ce=1}}if(ce){if(O.ka=0,O.y=E.sa,O.O=E.ta,O.f=E.qa,O.N=E.ra,O.ea=E.Ha,O.Vd=E.Ia,O.fa=E.R,O.Rc=E.B,O.F=null,O.J=0,!dR){for(ce=-255;255>=ce;++ce)lR[255+ce]=0>ce?-ce:ce;for(ce=-1020;1020>=ce;++ce)cR[1020+ce]=-128>ce?-128:127<ce?127:ce;for(ce=-112;112>=ce;++ce)uR[112+ce]=-16>ce?-16:15<ce?15:ce;for(ce=-255;510>=ce;++ce)hR[255+ce]=0>ce?0:255<ce?255:ce;dR=1}w0=SN,eb=TN,ty=II,b0=CN,$m=DI,gC=AI,yx=tC,tb=mx,_x=BN,ny=nC,mC=UN,Cp=q2,Ym=rC,Nl=UI,Ml=LI,Kc=qm,vu=K1,Km=LN,E0[0]=Ng,E0[1]=AN,E0[2]=PN,E0[3]=NN,E0[4]=NI,E0[5]=z2,E0[6]=MI,E0[7]=JT,E0[8]=ON,E0[9]=MN,iy[0]=kI,iy[1]=DN,iy[2]=Wm,iy[3]=V2,iy[4]=Fh,iy[5]=kN,iy[6]=PI,Xm[0]=Y1,Xm[1]=IN,Xm[2]=FN,Xm[3]=QT,Xm[4]=gx,Xm[5]=RN,Xm[6]=eC,ce=1}else ce=0}ce&&(ce=function(Jn,Xr){for(Jn.M=0;Jn.M<Jn.Va;++Jn.M){var Sr,Bn=Jn.Jc[Jn.M&Jn.Xb],Gn=Jn.m,$r=Jn;for(Sr=0;Sr<$r.za;++Sr){var ti=Gn,Kr=$r,zi=Kr.Ac,Di=Kr.Bc+4*Sr,_s=Kr.zc,Oi=Kr.ya[Kr.aa+Sr];if(Oi.$b=Kr.Qa.Bb?Pn(ti,Kr.Pa.jb[0])?2+Pn(ti,Kr.Pa.jb[2]):Pn(ti,Kr.Pa.jb[1]):0,Kr.kc&&(Oi.Ad=Pn(ti,Kr.Bd)),Oi.Za=!Pn(ti,145)+0,Oi.Za){var ma=Oi.Ob,ja=0;for(Kr=0;4>Kr;++Kr){var Zo,Fo=_s[0+Kr];for(Zo=0;4>Zo;++Zo){for(var gl=mR[Pn(ti,(Fo=hj[zi[Di+Zo]][Fo])[0])];0<gl;)gl=mR[2*gl+Pn(ti,Fo[gl])];zi[Di+Zo]=Fo=-gl}r(ma,ja,zi,Di,4),ja+=4,_s[0+Kr]=Fo}}else Fo=Pn(ti,156)?Pn(ti,128)?1:3:Pn(ti,163)?2:0,Oi.Ob[0]=Fo,s(zi,Di,Fo,4),s(_s,0,Fo,4);Oi.Dd=Pn(ti,142)?Pn(ti,114)?Pn(ti,183)?1:3:2:0}if($r.m.Ka)return Yc(Jn,7,"Premature end-of-partition0 encountered.");for(;Jn.ja<Jn.za;++Jn.ja){if($r=Bn,ti=(Gn=Jn).rb[Gn.sb-1],zi=Gn.rb[Gn.sb+Gn.ja],Sr=Gn.ya[Gn.aa+Gn.ja],Di=Gn.kc?Sr.Ad:0)ti.la=zi.la=0,Sr.Za||(ti.Na=zi.Na=0),Sr.Hc=0,Sr.Gc=0,Sr.ia=0;else{var el,lo;if(ti=zi,zi=$r,Di=Gn.Pa.Xc,Oi=Gn.pb[(_s=Gn.ya[Gn.aa+Gn.ja]).$b],ja=Gn.rb[Gn.sb-1],Fo=Zo=0,s(Kr=_s.ad,ma=0,0,384),_s.Za)var su=0,Jd=Di[3];else{gl=o(16);var ou=ti.Na+ja.Na;if(ou=vC(zi,Di[1],ou,Oi.Eb,0,gl,0),ti.Na=ja.Na=(0<ou)+0,1<ou)w0(gl,0,Kr,ma);else{var Qd=gl[0]+3>>3;for(gl=0;256>gl;gl+=16)Kr[ma+gl]=Qd}su=1,Jd=Di[0]}var Va=15&ti.la,Rf=15&ja.la;for(gl=0;4>gl;++gl){var Lf=1&Rf;for(Qd=lo=0;4>Qd;++Qd)Va=Va>>1|(Lf=(ou=vC(zi,Jd,ou=Lf+(1&Va),Oi.Sc,su,Kr,ma))>su)<<7,lo=lo<<2|(3<ou?3:1<ou?2:0!=Kr[ma+0]),ma+=16;Va>>=4,Rf=Rf>>1|Lf<<7,Zo=(Zo<<8|lo)>>>0}for(Jd=Va,su=Rf>>4,el=0;4>el;el+=2){for(lo=0,Va=ti.la>>4+el,Rf=ja.la>>4+el,gl=0;2>gl;++gl){for(Lf=1&Rf,Qd=0;2>Qd;++Qd)Va=Va>>1|(Lf=0<(ou=vC(zi,Di[2],ou=Lf+(1&Va),Oi.Qc,0,Kr,ma)))<<3,lo=lo<<2|(3<ou?3:1<ou?2:0!=Kr[ma+0]),ma+=16;Va>>=2,Rf=Rf>>1|Lf<<5}Fo|=lo<<4*el,Jd|=Va<<4<<el,su|=(240&Rf)<<el}ti.la=Jd,ja.la=su,_s.Hc=Zo,_s.Gc=Fo,_s.ia=43690&Fo?0:Oi.ia,Di=!(Zo|Fo)}if(0<Gn.L&&(Gn.wa[Gn.Y+Gn.ja]=Gn.gd[Sr.$b][Sr.Za],Gn.wa[Gn.Y+Gn.ja].La|=!Di),$r.Ka)return Yc(Jn,7,"Premature end-of-file encountered.")}if(YT(Jn),Gn=Xr,$r=1,Sr=(Bn=Jn).D,ti=0<Bn.L&&Bn.M>=Bn.zb&&Bn.M<=Bn.Va,0==Bn.Aa)e:{if(Sr.M=Bn.M,Sr.uc=ti,cC(Bn,Sr),$r=1,Sr=(lo=Bn.D).Nb,ti=(Fo=XI[Bn.L])*Bn.R,Di=Bn.sa,_s=Bn.ta-ti+(gl=16*Sr*Bn.R),Oi=Bn.qa,Kr=Bn.ra-(zi=Fo/2*Bn.B)+(Qd=8*Sr*Bn.B),ma=Bn.Ha,ja=Bn.Ia-zi+Qd,Rf=0==(Va=lo.M),Zo=Va>=Bn.Va-1,2==Bn.Aa&&cC(Bn,lo),lo.uc)for(Lf=(ou=Bn).D.M,n(ou.D.uc),lo=ou.yb;lo<ou.Hb;++lo){Jd=Lf;var Hu=(gh=(Lc=ou).D).Nb,gh=gh.wa[gh.Y+(su=lo)],fd=Lc.sa,Ip=Lc.ta+16*Hu*(el=Lc.R)+16*su,Og=gh.dd,zu=gh.tc;if(0!=zu)if(n(3<=zu),1==Lc.L)0<su&&Kc(fd,Ip,el,zu+4),gh.La&&Km(fd,Ip,el,zu),0<Jd&&Ml(fd,Ip,el,zu+4),gh.La&&vu(fd,Ip,el,zu);else{var Jm=Lc.B,xx=Lc.qa,rb=Lc.ra+8*Hu*Jm+8*su,oy=Lc.Ha,Lc=Lc.Ia+8*Hu*Jm+8*su;Hu=gh.ld,0<su&&(tb(fd,Ip,el,zu+4,Og,Hu),ny(xx,rb,oy,Lc,Jm,zu+4,Og,Hu)),gh.La&&(Cp(fd,Ip,el,zu,Og,Hu),Nl(xx,rb,oy,Lc,Jm,zu,Og,Hu)),0<Jd&&(yx(fd,Ip,el,zu+4,Og,Hu),_x(xx,rb,oy,Lc,Jm,zu+4,Og,Hu)),gh.La&&(mC(fd,Ip,el,zu,Og,Hu),Ym(xx,rb,oy,Lc,Jm,zu,Og,Hu))}}if(Bn.ia&&alert("todo:DitherRow"),null!=Gn.put){if(lo=16*Va,Va=16*(Va+1),Rf?(Gn.y=Bn.sa,Gn.O=Bn.ta+gl,Gn.f=Bn.qa,Gn.N=Bn.ra+Qd,Gn.ea=Bn.Ha,Gn.W=Bn.Ia+Qd):(lo-=Fo,Gn.y=Di,Gn.O=_s,Gn.f=Oi,Gn.N=Kr,Gn.ea=ma,Gn.W=ja),Zo||(Va-=Fo),Va>Gn.o&&(Va=Gn.o),Gn.F=null,Gn.J=null,null!=Bn.Fa&&0<Bn.Fa.length&&lo<Va&&(Gn.J=aC(Bn,Gn,lo,Va-lo),Gn.F=Bn.mb,null==Gn.F&&0==Gn.F.length)){$r=Yc(Bn,3,"Could not decode alpha data.");break e}lo<Gn.j&&(Fo=Gn.j-lo,lo=Gn.j,n(!(1&Fo)),Gn.O+=Bn.R*Fo,Gn.N+=Bn.B*(Fo>>1),Gn.W+=Bn.B*(Fo>>1),null!=Gn.F&&(Gn.J+=Gn.width*Fo)),lo<Va&&(Gn.O+=Gn.v,Gn.N+=Gn.v>>1,Gn.W+=Gn.v>>1,null!=Gn.F&&(Gn.J+=Gn.v),Gn.ka=lo-Gn.j,Gn.U=Gn.va-Gn.v,Gn.T=Va-lo,$r=Gn.put(Gn))}Sr+1!=Bn.Ic||Zo||(r(Bn.sa,Bn.ta-ti,Di,_s+16*Bn.R,ti),r(Bn.qa,Bn.ra-zi,Oi,Kr+8*Bn.B,zi),r(Bn.Ha,Bn.Ia-zi,ma,ja+8*Bn.B,zi))}if(!$r)return Yc(Jn,6,"Output aborted.")}return 1}(E,O)),null!=O.bc&&O.bc(O),ce&=1}return ce?(E.cb=0,ce):0})(E,Ve)||(O=E.a)}}else O=E.a}0==O&&null!=Ot.Oa&&Ot.Oa.fd&&(O=hC(Ot.ba))}Ot=O}Dt=0!=Ot?null:11>Dt?Bt.f.RGBA.eb:Bt.f.kb.y}else Dt=null;return Dt};var CR=[3,4,3,4,4,2,2,4,4,4,2,1,1]};function _(St,Jt){for(var gn="",vt=0;vt<4;vt++)gn+=String.fromCharCode(St[Jt++]);return gn}function w(St,Jt){return(St[Jt+0]<<0|St[Jt+1]<<8|St[Jt+2]<<16)>>>0}function A(St,Jt){return(St[Jt+0]<<0|St[Jt+1]<<8|St[Jt+2]<<16|St[Jt+3]<<24)>>>0}new m;var N=[0],D=[0],ee=[],B=new m,he=e,Pe=function(St,Jt){var gn={},vt=0,st=!1,rn=0,tn=0;if(gn.frames=[],!function(bt,ut,_t,Kt){for(var In=0;In<4;In++)if(bt[ut+In]!="RIFF".charCodeAt(In))return!0;return!1}(St,Jt)){var Fn,Wn;for(A(St,Jt+=4),Jt+=8;Jt<St.length;){var Kn=_(St,Jt),Zn=A(St,Jt+=4);Jt+=4;var zn=Zn+(1&Zn);switch(Kn){case"VP8 ":case"VP8L":void 0===gn.frames[vt]&&(gn.frames[vt]={}),(Ie=gn.frames[vt]).src_off=st?tn:Jt-8,Ie.src_size=rn+Zn+8,vt++,st&&(st=!1,rn=0,tn=0);break;case"VP8X":(Ie=gn.header={}).feature_flags=St[Jt];var nr=Jt+4;Ie.canvas_width=1+w(St,nr),Ie.canvas_height=1+w(St,nr+=3),nr+=3;break;case"ALPH":st=!0,rn=zn+8,tn=Jt-8;break;case"ANIM":(Ie=gn.header).bgcolor=A(St,Jt),Ie.loop_count=(Fn=St)[(Wn=nr=Jt+4)+0]<<0|Fn[Wn+1]<<8,nr+=2;break;case"ANMF":var Qn,Ie;(Ie=gn.frames[vt]={}).offset_x=2*w(St,Jt),Ie.offset_y=2*w(St,Jt+=3),Ie.width=1+w(St,Jt+=3),Ie.height=1+w(St,Jt+=3),Ie.duration=w(St,Jt+=3),Jt+=3,Qn=St[Jt++],Ie.dispose=1&Qn,Ie.blend=Qn>>1&1}"ANMF"!=Kn&&(Jt+=zn)}return gn}}(he,0);Pe.response=he,Pe.rgbaoutput=!0,Pe.dataurl=!1;var je=Pe.header?Pe.header:null,Xe=Pe.frames?Pe.frames:null;if(je){je.loop_counter=je.loop_count,N=[je.canvas_height],D=[je.canvas_width];for(var Vt=0;Vt<Xe.length&&0!=Xe[Vt].blend;Vt++);}var Xt=Xe[0],bn=B.WebPDecodeRGBA(he,Xt.src_off,Xt.src_size,D,N);Xt.rgba=bn,Xt.imgwidth=D[0],Xt.imgheight=N[0];for(var At=0;At<D[0]*N[0]*4;At++)ee[At]=bn[At];return this.width=D,this.height=N,this.data=ee,this}(function(e){var t=function(N,D,ee,B){var he=4,Pe=d;switch(B){case e.image_compression.FAST:he=1,Pe=o;break;case e.image_compression.MEDIUM:he=6,Pe=g;break;case e.image_compression.SLOW:he=9,Pe=m}var je=fT(N=r(N,D,ee,Pe),{level:he});return e.__addimage__.arrayBufferToBinaryString(je)},r=function(N,D,ee,B){for(var he,Pe,je,Xe=N.length/D,Vt=new Uint8Array(N.length+Xe),Xt=w(),bn=0;bn<Xe;bn+=1){if(he=N.subarray(je=bn*D,je+D),B)Vt.set(B(he,ee,Pe),je+bn);else{for(var At,St=Xt.length,Jt=[];At<St;At+=1)Jt[At]=Xt[At](he,ee,Pe);var gn=A(Jt.concat());Vt.set(Jt[gn],je+bn)}Pe=he}return Vt},s=function(N){var D=Array.apply([],N);return D.unshift(0),D},o=function(N,D){var B=[],he=N.length;B[0]=1;for(var Pe=0;Pe<he;Pe+=1)B[Pe+1]=N[Pe]-(N[Pe-D]||0)+256&255;return B},d=function(N,D,ee){var he=[],Pe=N.length;he[0]=2;for(var je=0;je<Pe;je+=1)he[je+1]=N[je]-(ee&&ee[je]||0)+256&255;return he},g=function(N,D,ee){var Pe=[],je=N.length;Pe[0]=3;for(var Xe=0;Xe<je;Xe+=1)Pe[Xe+1]=N[Xe]+256-((N[Xe-D]||0)+(ee&&ee[Xe]||0)>>>1)&255;return Pe},m=function(N,D,ee){var je,Xe=[],Vt=N.length;Xe[0]=4;for(var Xt=0;Xt<Vt;Xt+=1)je=_(N[Xt-D]||0,ee&&ee[Xt]||0,ee&&ee[Xt-D]||0),Xe[Xt+1]=N[Xt]-je+256&255;return Xe},_=function(N,D,ee){if(N===D&&D===ee)return N;var B=Math.abs(D-ee),he=Math.abs(N-ee),Pe=Math.abs(N+D-ee-ee);return B<=he&&B<=Pe?N:he<=Pe?D:ee},w=function(){return[s,o,d,g,m]},A=function(N){var D=N.map(function(ee){return ee.reduce(function(B,he){return B+Math.abs(he)},0)});return D.indexOf(Math.min.apply(null,D))};e.processPNG=function(N,D,ee,B){var he,Pe,je,Xe,Vt,Xt,bn,At,St,Jt,gn,vt,st,rn,tn,Fn=this.decode.FLATE_DECODE,Wn="";if(this.__addimage__.isArrayBuffer(N)&&(N=new Uint8Array(N)),this.__addimage__.isArrayBufferView(N)){if(N=(je=new x4(N)).imgData,Pe=je.bits,he=je.colorSpace,Vt=je.colors,-1!==[4,6].indexOf(je.colorType)){if(8===je.bits){St=(At=32==je.pixelBitlength?new Uint32Array(je.decodePixels().buffer):16==je.pixelBitlength?new Uint16Array(je.decodePixels().buffer):new Uint8Array(je.decodePixels().buffer)).length,gn=new Uint8Array(St*je.colors),Jt=new Uint8Array(St);var Kn,Zn=je.pixelBitlength-je.bits;for(rn=0,tn=0;rn<St;rn++){for(st=At[rn],Kn=0;Kn<Zn;)gn[tn++]=st>>>Kn&255,Kn+=je.bits;Jt[rn]=st>>>Kn&255}}if(16===je.bits){St=(At=new Uint32Array(je.decodePixels().buffer)).length,gn=new Uint8Array(St*(32/je.pixelBitlength)*je.colors),Jt=new Uint8Array(St*(32/je.pixelBitlength)),vt=je.colors>1,rn=0,tn=0;for(var zn=0;rn<St;)st=At[rn++],gn[tn++]=st>>>0&255,vt&&(gn[tn++]=st>>>16&255,st=At[rn++],gn[tn++]=st>>>0&255),Jt[zn++]=st>>>16&255;Pe=8}B!==e.image_compression.NONE?(N=t(gn,je.width*je.colors,je.colors,B),bn=t(Jt,je.width,1,B)):(N=gn,bn=Jt,Fn=void 0)}if(3===je.colorType&&(he=this.color_spaces.INDEXED,Xt=je.palette,je.transparency.indexed)){var nr=je.transparency.indexed,Qn=0;for(rn=0,St=nr.length;rn<St;++rn)Qn+=nr[rn];if((Qn/=255)==St-1&&-1!==nr.indexOf(0))Xe=[nr.indexOf(0)];else if(Qn!==St){for(At=je.decodePixels(),Jt=new Uint8Array(At.length),rn=0,St=At.length;rn<St;rn++)Jt[rn]=nr[At[rn]];bn=t(Jt,je.width,1)}}var Ie=function(bt){var ut;switch(bt){case e.image_compression.FAST:ut=11;break;case e.image_compression.MEDIUM:ut=13;break;case e.image_compression.SLOW:ut=14;break;default:ut=12}return ut}(B);return Fn===this.decode.FLATE_DECODE&&(Wn="/Predictor "+Ie+" "),Wn+="/Colors "+Vt+" /BitsPerComponent "+Pe+" /Columns "+je.width,(this.__addimage__.isArrayBuffer(N)||this.__addimage__.isArrayBufferView(N))&&(N=this.__addimage__.arrayBufferToBinaryString(N)),(bn&&this.__addimage__.isArrayBuffer(bn)||this.__addimage__.isArrayBufferView(bn))&&(bn=this.__addimage__.arrayBufferToBinaryString(bn)),{alias:ee,data:N,index:D,filter:Fn,decodeParameters:Wn,transparency:Xe,palette:Xt,sMask:bn,predictor:Ie,width:je.width,height:je.height,bitsPerComponent:Pe,colorSpace:he}}}})(bs.API),function(e){e.processGIF89A=function(n,t,r,s){var o=new w4(n),d=o.width,g=o.height,m=[];o.decodeAndBlitFrameRGBA(0,m);var _={data:m,width:d,height:g},w=new X5(100).encode(_,100);return e.processJPEG.call(this,w,t,r,s)},e.processGIF87A=e.processGIF89A}(bs.API),l0.prototype.parseHeader=function(){if(this.fileSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.reserved=this.datav.getUint32(this.pos,!0),this.pos+=4,this.offset=this.datav.getUint32(this.pos,!0),this.pos+=4,this.headerSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.width=this.datav.getUint32(this.pos,!0),this.pos+=4,this.height=this.datav.getInt32(this.pos,!0),this.pos+=4,this.planes=this.datav.getUint16(this.pos,!0),this.pos+=2,this.bitPP=this.datav.getUint16(this.pos,!0),this.pos+=2,this.compress=this.datav.getUint32(this.pos,!0),this.pos+=4,this.rawSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.hr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.vr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.colors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.importantColors=this.datav.getUint32(this.pos,!0),this.pos+=4,16===this.bitPP&&this.is_with_alpha&&(this.bitPP=15),this.bitPP<15){var e=0===this.colors?1<<this.bitPP:this.colors;this.palette=new Array(e);for(var n=0;n<e;n++){var t=this.datav.getUint8(this.pos++,!0),r=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),o=this.datav.getUint8(this.pos++,!0);this.palette[n]={red:s,green:r,blue:t,quad:o}}}this.height<0&&(this.height*=-1,this.bottom_up=!1)},l0.prototype.parseBGR=function(){this.pos=this.offset;try{var e="bit"+this.bitPP;this.data=new Uint8Array(this.width*this.height*4),this[e]()}catch(t){dl.log("bit decode error:"+t)}},l0.prototype.bit1=function(){var e,n=Math.ceil(this.width/8),t=n%4;for(e=this.height-1;e>=0;e--){for(var r=this.bottom_up?e:this.height-1-e,s=0;s<n;s++)for(var o=this.datav.getUint8(this.pos++,!0),d=r*this.width*4+8*s*4,g=0;g<8&&8*s+g<this.width;g++){var m=this.palette[o>>7-g&1];this.data[d+4*g]=m.blue,this.data[d+4*g+1]=m.green,this.data[d+4*g+2]=m.red,this.data[d+4*g+3]=255}0!==t&&(this.pos+=4-t)}},l0.prototype.bit4=function(){for(var e=Math.ceil(this.width/2),n=e%4,t=this.height-1;t>=0;t--){for(var r=this.bottom_up?t:this.height-1-t,s=0;s<e;s++){var o=this.datav.getUint8(this.pos++,!0),d=r*this.width*4+2*s*4,m=15&o,_=this.palette[o>>4];if(this.data[d]=_.blue,this.data[d+1]=_.green,this.data[d+2]=_.red,this.data[d+3]=255,2*s+1>=this.width)break;this.data[d+4]=(_=this.palette[m]).blue,this.data[d+4+1]=_.green,this.data[d+4+2]=_.red,this.data[d+4+3]=255}0!==n&&(this.pos+=4-n)}},l0.prototype.bit8=function(){for(var e=this.width%4,n=this.height-1;n>=0;n--){for(var t=this.bottom_up?n:this.height-1-n,r=0;r<this.width;r++){var s=this.datav.getUint8(this.pos++,!0),o=t*this.width*4+4*r;if(s<this.palette.length){var d=this.palette[s];this.data[o]=d.red,this.data[o+1]=d.green,this.data[o+2]=d.blue,this.data[o+3]=255}else this.data[o]=255,this.data[o+1]=255,this.data[o+2]=255,this.data[o+3]=255}0!==e&&(this.pos+=4-e)}},l0.prototype.bit15=function(){for(var e=this.width%3,n=parseInt("11111",2),t=this.height-1;t>=0;t--){for(var r=this.bottom_up?t:this.height-1-t,s=0;s<this.width;s++){var o=this.datav.getUint16(this.pos,!0);this.pos+=2;var d=(o&n)/n*255|0,g=(o>>5&n)/n*255|0,_=o>>15?255:0,w=r*this.width*4+4*s;this.data[w]=(o>>10&n)/n*255|0,this.data[w+1]=g,this.data[w+2]=d,this.data[w+3]=_}this.pos+=e}},l0.prototype.bit16=function(){for(var e=this.width%3,n=parseInt("11111",2),t=parseInt("111111",2),r=this.height-1;r>=0;r--){for(var s=this.bottom_up?r:this.height-1-r,o=0;o<this.width;o++){var d=this.datav.getUint16(this.pos,!0);this.pos+=2;var g=(d&n)/n*255|0,m=(d>>5&t)/t*255|0,w=s*this.width*4+4*o;this.data[w]=(d>>11)/n*255|0,this.data[w+1]=m,this.data[w+2]=g,this.data[w+3]=255}this.pos+=e}},l0.prototype.bit24=function(){for(var e=this.height-1;e>=0;e--){for(var n=this.bottom_up?e:this.height-1-e,t=0;t<this.width;t++){var r=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),o=this.datav.getUint8(this.pos++,!0),d=n*this.width*4+4*t;this.data[d]=o,this.data[d+1]=s,this.data[d+2]=r,this.data[d+3]=255}this.pos+=this.width%4}},l0.prototype.bit32=function(){for(var e=this.height-1;e>=0;e--)for(var n=this.bottom_up?e:this.height-1-e,t=0;t<this.width;t++){var r=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),o=this.datav.getUint8(this.pos++,!0),d=this.datav.getUint8(this.pos++,!0),g=n*this.width*4+4*t;this.data[g]=o,this.data[g+1]=s,this.data[g+2]=r,this.data[g+3]=d}},l0.prototype.getData=function(){return this.data},function(e){e.processBMP=function(n,t,r,s){var o=new l0(n,!1),d=o.width,g=o.height,m={data:o.getData(),width:d,height:g},_=new X5(100).encode(m,100);return e.processJPEG.call(this,_,t,r,s)}}(bs.API),pO.prototype.getData=function(){return this.data},function(e){e.processWEBP=function(n,t,r,s){var o=new pO(n,!1),d=o.width,g=o.height,m={data:o.getData(),width:d,height:g},_=new X5(100).encode(m,100);return e.processJPEG.call(this,_,t,r,s)}}(bs.API),bs.API.processRGBA=function(e,n,t){for(var r=e.data,s=r.length,o=new Uint8Array(s/4*3),d=new Uint8Array(s/4),g=0,m=0,_=0;_<s;_+=4){var A=r[_+1],N=r[_+2],D=r[_+3];o[g++]=r[_],o[g++]=A,o[g++]=N,d[m++]=D}var ee=this.__addimage__.arrayBufferToBinaryString(o);return{alpha:this.__addimage__.arrayBufferToBinaryString(d),data:ee,index:n,alias:t,colorSpace:"DeviceRGB",bitsPerComponent:8,width:e.width,height:e.height}},bs.API.setLanguage=function(e){return void 0===this.internal.languageSettings&&(this.internal.languageSettings={},this.internal.languageSettings.isSubscribed=!1),void 0!=={af:"Afrikaans",sq:"Albanian",ar:"Arabic (Standard)","ar-DZ":"Arabic (Algeria)","ar-BH":"Arabic (Bahrain)","ar-EG":"Arabic (Egypt)","ar-IQ":"Arabic (Iraq)","ar-JO":"Arabic (Jordan)","ar-KW":"Arabic (Kuwait)","ar-LB":"Arabic (Lebanon)","ar-LY":"Arabic (Libya)","ar-MA":"Arabic (Morocco)","ar-OM":"Arabic (Oman)","ar-QA":"Arabic (Qatar)","ar-SA":"Arabic (Saudi Arabia)","ar-SY":"Arabic (Syria)","ar-TN":"Arabic (Tunisia)","ar-AE":"Arabic (U.A.E.)","ar-YE":"Arabic (Yemen)",an:"Aragonese",hy:"Armenian",as:"Assamese",ast:"Asturian",az:"Azerbaijani",eu:"Basque",be:"Belarusian",bn:"Bengali",bs:"Bosnian",br:"Breton",bg:"Bulgarian",my:"Burmese",ca:"Catalan",ch:"Chamorro",ce:"Chechen",zh:"Chinese","zh-HK":"Chinese (Hong Kong)","zh-CN":"Chinese (PRC)","zh-SG":"Chinese (Singapore)","zh-TW":"Chinese (Taiwan)",cv:"Chuvash",co:"Corsican",cr:"Cree",hr:"Croatian",cs:"Czech",da:"Danish",nl:"Dutch (Standard)","nl-BE":"Dutch (Belgian)",en:"English","en-AU":"English (Australia)","en-BZ":"English (Belize)","en-CA":"English (Canada)","en-IE":"English (Ireland)","en-JM":"English (Jamaica)","en-NZ":"English (New Zealand)","en-PH":"English (Philippines)","en-ZA":"English (South Africa)","en-TT":"English (Trinidad & Tobago)","en-GB":"English (United Kingdom)","en-US":"English (United States)","en-ZW":"English (Zimbabwe)",eo:"Esperanto",et:"Estonian",fo:"Faeroese",fj:"Fijian",fi:"Finnish",fr:"French (Standard)","fr-BE":"French (Belgium)","fr-CA":"French (Canada)","fr-FR":"French (France)","fr-LU":"French (Luxembourg)","fr-MC":"French (Monaco)","fr-CH":"French (Switzerland)",fy:"Frisian",fur:"Friulian",gd:"Gaelic (Scots)","gd-IE":"Gaelic (Irish)",gl:"Galacian",ka:"Georgian",de:"German (Standard)","de-AT":"German (Austria)","de-DE":"German (Germany)","de-LI":"German (Liechtenstein)","de-LU":"German (Luxembourg)","de-CH":"German (Switzerland)",el:"Greek",gu:"Gujurati",ht:"Haitian",he:"Hebrew",hi:"Hindi",hu:"Hungarian",is:"Icelandic",id:"Indonesian",iu:"Inuktitut",ga:"Irish",it:"Italian (Standard)","it-CH":"Italian (Switzerland)",ja:"Japanese",kn:"Kannada",ks:"Kashmiri",kk:"Kazakh",km:"Khmer",ky:"Kirghiz",tlh:"Klingon",ko:"Korean","ko-KP":"Korean (North Korea)","ko-KR":"Korean (South Korea)",la:"Latin",lv:"Latvian",lt:"Lithuanian",lb:"Luxembourgish",mk:"North Macedonia",ms:"Malay",ml:"Malayalam",mt:"Maltese",mi:"Maori",mr:"Marathi",mo:"Moldavian",nv:"Navajo",ng:"Ndonga",ne:"Nepali",no:"Norwegian",nb:"Norwegian (Bokmal)",nn:"Norwegian (Nynorsk)",oc:"Occitan",or:"Oriya",om:"Oromo",fa:"Persian","fa-IR":"Persian/Iran",pl:"Polish",pt:"Portuguese","pt-BR":"Portuguese (Brazil)",pa:"Punjabi","pa-IN":"Punjabi (India)","pa-PK":"Punjabi (Pakistan)",qu:"Quechua",rm:"Rhaeto-Romanic",ro:"Romanian","ro-MO":"Romanian (Moldavia)",ru:"Russian","ru-MO":"Russian (Moldavia)",sz:"Sami (Lappish)",sg:"Sango",sa:"Sanskrit",sc:"Sardinian",sd:"Sindhi",si:"Singhalese",sr:"Serbian",sk:"Slovak",sl:"Slovenian",so:"Somani",sb:"Sorbian",es:"Spanish","es-AR":"Spanish (Argentina)","es-BO":"Spanish (Bolivia)","es-CL":"Spanish (Chile)","es-CO":"Spanish (Colombia)","es-CR":"Spanish (Costa Rica)","es-DO":"Spanish (Dominican Republic)","es-EC":"Spanish (Ecuador)","es-SV":"Spanish (El Salvador)","es-GT":"Spanish (Guatemala)","es-HN":"Spanish (Honduras)","es-MX":"Spanish (Mexico)","es-NI":"Spanish (Nicaragua)","es-PA":"Spanish (Panama)","es-PY":"Spanish (Paraguay)","es-PE":"Spanish (Peru)","es-PR":"Spanish (Puerto Rico)","es-ES":"Spanish (Spain)","es-UY":"Spanish (Uruguay)","es-VE":"Spanish (Venezuela)",sx:"Sutu",sw:"Swahili",sv:"Swedish","sv-FI":"Swedish (Finland)","sv-SV":"Swedish (Sweden)",ta:"Tamil",tt:"Tatar",te:"Teluga",th:"Thai",tig:"Tigre",ts:"Tsonga",tn:"Tswana",tr:"Turkish",tk:"Turkmen",uk:"Ukrainian",hsb:"Upper Sorbian",ur:"Urdu",ve:"Venda",vi:"Vietnamese",vo:"Volapuk",wa:"Walloon",cy:"Welsh",xh:"Xhosa",ji:"Yiddish",zu:"Zulu"}[e]&&(this.internal.languageSettings.languageCode=e,!1===this.internal.languageSettings.isSubscribed&&(this.internal.events.subscribe("putCatalog",function(){this.internal.write("/Lang ("+this.internal.languageSettings.languageCode+")")}),this.internal.languageSettings.isSubscribed=!0)),this},RA=(S2=bs.API).getCharWidthsArray=function(e,n){var t,r,s=(n=n||{}).font||this.internal.getFont(),o=n.fontSize||this.internal.getFontSize(),d=n.charSpace||this.internal.getCharSpace(),g=n.widths?n.widths:s.metadata.Unicode.widths,m=g.fof?g.fof:1,_=n.kerning?n.kerning:s.metadata.Unicode.kerning,w=_.fof?_.fof:1,A=!1!==n.doKerning,N=0,D=e.length,ee=0,B=g[0]||m,he=[];for(t=0;t<D;t++)r=e.charCodeAt(t),"function"==typeof s.metadata.widthOfString?he.push((s.metadata.widthOfGlyph(s.metadata.characterToGlyph(r))+d*(1e3/o)||0)/1e3):(N=A&&"object"===wa(_[r])&&!isNaN(parseInt(_[r][ee],10))?_[r][ee]/w:0,he.push((g[r]||B)/m+N)),ee=r;return he},uO=S2.getStringUnitWidth=function(e,n){var t=(n=n||{}).fontSize||this.internal.getFontSize(),r=n.font||this.internal.getFont(),s=n.charSpace||this.internal.getCharSpace();return S2.processArabic&&(e=S2.processArabic(e)),"function"==typeof r.metadata.widthOfString?r.metadata.widthOfString(e,t,s)/t:RA.apply(this,arguments).reduce(function(o,d){return o+d},0)},hO=function(e,n,t,r){for(var s=[],o=0,d=e.length,g=0;o!==d&&g+n[o]<t;)g+=n[o],o++;s.push(e.slice(0,o));var m=o;for(g=0;o!==d;)g+n[o]>r&&(s.push(e.slice(m,o)),g=0,m=o),g+=n[o],o++;return m!==o&&s.push(e.slice(m,o)),s},dO=function(e,n,t){t||(t={});var r,s,o,d,g,m,w=[],A=[w],N=t.textIndent||0,D=0,ee=0,B=e.split(" "),he=RA.apply(this,[" ",t])[0];if(m=-1===t.lineIndent?B[0].length+2:t.lineIndent||0){var Pe=Array(m).join(" "),je=[];B.map(function(Vt){(Vt=Vt.split(/\s*\n/)).length>1?je=je.concat(Vt.map(function(Xt,bn){return(bn&&Xt.length?"\n":"")+Xt})):je.push(Vt[0])}),B=je,m=uO.apply(this,[Pe,t])}for(o=0,d=B.length;o<d;o++){var Xe=0;if(r=B[o],m&&"\n"==r[0]&&(r=r.substr(1),Xe=1),N+D+(ee=(s=RA.apply(this,[r,t])).reduce(function(Vt,Xt){return Vt+Xt},0))>n||Xe){if(ee>n){for(g=hO.apply(this,[r,s,n-(N+D),n]),w.push(g.shift()),w=[g.pop()];g.length;)A.push([g.shift()]);ee=s.slice(r.length-(w[0]?w[0].length:0)).reduce(function(Vt,Xt){return Vt+Xt},0)}else w=[r];A.push(w),N=ee+m,D=he}else w.push(r),N+=D+ee,D=he}return A.map(m?function(Vt,Xt){return(Xt?Pe:"")+Vt.join(" ")}:function(Vt){return Vt.join(" ")})},S2.splitTextToSize=function(e,n,t){var r,s=(t=t||{}).fontSize||this.internal.getFontSize(),o=function(w){if(w.widths&&w.kerning)return{widths:w.widths,kerning:w.kerning};var A=this.internal.getFont(w.fontName,w.fontStyle);return A.metadata.Unicode?{widths:A.metadata.Unicode.widths||{0:1},kerning:A.metadata.Unicode.kerning||{}}:{font:A.metadata,fontSize:this.internal.getFontSize(),charSpace:this.internal.getCharSpace()}}.call(this,t);r=Array.isArray(e)?e:String(e).split(/\r?\n/);var d=1*this.internal.scaleFactor*n/s;o.textIndent=t.textIndent?1*t.textIndent*this.internal.scaleFactor/s:0,o.lineIndent=t.lineIndent;var g,m,_=[];for(g=0,m=r.length;g<m;g++)_=_.concat(dO.apply(this,[r[g],d,o]));return _},function(e){e.__fontmetrics__=e.__fontmetrics__||{};for(var n="klmnopqrstuvwxyz",t={},r={},s=0;s<n.length;s++)t[n[s]]="0123456789abcdef"[s],r["0123456789abcdef"[s]]=n[s];var o=function(A){return"0x"+parseInt(A,10).toString(16)},d=e.__fontmetrics__.compress=function(A){var N,D,ee,B,he=["{"];for(var Pe in A){if(N=A[Pe],isNaN(parseInt(Pe,10))?D="'"+Pe+"'":(Pe=parseInt(Pe,10),D=(D=o(Pe).slice(2)).slice(0,-1)+r[D.slice(-1)]),"number"==typeof N)N<0?(ee=o(N).slice(3),B="-"):(ee=o(N).slice(2),B=""),ee=B+ee.slice(0,-1)+r[ee.slice(-1)];else{if("object"!==wa(N))throw new Error("Don't know what to do with value type "+wa(N)+".");ee=d(N)}he.push(D+ee)}return he.push("}"),he.join("")},g=e.__fontmetrics__.uncompress=function(A){if("string"!=typeof A)throw new Error("Invalid argument passed to uncompress.");for(var N,D,ee,B,he={},Pe=1,je=he,Xe=[],Vt="",Xt="",bn=A.length-1,At=1;At<bn;At+=1)"'"==(B=A[At])?N?(ee=N.join(""),N=void 0):N=[]:N?N.push(B):"{"==B?(Xe.push([je,ee]),je={},ee=void 0):"}"==B?((D=Xe.pop())[0][D[1]]=je,ee=void 0,je=D[0]):"-"==B?Pe=-1:void 0===ee?t.hasOwnProperty(B)?(Vt+=t[B],ee=parseInt(Vt,16)*Pe,Pe=1,Vt=""):Vt+=B:t.hasOwnProperty(B)?(Xt+=t[B],je[ee]=parseInt(Xt,16)*Pe,Pe=1,ee=void 0,Xt=""):Xt+=B;return he},m={codePages:["WinAnsiEncoding"],WinAnsiEncoding:g("{19m8n201n9q201o9r201s9l201t9m201u8m201w9n201x9o201y8o202k8q202l8r202m9p202q8p20aw8k203k8t203t8v203u9v2cq8s212m9t15m8w15n9w2dw9s16k8u16l9u17s9z17x8y17y9y}")},_={Unicode:{Courier:m,"Courier-Bold":m,"Courier-BoldOblique":m,"Courier-Oblique":m,Helvetica:m,"Helvetica-Bold":m,"Helvetica-BoldOblique":m,"Helvetica-Oblique":m,"Times-Roman":m,"Times-Bold":m,"Times-BoldItalic":m,"Times-Italic":m}},w={Unicode:{"Courier-Oblique":g("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-BoldItalic":g("{'widths'{k3o2q4ycx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2r202m2n2n3m2o3m2p5n202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5n4l4m4m4m4n4m4o4s4p4m4q4m4r4s4s4y4t2r4u3m4v4m4w3x4x5t4y4s4z4s5k3x5l4s5m4m5n3r5o3x5p4s5q4m5r5t5s4m5t3x5u3x5v2l5w1w5x2l5y3t5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q2l6r3m6s3r6t1w6u1w6v3m6w1w6x4y6y3r6z3m7k3m7l3m7m2r7n2r7o1w7p3r7q2w7r4m7s3m7t2w7u2r7v2n7w1q7x2n7y3t202l3mcl4mal2ram3man3mao3map3mar3mas2lat4uau1uav3maw3way4uaz2lbk2sbl3t'fof'6obo2lbp3tbq3mbr1tbs2lbu1ybv3mbz3mck4m202k3mcm4mcn4mco4mcp4mcq5ycr4mcs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz2w203k6o212m6o2dw2l2cq2l3t3m3u2l17s3x19m3m}'kerning'{cl{4qu5kt5qt5rs17ss5ts}201s{201ss}201t{cks4lscmscnscoscpscls2wu2yu201ts}201x{2wu2yu}2k{201ts}2w{4qx5kx5ou5qx5rs17su5tu}2x{17su5tu5ou}2y{4qx5kx5ou5qx5rs17ss5ts}'fof'-6ofn{17sw5tw5ou5qw5rs}7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qs}3v{17su5tu5os5qs}7p{17su5tu}ck{4qu5kt5qt5rs17ss5ts}4l{4qu5kt5qt5rs17ss5ts}cm{4qu5kt5qt5rs17ss5ts}cn{4qu5kt5qt5rs17ss5ts}co{4qu5kt5qt5rs17ss5ts}cp{4qu5kt5qt5rs17ss5ts}6l{4qu5ou5qw5rt17su5tu}5q{ckuclucmucnucoucpu4lu}5r{ckuclucmucnucoucpu4lu}7q{cksclscmscnscoscps4ls}6p{4qu5ou5qw5rt17sw5tw}ek{4qu5ou5qw5rt17su5tu}el{4qu5ou5qw5rt17su5tu}em{4qu5ou5qw5rt17su5tu}en{4qu5ou5qw5rt17su5tu}eo{4qu5ou5qw5rt17su5tu}ep{4qu5ou5qw5rt17su5tu}es{17ss5ts5qs4qu}et{4qu5ou5qw5rt17sw5tw}eu{4qu5ou5qw5rt17ss5ts}ev{17ss5ts5qs4qu}6z{17sw5tw5ou5qw5rs}fm{17sw5tw5ou5qw5rs}7n{201ts}fo{17sw5tw5ou5qw5rs}fp{17sw5tw5ou5qw5rs}fq{17sw5tw5ou5qw5rs}7r{cksclscmscnscoscps4ls}fs{17sw5tw5ou5qw5rs}ft{17su5tu}fu{17su5tu}fv{17su5tu}fw{17su5tu}fz{cksclscmscnscoscps4ls}}}"),"Helvetica-Bold":g("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),Courier:g("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-BoldOblique":g("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Bold":g("{'widths'{k3q2q5ncx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2l202m2n2n3m2o3m2p6o202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5x4l4s4m4m4n4s4o4s4p4m4q3x4r4y4s4y4t2r4u3m4v4y4w4m4x5y4y4s4z4y5k3x5l4y5m4s5n3r5o4m5p4s5q4s5r6o5s4s5t4s5u4m5v2l5w1w5x2l5y3u5z3m6k2l6l3m6m3r6n2w6o3r6p2w6q2l6r3m6s3r6t1w6u2l6v3r6w1w6x5n6y3r6z3m7k3r7l3r7m2w7n2r7o2l7p3r7q3m7r4s7s3m7t3m7u2w7v2r7w1q7x2r7y3o202l3mcl4sal2lam3man3mao3map3mar3mas2lat4uau1yav3maw3tay4uaz2lbk2sbl3t'fof'6obo2lbp3rbr1tbs2lbu2lbv3mbz3mck4s202k3mcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3rek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3m3u2l17s4s19m3m}'kerning'{cl{4qt5ks5ot5qy5rw17sv5tv}201t{cks4lscmscnscoscpscls4wv}2k{201ts}2w{4qu5ku7mu5os5qx5ru17su5tu}2x{17su5tu5ou5qs}2y{4qv5kv7mu5ot5qz5ru17su5tu}'fof'-6o7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qu}3v{17su5tu5os5qu}fu{17su5tu5ou5qu}7p{17su5tu5ou5qu}ck{4qt5ks5ot5qy5rw17sv5tv}4l{4qt5ks5ot5qy5rw17sv5tv}cm{4qt5ks5ot5qy5rw17sv5tv}cn{4qt5ks5ot5qy5rw17sv5tv}co{4qt5ks5ot5qy5rw17sv5tv}cp{4qt5ks5ot5qy5rw17sv5tv}6l{17st5tt5ou5qu}17s{ckuclucmucnucoucpu4lu4wu}5o{ckuclucmucnucoucpu4lu4wu}5q{ckzclzcmzcnzcozcpz4lz4wu}5r{ckxclxcmxcnxcoxcpx4lx4wu}5t{ckuclucmucnucoucpu4lu4wu}7q{ckuclucmucnucoucpu4lu}6p{17sw5tw5ou5qu}ek{17st5tt5qu}el{17st5tt5ou5qu}em{17st5tt5qu}en{17st5tt5qu}eo{17st5tt5qu}ep{17st5tt5ou5qu}es{17ss5ts5qu}et{17sw5tw5ou5qu}eu{17sw5tw5ou5qu}ev{17ss5ts5qu}6z{17sw5tw5ou5qu5rs}fm{17sw5tw5ou5qu5rs}fn{17sw5tw5ou5qu5rs}fo{17sw5tw5ou5qu5rs}fp{17sw5tw5ou5qu5rs}fq{17sw5tw5ou5qu5rs}7r{cktcltcmtcntcotcpt4lt5os}fs{17sw5tw5ou5qu5rs}ft{17su5tu5ou5qu}7m{5os}fv{17su5tu5ou5qu}fw{17su5tu5ou5qu}fz{cksclscmscnscoscps4ls}}}"),Symbol:g("{'widths'{k3uaw4r19m3m2k1t2l2l202m2y2n3m2p5n202q6o3k3m2s2l2t2l2v3r2w1t3m3m2y1t2z1wbk2sbl3r'fof'6o3n3m3o3m3p3m3q3m3r3m3s3m3t3m3u1w3v1w3w3r3x3r3y3r3z2wbp3t3l3m5v2l5x2l5z3m2q4yfr3r7v3k7w1o7x3k}'kerning'{'fof'-6o}}"),Helvetica:g("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}"),"Helvetica-BoldOblique":g("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),ZapfDingbats:g("{'widths'{k4u2k1w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-Bold":g("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Italic":g("{'widths'{k3n2q4ycx2l201n3m201o5t201s2l201t2l201u2l201w3r201x3r201y3r2k1t2l2l202m2n2n3m2o3m2p5n202q5t2r1p2s2l2t2l2u3m2v4n2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w4n3x4n3y4n3z3m4k5w4l3x4m3x4n4m4o4s4p3x4q3x4r4s4s4s4t2l4u2w4v4m4w3r4x5n4y4m4z4s5k3x5l4s5m3x5n3m5o3r5p4s5q3x5r5n5s3x5t3r5u3r5v2r5w1w5x2r5y2u5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q1w6r3m6s3m6t1w6u1w6v2w6w1w6x4s6y3m6z3m7k3m7l3m7m2r7n2r7o1w7p3m7q2w7r4m7s2w7t2w7u2r7v2s7w1v7x2s7y3q202l3mcl3xal2ram3man3mao3map3mar3mas2lat4wau1vav3maw4nay4waz2lbk2sbl4n'fof'6obo2lbp3mbq3obr1tbs2lbu1zbv3mbz3mck3x202k3mcm3xcn3xco3xcp3xcq5tcr4mcs3xct3xcu3xcv3xcw2l2m2ucy2lcz2ldl4mdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr4nfs3mft3mfu3mfv3mfw3mfz2w203k6o212m6m2dw2l2cq2l3t3m3u2l17s3r19m3m}'kerning'{cl{5kt4qw}201s{201sw}201t{201tw2wy2yy6q-t}201x{2wy2yy}2k{201tw}2w{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}2x{17ss5ts5os}2y{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}'fof'-6o6t{17ss5ts5qs}7t{5os}3v{5qs}7p{17su5tu5qs}ck{5kt4qw}4l{5kt4qw}cm{5kt4qw}cn{5kt4qw}co{5kt4qw}cp{5kt4qw}6l{4qs5ks5ou5qw5ru17su5tu}17s{2ks}5q{ckvclvcmvcnvcovcpv4lv}5r{ckuclucmucnucoucpu4lu}5t{2ks}6p{4qs5ks5ou5qw5ru17su5tu}ek{4qs5ks5ou5qw5ru17su5tu}el{4qs5ks5ou5qw5ru17su5tu}em{4qs5ks5ou5qw5ru17su5tu}en{4qs5ks5ou5qw5ru17su5tu}eo{4qs5ks5ou5qw5ru17su5tu}ep{4qs5ks5ou5qw5ru17su5tu}es{5ks5qs4qs}et{4qs5ks5ou5qw5ru17su5tu}eu{4qs5ks5qw5ru17su5tu}ev{5ks5qs4qs}ex{17ss5ts5qs}6z{4qv5ks5ou5qw5ru17su5tu}fm{4qv5ks5ou5qw5ru17su5tu}fn{4qv5ks5ou5qw5ru17su5tu}fo{4qv5ks5ou5qw5ru17su5tu}fp{4qv5ks5ou5qw5ru17su5tu}fq{4qv5ks5ou5qw5ru17su5tu}7r{5os}fs{4qv5ks5ou5qw5ru17su5tu}ft{17su5tu5qs}fu{17su5tu5qs}fv{17su5tu5qs}fw{17su5tu5qs}}}"),"Times-Roman":g("{'widths'{k3n2q4ycx2l201n3m201o6o201s2l201t2l201u2l201w2w201x2w201y2w2k1t2l2l202m2n2n3m2o3m2p5n202q6o2r1m2s2l2t2l2u3m2v3s2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v1w3w3s3x3s3y3s3z2w4k5w4l4s4m4m4n4m4o4s4p3x4q3r4r4s4s4s4t2l4u2r4v4s4w3x4x5t4y4s4z4s5k3r5l4s5m4m5n3r5o3x5p4s5q4s5r5y5s4s5t4s5u3x5v2l5w1w5x2l5y2z5z3m6k2l6l2w6m3m6n2w6o3m6p2w6q2l6r3m6s3m6t1w6u1w6v3m6w1w6x4y6y3m6z3m7k3m7l3m7m2l7n2r7o1w7p3m7q3m7r4s7s3m7t3m7u2w7v3k7w1o7x3k7y3q202l3mcl4sal2lam3man3mao3map3mar3mas2lat4wau1vav3maw3say4waz2lbk2sbl3s'fof'6obo2lbp3mbq2xbr1tbs2lbu1zbv3mbz2wck4s202k3mcm4scn4sco4scp4scq5tcr4mcs3xct3xcu3xcv3xcw2l2m2tcy2lcz2ldl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek2wel2wem2wen2weo2wep2weq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr3sfs3mft3mfu3mfv3mfw3mfz3m203k6o212m6m2dw2l2cq2l3t3m3u1w17s4s19m3m}'kerning'{cl{4qs5ku17sw5ou5qy5rw201ss5tw201ws}201s{201ss}201t{ckw4lwcmwcnwcowcpwclw4wu201ts}2k{201ts}2w{4qs5kw5os5qx5ru17sx5tx}2x{17sw5tw5ou5qu}2y{4qs5kw5os5qx5ru17sx5tx}'fof'-6o7t{ckuclucmucnucoucpu4lu5os5rs}3u{17su5tu5qs}3v{17su5tu5qs}7p{17sw5tw5qs}ck{4qs5ku17sw5ou5qy5rw201ss5tw201ws}4l{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cm{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cn{4qs5ku17sw5ou5qy5rw201ss5tw201ws}co{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cp{4qs5ku17sw5ou5qy5rw201ss5tw201ws}6l{17su5tu5os5qw5rs}17s{2ktclvcmvcnvcovcpv4lv4wuckv}5o{ckwclwcmwcnwcowcpw4lw4wu}5q{ckyclycmycnycoycpy4ly4wu5ms}5r{cktcltcmtcntcotcpt4lt4ws}5t{2ktclvcmvcnvcovcpv4lv4wuckv}7q{cksclscmscnscoscps4ls}6p{17su5tu5qw5rs}ek{5qs5rs}el{17su5tu5os5qw5rs}em{17su5tu5os5qs5rs}en{17su5qs5rs}eo{5qs5rs}ep{17su5tu5os5qw5rs}es{5qs}et{17su5tu5qw5rs}eu{17su5tu5qs5rs}ev{5qs}6z{17sv5tv5os5qx5rs}fm{5os5qt5rs}fn{17sv5tv5os5qx5rs}fo{17sv5tv5os5qx5rs}fp{5os5qt5rs}fq{5os5qt5rs}7r{ckuclucmucnucoucpu4lu5os}fs{17sv5tv5os5qx5rs}ft{17ss5ts5qs}fu{17sw5tw5qs}fv{17sw5tw5qs}fw{17ss5ts5qs}fz{ckuclucmucnucoucpu4lu5os5rs}}}"),"Helvetica-Oblique":g("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}")}};e.events.push(["addFont",function(A){var N=A.font,D=w.Unicode[N.postScriptName];D&&(N.metadata.Unicode={},N.metadata.Unicode.widths=D.widths,N.metadata.Unicode.kerning=D.kerning);var ee=_.Unicode[N.postScriptName];ee&&(N.metadata.Unicode.encoding=ee,N.encoding=ee.codePages[0])}])}(bs.API),function(e){var n=function(t){for(var r=t.length,s=new Uint8Array(r),o=0;o<r;o++)s[o]=t.charCodeAt(o);return s};e.API.events.push(["addFont",function(t){var d,g,r=void 0,s=t.font,o=t.instance;if(!s.isStandardFont){if(void 0===o)throw new Error("Font does not exist in vFS, import fonts or remove declaration doc.addFont('"+s.postScriptName+"').");if("string"!=typeof(r=!1===o.existsFileInVFS(s.postScriptName)?o.loadFile(s.postScriptName):o.getFileFromVFS(s.postScriptName)))throw new Error("Font is not stored as string-data in vFS, import fonts or remove declaration doc.addFont('"+s.postScriptName+"').");d=s,g=/^\x00\x01\x00\x00/.test(g=r)?n(g):n(pT(g)),d.metadata=e.API.TTFFont.open(g),d.metadata.Unicode=d.metadata.Unicode||{encoding:{},kerning:{},widths:[]},d.metadata.glyIdsUsed=[0]}}])}(bs),function(e){function n(){return(As.canvg?Promise.resolve(As.canvg):me.e(489).then(me.bind(me,6489))).catch(function(t){return Promise.reject(new Error("Could not load canvg: "+t))}).then(function(t){return t.default?t.default:t})}bs.API.addSvgAsImage=function(t,r,s,o,d,g,m,_){if(isNaN(r)||isNaN(s))throw dl.error("jsPDF.addSvgAsImage: Invalid coordinates",arguments),new Error("Invalid coordinates passed to jsPDF.addSvgAsImage");if(isNaN(o)||isNaN(d))throw dl.error("jsPDF.addSvgAsImage: Invalid measurements",arguments),new Error("Invalid measurements (width and/or height) passed to jsPDF.addSvgAsImage");var w=document.createElement("canvas");w.width=o,w.height=d;var A=w.getContext("2d");A.fillStyle="#fff",A.fillRect(0,0,w.width,w.height);var N={ignoreMouse:!0,ignoreAnimation:!0,ignoreDimensions:!0},D=this;return n().then(function(ee){return ee.fromString(A,t,N)},function(){return Promise.reject(new Error("Could not load canvg."))}).then(function(ee){return ee.render(N)}).then(function(){D.addImage(w.toDataURL("image/jpeg",1),r,s,o,d,m,_)})}}(),bs.API.putTotalPages=function(e){var n,t=0;parseInt(this.internal.getFont().id.substr(1),10)<15?(n=new RegExp(e,"g"),t=this.internal.getNumberOfPages()):(n=new RegExp(this.pdfEscape16(e,this.internal.getFont()),"g"),t=this.pdfEscape16(this.internal.getNumberOfPages()+"",this.internal.getFont()));for(var r=1;r<=this.internal.getNumberOfPages();r++)for(var s=0;s<this.internal.pages[r].length;s++)this.internal.pages[r][s]=this.internal.pages[r][s].replace(n,t);return this},bs.API.viewerPreferences=function(e,n){var t;e=e||{},n=n||!1;var r,s,o,d={HideToolbar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideMenubar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideWindowUI:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},FitWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},CenterWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},DisplayDocTitle:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.4},NonFullScreenPageMode:{defaultValue:"UseNone",value:"UseNone",type:"name",explicitSet:!1,valueSet:["UseNone","UseOutlines","UseThumbs","UseOC"],pdfVersion:1.3},Direction:{defaultValue:"L2R",value:"L2R",type:"name",explicitSet:!1,valueSet:["L2R","R2L"],pdfVersion:1.3},ViewArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},ViewClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintScaling:{defaultValue:"AppDefault",value:"AppDefault",type:"name",explicitSet:!1,valueSet:["AppDefault","None"],pdfVersion:1.6},Duplex:{defaultValue:"",value:"none",type:"name",explicitSet:!1,valueSet:["Simplex","DuplexFlipShortEdge","DuplexFlipLongEdge","none"],pdfVersion:1.7},PickTrayByPDFSize:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.7},PrintPageRange:{defaultValue:"",value:"",type:"array",explicitSet:!1,valueSet:null,pdfVersion:1.7},NumCopies:{defaultValue:1,value:1,type:"integer",explicitSet:!1,valueSet:null,pdfVersion:1.7}},g=Object.keys(d),m=[],_=0,w=0,A=0;function N(ee,B){var he,Pe=!1;for(he=0;he<ee.length;he+=1)ee[he]===B&&(Pe=!0);return Pe}if(void 0===this.internal.viewerpreferences&&(this.internal.viewerpreferences={},this.internal.viewerpreferences.configuration=JSON.parse(JSON.stringify(d)),this.internal.viewerpreferences.isSubscribed=!1),t=this.internal.viewerpreferences.configuration,"reset"===e||!0===n){var D=g.length;for(A=0;A<D;A+=1)t[g[A]].value=t[g[A]].defaultValue,t[g[A]].explicitSet=!1}if("object"===wa(e))for(s in e)if(o=e[s],N(g,s)&&void 0!==o){if("boolean"===t[s].type&&"boolean"==typeof o)t[s].value=o;else if("name"===t[s].type&&N(t[s].valueSet,o))t[s].value=o;else if("integer"===t[s].type&&Number.isInteger(o))t[s].value=o;else if("array"===t[s].type){for(_=0;_<o.length;_+=1)if(r=!0,1===o[_].length&&"number"==typeof o[_][0])m.push(String(o[_]-1));else if(o[_].length>1){for(w=0;w<o[_].length;w+=1)"number"!=typeof o[_][w]&&(r=!1);!0===r&&m.push([o[_][0]-1,o[_][1]-1].join(" "))}t[s].value="["+m.join(" ")+"]"}else t[s].value=t[s].defaultValue;t[s].explicitSet=!0}return!1===this.internal.viewerpreferences.isSubscribed&&(this.internal.events.subscribe("putCatalog",function(){var ee,B=[];for(ee in t)!0===t[ee].explicitSet&&B.push("name"===t[ee].type?"/"+ee+" /"+t[ee].value:"/"+ee+" "+t[ee].value);0!==B.length&&this.internal.write("/ViewerPreferences\n<<\n"+B.join("\n")+"\n>>")}),this.internal.viewerpreferences.isSubscribed=!0),this.internal.viewerpreferences.configuration=t,this},function(e){var n=function(){var r='<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"><rdf:Description rdf:about="" xmlns:jspdf="'+this.internal.__metadata__.namespaceuri+'"><jspdf:metadata>',s=unescape(encodeURIComponent('<x:xmpmeta xmlns:x="adobe:ns:meta/">')),o=unescape(encodeURIComponent(r)),d=unescape(encodeURIComponent(this.internal.__metadata__.metadata)),g=unescape(encodeURIComponent("</jspdf:metadata></rdf:Description></rdf:RDF>")),m=unescape(encodeURIComponent("</x:xmpmeta>")),_=o.length+d.length+g.length+s.length+m.length;this.internal.__metadata__.metadata_object_number=this.internal.newObject(),this.internal.write("<< /Type /Metadata /Subtype /XML /Length "+_+" >>"),this.internal.write("stream"),this.internal.write(s+o+d+g+m),this.internal.write("endstream"),this.internal.write("endobj")},t=function(){this.internal.__metadata__.metadata_object_number&&this.internal.write("/Metadata "+this.internal.__metadata__.metadata_object_number+" 0 R")};e.addMetadata=function(r,s){return void 0===this.internal.__metadata__&&(this.internal.__metadata__={metadata:r,namespaceuri:s||"http://jspdf.default.namespaceuri/"},this.internal.events.subscribe("putCatalog",t),this.internal.events.subscribe("postPutResources",n)),this}}(bs.API),function(e){var n=e.API,t=n.pdfEscape16=function(o,d){for(var g,m=d.metadata.Unicode.widths,_=["","0","00","000","0000"],w=[""],A=0,N=o.length;A<N;++A){if(g=d.metadata.characterToGlyph(o.charCodeAt(A)),d.metadata.glyIdsUsed.push(g),d.metadata.toUnicode[g]=o.charCodeAt(A),-1==m.indexOf(g)&&(m.push(g),m.push([parseInt(d.metadata.widthOfGlyph(g),10)])),"0"==g)return w.join("");g=g.toString(16),w.push(_[4-g.length],g)}return w.join("")},r=function(o){var d,g,m,_,w,A,N;for(w="/CIDInit /ProcSet findresource begin\n12 dict begin\nbegincmap\n/CIDSystemInfo <<\n  /Registry (Adobe)\n  /Ordering (UCS)\n  /Supplement 0\n>> def\n/CMapName /Adobe-Identity-UCS def\n/CMapType 2 def\n1 begincodespacerange\n<0000><ffff>\nendcodespacerange",m=[],A=0,N=(g=Object.keys(o).sort(function(D,ee){return D-ee})).length;A<N;A++)d=g[A],m.length>=100&&(w+="\n"+m.length+" beginbfchar\n"+m.join("\n")+"\nendbfchar",m=[]),null!=o[d]&&"function"==typeof o[d].toString&&(_=("0000"+o[d].toString(16)).slice(-4),d=("0000"+(+d).toString(16)).slice(-4),m.push("<"+d+"><"+_+">"));return m.length&&(w+="\n"+m.length+" beginbfchar\n"+m.join("\n")+"\nendbfchar\n"),w+"endcmap\nCMapName currentdict /CMap defineresource pop\nend\nend"};n.events.push(["putFont",function(o){!function(d){var g=d.font,m=d.out,_=d.newObject,w=d.putStream;if(g.metadata instanceof e.API.TTFFont&&"Identity-H"===g.encoding){for(var A=g.metadata.Unicode.widths,N=g.metadata.subset.encode(g.metadata.glyIdsUsed,1),D="",ee=0;ee<N.length;ee++)D+=String.fromCharCode(N[ee]);var B=_();w({data:D,addLength1:!0,objectId:B}),m("endobj");var he=_();w({data:r(g.metadata.toUnicode),addLength1:!0,objectId:he}),m("endobj");var Pe=_();m("<<"),m("/Type /FontDescriptor"),m("/FontName /"+_2(g.fontName)),m("/FontFile2 "+B+" 0 R"),m("/FontBBox "+e.API.PDFObject.convert(g.metadata.bbox)),m("/Flags "+g.metadata.flags),m("/StemV "+g.metadata.stemV),m("/ItalicAngle "+g.metadata.italicAngle),m("/Ascent "+g.metadata.ascender),m("/Descent "+g.metadata.decender),m("/CapHeight "+g.metadata.capHeight),m(">>"),m("endobj");var je=_();m("<<"),m("/Type /Font"),m("/BaseFont /"+_2(g.fontName)),m("/FontDescriptor "+Pe+" 0 R"),m("/W "+e.API.PDFObject.convert(A)),m("/CIDToGIDMap /Identity"),m("/DW 1000"),m("/Subtype /CIDFontType2"),m("/CIDSystemInfo"),m("<<"),m("/Supplement 0"),m("/Registry (Adobe)"),m("/Ordering ("+g.encoding+")"),m(">>"),m(">>"),m("endobj"),g.objectNumber=_(),m("<<"),m("/Type /Font"),m("/Subtype /Type0"),m("/ToUnicode "+he+" 0 R"),m("/BaseFont /"+_2(g.fontName)),m("/Encoding /"+g.encoding),m("/DescendantFonts ["+je+" 0 R]"),m(">>"),m("endobj"),g.isAlreadyPutted=!0}}(o)}]),n.events.push(["putFont",function(o){!function(d){var g=d.font,m=d.out,_=d.newObject,w=d.putStream;if(g.metadata instanceof e.API.TTFFont&&"WinAnsiEncoding"===g.encoding){for(var A=g.metadata.rawData,N="",D=0;D<A.length;D++)N+=String.fromCharCode(A[D]);var ee=_();w({data:N,addLength1:!0,objectId:ee}),m("endobj");var B=_();w({data:r(g.metadata.toUnicode),addLength1:!0,objectId:B}),m("endobj");var he=_();m("<<"),m("/Descent "+g.metadata.decender),m("/CapHeight "+g.metadata.capHeight),m("/StemV "+g.metadata.stemV),m("/Type /FontDescriptor"),m("/FontFile2 "+ee+" 0 R"),m("/Flags 96"),m("/FontBBox "+e.API.PDFObject.convert(g.metadata.bbox)),m("/FontName /"+_2(g.fontName)),m("/ItalicAngle "+g.metadata.italicAngle),m("/Ascent "+g.metadata.ascender),m(">>"),m("endobj"),g.objectNumber=_();for(var Pe=0;Pe<g.metadata.hmtx.widths.length;Pe++)g.metadata.hmtx.widths[Pe]=parseInt(g.metadata.hmtx.widths[Pe]*(1e3/g.metadata.head.unitsPerEm));m("<</Subtype/TrueType/Type/Font/ToUnicode "+B+" 0 R/BaseFont/"+_2(g.fontName)+"/FontDescriptor "+he+" 0 R/Encoding/"+g.encoding+" /FirstChar 29 /LastChar 255 /Widths "+e.API.PDFObject.convert(g.metadata.hmtx.widths)+">>"),m("endobj"),g.isAlreadyPutted=!0}}(o)}]);var s=function(o){var d,g=o.text||"",m=o.x,_=o.y,w=o.options||{},A=o.mutex||{},N=A.pdfEscape,D=A.activeFontKey,ee=A.fonts,B=D,he="",Pe=0,je="",Xe=ee[B].encoding;if("Identity-H"!==ee[B].encoding)return{text:g,x:m,y:_,options:w,mutex:A};for(je=g,B=D,Array.isArray(g)&&(je=g[0]),Pe=0;Pe<je.length;Pe+=1)ee[B].metadata.hasOwnProperty("cmap")&&(d=ee[B].metadata.cmap.unicode.codeMap[je[Pe].charCodeAt(0)]),d||je[Pe].charCodeAt(0)<256&&ee[B].metadata.hasOwnProperty("Unicode")?he+=je[Pe]:he+="";var Vt="";return parseInt(B.slice(1))<14||"WinAnsiEncoding"===Xe?Vt=N(he,B).split("").map(function(Xt){return Xt.charCodeAt(0).toString(16)}).join(""):"Identity-H"===Xe&&(Vt=t(he,ee[B])),A.isHex=!0,{text:Vt,x:m,y:_,options:w,mutex:A}};n.events.push(["postProcessText",function(o){var d=o.text||"",g=[],m={text:d,x:o.x,y:o.y,options:o.options,mutex:o.mutex};if(Array.isArray(d)){var _=0;for(_=0;_<d.length;_+=1)Array.isArray(d[_])&&3===d[_].length?g.push([s(Object.assign({},m,{text:d[_][0]})).text,d[_][1],d[_][2]]):g.push(s(Object.assign({},m,{text:d[_]})).text);o.text=g}else o.text=s(Object.assign({},m,{text:d})).text}])}(bs),function(e){var n=function(){return void 0===this.internal.vFS&&(this.internal.vFS={}),!0};e.existsFileInVFS=function(t){return n.call(this),void 0!==this.internal.vFS[t]},e.addFileToVFS=function(t,r){return n.call(this),this.internal.vFS[t]=r,this},e.getFileFromVFS=function(t){return n.call(this),void 0!==this.internal.vFS[t]?this.internal.vFS[t]:null}}(bs.API),function(e){e.__bidiEngine__=e.prototype.__bidiEngine__=function(r){var s,o,d,g,m,_,w,A=n,N=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],D=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],ee={L:0,R:1,EN:2,AN:3,N:4,B:5,S:6},B={0:0,5:1,6:2,7:3,32:4,251:5,254:6,255:7},he=["(",")","(","<",">","<","[","]","[","{","}","{","\xab","\xbb","\xab","\u2039","\u203a","\u2039","\u2045","\u2046","\u2045","\u207d","\u207e","\u207d","\u208d","\u208e","\u208d","\u2264","\u2265","\u2264","\u2329","\u232a","\u2329","\ufe59","\ufe5a","\ufe59","\ufe5b","\ufe5c","\ufe5b","\ufe5d","\ufe5e","\ufe5d","\ufe64","\ufe65","\ufe64"],Pe=new RegExp(/^([1-4|9]|1[0-9]|2[0-9]|3[0168]|4[04589]|5[012]|7[78]|159|16[0-9]|17[0-2]|21[569]|22[03489]|250)$/),je=!1,Xe=0;this.__bidiEngine__={};var Vt=function(vt){var st=vt.charCodeAt(),rn=st>>8,tn=B[rn];return void 0!==tn?A[256*tn+(255&st)]:252===rn||253===rn?"AL":Pe.test(rn)?"L":8===rn?"R":"N"},Xt=function(vt){for(var st,rn=0;rn<vt.length;rn++){if("L"===(st=Vt(vt.charAt(rn))))return!1;if("R"===st)return!0}return!1},bn=function(vt,st,rn,tn){var Fn,Wn,Kn,Zn,zn=st[tn];switch(zn){case"L":case"R":case"LRE":case"RLE":case"LRO":case"RLO":case"PDF":je=!1;break;case"N":case"AN":break;case"EN":je&&(zn="AN");break;case"AL":je=!0,zn="R";break;case"WS":case"BN":zn="N";break;case"CS":tn<1||tn+1>=st.length||"EN"!==(Fn=rn[tn-1])&&"AN"!==Fn||"EN"!==(Wn=st[tn+1])&&"AN"!==Wn?zn="N":je&&(Wn="AN"),zn=Wn===Fn?Wn:"N";break;case"ES":zn="EN"===(Fn=tn>0?rn[tn-1]:"B")&&tn+1<st.length&&"EN"===st[tn+1]?"EN":"N";break;case"ET":if(tn>0&&"EN"===rn[tn-1]){zn="EN";break}if(je){zn="N";break}for(Kn=tn+1,Zn=st.length;Kn<Zn&&"ET"===st[Kn];)Kn++;zn=Kn<Zn&&"EN"===st[Kn]?"EN":"N";break;case"NSM":if(d&&!g){for(Zn=st.length,Kn=tn+1;Kn<Zn&&"NSM"===st[Kn];)Kn++;if(Kn<Zn){var nr=vt[tn];if(Fn=st[Kn],(nr>=1425&&nr<=2303||64286===nr)&&("R"===Fn||"AL"===Fn)){zn="R";break}}}zn=tn<1||"B"===(Fn=st[tn-1])?"N":rn[tn-1];break;case"B":je=!1,s=!0,zn=Xe;break;case"S":o=!0,zn="N"}return zn},At=function(vt,st,rn){var tn=vt.split("");return rn&&St(tn,rn,{hiLevel:Xe}),tn.reverse(),st&&st.reverse(),tn.join("")},St=function(vt,st,rn){var tn,Fn,Wn,Kn,Zn,zn=-1,nr=vt.length,Qn=0,Ie=[],bt=Xe?D:N,ut=[];for(je=!1,s=!1,o=!1,Fn=0;Fn<nr;Fn++)ut[Fn]=Vt(vt[Fn]);for(Wn=0;Wn<nr;Wn++){if(Zn=Qn,Ie[Wn]=bn(vt,ut,Ie,Wn),tn=240&(Qn=bt[Zn][ee[Ie[Wn]]]),st[Wn]=Kn=bt[Qn&=15][5],tn>0)if(16===tn){for(Fn=zn;Fn<Wn;Fn++)st[Fn]=1;zn=-1}else zn=-1;if(bt[Qn][6])-1===zn&&(zn=Wn);else if(zn>-1){for(Fn=zn;Fn<Wn;Fn++)st[Fn]=Kn;zn=-1}"B"===ut[Wn]&&(st[Wn]=0),rn.hiLevel|=Kn}o&&function(_t,Kt,In){for(var An=0;An<In;An++)if("S"===_t[An]){Kt[An]=Xe;for(var Pn=An-1;Pn>=0&&"WS"===_t[Pn];Pn--)Kt[Pn]=Xe}}(ut,st,nr)},Jt=function(vt,st,rn,tn,Fn){if(!(Fn.hiLevel<vt)){if(1===vt&&1===Xe&&!s)return st.reverse(),void(rn&&rn.reverse());for(var Wn,Kn,Zn,zn,nr=st.length,Qn=0;Qn<nr;){if(tn[Qn]>=vt){for(Zn=Qn+1;Zn<nr&&tn[Zn]>=vt;)Zn++;for(zn=Qn,Kn=Zn-1;zn<Kn;zn++,Kn--)Wn=st[zn],st[zn]=st[Kn],st[Kn]=Wn,rn&&(Wn=rn[zn],rn[zn]=rn[Kn],rn[Kn]=Wn);Qn=Zn}Qn++}}},gn=function(vt,st,rn){var tn=vt.split(""),Fn={hiLevel:Xe};return rn||(rn=[]),St(tn,rn,Fn),function(Wn,Kn,Zn){if(0!==Zn.hiLevel&&w)for(var zn,nr=0;nr<Wn.length;nr++)1===Kn[nr]&&(zn=he.indexOf(Wn[nr]))>=0&&(Wn[nr]=he[zn+1])}(tn,rn,Fn),Jt(2,tn,st,rn,Fn),Jt(1,tn,st,rn,Fn),tn.join("")};return this.__bidiEngine__.doBidiReorder=function(vt,st,rn){if(function(Fn,Wn){if(Wn)for(var Kn=0;Kn<Fn.length;Kn++)Wn[Kn]=Kn;void 0===g&&(g=Xt(Fn)),void 0===_&&(_=Xt(Fn))}(vt,st),d||!m||_)if(d&&m&&g^_)Xe=g?1:0,vt=At(vt,st,rn);else if(!d&&m&&_)Xe=g?1:0,vt=gn(vt,st,rn),vt=At(vt,st);else if(!d||g||m||_){if(d&&!m&&g^_)vt=At(vt,st),g?(Xe=0,vt=gn(vt,st,rn)):(Xe=1,vt=gn(vt,st,rn),vt=At(vt,st));else if(d&&g&&!m&&_)Xe=1,vt=gn(vt,st,rn),vt=At(vt,st);else if(!d&&!m&&g^_){var tn=w;g?(Xe=1,vt=gn(vt,st,rn),Xe=0,w=!1,vt=gn(vt,st,rn),w=tn):(Xe=0,vt=gn(vt,st,rn),vt=At(vt,st),Xe=1,w=!1,vt=gn(vt,st,rn),w=tn,vt=At(vt,st))}}else Xe=0,vt=gn(vt,st,rn);else Xe=g?1:0,vt=gn(vt,st,rn);return vt},this.__bidiEngine__.setOptions=function(vt){vt&&(d=vt.isInputVisual,m=vt.isOutputVisual,g=vt.isInputRtl,_=vt.isOutputRtl,w=vt.isSymmetricSwapping)},this.__bidiEngine__.setOptions(r),this.__bidiEngine__};var n=["BN","BN","BN","BN","BN","BN","BN","BN","BN","S","B","S","WS","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","B","B","B","S","WS","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","BN","BN","BN","BN","BN","BN","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","CS","N","ET","ET","ET","ET","N","N","N","N","L","N","N","BN","N","N","ET","ET","EN","EN","N","L","N","N","N","EN","L","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","N","N","N","N","N","ET","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","NSM","R","NSM","NSM","R","NSM","NSM","R","NSM","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","N","N","N","N","N","R","R","R","R","R","N","N","N","N","N","N","N","N","N","N","N","AN","AN","AN","AN","AN","AN","N","N","AL","ET","ET","AL","CS","AL","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","AN","AN","AN","AN","AN","AN","AN","AN","AN","ET","AN","AN","AL","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","N","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","NSM","NSM","N","NSM","NSM","NSM","NSM","AL","AL","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","R","N","N","N","N","R","N","N","N","N","N","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","BN","BN","BN","L","R","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","B","LRE","RLE","PDF","LRO","RLO","CS","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","BN","BN","BN","BN","BN","N","LRI","RLI","FSI","PDI","BN","BN","BN","BN","BN","BN","EN","L","N","N","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","L","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","N","N","N","N","N","R","NSM","R","R","R","R","R","R","R","R","R","R","ES","R","R","R","R","R","R","R","R","R","R","R","R","R","N","R","R","R","R","R","N","R","N","R","R","N","R","R","N","R","R","R","R","R","R","R","R","R","R","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","CS","N","N","CS","N","N","N","N","N","N","N","N","N","ET","N","N","ES","ES","N","N","N","N","N","ET","ET","N","N","N","N","N","AL","AL","AL","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","BN","N","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","N","N","N","ET","ET","N","N","N","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N"],t=new e.__bidiEngine__({isInputVisual:!0});e.API.events.push(["postProcessText",function(r){var s=r.text,o=r.options||{},d=[];if(o.isInputVisual="boolean"!=typeof o.isInputVisual||o.isInputVisual,t.setOptions(o),"[object Array]"===Object.prototype.toString.call(s)){var g=0;for(d=[],g=0;g<s.length;g+=1)"[object Array]"===Object.prototype.toString.call(s[g])?d.push([t.doBidiReorder(s[g][0]),s[g][1],s[g][2]]):d.push([t.doBidiReorder(s[g])]);r.text=d}else r.text=t.doBidiReorder(s);t.setOptions({isInputVisual:!0})}])}(bs),bs.API.TTFFont=function(){function e(n){var t;if(this.rawData=n,t=this.contents=new U1(n),this.contents.pos=4,"ttcf"===t.readString(4))throw new Error("TTCF not supported.");t.pos=0,this.parse(),this.subset=new R4(this),this.registerTTF()}return e.open=function(n){return new e(n)},e.prototype.parse=function(){return this.directory=new b4(this.contents),this.head=new T4(this),this.name=new D4(this),this.cmap=new mO(this),this.toUnicode={},this.hhea=new C4(this),this.maxp=new k4(this),this.hmtx=new P4(this),this.post=new A4(this),this.os2=new S4(this),this.loca=new F4(this),this.glyf=new N4(this),this.ascender=this.os2.exists&&this.os2.ascender||this.hhea.ascender,this.decender=this.os2.exists&&this.os2.decender||this.hhea.decender,this.lineGap=this.os2.exists&&this.os2.lineGap||this.hhea.lineGap,this.bbox=[this.head.xMin,this.head.yMin,this.head.xMax,this.head.yMax]},e.prototype.registerTTF=function(){var t,r,s,o;if(this.scaleFactor=1e3/this.head.unitsPerEm,this.bbox=function(){var d,g,m,_;for(_=[],d=0,g=(m=this.bbox).length;d<g;d++)_.push(Math.round(m[d]*this.scaleFactor));return _}.call(this),this.stemV=0,this.post.exists?(r=255&(s=this.post.italic_angle),0!=(32768&(t=s>>16))&&(t=-(1+(65535^t))),this.italicAngle=+(t+"."+r)):this.italicAngle=0,this.ascender=Math.round(this.ascender*this.scaleFactor),this.decender=Math.round(this.decender*this.scaleFactor),this.lineGap=Math.round(this.lineGap*this.scaleFactor),this.capHeight=this.os2.exists&&this.os2.capHeight||this.ascender,this.xHeight=this.os2.exists&&this.os2.xHeight||0,this.familyClass=(this.os2.exists&&this.os2.familyClass||0)>>8,this.isSerif=1===(o=this.familyClass)||2===o||3===o||4===o||5===o||7===o,this.isScript=10===this.familyClass,this.flags=0,this.post.isFixedPitch&&(this.flags|=1),this.isSerif&&(this.flags|=2),this.isScript&&(this.flags|=8),0!==this.italicAngle&&(this.flags|=64),this.flags|=32,!this.cmap.unicode)throw new Error("No unicode cmap for font")},e.prototype.characterToGlyph=function(n){var t;return(null!=(t=this.cmap.unicode)?t.codeMap[n]:void 0)||0},e.prototype.widthOfGlyph=function(n){var t;return t=1e3/this.head.unitsPerEm,this.hmtx.forGlyph(n).advance*t},e.prototype.widthOfString=function(n,t,r){var s,o,d,g;for(d=0,o=0,g=(n=""+n).length;0<=g?o<g:o>g;o=0<=g?++o:--o)s=n.charCodeAt(o),d+=this.widthOfGlyph(this.characterToGlyph(s))+r*(1e3/t)||0;return d*(t/1e3)},e.prototype.lineHeight=function(n,t){return null==t&&(t=!1),(this.ascender+(t?this.lineGap:0)-this.decender)/1e3*n},e}();var c0,U1=function(){function e(n){this.data=null!=n?n:[],this.pos=0,this.length=this.data.length}return e.prototype.readByte=function(){return this.data[this.pos++]},e.prototype.writeByte=function(n){return this.data[this.pos++]=n},e.prototype.readUInt32=function(){return 16777216*this.readByte()+(this.readByte()<<16)+(this.readByte()<<8)+this.readByte()},e.prototype.writeUInt32=function(n){return this.writeByte(n>>>24&255),this.writeByte(n>>16&255),this.writeByte(n>>8&255),this.writeByte(255&n)},e.prototype.readInt32=function(){var n;return(n=this.readUInt32())>=2147483648?n-4294967296:n},e.prototype.writeInt32=function(n){return n<0&&(n+=4294967296),this.writeUInt32(n)},e.prototype.readUInt16=function(){return this.readByte()<<8|this.readByte()},e.prototype.writeUInt16=function(n){return this.writeByte(n>>8&255),this.writeByte(255&n)},e.prototype.readInt16=function(){var n;return(n=this.readUInt16())>=32768?n-65536:n},e.prototype.writeInt16=function(n){return n<0&&(n+=65536),this.writeUInt16(n)},e.prototype.readString=function(n){var t,r;for(r=[],t=0;0<=n?t<n:t>n;t=0<=n?++t:--t)r[t]=String.fromCharCode(this.readByte());return r.join("")},e.prototype.writeString=function(n){var t,r,s;for(s=[],t=0,r=n.length;0<=r?t<r:t>r;t=0<=r?++t:--t)s.push(this.writeByte(n.charCodeAt(t)));return s},e.prototype.readShort=function(){return this.readInt16()},e.prototype.writeShort=function(n){return this.writeInt16(n)},e.prototype.readLongLong=function(){var n,t,r,s,o,d,g,m;return n=this.readByte(),t=this.readByte(),r=this.readByte(),s=this.readByte(),o=this.readByte(),d=this.readByte(),g=this.readByte(),m=this.readByte(),128&n?-1*(72057594037927940*(255^n)+281474976710656*(255^t)+1099511627776*(255^r)+4294967296*(255^s)+16777216*(255^o)+65536*(255^d)+256*(255^g)+(255^m)+1):72057594037927940*n+281474976710656*t+1099511627776*r+4294967296*s+16777216*o+65536*d+256*g+m},e.prototype.writeLongLong=function(n){var t,r;return t=Math.floor(n/4294967296),r=4294967295&n,this.writeByte(t>>24&255),this.writeByte(t>>16&255),this.writeByte(t>>8&255),this.writeByte(255&t),this.writeByte(r>>24&255),this.writeByte(r>>16&255),this.writeByte(r>>8&255),this.writeByte(255&r)},e.prototype.readInt=function(){return this.readInt32()},e.prototype.writeInt=function(n){return this.writeInt32(n)},e.prototype.read=function(n){var t,r;for(t=[],r=0;0<=n?r<n:r>n;r=0<=n?++r:--r)t.push(this.readByte());return t},e.prototype.write=function(n){var r,s,o;for(o=[],r=0,s=n.length;r<s;r++)o.push(this.writeByte(n[r]));return o},e}(),b4=function(){var e;function n(t){var r,s,o;for(this.scalarType=t.readInt(),this.tableCount=t.readShort(),this.searchRange=t.readShort(),this.entrySelector=t.readShort(),this.rangeShift=t.readShort(),this.tables={},s=0,o=this.tableCount;0<=o?s<o:s>o;s=0<=o?++s:--s)r={tag:t.readString(4),checksum:t.readInt(),offset:t.readInt(),length:t.readInt()},this.tables[r.tag]=r}return n.prototype.encode=function(t){var r,s,d,g,m,_,w,A,N,D,ee,B;for(B in D=Object.keys(t).length,m=Math.log(2),A=16*Math.floor(Math.log(D)/m),d=Math.floor(A/m),w=16*D-A,(s=new U1).writeInt(this.scalarType),s.writeShort(D),s.writeShort(A),s.writeShort(d),s.writeShort(w),_=s.pos+16*D,g=null,ee=[],t)for(N=t[B],s.writeString(B),s.writeInt(e(N)),s.writeInt(_),s.writeInt(N.length),ee=ee.concat(N),"head"===B&&(g=_),_+=N.length;_%4;)ee.push(0),_++;return s.write(ee),r=2981146554-e(s.data),s.pos=g+8,s.writeUInt32(r),s.data},e=function(t){var r,s,o,d;for(t=vO.call(t);t.length%4;)t.push(0);for(o=new U1(t),s=0,r=0,d=t.length;r<d;r=r+=4)s+=o.readUInt32();return 4294967295&s},n}(),E4={}.hasOwnProperty,Eg=function(e,n){for(var t in n)E4.call(n,t)&&(e[t]=n[t]);function r(){this.constructor=e}return r.prototype=n.prototype,e.prototype=new r,e.__super__=n.prototype,e};c0=function(){function e(n){var t;this.file=n,this.exists=!!(t=this.file.directory.tables[this.tag]),t&&(this.offset=t.offset,this.length=t.length,this.parse(this.file.contents))}return e.prototype.parse=function(){},e.prototype.encode=function(){},e.prototype.raw=function(){return this.exists?(this.file.contents.pos=this.offset,this.file.contents.read(this.length)):null},e}();var T4=function(e){function n(){return n.__super__.constructor.apply(this,arguments)}return Eg(n,c0),n.prototype.tag="head",n.prototype.parse=function(t){return t.pos=this.offset,this.version=t.readInt(),this.revision=t.readInt(),this.checkSumAdjustment=t.readInt(),this.magicNumber=t.readInt(),this.flags=t.readShort(),this.unitsPerEm=t.readShort(),this.created=t.readLongLong(),this.modified=t.readLongLong(),this.xMin=t.readShort(),this.yMin=t.readShort(),this.xMax=t.readShort(),this.yMax=t.readShort(),this.macStyle=t.readShort(),this.lowestRecPPEM=t.readShort(),this.fontDirectionHint=t.readShort(),this.indexToLocFormat=t.readShort(),this.glyphDataFormat=t.readShort()},n.prototype.encode=function(t){var r;return(r=new U1).writeInt(this.version),r.writeInt(this.revision),r.writeInt(this.checkSumAdjustment),r.writeInt(this.magicNumber),r.writeShort(this.flags),r.writeShort(this.unitsPerEm),r.writeLongLong(this.created),r.writeLongLong(this.modified),r.writeShort(this.xMin),r.writeShort(this.yMin),r.writeShort(this.xMax),r.writeShort(this.yMax),r.writeShort(this.macStyle),r.writeShort(this.lowestRecPPEM),r.writeShort(this.fontDirectionHint),r.writeShort(t),r.writeShort(this.glyphDataFormat),r.data},n}(),gO=function(){function e(n,t){var r,s,o,d,g,m,_,w,A,N,D,ee,B,he,Pe,je,Xe;switch(this.platformID=n.readUInt16(),this.encodingID=n.readShort(),this.offset=t+n.readInt(),A=n.pos,n.pos=this.offset,this.format=n.readUInt16(),this.length=n.readUInt16(),this.language=n.readUInt16(),this.isUnicode=3===this.platformID&&1===this.encodingID&&4===this.format||0===this.platformID&&4===this.format,this.codeMap={},this.format){case 0:for(m=0;m<256;++m)this.codeMap[m]=n.readByte();break;case 4:for(D=n.readUInt16(),N=D/2,n.pos+=6,o=function(){var Vt,Xt;for(Xt=[],m=Vt=0;0<=N?Vt<N:Vt>N;m=0<=N?++Vt:--Vt)Xt.push(n.readUInt16());return Xt}(),n.pos+=2,B=function(){var Vt,Xt;for(Xt=[],m=Vt=0;0<=N?Vt<N:Vt>N;m=0<=N?++Vt:--Vt)Xt.push(n.readUInt16());return Xt}(),_=function(){var Vt,Xt;for(Xt=[],m=Vt=0;0<=N?Vt<N:Vt>N;m=0<=N?++Vt:--Vt)Xt.push(n.readUInt16());return Xt}(),w=function(){var Vt,Xt;for(Xt=[],m=Vt=0;0<=N?Vt<N:Vt>N;m=0<=N?++Vt:--Vt)Xt.push(n.readUInt16());return Xt}(),s=(this.length-n.pos+this.offset)/2,g=function(){var Vt,Xt;for(Xt=[],m=Vt=0;0<=s?Vt<s:Vt>s;m=0<=s?++Vt:--Vt)Xt.push(n.readUInt16());return Xt}(),m=Pe=0,Xe=o.length;Pe<Xe;m=++Pe)for(he=o[m],r=je=ee=B[m];ee<=he?je<=he:je>=he;r=ee<=he?++je:--je)0===w[m]?d=r+_[m]:0!==(d=g[w[m]/2+(r-ee)-(N-m)]||0)&&(d+=_[m]),this.codeMap[r]=65535&d}n.pos=A}return e.encode=function(n,t){var r,s,o,d,g,m,_,w,A,N,D,ee,B,he,Pe,je,Xe,Xt,bn,At,St,Jt,gn,vt,st,rn,tn,Fn,Wn,Kn,Zn,zn,nr,Qn,Ie,bt,ut,_t,Kt,In,An,Pn,qn,Rr,Gt;switch(tn=new U1,d=Object.keys(n).sort(function(oi,_i){return oi-_i}),t){case"macroman":for(B=0,he=function(){var oi=[];for(ee=0;ee<256;++ee)oi.push(0);return oi}(),je={0:0},o={},Fn=0,zn=d.length;Fn<zn;Fn++)null==je[Pn=n[s=d[Fn]]]&&(je[Pn]=++B),o[s]={old:n[s],new:je[n[s]]},he[s]=je[n[s]];return tn.writeUInt16(1),tn.writeUInt16(0),tn.writeUInt32(12),tn.writeUInt16(0),tn.writeUInt16(262),tn.writeUInt16(0),tn.write(he),{charMap:o,subtable:tn.data,maxGlyphID:B+1};case"unicode":for(st=[],A=[],Xe=0,je={},r={},Pe=_=null,Wn=0,nr=d.length;Wn<nr;Wn++)null==je[Xt=n[s=d[Wn]]]&&(je[Xt]=++Xe),r[s]={old:Xt,new:je[Xt]},g=je[Xt]-s,null!=Pe&&g===_||(Pe&&A.push(Pe),st.push(s),_=g),Pe=s;for(Pe&&A.push(Pe),A.push(65535),st.push(65535),gn=2*(Jt=st.length),St=2*Math.pow(Math.log(Jt)/Math.LN2,2),N=Math.log(St/2)/Math.LN2,At=2*Jt-St,m=[],bn=[],D=[],ee=Kn=0,Qn=st.length;Kn<Qn;ee=++Kn){if(w=A[ee],65535===(vt=st[ee])){m.push(0),bn.push(0);break}if(vt-(rn=r[vt].new)>=32768)for(m.push(0),bn.push(2*(D.length+Jt-ee)),s=Zn=vt;vt<=w?Zn<=w:Zn>=w;s=vt<=w?++Zn:--Zn)D.push(r[s].new);else m.push(rn-vt),bn.push(0)}for(tn.writeUInt16(3),tn.writeUInt16(1),tn.writeUInt32(12),tn.writeUInt16(4),tn.writeUInt16(16+8*Jt+2*D.length),tn.writeUInt16(0),tn.writeUInt16(gn),tn.writeUInt16(St),tn.writeUInt16(N),tn.writeUInt16(At),In=0,Ie=A.length;In<Ie;In++)tn.writeUInt16(s=A[In]);for(tn.writeUInt16(0),An=0,bt=st.length;An<bt;An++)tn.writeUInt16(s=st[An]);for(qn=0,ut=m.length;qn<ut;qn++)tn.writeUInt16(g=m[qn]);for(Rr=0,_t=bn.length;Rr<_t;Rr++)tn.writeUInt16(bn[Rr]);for(Gt=0,Kt=D.length;Gt<Kt;Gt++)tn.writeUInt16(B=D[Gt]);return{charMap:r,subtable:tn.data,maxGlyphID:Xe+1}}},e}(),mO=function(e){function n(){return n.__super__.constructor.apply(this,arguments)}return Eg(n,c0),n.prototype.tag="cmap",n.prototype.parse=function(t){var r,s,o;for(t.pos=this.offset,this.version=t.readUInt16(),o=t.readUInt16(),this.tables=[],this.unicode=null,s=0;0<=o?s<o:s>o;s=0<=o?++s:--s)r=new gO(t,this.offset),this.tables.push(r),r.isUnicode&&null==this.unicode&&(this.unicode=r);return!0},n.encode=function(t,r){var s,o;return null==r&&(r="macroman"),s=gO.encode(t,r),(o=new U1).writeUInt16(0),o.writeUInt16(1),s.table=o.data.concat(s.subtable),s},n}(),C4=function(e){function n(){return n.__super__.constructor.apply(this,arguments)}return Eg(n,c0),n.prototype.tag="hhea",n.prototype.parse=function(t){return t.pos=this.offset,this.version=t.readInt(),this.ascender=t.readShort(),this.decender=t.readShort(),this.lineGap=t.readShort(),this.advanceWidthMax=t.readShort(),this.minLeftSideBearing=t.readShort(),this.minRightSideBearing=t.readShort(),this.xMaxExtent=t.readShort(),this.caretSlopeRise=t.readShort(),this.caretSlopeRun=t.readShort(),this.caretOffset=t.readShort(),t.pos+=8,this.metricDataFormat=t.readShort(),this.numberOfMetrics=t.readUInt16()},n}(),S4=function(e){function n(){return n.__super__.constructor.apply(this,arguments)}return Eg(n,c0),n.prototype.tag="OS/2",n.prototype.parse=function(t){if(t.pos=this.offset,this.version=t.readUInt16(),this.averageCharWidth=t.readShort(),this.weightClass=t.readUInt16(),this.widthClass=t.readUInt16(),this.type=t.readShort(),this.ySubscriptXSize=t.readShort(),this.ySubscriptYSize=t.readShort(),this.ySubscriptXOffset=t.readShort(),this.ySubscriptYOffset=t.readShort(),this.ySuperscriptXSize=t.readShort(),this.ySuperscriptYSize=t.readShort(),this.ySuperscriptXOffset=t.readShort(),this.ySuperscriptYOffset=t.readShort(),this.yStrikeoutSize=t.readShort(),this.yStrikeoutPosition=t.readShort(),this.familyClass=t.readShort(),this.panose=function(){var r,s;for(s=[],r=0;r<10;++r)s.push(t.readByte());return s}(),this.charRange=function(){var r,s;for(s=[],r=0;r<4;++r)s.push(t.readInt());return s}(),this.vendorID=t.readString(4),this.selection=t.readShort(),this.firstCharIndex=t.readShort(),this.lastCharIndex=t.readShort(),this.version>0&&(this.ascent=t.readShort(),this.descent=t.readShort(),this.lineGap=t.readShort(),this.winAscent=t.readShort(),this.winDescent=t.readShort(),this.codePageRange=function(){var r,s;for(s=[],r=0;r<2;r=++r)s.push(t.readInt());return s}(),this.version>1))return this.xHeight=t.readShort(),this.capHeight=t.readShort(),this.defaultChar=t.readShort(),this.breakChar=t.readShort(),this.maxContext=t.readShort()},n}(),A4=function(e){function n(){return n.__super__.constructor.apply(this,arguments)}return Eg(n,c0),n.prototype.tag="post",n.prototype.parse=function(t){var r,s,o;switch(t.pos=this.offset,this.format=t.readInt(),this.italicAngle=t.readInt(),this.underlinePosition=t.readShort(),this.underlineThickness=t.readShort(),this.isFixedPitch=t.readInt(),this.minMemType42=t.readInt(),this.maxMemType42=t.readInt(),this.minMemType1=t.readInt(),this.maxMemType1=t.readInt(),this.format){case 65536:case 196608:break;case 131072:var d;for(s=t.readUInt16(),this.glyphNameIndex=[],d=0;0<=s?d<s:d>s;d=0<=s?++d:--d)this.glyphNameIndex.push(t.readUInt16());for(this.names=[],o=[];t.pos<this.offset+this.length;)r=t.readByte(),o.push(this.names.push(t.readString(r)));return o;case 151552:return s=t.readUInt16(),this.offsets=t.read(s);case 262144:return this.map=function(){var g,m,_;for(_=[],d=g=0,m=this.file.maxp.numGlyphs;0<=m?g<m:g>m;d=0<=m?++g:--g)_.push(t.readUInt32());return _}.call(this)}},n}(),I4=function(e,n){this.raw=e,this.length=e.length,this.platformID=n.platformID,this.encodingID=n.encodingID,this.languageID=n.languageID},D4=function(e){function n(){return n.__super__.constructor.apply(this,arguments)}return Eg(n,c0),n.prototype.tag="name",n.prototype.parse=function(t){var r,s,o,d,g,m,_,w,A,N,D;for(t.pos=this.offset,t.readShort(),r=t.readShort(),m=t.readShort(),s=[],d=0;0<=r?d<r:d>r;d=0<=r?++d:--d)s.push({platformID:t.readShort(),encodingID:t.readShort(),languageID:t.readShort(),nameID:t.readShort(),length:t.readShort(),offset:this.offset+m+t.readShort()});for(_={},d=A=0,N=s.length;A<N;d=++A)t.pos=(o=s[d]).offset,w=t.readString(o.length),g=new I4(w,o),null==_[D=o.nameID]&&(_[D]=[]),_[o.nameID].push(g);this.strings=_,this.copyright=_[0],this.fontFamily=_[1],this.fontSubfamily=_[2],this.uniqueSubfamily=_[3],this.fontName=_[4],this.version=_[5];try{this.postscriptName=_[6][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}catch(ee){this.postscriptName=_[4][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}return this.trademark=_[7],this.manufacturer=_[8],this.designer=_[9],this.description=_[10],this.vendorUrl=_[11],this.designerUrl=_[12],this.license=_[13],this.licenseUrl=_[14],this.preferredFamily=_[15],this.preferredSubfamily=_[17],this.compatibleFull=_[18],this.sampleText=_[19]},n}(),k4=function(e){function n(){return n.__super__.constructor.apply(this,arguments)}return Eg(n,c0),n.prototype.tag="maxp",n.prototype.parse=function(t){return t.pos=this.offset,this.version=t.readInt(),this.numGlyphs=t.readUInt16(),this.maxPoints=t.readUInt16(),this.maxContours=t.readUInt16(),this.maxCompositePoints=t.readUInt16(),this.maxComponentContours=t.readUInt16(),this.maxZones=t.readUInt16(),this.maxTwilightPoints=t.readUInt16(),this.maxStorage=t.readUInt16(),this.maxFunctionDefs=t.readUInt16(),this.maxInstructionDefs=t.readUInt16(),this.maxStackElements=t.readUInt16(),this.maxSizeOfInstructions=t.readUInt16(),this.maxComponentElements=t.readUInt16(),this.maxComponentDepth=t.readUInt16()},n}(),P4=function(e){function n(){return n.__super__.constructor.apply(this,arguments)}return Eg(n,c0),n.prototype.tag="hmtx",n.prototype.parse=function(t){var r,s,o,g,m,_;for(t.pos=this.offset,this.metrics=[],r=0,m=this.file.hhea.numberOfMetrics;0<=m?r<m:r>m;r=0<=m?++r:--r)this.metrics.push({advance:t.readUInt16(),lsb:t.readInt16()});for(o=this.file.maxp.numGlyphs-this.file.hhea.numberOfMetrics,this.leftSideBearings=function(){var w,A;for(A=[],r=w=0;0<=o?w<o:w>o;r=0<=o?++w:--w)A.push(t.readInt16());return A}(),this.widths=function(){var w,A,N,D;for(D=[],w=0,A=(N=this.metrics).length;w<A;w++)D.push(N[w].advance);return D}.call(this),s=this.widths[this.widths.length-1],_=[],r=g=0;0<=o?g<o:g>o;r=0<=o?++g:--g)_.push(this.widths.push(s));return _},n.prototype.forGlyph=function(t){return t in this.metrics?this.metrics[t]:{advance:this.metrics[this.metrics.length-1].advance,lsb:this.leftSideBearings[t-this.metrics.length]}},n}(),vO=[].slice,N4=function(e){function n(){return n.__super__.constructor.apply(this,arguments)}return Eg(n,c0),n.prototype.tag="glyf",n.prototype.parse=function(){return this.cache={}},n.prototype.glyphFor=function(t){var r,s,o,d,g,m,_,w,A,N;return t in this.cache?this.cache[t]:(r=this.file.contents,s=(d=this.file.loca).indexOf(t),0===(o=d.lengthOf(t))?this.cache[t]=null:(r.pos=this.offset+s,g=(m=new U1(r.read(o))).readShort(),w=m.readShort(),N=m.readShort(),_=m.readShort(),A=m.readShort(),this.cache[t]=-1===g?new O4(m,w,N,_,A):new M4(m,g,w,N,_,A),this.cache[t]))},n.prototype.encode=function(t,r,s){var o,d,g,m,_;for(g=[],d=[],m=0,_=r.length;m<_;m++)o=t[r[m]],d.push(g.length),o&&(g=g.concat(o.encode(s)));return d.push(g.length),{table:g,offsets:d}},n}(),M4=function(){function e(n,t,r,s,o,d){this.raw=n,this.numberOfContours=t,this.xMin=r,this.yMin=s,this.xMax=o,this.yMax=d,this.compound=!1}return e.prototype.encode=function(){return this.raw.data},e}(),O4=function(){function e(n,t,r,s,o){var d,g;for(this.raw=n,this.xMin=t,this.yMin=r,this.xMax=s,this.yMax=o,this.compound=!0,this.glyphIDs=[],this.glyphOffsets=[],d=this.raw;g=d.readShort(),this.glyphOffsets.push(d.pos),this.glyphIDs.push(d.readUInt16()),32&g;)d.pos+=1&g?4:2,128&g?d.pos+=8:64&g?d.pos+=4:8&g&&(d.pos+=2)}return e.prototype.encode=function(){var n,t,r;for(t=new U1(vO.call(this.raw.data)),n=0,r=this.glyphIDs.length;n<r;++n)t.pos=this.glyphOffsets[n];return t.data},e}(),F4=function(e){function n(){return n.__super__.constructor.apply(this,arguments)}return Eg(n,c0),n.prototype.tag="loca",n.prototype.parse=function(t){var s;return t.pos=this.offset,this.offsets=0===this.file.head.indexToLocFormat?function(){var o,d;for(d=[],s=0,o=this.length;s<o;s+=2)d.push(2*t.readUInt16());return d}.call(this):function(){var o,d;for(d=[],s=0,o=this.length;s<o;s+=4)d.push(t.readUInt32());return d}.call(this)},n.prototype.indexOf=function(t){return this.offsets[t]},n.prototype.lengthOf=function(t){return this.offsets[t+1]-this.offsets[t]},n.prototype.encode=function(t,r){for(var s=new Uint32Array(this.offsets.length),o=0,d=0,g=0;g<s.length;++g)if(s[g]=o,d<r.length&&r[d]==g){++d,s[g]=o;var _=this.offsets[g+1]-this.offsets[g];_>0&&(o+=_)}for(var w=new Array(4*s.length),A=0;A<s.length;++A)w[4*A+3]=255&s[A],w[4*A+2]=(65280&s[A])>>8,w[4*A+1]=(16711680&s[A])>>16,w[4*A]=(4278190080&s[A])>>24;return w},n}(),R4=function(){function e(n){this.font=n,this.subset={},this.unicodes={},this.next=33}return e.prototype.generateCmap=function(){var n,t,s,o;for(t in s=this.font.cmap.tables[0].codeMap,n={},o=this.subset)n[t]=s[o[t]];return n},e.prototype.glyphsFor=function(n){var t,r,s,o,d,g,m;for(s={},d=0,g=n.length;d<g;d++)s[o=n[d]]=this.font.glyf.glyphFor(o);for(o in t=[],s)(null!=(r=s[o])?r.compound:void 0)&&t.push.apply(t,r.glyphIDs);if(t.length>0)for(o in m=this.glyphsFor(t))s[o]=r=m[o];return s},e.prototype.encode=function(n,t){var r,s,o,d,m,_,w,A,N,D,ee,B,he,Pe;for(s in r=mO.encode(this.generateCmap(),"unicode"),d=this.glyphsFor(n),D={0:0},Pe=r.charMap)D[(m=Pe[s]).old]=m.new;for(ee in N=r.maxGlyphID,d)ee in D||(D[ee]=N++);return w=function(je){var Xe,Vt;for(Xe in Vt={},je)Vt[je[Xe]]=Xe;return Vt}(D),A=Object.keys(w).sort(function(je,Xe){return je-Xe}),B=function(){var je,Xe,Vt;for(Vt=[],je=0,Xe=A.length;je<Xe;je++)Vt.push(w[A[je]]);return Vt}(),o=this.font.glyf.encode(d,B,D),_=this.font.loca.encode(o.offsets,B),he={cmap:this.font.cmap.raw(),glyf:o.table,loca:_,hmtx:this.font.hmtx.raw(),hhea:this.font.hhea.raw(),maxp:this.font.maxp.raw(),post:this.font.post.raw(),name:this.font.name.raw(),head:this.font.head.encode(t)},this.font.os2.exists&&(he["OS/2"]=this.font.os2.raw()),this.font.directory.encode(he)},e}();bs.API.PDFObject=function(){var e;function n(){}return e=function(t,r){return(Array(r+1).join("0")+t).slice(-r)},n.convert=function(t){var s,o;if(Array.isArray(t))return"["+function(){var g,m,_;for(_=[],g=0,m=t.length;g<m;g++)_.push(n.convert(t[g]));return _}().join(" ")+"]";if("string"==typeof t)return"/"+t;if(null!=t?t.isString:void 0)return"("+t+")";if(t instanceof Date)return"(D:"+e(t.getUTCFullYear(),4)+e(t.getUTCMonth(),2)+e(t.getUTCDate(),2)+e(t.getUTCHours(),2)+e(t.getUTCMinutes(),2)+e(t.getUTCSeconds(),2)+"Z)";if("[object Object]"==={}.toString.call(t)){for(s in o=["<<"],t)o.push("/"+s+" "+n.convert(t[s]));return o.push(">>"),o.join("\n")}return""+t},n}();const L4=bs;function yO(e,n){return{type:7,name:e,definitions:n,options:{}}}function J5(e,n=null){return{type:4,styles:n,timings:e}}function LA(e){return{type:6,styles:e,offset:null}}function _O(e,n,t){return{type:0,name:e,styles:n,options:t}}function Q5(e,n,t=null){return{type:1,expr:e,animation:n,options:t}}function U4(e,n){if(1&e&&(h.TgZ(0,"tr")(1,"td"),h._uU(2),h.ALo(3,"date"),h.qZA(),h.TgZ(4,"td"),h._uU(5),h.qZA(),h.TgZ(6,"td"),h._uU(7),h.qZA(),h.TgZ(8,"td"),h._uU(9),h.qZA(),h.TgZ(10,"td"),h._uU(11),h.qZA(),h.TgZ(12,"td"),h._uU(13),h.qZA(),h.TgZ(14,"td"),h._uU(15),h.qZA(),h.TgZ(16,"td"),h._uU(17),h.qZA(),h.TgZ(18,"td"),h._uU(19),h.qZA(),h.TgZ(20,"td"),h._uU(21),h.qZA(),h.TgZ(22,"td"),h._uU(23),h.qZA()()),2&e){const t=n.$implicit;h.xp6(2),h.Oqu(h.xi3(3,11,t.fecha,"yyyy/MM/dd HH:mm")),h.xp6(3),h.Oqu(t.altura),h.xp6(2),h.Oqu(t.peso),h.xp6(2),h.Oqu(t.temperatura),h.xp6(2),h.Oqu(t.presion),h.xp6(2),h.Oqu(t.clave1),h.xp6(2),h.Oqu(t.valor1),h.xp6(2),h.Oqu(t.clave2),h.xp6(2),h.Oqu(t.valor2),h.xp6(2),h.Oqu(t.clave3),h.xp6(2),h.Oqu(t.valor3)}}function B4(e,n){if(1&e){const t=h.EpF();h.TgZ(0,"div")(1,"div",8)(2,"button",9),h.NdJ("click",function(){return h.CHM(t),h.oxw(2).verTodas()}),h._uU(3,"Ver Todas Tus Historias"),h.qZA()(),h.TgZ(4,"div",8)(5,"button",9),h.NdJ("click",function(){return h.CHM(t),h.oxw(2).openPDF()}),h._uU(6,"Descargar PDF"),h.qZA()()()}}function j4(e,n){if(1&e&&(h.TgZ(0,"div")(1,"div",2)(2,"div",3,4),h._UZ(4,"img",5)(5,"br"),h.TgZ(6,"h6"),h._uU(7,"Cl\xednica del Dr Dubin"),h.qZA(),h.TgZ(8,"h1"),h._uU(9),h.qZA(),h.TgZ(10,"table",6)(11,"tr")(12,"th"),h._uU(13,"Fecha"),h.qZA(),h.TgZ(14,"th"),h._uU(15,"Altura"),h.qZA(),h.TgZ(16,"th"),h._uU(17,"Peso"),h.qZA(),h.TgZ(18,"th"),h._uU(19,"Temperatura"),h.qZA(),h.TgZ(20,"th"),h._uU(21,"Presi\xf3n"),h.qZA(),h.TgZ(22,"th"),h._uU(23,"Dato 1"),h.qZA(),h.TgZ(24,"th"),h._uU(25,"Valor"),h.qZA(),h.TgZ(26,"th"),h._uU(27,"Dato 2"),h.qZA(),h.TgZ(28,"th"),h._uU(29,"Valor"),h.qZA(),h.TgZ(30,"th"),h._uU(31,"Dato 3"),h.qZA(),h.TgZ(32,"th"),h._uU(33,"Valor"),h.qZA()(),h.YNc(34,U4,24,14,"tr",7),h.qZA()()(),h.YNc(35,B4,7,0,"div",1),h.qZA()),2&e){const t=h.oxw();h.Q6J("@fadeInOut",void 0),h.xp6(9),h.AsE("Historias Cl\xednicas de ",t.pacienteSeleccionado.nombre," ",t.pacienteSeleccionado.apellido,""),h.xp6(25),h.Q6J("ngForOf",t.arrayHistoriasClinicas),h.xp6(1),h.Q6J("ngIf","paciente"==t.user.tipo)}}let eP=(()=>{class e{constructor(t){this.historiasService=t,this.arrayHistoriasClinicas=[],this.user=JSON.parse(localStorage.getItem("loggedUser")||""),this.visible=!0}ngOnInit(){if(!this.especialistaSeleccionado){let t=[],r=this.historiasService.getHistoria(this.pacienteSeleccionado.mail).subscribe(s=>{for(let o=0;o<s.length;o++){let d=s[o].payload.doc.data();d.fecha=d.fecha.toDate(),t.push(d)}this.arrayHistoriasClinicas=t.sort(function(o,d){return o.temperatura-d.temperatura}),r.unsubscribe()})}}ngOnChanges(){if(this.especialistaSeleccionado){let t=[],r=this.historiasService.getHistoriasByPacienteAndEspecialista(this.pacienteSeleccionado.mail,this.especialistaSeleccionado.mail).subscribe(s=>{for(let o=0;o<s.length;o++){let d=s[o].payload.doc.data();d.fecha=d.fecha.toDate(),t.push(d)}this.arrayHistoriasClinicas=t.sort(function(o,d){return o.temperatura-d.temperatura}),r.unsubscribe()})}}openPDF(){document.getElementById("htmlData"),new L4("p","mm","a4").save("Historia_Cl\xednica_"+this.pacienteSeleccionado.nombre+"_"+this.pacienteSeleccionado.apellido+".pdf")}verTodas(){this.ngOnInit()}}return e.\u0275fac=function(t){return new(t||e)(h.Y36(nl))},e.\u0275cmp=h.Xpm({type:e,selectors:[["app-detalle-historia-clinica"]],inputs:{pacienteSeleccionado:"pacienteSeleccionado",especialistaSeleccionado:"especialistaSeleccionado"},features:[h.TTD],decls:2,vars:1,consts:[[1,"container"],[4,"ngIf"],[1,"row"],["id","htmlData",1,"col-md-8",2,"width","100%"],["htmlData",""],["src","../../images/Dr.Dubin.jpg"],[1,"table","table-bordered"],[4,"ngFor","ngForOf"],[1,"text-right"],[1,"btn","btn-success","btn-block",3,"click"]],template:function(t,r){1&t&&(h.TgZ(0,"div",0),h.YNc(1,j4,36,5,"div",1),h.qZA()),2&t&&(h.xp6(1),h.Q6J("ngIf",r.visible))},directives:[C.O5,C.sg],pipes:[C.uU],styles:["table[_ngcontent-%COMP%], th[_ngcontent-%COMP%], td[_ngcontent-%COMP%]{border:1px solid black}img[_ngcontent-%COMP%]{display:inline;width:100px;height:100px;object-fit:scale-down}"],data:{animation:[yO("fadeInOut",[_O("void",LA({opacity:0})),Q5("void <=> *",J5(1e3))]),yO("EnterLeave",[_O("flyIn",LA({transform:"translateX(0)"})),Q5(":enter",[LA({transform:"translateX(-100%)"}),J5("0.5s 300ms ease-in")]),Q5(":leave",[J5("0.3s ease-out",LA({transform:"translateX(100%)"}))])])]}}),e})();class V4{constructor(n,t,r,s){this.franjas=n,this.especialista=t,this.especialidad=r,this.duracionTurno=s}}var H4=me(8464);function z4(e,n){if(1&e){const t=h.EpF();h.TgZ(0,"li",20),h.NdJ("click",function(){const o=h.CHM(t).$implicit;return h.oxw().seleccionarEspecialidad(o)}),h.TgZ(1,"span"),h._uU(2),h.qZA()()}if(2&e){const t=n.$implicit;h.xp6(2),h.Oqu(t.nombre)}}function W4(e,n){if(1&e&&(h.TgZ(0,"li",21)(1,"span"),h._uU(2),h.qZA(),h.TgZ(3,"span"),h._uU(4),h.qZA(),h.TgZ(5,"span"),h._uU(6),h.qZA()()),2&e){const t=n.$implicit;h.xp6(2),h.Oqu(t.dia),h.xp6(2),h.hij("Desde ",t.start,""),h.xp6(2),h.hij("Hasta ",t.finish,"")}}function q4(e,n){if(1&e&&(h.TgZ(0,"ul",3),h.YNc(1,W4,7,3,"li",17),h.qZA()),2&e){const t=h.oxw();h.xp6(1),h.Q6J("ngForOf",t.disponibilidadMuestra.franjas)}}function G4(e,n){1&e&&(h.TgZ(0,"span",22),h._uU(1,"Debe elegir especialidad en la tabla."),h.qZA())}function Z4(e,n){if(1&e&&(h.TgZ(0,"option",23),h._uU(1),h.qZA()),2&e){const t=n.$implicit;h.Q6J("value",t),h.xp6(1),h.Oqu(t)}}function $4(e,n){1&e&&(h.TgZ(0,"span",22),h._uU(1,"Debe elegir un d\xeda."),h.qZA())}function Y4(e,n){1&e&&(h.TgZ(0,"span",22),h._uU(1,"Debe elegir inicio de franja de disponibilidad."),h.qZA())}function K4(e,n){1&e&&(h.TgZ(0,"span",22),h._uU(1,"Debe escribir el horario en el formato HH:mm"),h.qZA())}function X4(e,n){1&e&&(h.TgZ(0,"span",22),h._uU(1,"Debe escribir el horario en el formato HH:mm"),h.qZA())}function J4(e,n){1&e&&(h.TgZ(0,"span",22),h._uU(1,"Debe elegir fin de franja de disponibilidad."),h.qZA())}function Q4(e,n){if(1&e){const t=h.EpF();h.TgZ(0,"button",24),h.NdJ("click",function(){return h.CHM(t),h.oxw().agregarFranja()}),h._uU(1,"Agregar nueva franja"),h.qZA()}}function eL(e,n){if(1&e&&(h.TgZ(0,"li",21)(1,"span"),h._uU(2),h.qZA(),h.TgZ(3,"span"),h._uU(4),h.qZA(),h.TgZ(5,"span"),h._uU(6),h.qZA()()),2&e){const t=n.$implicit;h.xp6(2),h.Oqu(t.dia),h.xp6(2),h.hij("Desde ",t.start,""),h.xp6(2),h.hij("Hasta ",t.finish,"")}}function tL(e,n){1&e&&(h.TgZ(0,"span",22),h._uU(1,"Debe elegir duraci\xf3n m\xednima del turno."),h.qZA())}function nL(e,n){1&e&&(h.TgZ(0,"span",22),h._uU(1,"La duraci\xf3n minima es 30 min."),h.qZA())}function rL(e){let n=e.controls.diaSeleccionado.value;if("domingo"==n)return{noSeTrabaja:!0};let t=wO(e.controls.comienzo.value),r=wO(e.controls.finalizacion.value);return t.hours>r.hours?{fueraDeRango:!0}:"sabado"==n?t.hours<8||r.hours>14?{fueraDeRango:!0}:null:t.hours<8||r.hours>19?{fueraDeRango:!0}:null}let iL=(()=>{class e{constructor(t,r,s){this.especialidadService=t,this.disponibilidadService=r,this.fb=s,this.seSeleccionoEspecialidad=new h.vpe,this.arrayEspecialidades=[],this.filter="",this.especialista=JSON.parse(localStorage.getItem("loggedUser")||""),this.especialidadSeleccionada=new H4.K(""),this.listaDias=["domingo","lunes","martes","miercoles","jueves","viernes","sabado"],this.listaFranjas=[],this.formNuevaDisp=s.group({duracionTurno:["",[Rt.kI.required,Rt.kI.min(30)]],especialidad:["",Rt.kI.required],diaSeleccionado:["",Rt.kI.required],comienzo:["",[Rt.kI.required,Rt.kI.pattern]],finalizacion:["",[Rt.kI.required,Rt.kI.pattern]]},{validator:rL})}ngOnInit(){this.arrayEspecialidades=this.especialista.especialidades}seleccionarEspecialidad(t){this.listaFranjas=[],this.especialidadSeleccionada=t,this.disponibilidadService.getDisponibilidadesByEspecialistaEspecialidad(this.especialista.mail,this.especialidadSeleccionada.nombre).subscribe(r=>{0!=r.length&&(this.disponibilidadMuestra=r[0].payload.doc.data())}),this.formNuevaDisp.controls.especialidad.setValue(t.nombre)}agregarFranja(){let o=new ko(this.formNuevaDisp.controls.diaSeleccionado.value,this.formNuevaDisp.controls.comienzo.value,this.formNuevaDisp.controls.finalizacion.value);this.listaFranjas.push(o)}agregarNuevaDisponibilidad(){let r=JSON.parse(this.especialista).mail,d=new V4(this.listaFranjas,r,this.formNuevaDisp.controls.especialidad.value,this.formNuevaDisp.controls.duracionTurno.value);this.disponibilidadService.guardarDisponibilidad(d).then(g=>{this.showSuccess()}).catch(g=>{this.showError(g)}),this.formNuevaDisp.controls.duracionTurno.setValue(""),this.formNuevaDisp.controls.diaSeleccionado.setValue(""),this.formNuevaDisp.controls.comienzo.setValue(""),this.formNuevaDisp.controls.finalizacion.setValue("")}showSuccess(){}showError(t){}}return e.\u0275fac=function(t){return new(t||e)(h.Y36(V.T),h.Y36($i),h.Y36(Rt.qu))},e.\u0275cmp=h.Xpm({type:e,selectors:[["app-horarios"]],outputs:{seSeleccionoEspecialidad:"seSeleccionoEspecialidad"},decls:59,vars:20,consts:[[1,"h-100","p-5","text-white","bg-dark","rounded-3"],[1,"row"],[1,"col-sm-4"],[1,"list-group","mb-3"],["type","text",3,"ngModel","ngModelChange"],["class","list-group-item d-flex justify-content-between lh-sm",3,"click",4,"ngFor","ngForOf"],["class","list-group mb-3",4,"ngIf"],[1,"col-sm-4",3,"formGroup","ngSubmit"],[1,"form-group"],["for","appt"],["type","text","formControlName","especialidad","readonly",""],["class","text-danger",4,"ngIf"],["name","listaDias","formControlName","diaSeleccionado"],[3,"value",4,"ngFor","ngForOf"],["type","text","formControlName","comienzo","pattern","^([0-1]?[0-9]|2[0-4]):([0-5][0-9])(:[0-5][0-9])?$","placeholder","08:00",1,"form-control"],["type","text","formControlName","finalizacion","pattern","^([0-1]?[0-9]|2[0-4]):([0-5][0-9])(:[0-5][0-9])?$","placeholder","19:00",1,"form-control"],["class","btn btn-outline-light","type","button",3,"click",4,"ngIf"],["class","list-group-item d-flex justify-content-between lh-sm",4,"ngFor","ngForOf"],["type","number","formControlName","duracionTurno"],["type","submit",1,"btn","btn-primary","btn-md",3,"disabled"],[1,"list-group-item","d-flex","justify-content-between","lh-sm",3,"click"],[1,"list-group-item","d-flex","justify-content-between","lh-sm"],[1,"text-danger"],[3,"value"],["type","button",1,"btn","btn-outline-light",3,"click"]],template:function(t,r){if(1&t&&(h.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"ul",3)(4,"h3"),h._uU(5,"Especialidades"),h.qZA(),h.TgZ(6,"p")(7,"input",4),h.NdJ("ngModelChange",function(o){return r.filter=o}),h.qZA()(),h.YNc(8,z4,3,1,"li",5),h.ALo(9,"filtroEspecialidades"),h.qZA()(),h.TgZ(10,"div",2)(11,"h3"),h._uU(12),h.qZA(),h.YNc(13,q4,2,1,"ul",6),h.qZA(),h.TgZ(14,"form",7),h.NdJ("ngSubmit",function(){return r.agregarNuevaDisponibilidad()}),h.TgZ(15,"div",8)(16,"h3"),h._uU(17,"Nueva disponibilidad"),h.qZA(),h.TgZ(18,"label",9),h._uU(19,"Especialidad:"),h.qZA(),h.TgZ(20,"p"),h._UZ(21,"input",10),h.qZA(),h.YNc(22,G4,2,0,"span",11),h.TgZ(23,"label",9),h._uU(24,"Seleccionar d\xeda:"),h.qZA(),h._UZ(25,"br"),h.TgZ(26,"select",12),h.YNc(27,Z4,2,2,"option",13),h.qZA(),h.YNc(28,$4,2,0,"span",11),h.TgZ(29,"label",9),h._uU(30,"Seleccionar comienzo de franja horaria:"),h.qZA(),h._UZ(31,"input",14),h.YNc(32,Y4,2,0,"span",11),h._UZ(33,"br"),h.YNc(34,K4,2,0,"span",11),h._UZ(35,"br"),h.TgZ(36,"label",9),h._uU(37,"Seleccionar fin de franja horaria:"),h.qZA(),h._UZ(38,"br")(39,"input",15),h.YNc(40,X4,2,0,"span",11),h._UZ(41,"br"),h.YNc(42,J4,2,0,"span",11),h._UZ(43,"br"),h.YNc(44,Q4,2,0,"button",16),h.TgZ(45,"ul",3)(46,"h5"),h._uU(47,"Franjas agregadas"),h.qZA(),h.YNc(48,eL,7,3,"li",17),h.qZA(),h.TgZ(49,"label",9),h._uU(50,"Duraci\xf3n m\xednima del turno:"),h.qZA(),h._UZ(51,"br"),h.TgZ(52,"p"),h._UZ(53,"input",18),h.qZA(),h.YNc(54,tL,2,0,"span",11),h.YNc(55,nL,2,0,"span",11),h._UZ(56,"br"),h.TgZ(57,"button",19),h._uU(58,"Guarda disponibilidad"),h.qZA()()()()()),2&t){let s,o,d,g,m,_,w,A,N;h.xp6(7),h.Q6J("ngModel",r.filter),h.xp6(1),h.Q6J("ngForOf",h.xi3(9,17,r.arrayEspecialidades,r.filter)),h.xp6(4),h.hij("Horarios para ",r.especialidadSeleccionada.nombre,""),h.xp6(1),h.Q6J("ngIf",r.disponibilidadMuestra),h.xp6(1),h.Q6J("formGroup",r.formNuevaDisp),h.xp6(8),h.Q6J("ngIf",(null==(s=r.formNuevaDisp.get("especialidad"))?null:s.hasError("required"))&&(null==(s=r.formNuevaDisp.get("especialidad"))?null:s.touched)),h.xp6(5),h.Q6J("ngForOf",r.listaDias),h.xp6(1),h.Q6J("ngIf",(null==(o=r.formNuevaDisp.get("diaSeleccionado"))?null:o.hasError("required"))&&(null==(o=r.formNuevaDisp.get("diaSeleccionado"))?null:o.touched)),h.xp6(4),h.Q6J("ngIf",(null==(d=r.formNuevaDisp.get("comienzo"))?null:d.hasError("required"))&&(null==(d=r.formNuevaDisp.get("comienzo"))?null:d.touched)),h.xp6(2),h.Q6J("ngIf",(null==(g=r.formNuevaDisp.get("comienzo"))?null:g.hasError("pattern"))&&(null==(g=r.formNuevaDisp.get("comienzo"))?null:g.touched)),h.xp6(6),h.Q6J("ngIf",(null==(m=r.formNuevaDisp.get("finalizacion"))?null:m.hasError("pattern"))&&(null==(m=r.formNuevaDisp.get("finalizacion"))?null:m.touched)),h.xp6(2),h.Q6J("ngIf",(null==(_=r.formNuevaDisp.get("finalizacion"))?null:_.hasError("required"))&&(null==(_=r.formNuevaDisp.get("finalizacion"))?null:_.touched)),h.xp6(2),h.Q6J("ngIf",!(null!=(w=r.formNuevaDisp.get("finalizacion"))&&w.hasError("required")||null!=(w=r.formNuevaDisp.get("comienzo"))&&w.hasError("required")||null!=(w=r.formNuevaDisp.get("diaSeleccionado"))&&w.hasError("required"))),h.xp6(4),h.Q6J("ngForOf",r.listaFranjas),h.xp6(6),h.Q6J("ngIf",(null==(A=r.formNuevaDisp.get("duracionTurno"))?null:A.hasError("required"))&&(null==(A=r.formNuevaDisp.get("duracionTurno"))?null:A.touched)),h.xp6(1),h.Q6J("ngIf",(null==(N=r.formNuevaDisp.get("duracionTurno"))?null:N.hasError("min"))&&(null==(N=r.formNuevaDisp.get("duracionTurno"))?null:N.touched)),h.xp6(2),h.Q6J("disabled",r.formNuevaDisp.invalid)}},directives:[Rt.Fj,Rt.JJ,Rt.On,C.sg,C.O5,Rt._Y,Rt.JL,Rt.sg,Rt.u,Rt.EJ,Rt.YN,Rt.Kr,Rt.c5,Rt.wV],pipes:[K],styles:[""]}),e})();function wO(e){const[n,t]=e.split(":");return{hours:+n,minutes:+t}}const sL=function(e){return{"background-image":e}};function oL(e,n){if(1&e){const t=h.EpF();h.TgZ(0,"li",10),h.NdJ("click",function(){const o=h.CHM(t).$implicit;return h.oxw(2).seleccionarEspecialista(o)}),h.TgZ(1,"div",11),h._UZ(2,"button",12),h.TgZ(3,"p"),h._uU(4),h.qZA()()()}if(2&e){const t=n.$implicit;h.xp6(2),h.Q6J("ngStyle",h.VKq(3,sL,"url("+t.fotoUrl+")")),h.xp6(2),h.AsE("",t.nombre," ",t.apellido," ")}}function aL(e,n){if(1&e&&(h.TgZ(0,"div",7),h._UZ(1,"app-detalle-historia-clinica",8)(2,"br"),h.TgZ(3,"h4"),h._uU(4,"Seleccionar especialista para ver las historias cl\xednicas que carg\xf3"),h.qZA(),h.TgZ(5,"ul"),h.YNc(6,oL,5,5,"li",9),h.ALo(7,"filtroEspecialistas"),h.qZA()()),2&e){const t=h.oxw();h.xp6(1),h.Q6J("pacienteSeleccionado",t.paciente)("especialistaSeleccionado",t.especialistaSeleccionado),h.xp6(5),h.Q6J("ngForOf",h.xi3(7,3,t.arrayMisEspecialistas,t.filter))}}function lL(e,n){1&e&&(h.TgZ(0,"div",13),h._UZ(1,"app-horarios"),h.qZA())}let cL=(()=>{class e{constructor(t,r){this.turnosService=t,this.especialistaService=r,this.arrayMisEspecialistas=[],this.filter=""}ngOnInit(){let t=JSON.parse(localStorage.getItem("loggedUser")||"");"administrador"==t.tipo?this.administrador=t:"especialista"==t.tipo?this.especialista=t:"paciente"==t.tipo&&(this.paciente=t,this.turnosService.getTurnosFinalizadosByPaciente(t.mail).subscribe(r=>{let s=[];for(let d=0;d<r.length;d++){let g=r[d].payload.doc.data();s.push(g.especialistaMail)}let o=[];this.especialistaService.getEspecialistasByList(s).subscribe(d=>{for(let g=0;g<d.length;g++){let m=d[g].payload.doc.data();o.push(m)}this.arrayMisEspecialistas=o})}))}seleccionarEspecialista(t){this.especialistaSeleccionado=t}}return e.\u0275fac=function(t){return new(t||e)(h.Y36(Vo),h.Y36(ji.n))},e.\u0275cmp=h.Xpm({type:e,selectors:[["app-mi-perfil"]],decls:10,vars:5,consts:[["lang","en"],[1,"container"],[1,"row","container-fluid","py-5"],[1,"display-5","fw-bold"],[3,"administrador","paciente","especialista"],["class","row",4,"ngIf"],["class","row align-items-md-stretch",4,"ngIf"],[1,"row"],[3,"pacienteSeleccionado","especialistaSeleccionado"],["class","d-inline-block",3,"click",4,"ngFor","ngForOf"],[1,"d-inline-block",3,"click"],[1,"fab-button","btn"],["mat-mini-fab","",1,"fastAccessButton",3,"ngStyle"],[1,"row","align-items-md-stretch"]],template:function(t,r){1&t&&(h.TgZ(0,"html",0)(1,"body")(2,"main")(3,"div",1)(4,"div",2)(5,"h1",3),h._uU(6,"Mi perfil"),h.qZA(),h._UZ(7,"app-detalle-usuario",4),h.qZA(),h.YNc(8,aL,8,6,"div",5),h.qZA(),h.YNc(9,lL,2,0,"div",6),h.qZA()()()),2&t&&(h.xp6(7),h.Q6J("administrador",r.administrador)("paciente",r.paciente)("especialista",r.especialista),h.xp6(1),h.Q6J("ngIf",r.paciente),h.xp6(1),h.Q6J("ngIf",r.especialista))},directives:[u2,C.O5,eP,C.sg,C.PC,iL],pipes:[Ze],styles:[".fab-button[_ngcontent-%COMP%]:hover{z-index:1000;transform:scale(1.5)}.fastAccessButton[_ngcontent-%COMP%]{background-position:center;background-repeat:no-repeat;background-size:cover}.btn[_ngcontent-%COMP%]{display:grid}"]}),e})();const uL=function(e){return{"background-image":e}};function hL(e,n){if(1&e){const t=h.EpF();h.TgZ(0,"li",3),h.NdJ("click",function(){const o=h.CHM(t).$implicit;return h.oxw().seleccionarPaciente(o)}),h.TgZ(1,"div",4),h._UZ(2,"button",5),h.TgZ(3,"p"),h._uU(4),h.qZA()()()}if(2&e){const t=n.$implicit;h.xp6(2),h.Q6J("ngStyle",h.VKq(3,uL,"url("+t.foto1Url+")")),h.xp6(2),h.AsE("",t.nombre," ",t.apellido," ")}}function dL(e,n){if(1&e&&(h.TgZ(0,"div"),h._UZ(1,"app-detalle-historia-clinica",6),h.qZA()),2&e){const t=h.oxw();h.xp6(1),h.Q6J("pacienteSeleccionado",t.miPaciente)("especialistaSeleccionado",t.user)}}let fL=(()=>{class e{constructor(t,r){this.pacienteService=t,this.turnosService=r,this.seSeleccionoPaciente=new h.vpe,this.arrayMisPacientes=[],this.arrayMailsPacientes=[],this.filter="",this.user=JSON.parse(localStorage.getItem("loggedUser")||"")}ngOnInit(){this.turnosService.getTurnosFinalizadosByEspecialista(this.user.mail).subscribe(t=>{let r=[];for(let o=0;o<t.length;o++){let d=t[o].payload.doc.data();r.push(d.pacienteMail)}let s=[];this.pacienteService.getPacientesByList(r).subscribe(o=>{for(let d=0;d<o.length;d++){let g=o[d].payload.doc.data();s.push(g)}this.arrayMisPacientes=s})})}seleccionarPaciente(t){this.seSeleccionoPaciente.emit(t),this.miPaciente=t}}return e.\u0275fac=function(t){return new(t||e)(h.Y36(Us.d),h.Y36(Vo))},e.\u0275cmp=h.Xpm({type:e,selectors:[["app-pacientes"]],outputs:{seSeleccionoPaciente:"seSeleccionoPaciente"},decls:6,vars:6,consts:[["type","text",3,"ngModel","ngModelChange"],["class","d-inline-block",3,"click",4,"ngFor","ngForOf"],[4,"ngIf"],[1,"d-inline-block",3,"click"],[1,"fab-button","btn"],["mat-mini-fab","",1,"fastAccessButton",3,"ngStyle"],[3,"pacienteSeleccionado","especialistaSeleccionado"]],template:function(t,r){1&t&&(h.TgZ(0,"p")(1,"input",0),h.NdJ("ngModelChange",function(o){return r.filter=o}),h.qZA()(),h.YNc(2,hL,5,5,"li",1),h.ALo(3,"filtroEspecialistas"),h._UZ(4,"br"),h.YNc(5,dL,2,2,"div",2)),2&t&&(h.xp6(1),h.Q6J("ngModel",r.filter),h.xp6(1),h.Q6J("ngForOf",h.xi3(3,3,r.arrayMisPacientes,r.filter)),h.xp6(3),h.Q6J("ngIf",r.miPaciente))},directives:[Rt.Fj,Rt.JJ,Rt.On,C.sg,C.PC,C.O5,eP],pipes:[Ze],styles:[".fab-button[_ngcontent-%COMP%]:hover{z-index:1000;transform:scale(1.5)}.fastAccessButton[_ngcontent-%COMP%]{background-position:center;background-repeat:no-repeat;background-size:cover}.btn[_ngcontent-%COMP%]{display:grid}"]}),e})();function pL(e,n){if(1&e){const t=h.EpF();h.TgZ(0,"tbody",6),h.NdJ("click",function(){const o=h.CHM(t).$implicit;return h.oxw(2).SeleccionarAdministrador(o)}),h.TgZ(1,"tr")(2,"td"),h._uU(3),h.qZA(),h.TgZ(4,"td"),h._uU(5),h.qZA(),h.TgZ(6,"td"),h._uU(7),h.qZA(),h.TgZ(8,"td"),h._uU(9),h.qZA()()()}if(2&e){const t=n.$implicit;h.xp6(3),h.Oqu(t.nombre),h.xp6(2),h.Oqu(t.apellido),h.xp6(2),h.Oqu(t.dni),h.xp6(2),h.Oqu(t.edad)}}function gL(e,n){if(1&e&&(h.TgZ(0,"table",2)(1,"thead",3)(2,"tr")(3,"th",4),h._uU(4,"Nombre"),h.qZA(),h.TgZ(5,"th",4),h._uU(6,"Apellido"),h.qZA(),h.TgZ(7,"th",4),h._uU(8,"DNI"),h.qZA(),h.TgZ(9,"th",4),h._uU(10,"Edad"),h.qZA()()(),h.YNc(11,pL,10,4,"tbody",5),h.qZA()),2&e){const t=h.oxw();h.xp6(11),h.Q6J("ngForOf",t.arrayAdministradores)}}function mL(e,n){if(1&e){const t=h.EpF();h.TgZ(0,"tbody",6),h.NdJ("click",function(){const o=h.CHM(t).$implicit;return h.oxw(2).SeleccionarEspecialista(o)}),h.TgZ(1,"tr")(2,"td"),h._uU(3),h.qZA(),h.TgZ(4,"td"),h._uU(5),h.qZA(),h.TgZ(6,"td"),h._uU(7),h.qZA(),h.TgZ(8,"td"),h._uU(9),h.qZA()()()}if(2&e){const t=n.$implicit;h.xp6(3),h.Oqu(t.nombre),h.xp6(2),h.Oqu(t.apellido),h.xp6(2),h.Oqu(t.dni),h.xp6(2),h.Oqu(t.edad)}}function vL(e,n){if(1&e&&(h.TgZ(0,"table",2)(1,"thead",3)(2,"tr")(3,"th",4),h._uU(4,"Nombre"),h.qZA(),h.TgZ(5,"th",4),h._uU(6,"Apellido"),h.qZA(),h.TgZ(7,"th",4),h._uU(8,"DNI"),h.qZA(),h.TgZ(9,"th",4),h._uU(10,"Edad"),h.qZA(),h.TgZ(11,"th",4),h._uU(12,"Habilitado"),h.qZA()()(),h.YNc(13,mL,10,4,"tbody",5),h.qZA()),2&e){const t=h.oxw();h.xp6(13),h.Q6J("ngForOf",t.arrayEspecialistas)}}const yL=function(e){return{"background-image":e}};function _L(e,n){if(1&e){const t=h.EpF();h.TgZ(0,"li",8),h.NdJ("click",function(){const o=h.CHM(t).$implicit;return h.oxw(2).SeleccionarPaciente(o)}),h.TgZ(1,"div",9),h._UZ(2,"button",10),h.TgZ(3,"p"),h._uU(4),h.qZA()()()}if(2&e){const t=n.$implicit;h.xp6(2),h.Q6J("ngStyle",h.VKq(3,yL,"url("+t.foto1Url+")")),h.xp6(2),h.AsE("",t.nombre," ",t.apellido," ")}}function xL(e,n){if(1&e&&(h.TgZ(0,"ul"),h.YNc(1,_L,5,5,"li",7),h.qZA()),2&e){const t=h.oxw();h.xp6(1),h.Q6J("ngForOf",t.arrayPacientes)}}let wL=(()=>{class e{constructor(t,r,s){this.administradorService=t,this.especialistaService=r,this.pacienteService=s,this.seSeleccionoAdministrador=new h.vpe,this.seSeleccionoPaciente=new h.vpe,this.seSeleccionoEspecialista=new h.vpe,this.arrayAdministradores=[],this.arrayPacientes=[],this.arrayEspecialistas=[]}ngOnInit(){this.administradorService.getAdministradores().subscribe(t=>{let r=[];for(let s=0;s<t.length;s++)r.push(t[s].payload.doc.data());this.arrayAdministradores=r}),this.pacienteService.getPacientes().subscribe(t=>{let r=[];for(let s=0;s<t.length;s++)r.push(t[s].payload.doc.data());this.arrayPacientes=r}),this.especialistaService.getEspecialistas().subscribe(t=>{let r=[];for(let s=0;s<t.length;s++)r.push(t[s].payload.doc.data());this.arrayEspecialistas=r})}SeleccionarAdministrador(t){this.seSeleccionoAdministrador.emit(t)}SeleccionarPaciente(t){this.seSeleccionoPaciente.emit(t)}SeleccionarEspecialista(t){this.seSeleccionoEspecialista.emit(t)}habilitarEspecialista(t,r){t.habilitado=r,this.especialistaService.habilitarEspecialista(t.mail,r)}}return e.\u0275fac=function(t){return new(t||e)(h.Y36(as.p),h.Y36(ji.n),h.Y36(Us.d))},e.\u0275cmp=h.Xpm({type:e,selectors:[["app-tabla-usuarios"]],inputs:{tipoUsuarios:"tipoUsuarios"},outputs:{seSeleccionoAdministrador:"seSeleccionoAdministrador",seSeleccionoPaciente:"seSeleccionoPaciente",seSeleccionoEspecialista:"seSeleccionoEspecialista"},decls:3,vars:3,consts:[["class","table table-bordered",4,"ngIf"],[4,"ngIf"],[1,"table","table-bordered"],[1,"thead-dark"],["scope","col"],[3,"click",4,"ngFor","ngForOf"],[3,"click"],["class","d-inline-block",3,"click",4,"ngFor","ngForOf"],[1,"d-inline-block",3,"click"],[1,"fab-button","btn"],["mat-mini-fab","",1,"fastAccessButton",3,"ngStyle"]],template:function(t,r){1&t&&(h.YNc(0,gL,12,1,"table",0),h.YNc(1,vL,14,1,"table",0),h.YNc(2,xL,2,1,"ul",1)),2&t&&(h.Q6J("ngIf","Administradores"==r.tipoUsuarios),h.xp6(1),h.Q6J("ngIf","Especialistas"==r.tipoUsuarios),h.xp6(1),h.Q6J("ngIf","Pacientes"==r.tipoUsuarios))},directives:[C.O5,C.sg,C.PC],styles:[".fab-button[_ngcontent-%COMP%]:hover{z-index:1000;transform:scale(1.5)}.fastAccessButton[_ngcontent-%COMP%]{background-position:center;background-repeat:no-repeat;background-size:cover}"]}),e})();function bL(e,n){if(1&e&&(h.TgZ(0,"tr")(1,"td"),h._uU(2),h.qZA(),h.TgZ(3,"td"),h._uU(4),h.qZA(),h.TgZ(5,"td"),h._uU(6),h.qZA(),h.TgZ(7,"td"),h._uU(8),h.qZA(),h.TgZ(9,"td"),h._uU(10),h.qZA(),h.TgZ(11,"td"),h._uU(12),h.qZA(),h.TgZ(13,"td"),h._uU(14),h.qZA(),h.TgZ(15,"td"),h._UZ(16,"img",19),h.qZA(),h.TgZ(17,"td"),h._UZ(18,"img",19),h.qZA()()),2&e){const t=n.$implicit;h.xp6(2),h.Oqu(t.nombre),h.xp6(2),h.Oqu(t.apellido),h.xp6(2),h.Oqu(t.dni),h.xp6(2),h.Oqu(t.edad),h.xp6(2),h.Oqu(t.obraSocial),h.xp6(2),h.Oqu(t.mail),h.xp6(2),h.Oqu(t.password),h.xp6(2),h.Q6J("src",t.foto1Url,h.LSH),h.xp6(2),h.Q6J("src",t.foto2Url,h.LSH)}}function EL(e,n){if(1&e){const t=h.EpF();h.TgZ(0,"div")(1,"table",16)(2,"tr")(3,"th"),h._uU(4,"Nombre"),h.qZA(),h.TgZ(5,"th"),h._uU(6,"Apellido"),h.qZA(),h.TgZ(7,"th"),h._uU(8,"DNI"),h.qZA(),h.TgZ(9,"th"),h._uU(10,"edad"),h.qZA(),h.TgZ(11,"th"),h._uU(12,"Obra Social"),h.qZA(),h.TgZ(13,"th"),h._uU(14,"Email"),h.qZA(),h.TgZ(15,"th"),h._uU(16,"Password"),h.qZA(),h.TgZ(17,"th"),h._uU(18,"Foto Perfil 1"),h.qZA(),h.TgZ(19,"th"),h._uU(20,"Foto Perfil 2"),h.qZA()(),h.YNc(21,bL,19,9,"tr",17),h.qZA(),h.TgZ(22,"button",18),h.NdJ("click",function(){return h.CHM(t),h.oxw().exportExcelAll()}),h._uU(23," Exportar Datos a Excel "),h.qZA()()}if(2&e){const t=h.oxw();h.xp6(21),h.Q6J("ngForOf",t.arrayPacientes)}}function TL(e,n){if(1&e&&h._UZ(0,"app-detalle-historia-clinica",20),2&e){const t=h.oxw();h.Q6J("pacienteSeleccionado",t.paciente)}}let CL=(()=>{class e{constructor(t,r){this.pacienteService=t,this.turnosService=r,this.tipoUsuarios="Especialistas",this.arrayPacientes=[],this.arrayTurnosPaciente=[]}ngOnInit(){}mostrarAdministrador(t){this.limpiar(),this.administrador=t}mostrarPaciente(t){this.limpiar(),this.paciente=t,this.turnosService.getTurnosByPaciente(t.mail).subscribe(r=>{let s=[];for(let o=0;o<r.length;o++){let d=r[o].payload.doc.data();s.push(d)}this.arrayTurnosPaciente=s})}mostrarEspecialista(t){this.limpiar(),this.especialista=t}limpiar(){this.arrayPacientes=[]}cambiarTabla(t){this.limpiar(),this.tipoUsuarios=t,"Pacientes"==this.tipoUsuarios&&this.pacienteService.getPacientes().subscribe(r=>{let s=[];for(let o=0;o<r.length;o++)s.push(r[o].payload.doc.data());this.arrayPacientes=s})}exportExcelAll(){let r=document.getElementById("excel-table-all");const s=ga.table_to_sheet(r),o=ga.book_new();ga.book_append_sheet(o,s,"Sheet1"),k1(o,"DatosUsuarios.xlsx")}}return e.\u0275fac=function(t){return new(t||e)(h.Y36(Us.d),h.Y36(Vo))},e.\u0275cmp=h.Xpm({type:e,selectors:[["app-seccion-usuarios"]],decls:33,vars:8,consts:[["lang","en"],[1,"container","py-4"],[1,"pb-3","mb-4","border-bottom"],[1,"fs-4"],[1,"p-5","mb-4","bg-light","rounded-3"],[1,"container-fluid","py-5"],[1,"display-5","fw-bold"],[3,"tipoUsuarios","seSeleccionoAdministrador","seSeleccionoPaciente","seSeleccionoEspecialista"],["type","button",1,"btn","btn-primary","btn-md",3,"click"],[1,"row","align-items-md-stretch"],[1,"h-100","p-5","bg-light","border","rounded-3"],[4,"ngIf"],[3,"administrador","paciente","especialista","arrayTurnosPaciente"],["type","button",1,"btn","btn-outline-secondary",3,"click"],[3,"pacienteSeleccionado",4,"ngIf"],[1,"row"],["id","excel-table-all",1,"table","table-bordered"],[4,"ngFor","ngForOf"],[1,"btn","btn-outline-secondary",3,"click"],["alt","",3,"src"],[3,"pacienteSeleccionado"]],template:function(t,r){1&t&&(h.TgZ(0,"html",0)(1,"body")(2,"main")(3,"div",1)(4,"header",2)(5,"span",3),h._uU(6,"Usuarios"),h.qZA()(),h.TgZ(7,"div",4)(8,"div",5)(9,"h1",6),h._uU(10),h.qZA(),h.TgZ(11,"app-tabla-usuarios",7),h.NdJ("seSeleccionoAdministrador",function(o){return r.mostrarAdministrador(o)})("seSeleccionoPaciente",function(o){return r.mostrarPaciente(o)})("seSeleccionoEspecialista",function(o){return r.mostrarEspecialista(o)}),h.qZA(),h.TgZ(12,"button",8),h.NdJ("click",function(){return r.cambiarTabla("Administradores")}),h._uU(13,"Ver Administradores"),h.qZA(),h.TgZ(14,"button",8),h.NdJ("click",function(){return r.cambiarTabla("Especialistas")}),h._uU(15,"Ver Especialistas"),h.qZA(),h.TgZ(16,"button",8),h.NdJ("click",function(){return r.cambiarTabla("Pacientes")}),h._uU(17,"Ver Pacientes"),h.qZA()()(),h.TgZ(18,"div",9)(19,"div",10)(20,"h2"),h._uU(21,"Detalle Usuario Seleccionado"),h.qZA(),h.YNc(22,EL,24,1,"div",11),h._UZ(23,"app-detalle-usuario",12)(24,"br"),h.TgZ(25,"button",13),h.NdJ("click",function(){return r.limpiar()}),h._uU(26,"Limpiar"),h.qZA()()(),h.TgZ(27,"div",9),h.YNc(28,TL,1,1,"app-detalle-historia-clinica",14),h.qZA(),h.TgZ(29,"div",15)(30,"div",10)(31,"h2"),h._uU(32,"Agregar Usuario"),h.qZA()()()()()()()),2&t&&(h.xp6(10),h.Oqu(r.tipoUsuarios),h.xp6(1),h.Q6J("tipoUsuarios",r.tipoUsuarios),h.xp6(11),h.Q6J("ngIf","Pacientes"==r.tipoUsuarios&&!r.paciente),h.xp6(1),h.Q6J("administrador",r.administrador)("paciente",r.paciente)("especialista",r.especialista)("arrayTurnosPaciente",r.arrayTurnosPaciente),h.xp6(5),h.Q6J("ngIf",r.paciente))},directives:[wL,C.O5,C.sg,u2,eP],styles:[".btn[_ngcontent-%COMP%]{margin:.1%}html[_ngcontent-%COMP%], body[_ngcontent-%COMP%]{height:91vh!important}img[_ngcontent-%COMP%]{display:inline;width:100px;height:100px;object-fit:scale-down}"]}),e})(),SL=(()=>{class e{constructor(t){this.router=t}canActivate(t,r){let s=JSON.parse(localStorage.getItem("loggedUser")||"");return!(!s||"especialista"!=s.tipo)||(this.router.navigate(["home"]),!1)}}return e.\u0275fac=function(t){return new(t||e)(h.LFG(Ni.F0))},e.\u0275prov=h.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();var gT=me(5861),AL=me(3470);let IL=(()=>{class e{constructor(t,r){this.logService=t,this.turnosService=r,this.localOffset=(new Date).getTimezoneOffset(),this.localOffsetMillis=6e4*this.localOffset,this.Highcharts=AL}ngOnInit(){}bajarInformeLogs(){let t=[],r=this.logService.getLogs().subscribe(s=>{for(let g=0;g<s.length;g++){let m=s[g].payload.doc.data();m.fechaDeIngreso=m.fechaDeIngreso.toDate(),t.push(m)}const o=ga.json_to_sheet(t),d=ga.book_new();ga.book_append_sheet(d,o,"Sheet1"),k1(d,"Informe_Logs.xlsx"),r.unsubscribe()})}bajarTurnosPorEspecialidadPDF(){let t=[],r=[],s=[],o=[],d=this.turnosService.getTurnos().subscribe(function(){var g=(0,gT.Z)(function*(m){for(let w=0;w<m.length;w++){let A=m[w].payload.doc.data();t.push(A)}o=t.reduce(function(w,A){return w[A.especialidad]=w[A.especialidad]||[],w[A.especialidad].push(A),w},Object.create(null));for(const[w,A]of Object.entries(o))r.push([w,A]),s.push(w);yield new Promise(w=>setTimeout(w,1e3)),document.getElementById("container"),d.unsubscribe()});return function(m){return g.apply(this,arguments)}}())}bajarTurnosPorEspecialidadExcel(){let t=[],r=[],o=[],d=this.turnosService.getTurnos().subscribe(g=>{for(let w=0;w<g.length;w++){let A=g[w].payload.doc.data();t.push(A)}o=t.reduce(function(w,A){return w[A.especialidad]=w[A.especialidad]||[],w[A.especialidad].push(A),w},Object.create(null));for(const[w,A]of Object.entries(o))r.push([w,A]);var m=ga.aoa_to_sheet([["Especialidad","Cantidad"]]);ga.sheet_add_json(m,r,{origin:-1,skipHeader:!0});const _=ga.book_new();ga.book_append_sheet(_,m,"Sheet1"),k1(_,"Informe_Turnos_Por_Especialidad.xlsx"),d.unsubscribe()})}bajarTurnosPorDiaExcel(){let t=[],r=[],s=[],o=[],d=this.turnosService.getTurnos().subscribe(g=>{for(let w=0;w<g.length;w++){let A=g[w].payload.doc.data();t.push(A)}o=t.reduce(function(w,A){return w[new Date(A.fecha).toDateString()]=w[new Date(A.fecha).toDateString()]||[],w[new Date(A.fecha).toDateString()].push(A),w},Object.create(null));for(const[w,A]of Object.entries(o))r.push([w,A]),s.push(w);var m=ga.aoa_to_sheet([["D\xeda","Cantidad"]]);ga.sheet_add_json(m,r,{origin:-1,skipHeader:!0});const _=ga.book_new();ga.book_append_sheet(_,m,"Sheet1"),k1(_,"Informe_Turnos_Por_Dia.xlsx"),d.unsubscribe()})}bajarTurnosPorLapsoSeleccionadoExcel(){let t=[],r=[],s=[],o=[],d=this.turnosService.getTurnos().subscribe(g=>{for(let w=0;w<g.length;w++){let A=g[w].payload.doc.data();t.push(A)}t=t.filter(w=>this.withoutTime(new Date(w.fecha)).getTime()>=new Date(this.fechaInicio).getTime()+this.localOffsetMillis&&this.withoutTime(new Date(w.fecha)).getTime()<=new Date(this.fechaFin).getTime()+this.localOffsetMillis),o=t.reduce(function(w,A){return w[A.especialistaNombre]=w[A.especialistaNombre]||[],w[A.especialistaNombre].push(A),w},Object.create(null));for(const[w,A]of Object.entries(o))r.push([w,A]),s.push(w);var m=ga.aoa_to_sheet([["Lapso: "+this.fechaInicio+" al "+this.fechaFin],["Especialista","Cantidad"]]);ga.sheet_add_json(m,r,{origin:-1,skipHeader:!0});const _=ga.book_new();ga.book_append_sheet(_,m,"Sheet1"),k1(_,"Informe_Turnos_Por_Lapso.xlsx"),d.unsubscribe()})}bajarTurnosFinalizadosPorLapsoSeleccionadoExcel(){let t=[],r=[],s=[],o=[],d=this.turnosService.getTurnosFinalizados().subscribe(g=>{for(let w=0;w<g.length;w++){let A=g[w].payload.doc.data();t.push(A)}t=t.filter(w=>this.withoutTime(new Date(w.fecha)).getTime()>=new Date(this.fechaInicio).getTime()+this.localOffsetMillis&&this.withoutTime(new Date(w.fecha)).getTime()<=new Date(this.fechaFin).getTime()+this.localOffsetMillis),o=t.reduce(function(w,A){return w[A.especialistaNombre]=w[A.especialistaNombre]||[],w[A.especialistaNombre].push(A),w},Object.create(null));for(const[w,A]of Object.entries(o))r.push([w,A]),s.push(w);var m=ga.aoa_to_sheet([["Lapso: "+this.fechaInicio+" al "+this.fechaFin],["Especialista","Cantidad Finalizados"]]);ga.sheet_add_json(m,r,{origin:-1,skipHeader:!0});const _=ga.book_new();ga.book_append_sheet(_,m,"Sheet1"),k1(_,"Informe_Turnos_Finalizados_Por_Lapso.xlsx"),d.unsubscribe()})}bajarTurnosPorDiaPDF(){let t=[],r=[],s=[],o=[],d=this.turnosService.getTurnos().subscribe(function(){var g=(0,gT.Z)(function*(m){for(let w=0;w<m.length;w++){let A=m[w].payload.doc.data();t.push(A)}t.sort((w,A)=>new Date(w.fecha).getTime()-new Date(A.fecha).getTime()),o=t.reduce(function(w,A){return w[new Date(A.fecha).toDateString()]=w[new Date(A.fecha).toDateString()]||[],w[new Date(A.fecha).toDateString()].push(A),w},Object.create(null));for(const[w,A]of Object.entries(o))r.push([w,A]),s.push(w);yield new Promise(w=>setTimeout(w,1e3)),document.getElementById("container"),d.unsubscribe()});return function(m){return g.apply(this,arguments)}}())}bajarTurnosPorLapsoSeleccionadoPDF(){var t=this;let r=[],s=[],o=[],d=[],g=this.turnosService.getTurnos().subscribe(function(){var m=(0,gT.Z)(function*(_){for(let A=0;A<_.length;A++){let N=_[A].payload.doc.data();r.push(N)}r=r.filter(A=>t.withoutTime(new Date(A.fecha)).getTime()>=new Date(t.fechaInicio).getTime()+t.localOffsetMillis&&t.withoutTime(new Date(A.fecha)).getTime()<=new Date(t.fechaFin).getTime()+t.localOffsetMillis),d=r.reduce(function(A,N){return A[N.especialistaNombre]=A[N.especialistaNombre]||[],A[N.especialistaNombre].push(N),A},Object.create(null));for(const[A,N]of Object.entries(d))s.push([A,N]),o.push(A);yield new Promise(A=>setTimeout(A,1e3)),document.getElementById("container"),g.unsubscribe()});return function(_){return m.apply(this,arguments)}}())}bajarTurnosFinalizadosPorLapsoSeleccionadoPDF(){var t=this;let r=[],s=[],o=[],d=[],g=this.turnosService.getTurnosFinalizados().subscribe(function(){var m=(0,gT.Z)(function*(_){for(let A=0;A<_.length;A++){let N=_[A].payload.doc.data();r.push(N)}r=r.filter(A=>t.withoutTime(new Date(A.fecha)).getTime()>=new Date(t.fechaInicio).getTime()+t.localOffsetMillis&&t.withoutTime(new Date(A.fecha)).getTime()<=new Date(t.fechaFin).getTime()+t.localOffsetMillis),d=r.reduce(function(A,N){return A[N.especialistaNombre]=A[N.especialistaNombre]||[],A[N.especialistaNombre].push(N),A},Object.create(null));for(const[A,N]of Object.entries(d))s.push([A,N]),o.push(A);yield new Promise(A=>setTimeout(A,1e3)),document.getElementById("container"),g.unsubscribe()});return function(_){return m.apply(this,arguments)}}())}withoutTime(t){var r=new Date(t.getTime());return r.setHours(0,0,0,0),r}}return e.\u0275fac=function(t){return new(t||e)(h.Y36(Co),h.Y36(Vo))},e.\u0275cmp=h.Xpm({type:e,selectors:[["app-informes"]],decls:87,vars:4,consts:[["lang","en"],[1,"d-md-flex","flex-md-equal","w-100","my-md-3","ps-md-3"],[1,"bg-dark","me-md-3","pt-3","px-3","pt-md-5","px-md-5","text-center","text-white","overflow-hidden"],[1,"my-3","p-3"],[1,"display-5"],[1,"lead"],["id","wrapper",1,"bg-dark","shadow-sm","mx-auto",2,"width","80%","height","300px","border-radius","21px 21px 0 0"],[1,"btn","btn-outline-secondary",3,"click"],[1,"bg-light","me-md-3","pt-3","px-3","pt-md-5","px-md-5","text-center","overflow-hidden"],["id","wrapper",1,"bg-body","shadow-sm","mx-auto",2,"width","80%","height","300px","border-radius","21px 21px 0 0"],[1,"items"],["type","date",3,"ngModel","ngModelChange"],[1,"bg-primary","me-md-3","pt-3","px-3","pt-md-5","px-md-5","text-center","text-white","overflow-hidden"],[1,"my-3","py-3"],["id","wrapper",1,"bg-light","shadow-sm","mx-auto",2,"width","80%","height","300px","border-radius","21px 21px 0 0"],[1,"row","btn","btn-outline-secondary",3,"click"],[1,"highcharts-figure"],["id","container","hidden",""]],template:function(t,r){1&t&&(h.TgZ(0,"html",0)(1,"body")(2,"main")(3,"div",1)(4,"div",2)(5,"div",3)(6,"h2",4),h._uU(7,"Turnos por d\xeda"),h.qZA(),h.TgZ(8,"p",5),h._uU(9,"Gr\xe1fico de l\xedneas"),h.qZA()(),h.TgZ(10,"div",6)(11,"button",7),h.NdJ("click",function(){return r.bajarTurnosPorDiaPDF()}),h._uU(12,"Descargar gr\xe1fico"),h.qZA(),h._UZ(13,"br"),h.TgZ(14,"button",7),h.NdJ("click",function(){return r.bajarTurnosPorDiaExcel()}),h._uU(15,"Descargar excel"),h.qZA()()(),h.TgZ(16,"div",8)(17,"div",3)(18,"h2",4),h._uU(19,"Turnos por especialidad"),h.qZA(),h.TgZ(20,"p",5),h._uU(21,"Gr\xe1fico de torta"),h.qZA()(),h.TgZ(22,"div",6)(23,"button",7),h.NdJ("click",function(){return r.bajarTurnosPorEspecialidadPDF()}),h._uU(24,"Descargar gr\xe1fico"),h.qZA(),h._UZ(25,"br"),h.TgZ(26,"button",7),h.NdJ("click",function(){return r.bajarTurnosPorEspecialidadExcel()}),h._uU(27,"Descargar excel"),h.qZA()()()(),h.TgZ(28,"div",1)(29,"div",8)(30,"div",3)(31,"h2",4),h._uU(32,"Turnos finalizados por m\xe9dico en un lapso de tiempo"),h.qZA(),h.TgZ(33,"p",5),h._uU(34,"Gr\xe1fico de barras"),h.qZA()(),h.TgZ(35,"div",9)(36,"div",10),h._uU(37," Fecha Inicio "),h._UZ(38,"br"),h.TgZ(39,"input",11),h.NdJ("ngModelChange",function(o){return r.fechaInicio=o}),h.qZA(),h._UZ(40,"br")(41,"br"),h._uU(42," Fecha Fin "),h._UZ(43,"br"),h.TgZ(44,"input",11),h.NdJ("ngModelChange",function(o){return r.fechaFin=o}),h.qZA(),h._UZ(45,"br")(46,"br"),h.TgZ(47,"button",7),h.NdJ("click",function(){return r.bajarTurnosFinalizadosPorLapsoSeleccionadoPDF()}),h._uU(48,"Descargar gr\xe1fico"),h.qZA(),h._UZ(49,"br"),h.TgZ(50,"button",7),h.NdJ("click",function(){return r.bajarTurnosFinalizadosPorLapsoSeleccionadoExcel()}),h._uU(51,"Descargar excel"),h.qZA()()()(),h.TgZ(52,"div",12)(53,"div",13)(54,"h2",4),h._uU(55,"Turnos por m\xe9dico en lapso de tiempo"),h.qZA(),h.TgZ(56,"p",5),h._uU(57,"Gr\xe1fico de barras"),h.qZA()(),h.TgZ(58,"div",14)(59,"div",10),h._uU(60," Fecha Inicio "),h._UZ(61,"br"),h.TgZ(62,"input",11),h.NdJ("ngModelChange",function(o){return r.fechaInicio=o}),h.qZA(),h._UZ(63,"br")(64,"br"),h._uU(65," Fecha Fin "),h._UZ(66,"br"),h.TgZ(67,"input",11),h.NdJ("ngModelChange",function(o){return r.fechaFin=o}),h.qZA(),h._UZ(68,"br")(69,"br"),h.TgZ(70,"button",15),h.NdJ("click",function(){return r.bajarTurnosPorLapsoSeleccionadoPDF()}),h._uU(71,"Descargar gr\xe1fico"),h.qZA(),h._UZ(72,"br"),h.TgZ(73,"button",15),h.NdJ("click",function(){return r.bajarTurnosPorLapsoSeleccionadoExcel()}),h._uU(74,"Descargar excel"),h.qZA()()()()(),h.TgZ(75,"div",1)(76,"div",2)(77,"div",13)(78,"h2",4),h._uU(79,"Logs de ingreso"),h.qZA(),h.TgZ(80,"p",5),h._uU(81,"S\xf3lo para hackers"),h.qZA()(),h.TgZ(82,"div",14)(83,"button",7),h.NdJ("click",function(){return r.bajarInformeLogs()}),h._uU(84,"Descargar logs"),h.qZA()()()(),h.TgZ(85,"figure",16),h._UZ(86,"div",17),h.qZA()()()()),2&t&&(h.xp6(39),h.Q6J("ngModel",r.fechaInicio),h.xp6(5),h.Q6J("ngModel",r.fechaFin),h.xp6(18),h.Q6J("ngModel",r.fechaInicio),h.xp6(5),h.Q6J("ngModel",r.fechaFin))},directives:[Rt.Fj,Rt.JJ,Rt.On],styles:[".container[_ngcontent-%COMP%]{max-width:960px}.site-header[_ngcontent-%COMP%]{background-color:#000000d9;-webkit-backdrop-filter:saturate(180%) blur(20px);backdrop-filter:saturate(180%) blur(20px)}.site-header[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#8e8e8e;transition:color .15s ease-in-out}.site-header[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{color:#fff;text-decoration:none}.flex-equal[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{flex:1}@media (min-width: 768px){.flex-md-equal[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{flex:1}}#wrapper[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center}.items[_ngcontent-%COMP%]{display:inline-block;align-items:center;justify-content:center;color:#000}"]}),e})();const DL=[{path:"",component:jr},{path:"login",component:jo},{path:"registro",loadChildren:()=>Promise.resolve().then(me.bind(me,6399)).then(e=>Is.RegistroModule)},{path:"home",component:jr},{path:"mis-turnos",component:ii,canActivate:[Xc.a]},{path:"turnos",component:Vs,canActivate:[Ec]},{path:"solicitar-turno",component:qs,canActivate:[Xc.a]},{path:"mi-perfil",component:cL},{path:"seccion-usuarios",component:CL,canActivate:[Ec]},{path:"pacientes",component:fL,canActivate:[SL]},{path:"informes",component:IL,canActivate:[Ec]}];let kL=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=h.oAB({type:e}),e.\u0275inj=h.cJS({imports:[[Ni.Bz.forRoot(DL,{relativeLinkResolution:"legacy"})],Ni.Bz]}),e})();var tP=me(5867),bO=me(5525),A2=me(9681),mT=me(4859),ln=me(2090),nP=me(1877);const EO="@firebase/database";let rP="";function CO(e){rP=e}class PL{constructor(n){this.domStorage_=n,this.prefix_="firebase:"}set(n,t){null==t?this.domStorage_.removeItem(this.prefixedName_(n)):this.domStorage_.setItem(this.prefixedName_(n),(0,ln.Pz)(t))}get(n){const t=this.domStorage_.getItem(this.prefixedName_(n));return null==t?null:(0,ln.cI)(t)}remove(n){this.domStorage_.removeItem(this.prefixedName_(n))}prefixedName_(n){return this.prefix_+n}toString(){return this.domStorage_.toString()}}class NL{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(n,t){null==t?delete this.cache_[n]:this.cache_[n]=t}get(n){return(0,ln.r3)(this.cache_,n)?this.cache_[n]:null}remove(n){delete this.cache_[n]}}const SO=function(e){try{if("undefined"!=typeof window&&void 0!==window[e]){const n=window[e];return n.setItem("firebase:sentinel","cache"),n.removeItem("firebase:sentinel"),new PL(n)}}catch(n){}return new NL},tx=SO("localStorage"),iP=SO("sessionStorage"),I2=new nP.Yd("@firebase/database"),AO=function(){let e=1;return function(){return e++}}(),IO=function(e){const n=(0,ln.dS)(e),t=new ln.gQ;t.update(n);const r=t.digest();return ln.US.encodeByteArray(r)},vT=function(...e){let n="";for(let t=0;t<e.length;t++){const r=e[t];Array.isArray(r)||r&&"object"==typeof r&&"number"==typeof r.length?n+=vT.apply(null,r):n+="object"==typeof r?(0,ln.Pz)(r):r,n+=" "}return n};let nx=null,DO=!0;const kO=function(e,n){(0,ln.hu)(!n||!0===e||!1===e,"Can't turn on custom loggers persistently."),!0===e?(I2.logLevel=nP.in.VERBOSE,nx=I2.log.bind(I2),n&&iP.set("logging_enabled",!0)):"function"==typeof e?nx=e:(nx=null,iP.remove("logging_enabled"))},Bu=function(...e){if(!0===DO&&(DO=!1,null===nx&&!0===iP.get("logging_enabled")&&kO(!0)),nx){const n=vT.apply(null,e);nx(n)}},yT=function(e){return function(...n){Bu(e,...n)}},sP=function(...e){const n="FIREBASE INTERNAL ERROR: "+vT(...e);I2.error(n)},Tg=function(...e){const n=`FIREBASE FATAL ERROR: ${vT(...e)}`;throw I2.error(n),new Error(n)},Mh=function(...e){const n="FIREBASE WARNING: "+vT(...e);I2.warn(n)},UA=function(e){return"number"==typeof e&&(e!=e||e===Number.POSITIVE_INFINITY||e===Number.NEGATIVE_INFINITY)},Um="[MIN_NAME]",Cg="[MAX_NAME]",rx=function(e,n){if(e===n)return 0;if(e===Um||n===Cg)return-1;if(n===Um||e===Cg)return 1;{const t=BA(e),r=BA(n);return null!==t?null!==r?t-r==0?e.length-n.length:t-r:-1:null!==r?1:e<n?-1:1}},FL=function(e,n){return e===n?0:e<n?-1:1},_T=function(e,n){if(n&&e in n)return n[e];throw new Error("Missing required key ("+e+") in object: "+(0,ln.Pz)(n))},oP=function(e){if("object"!=typeof e||null===e)return(0,ln.Pz)(e);const n=[];for(const r in e)n.push(r);n.sort();let t="{";for(let r=0;r<n.length;r++)0!==r&&(t+=","),t+=(0,ln.Pz)(n[r]),t+=":",t+=oP(e[n[r]]);return t+="}",t},PO=function(e,n){const t=e.length;if(t<=n)return[e];const r=[];for(let s=0;s<t;s+=n)r.push(e.substring(s,s+n>t?t:s+n));return r};function ju(e,n){for(const t in e)e.hasOwnProperty(t)&&n(t,e[t])}const NO=function(e){(0,ln.hu)(!UA(e),"Invalid JSON number");const r=1023;let s,o,d,g,m;0===e?(o=0,d=0,s=1/e==-1/0?1:0):(s=e<0,(e=Math.abs(e))>=Math.pow(2,1-r)?(g=Math.min(Math.floor(Math.log(e)/Math.LN2),r),o=g+r,d=Math.round(e*Math.pow(2,52-g)-Math.pow(2,52))):(o=0,d=Math.round(e/Math.pow(2,-1074))));const _=[];for(m=52;m;m-=1)_.push(d%2?1:0),d=Math.floor(d/2);for(m=11;m;m-=1)_.push(o%2?1:0),o=Math.floor(o/2);_.push(s?1:0),_.reverse();const w=_.join("");let A="";for(m=0;m<64;m+=8){let N=parseInt(w.substr(m,8),2).toString(16);1===N.length&&(N="0"+N),A+=N}return A.toLowerCase()},BL=new RegExp("^-?(0*)\\d{1,10}$"),MO=-2147483648,aP=2147483647,BA=function(e){if(BL.test(e)){const n=Number(e);if(n>=MO&&n<=aP)return n}return null},D2=function(e){try{e()}catch(n){setTimeout(()=>{throw Mh("Exception was thrown by user callback.",n.stack||""),n},Math.floor(0))}},xT=function(e,n){const t=setTimeout(e,n);return"object"==typeof t&&t.unref&&t.unref(),t};class VL{constructor(n,t){this.appName_=n,this.appCheckProvider=t,this.appCheck=null==t?void 0:t.getImmediate({optional:!0}),this.appCheck||null==t||t.get().then(r=>this.appCheck=r)}getToken(n){return this.appCheck?this.appCheck.getToken(n):new Promise((t,r)=>{setTimeout(()=>{this.appCheck?this.getToken(n).then(t,r):t(null)},0)})}addTokenChangeListener(n){var t;null===(t=this.appCheckProvider)||void 0===t||t.get().then(r=>r.addTokenListener(n))}notifyForInvalidToken(){Mh(`Provided AppCheck credentials for the app named "${this.appName_}" are invalid. This usually indicates your app was not initialized correctly.`)}}class HL{constructor(n,t,r){this.appName_=n,this.firebaseOptions_=t,this.authProvider_=r,this.auth_=null,this.auth_=r.getImmediate({optional:!0}),this.auth_||r.onInit(s=>this.auth_=s)}getToken(n){return this.auth_?this.auth_.getToken(n).catch(t=>t&&"auth/token-not-initialized"===t.code?(Bu("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(t)):new Promise((t,r)=>{setTimeout(()=>{this.auth_?this.getToken(n).then(t,r):t(null)},0)})}addTokenChangeListener(n){this.auth_?this.auth_.addAuthTokenListener(n):this.authProvider_.get().then(t=>t.addAuthTokenListener(n))}removeTokenChangeListener(n){this.authProvider_.get().then(t=>t.removeAuthTokenListener(n))}notifyForInvalidToken(){let n='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';n+="credential"in this.firebaseOptions_?'Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?'Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':'Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',Mh(n)}}let wT=(()=>{class e{constructor(t){this.accessToken=t}getToken(t){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(t){t(this.accessToken)}removeTokenChangeListener(t){}notifyForInvalidToken(){}}return e.OWNER="owner",e})();const UO=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,VO="websocket",HO="long_polling";class cP{constructor(n,t,r,s,o=!1,d="",g=!1){this.secure=t,this.namespace=r,this.webSocketOnly=s,this.nodeAdmin=o,this.persistenceKey=d,this.includeNamespaceInQueryParams=g,this._host=n.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=tx.get("host:"+n)||this._host}isCacheableHost(){return"s-"===this.internalHost.substr(0,2)}isCustomHost(){return"firebaseio.com"!==this._domain&&"firebaseio-demo.com"!==this._domain}get host(){return this._host}set host(n){n!==this.internalHost&&(this.internalHost=n,this.isCacheableHost()&&tx.set("host:"+this._host,this.internalHost))}toString(){let n=this.toURLString();return this.persistenceKey&&(n+="<"+this.persistenceKey+">"),n}toURLString(){return`${this.secure?"https://":"http://"}${this.host}/${this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:""}`}}function zO(e,n,t){let r;if((0,ln.hu)("string"==typeof n,"typeof type must == string"),(0,ln.hu)("object"==typeof t,"typeof params must == object"),n===VO)r=(e.secure?"wss://":"ws://")+e.internalHost+"/.ws?";else{if(n!==HO)throw new Error("Unknown connection type: "+n);r=(e.secure?"https://":"http://")+e.internalHost+"/.lp?"}(function zL(e){return e.host!==e.internalHost||e.isCustomHost()||e.includeNamespaceInQueryParams})(e)&&(t.ns=e.namespace);const s=[];return ju(t,(o,d)=>{s.push(o+"="+d)}),r+s.join("&")}class WL{constructor(){this.counters_={}}incrementCounter(n,t=1){(0,ln.r3)(this.counters_,n)||(this.counters_[n]=0),this.counters_[n]+=t}get(){return(0,ln.p$)(this.counters_)}}const uP={},hP={};function dP(e){const n=e.toString();return uP[n]||(uP[n]=new WL),uP[n]}class GL{constructor(n){this.onMessage_=n,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(n,t){this.closeAfterResponse=n,this.onClose=t,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(n,t){for(this.pendingResponses[n]=t;this.pendingResponses[this.currentResponseNum];){const r=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let s=0;s<r.length;++s)r[s]&&D2(()=>{this.onMessage_(r[s])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}class B1{constructor(n,t,r,s,o,d,g){this.connId=n,this.repoInfo=t,this.applicationId=r,this.appCheckToken=s,this.authToken=o,this.transportSessionId=d,this.lastSessionId=g,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=yT(n),this.stats_=dP(t),this.urlFn=m=>(this.appCheckToken&&(m.ac=this.appCheckToken),zO(t,HO,m))}open(n,t){this.curSegmentNum=0,this.onDisconnect_=t,this.myPacketOrderer=new GL(n),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(3e4)),function(e){if((0,ln.Yr)()||"complete"===document.readyState)e();else{let n=!1;const t=function(){document.body?n||(n=!0,e()):setTimeout(t,Math.floor(10))};document.addEventListener?(document.addEventListener("DOMContentLoaded",t,!1),window.addEventListener("load",t,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{"complete"===document.readyState&&t()}),window.attachEvent("onload",t))}}(()=>{if(this.isClosed_)return;this.scriptTagHolder=new fP((...o)=>{const[d,g,m,_,w]=o;if(this.incrementIncomingBytes_(o),this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,"start"===d)this.id=g,this.password=m;else{if("close"!==d)throw new Error("Unrecognized command received: "+d);g?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(g,()=>{this.onClosed_()})):this.onClosed_()}},(...o)=>{const[d,g]=o;this.incrementIncomingBytes_(o),this.myPacketOrderer.handleResponse(d,g)},()=>{this.onClosed_()},this.urlFn);const r={start:"t"};r.ser=Math.floor(1e8*Math.random()),this.scriptTagHolder.uniqueCallbackIdentifier&&(r.cb=this.scriptTagHolder.uniqueCallbackIdentifier),r.v="5",this.transportSessionId&&(r.s=this.transportSessionId),this.lastSessionId&&(r.ls=this.lastSessionId),this.applicationId&&(r.p=this.applicationId),this.appCheckToken&&(r.ac=this.appCheckToken),"undefined"!=typeof location&&location.hostname&&UO.test(location.hostname)&&(r.r="f");const s=this.urlFn(r);this.log_("Connecting via long-poll to "+s),this.scriptTagHolder.addTag(s,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){B1.forceAllow_=!0}static forceDisallow(){B1.forceDisallow_=!0}static isAvailable(){return!((0,ln.Yr)()||!B1.forceAllow_&&(B1.forceDisallow_||"undefined"==typeof document||null==document.createElement||"object"==typeof window&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href)||"object"==typeof Windows&&"object"==typeof Windows.UI))}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(n){const t=(0,ln.Pz)(n);this.bytesSent+=t.length,this.stats_.incrementCounter("bytes_sent",t.length);const r=(0,ln.h$)(t),s=PO(r,1840);for(let o=0;o<s.length;o++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,s.length,s[o]),this.curSegmentNum++}addDisconnectPingFrame(n,t){if((0,ln.Yr)())return;this.myDisconnFrame=document.createElement("iframe");const r={dframe:"t"};r.id=n,r.pw=t,this.myDisconnFrame.src=this.urlFn(r),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(n){const t=(0,ln.Pz)(n).length;this.bytesReceived+=t,this.stats_.incrementCounter("bytes_received",t)}}class fP{constructor(n,t,r,s){if(this.onDisconnect=r,this.urlFn=s,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(1e8*Math.random()),this.sendNewPolls=!0,(0,ln.Yr)())this.commandCB=n,this.onMessageCB=t;else{this.uniqueCallbackIdentifier=AO(),window["pLPCommand"+this.uniqueCallbackIdentifier]=n,window["pRTLPCB"+this.uniqueCallbackIdentifier]=t,this.myIFrame=fP.createIFrame_();let o="";this.myIFrame.src&&"javascript:"===this.myIFrame.src.substr(0,11)&&(o='<script>document.domain="'+document.domain+'";<\/script>');const d="<html><body>"+o+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(d),this.myIFrame.doc.close()}catch(g){Bu("frame writing exception"),g.stack&&Bu(g.stack),Bu(g)}}}static createIFrame_(){const n=document.createElement("iframe");if(n.style.display="none",!document.body)throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";document.body.appendChild(n);try{n.contentWindow.document||Bu("No IE domain setting required")}catch(t){const r=document.domain;n.src="javascript:void((function(){document.open();document.domain='"+r+"';document.close();})())"}return n.contentDocument?n.doc=n.contentDocument:n.contentWindow?n.doc=n.contentWindow.document:n.document&&(n.doc=n.document),n}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.innerHTML="",setTimeout(()=>{null!==this.myIFrame&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const n=this.onDisconnect;n&&(this.onDisconnect=null,n())}startLongPoll(n,t){for(this.myID=n,this.myPW=t,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const n={};n.id=this.myID,n.pw=this.myPW,n.ser=this.currentSerial;let t=this.urlFn(n),r="",s=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+30+r.length<=1870;){const d=this.pendingSegs.shift();r=r+"&seg"+s+"="+d.seg+"&ts"+s+"="+d.ts+"&d"+s+"="+d.d,s++}return t+=r,this.addLongPollTag_(t,this.currentSerial),!0}return!1}enqueueSegment(n,t,r){this.pendingSegs.push({seg:n,ts:t,d:r}),this.alive&&this.newRequest_()}addLongPollTag_(n,t){this.outstandingRequests.add(t);const r=()=>{this.outstandingRequests.delete(t),this.newRequest_()},s=setTimeout(r,Math.floor(25e3));this.addTag(n,()=>{clearTimeout(s),r()})}addTag(n,t){(0,ln.Yr)()?this.doNodeLongPoll(n,t):setTimeout(()=>{try{if(!this.sendNewPolls)return;const r=this.myIFrame.doc.createElement("script");r.type="text/javascript",r.async=!0,r.src=n,r.onload=r.onreadystatechange=function(){const s=r.readyState;(!s||"loaded"===s||"complete"===s)&&(r.onload=r.onreadystatechange=null,r.parentNode&&r.parentNode.removeChild(r),t())},r.onerror=()=>{Bu("Long-poll script failed to load: "+n),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(r)}catch(r){}},Math.floor(1))}}let VA=null;"undefined"!=typeof MozWebSocket?VA=MozWebSocket:"undefined"!=typeof WebSocket&&(VA=WebSocket);let k2=(()=>{class e{constructor(t,r,s,o,d,g,m){this.connId=t,this.applicationId=s,this.appCheckToken=o,this.authToken=d,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=yT(this.connId),this.stats_=dP(r),this.connURL=e.connectionURL_(r,g,m,o,s),this.nodeAdmin=r.nodeAdmin}static connectionURL_(t,r,s,o,d){const g={v:"5"};return!(0,ln.Yr)()&&"undefined"!=typeof location&&location.hostname&&UO.test(location.hostname)&&(g.r="f"),r&&(g.s=r),s&&(g.ls=s),o&&(g.ac=o),d&&(g.p=d),zO(t,VO,g)}open(t,r){this.onDisconnect=r,this.onMessage=t,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,tx.set("previous_websocket_failure",!0);try{let s;if((0,ln.Yr)()){const d={headers:{"User-Agent":`Firebase/5/${rP}/${process.platform}/${this.nodeAdmin?"AdminNode":"Node"}`,"X-Firebase-GMPID":this.applicationId||""}};this.authToken&&(d.headers.Authorization=`Bearer ${this.authToken}`),this.appCheckToken&&(d.headers["X-Firebase-AppCheck"]=this.appCheckToken);const g=process.env,m=0===this.connURL.indexOf("wss://")?g.HTTPS_PROXY||g.https_proxy:g.HTTP_PROXY||g.http_proxy;m&&(d.proxy={origin:m})}this.mySock=new VA(this.connURL,[],s)}catch(s){this.log_("Error instantiating WebSocket.");const o=s.message||s.data;return o&&this.log_(o),void this.onClosed_()}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=s=>{this.handleIncomingFrame(s)},this.mySock.onerror=s=>{this.log_("WebSocket error.  Closing connection.");const o=s.message||s.data;o&&this.log_(o),this.onClosed_()}}start(){}static forceDisallow(){e.forceDisallow_=!0}static isAvailable(){let t=!1;if("undefined"!=typeof navigator&&navigator.userAgent){const s=navigator.userAgent.match(/Android ([0-9]{0,}\.[0-9]{0,})/);s&&s.length>1&&parseFloat(s[1])<4.4&&(t=!0)}return!t&&null!==VA&&!e.forceDisallow_}static previouslyFailed(){return tx.isInMemoryStorage||!0===tx.get("previous_websocket_failure")}markConnectionHealthy(){tx.remove("previous_websocket_failure")}appendFrame_(t){if(this.frames.push(t),this.frames.length===this.totalFrames){const r=this.frames.join("");this.frames=null;const s=(0,ln.cI)(r);this.onMessage(s)}}handleNewFrameCount_(t){this.totalFrames=t,this.frames=[]}extractFrameCount_(t){if((0,ln.hu)(null===this.frames,"We already have a frame buffer"),t.length<=6){const r=Number(t);if(!isNaN(r))return this.handleNewFrameCount_(r),null}return this.handleNewFrameCount_(1),t}handleIncomingFrame(t){if(null===this.mySock)return;const r=t.data;if(this.bytesReceived+=r.length,this.stats_.incrementCounter("bytes_received",r.length),this.resetKeepAlive(),null!==this.frames)this.appendFrame_(r);else{const s=this.extractFrameCount_(r);null!==s&&this.appendFrame_(s)}}send(t){this.resetKeepAlive();const r=(0,ln.Pz)(t);this.bytesSent+=r.length,this.stats_.incrementCounter("bytes_sent",r.length);const s=PO(r,16384);s.length>1&&this.sendString_(String(s.length));for(let o=0;o<s.length;o++)this.sendString_(s[o])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(45e3))}sendString_(t){try{this.mySock.send(t)}catch(r){this.log_("Exception thrown from WebSocket.send():",r.message||r.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}return e.responsesRequiredToBeHealthy=2,e.healthyTimeout=3e4,e})(),KO=(()=>{class e{constructor(t){this.initTransports_(t)}static get ALL_TRANSPORTS(){return[B1,k2]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}initTransports_(t){const r=k2&&k2.isAvailable();let s=r&&!k2.previouslyFailed();if(t.webSocketOnly&&(r||Mh("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),s=!0),s)this.transports_=[k2];else{const o=this.transports_=[];for(const d of e.ALL_TRANSPORTS)d&&d.isAvailable()&&o.push(d);e.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}return e.globalTransportInitialized_=!1,e})();class r3{constructor(n,t,r,s,o,d,g,m,_,w){this.id=n,this.repoInfo_=t,this.applicationId_=r,this.appCheckToken_=s,this.authToken_=o,this.onMessage_=d,this.onReady_=g,this.onDisconnect_=m,this.onKill_=_,this.lastSessionId=w,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=yT("c:"+this.id+":"),this.transportManager_=new KO(t),this.log_("Connection created"),this.start_()}start_(){const n=this.transportManager_.initialTransport();this.conn_=new n(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=n.responsesRequiredToBeHealthy||0;const t=this.connReceiver_(this.conn_),r=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(t,r)},Math.floor(0));const s=n.healthyTimeout||0;s>0&&(this.healthyTimeout_=xT(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>102400?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>10240?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(s)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(n){return t=>{n===this.conn_?this.onConnectionLost_(t):n===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(n){return t=>{2!==this.state_&&(n===this.rx_?this.onPrimaryMessageReceived_(t):n===this.secondaryConn_?this.onSecondaryMessageReceived_(t):this.log_("message on old connection"))}}sendRequest(n){this.sendData_({t:"d",d:n})}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(n){if("t"in n){const t=n.t;"a"===t?this.upgradeIfSecondaryHealthy_():"r"===t?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):"o"===t&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(n){const t=_T("t",n),r=_T("d",n);if("c"===t)this.onSecondaryControl_(r);else{if("d"!==t)throw new Error("Unknown protocol layer: "+t);this.pendingDataMessages.push(r)}}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:"p",d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:"a",d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:"n",d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(n){const t=_T("t",n),r=_T("d",n);"c"===t?this.onControl_(r):"d"===t&&this.onDataMessage_(r)}onDataMessage_(n){this.onPrimaryResponse_(),this.onMessage_(n)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(n){const t=_T("t",n);if("d"in n){const r=n.d;if("h"===t)this.onHandshake_(r);else if("n"===t){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let s=0;s<this.pendingDataMessages.length;++s)this.onDataMessage_(this.pendingDataMessages[s]);this.pendingDataMessages=[],this.tryCleanupConnection()}else"s"===t?this.onConnectionShutdown_(r):"r"===t?this.onReset_(r):"e"===t?sP("Server Error: "+r):"o"===t?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):sP("Unknown control packet command: "+t)}}onHandshake_(n){const t=n.ts,r=n.v,s=n.h;this.sessionId=n.s,this.repoInfo_.host=s,0===this.state_&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,t),"5"!==r&&Mh("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const n=this.transportManager_.upgradeTransport();n&&this.startUpgrade_(n)}startUpgrade_(n){this.secondaryConn_=new n(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=n.responsesRequiredToBeHealthy||0;const t=this.connReceiver_(this.secondaryConn_),r=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(t,r),xT(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(6e4))}onReset_(n){this.log_("Reset packet received.  New host: "+n),this.repoInfo_.host=n,1===this.state_?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(n,t){this.log_("Realtime connection established."),this.conn_=n,this.state_=1,this.onReady_&&(this.onReady_(t,this.sessionId),this.onReady_=null),0===this.primaryResponsesRequired_?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):xT(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(5e3))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&1===this.state_&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:"p",d:{}}}))}onSecondaryConnectionLost_(){const n=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===n||this.rx_===n)&&this.close()}onConnectionLost_(n){this.conn_=null,n||0!==this.state_?1===this.state_&&this.log_("Realtime connection lost."):(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(tx.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)),this.close()}onConnectionShutdown_(n){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(n),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(n){if(1!==this.state_)throw"Connection is not connected";this.tx_.send(n)}close(){2!==this.state_&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}class i3{put(n,t,r,s){}merge(n,t,r,s){}refreshAuthToken(n){}refreshAppCheckToken(n){}onDisconnectPut(n,t,r){}onDisconnectMerge(n,t,r){}onDisconnectCancel(n,t){}reportStats(n){}}class s3{constructor(n){this.allowedEvents_=n,this.listeners_={},(0,ln.hu)(Array.isArray(n)&&n.length>0,"Requires a non-empty array")}trigger(n,...t){if(Array.isArray(this.listeners_[n])){const r=[...this.listeners_[n]];for(let s=0;s<r.length;s++)r[s].callback.apply(r[s].context,t)}}on(n,t,r){this.validateEventType_(n),this.listeners_[n]=this.listeners_[n]||[],this.listeners_[n].push({callback:t,context:r});const s=this.getInitialEvent(n);s&&t.apply(r,s)}off(n,t,r){this.validateEventType_(n);const s=this.listeners_[n]||[];for(let o=0;o<s.length;o++)if(s[o].callback===t&&(!r||r===s[o].context))return void s.splice(o,1)}validateEventType_(n){(0,ln.hu)(this.allowedEvents_.find(t=>t===n),"Unknown event: "+n)}}class HA extends s3{constructor(){super(["online"]),this.online_=!0,"undefined"!=typeof window&&void 0!==window.addEventListener&&!(0,ln.uI)()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}static getInstance(){return new HA}getInitialEvent(n){return(0,ln.hu)("online"===n,"Unknown event type: "+n),[this.online_]}currentlyOnline(){return this.online_}}class Ea{constructor(n,t){if(void 0===t){this.pieces_=n.split("/");let r=0;for(let s=0;s<this.pieces_.length;s++)this.pieces_[s].length>0&&(this.pieces_[r]=this.pieces_[s],r++);this.pieces_.length=r,this.pieceNum_=0}else this.pieces_=n,this.pieceNum_=t}toString(){let n="";for(let t=this.pieceNum_;t<this.pieces_.length;t++)""!==this.pieces_[t]&&(n+="/"+this.pieces_[t]);return n||"/"}}function sa(){return new Ea("")}function xo(e){return e.pieceNum_>=e.pieces_.length?null:e.pieces_[e.pieceNum_]}function j1(e){return e.pieces_.length-e.pieceNum_}function fl(e){let n=e.pieceNum_;return n<e.pieces_.length&&n++,new Ea(e.pieces_,n)}function gP(e){return e.pieceNum_<e.pieces_.length?e.pieces_[e.pieces_.length-1]:null}function bT(e,n=0){return e.pieces_.slice(e.pieceNum_+n)}function l3(e){if(e.pieceNum_>=e.pieces_.length)return null;const n=[];for(let t=e.pieceNum_;t<e.pieces_.length-1;t++)n.push(e.pieces_[t]);return new Ea(n,0)}function nc(e,n){const t=[];for(let r=e.pieceNum_;r<e.pieces_.length;r++)t.push(e.pieces_[r]);if(n instanceof Ea)for(let r=n.pieceNum_;r<n.pieces_.length;r++)t.push(n.pieces_[r]);else{const r=n.split("/");for(let s=0;s<r.length;s++)r[s].length>0&&t.push(r[s])}return new Ea(t,0)}function wo(e){return e.pieceNum_>=e.pieces_.length}function dd(e,n){const t=xo(e),r=xo(n);if(null===t)return n;if(t===r)return dd(fl(e),fl(n));throw new Error("INTERNAL ERROR: innerPath ("+n+") is not within outerPath ("+e+")")}function p6(e,n){const t=bT(e,0),r=bT(n,0);for(let s=0;s<t.length&&s<r.length;s++){const o=rx(t[s],r[s]);if(0!==o)return o}return t.length===r.length?0:t.length<r.length?-1:1}function mP(e,n){if(j1(e)!==j1(n))return!1;for(let t=e.pieceNum_,r=n.pieceNum_;t<=e.pieces_.length;t++,r++)if(e.pieces_[t]!==n.pieces_[r])return!1;return!0}function mp(e,n){let t=e.pieceNum_,r=n.pieceNum_;if(j1(e)>j1(n))return!1;for(;t<e.pieces_.length;){if(e.pieces_[t]!==n.pieces_[r])return!1;++t,++r}return!0}class g6{constructor(n,t){this.errorPrefix_=t,this.parts_=bT(n,0),this.byteLength_=Math.max(1,this.parts_.length);for(let r=0;r<this.parts_.length;r++)this.byteLength_+=(0,ln.ug)(this.parts_[r]);c3(this)}}function c3(e){if(e.byteLength_>768)throw new Error(e.errorPrefix_+"has a key path longer than 768 bytes ("+e.byteLength_+").");if(e.parts_.length>32)throw new Error(e.errorPrefix_+"path specified exceeds the maximum depth that can be written (32) or object contains a cycle "+ix(e))}function ix(e){return 0===e.parts_.length?"":"in property '"+e.parts_.join(".")+"'"}class vP extends s3{constructor(){let n,t;super(["visible"]),"undefined"!=typeof document&&void 0!==document.addEventListener&&(void 0!==document.hidden?(t="visibilitychange",n="hidden"):void 0!==document.mozHidden?(t="mozvisibilitychange",n="mozHidden"):void 0!==document.msHidden?(t="msvisibilitychange",n="msHidden"):void 0!==document.webkitHidden&&(t="webkitvisibilitychange",n="webkitHidden")),this.visible_=!0,t&&document.addEventListener(t,()=>{const r=!document[n];r!==this.visible_&&(this.visible_=r,this.trigger("visible",r))},!1)}static getInstance(){return new vP}getInitialEvent(n){return(0,ln.hu)("visible"===n,"Unknown event type: "+n),[this.visible_]}}const ET=1e3;let WA,sx=(()=>{class e extends i3{constructor(t,r,s,o,d,g,m,_){if(super(),this.repoInfo_=t,this.applicationId_=r,this.onDataUpdate_=s,this.onConnectStatus_=o,this.onServerInfoUpdate_=d,this.authTokenProvider_=g,this.appCheckTokenProvider_=m,this.authOverride_=_,this.id=e.nextPersistentConnectionId_++,this.log_=yT("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=ET,this.maxReconnectDelay_=3e5,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,_&&!(0,ln.Yr)())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");vP.getInstance().on("visible",this.onVisible_,this),-1===t.host.indexOf("fblocal")&&HA.getInstance().on("online",this.onOnline_,this)}sendRequest(t,r,s){const o=++this.requestNumber_,d={r:o,a:t,b:r};this.log_((0,ln.Pz)(d)),(0,ln.hu)(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(d),s&&(this.requestCBHash_[o]=s)}get(t){this.initConnection_();const r=new ln.BH,o={action:"g",request:{p:t._path.toString(),q:t._queryObject},onComplete:g=>{const m=g.d;"ok"===g.s?r.resolve(m):r.reject(m)}};this.outstandingGets_.push(o),this.outstandingGetCount_++;const d=this.outstandingGets_.length-1;return this.connected_||setTimeout(()=>{const g=this.outstandingGets_[d];void 0===g||o!==g||(delete this.outstandingGets_[d],this.outstandingGetCount_--,0===this.outstandingGetCount_&&(this.outstandingGets_=[]),this.log_("get "+d+" timed out on connection"),r.reject(new Error("Client is offline.")))},3e3),this.connected_&&this.sendGet_(d),r.promise}listen(t,r,s,o){this.initConnection_();const d=t._queryIdentifier,g=t._path.toString();this.log_("Listen called for "+g+" "+d),this.listens.has(g)||this.listens.set(g,new Map),(0,ln.hu)(t._queryParams.isDefault()||!t._queryParams.loadsAllData(),"listen() called for non-default but complete query"),(0,ln.hu)(!this.listens.get(g).has(d),"listen() called twice for same path/queryId.");const m={onComplete:o,hashFn:r,query:t,tag:s};this.listens.get(g).set(d,m),this.connected_&&this.sendListen_(m)}sendGet_(t){const r=this.outstandingGets_[t];this.sendRequest("g",r.request,s=>{delete this.outstandingGets_[t],this.outstandingGetCount_--,0===this.outstandingGetCount_&&(this.outstandingGets_=[]),r.onComplete&&r.onComplete(s)})}sendListen_(t){const r=t.query,s=r._path.toString(),o=r._queryIdentifier;this.log_("Listen on "+s+" for "+o);const d={p:s};t.tag&&(d.q=r._queryObject,d.t=t.tag),d.h=t.hashFn(),this.sendRequest("q",d,m=>{const _=m.d,w=m.s;e.warnOnListenWarnings_(_,r),(this.listens.get(s)&&this.listens.get(s).get(o))===t&&(this.log_("listen response",m),"ok"!==w&&this.removeListen_(s,o),t.onComplete&&t.onComplete(w,_))})}static warnOnListenWarnings_(t,r){if(t&&"object"==typeof t&&(0,ln.r3)(t,"w")){const s=(0,ln.DV)(t,"w");if(Array.isArray(s)&&~s.indexOf("no_index")){const o='".indexOn": "'+r._queryParams.getIndex().toString()+'"',d=r._path.toString();Mh(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${o} at ${d} to your security rules for better performance.`)}}}refreshAuthToken(t){this.authToken_=t,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(t)}reduceReconnectDelayIfAdminCredential_(t){(t&&40===t.length||(0,ln.GJ)(t))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=3e4)}refreshAppCheckToken(t){this.appCheckToken_=t,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const t=this.authToken_,r=(0,ln.w9)(t)?"auth":"gauth",s={cred:t};null===this.authOverride_?s.noauth=!0:"object"==typeof this.authOverride_&&(s.authvar=this.authOverride_),this.sendRequest(r,s,o=>{const d=o.s,g=o.d||"error";this.authToken_===t&&("ok"===d?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(d,g))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},t=>{const r=t.s,s=t.d||"error";"ok"===r?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(r,s)})}unlisten(t,r){const s=t._path.toString(),o=t._queryIdentifier;this.log_("Unlisten called for "+s+" "+o),(0,ln.hu)(t._queryParams.isDefault()||!t._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(s,o)&&this.connected_&&this.sendUnlisten_(s,o,t._queryObject,r)}sendUnlisten_(t,r,s,o){this.log_("Unlisten on "+t+" for "+r);const d={p:t};o&&(d.q=s,d.t=o),this.sendRequest("n",d)}onDisconnectPut(t,r,s){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",t,r,s):this.onDisconnectRequestQueue_.push({pathString:t,action:"o",data:r,onComplete:s})}onDisconnectMerge(t,r,s){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",t,r,s):this.onDisconnectRequestQueue_.push({pathString:t,action:"om",data:r,onComplete:s})}onDisconnectCancel(t,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",t,null,r):this.onDisconnectRequestQueue_.push({pathString:t,action:"oc",data:null,onComplete:r})}sendOnDisconnect_(t,r,s,o){const d={p:r,d:s};this.log_("onDisconnect "+t,d),this.sendRequest(t,d,g=>{o&&setTimeout(()=>{o(g.s,g.d)},Math.floor(0))})}put(t,r,s,o){this.putInternal("p",t,r,s,o)}merge(t,r,s,o){this.putInternal("m",t,r,s,o)}putInternal(t,r,s,o,d){this.initConnection_();const g={p:r,d:s};void 0!==d&&(g.h=d),this.outstandingPuts_.push({action:t,request:g,onComplete:o}),this.outstandingPutCount_++,this.connected_?this.sendPut_(this.outstandingPuts_.length-1):this.log_("Buffering put: "+r)}sendPut_(t){const r=this.outstandingPuts_[t].action,s=this.outstandingPuts_[t].request,o=this.outstandingPuts_[t].onComplete;this.outstandingPuts_[t].queued=this.connected_,this.sendRequest(r,s,d=>{this.log_(r+" response",d),delete this.outstandingPuts_[t],this.outstandingPutCount_--,0===this.outstandingPutCount_&&(this.outstandingPuts_=[]),o&&o(d.s,d.d)})}reportStats(t){if(this.connected_){const r={c:t};this.log_("reportStats",r),this.sendRequest("s",r,s=>{"ok"!==s.s&&this.log_("reportStats","Error sending stats: "+s.d)})}}onDataMessage_(t){if("r"in t){this.log_("from server: "+(0,ln.Pz)(t));const r=t.r,s=this.requestCBHash_[r];s&&(delete this.requestCBHash_[r],s(t.b))}else{if("error"in t)throw"A server-side error has occurred: "+t.error;"a"in t&&this.onDataPush_(t.a,t.b)}}onDataPush_(t,r){this.log_("handleServerMessage",t,r),"d"===t?this.onDataUpdate_(r.p,r.d,!1,r.t):"m"===t?this.onDataUpdate_(r.p,r.d,!0,r.t):"c"===t?this.onListenRevoked_(r.p,r.q):"ac"===t?this.onAuthRevoked_(r.s,r.d):"apc"===t?this.onAppCheckRevoked_(r.s,r.d):"sd"===t?this.onSecurityDebugPacket_(r):sP("Unrecognized action received from server: "+(0,ln.Pz)(t)+"\nAre you using the latest client?")}onReady_(t,r){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=(new Date).getTime(),this.handleTimestamp_(t),this.lastSessionId=r,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(t){(0,ln.hu)(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(t))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(t){t&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=ET,this.realtime_||this.scheduleConnect_(0)),this.visible_=t}onOnline_(t){t?(this.log_("Browser went online."),this.reconnectDelay_=ET,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&((new Date).getTime()-this.lastConnectionEstablishedTime_>3e4&&(this.reconnectDelay_=ET),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=(new Date).getTime());const t=(new Date).getTime()-this.lastConnectionAttemptTime_;let r=Math.max(0,this.reconnectDelay_-t);r=Math.random()*r,this.log_("Trying to reconnect in "+r+"ms"),this.scheduleConnect_(r),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,1.3*this.reconnectDelay_)}this.onConnectStatus_(!1)}establishConnection_(){var t=this;return(0,gT.Z)(function*(){if(t.shouldReconnect_()){t.log_("Making a connection attempt"),t.lastConnectionAttemptTime_=(new Date).getTime(),t.lastConnectionEstablishedTime_=null;const r=t.onDataMessage_.bind(t),s=t.onReady_.bind(t),o=t.onRealtimeDisconnect_.bind(t),d=t.id+":"+e.nextConnectionId_++,g=t.lastSessionId;let m=!1,_=null;const w=function(){_?_.close():(m=!0,o())};t.realtime_={close:w,sendRequest:function(D){(0,ln.hu)(_,"sendRequest call when we're not connected not allowed."),_.sendRequest(D)}};const N=t.forceTokenRefresh_;t.forceTokenRefresh_=!1;try{const[D,ee]=yield Promise.all([t.authTokenProvider_.getToken(N),t.appCheckTokenProvider_.getToken(N)]);m?Bu("getToken() completed but was canceled"):(Bu("getToken() completed. Creating connection."),t.authToken_=D&&D.accessToken,t.appCheckToken_=ee&&ee.token,_=new r3(d,t.repoInfo_,t.applicationId_,t.appCheckToken_,t.authToken_,r,s,o,B=>{Mh(B+" ("+t.repoInfo_.toString()+")"),t.interrupt("server_kill")},g))}catch(D){t.log_("Failed to get token: "+D),m||(t.repoInfo_.nodeAdmin&&Mh(D),w())}}})()}interrupt(t){Bu("Interrupting connection for reason: "+t),this.interruptReasons_[t]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(t){Bu("Resuming connection for reason: "+t),delete this.interruptReasons_[t],(0,ln.xb)(this.interruptReasons_)&&(this.reconnectDelay_=ET,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(t){const r=t-(new Date).getTime();this.onServerInfoUpdate_({serverTimeOffset:r})}cancelSentTransactions_(){for(let t=0;t<this.outstandingPuts_.length;t++){const r=this.outstandingPuts_[t];r&&"h"in r.request&&r.queued&&(r.onComplete&&r.onComplete("disconnect"),delete this.outstandingPuts_[t],this.outstandingPutCount_--)}0===this.outstandingPutCount_&&(this.outstandingPuts_=[])}onListenRevoked_(t,r){let s;s=r?r.map(d=>oP(d)).join("$"):"default";const o=this.removeListen_(t,s);o&&o.onComplete&&o.onComplete("permission_denied")}removeListen_(t,r){const s=new Ea(t).toString();let o;if(this.listens.has(s)){const d=this.listens.get(s);o=d.get(r),d.delete(r),0===d.size&&this.listens.delete(s)}else o=void 0;return o}onAuthRevoked_(t,r){Bu("Auth token revoked: "+t+"/"+r),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),("invalid_token"===t||"permission_denied"===t)&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=3&&(this.reconnectDelay_=3e4,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(t,r){Bu("App check token revoked: "+t+"/"+r),this.appCheckToken_=null,this.forceTokenRefresh_=!0,("invalid_token"===t||"permission_denied"===t)&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=3&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(t){this.securityDebugCallback_?this.securityDebugCallback_(t):"msg"in t&&console.log("FIREBASE: "+t.msg.replace("\n","\nFIREBASE: "))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const t of this.listens.values())for(const r of t.values())this.sendListen_(r);for(let t=0;t<this.outstandingPuts_.length;t++)this.outstandingPuts_[t]&&this.sendPut_(t);for(;this.onDisconnectRequestQueue_.length;){const t=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(t.action,t.pathString,t.data,t.onComplete)}for(let t=0;t<this.outstandingGets_.length;t++)this.outstandingGets_[t]&&this.sendGet_(t)}sendConnectStats_(){const t={};let r="js";(0,ln.Yr)()&&(r=this.repoInfo_.nodeAdmin?"admin_node":"node"),t["sdk."+r+"."+rP.replace(/\./g,"-")]=1,(0,ln.uI)()?t["framework.cordova"]=1:(0,ln.b$)()&&(t["framework.reactnative"]=1),this.reportStats(t)}shouldReconnect_(){const t=HA.getInstance().currentlyOnline();return(0,ln.xb)(this.interruptReasons_)&&t}}return e.nextPersistentConnectionId_=0,e.nextConnectionId_=0,e})();class Ao{constructor(n,t){this.name=n,this.node=t}static Wrap(n,t){return new Ao(n,t)}}class zA{getCompare(){return this.compare.bind(this)}indexedValueChanged(n,t){const r=new Ao(Um,n),s=new Ao(Um,t);return 0!==this.compare(r,s)}minPost(){return Ao.MIN}}class d3 extends zA{static get __EMPTY_NODE(){return WA}static set __EMPTY_NODE(n){WA=n}compare(n,t){return rx(n.name,t.name)}isDefinedOn(n){throw(0,ln.g5)("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(n,t){return!1}minPost(){return Ao.MIN}maxPost(){return new Ao(Cg,WA)}makePost(n,t){return(0,ln.hu)("string"==typeof n,"KeyIndex indexValue must always be a string."),new Ao(n,WA)}toString(){return".key"}}const Sg=new d3;class qA{constructor(n,t,r,s,o=null){this.isReverse_=s,this.resultGenerator_=o,this.nodeStack_=[];let d=1;for(;!n.isEmpty();)if(n=n,d=t?r(n.key,t):1,s&&(d*=-1),d<0)n=this.isReverse_?n.left:n.right;else{if(0===d){this.nodeStack_.push(n);break}this.nodeStack_.push(n),n=this.isReverse_?n.right:n.left}}getNext(){if(0===this.nodeStack_.length)return null;let t,n=this.nodeStack_.pop();if(t=this.resultGenerator_?this.resultGenerator_(n.key,n.value):{key:n.key,value:n.value},this.isReverse_)for(n=n.left;!n.isEmpty();)this.nodeStack_.push(n),n=n.right;else for(n=n.right;!n.isEmpty();)this.nodeStack_.push(n),n=n.left;return t}hasNext(){return this.nodeStack_.length>0}peek(){if(0===this.nodeStack_.length)return null;const n=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(n.key,n.value):{key:n.key,value:n.value}}}let _P,u0=(()=>{class e{constructor(t,r,s,o,d){this.key=t,this.value=r,this.color=null!=s?s:e.RED,this.left=null!=o?o:Gd.EMPTY_NODE,this.right=null!=d?d:Gd.EMPTY_NODE}copy(t,r,s,o,d){return new e(null!=t?t:this.key,null!=r?r:this.value,null!=s?s:this.color,null!=o?o:this.left,null!=d?d:this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||!!t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,r,s){let o=this;const d=s(t,o.key);return o=d<0?o.copy(null,null,null,o.left.insert(t,r,s),null):0===d?o.copy(null,r,null,null,null):o.copy(null,null,null,null,o.right.insert(t,r,s)),o.fixUp_()}removeMin_(){if(this.left.isEmpty())return Gd.EMPTY_NODE;let t=this;return!t.left.isRed_()&&!t.left.left.isRed_()&&(t=t.moveRedLeft_()),t=t.copy(null,null,null,t.left.removeMin_(),null),t.fixUp_()}remove(t,r){let s,o;if(s=this,r(t,s.key)<0)!s.left.isEmpty()&&!s.left.isRed_()&&!s.left.left.isRed_()&&(s=s.moveRedLeft_()),s=s.copy(null,null,null,s.left.remove(t,r),null);else{if(s.left.isRed_()&&(s=s.rotateRight_()),!s.right.isEmpty()&&!s.right.isRed_()&&!s.right.left.isRed_()&&(s=s.moveRedRight_()),0===r(t,s.key)){if(s.right.isEmpty())return Gd.EMPTY_NODE;o=s.right.min_(),s=s.copy(o.key,o.value,null,null,s.right.removeMin_())}s=s.copy(null,null,null,null,s.right.remove(t,r))}return s.fixUp_()}isRed_(){return this.color}fixUp_(){let t=this;return t.right.isRed_()&&!t.left.isRed_()&&(t=t.rotateLeft_()),t.left.isRed_()&&t.left.left.isRed_()&&(t=t.rotateRight_()),t.left.isRed_()&&t.right.isRed_()&&(t=t.colorFlip_()),t}moveRedLeft_(){let t=this.colorFlip_();return t.right.left.isRed_()&&(t=t.copy(null,null,null,null,t.right.rotateRight_()),t=t.rotateLeft_(),t=t.colorFlip_()),t}moveRedRight_(){let t=this.colorFlip_();return t.left.left.isRed_()&&(t=t.rotateRight_(),t=t.colorFlip_()),t}rotateLeft_(){const t=this.copy(null,null,e.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight_(){const t=this.copy(null,null,e.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip_(){const t=this.left.copy(null,null,!this.left.color,null,null),r=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,r)}checkMaxDepth_(){const t=this.check_();return Math.pow(2,t)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const t=this.left.check_();if(t!==this.right.check_())throw new Error("Black depths differ");return t+(this.isRed_()?0:1)}}return e.RED=!0,e.BLACK=!1,e})();class Gd{constructor(n,t=Gd.EMPTY_NODE){this.comparator_=n,this.root_=t}insert(n,t){return new Gd(this.comparator_,this.root_.insert(n,t,this.comparator_).copy(null,null,u0.BLACK,null,null))}remove(n){return new Gd(this.comparator_,this.root_.remove(n,this.comparator_).copy(null,null,u0.BLACK,null,null))}get(n){let t,r=this.root_;for(;!r.isEmpty();){if(t=this.comparator_(n,r.key),0===t)return r.value;t<0?r=r.left:t>0&&(r=r.right)}return null}getPredecessorKey(n){let t,r=this.root_,s=null;for(;!r.isEmpty();){if(t=this.comparator_(n,r.key),0===t){if(r.left.isEmpty())return s?s.key:null;for(r=r.left;!r.right.isEmpty();)r=r.right;return r.key}t<0?r=r.left:t>0&&(s=r,r=r.right)}throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(n){return this.root_.inorderTraversal(n)}reverseTraversal(n){return this.root_.reverseTraversal(n)}getIterator(n){return new qA(this.root_,null,this.comparator_,!1,n)}getIteratorFrom(n,t){return new qA(this.root_,n,this.comparator_,!1,t)}getReverseIteratorFrom(n,t){return new qA(this.root_,n,this.comparator_,!0,t)}getReverseIterator(n){return new qA(this.root_,null,this.comparator_,!0,n)}}function T6(e,n){return rx(e.name,n.name)}function yP(e,n){return rx(e,n)}Gd.EMPTY_NODE=new class E6{copy(n,t,r,s,o){return this}insert(n,t,r){return new u0(n,t,null)}remove(n,t){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(n){return!1}reverseTraversal(n){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}};const f3=function(e){return"number"==typeof e?"number:"+NO(e):"string:"+e},p3=function(e){if(e.isLeafNode()){const n=e.val();(0,ln.hu)("string"==typeof n||"number"==typeof n||"object"==typeof n&&(0,ln.r3)(n,".sv"),"Priority must be a string or number.")}else(0,ln.hu)(e===_P||e.isEmpty(),"priority of unexpected type.");(0,ln.hu)(e===_P||e.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};let g3,m3,v3,P2=(()=>{class e{constructor(t,r=e.__childrenNodeConstructor.EMPTY_NODE){this.value_=t,this.priorityNode_=r,this.lazyHash_=null,(0,ln.hu)(null!=this.value_,"LeafNode shouldn't be created with null/undefined value."),p3(this.priorityNode_)}static set __childrenNodeConstructor(t){g3=t}static get __childrenNodeConstructor(){return g3}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(t){return new e(this.value_,t)}getImmediateChild(t){return".priority"===t?this.priorityNode_:e.__childrenNodeConstructor.EMPTY_NODE}getChild(t){return wo(t)?this:".priority"===xo(t)?this.priorityNode_:e.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(t,r){return null}updateImmediateChild(t,r){return".priority"===t?this.updatePriority(r):r.isEmpty()&&".priority"!==t?this:e.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(t,r).updatePriority(this.priorityNode_)}updateChild(t,r){const s=xo(t);return null===s?r:r.isEmpty()&&".priority"!==s?this:((0,ln.hu)(".priority"!==s||1===j1(t),".priority must be the last token in a path"),this.updateImmediateChild(s,e.__childrenNodeConstructor.EMPTY_NODE.updateChild(fl(t),r)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(t,r){return!1}val(t){return t&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(null===this.lazyHash_){let t="";this.priorityNode_.isEmpty()||(t+="priority:"+f3(this.priorityNode_.val())+":");const r=typeof this.value_;t+=r+":",t+="number"===r?NO(this.value_):this.value_,this.lazyHash_=IO(t)}return this.lazyHash_}getValue(){return this.value_}compareTo(t){return t===e.__childrenNodeConstructor.EMPTY_NODE?1:t instanceof e.__childrenNodeConstructor?-1:((0,ln.hu)(t.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(t))}compareToLeafNode_(t){const r=typeof t.value_,s=typeof this.value_,o=e.VALUE_TYPE_ORDER.indexOf(r),d=e.VALUE_TYPE_ORDER.indexOf(s);return(0,ln.hu)(o>=0,"Unknown leaf type: "+r),(0,ln.hu)(d>=0,"Unknown leaf type: "+s),o===d?"object"===s?0:this.value_<t.value_?-1:this.value_===t.value_?0:1:d-o}withIndex(){return this}isIndexed(){return!0}equals(t){if(t===this)return!0;if(t.isLeafNode()){const r=t;return this.value_===r.value_&&this.priorityNode_.equals(r.priorityNode_)}return!1}}return e.VALUE_TYPE_ORDER=["object","boolean","number","string"],e})();const Il=new class I6 extends zA{compare(n,t){const r=n.node.getPriority(),s=t.node.getPriority(),o=r.compareTo(s);return 0===o?rx(n.name,t.name):o}isDefinedOn(n){return!n.getPriority().isEmpty()}indexedValueChanged(n,t){return!n.getPriority().equals(t.getPriority())}minPost(){return Ao.MIN}maxPost(){return new Ao(Cg,new P2("[PRIORITY-POST]",v3))}makePost(n,t){const r=m3(n);return new Ao(t,new P2("[PRIORITY-POST]",r))}toString(){return".priority"}},D6=Math.log(2);class k6{constructor(n){this.count=parseInt(Math.log(n+1)/D6,10),this.current_=this.count-1;const s=(o=>parseInt(Array(this.count+1).join("1"),2))();this.bits_=n+1&s}nextBitIsOne(){const n=!(this.bits_&1<<this.current_);return this.current_--,n}}const GA=function(e,n,t,r){e.sort(n);const s=function(m,_){const w=_-m;let A,N;if(0===w)return null;if(1===w)return A=e[m],N=t?t(A):A,new u0(N,A.node,u0.BLACK,null,null);{const D=parseInt(w/2,10)+m,ee=s(m,D),B=s(D+1,_);return A=e[D],N=t?t(A):A,new u0(N,A.node,u0.BLACK,ee,B)}},g=function(m){let _=null,w=null,A=e.length;const N=function(ee,B){const he=A-ee,Pe=A;A-=ee;const je=s(he+1,Pe),Xe=e[he],Vt=t?t(Xe):Xe;D(new u0(Vt,Xe.node,B,null,je))},D=function(ee){_?(_.left=ee,_=ee):(w=ee,_=ee)};for(let ee=0;ee<m.count;++ee){const B=m.nextBitIsOne(),he=Math.pow(2,m.count-(ee+1));B?N(he,u0.BLACK):(N(he,u0.BLACK),N(he,u0.RED))}return w}(new k6(e.length));return new Gd(r||n,g)};let xP;const N2={};class Bm{constructor(n,t){this.indexes_=n,this.indexSet_=t}static get Default(){return(0,ln.hu)(N2&&Il,"ChildrenNode.ts has not been loaded"),xP=xP||new Bm({".priority":N2},{".priority":Il}),xP}get(n){const t=(0,ln.DV)(this.indexes_,n);if(!t)throw new Error("No index defined for "+n);return t instanceof Gd?t:null}hasIndex(n){return(0,ln.r3)(this.indexSet_,n.toString())}addIndex(n,t){(0,ln.hu)(n!==Sg,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const r=[];let s=!1;const o=t.getIterator(Ao.Wrap);let g,d=o.getNext();for(;d;)s=s||n.isDefinedOn(d.node),r.push(d),d=o.getNext();g=s?GA(r,n.getCompare()):N2;const m=n.toString(),_=Object.assign({},this.indexSet_);_[m]=n;const w=Object.assign({},this.indexes_);return w[m]=g,new Bm(w,_)}addToIndexes(n,t){const r=(0,ln.UI)(this.indexes_,(s,o)=>{const d=(0,ln.DV)(this.indexSet_,o);if((0,ln.hu)(d,"Missing index implementation for "+o),s===N2){if(d.isDefinedOn(n.node)){const g=[],m=t.getIterator(Ao.Wrap);let _=m.getNext();for(;_;)_.name!==n.name&&g.push(_),_=m.getNext();return g.push(n),GA(g,d.getCompare())}return N2}{const g=t.get(n.name);let m=s;return g&&(m=m.remove(new Ao(n.name,g))),m.insert(n,n.node)}});return new Bm(r,this.indexSet_)}removeFromIndexes(n,t){const r=(0,ln.UI)(this.indexes_,s=>{if(s===N2)return s;{const o=t.get(n.name);return o?s.remove(new Ao(n.name,o)):s}});return new Bm(r,this.indexSet_)}}let TT,to=(()=>{class e{constructor(t,r,s){this.children_=t,this.priorityNode_=r,this.indexMap_=s,this.lazyHash_=null,this.priorityNode_&&p3(this.priorityNode_),this.children_.isEmpty()&&(0,ln.hu)(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}static get EMPTY_NODE(){return TT||(TT=new e(new Gd(yP),null,Bm.Default))}isLeafNode(){return!1}getPriority(){return this.priorityNode_||TT}updatePriority(t){return this.children_.isEmpty()?this:new e(this.children_,t,this.indexMap_)}getImmediateChild(t){if(".priority"===t)return this.getPriority();{const r=this.children_.get(t);return null===r?TT:r}}getChild(t){const r=xo(t);return null===r?this:this.getImmediateChild(r).getChild(fl(t))}hasChild(t){return null!==this.children_.get(t)}updateImmediateChild(t,r){if((0,ln.hu)(r,"We should always be passing snapshot nodes"),".priority"===t)return this.updatePriority(r);{const s=new Ao(t,r);let o,d;r.isEmpty()?(o=this.children_.remove(t),d=this.indexMap_.removeFromIndexes(s,this.children_)):(o=this.children_.insert(t,r),d=this.indexMap_.addToIndexes(s,this.children_));const g=o.isEmpty()?TT:this.priorityNode_;return new e(o,g,d)}}updateChild(t,r){const s=xo(t);if(null===s)return r;{(0,ln.hu)(".priority"!==xo(t)||1===j1(t),".priority must be the last token in a path");const o=this.getImmediateChild(s).updateChild(fl(t),r);return this.updateImmediateChild(s,o)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(t){if(this.isEmpty())return null;const r={};let s=0,o=0,d=!0;if(this.forEachChild(Il,(g,m)=>{r[g]=m.val(t),s++,d&&e.INTEGER_REGEXP_.test(g)?o=Math.max(o,Number(g)):d=!1}),!t&&d&&o<2*s){const g=[];for(const m in r)g[m]=r[m];return g}return t&&!this.getPriority().isEmpty()&&(r[".priority"]=this.getPriority().val()),r}hash(){if(null===this.lazyHash_){let t="";this.getPriority().isEmpty()||(t+="priority:"+f3(this.getPriority().val())+":"),this.forEachChild(Il,(r,s)=>{const o=s.hash();""!==o&&(t+=":"+r+":"+o)}),this.lazyHash_=""===t?"":IO(t)}return this.lazyHash_}getPredecessorChildName(t,r,s){const o=this.resolveIndex_(s);if(o){const d=o.getPredecessorKey(new Ao(t,r));return d?d.name:null}return this.children_.getPredecessorKey(t)}getFirstChildName(t){const r=this.resolveIndex_(t);if(r){const s=r.minKey();return s&&s.name}return this.children_.minKey()}getFirstChild(t){const r=this.getFirstChildName(t);return r?new Ao(r,this.children_.get(r)):null}getLastChildName(t){const r=this.resolveIndex_(t);if(r){const s=r.maxKey();return s&&s.name}return this.children_.maxKey()}getLastChild(t){const r=this.getLastChildName(t);return r?new Ao(r,this.children_.get(r)):null}forEachChild(t,r){const s=this.resolveIndex_(t);return s?s.inorderTraversal(o=>r(o.name,o.node)):this.children_.inorderTraversal(r)}getIterator(t){return this.getIteratorFrom(t.minPost(),t)}getIteratorFrom(t,r){const s=this.resolveIndex_(r);if(s)return s.getIteratorFrom(t,o=>o);{const o=this.children_.getIteratorFrom(t.name,Ao.Wrap);let d=o.peek();for(;null!=d&&r.compare(d,t)<0;)o.getNext(),d=o.peek();return o}}getReverseIterator(t){return this.getReverseIteratorFrom(t.maxPost(),t)}getReverseIteratorFrom(t,r){const s=this.resolveIndex_(r);if(s)return s.getReverseIteratorFrom(t,o=>o);{const o=this.children_.getReverseIteratorFrom(t.name,Ao.Wrap);let d=o.peek();for(;null!=d&&r.compare(d,t)>0;)o.getNext(),d=o.peek();return o}}compareTo(t){return this.isEmpty()?t.isEmpty()?0:-1:t.isLeafNode()||t.isEmpty()?1:t===CT?-1:0}withIndex(t){if(t===Sg||this.indexMap_.hasIndex(t))return this;{const r=this.indexMap_.addIndex(t,this.children_);return new e(this.children_,this.priorityNode_,r)}}isIndexed(t){return t===Sg||this.indexMap_.hasIndex(t)}equals(t){if(t===this)return!0;if(t.isLeafNode())return!1;{const r=t;if(this.getPriority().equals(r.getPriority())){if(this.children_.count()===r.children_.count()){const s=this.getIterator(Il),o=r.getIterator(Il);let d=s.getNext(),g=o.getNext();for(;d&&g;){if(d.name!==g.name||!d.node.equals(g.node))return!1;d=s.getNext(),g=o.getNext()}return null===d&&null===g}return!1}return!1}}resolveIndex_(t){return t===Sg?null:this.indexMap_.get(t.toString())}}return e.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/,e})();const CT=new class P6 extends to{constructor(){super(new Gd(yP),to.EMPTY_NODE,Bm.Default)}compareTo(n){return n===this?0:1}equals(n){return n===this}getPriority(){return this}getImmediateChild(n){return to.EMPTY_NODE}isEmpty(){return!1}};function wc(e,n=null){if(null===e)return to.EMPTY_NODE;if("object"==typeof e&&".priority"in e&&(n=e[".priority"]),(0,ln.hu)(null===n||"string"==typeof n||"number"==typeof n||"object"==typeof n&&".sv"in n,"Invalid priority type found: "+typeof n),"object"==typeof e&&".value"in e&&null!==e[".value"]&&(e=e[".value"]),"object"!=typeof e||".sv"in e)return new P2(e,wc(n));if(e instanceof Array){let t=to.EMPTY_NODE;return ju(e,(r,s)=>{if((0,ln.r3)(e,r)&&"."!==r.substring(0,1)){const o=wc(s);(o.isLeafNode()||!o.isEmpty())&&(t=t.updateImmediateChild(r,o))}}),t.updatePriority(wc(n))}{const t=[];let r=!1;if(ju(e,(d,g)=>{if("."!==d.substring(0,1)){const m=wc(g);m.isEmpty()||(r=r||!m.getPriority().isEmpty(),t.push(new Ao(d,m)))}}),0===t.length)return to.EMPTY_NODE;const o=GA(t,T6,d=>d.name,yP);if(r){const d=GA(t,Il.getCompare());return new to(o,wc(n),new Bm({".priority":d},{".priority":Il}))}return new to(o,wc(n),Bm.Default)}}Object.defineProperties(Ao,{MIN:{value:new Ao(Um,to.EMPTY_NODE)},MAX:{value:new Ao(Cg,CT)}}),d3.__EMPTY_NODE=to.EMPTY_NODE,P2.__childrenNodeConstructor=to,function C6(e){_P=e}(CT),function A6(e){v3=e}(CT),function S6(e){m3=e}(wc);class wP extends zA{constructor(n){super(),this.indexPath_=n,(0,ln.hu)(!wo(n)&&".priority"!==xo(n),"Can't create PathIndex with empty path or .priority key")}extractChild(n){return n.getChild(this.indexPath_)}isDefinedOn(n){return!n.getChild(this.indexPath_).isEmpty()}compare(n,t){const r=this.extractChild(n.node),s=this.extractChild(t.node),o=r.compareTo(s);return 0===o?rx(n.name,t.name):o}makePost(n,t){const r=wc(n),s=to.EMPTY_NODE.updateChild(this.indexPath_,r);return new Ao(t,s)}maxPost(){const n=to.EMPTY_NODE.updateChild(this.indexPath_,CT);return new Ao(Cg,n)}toString(){return bT(this.indexPath_,0).join("/")}}const bP=new class M6 extends zA{compare(n,t){const r=n.node.compareTo(t.node);return 0===r?rx(n.name,t.name):r}isDefinedOn(n){return!0}indexedValueChanged(n,t){return!n.equals(t)}minPost(){return Ao.MIN}maxPost(){return Ao.MAX}makePost(n,t){const r=wc(n);return new Ao(t,r)}toString(){return".value"}},M2="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz",O6=function(){let e=0;const n=[];return function(t){const r=t===e;let s;e=t;const o=new Array(8);for(s=7;s>=0;s--)o[s]=M2.charAt(t%64),t=Math.floor(t/64);(0,ln.hu)(0===t,"Cannot push at time == 0");let d=o.join("");if(r){for(s=11;s>=0&&63===n[s];s--)n[s]=0;n[s]++}else for(s=0;s<12;s++)n[s]=Math.floor(64*Math.random());for(s=0;s<12;s++)d+=M2.charAt(n[s]);return(0,ln.hu)(20===d.length,"nextPushId: Length should be 20."),d}}(),x3=function(e){if(e===""+aP)return"-";const n=BA(e);if(null!=n)return""+(n+1);const t=new Array(e.length);for(let d=0;d<t.length;d++)t[d]=e.charAt(d);if(t.length<786)return t.push("-"),t.join("");let r=t.length-1;for(;r>=0&&"z"===t[r];)r--;if(-1===r)return Cg;const o=M2.charAt(M2.indexOf(t[r])+1);return t[r]=o,t.slice(0,r+1).join("")},w3=function(e){if(e===""+MO)return Um;const n=BA(e);if(null!=n)return""+(n-1);const t=new Array(e.length);for(let r=0;r<t.length;r++)t[r]=e.charAt(r);return"-"===t[t.length-1]?1===t.length?""+aP:(delete t[t.length-1],t.join("")):(t[t.length-1]=M2.charAt(M2.indexOf(t[t.length-1])-1),t.join("")+"z".repeat(786-t.length))};function b3(e){return{type:"value",snapshotNode:e}}function O2(e,n){return{type:"child_added",snapshotNode:n,childName:e}}function ST(e,n){return{type:"child_removed",snapshotNode:n,childName:e}}function AT(e,n,t){return{type:"child_changed",snapshotNode:n,childName:e,oldSnap:t}}class TP{constructor(n){this.index_=n}updateChild(n,t,r,s,o,d){(0,ln.hu)(n.isIndexed(this.index_),"A node must be indexed if only a child is updated");const g=n.getImmediateChild(t);return g.getChild(s).equals(r.getChild(s))&&g.isEmpty()===r.isEmpty()||(null!=d&&(r.isEmpty()?n.hasChild(t)?d.trackChildChange(ST(t,g)):(0,ln.hu)(n.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):g.isEmpty()?d.trackChildChange(O2(t,r)):d.trackChildChange(AT(t,r,g))),n.isLeafNode()&&r.isEmpty())?n:n.updateImmediateChild(t,r).withIndex(this.index_)}updateFullNode(n,t,r){return null!=r&&(n.isLeafNode()||n.forEachChild(Il,(s,o)=>{t.hasChild(s)||r.trackChildChange(ST(s,o))}),t.isLeafNode()||t.forEachChild(Il,(s,o)=>{if(n.hasChild(s)){const d=n.getImmediateChild(s);d.equals(o)||r.trackChildChange(AT(s,o,d))}else r.trackChildChange(O2(s,o))})),t.withIndex(this.index_)}updatePriority(n,t){return n.isEmpty()?to.EMPTY_NODE:n.updatePriority(t)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}}class IT{constructor(n){this.indexedFilter_=new TP(n.getIndex()),this.index_=n.getIndex(),this.startPost_=IT.getStartPost_(n),this.endPost_=IT.getEndPost_(n)}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(n){return this.index_.compare(this.getStartPost(),n)<=0&&this.index_.compare(n,this.getEndPost())<=0}updateChild(n,t,r,s,o,d){return this.matches(new Ao(t,r))||(r=to.EMPTY_NODE),this.indexedFilter_.updateChild(n,t,r,s,o,d)}updateFullNode(n,t,r){t.isLeafNode()&&(t=to.EMPTY_NODE);let s=t.withIndex(this.index_);s=s.updatePriority(to.EMPTY_NODE);const o=this;return t.forEachChild(Il,(d,g)=>{o.matches(new Ao(d,g))||(s=s.updateImmediateChild(d,to.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(n,s,r)}updatePriority(n,t){return n}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(n){if(n.hasStart()){const t=n.getIndexStartName();return n.getIndex().makePost(n.getIndexStartValue(),t)}return n.getIndex().minPost()}static getEndPost_(n){if(n.hasEnd()){const t=n.getIndexEndName();return n.getIndex().makePost(n.getIndexEndValue(),t)}return n.getIndex().maxPost()}}class R6{constructor(n){this.rangedFilter_=new IT(n),this.index_=n.getIndex(),this.limit_=n.getLimit(),this.reverse_=!n.isViewFromLeft()}updateChild(n,t,r,s,o,d){return this.rangedFilter_.matches(new Ao(t,r))||(r=to.EMPTY_NODE),n.getImmediateChild(t).equals(r)?n:n.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(n,t,r,s,o,d):this.fullLimitUpdateChild_(n,t,r,o,d)}updateFullNode(n,t,r){let s;if(t.isLeafNode()||t.isEmpty())s=to.EMPTY_NODE.withIndex(this.index_);else if(2*this.limit_<t.numChildren()&&t.isIndexed(this.index_)){let o;s=to.EMPTY_NODE.withIndex(this.index_),o=this.reverse_?t.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):t.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let d=0;for(;o.hasNext()&&d<this.limit_;){const g=o.getNext();let m;if(m=this.reverse_?this.index_.compare(this.rangedFilter_.getStartPost(),g)<=0:this.index_.compare(g,this.rangedFilter_.getEndPost())<=0,!m)break;s=s.updateImmediateChild(g.name,g.node),d++}}else{let o,d,g,m;if(s=t.withIndex(this.index_),s=s.updatePriority(to.EMPTY_NODE),this.reverse_){m=s.getReverseIterator(this.index_),o=this.rangedFilter_.getEndPost(),d=this.rangedFilter_.getStartPost();const A=this.index_.getCompare();g=(N,D)=>A(D,N)}else m=s.getIterator(this.index_),o=this.rangedFilter_.getStartPost(),d=this.rangedFilter_.getEndPost(),g=this.index_.getCompare();let _=0,w=!1;for(;m.hasNext();){const A=m.getNext();!w&&g(o,A)<=0&&(w=!0),w&&_<this.limit_&&g(A,d)<=0?_++:s=s.updateImmediateChild(A.name,to.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(n,s,r)}updatePriority(n,t){return n}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(n,t,r,s,o){let d;if(this.reverse_){const A=this.index_.getCompare();d=(N,D)=>A(D,N)}else d=this.index_.getCompare();const g=n;(0,ln.hu)(g.numChildren()===this.limit_,"");const m=new Ao(t,r),_=this.reverse_?g.getFirstChild(this.index_):g.getLastChild(this.index_),w=this.rangedFilter_.matches(m);if(g.hasChild(t)){const A=g.getImmediateChild(t);let N=s.getChildAfterChild(this.index_,_,this.reverse_);for(;null!=N&&(N.name===t||g.hasChild(N.name));)N=s.getChildAfterChild(this.index_,N,this.reverse_);const D=null==N?1:d(N,m);if(w&&!r.isEmpty()&&D>=0)return null!=o&&o.trackChildChange(AT(t,r,A)),g.updateImmediateChild(t,r);{null!=o&&o.trackChildChange(ST(t,A));const B=g.updateImmediateChild(t,to.EMPTY_NODE);return null!=N&&this.rangedFilter_.matches(N)?(null!=o&&o.trackChildChange(O2(N.name,N.node)),B.updateImmediateChild(N.name,N.node)):B}}return r.isEmpty()?n:w&&d(_,m)>=0?(null!=o&&(o.trackChildChange(ST(_.name,_.node)),o.trackChildChange(O2(t,r))),g.updateImmediateChild(t,r).updateImmediateChild(_.name,to.EMPTY_NODE)):n}}class ZA{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=Il}hasStart(){return this.startSet_}hasStartAfter(){return this.startAfterSet_}hasEndBefore(){return this.endBeforeSet_}isViewFromLeft(){return""===this.viewFrom_?this.startSet_:"l"===this.viewFrom_}getIndexStartValue(){return(0,ln.hu)(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return(0,ln.hu)(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:Um}hasEnd(){return this.endSet_}getIndexEndValue(){return(0,ln.hu)(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return(0,ln.hu)(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:Cg}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&""!==this.viewFrom_}getLimit(){return(0,ln.hu)(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===Il}copy(){const n=new ZA;return n.limitSet_=this.limitSet_,n.limit_=this.limit_,n.startSet_=this.startSet_,n.indexStartValue_=this.indexStartValue_,n.startNameSet_=this.startNameSet_,n.indexStartName_=this.indexStartName_,n.endSet_=this.endSet_,n.indexEndValue_=this.indexEndValue_,n.endNameSet_=this.endNameSet_,n.indexEndName_=this.indexEndName_,n.index_=this.index_,n.viewFrom_=this.viewFrom_,n}}function CP(e,n,t){const r=e.copy();return r.startSet_=!0,void 0===n&&(n=null),r.indexStartValue_=n,null!=t?(r.startNameSet_=!0,r.indexStartName_=t):(r.startNameSet_=!1,r.indexStartName_=""),r}function SP(e,n,t){const r=e.copy();return r.endSet_=!0,void 0===n&&(n=null),r.indexEndValue_=n,void 0!==t?(r.endNameSet_=!0,r.indexEndName_=t):(r.endNameSet_=!1,r.indexEndName_=""),r}function $A(e,n){const t=e.copy();return t.index_=n,t}function E3(e){const n={};if(e.isDefault())return n;let t;return e.index_===Il?t="$priority":e.index_===bP?t="$value":e.index_===Sg?t="$key":((0,ln.hu)(e.index_ instanceof wP,"Unrecognized index type!"),t=e.index_.toString()),n.orderBy=(0,ln.Pz)(t),e.startSet_&&(n.startAt=(0,ln.Pz)(e.indexStartValue_),e.startNameSet_&&(n.startAt+=","+(0,ln.Pz)(e.indexStartName_))),e.endSet_&&(n.endAt=(0,ln.Pz)(e.indexEndValue_),e.endNameSet_&&(n.endAt+=","+(0,ln.Pz)(e.indexEndName_))),e.limitSet_&&(e.isViewFromLeft()?n.limitToFirst=e.limit_:n.limitToLast=e.limit_),n}function T3(e){const n={};if(e.startSet_&&(n.sp=e.indexStartValue_,e.startNameSet_&&(n.sn=e.indexStartName_)),e.endSet_&&(n.ep=e.indexEndValue_,e.endNameSet_&&(n.en=e.indexEndName_)),e.limitSet_){n.l=e.limit_;let t=e.viewFrom_;""===t&&(t=e.isViewFromLeft()?"l":"r"),n.vf=t}return e.index_!==Il&&(n.i=e.index_.toString()),n}class YA extends i3{constructor(n,t,r,s){super(),this.repoInfo_=n,this.onDataUpdate_=t,this.authTokenProvider_=r,this.appCheckTokenProvider_=s,this.log_=yT("p:rest:"),this.listens_={}}reportStats(n){throw new Error("Method not implemented.")}static getListenId_(n,t){return void 0!==t?"tag$"+t:((0,ln.hu)(n._queryParams.isDefault(),"should have a tag if it's not a default query."),n._path.toString())}listen(n,t,r,s){const o=n._path.toString();this.log_("Listen called for "+o+" "+n._queryIdentifier);const d=YA.getListenId_(n,r),g={};this.listens_[d]=g;const m=E3(n._queryParams);this.restRequest_(o+".json",m,(_,w)=>{let A=w;if(404===_&&(A=null,_=null),null===_&&this.onDataUpdate_(o,A,!1,r),(0,ln.DV)(this.listens_,d)===g){let N;N=_?401===_?"permission_denied":"rest_error:"+_:"ok",s(N,null)}})}unlisten(n,t){const r=YA.getListenId_(n,t);delete this.listens_[r]}get(n){const t=E3(n._queryParams),r=n._path.toString(),s=new ln.BH;return this.restRequest_(r+".json",t,(o,d)=>{let g=d;404===o&&(g=null,o=null),null===o?(this.onDataUpdate_(r,g,!1,null),s.resolve(g)):s.reject(new Error(g))}),s.promise}refreshAuthToken(n){}restRequest_(n,t={},r){return t.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([s,o])=>{s&&s.accessToken&&(t.auth=s.accessToken),o&&o.token&&(t.ac=o.token);const d=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+n+"?ns="+this.repoInfo_.namespace+(0,ln.xO)(t);this.log_("Sending REST request for "+d);const g=new XMLHttpRequest;g.onreadystatechange=()=>{if(r&&4===g.readyState){this.log_("REST Response for "+d+" received. status:",g.status,"response:",g.responseText);let m=null;if(g.status>=200&&g.status<300){try{m=(0,ln.cI)(g.responseText)}catch(_){Mh("Failed to parse JSON response for "+d+": "+g.responseText)}r(null,m)}else 401!==g.status&&404!==g.status&&Mh("Got unsuccessful REST response for "+d+" Status: "+g.status),r(g.status);r=null}},g.open("GET",d,!0),g.send()})}}class H6{constructor(){this.rootNode_=to.EMPTY_NODE}getNode(n){return this.rootNode_.getChild(n)}updateSnapshot(n,t){this.rootNode_=this.rootNode_.updateChild(n,t)}}function KA(){return{value:null,children:new Map}}function F2(e,n,t){if(wo(n))e.value=t,e.children.clear();else if(null!==e.value)e.value=e.value.updateChild(n,t);else{const r=xo(n);e.children.has(r)||e.children.set(r,KA()),F2(e.children.get(r),n=fl(n),t)}}function AP(e,n){if(wo(n))return e.value=null,e.children.clear(),!0;if(null!==e.value){if(e.value.isLeafNode())return!1;{const t=e.value;return e.value=null,t.forEachChild(Il,(r,s)=>{F2(e,new Ea(r),s)}),AP(e,n)}}if(e.children.size>0){const t=xo(n);return n=fl(n),e.children.has(t)&&AP(e.children.get(t),n)&&e.children.delete(t),0===e.children.size}return!0}function IP(e,n,t){null!==e.value?t(n,e.value):function z6(e,n){e.children.forEach((t,r)=>{n(r,t)})}(e,(r,s)=>{IP(s,new Ea(n.toString()+"/"+r),t)})}class W6{constructor(n){this.collection_=n,this.last_=null}get(){const n=this.collection_.get(),t=Object.assign({},n);return this.last_&&ju(this.last_,(r,s)=>{t[r]=t[r]-s}),this.last_=n,t}}class Z6{constructor(n,t){this.server_=t,this.statsToReport_={},this.statsListener_=new W6(n);const r=1e4+2e4*Math.random();xT(this.reportStats_.bind(this),Math.floor(r))}reportStats_(){const n=this.statsListener_.get(),t={};let r=!1;ju(n,(s,o)=>{o>0&&(0,ln.r3)(this.statsToReport_,s)&&(t[s]=o,r=!0)}),r&&this.server_.reportStats(t),xT(this.reportStats_.bind(this),Math.floor(2*Math.random()*3e5))}}var vp=(()=>(function(e){e[e.OVERWRITE=0]="OVERWRITE",e[e.MERGE=1]="MERGE",e[e.ACK_USER_WRITE=2]="ACK_USER_WRITE",e[e.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"}(vp||(vp={})),vp))();function PP(e){return{fromUser:!1,fromServer:!0,queryId:e,tagged:!0}}class XA{constructor(n,t,r){this.path=n,this.affectedTree=t,this.revert=r,this.type=vp.ACK_USER_WRITE,this.source={fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}operationForChild(n){if(wo(this.path)){if(null!=this.affectedTree.value)return(0,ln.hu)(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const t=this.affectedTree.subtree(new Ea(n));return new XA(sa(),t,this.revert)}}return(0,ln.hu)(xo(this.path)===n,"operationForChild called for unrelated child."),new XA(fl(this.path),this.affectedTree,this.revert)}}class DT{constructor(n,t){this.source=n,this.path=t,this.type=vp.LISTEN_COMPLETE}operationForChild(n){return wo(this.path)?new DT(this.source,sa()):new DT(this.source,fl(this.path))}}class ox{constructor(n,t,r){this.source=n,this.path=t,this.snap=r,this.type=vp.OVERWRITE}operationForChild(n){return wo(this.path)?new ox(this.source,sa(),this.snap.getImmediateChild(n)):new ox(this.source,fl(this.path),this.snap)}}class R2{constructor(n,t,r){this.source=n,this.path=t,this.children=r,this.type=vp.MERGE}operationForChild(n){if(wo(this.path)){const t=this.children.subtree(new Ea(n));return t.isEmpty()?null:t.value?new ox(this.source,sa(),t.value):new R2(this.source,sa(),t)}return(0,ln.hu)(xo(this.path)===n,"Can't get a merge for a child not on the path of the operation"),new R2(this.source,fl(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}class V1{constructor(n,t,r){this.node_=n,this.fullyInitialized_=t,this.filtered_=r}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(n){if(wo(n))return this.isFullyInitialized()&&!this.filtered_;const t=xo(n);return this.isCompleteForChild(t)}isCompleteForChild(n){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(n)}getNode(){return this.node_}}class $6{constructor(n){this.query_=n,this.index_=this.query_._queryParams.getIndex()}}function kT(e,n,t,r,s,o){const d=r.filter(g=>g.type===t);d.sort((g,m)=>function X6(e,n,t){if(null==n.childName||null==t.childName)throw(0,ln.g5)("Should only compare child_ events.");const r=new Ao(n.childName,n.snapshotNode),s=new Ao(t.childName,t.snapshotNode);return e.index_.compare(r,s)}(e,g,m)),d.forEach(g=>{const m=function K6(e,n,t){return"value"===n.type||"child_removed"===n.type||(n.prevName=t.getPredecessorChildName(n.childName,n.snapshotNode,e.index_)),n}(e,g,o);s.forEach(_=>{_.respondsTo(g.type)&&n.push(_.createEvent(m,e.query_))})})}function JA(e,n){return{eventCache:e,serverCache:n}}function PT(e,n,t,r){return JA(new V1(n,t,r),e.serverCache)}function S3(e,n,t,r){return JA(e.eventCache,new V1(n,t,r))}function QA(e){return e.eventCache.isFullyInitialized()?e.eventCache.getNode():null}function ax(e){return e.serverCache.isFullyInitialized()?e.serverCache.getNode():null}let NP;class Dl{constructor(n,t=(()=>(NP||(NP=new Gd(FL)),NP))()){this.value=n,this.children=t}static fromObject(n){let t=new Dl(null);return ju(n,(r,s)=>{t=t.set(new Ea(r),s)}),t}isEmpty(){return null===this.value&&this.children.isEmpty()}findRootMostMatchingPathAndValue(n,t){if(null!=this.value&&t(this.value))return{path:sa(),value:this.value};if(wo(n))return null;{const r=xo(n),s=this.children.get(r);if(null!==s){const o=s.findRootMostMatchingPathAndValue(fl(n),t);return null!=o?{path:nc(new Ea(r),o.path),value:o.value}:null}return null}}findRootMostValueAndPath(n){return this.findRootMostMatchingPathAndValue(n,()=>!0)}subtree(n){if(wo(n))return this;{const t=xo(n),r=this.children.get(t);return null!==r?r.subtree(fl(n)):new Dl(null)}}set(n,t){if(wo(n))return new Dl(t,this.children);{const r=xo(n),o=(this.children.get(r)||new Dl(null)).set(fl(n),t),d=this.children.insert(r,o);return new Dl(this.value,d)}}remove(n){if(wo(n))return this.children.isEmpty()?new Dl(null):new Dl(null,this.children);{const t=xo(n),r=this.children.get(t);if(r){const s=r.remove(fl(n));let o;return o=s.isEmpty()?this.children.remove(t):this.children.insert(t,s),null===this.value&&o.isEmpty()?new Dl(null):new Dl(this.value,o)}return this}}get(n){if(wo(n))return this.value;{const t=xo(n),r=this.children.get(t);return r?r.get(fl(n)):null}}setTree(n,t){if(wo(n))return t;{const r=xo(n),o=(this.children.get(r)||new Dl(null)).setTree(fl(n),t);let d;return d=o.isEmpty()?this.children.remove(r):this.children.insert(r,o),new Dl(this.value,d)}}fold(n){return this.fold_(sa(),n)}fold_(n,t){const r={};return this.children.inorderTraversal((s,o)=>{r[s]=o.fold_(nc(n,s),t)}),t(n,this.value,r)}findOnPath(n,t){return this.findOnPath_(n,sa(),t)}findOnPath_(n,t,r){const s=!!this.value&&r(t,this.value);if(s)return s;if(wo(n))return null;{const o=xo(n),d=this.children.get(o);return d?d.findOnPath_(fl(n),nc(t,o),r):null}}foreachOnPath(n,t){return this.foreachOnPath_(n,sa(),t)}foreachOnPath_(n,t,r){if(wo(n))return this;{this.value&&r(t,this.value);const s=xo(n),o=this.children.get(s);return o?o.foreachOnPath_(fl(n),nc(t,s),r):new Dl(null)}}foreach(n){this.foreach_(sa(),n)}foreach_(n,t){this.children.inorderTraversal((r,s)=>{s.foreach_(nc(n,r),t)}),this.value&&t(n,this.value)}foreachChild(n){this.children.inorderTraversal((t,r)=>{r.value&&n(t,r.value)})}}class h0{constructor(n){this.writeTree_=n}static empty(){return new h0(new Dl(null))}}function NT(e,n,t){if(wo(n))return new h0(new Dl(t));{const r=e.writeTree_.findRootMostValueAndPath(n);if(null!=r){const s=r.path;let o=r.value;const d=dd(s,n);return o=o.updateChild(d,t),new h0(e.writeTree_.set(s,o))}{const s=new Dl(t),o=e.writeTree_.setTree(n,s);return new h0(o)}}}function MP(e,n,t){let r=e;return ju(t,(s,o)=>{r=NT(r,nc(n,s),o)}),r}function A3(e,n){if(wo(n))return h0.empty();{const t=e.writeTree_.setTree(n,new Dl(null));return new h0(t)}}function OP(e,n){return null!=lx(e,n)}function lx(e,n){const t=e.writeTree_.findRootMostValueAndPath(n);return null!=t?e.writeTree_.get(t.path).getChild(dd(t.path,n)):null}function I3(e){const n=[],t=e.writeTree_.value;return null!=t?t.isLeafNode()||t.forEachChild(Il,(r,s)=>{n.push(new Ao(r,s))}):e.writeTree_.children.inorderTraversal((r,s)=>{null!=s.value&&n.push(new Ao(r,s.value))}),n}function H1(e,n){if(wo(n))return e;{const t=lx(e,n);return new h0(null!=t?new Dl(t):e.writeTree_.subtree(n))}}function FP(e){return e.writeTree_.isEmpty()}function L2(e,n){return D3(sa(),e.writeTree_,n)}function D3(e,n,t){if(null!=n.value)return t.updateChild(e,n.value);{let r=null;return n.children.inorderTraversal((s,o)=>{".priority"===s?((0,ln.hu)(null!==o.value,"Priority writes must always be leaf nodes"),r=o.value):t=D3(nc(e,s),o,t)}),!t.getChild(e).isEmpty()&&null!==r&&(t=t.updateChild(nc(e,".priority"),r)),t}}function eI(e,n){return O3(n,e)}function r8(e,n){if(e.snap)return mp(e.path,n);for(const t in e.children)if(e.children.hasOwnProperty(t)&&mp(nc(e.path,t),n))return!0;return!1}function s8(e){return e.visible}function k3(e,n,t){let r=h0.empty();for(let s=0;s<e.length;++s){const o=e[s];if(n(o)){const d=o.path;let g;if(o.snap)mp(t,d)?(g=dd(t,d),r=NT(r,g,o.snap)):mp(d,t)&&(g=dd(d,t),r=NT(r,sa(),o.snap.getChild(g)));else{if(!o.children)throw(0,ln.g5)("WriteRecord should have .snap or .children");if(mp(t,d))g=dd(t,d),r=MP(r,g,o.children);else if(mp(d,t))if(g=dd(d,t),wo(g))r=MP(r,sa(),o.children);else{const m=(0,ln.DV)(o.children,xo(g));if(m){const _=m.getChild(fl(g));r=NT(r,sa(),_)}}}}}return r}function P3(e,n,t,r,s){if(r||s){const o=H1(e.visibleWrites,n);return!s&&FP(o)?t:s||null!=t||OP(o,sa())?L2(k3(e.allWrites,function(_){return(_.visible||s)&&(!r||!~r.indexOf(_.writeId))&&(mp(_.path,n)||mp(n,_.path))},n),t||to.EMPTY_NODE):null}{const o=lx(e.visibleWrites,n);if(null!=o)return o;{const d=H1(e.visibleWrites,n);return FP(d)?t:null!=t||OP(d,sa())?L2(d,t||to.EMPTY_NODE):null}}}function tI(e,n,t,r){return P3(e.writeTree,e.treePath,n,t,r)}function RP(e,n){return function o8(e,n,t){let r=to.EMPTY_NODE;const s=lx(e.visibleWrites,n);if(s)return s.isLeafNode()||s.forEachChild(Il,(o,d)=>{r=r.updateImmediateChild(o,d)}),r;if(t){const o=H1(e.visibleWrites,n);return t.forEachChild(Il,(d,g)=>{const m=L2(H1(o,new Ea(d)),g);r=r.updateImmediateChild(d,m)}),I3(o).forEach(d=>{r=r.updateImmediateChild(d.name,d.node)}),r}return I3(H1(e.visibleWrites,n)).forEach(d=>{r=r.updateImmediateChild(d.name,d.node)}),r}(e.writeTree,e.treePath,n)}function N3(e,n,t,r){return function a8(e,n,t,r,s){(0,ln.hu)(r||s,"Either existingEventSnap or existingServerSnap must exist");const o=nc(n,t);if(OP(e.visibleWrites,o))return null;{const d=H1(e.visibleWrites,o);return FP(d)?s.getChild(t):L2(d,s.getChild(t))}}(e.writeTree,e.treePath,n,t,r)}function nI(e,n){return function c8(e,n){return lx(e.visibleWrites,n)}(e.writeTree,nc(e.treePath,n))}function LP(e,n,t){return function l8(e,n,t,r){const s=nc(n,t),o=lx(e.visibleWrites,s);return null!=o?o:r.isCompleteForChild(t)?L2(H1(e.visibleWrites,s),r.getNode().getImmediateChild(t)):null}(e.writeTree,e.treePath,n,t)}function M3(e,n){return O3(nc(e.treePath,n),e.writeTree)}function O3(e,n){return{treePath:e,writeTree:n}}class f8{constructor(){this.changeMap=new Map}trackChildChange(n){const t=n.type,r=n.childName;(0,ln.hu)("child_added"===t||"child_changed"===t||"child_removed"===t,"Only child changes supported for tracking"),(0,ln.hu)(".priority"!==r,"Only non-priority child changes can be tracked.");const s=this.changeMap.get(r);if(s){const o=s.type;if("child_added"===t&&"child_removed"===o)this.changeMap.set(r,AT(r,n.snapshotNode,s.snapshotNode));else if("child_removed"===t&&"child_added"===o)this.changeMap.delete(r);else if("child_removed"===t&&"child_changed"===o)this.changeMap.set(r,ST(r,s.oldSnap));else if("child_changed"===t&&"child_added"===o)this.changeMap.set(r,O2(r,n.snapshotNode));else{if("child_changed"!==t||"child_changed"!==o)throw(0,ln.g5)("Illegal combination of changes: "+n+" occurred after "+s);this.changeMap.set(r,AT(r,n.snapshotNode,s.oldSnap))}}else this.changeMap.set(r,n)}getChanges(){return Array.from(this.changeMap.values())}}const F3=new class p8{getCompleteChild(n){return null}getChildAfterChild(n,t,r){return null}};class UP{constructor(n,t,r=null){this.writes_=n,this.viewCache_=t,this.optCompleteServerCache_=r}getCompleteChild(n){const t=this.viewCache_.eventCache;if(t.isCompleteForChild(n))return t.getNode().getImmediateChild(n);{const r=null!=this.optCompleteServerCache_?new V1(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return LP(this.writes_,n,r)}}getChildAfterChild(n,t,r){const s=null!=this.optCompleteServerCache_?this.optCompleteServerCache_:ax(this.viewCache_),o=function d8(e,n,t,r,s,o){return function u8(e,n,t,r,s,o,d){let g;const m=H1(e.visibleWrites,n),_=lx(m,sa());if(null!=_)g=_;else{if(null==t)return[];g=L2(m,t)}if(g=g.withIndex(d),g.isEmpty()||g.isLeafNode())return[];{const w=[],A=d.getCompare(),N=o?g.getReverseIteratorFrom(r,d):g.getIteratorFrom(r,d);let D=N.getNext();for(;D&&w.length<s;)0!==A(D,r)&&w.push(D),D=N.getNext();return w}}(e.writeTree,e.treePath,n,t,r,s,o)}(this.writes_,s,t,1,r,n);return 0===o.length?null:o[0]}}function R3(e,n,t,r,s,o){const d=n.eventCache;if(null!=nI(r,t))return n;{let g,m;if(wo(t))if((0,ln.hu)(n.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),n.serverCache.isFiltered()){const _=ax(n),A=RP(r,_ instanceof to?_:to.EMPTY_NODE);g=e.filter.updateFullNode(n.eventCache.getNode(),A,o)}else{const _=tI(r,ax(n));g=e.filter.updateFullNode(n.eventCache.getNode(),_,o)}else{const _=xo(t);if(".priority"===_){(0,ln.hu)(1===j1(t),"Can't have a priority with additional path components");const w=d.getNode();m=n.serverCache.getNode();const A=N3(r,t,w,m);g=null!=A?e.filter.updatePriority(w,A):d.getNode()}else{const w=fl(t);let A;if(d.isCompleteForChild(_)){m=n.serverCache.getNode();const N=N3(r,t,d.getNode(),m);A=null!=N?d.getNode().getImmediateChild(_).updateChild(w,N):d.getNode().getImmediateChild(_)}else A=LP(r,_,n.serverCache);g=null!=A?e.filter.updateChild(d.getNode(),_,A,w,s,o):d.getNode()}}return PT(n,g,d.isFullyInitialized()||wo(t),e.filter.filtersNodes())}}function rI(e,n,t,r,s,o,d,g){const m=n.serverCache;let _;const w=d?e.filter:e.filter.getIndexedFilter();if(wo(t))_=w.updateFullNode(m.getNode(),r,null);else if(w.filtersNodes()&&!m.isFiltered()){const D=m.getNode().updateChild(t,r);_=w.updateFullNode(m.getNode(),D,null)}else{const D=xo(t);if(!m.isCompleteForPath(t)&&j1(t)>1)return n;const ee=fl(t),he=m.getNode().getImmediateChild(D).updateChild(ee,r);_=".priority"===D?w.updatePriority(m.getNode(),he):w.updateChild(m.getNode(),D,he,ee,F3,null)}const A=S3(n,_,m.isFullyInitialized()||wo(t),w.filtersNodes());return R3(e,A,t,s,new UP(s,A,o),g)}function BP(e,n,t,r,s,o,d){const g=n.eventCache;let m,_;const w=new UP(s,n,o);if(wo(t))_=e.filter.updateFullNode(n.eventCache.getNode(),r,d),m=PT(n,_,!0,e.filter.filtersNodes());else{const A=xo(t);if(".priority"===A)_=e.filter.updatePriority(n.eventCache.getNode(),r),m=PT(n,_,g.isFullyInitialized(),g.isFiltered());else{const N=fl(t),D=g.getNode().getImmediateChild(A);let ee;if(wo(N))ee=r;else{const B=w.getCompleteChild(A);ee=null!=B?".priority"===gP(N)&&B.getChild(l3(N)).isEmpty()?B:B.updateChild(N,r):to.EMPTY_NODE}m=D.equals(ee)?n:PT(n,e.filter.updateChild(g.getNode(),A,ee,N,w,d),g.isFullyInitialized(),e.filter.filtersNodes())}}return m}function L3(e,n){return e.eventCache.isCompleteForChild(n)}function U3(e,n,t){return t.foreach((r,s)=>{n=n.updateChild(r,s)}),n}function jP(e,n,t,r,s,o,d,g){if(n.serverCache.getNode().isEmpty()&&!n.serverCache.isFullyInitialized())return n;let _,m=n;_=wo(t)?r:new Dl(null).setTree(t,r);const w=n.serverCache.getNode();return _.children.inorderTraversal((A,N)=>{if(w.hasChild(A)){const ee=U3(0,n.serverCache.getNode().getImmediateChild(A),N);m=rI(e,m,new Ea(A),ee,s,o,d,g)}}),_.children.inorderTraversal((A,N)=>{const D=!n.serverCache.isCompleteForChild(A)&&void 0===N.value;if(!w.hasChild(A)&&!D){const B=U3(0,n.serverCache.getNode().getImmediateChild(A),N);m=rI(e,m,new Ea(A),B,s,o,d,g)}}),m}class E8{constructor(n,t){this.query_=n,this.eventRegistrations_=[];const r=this.query_._queryParams,s=new TP(r.getIndex()),o=function L6(e){return e.loadsAllData()?new TP(e.getIndex()):e.hasLimit()?new R6(e):new IT(e)}(r);this.processor_=function g8(e){return{filter:e}}(o);const d=t.serverCache,g=t.eventCache,m=s.updateFullNode(to.EMPTY_NODE,d.getNode(),null),_=o.updateFullNode(to.EMPTY_NODE,g.getNode(),null),w=new V1(m,d.isFullyInitialized(),s.filtersNodes()),A=new V1(_,g.isFullyInitialized(),o.filtersNodes());this.viewCache_=JA(A,w),this.eventGenerator_=new $6(this.query_)}get query(){return this.query_}}function S8(e,n){const t=ax(e.viewCache_);return t&&(e.query._queryParams.loadsAllData()||!wo(n)&&!t.getImmediateChild(xo(n)).isEmpty())?t.getChild(n):null}function B3(e){return 0===e.eventRegistrations_.length}function j3(e,n,t){const r=[];if(t){(0,ln.hu)(null==n,"A cancel should cancel all event registrations.");const s=e.query._path;e.eventRegistrations_.forEach(o=>{const d=o.createCancelEvent(t,s);d&&r.push(d)})}if(n){let s=[];for(let o=0;o<e.eventRegistrations_.length;++o){const d=e.eventRegistrations_[o];if(d.matches(n)){if(n.hasAnyCallback()){s=s.concat(e.eventRegistrations_.slice(o+1));break}}else s.push(d)}e.eventRegistrations_=s}else e.eventRegistrations_=[];return r}function V3(e,n,t,r){n.type===vp.MERGE&&null!==n.source.queryId&&((0,ln.hu)(ax(e.viewCache_),"We should always have a full cache before handling merges"),(0,ln.hu)(QA(e.viewCache_),"Missing event cache, even though we have a server cache"));const s=e.viewCache_,o=function v8(e,n,t,r,s){const o=new f8;let d,g;if(t.type===vp.OVERWRITE){const _=t;_.source.fromUser?d=BP(e,n,_.path,_.snap,r,s,o):((0,ln.hu)(_.source.fromServer,"Unknown source."),g=_.source.tagged||n.serverCache.isFiltered()&&!wo(_.path),d=rI(e,n,_.path,_.snap,r,s,g,o))}else if(t.type===vp.MERGE){const _=t;_.source.fromUser?d=function _8(e,n,t,r,s,o,d){let g=n;return r.foreach((m,_)=>{const w=nc(t,m);L3(n,xo(w))&&(g=BP(e,g,w,_,s,o,d))}),r.foreach((m,_)=>{const w=nc(t,m);L3(n,xo(w))||(g=BP(e,g,w,_,s,o,d))}),g}(e,n,_.path,_.children,r,s,o):((0,ln.hu)(_.source.fromServer,"Unknown source."),g=_.source.tagged||n.serverCache.isFiltered(),d=jP(e,n,_.path,_.children,r,s,g,o))}else if(t.type===vp.ACK_USER_WRITE){const _=t;d=_.revert?function b8(e,n,t,r,s,o){let d;if(null!=nI(r,t))return n;{const g=new UP(r,n,s),m=n.eventCache.getNode();let _;if(wo(t)||".priority"===xo(t)){let w;if(n.serverCache.isFullyInitialized())w=tI(r,ax(n));else{const A=n.serverCache.getNode();(0,ln.hu)(A instanceof to,"serverChildren would be complete if leaf node"),w=RP(r,A)}w=w,_=e.filter.updateFullNode(m,w,o)}else{const w=xo(t);let A=LP(r,w,n.serverCache);null==A&&n.serverCache.isCompleteForChild(w)&&(A=m.getImmediateChild(w)),_=null!=A?e.filter.updateChild(m,w,A,fl(t),g,o):n.eventCache.getNode().hasChild(w)?e.filter.updateChild(m,w,to.EMPTY_NODE,fl(t),g,o):m,_.isEmpty()&&n.serverCache.isFullyInitialized()&&(d=tI(r,ax(n)),d.isLeafNode()&&(_=e.filter.updateFullNode(_,d,o)))}return d=n.serverCache.isFullyInitialized()||null!=nI(r,sa()),PT(n,_,d,e.filter.filtersNodes())}}(e,n,_.path,r,s,o):function x8(e,n,t,r,s,o,d){if(null!=nI(s,t))return n;const g=n.serverCache.isFiltered(),m=n.serverCache;if(null!=r.value){if(wo(t)&&m.isFullyInitialized()||m.isCompleteForPath(t))return rI(e,n,t,m.getNode().getChild(t),s,o,g,d);if(wo(t)){let _=new Dl(null);return m.getNode().forEachChild(Sg,(w,A)=>{_=_.set(new Ea(w),A)}),jP(e,n,t,_,s,o,g,d)}return n}{let _=new Dl(null);return r.foreach((w,A)=>{const N=nc(t,w);m.isCompleteForPath(N)&&(_=_.set(w,m.getNode().getChild(N)))}),jP(e,n,t,_,s,o,g,d)}}(e,n,_.path,_.affectedTree,r,s,o)}else{if(t.type!==vp.LISTEN_COMPLETE)throw(0,ln.g5)("Unknown operation type: "+t.type);d=function w8(e,n,t,r,s){const o=n.serverCache;return R3(e,S3(n,o.getNode(),o.isFullyInitialized()||wo(t),o.isFiltered()),t,r,F3,s)}(e,n,t.path,r,o)}const m=o.getChanges();return function y8(e,n,t){const r=n.eventCache;if(r.isFullyInitialized()){const s=r.getNode().isLeafNode()||r.getNode().isEmpty(),o=QA(e);(t.length>0||!e.eventCache.isFullyInitialized()||s&&!r.getNode().equals(o)||!r.getNode().getPriority().equals(o.getPriority()))&&t.push(b3(QA(n)))}}(n,d,m),{viewCache:d,changes:m}}(e.processor_,s,n,t,r);return function m8(e,n){(0,ln.hu)(n.eventCache.getNode().isIndexed(e.filter.getIndex()),"Event snap not indexed"),(0,ln.hu)(n.serverCache.getNode().isIndexed(e.filter.getIndex()),"Server snap not indexed")}(e.processor_,o.viewCache),(0,ln.hu)(o.viewCache.serverCache.isFullyInitialized()||!s.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),e.viewCache_=o.viewCache,H3(e,o.changes,o.viewCache.eventCache.getNode(),null)}function H3(e,n,t,r){return function Y6(e,n,t,r){const s=[],o=[];return n.forEach(d=>{"child_changed"===d.type&&e.index_.indexedValueChanged(d.oldSnap,d.snapshotNode)&&o.push(function F6(e,n){return{type:"child_moved",snapshotNode:n,childName:e}}(d.childName,d.snapshotNode))}),kT(e,s,"child_removed",n,r,t),kT(e,s,"child_added",n,r,t),kT(e,s,"child_moved",o,r,t),kT(e,s,"child_changed",n,r,t),kT(e,s,"value",n,r,t),s}(e.eventGenerator_,n,t,r?[r]:e.eventRegistrations_)}let iI,oI;class z3{constructor(){this.views=new Map}}function VP(e,n,t,r){const s=n.source.queryId;if(null!==s){const o=e.views.get(s);return(0,ln.hu)(null!=o,"SyncTree gave us an op for an invalid query."),V3(o,n,t,r)}{let o=[];for(const d of e.views.values())o=o.concat(V3(d,n,t,r));return o}}function HP(e,n,t,r,s){const d=e.views.get(n._queryIdentifier);if(!d){let g=tI(t,s?r:null),m=!1;g?m=!0:r instanceof to?(g=RP(t,r),m=!1):(g=to.EMPTY_NODE,m=!1);const _=JA(new V1(g,m,!1),new V1(r,s,!1));return new E8(n,_)}return d}function W3(e){const n=[];for(const t of e.views.values())t.query._queryParams.loadsAllData()||n.push(t);return n}function z1(e,n){let t=null;for(const r of e.views.values())t=t||S8(r,n);return t}function q3(e,n){return n._queryParams.loadsAllData()?sI(e):e.views.get(n._queryIdentifier)}function G3(e,n){return null!=q3(e,n)}function W1(e){return null!=sI(e)}function sI(e){for(const n of e.views.values())if(n.query._queryParams.loadsAllData())return n;return null}let R8=1;class Z3{constructor(n){this.listenProvider_=n,this.syncPointTree_=new Dl(null),this.pendingWriteTree_=function h8(){return{visibleWrites:h0.empty(),allWrites:[],lastWriteId:-1}}(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function zP(e,n,t,r,s){return function Q6(e,n,t,r,s){(0,ln.hu)(r>e.lastWriteId,"Stacking an older write on top of newer ones"),void 0===s&&(s=!0),e.allWrites.push({path:n,snap:t,writeId:r,visible:s}),s&&(e.visibleWrites=NT(e.visibleWrites,n,t)),e.lastWriteId=r}(e.pendingWriteTree_,n,t,r,s),s?U2(e,new ox({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},n,t)):[]}function q1(e,n,t=!1){const r=function t8(e,n){for(let t=0;t<e.allWrites.length;t++){const r=e.allWrites[t];if(r.writeId===n)return r}return null}(e.pendingWriteTree_,n);if(function n8(e,n){const t=e.allWrites.findIndex(g=>g.writeId===n);(0,ln.hu)(t>=0,"removeWrite called with nonexistent writeId.");const r=e.allWrites[t];e.allWrites.splice(t,1);let s=r.visible,o=!1,d=e.allWrites.length-1;for(;s&&d>=0;){const g=e.allWrites[d];g.visible&&(d>=t&&r8(g,r.path)?s=!1:mp(r.path,g.path)&&(o=!0)),d--}return!!s&&(o?(function i8(e){e.visibleWrites=k3(e.allWrites,s8,sa()),e.lastWriteId=e.allWrites.length>0?e.allWrites[e.allWrites.length-1].writeId:-1}(e),!0):(r.snap?e.visibleWrites=A3(e.visibleWrites,r.path):ju(r.children,m=>{e.visibleWrites=A3(e.visibleWrites,nc(r.path,m))}),!0))}(e.pendingWriteTree_,n)){let o=new Dl(null);return null!=r.snap?o=o.set(sa(),!0):ju(r.children,d=>{o=o.set(new Ea(d),!0)}),U2(e,new XA(r.path,o,t))}return[]}function MT(e,n,t){return U2(e,new ox({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},n,t))}function aI(e,n,t,r){const s=n._path,o=e.syncPointTree_.get(s);let d=[];if(o&&("default"===n._queryIdentifier||G3(o,n))){const g=function M8(e,n,t,r){const s=n._queryIdentifier,o=[];let d=[];const g=W1(e);if("default"===s)for(const[m,_]of e.views.entries())d=d.concat(j3(_,t,r)),B3(_)&&(e.views.delete(m),_.query._queryParams.loadsAllData()||o.push(_.query));else{const m=e.views.get(s);m&&(d=d.concat(j3(m,t,r)),B3(m)&&(e.views.delete(s),m.query._queryParams.loadsAllData()||o.push(m.query)))}return g&&!W1(e)&&o.push(new(function k8(){return(0,ln.hu)(iI,"Reference.ts has not been loaded"),iI}())(n._repo,n._path)),{removed:o,events:d}}(o,n,t,r);(function P8(e){return 0===e.views.size})(o)&&(e.syncPointTree_=e.syncPointTree_.remove(s));const m=g.removed;d=g.events;const _=-1!==m.findIndex(A=>A._queryParams.loadsAllData()),w=e.syncPointTree_.findOnPath(s,(A,N)=>W1(N));if(_&&!w){const A=e.syncPointTree_.subtree(s);if(!A.isEmpty()){const N=function W8(e){return e.fold((n,t,r)=>{if(t&&W1(t))return[sI(t)];{let s=[];return t&&(s=W3(t)),ju(r,(o,d)=>{s=s.concat(d)}),s}})}(A);for(let D=0;D<N.length;++D){const ee=N[D],B=ee.query,he=Q3(e,ee);e.listenProvider_.startListening(FT(B),OT(e,B),he.hashFn,he.onComplete)}}}!w&&m.length>0&&!r&&(_?e.listenProvider_.stopListening(FT(n),null):m.forEach(A=>{const N=e.queryToTagMap.get(cI(A));e.listenProvider_.stopListening(FT(A),N)})),function q8(e,n){for(let t=0;t<n.length;++t){const r=n[t];if(!r._queryParams.loadsAllData()){const s=cI(r),o=e.queryToTagMap.get(s);e.queryToTagMap.delete(s),e.tagToQueryMap.delete(o)}}}(e,m)}return d}function $3(e,n,t,r){const s=WP(e,r);if(null!=s){const o=qP(s),d=o.path,g=o.queryId,m=dd(d,n);return GP(e,d,new ox(PP(g),m,t))}return[]}function Y3(e,n){const t=e._path;let r=null,s=!1;n.syncPointTree_.foreachOnPath(t,(_,w)=>{const A=dd(_,t);r=r||z1(w,A),s=s||W1(w)});let d,o=n.syncPointTree_.get(t);o?(s=s||W1(o),r=r||z1(o,sa())):(o=new z3,n.syncPointTree_=n.syncPointTree_.set(t,o)),null!=r?d=!0:(d=!1,r=to.EMPTY_NODE,n.syncPointTree_.subtree(t).foreachChild((w,A)=>{const N=z1(A,sa());N&&(r=r.updateImmediateChild(w,N))}));const g=G3(o,e);if(!g&&!e._queryParams.loadsAllData()){const _=cI(e);(0,ln.hu)(!n.queryToTagMap.has(_),"View does not exist, but we have a tag");const w=function G8(){return R8++}();n.queryToTagMap.set(_,w),n.tagToQueryMap.set(w,_)}return{syncPoint:o,writesCache:eI(n.pendingWriteTree_,t),serverCache:r,serverCacheComplete:d,foundAncestorDefaultView:s,viewAlreadyExists:g}}function K3(e,n,t){const{syncPoint:r,serverCache:s,writesCache:o,serverCacheComplete:d,viewAlreadyExists:g,foundAncestorDefaultView:m}=Y3(n,e);let _=function N8(e,n,t,r,s,o){const d=HP(e,n,r,s,o);return e.views.has(n._queryIdentifier)||e.views.set(n._queryIdentifier,d),function A8(e,n){e.eventRegistrations_.push(n)}(d,t),function I8(e,n){const t=e.viewCache_.eventCache,r=[];return t.getNode().isLeafNode()||t.getNode().forEachChild(Il,(o,d)=>{r.push(O2(o,d))}),t.isFullyInitialized()&&r.push(b3(t.getNode())),H3(e,r,t.getNode(),n)}(d,t)}(r,n,t,o,s,d);if(!g&&!m){const w=q3(r,n);_=_.concat(function Z8(e,n,t){const r=n._path,s=OT(e,n),o=Q3(e,t),d=e.listenProvider_.startListening(FT(n),s,o.hashFn,o.onComplete),g=e.syncPointTree_.subtree(r);if(s)(0,ln.hu)(!W1(g.value),"If we're adding a query, it shouldn't be shadowed");else{const m=g.fold((_,w,A)=>{if(!wo(_)&&w&&W1(w))return[sI(w).query];{let N=[];return w&&(N=N.concat(W3(w).map(D=>D.query))),ju(A,(D,ee)=>{N=N.concat(ee)}),N}});for(let _=0;_<m.length;++_){const w=m[_];e.listenProvider_.stopListening(FT(w),OT(e,w))}}return d}(e,n,w))}return _}function lI(e,n,t){const s=e.pendingWriteTree_,o=e.syncPointTree_.findOnPath(n,(d,g)=>{const _=z1(g,dd(d,n));if(_)return _});return P3(s,n,o,t,!0)}function U2(e,n){return X3(n,e.syncPointTree_,null,eI(e.pendingWriteTree_,sa()))}function X3(e,n,t,r){if(wo(e.path))return J3(e,n,t,r);{const s=n.get(sa());null==t&&null!=s&&(t=z1(s,sa()));let o=[];const d=xo(e.path),g=e.operationForChild(d),m=n.children.get(d);if(m&&g){const _=t?t.getImmediateChild(d):null,w=M3(r,d);o=o.concat(X3(g,m,_,w))}return s&&(o=o.concat(VP(s,e,r,t))),o}}function J3(e,n,t,r){const s=n.get(sa());null==t&&null!=s&&(t=z1(s,sa()));let o=[];return n.children.inorderTraversal((d,g)=>{const m=t?t.getImmediateChild(d):null,_=M3(r,d),w=e.operationForChild(d);w&&(o=o.concat(J3(w,g,m,_)))}),s&&(o=o.concat(VP(s,e,r,t))),o}function Q3(e,n){const t=n.query,r=OT(e,t);return{hashFn:()=>(function T8(e){return e.viewCache_.serverCache.getNode()}(n)||to.EMPTY_NODE).hash(),onComplete:s=>{if("ok"===s)return r?function j8(e,n,t){const r=WP(e,t);if(r){const s=qP(r),o=s.path,d=s.queryId,g=dd(o,n);return GP(e,o,new DT(PP(d),g))}return[]}(e,t._path,r):function B8(e,n){return U2(e,new DT({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},n))}(e,t._path);{const o=function UL(e,n){let t="Unknown Error";"too_big"===e?t="The data requested exceeds the maximum size that can be accessed with a single request.":"permission_denied"===e?t="Client doesn't have permission to access the desired data.":"unavailable"===e&&(t="The service is unavailable");const r=new Error(e+" at "+n._path.toString()+": "+t);return r.code=e.toUpperCase(),r}(s,t);return aI(e,t,null,o)}}}}function OT(e,n){const t=cI(n);return e.queryToTagMap.get(t)}function cI(e){return e._path.toString()+"$"+e._queryIdentifier}function WP(e,n){return e.tagToQueryMap.get(n)}function qP(e){const n=e.indexOf("$");return(0,ln.hu)(-1!==n&&n<e.length-1,"Bad queryKey."),{queryId:e.substr(n+1),path:new Ea(e.substr(0,n))}}function GP(e,n,t){const r=e.syncPointTree_.get(n);return(0,ln.hu)(r,"Missing sync point for query tag that we're tracking"),VP(r,t,eI(e.pendingWriteTree_,n),null)}function FT(e){return e._queryParams.loadsAllData()&&!e._queryParams.isDefault()?new(function F8(){return(0,ln.hu)(oI,"Reference.ts has not been loaded"),oI}())(e._repo,e._path):e}class ZP{constructor(n){this.node_=n}getImmediateChild(n){const t=this.node_.getImmediateChild(n);return new ZP(t)}node(){return this.node_}}class $P{constructor(n,t){this.syncTree_=n,this.path_=t}getImmediateChild(n){const t=nc(this.path_,n);return new $P(this.syncTree_,t)}node(){return lI(this.syncTree_,this.path_)}}const eF=function(e,n,t){return e&&"object"==typeof e?((0,ln.hu)(".sv"in e,"Unexpected leaf node or priority contents"),"string"==typeof e[".sv"]?Y8(e[".sv"],n,t):"object"==typeof e[".sv"]?K8(e[".sv"],n):void(0,ln.hu)(!1,"Unexpected server value: "+JSON.stringify(e,null,2))):e},Y8=function(e,n,t){if("timestamp"===e)return t.timestamp;(0,ln.hu)(!1,"Unexpected server value: "+e)},K8=function(e,n,t){e.hasOwnProperty("increment")||(0,ln.hu)(!1,"Unexpected server value: "+JSON.stringify(e,null,2));const r=e.increment;"number"!=typeof r&&(0,ln.hu)(!1,"Unexpected increment value: "+r);const s=n.node();if((0,ln.hu)(null!=s,"Expected ChildrenNode.EMPTY_NODE for nulls"),!s.isLeafNode())return r;const d=s.getValue();return"number"!=typeof d?r:d+r},tF=function(e,n,t,r){return KP(n,new $P(t,e),r)},YP=function(e,n,t){return KP(e,new ZP(n),t)};function KP(e,n,t){const r=e.getPriority().val(),s=eF(r,n.getImmediateChild(".priority"),t);let o;if(e.isLeafNode()){const d=e,g=eF(d.getValue(),n,t);return g!==d.getValue()||s!==d.getPriority().val()?new P2(g,wc(s)):e}{const d=e;return o=d,s!==d.getPriority().val()&&(o=o.updatePriority(new P2(s))),d.forEachChild(Il,(g,m)=>{const _=KP(m,n.getImmediateChild(g),t);_!==m&&(o=o.updateImmediateChild(g,_))}),o}}class XP{constructor(n="",t=null,r={children:{},childCount:0}){this.name=n,this.parent=t,this.node=r}}function uI(e,n){let t=n instanceof Ea?n:new Ea(n),r=e,s=xo(t);for(;null!==s;){const o=(0,ln.DV)(r.node.children,s)||{children:{},childCount:0};r=new XP(s,r,o),t=fl(t),s=xo(t)}return r}function cx(e){return e.node.value}function JP(e,n){e.node.value=n,QP(e)}function nF(e){return e.node.childCount>0}function hI(e,n){ju(e.node.children,(t,r)=>{n(new XP(t,e,r))})}function rF(e,n,t,r){t&&!r&&n(e),hI(e,s=>{rF(s,n,!0,r)}),t&&r&&n(e)}function RT(e){return new Ea(null===e.parent?e.name:RT(e.parent)+"/"+e.name)}function QP(e){null!==e.parent&&function Q8(e,n,t){const r=function X8(e){return void 0===cx(e)&&!nF(e)}(t),s=(0,ln.r3)(e.node.children,n);r&&s?(delete e.node.children[n],e.node.childCount--,QP(e)):!r&&!s&&(e.node.children[n]=t.node,e.node.childCount++,QP(e))}(e.parent,e.name,e)}const eU=/[\[\].#$\/\u0000-\u001F\u007F]/,tU=/[\[\].#$\u0000-\u001F\u007F]/,eN=10485760,dI=function(e){return"string"==typeof e&&0!==e.length&&!eU.test(e)},iF=function(e){return"string"==typeof e&&0!==e.length&&!tU.test(e)},LT=function(e){return null===e||"string"==typeof e||"number"==typeof e&&!UA(e)||e&&"object"==typeof e&&(0,ln.r3)(e,".sv")},Ag=function(e,n,t,r){r&&void 0===n||UT((0,ln.gK)(e,"value"),n,t)},UT=function(e,n,t){const r=t instanceof Ea?new g6(t,e):t;if(void 0===n)throw new Error(e+"contains undefined "+ix(r));if("function"==typeof n)throw new Error(e+"contains a function "+ix(r)+" with contents = "+n.toString());if(UA(n))throw new Error(e+"contains "+n.toString()+" "+ix(r));if("string"==typeof n&&n.length>eN/3&&(0,ln.ug)(n)>eN)throw new Error(e+"contains a string greater than "+eN+" utf8 bytes "+ix(r)+" ('"+n.substring(0,50)+"...')");if(n&&"object"==typeof n){let s=!1,o=!1;if(ju(n,(d,g)=>{if(".value"===d)s=!0;else if(".priority"!==d&&".sv"!==d&&(o=!0,!dI(d)))throw new Error(e+" contains an invalid key ("+d+") "+ix(r)+'.  Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');(function m6(e,n){e.parts_.length>0&&(e.byteLength_+=1),e.parts_.push(n),e.byteLength_+=(0,ln.ug)(n),c3(e)})(r,d),UT(e,g,r),function v6(e){const n=e.parts_.pop();e.byteLength_-=(0,ln.ug)(n),e.parts_.length>0&&(e.byteLength_-=1)}(r)}),s&&o)throw new Error(e+' contains ".value" child '+ix(r)+" in addition to actual children.")}},sF=function(e,n,t,r){if(r&&void 0===n)return;const s=(0,ln.gK)(e,"values");if(!n||"object"!=typeof n||Array.isArray(n))throw new Error(s+" must be an object containing the children to replace.");const o=[];ju(n,(d,g)=>{const m=new Ea(d);if(UT(s,g,nc(t,m)),".priority"===gP(m)&&!LT(g))throw new Error(s+"contains an invalid value for '"+m.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");o.push(m)}),function(e,n){let t,r;for(t=0;t<n.length;t++){r=n[t];const o=bT(r);for(let d=0;d<o.length;d++)if((".priority"!==o[d]||d!==o.length-1)&&!dI(o[d]))throw new Error(e+"contains an invalid key ("+o[d]+") in path "+r.toString()+'. Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"')}n.sort(p6);let s=null;for(t=0;t<n.length;t++){if(r=n[t],null!==s&&mp(s,r))throw new Error(e+"contains a path "+s.toString()+" that is ancestor of another path "+r.toString());s=r}}(s,o)},tN=function(e,n,t){if(!t||void 0!==n){if(UA(n))throw new Error((0,ln.gK)(e,"priority")+"is "+n.toString()+", but must be a valid Firebase priority (a string, finite number, server value, or null).");if(!LT(n))throw new Error((0,ln.gK)(e,"priority")+"must be a valid Firebase priority (a string, finite number, server value, or null).")}},BT=function(e,n,t,r){if(!(r&&void 0===t||dI(t)))throw new Error((0,ln.gK)(e,n)+'was an invalid key = "'+t+'".  Firebase keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]").')},jT=function(e,n,t,r){if(!(r&&void 0===t||iF(t)))throw new Error((0,ln.gK)(e,n)+'was an invalid path = "'+t+'". Paths must be non-empty strings and can\'t contain ".", "#", "$", "[", or "]"')},yp=function(e,n){if(".info"===xo(n))throw new Error(e+" failed = Can't modify data under /.info/")},oF=function(e,n){const t=n.path.toString();if("string"!=typeof n.repoInfo.host||0===n.repoInfo.host.length||!dI(n.repoInfo.namespace)&&"localhost"!==n.repoInfo.host.split(":")[0]||0!==t.length&&!function(e){return e&&(e=e.replace(/^\/*\.info(\/|$)/,"/")),iF(e)}(t))throw new Error((0,ln.gK)(e,"url")+'must be a valid firebase URL and the path can\'t contain ".", "#", "$", "[", or "]".')};class sU{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function fI(e,n){let t=null;for(let r=0;r<n.length;r++){const s=n[r],o=s.getPath();null!==t&&!mP(o,t.path)&&(e.eventLists_.push(t),t=null),null===t&&(t={events:[],path:o}),t.events.push(s)}t&&e.eventLists_.push(t)}function aF(e,n,t){fI(e,t),lF(e,r=>mP(r,n))}function _p(e,n,t){fI(e,t),lF(e,r=>mp(r,n)||mp(n,r))}function lF(e,n){e.recursionDepth_++;let t=!0;for(let r=0;r<e.eventLists_.length;r++){const s=e.eventLists_[r];s&&(n(s.path)?(oU(e.eventLists_[r]),e.eventLists_[r]=null):t=!1)}t&&(e.eventLists_=[]),e.recursionDepth_--}function oU(e){for(let n=0;n<e.events.length;n++){const t=e.events[n];if(null!==t){e.events[n]=null;const r=t.getEventRunner();nx&&Bu("event: "+t.toString()),D2(r)}}}const cF="repo_interrupt";class lU{constructor(n,t,r,s){this.repoInfo_=n,this.forceRestClient_=t,this.authTokenProvider_=r,this.appCheckProvider_=s,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new sU,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=KA(),this.transactionQueueTree_=new XP,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function uF(e){const t=e.infoData_.getNode(new Ea(".info/serverTimeOffset")).val()||0;return(new Date).getTime()+t}function VT(e){return function(e){return(e=e||{}).timestamp=e.timestamp||(new Date).getTime(),e}({timestamp:uF(e)})}function hF(e,n,t,r,s){e.dataUpdateCount++;const o=new Ea(n);t=e.interceptServerDataCallback_?e.interceptServerDataCallback_(n,t):t;let d=[];if(s)if(r){const m=(0,ln.UI)(t,_=>wc(_));d=function H8(e,n,t,r){const s=WP(e,r);if(s){const o=qP(s),d=o.path,g=o.queryId,m=dd(d,n),_=Dl.fromObject(t);return GP(e,d,new R2(PP(g),m,_))}return[]}(e.serverSyncTree_,o,m,s)}else{const m=wc(t);d=$3(e.serverSyncTree_,o,m,s)}else if(r){const m=(0,ln.UI)(t,_=>wc(_));d=function U8(e,n,t){const r=Dl.fromObject(t);return U2(e,new R2({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},n,r))}(e.serverSyncTree_,o,m)}else{const m=wc(t);d=MT(e.serverSyncTree_,o,m)}let g=o;d.length>0&&(g=B2(e,o)),_p(e.eventQueue_,g,d)}function dF(e,n){nN(e,"connected",n),!1===n&&function fU(e){ux(e,"onDisconnectEvents");const n=VT(e),t=KA();IP(e.onDisconnect_,sa(),(s,o)=>{const d=tF(s,o,e.serverSyncTree_,n);F2(t,s,d)});let r=[];IP(t,sa(),(s,o)=>{r=r.concat(MT(e.serverSyncTree_,s,o));const d=oN(e,s);B2(e,d)}),e.onDisconnect_=KA(),_p(e.eventQueue_,sa(),r)}(e)}function nN(e,n,t){const r=new Ea("/.info/"+n),s=wc(t);e.infoData_.updateSnapshot(r,s);const o=MT(e.infoSyncTree_,r,s);_p(e.eventQueue_,r,o)}function pI(e){return e.nextWriteId_++}function hU(e,n){const t=function z8(e,n){const t=n._path;let r=null;e.syncPointTree_.foreachOnPath(t,(_,w)=>{const A=dd(_,t);r=r||z1(w,A)});let s=e.syncPointTree_.get(t);s?r=r||z1(s,sa()):(s=new z3,e.syncPointTree_=e.syncPointTree_.set(t,s));const o=null!=r,d=o?new V1(r,!0,!1):null;return function C8(e){return QA(e.viewCache_)}(HP(s,n,eI(e.pendingWriteTree_,n._path),o?d.getNode():to.EMPTY_NODE,o))}(e.serverSyncTree_,n);return null!=t?Promise.resolve(t):e.server_.get(n).then(r=>{const s=wc(r).withIndex(n._queryParams.getIndex());if(n._queryParams.loadsAllData())MT(e.serverSyncTree_,n._path,s);else{const d=function V8(e,n){const{syncPoint:t,serverCache:r,writesCache:s,serverCacheComplete:o}=Y3(n,e),d=HP(t,n,s,r,o);return t.views.has(n._queryIdentifier)||t.views.set(n._queryIdentifier,d),n._queryParams.loadsAllData()?null:OT(e,n)}(e.serverSyncTree_,n);$3(e.serverSyncTree_,n._path,s,d)}return aI(e.serverSyncTree_,n,null).length>0&&ux(e,"unexpected cancel events in repoGetValue"),s},r=>(ux(e,"get for query "+(0,ln.Pz)(n)+" failed: "+r),Promise.reject(new Error(r))))}function rN(e,n,t,r,s){ux(e,"set",{path:n.toString(),value:t,priority:r});const o=VT(e),d=wc(t,r),g=lI(e.serverSyncTree_,n),m=YP(d,g,o),_=pI(e),w=zP(e.serverSyncTree_,n,m,_,!0);fI(e.eventQueue_,w),e.server_.put(n.toString(),d.val(!0),(N,D)=>{const ee="ok"===N;ee||Mh("set at "+n+" failed: "+N);const B=q1(e.serverSyncTree_,_,!ee);_p(e.eventQueue_,n,B),G1(0,s,N,D)});const A=oN(e,n);B2(e,A),_p(e.eventQueue_,A,[])}function pU(e,n,t){e.server_.onDisconnectCancel(n.toString(),(r,s)=>{"ok"===r&&AP(e.onDisconnect_,n),G1(0,t,r,s)})}function fF(e,n,t,r){const s=wc(t);e.server_.onDisconnectPut(n.toString(),s.val(!0),(o,d)=>{"ok"===o&&F2(e.onDisconnect_,n,s),G1(0,r,o,d)})}function iN(e,n,t){let r;r=".info"===xo(n._path)?aI(e.infoSyncTree_,n,t):aI(e.serverSyncTree_,n,t),aF(e.eventQueue_,n._path,r)}function pF(e){e.persistentConnection_&&e.persistentConnection_.interrupt(cF)}function ux(e,...n){let t="";e.persistentConnection_&&(t=e.persistentConnection_.id+":"),Bu(t,...n)}function G1(e,n,t,r){n&&D2(()=>{if("ok"===t)n(null);else{const s=(t||"error").toUpperCase();let o=s;r&&(o+=": "+r);const d=new Error(o);d.code=s,n(d)}})}function sN(e,n,t){return lI(e.serverSyncTree_,n,t)||to.EMPTY_NODE}function gI(e,n=e.transactionQueueTree_){if(n||mI(e,n),cx(n)){const t=mF(e,n);(0,ln.hu)(t.length>0,"Sending zero length transaction queue"),t.every(s=>0===s.status)&&function xU(e,n,t){const r=t.map(_=>_.currentWriteId),s=sN(e,n,r);let o=s;const d=s.hash();for(let _=0;_<t.length;_++){const w=t[_];(0,ln.hu)(0===w.status,"tryToSendTransactionQueue_: items in queue should all be run."),w.status=1,w.retryCount++;const A=dd(n,w.path);o=o.updateChild(A,w.currentOutputSnapshotRaw)}const g=o.val(!0),m=n;e.server_.put(m.toString(),g,_=>{ux(e,"transaction put response",{path:m.toString(),status:_});let w=[];if("ok"===_){const A=[];for(let N=0;N<t.length;N++)t[N].status=2,w=w.concat(q1(e.serverSyncTree_,t[N].currentWriteId)),t[N].onComplete&&A.push(()=>t[N].onComplete(null,!0,t[N].currentOutputSnapshotResolved)),t[N].unwatcher();mI(e,uI(e.transactionQueueTree_,n)),gI(e,e.transactionQueueTree_),_p(e.eventQueue_,n,w);for(let N=0;N<A.length;N++)D2(A[N])}else{if("datastale"===_)for(let A=0;A<t.length;A++)t[A].status=3===t[A].status?4:0;else{Mh("transaction at "+m.toString()+" failed: "+_);for(let A=0;A<t.length;A++)t[A].status=4,t[A].abortReason=_}B2(e,n)}},d)}(e,RT(n),t)}else nF(n)&&hI(n,t=>{gI(e,t)})}function B2(e,n){const t=gF(e,n),r=RT(t);return function wU(e,n,t){if(0===n.length)return;const r=[];let s=[];const d=n.filter(g=>0===g.status).map(g=>g.currentWriteId);for(let g=0;g<n.length;g++){const m=n[g],_=dd(t,m.path);let A,w=!1;if((0,ln.hu)(null!==_,"rerunTransactionsUnderNode_: relativePath should not be null."),4===m.status)w=!0,A=m.abortReason,s=s.concat(q1(e.serverSyncTree_,m.currentWriteId,!0));else if(0===m.status)if(m.retryCount>=25)w=!0,A="maxretry",s=s.concat(q1(e.serverSyncTree_,m.currentWriteId,!0));else{const N=sN(e,m.path,d);m.currentInputSnapshot=N;const D=n[g].update(N.val());if(void 0!==D){UT("transaction failed: Data returned ",D,m.path);let ee=wc(D);"object"==typeof D&&null!=D&&(0,ln.r3)(D,".priority")||(ee=ee.updatePriority(N.getPriority()));const he=m.currentWriteId,Pe=VT(e),je=YP(ee,N,Pe);m.currentOutputSnapshotRaw=ee,m.currentOutputSnapshotResolved=je,m.currentWriteId=pI(e),d.splice(d.indexOf(he),1),s=s.concat(zP(e.serverSyncTree_,m.path,je,m.currentWriteId,m.applyLocally)),s=s.concat(q1(e.serverSyncTree_,he,!0))}else w=!0,A="nodata",s=s.concat(q1(e.serverSyncTree_,m.currentWriteId,!0))}_p(e.eventQueue_,t,s),s=[],w&&(n[g].status=2,setTimeout(n[g].unwatcher,Math.floor(0)),n[g].onComplete&&r.push("nodata"===A?()=>n[g].onComplete(null,!1,n[g].currentInputSnapshot):()=>n[g].onComplete(new Error(A),!1,null)))}mI(e,e.transactionQueueTree_);for(let g=0;g<r.length;g++)D2(r[g]);gI(e,e.transactionQueueTree_)}(e,mF(e,t),r),r}function gF(e,n){let t,r=e.transactionQueueTree_;for(t=xo(n);null!==t&&void 0===cx(r);)r=uI(r,t),t=xo(n=fl(n));return r}function mF(e,n){const t=[];return vF(e,n,t),t.sort((r,s)=>r.order-s.order),t}function vF(e,n,t){const r=cx(n);if(r)for(let s=0;s<r.length;s++)t.push(r[s]);hI(n,s=>{vF(e,s,t)})}function mI(e,n){const t=cx(n);if(t){let r=0;for(let s=0;s<t.length;s++)2!==t[s].status&&(t[r]=t[s],r++);t.length=r,JP(n,t.length>0?t:void 0)}hI(n,r=>{mI(e,r)})}function oN(e,n){const t=RT(gF(e,n)),r=uI(e.transactionQueueTree_,n);return function J8(e,n,t){let r=t?e:e.parent;for(;null!==r;){if(n(r))return!0;r=r.parent}}(r,s=>{aN(e,s)}),aN(e,r),rF(r,s=>{aN(e,s)}),t}function aN(e,n){const t=cx(n);if(t){const r=[];let s=[],o=-1;for(let d=0;d<t.length;d++)3===t[d].status||(1===t[d].status?((0,ln.hu)(o===d-1,"All SENT items should be at beginning of queue."),o=d,t[d].status=3,t[d].abortReason="set"):((0,ln.hu)(0===t[d].status,"Unexpected transaction status in abort"),t[d].unwatcher(),s=s.concat(q1(e.serverSyncTree_,t[d].currentWriteId,!0)),t[d].onComplete&&r.push(t[d].onComplete.bind(null,new Error("set"),!1,null))));-1===o?JP(n,void 0):t.length=o+1,_p(e.eventQueue_,RT(n),s);for(let d=0;d<r.length;d++)D2(r[d])}}const lN=function(e,n){const t=TU(e),r=t.namespace;return"firebase.com"===t.domain&&Tg(t.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!r||"undefined"===r)&&"localhost"!==t.domain&&Tg("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),t.secure||"undefined"!=typeof window&&window.location&&window.location.protocol&&-1!==window.location.protocol.indexOf("https:")&&Mh("Insecure Firebase access from a secure page. Please use https in calls to new Firebase()."),{repoInfo:new cP(t.host,t.secure,r,"ws"===t.scheme||"wss"===t.scheme,n,"",r!==t.subdomain),path:new Ea(t.pathString)}},TU=function(e){let n="",t="",r="",s="",o="",d=!0,g="https",m=443;if("string"==typeof e){let _=e.indexOf("//");_>=0&&(g=e.substring(0,_-1),e=e.substring(_+2));let w=e.indexOf("/");-1===w&&(w=e.length);let A=e.indexOf("?");-1===A&&(A=e.length),n=e.substring(0,Math.min(w,A)),w<A&&(s=function bU(e){let n="";const t=e.split("/");for(let r=0;r<t.length;r++)if(t[r].length>0){let s=t[r];try{s=decodeURIComponent(s.replace(/\+/g," "))}catch(o){}n+="/"+s}return n}(e.substring(w,A)));const N=function EU(e){const n={};"?"===e.charAt(0)&&(e=e.substring(1));for(const t of e.split("&")){if(0===t.length)continue;const r=t.split("=");2===r.length?n[decodeURIComponent(r[0])]=decodeURIComponent(r[1]):Mh(`Invalid query segment '${t}' in query '${e}'`)}return n}(e.substring(Math.min(e.length,A)));_=n.indexOf(":"),_>=0?(d="https"===g||"wss"===g,m=parseInt(n.substring(_+1),10)):_=n.length;const D=n.slice(0,_);if("localhost"===D.toLowerCase())t="localhost";else if(D.split(".").length<=2)t=D;else{const ee=n.indexOf(".");r=n.substring(0,ee).toLowerCase(),t=n.substring(ee+1),o=r}"ns"in N&&(o=N.ns)}return{host:n,port:m,domain:t,subdomain:r,secure:d,scheme:g,pathString:s,namespace:o}};class yF{constructor(n,t,r,s){this.eventType=n,this.eventRegistration=t,this.snapshot=r,this.prevName=s}getPath(){const n=this.snapshot.ref;return"value"===this.eventType?n._path:n.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+(0,ln.Pz)(this.snapshot.exportVal())}}class _F{constructor(n,t,r){this.eventRegistration=n,this.error=t,this.path=r}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}}class xF{constructor(n,t){this.snapshotCallback=n,this.cancelCallback=t}onValue(n,t){this.snapshotCallback.call(null,n,t)}onCancel(n){return(0,ln.hu)(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,n)}get hasCancelCallback(){return!!this.cancelCallback}matches(n){return this.snapshotCallback===n.snapshotCallback||void 0!==this.snapshotCallback.userCallback&&this.snapshotCallback.userCallback===n.snapshotCallback.userCallback&&this.snapshotCallback.context===n.snapshotCallback.context}}class wF{constructor(n,t){this._repo=n,this._path=t}cancel(){const n=new ln.BH;return pU(this._repo,this._path,n.wrapCallback(()=>{})),n.promise}remove(){yp("OnDisconnect.remove",this._path);const n=new ln.BH;return fF(this._repo,this._path,null,n.wrapCallback(()=>{})),n.promise}set(n){yp("OnDisconnect.set",this._path),Ag("OnDisconnect.set",n,this._path,!1);const t=new ln.BH;return fF(this._repo,this._path,n,t.wrapCallback(()=>{})),t.promise}setWithPriority(n,t){yp("OnDisconnect.setWithPriority",this._path),Ag("OnDisconnect.setWithPriority",n,this._path,!1),tN("OnDisconnect.setWithPriority",t,!1);const r=new ln.BH;return function gU(e,n,t,r,s){const o=wc(t,r);e.server_.onDisconnectPut(n.toString(),o.val(!0),(d,g)=>{"ok"===d&&F2(e.onDisconnect_,n,o),G1(0,s,d,g)})}(this._repo,this._path,n,t,r.wrapCallback(()=>{})),r.promise}update(n){yp("OnDisconnect.update",this._path),sF("OnDisconnect.update",n,this._path,!1);const t=new ln.BH;return function mU(e,n,t,r){if((0,ln.xb)(t))return Bu("onDisconnect().update() called with empty data.  Don't do anything."),void G1(0,r,"ok",void 0);e.server_.onDisconnectMerge(n.toString(),t,(s,o)=>{"ok"===s&&ju(t,(d,g)=>{const m=wc(g);F2(e.onDisconnect_,nc(n,d),m)}),G1(0,r,s,o)})}(this._repo,this._path,n,t.wrapCallback(()=>{})),t.promise}}class Zd{constructor(n,t,r,s){this._repo=n,this._path=t,this._queryParams=r,this._orderByCalled=s}get key(){return wo(this._path)?null:gP(this._path)}get ref(){return new xp(this._repo,this._path)}get _queryIdentifier(){const n=T3(this._queryParams),t=oP(n);return"{}"===t?"default":t}get _queryObject(){return T3(this._queryParams)}isEqual(n){if(!((n=(0,ln.m9)(n))instanceof Zd))return!1;const t=this._repo===n._repo,r=mP(this._path,n._path);return t&&r&&this._queryIdentifier===n._queryIdentifier}toJSON(){return this.toString()}toString(){return this._repo.toString()+function f6(e){let n="";for(let t=e.pieceNum_;t<e.pieces_.length;t++)""!==e.pieces_[t]&&(n+="/"+encodeURIComponent(String(e.pieces_[t])));return n||"/"}(this._path)}}function vI(e,n){if(!0===e._orderByCalled)throw new Error(n+": You can't combine multiple orderBy calls.")}function Z1(e){let n=null,t=null;if(e.hasStart()&&(n=e.getIndexStartValue()),e.hasEnd()&&(t=e.getIndexEndValue()),e.getIndex()===Sg){const r="Query: When ordering by key, you may only pass one argument to startAt(), endAt(), or equalTo().",s="Query: When ordering by key, the argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() must be a string.";if(e.hasStart()){if(e.getIndexStartName()!==Um)throw new Error(r);if("string"!=typeof n)throw new Error(s)}if(e.hasEnd()){if(e.getIndexEndName()!==Cg)throw new Error(r);if("string"!=typeof t)throw new Error(s)}}else if(e.getIndex()===Il){if(null!=n&&!LT(n)||null!=t&&!LT(t))throw new Error("Query: When ordering by priority, the first argument passed to startAt(), startAfter() endAt(), endBefore(), or equalTo() must be a valid priority value (null, a number, or a string).")}else if((0,ln.hu)(e.getIndex()instanceof wP||e.getIndex()===bP,"unknown index type."),null!=n&&"object"==typeof n||null!=t&&"object"==typeof t)throw new Error("Query: First argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() cannot be an object.")}function yI(e){if(e.hasStart()&&e.hasEnd()&&e.hasLimit()&&!e.hasAnchoredLimit())throw new Error("Query: Can't combine startAt(), startAfter(), endAt(), endBefore(), and limit(). Use limitToFirst() or limitToLast() instead.")}class xp extends Zd{constructor(n,t){super(n,t,new ZA,!1)}get parent(){const n=l3(this._path);return null===n?null:new xp(this._repo,n)}get root(){let n=this;for(;null!==n.parent;)n=n.parent;return n}}class hx{constructor(n,t,r){this._node=n,this.ref=t,this._index=r}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(n){const t=new Ea(n),r=dx(this.ref,n);return new hx(this._node.getChild(t),r,Il)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(n){return!this._node.isLeafNode()&&!!this._node.forEachChild(this._index,(r,s)=>n(new hx(s,dx(this.ref,r),Il)))}hasChild(n){const t=new Ea(n);return!this._node.getChild(t).isEmpty()}hasChildren(){return!this._node.isLeafNode()&&!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}}function bF(e,n){return(e=(0,ln.m9)(e))._checkNotDeleted("ref"),void 0!==n?dx(e._root,n):e._root}function EF(e,n){(e=(0,ln.m9)(e))._checkNotDeleted("refFromURL");const t=lN(n,e._repo.repoInfo_.nodeAdmin);oF("refFromURL",t);const r=t.repoInfo;return!e._repo.repoInfo_.isCustomHost()&&r.host!==e._repo.repoInfo_.host&&Tg("refFromURL: Host name does not match the current database: (found "+r.host+" but expected "+e._repo.repoInfo_.host+")"),bF(e,t.path.toString())}function dx(e,n){return null===xo((e=(0,ln.m9)(e))._path)?(t=n,t&&(t=t.replace(/^\/*\.info(\/|$)/,"/")),jT("child","path",t,!1)):jT("child","path",n,!1),new xp(e._repo,nc(e._path,n));var t}function cN(e,n){e=(0,ln.m9)(e),yp("set",e._path),Ag("set",n,e._path,!1);const t=new ln.BH;return rN(e._repo,e._path,n,null,t.wrapCallback(()=>{})),t.promise}function DU(e,n){sF("update",n,e._path,!1);const t=new ln.BH;return function dU(e,n,t,r){ux(e,"update",{path:n.toString(),value:t});let s=!0;const o=VT(e),d={};if(ju(t,(g,m)=>{s=!1,d[g]=tF(nc(n,g),wc(m),e.serverSyncTree_,o)}),s)Bu("update() called with empty data.  Don't do anything."),G1(0,r,"ok",void 0);else{const g=pI(e),m=function L8(e,n,t,r){!function e8(e,n,t,r){(0,ln.hu)(r>e.lastWriteId,"Stacking an older merge on top of newer ones"),e.allWrites.push({path:n,children:t,writeId:r,visible:!0}),e.visibleWrites=MP(e.visibleWrites,n,t),e.lastWriteId=r}(e.pendingWriteTree_,n,t,r);const s=Dl.fromObject(t);return U2(e,new R2({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},n,s))}(e.serverSyncTree_,n,d,g);fI(e.eventQueue_,m),e.server_.merge(n.toString(),t,(_,w)=>{const A="ok"===_;A||Mh("update at "+n+" failed: "+_);const N=q1(e.serverSyncTree_,g,!A),D=N.length>0?B2(e,n):n;_p(e.eventQueue_,D,N),G1(0,r,_,w)}),ju(t,_=>{const w=oN(e,nc(n,_));B2(e,w)}),_p(e.eventQueue_,n,[])}}(e._repo,e._path,n,t.wrapCallback(()=>{})),t.promise}class _I{constructor(n){this.callbackContext=n}respondsTo(n){return"value"===n}createEvent(n,t){const r=t._queryParams.getIndex();return new yF("value",this,new hx(n.snapshotNode,new xp(t._repo,t._path),r))}getEventRunner(n){return"cancel"===n.getEventType()?()=>this.callbackContext.onCancel(n.error):()=>this.callbackContext.onValue(n.snapshot,null)}createCancelEvent(n,t){return this.callbackContext.hasCancelCallback?new _F(this,n,t):null}matches(n){return n instanceof _I&&(!n.callbackContext||!this.callbackContext||n.callbackContext.matches(this.callbackContext))}hasAnyCallback(){return null!==this.callbackContext}}class xI{constructor(n,t){this.eventType=n,this.callbackContext=t}respondsTo(n){let t="children_added"===n?"child_added":n;return t="children_removed"===t?"child_removed":t,this.eventType===t}createCancelEvent(n,t){return this.callbackContext.hasCancelCallback?new _F(this,n,t):null}createEvent(n,t){(0,ln.hu)(null!=n.childName,"Child events should have a childName.");const r=dx(new xp(t._repo,t._path),n.childName),s=t._queryParams.getIndex();return new yF(n.type,this,new hx(n.snapshotNode,r,s),n.prevName)}getEventRunner(n){return"cancel"===n.getEventType()?()=>this.callbackContext.onCancel(n.error):()=>this.callbackContext.onValue(n.snapshot,n.prevName)}matches(n){return n instanceof xI&&this.eventType===n.eventType&&(!this.callbackContext||!n.callbackContext||this.callbackContext.matches(n.callbackContext))}hasAnyCallback(){return!!this.callbackContext}}function HT(e,n,t,r,s){let o;if("object"==typeof r&&(o=void 0,s=r),"function"==typeof r&&(o=r),s&&s.onlyOnce){const m=t,_=(w,A)=>{iN(e._repo,e,g),m(w,A)};_.userCallback=t.userCallback,_.context=t.context,t=_}const d=new xF(t,o||void 0),g="value"===n?new _I(d):new xI(n,d);return function vU(e,n,t){let r;r=".info"===xo(n._path)?K3(e.infoSyncTree_,n,t):K3(e.serverSyncTree_,n,t),aF(e.eventQueue_,n._path,r)}(e._repo,e,g),()=>iN(e._repo,e,g)}function uN(e,n,t,r){return HT(e,"value",n,t,r)}function TF(e,n,t,r){return HT(e,"child_added",n,t,r)}function CF(e,n,t,r){return HT(e,"child_changed",n,t,r)}function SF(e,n,t,r){return HT(e,"child_moved",n,t,r)}function AF(e,n,t,r){return HT(e,"child_removed",n,t,r)}function IF(e,n,t){let r=null;const s=t?new xF(t):null;"value"===n?r=new _I(s):n&&(r=new xI(n,s)),iN(e._repo,e,r)}class d0{}class DF extends d0{constructor(n,t){super(),this._value=n,this._key=t}_apply(n){Ag("endAt",this._value,n._path,!0);const t=SP(n._queryParams,this._value,this._key);if(yI(t),Z1(t),n._queryParams.hasEnd())throw new Error("endAt: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new Zd(n._repo,n._path,t,n._orderByCalled)}}class NU extends d0{constructor(n,t){super(),this._value=n,this._key=t}_apply(n){Ag("endBefore",this._value,n._path,!1);const t=function V6(e,n,t){let r,s;return e.index_===Sg?("string"==typeof n&&(n=w3(n)),s=SP(e,n,t)):(r=null==t?Um:w3(t),s=SP(e,n,r)),s.endBeforeSet_=!0,s}(n._queryParams,this._value,this._key);if(yI(t),Z1(t),n._queryParams.hasEnd())throw new Error("endBefore: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new Zd(n._repo,n._path,t,n._orderByCalled)}}class kF extends d0{constructor(n,t){super(),this._value=n,this._key=t}_apply(n){Ag("startAt",this._value,n._path,!0);const t=CP(n._queryParams,this._value,this._key);if(yI(t),Z1(t),n._queryParams.hasStart())throw new Error("startAt: Starting point was already set (by another call to startAt, startBefore or equalTo).");return new Zd(n._repo,n._path,t,n._orderByCalled)}}class FU extends d0{constructor(n,t){super(),this._value=n,this._key=t}_apply(n){Ag("startAfter",this._value,n._path,!1);const t=function j6(e,n,t){let r;if(e.index_===Sg)"string"==typeof n&&(n=x3(n)),r=CP(e,n,t);else{let s;s=null==t?Cg:x3(t),r=CP(e,n,s)}return r.startAfterSet_=!0,r}(n._queryParams,this._value,this._key);if(yI(t),Z1(t),n._queryParams.hasStart())throw new Error("startAfter: Starting point was already set (by another call to startAt, startAfter, or equalTo).");return new Zd(n._repo,n._path,t,n._orderByCalled)}}class LU extends d0{constructor(n){super(),this._limit=n}_apply(n){if(n._queryParams.hasLimit())throw new Error("limitToFirst: Limit was already set (by another call to limitToFirst or limitToLast).");return new Zd(n._repo,n._path,function U6(e,n){const t=e.copy();return t.limitSet_=!0,t.limit_=n,t.viewFrom_="l",t}(n._queryParams,this._limit),n._orderByCalled)}}class BU extends d0{constructor(n){super(),this._limit=n}_apply(n){if(n._queryParams.hasLimit())throw new Error("limitToLast: Limit was already set (by another call to limitToFirst or limitToLast).");return new Zd(n._repo,n._path,function B6(e,n){const t=e.copy();return t.limitSet_=!0,t.limit_=n,t.viewFrom_="r",t}(n._queryParams,this._limit),n._orderByCalled)}}class VU extends d0{constructor(n){super(),this._path=n}_apply(n){vI(n,"orderByChild");const t=new Ea(this._path);if(wo(t))throw new Error("orderByChild: cannot pass in empty path. Use orderByValue() instead.");const r=new wP(t),s=$A(n._queryParams,r);return Z1(s),new Zd(n._repo,n._path,s,!0)}}class zU extends d0{_apply(n){vI(n,"orderByKey");const t=$A(n._queryParams,Sg);return Z1(t),new Zd(n._repo,n._path,t,!0)}}class qU extends d0{_apply(n){vI(n,"orderByPriority");const t=$A(n._queryParams,Il);return Z1(t),new Zd(n._repo,n._path,t,!0)}}class ZU extends d0{_apply(n){vI(n,"orderByValue");const t=$A(n._queryParams,bP);return Z1(t),new Zd(n._repo,n._path,t,!0)}}class YU extends d0{constructor(n,t){super(),this._value=n,this._key=t}_apply(n){if(Ag("equalTo",this._value,n._path,!1),n._queryParams.hasStart())throw new Error("equalTo: Starting point was already set (by another call to startAt/startAfter or equalTo).");if(n._queryParams.hasEnd())throw new Error("equalTo: Ending point was already set (by another call to endAt/endBefore or equalTo).");return new DF(this._value,this._key)._apply(new kF(this._value,this._key)._apply(n))}}function f0(e,...n){let t=(0,ln.m9)(e);for(const r of n)t=r._apply(t);return t}(function D8(e){(0,ln.hu)(!iI,"__referenceConstructor has already been defined"),iI=e})(xp),function O8(e){(0,ln.hu)(!oI,"__referenceConstructor has already been defined"),oI=e}(xp);const hN={};function NF(e,n,t,r,s){let o=r||e.options.databaseURL;void 0===o&&(e.options.projectId||Tg("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),Bu("Using default host for project ",e.options.projectId),o=`${e.options.projectId}-default-rtdb.firebaseio.com`);let m,_,d=lN(o,s),g=d.repoInfo;"undefined"!=typeof process&&process.env&&(_=process.env.FIREBASE_DATABASE_EMULATOR_HOST),_?(m=!0,o=`http://${_}?ns=${g.namespace}`,d=lN(o,s),g=d.repoInfo):m=!d.repoInfo.secure;const w=s&&m?new wT(wT.OWNER):new HL(e.name,e.options,n);oF("Invalid Firebase Database URL",d),wo(d.path)||Tg("Database URL must point to the root of a Firebase Database (not including a child path).");const A=function eB(e,n,t,r){let s=hN[n.name];s||(s={},hN[n.name]=s);let o=s[e.toURLString()];return o&&Tg("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),o=new lU(e,false,t,r),s[e.toURLString()]=o,o}(g,e,w,new VL(e.name,t));return new nB(A,e)}class nB{constructor(n,t){this._repoInternal=n,this.app=t,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(function cU(e,n,t){if(e.stats_=dP(e.repoInfo_),e.forceRestClient_||("object"==typeof window&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0)e.server_=new YA(e.repoInfo_,(r,s,o,d)=>{hF(e,r,s,o,d)},e.authTokenProvider_,e.appCheckProvider_),setTimeout(()=>dF(e,!0),0);else{if(null!=t){if("object"!=typeof t)throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{(0,ln.Pz)(t)}catch(r){throw new Error("Invalid authOverride provided: "+r)}}e.persistentConnection_=new sx(e.repoInfo_,n,(r,s,o,d)=>{hF(e,r,s,o,d)},r=>{dF(e,r)},r=>{!function uU(e,n){ju(n,(t,r)=>{nN(e,t,r)})}(e,r)},e.authTokenProvider_,e.appCheckProvider_,t),e.server_=e.persistentConnection_}e.authTokenProvider_.addTokenChangeListener(r=>{e.server_.refreshAuthToken(r)}),e.appCheckProvider_.addTokenChangeListener(r=>{e.server_.refreshAppCheckToken(r.token)}),e.statsReporter_=function qL(e,n){const t=e.toString();return hP[t]||(hP[t]=n()),hP[t]}(e.repoInfo_,()=>new Z6(e.stats_,e.server_)),e.infoData_=new H6,e.infoSyncTree_=new Z3({startListening:(r,s,o,d)=>{let g=[];const m=e.infoData_.getNode(r._path);return m.isEmpty()||(g=MT(e.infoSyncTree_,r._path,m),setTimeout(()=>{d("ok")},0)),g},stopListening:()=>{}}),nN(e,"connected",!1),e.serverSyncTree_=new Z3({startListening:(r,s,o,d)=>(e.server_.listen(r,o,s,(g,m)=>{const _=d(g,m);_p(e.eventQueue_,r._path,_)}),[]),stopListening:(r,s)=>{e.server_.unlisten(r,s)}})}(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new xp(this._repo,sa())),this._rootInternal}_delete(){return null!==this._rootInternal&&(function QU(e,n){const t=hN[n];(!t||t[e.key]!==e)&&Tg(`Database ${n}(${e.repoInfo_}) has already been deleted.`),pF(e),delete t[e.key]}(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(n){null===this._rootInternal&&Tg("Cannot call "+n+" on a deleted database.")}}function MF(){KO.IS_TRANSPORT_INITIALIZED&&Mh("Transport has already been initialized. Please call this function before calling ref or setting up a listener")}function rB(){MF(),B1.forceDisallow()}function iB(){MF(),k2.forceDisallow(),B1.forceAllow()}function cB(e,n){kO(e,n)}const hB={".sv":"timestamp"};class pB{constructor(n,t){this.committed=n,this.snapshot=t}toJSON(){return{committed:this.committed,snapshot:this.snapshot.toJSON()}}}sx.prototype.simpleListen=function(e,n){this.sendRequest("q",{p:e},n)},sx.prototype.echo=function(e,n){this.sendRequest("echo",{d:e},n)},function uB(e){CO(A2.SDK_VERSION),(0,A2._registerComponent)(new mT.wA("database",(n,{instanceIdentifier:t})=>NF(n.getProvider("app").getImmediate(),n.getProvider("auth-internal"),n.getProvider("app-check-internal"),t),"PUBLIC").setMultipleInstances(!0)),(0,A2.registerVersion)(EO,"0.13.2",e),(0,A2.registerVersion)(EO,"0.13.2","esm2017")}();const wI_firebase={projectId:"tp-final-clinicas-2022",appId:"1:782418442008:web:66e53673e8fed7f0d5106d",storageBucket:"tp-final-clinicas-2022.appspot.com",apiKey:"AIzaSyBBaH5Cdwk66PKcePdfVv-l13ZXeXnxx24",authDomain:"tp-final-clinicas-2022.firebaseapp.com",messagingSenderId:"782418442008"};function mB(e,n){if(1&e&&(h.TgZ(0,"li",1),h._uU(1),h.qZA()),2&e){const t=n.$implicit;h.xp6(1),h.hij(" ",t.name," ")}}const OF=(0,tP.ZF)(wI_firebase);(0,bO.ad)(OF),function sB(e=(0,A2.getApp)(),n){(0,A2._getProvider)(e,"database").getImmediate({identifier:n})}(OF);let vB=(()=>{class e{constructor(t){this.title="tp-final-clinicas-2022",this.items=t.collection("items").valueChanges()}}return e.\u0275fac=function(t){return new(t||e)(h.Y36(ro.ST))},e.\u0275cmp=h.Xpm({type:e,selectors:[["app-root"]],decls:5,vars:3,consts:[["class","text",4,"ngFor","ngForOf"],[1,"text"]],template:function(t,r){1&t&&(h.TgZ(0,"ul"),h.YNc(1,mB,2,1,"li",0),h.ALo(2,"async"),h.qZA(),h._UZ(3,"app-nav-bar")(4,"router-outlet")),2&t&&(h.xp6(1),h.Q6J("ngForOf",h.lcZ(2,1,r.items)))},directives:[C.sg,Sn,Ni.lC],pipes:[C.Ov],styles:[""]}),e})();var jm=me(2011),Ig=me(3385),yB=me(4986),FF=me(8306),RF=me(6451),Vm=me(4004),_B=me(3099),zT=me(3900),LF=me(5026),UF=me(1884),fN=me(4482),WT=me(5403),BF=me(8421),xB=me(4671),wB=me(5032),bB=me(7669),kl=me(880),CB=(me(5881),me(3942));const IB=new nP.Yd("@firebase/database-compat"),jF=function(e){IB.warn("FIREBASE WARNING: "+e)};class PB{constructor(n){this._delegate=n}cancel(n){(0,ln.Dv)("OnDisconnect.cancel",0,1,arguments.length),(0,ln.Wj)("OnDisconnect.cancel","onComplete",n,!0);const t=this._delegate.cancel();return n&&t.then(()=>n(null),r=>n(r)),t}remove(n){(0,ln.Dv)("OnDisconnect.remove",0,1,arguments.length),(0,ln.Wj)("OnDisconnect.remove","onComplete",n,!0);const t=this._delegate.remove();return n&&t.then(()=>n(null),r=>n(r)),t}set(n,t){(0,ln.Dv)("OnDisconnect.set",1,2,arguments.length),(0,ln.Wj)("OnDisconnect.set","onComplete",t,!0);const r=this._delegate.set(n);return t&&r.then(()=>t(null),s=>t(s)),r}setWithPriority(n,t,r){(0,ln.Dv)("OnDisconnect.setWithPriority",2,3,arguments.length),(0,ln.Wj)("OnDisconnect.setWithPriority","onComplete",r,!0);const s=this._delegate.setWithPriority(n,t);return r&&s.then(()=>r(null),o=>r(o)),s}update(n,t){if((0,ln.Dv)("OnDisconnect.update",1,2,arguments.length),Array.isArray(n)){const s={};for(let o=0;o<n.length;++o)s[""+o]=n[o];n=s,jF("Passing an Array to firebase.database.onDisconnect().update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}(0,ln.Wj)("OnDisconnect.update","onComplete",t,!0);const r=this._delegate.update(n);return t&&r.then(()=>t(null),s=>t(s)),r}}class NB{constructor(n,t){this.committed=n,this.snapshot=t}toJSON(){return(0,ln.Dv)("TransactionResult.toJSON",0,1,arguments.length),{committed:this.committed,snapshot:this.snapshot.toJSON()}}}class $1{constructor(n,t){this._database=n,this._delegate=t}val(){return(0,ln.Dv)("DataSnapshot.val",0,0,arguments.length),this._delegate.val()}exportVal(){return(0,ln.Dv)("DataSnapshot.exportVal",0,0,arguments.length),this._delegate.exportVal()}toJSON(){return(0,ln.Dv)("DataSnapshot.toJSON",0,1,arguments.length),this._delegate.toJSON()}exists(){return(0,ln.Dv)("DataSnapshot.exists",0,0,arguments.length),this._delegate.exists()}child(n){return(0,ln.Dv)("DataSnapshot.child",0,1,arguments.length),n=String(n),jT("DataSnapshot.child","path",n,!1),new $1(this._database,this._delegate.child(n))}hasChild(n){return(0,ln.Dv)("DataSnapshot.hasChild",1,1,arguments.length),jT("DataSnapshot.hasChild","path",n,!1),this._delegate.hasChild(n)}getPriority(){return(0,ln.Dv)("DataSnapshot.getPriority",0,0,arguments.length),this._delegate.priority}forEach(n){return(0,ln.Dv)("DataSnapshot.forEach",1,1,arguments.length),(0,ln.Wj)("DataSnapshot.forEach","action",n,!1),this._delegate.forEach(t=>n(new $1(this._database,t)))}hasChildren(){return(0,ln.Dv)("DataSnapshot.hasChildren",0,0,arguments.length),this._delegate.hasChildren()}get key(){return this._delegate.key}numChildren(){return(0,ln.Dv)("DataSnapshot.numChildren",0,0,arguments.length),this._delegate.size}getRef(){return(0,ln.Dv)("DataSnapshot.ref",0,0,arguments.length),new kf(this._database,this._delegate.ref)}get ref(){return this.getRef()}}class ph{constructor(n,t){this.database=n,this._delegate=t}on(n,t,r,s){var o;(0,ln.Dv)("Query.on",2,4,arguments.length),(0,ln.Wj)("Query.on","callback",t,!1);const d=ph.getCancelAndContextArgs_("Query.on",r,s),g=(_,w)=>{t.call(d.context,new $1(this.database,_),w)};g.userCallback=t,g.context=d.context;const m=null===(o=d.cancel)||void 0===o?void 0:o.bind(d.context);switch(n){case"value":return uN(this._delegate,g,m),t;case"child_added":return TF(this._delegate,g,m),t;case"child_removed":return AF(this._delegate,g,m),t;case"child_changed":return CF(this._delegate,g,m),t;case"child_moved":return SF(this._delegate,g,m),t;default:throw new Error((0,ln.gK)("Query.on","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}}off(n,t,r){if((0,ln.Dv)("Query.off",0,3,arguments.length),function(e,n,t){if(void 0!==n)switch(n){case"value":case"child_added":case"child_removed":case"child_changed":case"child_moved":break;default:throw new Error((0,ln.gK)("Query.off","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}}(0,n),(0,ln.Wj)("Query.off","callback",t,!0),(0,ln.lb)("Query.off","context",r,!0),t){const s=()=>{};s.userCallback=t,s.context=r,IF(this._delegate,n,s)}else IF(this._delegate,n)}get(){return function kU(e){return hU((e=(0,ln.m9)(e))._repo,e).then(n=>new hx(n,new xp(e._repo,e._path),e._queryParams.getIndex()))}(this._delegate).then(n=>new $1(this.database,n))}once(n,t,r,s){(0,ln.Dv)("Query.once",1,4,arguments.length),(0,ln.Wj)("Query.once","callback",t,!0);const o=ph.getCancelAndContextArgs_("Query.once",r,s),d=new ln.BH,g=(_,w)=>{const A=new $1(this.database,_);t&&t.call(o.context,A,w),d.resolve(A)};g.userCallback=t,g.context=o.context;const m=_=>{o.cancel&&o.cancel.call(o.context,_),d.reject(_)};switch(n){case"value":uN(this._delegate,g,m,{onlyOnce:!0});break;case"child_added":TF(this._delegate,g,m,{onlyOnce:!0});break;case"child_removed":AF(this._delegate,g,m,{onlyOnce:!0});break;case"child_changed":CF(this._delegate,g,m,{onlyOnce:!0});break;case"child_moved":SF(this._delegate,g,m,{onlyOnce:!0});break;default:throw new Error((0,ln.gK)("Query.once","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}return d.promise}limitToFirst(n){return(0,ln.Dv)("Query.limitToFirst",1,1,arguments.length),new ph(this.database,f0(this._delegate,function UU(e){if("number"!=typeof e||Math.floor(e)!==e||e<=0)throw new Error("limitToFirst: First argument must be a positive integer.");return new LU(e)}(n)))}limitToLast(n){return(0,ln.Dv)("Query.limitToLast",1,1,arguments.length),new ph(this.database,f0(this._delegate,function jU(e){if("number"!=typeof e||Math.floor(e)!==e||e<=0)throw new Error("limitToLast: First argument must be a positive integer.");return new BU(e)}(n)))}orderByChild(n){return(0,ln.Dv)("Query.orderByChild",1,1,arguments.length),new ph(this.database,f0(this._delegate,function HU(e){if("$key"===e)throw new Error('orderByChild: "$key" is invalid.  Use orderByKey() instead.');if("$priority"===e)throw new Error('orderByChild: "$priority" is invalid.  Use orderByPriority() instead.');if("$value"===e)throw new Error('orderByChild: "$value" is invalid.  Use orderByValue() instead.');return jT("orderByChild","path",e,!1),new VU(e)}(n)))}orderByKey(){return(0,ln.Dv)("Query.orderByKey",0,0,arguments.length),new ph(this.database,f0(this._delegate,function WU(){return new zU}()))}orderByPriority(){return(0,ln.Dv)("Query.orderByPriority",0,0,arguments.length),new ph(this.database,f0(this._delegate,function GU(){return new qU}()))}orderByValue(){return(0,ln.Dv)("Query.orderByValue",0,0,arguments.length),new ph(this.database,f0(this._delegate,function $U(){return new ZU}()))}startAt(n=null,t){return(0,ln.Dv)("Query.startAt",0,2,arguments.length),new ph(this.database,f0(this._delegate,function OU(e=null,n){return BT("startAt","key",n,!0),new kF(e,n)}(n,t)))}startAfter(n=null,t){return(0,ln.Dv)("Query.startAfter",0,2,arguments.length),new ph(this.database,f0(this._delegate,function RU(e,n){return BT("startAfter","key",n,!0),new FU(e,n)}(n,t)))}endAt(n=null,t){return(0,ln.Dv)("Query.endAt",0,2,arguments.length),new ph(this.database,f0(this._delegate,function PU(e,n){return BT("endAt","key",n,!0),new DF(e,n)}(n,t)))}endBefore(n=null,t){return(0,ln.Dv)("Query.endBefore",0,2,arguments.length),new ph(this.database,f0(this._delegate,function MU(e,n){return BT("endBefore","key",n,!0),new NU(e,n)}(n,t)))}equalTo(n,t){return(0,ln.Dv)("Query.equalTo",1,2,arguments.length),new ph(this.database,f0(this._delegate,function KU(e,n){return BT("equalTo","key",n,!0),new YU(e,n)}(n,t)))}toString(){return(0,ln.Dv)("Query.toString",0,0,arguments.length),this._delegate.toString()}toJSON(){return(0,ln.Dv)("Query.toJSON",0,1,arguments.length),this._delegate.toJSON()}isEqual(n){if((0,ln.Dv)("Query.isEqual",1,1,arguments.length),!(n instanceof ph))throw new Error("Query.isEqual failed: First argument must be an instance of firebase.database.Query.");return this._delegate.isEqual(n._delegate)}static getCancelAndContextArgs_(n,t,r){const s={cancel:void 0,context:void 0};if(t&&r)s.cancel=t,(0,ln.Wj)(n,"cancel",s.cancel,!0),s.context=r,(0,ln.lb)(n,"context",s.context,!0);else if(t)if("object"==typeof t&&null!==t)s.context=t;else{if("function"!=typeof t)throw new Error((0,ln.gK)(n,"cancelOrContext")+" must either be a cancel callback or a context object.");s.cancel=t}return s}get ref(){return new kf(this.database,new xp(this._delegate._repo,this._delegate._path))}}class kf extends ph{constructor(n,t){super(n,new Zd(t._repo,t._path,new ZA,!1)),this.database=n,this._delegate=t}getKey(){return(0,ln.Dv)("Reference.key",0,0,arguments.length),this._delegate.key}child(n){return(0,ln.Dv)("Reference.child",1,1,arguments.length),"number"==typeof n&&(n=String(n)),new kf(this.database,dx(this._delegate,n))}getParent(){(0,ln.Dv)("Reference.parent",0,0,arguments.length);const n=this._delegate.parent;return n?new kf(this.database,n):null}getRoot(){return(0,ln.Dv)("Reference.root",0,0,arguments.length),new kf(this.database,this._delegate.root)}set(n,t){(0,ln.Dv)("Reference.set",1,2,arguments.length),(0,ln.Wj)("Reference.set","onComplete",t,!0);const r=cN(this._delegate,n);return t&&r.then(()=>t(null),s=>t(s)),r}update(n,t){if((0,ln.Dv)("Reference.update",1,2,arguments.length),Array.isArray(n)){const s={};for(let o=0;o<n.length;++o)s[""+o]=n[o];n=s,jF("Passing an Array to Firebase.update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}yp("Reference.update",this._delegate._path),(0,ln.Wj)("Reference.update","onComplete",t,!0);const r=DU(this._delegate,n);return t&&r.then(()=>t(null),s=>t(s)),r}setWithPriority(n,t,r){(0,ln.Dv)("Reference.setWithPriority",2,3,arguments.length),(0,ln.Wj)("Reference.setWithPriority","onComplete",r,!0);const s=function IU(e,n,t){if(yp("setWithPriority",e._path),Ag("setWithPriority",n,e._path,!1),tN("setWithPriority",t,!1),".length"===e.key||".keys"===e.key)throw"setWithPriority failed: "+e.key+" is a read-only object.";const r=new ln.BH;return rN(e._repo,e._path,n,t,r.wrapCallback(()=>{})),r.promise}(this._delegate,n,t);return r&&s.then(()=>r(null),o=>r(o)),s}remove(n){(0,ln.Dv)("Reference.remove",0,1,arguments.length),(0,ln.Wj)("Reference.remove","onComplete",n,!0);const t=function SU(e){return yp("remove",e._path),cN(e,null)}(this._delegate);return n&&t.then(()=>n(null),r=>n(r)),t}transaction(n,t,r){(0,ln.Dv)("Reference.transaction",1,3,arguments.length),(0,ln.Wj)("Reference.transaction","transactionUpdate",n,!1),(0,ln.Wj)("Reference.transaction","onComplete",t,!0),function(e,n,t,r){if(void 0!==t&&"boolean"!=typeof t)throw new Error((0,ln.gK)("Reference.transaction","applyLocally")+"must be a boolean.")}(0,0,r);const s=function gB(e,n,t){var r;if(e=(0,ln.m9)(e),yp("Reference.transaction",e._path),".length"===e.key||".keys"===e.key)throw"Reference.transaction failed: "+e.key+" is a read-only object.";const s=null===(r=null==t?void 0:t.applyLocally)||void 0===r||r,o=new ln.BH,g=uN(e,()=>{});return function _U(e,n,t,r,s,o){ux(e,"transaction on "+n);const d={path:n,update:t,onComplete:r,status:null,order:AO(),applyLocally:o,retryCount:0,unwatcher:s,abortReason:null,currentWriteId:null,currentInputSnapshot:null,currentOutputSnapshotRaw:null,currentOutputSnapshotResolved:null},g=sN(e,n,void 0);d.currentInputSnapshot=g;const m=d.update(g.val());if(void 0===m)d.unwatcher(),d.currentOutputSnapshotRaw=null,d.currentOutputSnapshotResolved=null,d.onComplete&&d.onComplete(null,!1,d.currentInputSnapshot);else{UT("transaction failed: Data returned ",m,d.path),d.status=0;const _=uI(e.transactionQueueTree_,n),w=cx(_)||[];let A;w.push(d),JP(_,w),"object"==typeof m&&null!==m&&(0,ln.r3)(m,".priority")?(A=(0,ln.DV)(m,".priority"),(0,ln.hu)(LT(A),"Invalid priority returned by transaction. Priority must be a valid string, finite number, server value, or null.")):A=(lI(e.serverSyncTree_,n)||to.EMPTY_NODE).getPriority().val();const N=VT(e),D=wc(m,A),ee=YP(D,g,N);d.currentOutputSnapshotRaw=D,d.currentOutputSnapshotResolved=ee,d.currentWriteId=pI(e);const B=zP(e.serverSyncTree_,n,ee,d.currentWriteId,d.applyLocally);_p(e.eventQueue_,n,B),gI(e,e.transactionQueueTree_)}}(e._repo,e._path,n,(m,_,w)=>{let A=null;m?o.reject(m):(A=new hx(w,new xp(e._repo,e._path),Il),o.resolve(new pB(_,A)))},g,s),o.promise}(this._delegate,n,{applyLocally:r}).then(o=>new NB(o.committed,new $1(this.database,o.snapshot)));return t&&s.then(o=>t(null,o.committed,o.snapshot),o=>t(o,!1,null)),s}setPriority(n,t){(0,ln.Dv)("Reference.setPriority",1,2,arguments.length),(0,ln.Wj)("Reference.setPriority","onComplete",t,!0);const r=function AU(e,n){e=(0,ln.m9)(e),yp("setPriority",e._path),tN("setPriority",n,!1);const t=new ln.BH;return rN(e._repo,nc(e._path,".priority"),n,null,t.wrapCallback(()=>{})),t.promise}(this._delegate,n);return t&&r.then(()=>t(null),s=>t(s)),r}push(n,t){(0,ln.Dv)("Reference.push",0,2,arguments.length),(0,ln.Wj)("Reference.push","onComplete",t,!0);const r=function CU(e,n){e=(0,ln.m9)(e),yp("push",e._path),Ag("push",n,e._path,!0);const t=uF(e._repo),r=O6(t),s=dx(e,r),o=dx(e,r);let d;return d=null!=n?cN(o,n).then(()=>o):Promise.resolve(o),s.then=d.then.bind(d),s.catch=d.then.bind(d,void 0),s}(this._delegate,n),s=r.then(d=>new kf(this.database,d));t&&s.then(()=>t(null),d=>t(d));const o=new kf(this.database,r);return o.then=s.then.bind(s),o.catch=s.catch.bind(s,void 0),o}onDisconnect(){return yp("Reference.onDisconnect",this._delegate._path),new PB(new wF(this._delegate._repo,this._delegate._path))}get key(){return this.getKey()}get parent(){return this.getParent()}get root(){return this.getRoot()}}class qT{constructor(n,t){this._delegate=n,this.app=t,this.INTERNAL={delete:()=>this._delegate._delete(),forceWebSockets:rB,forceLongPolling:iB}}useEmulator(n,t,r={}){!function oB(e,n,t,r={}){(e=(0,ln.m9)(e))._checkNotDeleted("useEmulator"),e._instanceStarted&&Tg("Cannot call useEmulator() after instance has already been initialized.");const s=e._repoInternal;let o;if(s.repoInfo_.nodeAdmin)r.mockUserToken&&Tg('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),o=new wT(wT.OWNER);else if(r.mockUserToken){const d="string"==typeof r.mockUserToken?r.mockUserToken:(0,ln.Sg)(r.mockUserToken,e.app.options.projectId);o=new wT(d)}!function JU(e,n,t,r){e.repoInfo_=new cP(`${n}:${t}`,!1,e.repoInfo_.namespace,e.repoInfo_.webSocketOnly,e.repoInfo_.nodeAdmin,e.repoInfo_.persistenceKey,e.repoInfo_.includeNamespaceInQueryParams),r&&(e.authTokenProvider_=r)}(s,n,t,o)}(this._delegate,n,t,r)}ref(n){if((0,ln.Dv)("database.ref",0,1,arguments.length),n instanceof kf){const t=EF(this._delegate,n.toString());return new kf(this,t)}{const t=bF(this._delegate,n);return new kf(this,t)}}refFromURL(n){(0,ln.Dv)("database.refFromURL",1,1,arguments.length);const r=EF(this._delegate,n);return new kf(this,r)}goOffline(){return(0,ln.Dv)("database.goOffline",0,0,arguments.length),function aB(e){(e=(0,ln.m9)(e))._checkNotDeleted("goOffline"),pF(e._repo)}(this._delegate)}goOnline(){return(0,ln.Dv)("database.goOnline",0,0,arguments.length),function lB(e){(e=(0,ln.m9)(e))._checkNotDeleted("goOnline"),function yU(e){e.persistentConnection_&&e.persistentConnection_.resume(cF)}(e._repo)}(this._delegate)}}qT.ServerValue={TIMESTAMP:function dB(){return hB}(),increment:e=>function fB(e){return{".sv":{increment:e}}}(e)};var OB=Object.freeze({__proto__:null,initStandalone:function MB({app:e,url:n,version:t,customAuthImpl:r,namespace:s,nodeAdmin:o=!1}){CO(t);const d=new mT.zt("auth-internal",new mT.H0("database-standalone"));return d.setComponent(new mT.wA("auth-internal",()=>r,"PRIVATE")),{instance:new qT(NF(e,d,void 0,n,o),e),namespace:s}}});const FB=qT.ServerValue;!function RB(e){e.INTERNAL.registerComponent(new mT.wA("database-compat",(n,{instanceIdentifier:t})=>{const r=n.getProvider("app-compat").getImmediate(),s=n.getProvider("database").getImmediate({identifier:t});return new qT(s,r)},"PUBLIC").setServiceProps({Reference:kf,Query:ph,Database:qT,DataSnapshot:$1,enableLogging:cB,INTERNAL:OB,ServerValue:FB}).setMultipleInstances(!0)),e.registerVersion("@firebase/database-compat","0.2.2")}(CB.Z);var pN=me(7128),bI=me(127);function VF(e){return null==e}function HF(e){return"function"==typeof e.set}function zF(e,n){return HF(n)?n:e.ref(n)}function WF(e,n){if(function LB(e){return"string"==typeof e}(e))return n.stringCase();if(HF(e))return n.firebaseCase();if(function UB(e){return"function"==typeof e.exportVal}(e))return n.snapshotCase();throw new Error("Expects a string, snapshot, or reference. Got: "+typeof e)}function GT(e,n,t="on",r=yB.z){return new FF.y(s=>{let o=null;return o=e[t](n,(d,g)=>{r.schedule(()=>{s.next({snapshot:d,prevKey:g})}),"once"===t&&r.schedule(()=>s.complete())},d=>{r.schedule(()=>s.error(d))}),"on"===t?{unsubscribe(){null!=o&&e.off(n,o)}}:{unsubscribe(){}}}).pipe((0,Vm.U)(s=>{const{snapshot:o,prevKey:d}=s;let g=null;return o.exists()&&(g=o.key),{type:n,payload:o,prevKey:d,key:g}}),(0,_B.B)())}function qF(e,n){const t=e.length;for(let r=0;r<t;r++)if(e[r].payload.key===n)return r;return-1}function VB(e,n){const{payload:t,prevKey:r,key:s}=n,o=qF(e,s),d=function jB(e,n){if(VF(n))return 0;{const t=qF(e,n);return-1===t?e.length:t+1}}(e,r);switch(n.type){case"value":if(n.payload&&n.payload.exists()){let g=null;n.payload.forEach(m=>{const _={payload:m,type:"value",prevKey:g,key:m.key};return g=m.key,e=[...e,_],!1})}return e;case"child_added":if(o>-1){const g=e[o-1];(g&&g.key||null)!==r&&(e=e.filter(m=>m.payload.key!==t.key)).splice(d,0,n)}else{if(null==r)return[n,...e];(e=e.slice()).splice(d,0,n)}return e;case"child_removed":return e.filter(g=>g.payload.key!==t.key);case"child_changed":return e.map(g=>g.payload.key===s?n:g);case"child_moved":if(o>-1){const g=e.splice(o,1)[0];return(e=e.slice()).splice(d,0,g),e}return e;default:return e}}function GF(e){return(VF(e)||0===e.length)&&(e=["child_added","child_removed","child_changed","child_moved"]),e}function ZF(e,n,t){return function BB(e,n,t){return GT(e,"value","once",t).pipe((0,zT.w)(r=>{const s=[(0,vr.of)(r)];return n.forEach(o=>s.push(GT(e,o,"on",t))),(0,RF.T)(...s).pipe((0,LF.R)(VB,[]))}),(0,UF.x)())}(e,n=GF(n),t)}function $F(e,n,t){const r=(n=GF(n)).map(s=>GT(e,s,"on",t));return(0,RF.T)(...r)}function YF(e,n){return function(r,s){return WF(r,{stringCase:()=>e.child(r)[n](s),firebaseCase:()=>r[n](s),snapshotCase:()=>r.ref[n](s)})}}function qB(e){return function(t){return t?WF(t,{stringCase:()=>e.child(t).remove(),firebaseCase:()=>t.remove(),snapshotCase:()=>t.ref.remove()}):e.remove()}}function KF(e,n){return function(){return GT(e,"value","on",n)}}const $B=new h.OlP("angularfire2.realtimeDatabaseURL"),YB=new h.OlP("angularfire2.database.use-emulator");let KB=(()=>{class e{constructor(t,r,s,o,d,g,m,_,w,A,N,D,ee,B,he){this.schedulers=g;const Pe=m,je=(0,jm.on)(t,d,r);_&&(0,Ig.nw)(je,d,w,N,D,ee,A,B),this.database=(0,jm.cc)(`${je.name}.database.${s}`,"AngularFireDatabase",je.name,()=>{const Xe=d.runOutsideAngular(()=>je.database(s||void 0));return Pe&&Xe.useEmulator(...Pe),Xe},[Pe])}list(t,r){const s=this.schedulers.ngZone.runOutsideAngular(()=>zF(this.database,t));let o=s;return r&&(o=r(s)),function GB(e,n){const t=n.schedulers.outsideAngular,r=n.schedulers.ngZone.run(()=>e.ref);return{query:e,update:YF(r,"update"),set:YF(r,"set"),push:s=>r.push(s),remove:qB(r),snapshotChanges:s=>ZF(e,s,t).pipe(kl.iC),stateChanges:s=>$F(e,s,t).pipe(kl.iC),auditTrail:s=>function HB(e,n,t){return function WB(e,n,t){return function zB(e,n){return GT(e,"value","on",n).pipe((0,Vm.U)(t=>{let r;return t.payload.forEach(s=>(r=s.key,!1)),{data:t,lastKeyToLoad:r}}))}(e,t).pipe(function EB(...e){const n=(0,bB.jO)(e);return(0,fN.e)((t,r)=>{const s=e.length,o=new Array(s);let d=e.map(()=>!1),g=!1;for(let m=0;m<s;m++)(0,BF.Xf)(e[m]).subscribe((0,WT.x)(r,_=>{o[m]=_,!g&&!d[m]&&(d[m]=!0,(g=d.every(xB.y))&&(d=null))},wB.Z));t.subscribe((0,WT.x)(r,m=>{if(g){const _=[m,...o];r.next(n?n(..._):_)}}))})}(n),(0,Vm.U)(([s,o])=>{const d=s.lastKeyToLoad,g=o.map(m=>m.key);return{actions:o,lastKeyToLoad:d,loadedKeys:g}}),function TB(e){return(0,fN.e)((n,t)=>{let r=!1,s=0;n.subscribe((0,WT.x)(t,o=>(r||(r=!e(o,s++)))&&t.next(o)))})}(s=>-1===s.loadedKeys.indexOf(s.lastKeyToLoad)),(0,Vm.U)(s=>s.actions))}(e,$F(e,n).pipe((0,LF.R)((s,o)=>[...s,o],[])),t)}(e,s,t).pipe(kl.iC),valueChanges:(s,o)=>ZF(e,s,t).pipe((0,Vm.U)(g=>g.map(m=>o&&o.idField?Object.assign(Object.assign({},m.payload.val()),{[o.idField]:m.key}):m.payload.val())),kl.iC)}}(o,this)}object(t){return function ZB(e,n){return{query:e,snapshotChanges:()=>KF(e,n.schedulers.outsideAngular)().pipe(kl.iC),update:t=>e.ref.update(t),set:t=>e.ref.set(t),remove:()=>e.ref.remove(),valueChanges:()=>KF(e,n.schedulers.outsideAngular)().pipe(kl.iC,(0,Vm.U)(r=>r.payload.exists()?r.payload.val():null))}}(this.schedulers.ngZone.runOutsideAngular(()=>zF(this.database,t)),this)}createPushId(){return this.schedulers.ngZone.runOutsideAngular(()=>this.database.ref()).push().key}}return e.\u0275fac=function(t){return new(t||e)(h.LFG(jm.Dh),h.LFG(jm.xv,8),h.LFG($B,8),h.LFG(h.Lbi),h.LFG(h.R0b),h.LFG(kl.HU),h.LFG(YB,8),h.LFG(Ig.zQ,8),h.LFG(Ig.Qv,8),h.LFG(Ig.L6,8),h.LFG(Ig._Q,8),h.LFG(Ig.rT,8),h.LFG(Ig.lh,8),h.LFG(Ig.f7,8),h.LFG(pN.nm,8))},e.\u0275prov=h.Yz7({token:e,factory:e.\u0275fac,providedIn:"any"}),e})(),XB=(()=>{class e{constructor(){bI.Z.registerVersion("angularfire",kl.q4.full,"rtdb-compat")}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=h.oAB({type:e}),e.\u0275inj=h.cJS({providers:[KB]}),e})();var XF=me(655),JB=me(515),QB=me(5363),e7=me(3151),t7=me(7982),JF=me(9300);var r7=me(5577),i7=me(8675),s7=me(1520),fx=me(3692);const eR="firebase_screen_id",mN="outlet",ZT="screen_class",tR="screen_name";let v7=Math.floor(Math.random()*(Math.pow(2,32)-1))-Math.pow(2,31);const vN={},y7=e=>{const n=[e[ZT],e[mN]].join("#");if(vN.hasOwnProperty(n))return vN[n];{const t=v7++;return vN[n]=t,t}},T7=new h.OlP("angularfire2.analytics.analyticsCollectionEnabled"),C7=new h.OlP("angularfire2.analytics.appVersion"),S7=new h.OlP("angularfire2.analytics.appName"),A7=new h.OlP("angularfire2.analytics.debugMode"),I7=new h.OlP("angularfire2.analytics.config"),EI="dataLayer";let $T=(()=>{class e{constructor(t,r,s,o,d,g,m,_,w){if(this.analyticsInitialized=new Promise(()=>{}),(0,C.NF)(m)){window[EI]=window[EI]||[];const N=(...B)=>"config"===B[0]&&"firebase"===B[2].origin&&(this.measurementId=B[1],!0),D=B=>{window.gtag=(...he)=>{B&&B(...he),"event"===he[0]&&he[2].send_to===this.measurementId&&(o&&(he[2].app_name=o),s&&(he[2].app_version=s)),d&&"undefined"!=typeof console&&console.info(...he),function(...Pe){window[EI].push(arguments)}(...he)}};window[EI].some(N)?(this.analyticsInitialized=Promise.resolve(),D()):this.analyticsInitialized=new Promise(B=>{D((...he)=>{N(...he)&&B()})}),g&&this.updateConfig(g),d&&this.updateConfig({debug_mode:1})}else this.analyticsInitialized=Promise.resolve();const A=(0,vr.of)(void 0).pipe((0,QB.Q)(w.outsideAngular),(0,zT.w)(t7.Gb),(0,zT.w)(N=>N?_.runOutsideAngular(()=>me.e(643).then(me.bind(me,8643))):JB.E),(0,Vm.U)(()=>(0,jm.cc)("analytics","AngularFireAnalytics",t.name,()=>{const N=t.analytics();return!1===r&&N.setAnalyticsCollectionEnabled(!1),N},[t,r,g,d])),(0,e7.d)({bufferSize:1,refCount:!1}));return(0,jm.pX)(this,A,_)}updateConfig(t){return(0,XF.mG)(this,void 0,void 0,function*(){yield this.analyticsInitialized,window.gtag("config",this.measurementId,Object.assign(Object.assign({},t),{update:!0}))})}}return e.\u0275fac=function(t){return new(t||e)(h.LFG(jm.Ot),h.LFG(T7,8),h.LFG(C7,8),h.LFG(S7,8),h.LFG(A7,8),h.LFG(I7,8),h.LFG(h.Lbi),h.LFG(h.R0b),h.LFG(kl.HU))},e.\u0275prov=h.Yz7({token:e,factory:e.\u0275fac,providedIn:"any"}),e})(),rR=(()=>{class e{constructor(t,r,s,o){if(this.disposables=[],bI.Z.registerVersion("angularfire",kl.q4.full,"compat-user-tracking"),(0,C.PM)(r))this.initialized=Promise.resolve();else{let d;this.initialized=o.runOutsideAngular(()=>new Promise(g=>d=g)),this.disposables=[s.authState.subscribe(g=>{t.setUserId(null==g?void 0:g.uid),d()}),s.credential.subscribe(g=>{if(g){const m=g.user.isAnonymous?"anonymous":g.additionalUserInfo.providerId;g.additionalUserInfo.isNewUser&&t.logEvent("sign_up",{method:m}),t.logEvent("login",{method:m})}})]}}ngOnDestroy(){this.disposables.forEach(t=>t.unsubscribe())}}return e.\u0275fac=function(t){return new(t||e)(h.LFG($T),h.LFG(h.Lbi),h.LFG(Ig.zQ),h.LFG(h.R0b))},e.\u0275prov=h.Yz7({token:e,factory:e.\u0275fac}),e})(),F7=(()=>{class e{constructor(t,r,s,o,d,g){if(bI.Z.registerVersion("angularfire",kl.q4.full,"compat-screen-tracking"),!r||!t)return this;d.runOutsideAngular(()=>{this.disposable=((e,n,t)=>e.events.pipe((0,JF.h)(s=>s instanceof Ni.jw)).pipe((0,zT.w)(s=>{var o;const g=(null===(o=e.parseUrl(e.url.replace(/(?:\().+(?:\))/g,D=>D.replace("://",":///"))).root.children[s.snapshot.outlet])||void 0===o?void 0:o.toString())||"",m=e.routerState.root.children.map(D=>D).find(D=>D.outlet===s.snapshot.outlet);if(!m)return(0,vr.of)(null);let _=m;for(;_.firstChild;)_=_.firstChild;const w=_.pathFromRoot.map(D=>{var ee;return null===(ee=D.routeConfig)||void 0===ee?void 0:ee.path}).filter(D=>D).join("/")||"/",A={[tR]:w,page_path:`/${g}`,firebase_event_origin:"auto",firebase_screen:w,[mN]:s.snapshot.outlet};n&&(A.page_title=n.getTitle());let N=m.component;if(N){if(N===Ni.fw){let D=s.snapshot;for(;D.firstChild;)D=D.firstChild;N=D.component}}else N=s.snapshot.component;if("string"==typeof N)return(0,vr.of)(Object.assign(Object.assign({},A),{[ZT]:N}));if(N){const D=t.resolveComponentFactory(N);return(0,vr.of)(Object.assign(Object.assign({},A),{[ZT]:D.selector}))}return(0,vr.of)(null)}),(0,JF.h)(s=>!!s),(0,Vm.U)(s=>Object.assign({firebase_screen_class:s[ZT],[eR]:y7(s)},s)),function n7(e,n,t,r){return(0,fN.e)((s,o)=>{let d;n&&"function"!=typeof n?({duration:t,element:d,connector:r}=n):d=n;const g=new Map,m=ee=>{g.forEach(ee),ee(o)},_=ee=>m(B=>B.error(ee));let w=0,A=!1;const N=new WT.Q(o,ee=>{try{const B=e(ee);let he=g.get(B);if(!he){g.set(B,he=r?r():new us.x);const Pe=function D(ee,B){const he=new FF.y(Pe=>{w++;const je=B.subscribe(Pe);return()=>{je.unsubscribe(),0==--w&&A&&N.unsubscribe()}});return he.key=ee,he}(B,he);if(o.next(Pe),t){const je=(0,WT.x)(he,()=>{he.complete(),null==je||je.unsubscribe()},void 0,void 0,()=>g.delete(B));N.add((0,BF.Xf)(t(Pe)).subscribe(je))}}he.next(d?d(ee):ee)}catch(B){_(B)}},()=>m(ee=>ee.complete()),_,()=>g.clear(),()=>(A=!0,0===w));s.subscribe(N)})}(s=>s[mN]),(0,r7.z)(s=>s.pipe((0,UF.x)((o,d)=>JSON.stringify(o)===JSON.stringify(d)),(0,i7.O)(void 0),(0,s7.G)(),(0,Vm.U)(([o,d])=>o?Object.assign({firebase_previous_class:o[ZT],firebase_previous_screen:o[tR],firebase_previous_id:o[eR]},d):d)))))(r,s,o).pipe((0,zT.w)(m=>(0,XF.mG)(this,void 0,void 0,function*(){return g&&(yield g.initialized),yield t.logEvent("screen_view",m)}))).subscribe()})}ngOnDestroy(){this.disposable&&this.disposable.unsubscribe()}}return e.\u0275fac=function(t){return new(t||e)(h.LFG($T),h.LFG(Ni.F0,8),h.LFG(Nn,8),h.LFG(h._Vd),h.LFG(h.R0b),h.LFG(rR,8))},e.\u0275prov=h.Yz7({token:e,factory:e.\u0275fac}),e})(),R7=(()=>{class e{constructor(t,r,s){bI.Z.registerVersion("angularfire",kl.q4.full,"analytics-compat"),t.app.then(()=>{})}}return e.\u0275fac=function(t){return new(t||e)(h.LFG($T),h.LFG(F7,8),h.LFG(rR,8))},e.\u0275mod=h.oAB({type:e}),e.\u0275inj=h.cJS({providers:[$T]}),e})();var L7=me(2084),U7=me(3673);class _N{constructor(n){return n}}class sR{constructor(){return(0,kl.vb)("auth")}}const xN=new h.OlP("angularfire2.auth-instances");function j7(e){return(n,t)=>{const r=n.runOutsideAngular(()=>e(t));return new _N(r)}}const V7={provide:sR,deps:[[new h.FiY,xN]]},H7={provide:_N,useFactory:function B7(e,n){const t=(0,kl.JM)("auth",e,n);return t&&new _N(t)},deps:[[new h.FiY,xN],fx.Ot]};let z7=(()=>{class e{constructor(){(0,tP.KN)("angularfire",kl.q4.full,"auth")}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=h.oAB({type:e}),e.\u0275inj=h.cJS({providers:[H7,V7]}),e})();function W7(e,...n){return{ngModule:z7,providers:[{provide:xN,useFactory:j7(e),multi:!0,deps:[h.R0b,h.zs3,kl.HU,fx.z6,[new h.FiY,pN.nm],...n]}]}}const q7=(0,kl.u3)(U7.n,!0);class wN{constructor(n){return n}}const oR="firestore",bN=new h.OlP("angularfire2.firestore-instances");function $7(e){return(n,t)=>{const r=n.runOutsideAngular(()=>e(t));return new wN(r)}}const Y7={provide:class G7{constructor(){return(0,kl.vb)(oR)}},deps:[[new h.FiY,bN]]},K7={provide:wN,useFactory:function Z7(e,n){const t=(0,kl.JM)(oR,e,n);return t&&new wN(t)},deps:[[new h.FiY,bN],fx.Ot]};let X7=(()=>{class e{constructor(){(0,tP.KN)("angularfire",kl.q4.full,"fst")}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=h.oAB({type:e}),e.\u0275inj=h.cJS({providers:[K7,Y7]}),e})();function J7(e,...n){return{ngModule:X7,providers:[{provide:bN,useFactory:$7(e),multi:!0,deps:[h.R0b,h.zs3,kl.HU,fx.z6,[new h.FiY,sR],[new h.FiY,pN.nm],...n]}]}}const Q7=(0,kl.u3)(bO.ad,!0);let ej=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=h.oAB({type:e,bootstrap:[vB]}),e.\u0275inj=h.cJS({providers:[as.p,Us.d,ji.n,V.T,Li.z,Co,Us.d,Vo,nl,Li.z,$i,C.uU],imports:[[lt,kL,jm.hO.initializeApp(wI_firebase),Ig.ww,XB,R7,ro.yb,L7.TE,Rt.u5,Rt.UX,hr.ZQ.forRoot(),C.ez,Hr,Ai,(0,fx.hX)(()=>(0,fx.ZF)(wI_firebase)),W7(()=>q7()),J7(()=>Q7())]]}),e})();(0,h.G48)(),Ee().bootstrapModule(ej).catch(e=>console.error(e))},7982:(Gr,Ln,me)=>{"use strict";me.d(Ln,{Gb:()=>C.Gb});var C=me(579)},5867:(Gr,Ln,me)=>{"use strict";me.d(Ln,{C6:()=>C.getApps,KN:()=>C.registerVersion,Mq:()=>C.getApp,ZF:()=>C.initializeApp});var C=me(9681);(0,C.registerVersion)("firebase","9.8.4","app")},127:(Gr,Ln,me)=>{"use strict";me.d(Ln,{Z:()=>C.Z});var C=me(3942);C.Z.registerVersion("firebase","9.8.4","app-compat")},5881:(Gr,Ln,me)=>{"use strict";me.r(Ln);var C=me(5861),h=me(3942),it=me(3673),ve=me(2090),tt=(me(9681),me(1877),me(4859));function Qe(){return window}function qe(){return(qe=(0,C.Z)(function*(On,mn,Rt){var hr;const{BuildInfo:vr}=Qe();(0,it.aq)(mn.sessionId,"AuthEvent did not contain a session ID");const ai=yield fe(mn.sessionId),ki={};return(0,it.ar)()?ki.ibi=vr.packageName:(0,it.as)()?ki.apn=vr.packageName:(0,it.at)(On,"operation-not-supported-in-this-environment"),vr.displayName&&(ki.appDisplayName=vr.displayName),ki.sessionId=ai,(0,it.au)(On,Rt,mn.type,void 0,null!==(hr=mn.eventId)&&void 0!==hr?hr:void 0,ki)})).apply(this,arguments)}function He(){return(He=(0,C.Z)(function*(On){const{BuildInfo:mn}=Qe(),Rt={};(0,it.ar)()?Rt.iosBundleId=mn.packageName:(0,it.as)()?Rt.androidPackageName=mn.packageName:(0,it.at)(On,"operation-not-supported-in-this-environment"),yield(0,it.av)(On,Rt)})).apply(this,arguments)}function de(){return(de=(0,C.Z)(function*(On,mn,Rt){const{cordova:hr}=Qe();let vr=()=>{};try{yield new Promise((ai,ki)=>{let Zi=null;function Wi(){var Ji;ai();const gs=null===(Ji=hr.plugins.browsertab)||void 0===Ji?void 0:Ji.close;"function"==typeof gs&&gs(),"function"==typeof(null==Rt?void 0:Rt.close)&&Rt.close()}function zs(){Zi||(Zi=window.setTimeout(()=>{ki((0,it.aw)(On,"redirect-cancelled-by-user"))},2e3))}function Ws(){"visible"===(null==document?void 0:document.visibilityState)&&zs()}mn.addPassiveListener(Wi),document.addEventListener("resume",zs,!1),(0,it.as)()&&document.addEventListener("visibilitychange",Ws,!1),vr=()=>{mn.removePassiveListener(Wi),document.removeEventListener("resume",zs,!1),document.removeEventListener("visibilitychange",Ws,!1),Zi&&window.clearTimeout(Zi)}})}finally{vr()}})).apply(this,arguments)}function fe(On){return ye.apply(this,arguments)}function ye(){return(ye=(0,C.Z)(function*(On){const mn=Se(On),Rt=yield crypto.subtle.digest("SHA-256",mn);return Array.from(new Uint8Array(Rt)).map(vr=>vr.toString(16).padStart(2,"0")).join("")})).apply(this,arguments)}function Se(On){if((0,it.aq)(/[0-9a-zA-Z]+/.test(On),"Can only convert alpha-numeric strings"),"undefined"!=typeof TextEncoder)return(new TextEncoder).encode(On);const mn=new ArrayBuffer(On.length),Rt=new Uint8Array(mn);for(let hr=0;hr<On.length;hr++)Rt[hr]=On.charCodeAt(hr);return Rt}class se extends it.aA{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(mn=>{this.resolveInialized=mn})}addPassiveListener(mn){this.passiveListeners.add(mn)}removePassiveListener(mn){this.passiveListeners.delete(mn)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(mn){return this.resolveInialized(),this.passiveListeners.forEach(Rt=>Rt(mn)),super.onEvent(mn)}initialized(){var mn=this;return(0,C.Z)(function*(){yield mn.initPromise})()}}function L(On){return Q.apply(this,arguments)}function Q(){return(Q=(0,C.Z)(function*(On){const mn=yield G()._get(F(On));return mn&&(yield G()._remove(F(On))),mn})).apply(this,arguments)}function P(){const On=[],mn="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let Rt=0;Rt<20;Rt++){const hr=Math.floor(Math.random()*mn.length);On.push(mn.charAt(hr))}return On.join("")}function G(){return(0,it.ay)(it.b)}function F(On){return(0,it.az)("authEvent",On.config.apiKey,On.name)}function z(On){if(!(null==On?void 0:On.includes("?")))return{};const[mn,...Rt]=On.split("?");return(0,ve.zd)(Rt.join("?"))}function We(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:(0,it.aw)("no-auth-event")}}function Oe(){var On;return(null===(On=null==self?void 0:self.location)||void 0===On?void 0:On.protocol)||null}function ot(On=(0,ve.z$)()){return!("file:"!==Oe()&&"ionic:"!==Oe()&&"capacitor:"!==Oe()||!On.toLowerCase().match(/iphone|ipad|ipod|android/))}function Ee(){try{const On=self.localStorage,mn=it.aI();if(On)return On.setItem(mn,"1"),On.removeItem(mn),!function J(On=(0,ve.z$)()){return function j(){return(0,ve.w1)()&&11===(null==document?void 0:document.documentMode)}()||function be(On=(0,ve.z$)()){return/Edge\/\d+/.test(On)}(On)}()||(0,ve.hl)()}catch(On){return Ue()&&(0,ve.hl)()}return!1}function Ue(){return"undefined"!=typeof global&&"WorkerGlobalScope"in global&&"importScripts"in global}function lt(){return(function $e(){return"http:"===Oe()||"https:"===Oe()}()||(0,ve.ru)()||ot())&&!function at(){return(0,ve.b$)()||(0,ve.UG)()}()&&Ee()&&!Ue()}function Tt(){return ot()&&"undefined"!=typeof document}function $t(){return($t=(0,C.Z)(function*(){return!!Tt()&&new Promise(On=>{const mn=setTimeout(()=>{On(!1)},1e3);document.addEventListener("deviceready",()=>{clearTimeout(mn),On(!0)})})})).apply(this,arguments)}const Nn={LOCAL:"local",NONE:"none",SESSION:"session"},$n=it.ax,yn="persistence";function ke(On){return ft.apply(this,arguments)}function ft(){return(ft=(0,C.Z)(function*(On){yield On._initializationPromise;const mn=ct(),Rt=it.az(yn,On.config.apiKey,On.name);mn&&mn.setItem(Rt,On._getPersistence())})).apply(this,arguments)}function ct(){var On;try{return(null===(On=function vn(){return"undefined"!=typeof window?window:null}())||void 0===On?void 0:On.sessionStorage)||null}catch(mn){return null}}const jt=it.ax;class nn{constructor(){this.browserResolver=it.ay(it.k),this.cordovaResolver=it.ay(class Ke{constructor(){this._redirectPersistence=it.a,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=it.aB,this._overrideRedirectResult=it.aC}_initialize(mn){var Rt=this;return(0,C.Z)(function*(){const hr=mn._key();let vr=Rt.eventManagers.get(hr);return vr||(vr=new se(mn),Rt.eventManagers.set(hr,vr),Rt.attachCallbackListeners(mn,vr)),vr})()}_openPopup(mn){(0,it.at)(mn,"operation-not-supported-in-this-environment")}_openRedirect(mn,Rt,hr,vr){var ai=this;return(0,C.Z)(function*(){!function W(On){var mn,Rt,hr,vr,ai,ki,Zi,Wi,zs,Ws;const Ji=Qe();(0,it.ax)("function"==typeof(null===(mn=null==Ji?void 0:Ji.universalLinks)||void 0===mn?void 0:mn.subscribe),On,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),(0,it.ax)(void 0!==(null===(Rt=null==Ji?void 0:Ji.BuildInfo)||void 0===Rt?void 0:Rt.packageName),On,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),(0,it.ax)("function"==typeof(null===(ai=null===(vr=null===(hr=null==Ji?void 0:Ji.cordova)||void 0===hr?void 0:hr.plugins)||void 0===vr?void 0:vr.browsertab)||void 0===ai?void 0:ai.openUrl),On,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),(0,it.ax)("function"==typeof(null===(Wi=null===(Zi=null===(ki=null==Ji?void 0:Ji.cordova)||void 0===ki?void 0:ki.plugins)||void 0===Zi?void 0:Zi.browsertab)||void 0===Wi?void 0:Wi.isAvailable),On,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),(0,it.ax)("function"==typeof(null===(Ws=null===(zs=null==Ji?void 0:Ji.cordova)||void 0===zs?void 0:zs.InAppBrowser)||void 0===Ws?void 0:Ws.open),On,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(mn);const ki=yield ai._initialize(mn);yield ki.initialized(),ki.resetRedirect(),(0,it.aD)(),yield ai._originValidation(mn);const Zi=function pe(On,mn,Rt=null){return{type:mn,eventId:Rt,urlResponse:null,sessionId:P(),postBody:null,tenantId:On.tenantId,error:(0,it.aw)(On,"no-auth-event")}}(mn,hr,vr);yield function Ce(On,mn){return G()._set(F(On),mn)}(mn,Zi);const Wi=yield function ze(On,mn,Rt){return qe.apply(this,arguments)}(mn,Zi,Rt),zs=yield function xe(On){const{cordova:mn}=Qe();return new Promise(Rt=>{mn.plugins.browsertab.isAvailable(hr=>{let vr=null;hr?mn.plugins.browsertab.openUrl(On):vr=mn.InAppBrowser.open(On,(0,it.ap)()?"_blank":"_system","location=yes"),Rt(vr)})})}(Wi);return function we(On,mn,Rt){return de.apply(this,arguments)}(mn,ki,zs)})()}_isIframeWebStorageSupported(mn,Rt){throw new Error("Method not implemented.")}_originValidation(mn){const Rt=mn._key();return this.originValidationPromises[Rt]||(this.originValidationPromises[Rt]=function Fe(On){return He.apply(this,arguments)}(mn)),this.originValidationPromises[Rt]}attachCallbackListeners(mn,Rt){const{universalLinks:hr,handleOpenURL:vr,BuildInfo:ai}=Qe(),ki=setTimeout((0,C.Z)(function*(){yield L(mn),Rt.onEvent(We())}),500),Zi=function(){var Ws=(0,C.Z)(function*(Ji){clearTimeout(ki);const gs=yield L(mn);let xs=null;gs&&(null==Ji?void 0:Ji.url)&&(xs=function re(On,mn){var Rt,hr;const vr=function R(On){const mn=z(On),Rt=mn.link?decodeURIComponent(mn.link):void 0,hr=z(Rt).link,vr=mn.deep_link_id?decodeURIComponent(mn.deep_link_id):void 0;return z(vr).link||vr||hr||Rt||On}(mn);if(vr.includes("/__/auth/callback")){const ai=z(vr),ki=ai.firebaseError?function ae(On){try{return JSON.parse(On)}catch(mn){return null}}(decodeURIComponent(ai.firebaseError)):null,Zi=null===(hr=null===(Rt=null==ki?void 0:ki.code)||void 0===Rt?void 0:Rt.split("auth/"))||void 0===hr?void 0:hr[1],Wi=Zi?(0,it.aw)(Zi):null;return Wi?{type:On.type,eventId:On.eventId,tenantId:On.tenantId,error:Wi,urlResponse:null,sessionId:null,postBody:null}:{type:On.type,eventId:On.eventId,tenantId:On.tenantId,sessionId:On.sessionId,urlResponse:vr,postBody:null}}return null}(gs,Ji.url)),Rt.onEvent(xs||We())});return function(gs){return Ws.apply(this,arguments)}}();void 0!==hr&&"function"==typeof hr.subscribe&&hr.subscribe(null,Zi);const Wi=vr,zs=`${ai.packageName.toLowerCase()}://`;Qe().handleOpenURL=function(){var Ws=(0,C.Z)(function*(Ji){if(Ji.toLowerCase().startsWith(zs)&&Zi({url:Ji}),"function"==typeof Wi)try{Wi(Ji)}catch(gs){console.error(gs)}});return function(Ji){return Ws.apply(this,arguments)}}()}}),this.underlyingResolver=null,this._redirectPersistence=it.a,this._completeRedirectFn=it.aB,this._overrideRedirectResult=it.aC}_initialize(mn){var Rt=this;return(0,C.Z)(function*(){return yield Rt.selectUnderlyingResolver(),Rt.assertedUnderlyingResolver._initialize(mn)})()}_openPopup(mn,Rt,hr,vr){var ai=this;return(0,C.Z)(function*(){return yield ai.selectUnderlyingResolver(),ai.assertedUnderlyingResolver._openPopup(mn,Rt,hr,vr)})()}_openRedirect(mn,Rt,hr,vr){var ai=this;return(0,C.Z)(function*(){return yield ai.selectUnderlyingResolver(),ai.assertedUnderlyingResolver._openRedirect(mn,Rt,hr,vr)})()}_isIframeWebStorageSupported(mn,Rt){this.assertedUnderlyingResolver._isIframeWebStorageSupported(mn,Rt)}_originValidation(mn){return this.assertedUnderlyingResolver._originValidation(mn)}get _shouldInitProactively(){return Tt()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return jt(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var mn=this;return(0,C.Z)(function*(){if(mn.underlyingResolver)return;const Rt=yield function Ft(){return $t.apply(this,arguments)}();mn.underlyingResolver=Rt?mn.cordovaResolver:mn.browserResolver})()}}function jn(On){return On.unwrap()}function mr(On){return dr(On)}function dr(On){const{_tokenResponse:mn}=On instanceof ve.ZR?On.customData:On;if(!mn)return null;if(!(On instanceof ve.ZR)&&"temporaryProof"in mn&&"phoneNumber"in mn)return it.P.credentialFromResult(On);const Rt=mn.providerId;if(!Rt||Rt===it.o.PASSWORD)return null;let hr;switch(Rt){case it.o.GOOGLE:hr=it.Q;break;case it.o.FACEBOOK:hr=it.N;break;case it.o.GITHUB:hr=it.T;break;case it.o.TWITTER:hr=it.W;break;default:const{oauthIdToken:vr,oauthAccessToken:ai,oauthTokenSecret:ki,pendingToken:Zi,nonce:Wi}=mn;return ai||ki||vr||Zi?Zi?Rt.startsWith("saml.")?it.aL._create(Rt,Zi):it.J._fromParams({providerId:Rt,signInMethod:Rt,pendingToken:Zi,idToken:vr,accessToken:ai}):new it.U(Rt).credential({idToken:vr,accessToken:ai,rawNonce:Wi}):null}return On instanceof ve.ZR?hr.credentialFromError(On):hr.credentialFromResult(On)}function zr(On,mn){return mn.catch(Rt=>{throw Rt instanceof ve.ZR&&function Mr(On,mn){var Rt,hr;const vr=null===(Rt=mn.customData)||void 0===Rt?void 0:Rt._tokenResponse;if("auth/multi-factor-auth-required"===(null===(hr=mn)||void 0===hr?void 0:hr.code))mn.resolver=new mt(On,it.an(On,mn));else if(vr){const ai=dr(mn),ki=mn;ai&&(ki.credential=ai,ki.tenantId=vr.tenantId||void 0,ki.email=vr.email||void 0,ki.phoneNumber=vr.phoneNumber||void 0)}}(On,Rt),Rt}).then(Rt=>{const vr=Rt.user;return{operationType:Rt.operationType,credential:mr(Rt),additionalUserInfo:it.al(Rt),user:Be.getOrCreate(vr)}})}function Pr(On,mn){return fn.apply(this,arguments)}function fn(){return(fn=(0,C.Z)(function*(On,mn){const Rt=yield mn;return{verificationId:Rt.verificationId,confirm:hr=>zr(On,Rt.confirm(hr))}})).apply(this,arguments)}class mt{constructor(mn,Rt){this.resolver=Rt,this.auth=function br(On){return On.wrapped()}(mn)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(mn){return zr(jn(this.auth),this.resolver.resolveSignIn(mn))}}class Be{constructor(mn){this._delegate=mn,this.multiFactor=it.ao(mn)}static getOrCreate(mn){return Be.USER_MAP.has(mn)||Be.USER_MAP.set(mn,new Be(mn)),Be.USER_MAP.get(mn)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(mn){return this._delegate.getIdTokenResult(mn)}getIdToken(mn){return this._delegate.getIdToken(mn)}linkAndRetrieveDataWithCredential(mn){return this.linkWithCredential(mn)}linkWithCredential(mn){var Rt=this;return(0,C.Z)(function*(){return zr(Rt.auth,it.Z(Rt._delegate,mn))})()}linkWithPhoneNumber(mn,Rt){var hr=this;return(0,C.Z)(function*(){return Pr(hr.auth,it.l(hr._delegate,mn,Rt))})()}linkWithPopup(mn){var Rt=this;return(0,C.Z)(function*(){return zr(Rt.auth,it.d(Rt._delegate,mn,nn))})()}linkWithRedirect(mn){var Rt=this;return(0,C.Z)(function*(){return yield ke(it.aE(Rt.auth)),it.g(Rt._delegate,mn,nn)})()}reauthenticateAndRetrieveDataWithCredential(mn){return this.reauthenticateWithCredential(mn)}reauthenticateWithCredential(mn){var Rt=this;return(0,C.Z)(function*(){return zr(Rt.auth,it._(Rt._delegate,mn))})()}reauthenticateWithPhoneNumber(mn,Rt){return Pr(this.auth,it.r(this._delegate,mn,Rt))}reauthenticateWithPopup(mn){return zr(this.auth,it.e(this._delegate,mn,nn))}reauthenticateWithRedirect(mn){var Rt=this;return(0,C.Z)(function*(){return yield ke(it.aE(Rt.auth)),it.h(Rt._delegate,mn,nn)})()}sendEmailVerification(mn){return it.ab(this._delegate,mn)}unlink(mn){var Rt=this;return(0,C.Z)(function*(){return yield it.ak(Rt._delegate,mn),Rt})()}updateEmail(mn){return it.ag(this._delegate,mn)}updatePassword(mn){return it.ah(this._delegate,mn)}updatePhoneNumber(mn){return it.u(this._delegate,mn)}updateProfile(mn){return it.af(this._delegate,mn)}verifyBeforeUpdateEmail(mn,Rt){return it.ac(this._delegate,mn,Rt)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}Be.USER_MAP=new WeakMap;const et=it.ax;let ht=(()=>{class On{constructor(Rt,hr){if(this.app=Rt,hr.isInitialized())return this._delegate=hr.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:vr}=Rt.options;et(vr,"invalid-api-key",{appName:Rt.name}),et(vr,"invalid-api-key",{appName:Rt.name});const ai="undefined"!=typeof window?nn:void 0;this._delegate=hr.initialize({options:{persistence:pn(vr,Rt.name),popupRedirectResolver:ai}}),this._delegate._updateErrorMap(it.B),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?Be.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(Rt){this._delegate.languageCode=Rt}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(Rt){this._delegate.tenantId=Rt}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(Rt,hr){it.G(this._delegate,Rt,hr)}applyActionCode(Rt){return it.a2(this._delegate,Rt)}checkActionCode(Rt){return it.a3(this._delegate,Rt)}confirmPasswordReset(Rt,hr){return it.a1(this._delegate,Rt,hr)}createUserWithEmailAndPassword(Rt,hr){var vr=this;return(0,C.Z)(function*(){return zr(vr._delegate,it.a5(vr._delegate,Rt,hr))})()}fetchProvidersForEmail(Rt){return this.fetchSignInMethodsForEmail(Rt)}fetchSignInMethodsForEmail(Rt){return it.aa(this._delegate,Rt)}isSignInWithEmailLink(Rt){return it.a8(this._delegate,Rt)}getRedirectResult(){var Rt=this;return(0,C.Z)(function*(){et(lt(),Rt._delegate,"operation-not-supported-in-this-environment");const hr=yield it.j(Rt._delegate,nn);return hr?zr(Rt._delegate,Promise.resolve(hr)):{credential:null,user:null}})()}addFrameworkForLogging(Rt){!function Te(On,mn){(0,it.aE)(On)._logFramework(mn)}(this._delegate,Rt)}onAuthStateChanged(Rt,hr,vr){const{next:ai,error:ki,complete:Zi}=Nt(Rt,hr,vr);return this._delegate.onAuthStateChanged(ai,ki,Zi)}onIdTokenChanged(Rt,hr,vr){const{next:ai,error:ki,complete:Zi}=Nt(Rt,hr,vr);return this._delegate.onIdTokenChanged(ai,ki,Zi)}sendSignInLinkToEmail(Rt,hr){return it.a7(this._delegate,Rt,hr)}sendPasswordResetEmail(Rt,hr){return it.a0(this._delegate,Rt,hr||void 0)}setPersistence(Rt){var hr=this;return(0,C.Z)(function*(){let vr;switch(function hn(On,mn){$n(Object.values(Nn).includes(mn),On,"invalid-persistence-type"),(0,ve.b$)()?$n(mn!==Nn.SESSION,On,"unsupported-persistence-type"):(0,ve.UG)()?$n(mn===Nn.NONE,On,"unsupported-persistence-type"):Ue()?$n(mn===Nn.NONE||mn===Nn.LOCAL&&(0,ve.hl)(),On,"unsupported-persistence-type"):$n(mn===Nn.NONE||Ee(),On,"unsupported-persistence-type")}(hr._delegate,Rt),Rt){case Nn.SESSION:vr=it.a;break;case Nn.LOCAL:vr=(yield it.ay(it.i)._isAvailable())?it.i:it.b;break;case Nn.NONE:vr=it.L;break;default:return it.at("argument-error",{appName:hr._delegate.name})}return hr._delegate.setPersistence(vr)})()}signInAndRetrieveDataWithCredential(Rt){return this.signInWithCredential(Rt)}signInAnonymously(){return zr(this._delegate,it.X(this._delegate))}signInWithCredential(Rt){return zr(this._delegate,it.Y(this._delegate,Rt))}signInWithCustomToken(Rt){return zr(this._delegate,it.$(this._delegate,Rt))}signInWithEmailAndPassword(Rt,hr){return zr(this._delegate,it.a6(this._delegate,Rt,hr))}signInWithEmailLink(Rt,hr){return zr(this._delegate,it.a9(this._delegate,Rt,hr))}signInWithPhoneNumber(Rt,hr){return Pr(this._delegate,it.s(this._delegate,Rt,hr))}signInWithPopup(Rt){var hr=this;return(0,C.Z)(function*(){return et(lt(),hr._delegate,"operation-not-supported-in-this-environment"),zr(hr._delegate,it.c(hr._delegate,Rt,nn))})()}signInWithRedirect(Rt){var hr=this;return(0,C.Z)(function*(){return et(lt(),hr._delegate,"operation-not-supported-in-this-environment"),yield ke(hr._delegate),it.f(hr._delegate,Rt,nn)})()}updateCurrentUser(Rt){return this._delegate.updateCurrentUser(Rt)}verifyPasswordResetCode(Rt){return it.a4(this._delegate,Rt)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return On.Persistence=Nn,On})();function Nt(On,mn,Rt){let hr=On;"function"!=typeof On&&({next:hr,error:mn,complete:Rt}=On);const vr=hr;return{next:ki=>vr(ki&&Be.getOrCreate(ki)),error:mn,complete:Rt}}function pn(On,mn){const Rt=function It(On,mn){const Rt=ct();if(!Rt)return[];const hr=it.az(yn,On,mn);switch(Rt.getItem(hr)){case Nn.NONE:return[it.L];case Nn.LOCAL:return[it.i,it.a];case Nn.SESSION:return[it.a];default:return[]}}(On,mn);if("undefined"!=typeof self&&!Rt.includes(it.i)&&Rt.push(it.i),"undefined"!=typeof window)for(const hr of[it.b,it.a])Rt.includes(hr)||Rt.push(hr);return Rt.includes(it.L)||Rt.push(it.L),Rt}class Mn{constructor(){this.providerId="phone",this._delegate=new it.P(jn(h.Z.auth()))}static credential(mn,Rt){return it.P.credential(mn,Rt)}verifyPhoneNumber(mn,Rt){return this._delegate.verifyPhoneNumber(mn,Rt)}unwrap(){return this._delegate}}Mn.PHONE_SIGN_IN_METHOD=it.P.PHONE_SIGN_IN_METHOD,Mn.PROVIDER_ID=it.P.PROVIDER_ID;const xr=it.ax;class Dr{constructor(mn,Rt,hr=h.Z.app()){var vr;xr(null===(vr=hr.options)||void 0===vr?void 0:vr.apiKey,"invalid-api-key",{appName:hr.name}),this._delegate=new it.R(mn,Rt,hr.auth()),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}!function Ar(On){On.INTERNAL.registerComponent(new tt.wA("auth-compat",mn=>{const Rt=mn.getProvider("app-compat").getImmediate(),hr=mn.getProvider("auth");return new ht(Rt,hr)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:it.A.EMAIL_SIGNIN,PASSWORD_RESET:it.A.PASSWORD_RESET,RECOVER_EMAIL:it.A.RECOVER_EMAIL,REVERT_SECOND_FACTOR_ADDITION:it.A.REVERT_SECOND_FACTOR_ADDITION,VERIFY_AND_CHANGE_EMAIL:it.A.VERIFY_AND_CHANGE_EMAIL,VERIFY_EMAIL:it.A.VERIFY_EMAIL}},EmailAuthProvider:it.M,FacebookAuthProvider:it.N,GithubAuthProvider:it.T,GoogleAuthProvider:it.Q,OAuthProvider:it.U,SAMLAuthProvider:it.V,PhoneAuthProvider:Mn,PhoneMultiFactorGenerator:it.m,RecaptchaVerifier:Dr,TwitterAuthProvider:it.W,Auth:ht,AuthCredential:it.H,Error:ve.ZR}).setInstantiationMode("LAZY").setMultipleInstances(!1)),On.registerVersion("@firebase/auth-compat","0.2.17")}(h.Z)},3470:function(Gr,Ln,me){var C,h,it;h="undefined"!=typeof window?window:this,it=function(h){function it(Ne,I,tt,Qe){Ne.hasOwnProperty(I)||(Ne[I]=Qe.apply(null,tt),"function"==typeof CustomEvent&&h.dispatchEvent(new CustomEvent("HighchartsModuleLoaded",{detail:{path:I,module:Ne[I]}})))}var ve={};return it(ve,"Core/Globals.js",[],function(){var Ne,I;return(I=Ne||(Ne={})).SVG_NS="http://www.w3.org/2000/svg",I.product="Highcharts",I.version="10.1.0",I.win=void 0!==h?h:{},I.doc=I.win.document,I.svg=I.doc&&I.doc.createElementNS&&!!I.doc.createElementNS(I.SVG_NS,"svg").createSVGRect,I.userAgent=I.win.navigator&&I.win.navigator.userAgent||"",I.isChrome=-1!==I.userAgent.indexOf("Chrome"),I.isFirefox=-1!==I.userAgent.indexOf("Firefox"),I.isMS=/(edge|msie|trident)/i.test(I.userAgent)&&!I.win.opera,I.isSafari=!I.isChrome&&-1!==I.userAgent.indexOf("Safari"),I.isTouchDevice=/(Mobile|Android|Windows Phone)/.test(I.userAgent),I.isWebKit=-1!==I.userAgent.indexOf("AppleWebKit"),I.deg2rad=2*Math.PI/360,I.hasBidiBug=I.isFirefox&&4>parseInt(I.userAgent.split("Firefox/")[1],10),I.hasTouch=!!I.win.TouchEvent,I.marginNames=["plotTop","marginRight","marginBottom","plotLeft"],I.noop=function(){},I.supportsPassiveEvents=function(){var tt=!1;if(!I.isMS){var Qe=Object.defineProperty({},"passive",{get:function(){tt=!0}});I.win.addEventListener&&I.win.removeEventListener&&(I.win.addEventListener("testPassive",I.noop,Qe),I.win.removeEventListener("testPassive",I.noop,Qe))}return tt}(),I.charts=[],I.dateFormats={},I.seriesTypes={},I.symbolSizes={},I.chartCount=0,Ne}),it(ve,"Core/Utilities.js",[ve["Core/Globals.js"]],function(Ne){function I(R,z,De,Ke){var dt=z?"Highcharts error":"Highcharts warning";32===R&&(R=dt+": Deprecated member");var We=xe(R),Te=We?dt+" #"+R+": www.highcharts.com/errors/"+R+"/":R.toString();if(void 0!==Ke){var Je="";We&&(Te+="?"),pe(Ke,function(Z,ne){Je+="\n - "+ne+": "+Z,We&&(Te+=encodeURI(ne)+"="+encodeURI(Z))}),Te+=Je}L(Ne,"displayError",{chart:De,code:R,message:Te,params:Ke},function(){if(z)throw Error(Te);P.console&&-1===I.messages.indexOf(Te)&&console.warn(Te)}),I.messages.push(Te)}function Qe(R,z){return parseInt(R,z||10)}function nt(R){return"string"==typeof R}function ze(R){return"[object Array]"===(R=Object.prototype.toString.call(R))||"[object Array Iterator]"===R}function qe(R,z){return!(!R||"object"!=typeof R||z&&ze(R))}function Fe(R){return qe(R)&&"number"==typeof R.nodeType}function He(R){var z=R&&R.constructor;return!(!qe(R,!0)||Fe(R)||!z||!z.name||"Object"===z.name)}function xe(R){return"number"==typeof R&&!isNaN(R)&&1/0>R&&-1/0<R}function we(R){return null!=R}function de(R,z,De){var dt,Ke=nt(z)&&!we(De),We=function(Te,Je){we(Te)?R.setAttribute(Je,Te):Ke?(dt=R.getAttribute(Je))||"class"!==Je||(dt=R.getAttribute(Je+"Name")):R.removeAttribute(Je)};return nt(z)?We(De,z):pe(z,We),dt}function W(R,z){var De;for(De in R||(R={}),z)R[De]=z[De];return R}function fe(){for(var R=arguments,z=R.length,De=0;De<z;De++){var Ke=R[De];if(null!=Ke)return Ke}}function ye(R,z){Ne.isMS&&!Ne.svg&&z&&we(z.opacity)&&(z.filter="alpha(opacity="+100*z.opacity+")"),W(R.style,z)}function Se(R){return Math.pow(10,Math.floor(Math.log(R)/Math.LN10))}function oe(R,z){return 1e14<R?R:parseFloat(R.toPrecision(z||14))}function pe(R,z,De){for(var Ke in R)Object.hasOwnProperty.call(R,Ke)&&z.call(De||R[Ke],R[Ke],Ke,R)}function Ce(R,z,De){function Ke(Je,Z){var ne=R.removeEventListener||Ne.removeEventListenerPolyfill;ne&&ne.call(R,Je,Z,!1)}function dt(Je){var Z;if(R.nodeName){if(z){var ne={};ne[z]=!0}else ne=Je;pe(ne,function(Oe,$e){if(Je[$e])for(Z=Je[$e].length;Z--;)Ke($e,Je[$e][Z].fn)})}}var We="function"==typeof R&&R.prototype||R;if(Object.hasOwnProperty.call(We,"hcEvents")){var Te=We.hcEvents;z?(We=Te[z]||[],De?(Te[z]=We.filter(function(Je){return De!==Je.fn}),Ke(z,De)):(dt(Te),Te[z]=[])):(dt(Te),delete We.hcEvents)}}function L(R,z,De,Ke){if(De=De||{},re.createEvent&&(R.dispatchEvent||R.fireEvent&&R!==Ne)){var dt=re.createEvent("Events");dt.initEvent(z,!0,!0),De=W(dt,De),R.dispatchEvent?R.dispatchEvent(De):R.fireEvent(z,De)}else if(R.hcEvents){De.target||W(De,{preventDefault:function(){De.defaultPrevented=!0},target:R,type:z}),dt=[];for(var We=R,Te=!1;We.hcEvents;)Object.hasOwnProperty.call(We,"hcEvents")&&We.hcEvents[z]&&(dt.length&&(Te=!0),dt.unshift.apply(dt,We.hcEvents[z])),We=Object.getPrototypeOf(We);Te&&dt.sort(function(Je,Z){return Je.order-Z.order}),dt.forEach(function(Je){!1===Je.fn.call(R,De)&&De.preventDefault()})}Ke&&!De.defaultPrevented&&Ke.call(R,De)}var Q=Ne.charts,re=Ne.doc,P=Ne.win;(I||(I={})).messages=[],Math.easeInOutSine=function(R){return-.5*(Math.cos(Math.PI*R)-1)};var G=Array.prototype.find?function(R,z){return R.find(z)}:function(R,z){var De,Ke=R.length;for(De=0;De<Ke;De++)if(z(R[De],De))return R[De]};pe({map:"map",each:"forEach",grep:"filter",reduce:"reduce",some:"some"},function(R,z){Ne[z]=function(De){var Ke;return I(32,!1,void 0,((Ke={})["Highcharts."+z]="use Array."+R,Ke)),Array.prototype[R].apply(De,[].slice.call(arguments,1))}});var F,R,z,ae=(R=Math.random().toString(36).substring(2,9)+"-",z=0,function(){return"highcharts-"+(F?"":R)+z++});return P.jQuery&&(P.jQuery.fn.highcharts=function(){var R=[].slice.call(arguments);if(this[0])return R[0]?(new(Ne[nt(R[0])?R.shift():"Chart"])(this[0],R[0],R[1]),this):Q[de(this[0],"data-highcharts-chart")]}),G={addEvent:function(R,z,De,Ke){void 0===Ke&&(Ke={});var dt="function"==typeof R&&R.prototype||R;Object.hasOwnProperty.call(dt,"hcEvents")||(dt.hcEvents={}),dt=dt.hcEvents,Ne.Point&&R instanceof Ne.Point&&R.series&&R.series.chart&&(R.series.chart.runTrackerClick=!0);var We=R.addEventListener||Ne.addEventListenerPolyfill;return We&&We.call(R,z,De,!!Ne.supportsPassiveEvents&&{passive:void 0===Ke.passive?-1!==z.indexOf("touch"):Ke.passive,capture:!1}),dt[z]||(dt[z]=[]),dt[z].push({fn:De,order:"number"==typeof Ke.order?Ke.order:1/0}),dt[z].sort(function(Te,Je){return Te.order-Je.order}),function(){Ce(R,z,De)}},arrayMax:function(R){for(var z=R.length,De=R[0];z--;)R[z]>De&&(De=R[z]);return De},arrayMin:function(R){for(var z=R.length,De=R[0];z--;)R[z]<De&&(De=R[z]);return De},attr:de,clamp:function(R,z,De){return R>z?R<De?R:De:z},cleanRecursively:function tt(R,z){var De={};return pe(R,function(Ke,dt){qe(R[dt],!0)&&!R.nodeType&&z[dt]?(Ke=tt(R[dt],z[dt]),Object.keys(Ke).length&&(De[dt]=Ke)):(qe(R[dt])||R[dt]!==z[dt]||dt in R&&!(dt in z))&&(De[dt]=R[dt])}),De},clearTimeout:function(R){we(R)&&clearTimeout(R)},correctFloat:oe,createElement:function(R,z,De,Ke,dt){return R=re.createElement(R),z&&W(R,z),dt&&ye(R,{padding:"0",border:"none",margin:"0"}),De&&ye(R,De),Ke&&Ke.appendChild(R),R},css:ye,defined:we,destroyObjectProperties:function(R,z){pe(R,function(De,Ke){De&&De!==z&&De.destroy&&De.destroy(),delete R[Ke]})},discardElement:function(R){R&&R.parentElement&&R.parentElement.removeChild(R)},erase:function(R,z){for(var De=R.length;De--;)if(R[De]===z){R.splice(De,1);break}},error:I,extend:W,extendClass:function(R,z){var De=function(){};return W(De.prototype=new R,z),De},find:G,fireEvent:L,getMagnitude:Se,getNestedProperty:function(R,z){for(R=R.split(".");R.length&&we(z);){var De=R.shift();if(void 0===De||"__proto__"===De||!we(z=z[De])||"function"==typeof z||"number"==typeof z.nodeType||z===P)return}return z},getStyle:function se(R,z,De){var Ke=Ne.getStyle||se;if("width"===z)return z=Math.min(R.offsetWidth,R.scrollWidth),(De=R.getBoundingClientRect&&R.getBoundingClientRect().width)<z&&De>=z-1&&(z=Math.floor(De)),Math.max(0,z-(Ke(R,"padding-left",!0)||0)-(Ke(R,"padding-right",!0)||0));if("height"===z)return Math.max(0,Math.min(R.offsetHeight,R.scrollHeight)-(Ke(R,"padding-top",!0)||0)-(Ke(R,"padding-bottom",!0)||0));if(P.getComputedStyle||I(27,!0),R=P.getComputedStyle(R,void 0)){var dt=R.getPropertyValue(z);fe(De,"opacity"!==z)&&(dt=Qe(dt))}return dt},inArray:function(R,z,De){return I(32,!1,void 0,{"Highcharts.inArray":"use Array.indexOf"}),z.indexOf(R,De)},isArray:ze,isClass:He,isDOMElement:Fe,isFunction:function(R){return"function"==typeof R},isNumber:xe,isObject:qe,isString:nt,keys:function(R){return I(32,!1,void 0,{"Highcharts.keys":"use Object.keys"}),Object.keys(R)},merge:function(){var R,z=arguments,De={},Ke=function(We,Te){return"object"!=typeof We&&(We={}),pe(Te,function(Je,Z){"__proto__"!==Z&&"constructor"!==Z&&(We[Z]=!qe(Je,!0)||He(Je)||Fe(Je)?Te[Z]:Ke(We[Z]||{},Je))}),We};!0===z[0]&&(De=z[1],z=Array.prototype.slice.call(z,2));var dt=z.length;for(R=0;R<dt;R++)De=Ke(De,z[R]);return De},normalizeTickInterval:function(R,z,De,Ke,dt){var We=R,Te=R/(De=fe(De,Se(R)));for(z||(z=dt?[1,1.2,1.5,2,2.5,3,4,5,6,8,10]:[1,2,2.5,5,10],!1===Ke&&(1===De?z=z.filter(function(Je){return Je%1==0}):.1>=De&&(z=[1/De]))),Ke=0;Ke<z.length&&(We=z[Ke],!(dt&&We*De>=R||!dt&&Te<=(z[Ke]+(z[Ke+1]||z[Ke]))/2));Ke++);return oe(We*De,-Math.round(Math.log(.001)/Math.LN10))},objectEach:pe,offset:function(R){var z=re.documentElement;return{top:(R=R.parentElement||R.parentNode?R.getBoundingClientRect():{top:0,left:0,width:0,height:0}).top+(P.pageYOffset||z.scrollTop)-(z.clientTop||0),left:R.left+(P.pageXOffset||z.scrollLeft)-(z.clientLeft||0),width:R.width,height:R.height}},pad:function(R,z,De){return Array((z||2)+1-String(R).replace("-","").length).join(De||"0")+R},pick:fe,pInt:Qe,relativeLength:function(R,z,De){return/%$/.test(R)?z*parseFloat(R)/100+(De||0):parseFloat(R)},removeEvent:Ce,splat:function(R){return ze(R)?R:[R]},stableSort:function(R,z){var Ke,dt,De=R.length;for(dt=0;dt<De;dt++)R[dt].safeI=dt;for(R.sort(function(We,Te){return 0===(Ke=z(We,Te))?We.safeI-Te.safeI:Ke}),dt=0;dt<De;dt++)delete R[dt].safeI},syncTimeout:function(R,z,De){return 0<z?setTimeout(R,z,De):(R.call(0,De),-1)},timeUnits:{millisecond:1,second:1e3,minute:6e4,hour:36e5,day:864e5,week:6048e5,month:24192e5,year:314496e5},uniqueKey:ae,useSerialIds:function(R){return F=fe(R,F)},wrap:function(R,z,De){var Ke=R[z];R[z]=function(){var dt=Array.prototype.slice.call(arguments),We=arguments,Te=this;return Te.proceed=function(){Ke.apply(Te,arguments.length?arguments:We)},dt.unshift(Ke),dt=De.apply(this,dt),Te.proceed=null,dt}}},G}),it(ve,"Core/Chart/ChartDefaults.js",[],function(){return{alignThresholds:!1,panning:{enabled:!1,type:"x"},styledMode:!1,borderRadius:0,colorCount:10,allowMutatingData:!0,defaultSeriesType:"line",ignoreHiddenSeries:!0,spacing:[10,10,15,10],resetZoomButton:{theme:{zIndex:6},position:{align:"right",x:-10,y:10}},zoomBySingleTouch:!1,width:null,height:null,borderColor:"#335cad",backgroundColor:"#ffffff",plotBorderColor:"#cccccc"}}),it(ve,"Core/Color/Color.js",[ve["Core/Globals.js"],ve["Core/Utilities.js"]],function(Ne,I){var tt=I.isNumber,Qe=I.merge,nt=I.pInt;return function(){function ze(qe){this.rgba=[NaN,NaN,NaN,NaN],this.input=qe;var Fe=Ne.Color;return Fe&&Fe!==ze?new Fe(qe):this instanceof ze?void this.init(qe):new ze(qe)}return ze.parse=function(qe){return qe?new ze(qe):ze.None},ze.prototype.init=function(qe){var Fe;if("object"==typeof qe&&void 0!==qe.stops)this.stops=qe.stops.map(function(de){return new ze(de[1])});else if("string"==typeof qe){if(this.input=qe=ze.names[qe.toLowerCase()]||qe,"#"===qe.charAt(0)){var He=qe.length,xe=parseInt(qe.substr(1),16);7===He?Fe=[(16711680&xe)>>16,(65280&xe)>>8,255&xe,1]:4===He&&(Fe=[(3840&xe)>>4|(3840&xe)>>8,(240&xe)>>4|240&xe,(15&xe)<<4|15&xe,1])}if(!Fe)for(xe=ze.parsers.length;xe--&&!Fe;){var we=ze.parsers[xe];(He=we.regex.exec(qe))&&(Fe=we.parse(He))}}Fe&&(this.rgba=Fe)},ze.prototype.get=function(qe){var Fe=this.input,He=this.rgba;if("object"==typeof Fe&&void 0!==this.stops){var xe=Qe(Fe);return xe.stops=[].slice.call(xe.stops),this.stops.forEach(function(we,de){xe.stops[de]=[xe.stops[de][0],we.get(qe)]}),xe}return He&&tt(He[0])?"rgb"===qe||!qe&&1===He[3]?"rgb("+He[0]+","+He[1]+","+He[2]+")":"a"===qe?""+He[3]:"rgba("+He.join(",")+")":Fe},ze.prototype.brighten=function(qe){var Fe=this.rgba;if(this.stops)this.stops.forEach(function(xe){xe.brighten(qe)});else if(tt(qe)&&0!==qe)for(var He=0;3>He;He++)Fe[He]+=nt(255*qe),0>Fe[He]&&(Fe[He]=0),255<Fe[He]&&(Fe[He]=255);return this},ze.prototype.setOpacity=function(qe){return this.rgba[3]=qe,this},ze.prototype.tweenTo=function(qe,Fe){var He=this.rgba,xe=qe.rgba;return tt(He[0])&&tt(xe[0])?((qe=1!==xe[3]||1!==He[3])?"rgba(":"rgb(")+Math.round(xe[0]+(He[0]-xe[0])*(1-Fe))+","+Math.round(xe[1]+(He[1]-xe[1])*(1-Fe))+","+Math.round(xe[2]+(He[2]-xe[2])*(1-Fe))+(qe?","+(xe[3]+(He[3]-xe[3])*(1-Fe)):"")+")":qe.input||"none"},ze.names={white:"#ffffff",black:"#000000"},ze.parsers=[{regex:/rgba\(\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]?(?:\.[0-9]+)?)\s*\)/,parse:function(qe){return[nt(qe[1]),nt(qe[2]),nt(qe[3]),parseFloat(qe[4],10)]}},{regex:/rgb\(\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*\)/,parse:function(qe){return[nt(qe[1]),nt(qe[2]),nt(qe[3]),1]}}],ze.None=new ze(""),ze}()}),it(ve,"Core/Color/Palettes.js",[],function(){return{colors:"#7cb5ec #434348 #90ed7d #f7a35c #8085e9 #f15c80 #e4d354 #2b908f #f45b5b #91e8e1".split(" ")}}),it(ve,"Core/Time.js",[ve["Core/Globals.js"],ve["Core/Utilities.js"]],function(Ne,I){var tt=Ne.win,Qe=I.defined,nt=I.error,ze=I.extend,qe=I.isObject,Fe=I.merge,He=I.objectEach,xe=I.pad,we=I.pick,de=I.splat,W=I.timeUnits,fe=Ne.isSafari&&tt.Intl&&tt.Intl.DateTimeFormat.prototype.formatRange,ye=Ne.isSafari&&tt.Intl&&!tt.Intl.DateTimeFormat.prototype.formatRange;return I=function(){function Se(oe){this.options={},this.variableTimezone=this.useUTC=!1,this.Date=tt.Date,this.getTimezoneOffset=this.timezoneOffsetFunction(),this.update(oe)}return Se.prototype.get=function(oe,se){if(this.variableTimezone||this.timezoneOffset){var pe=se.getTime(),Ce=pe-this.getTimezoneOffset(se);return se.setTime(Ce),oe=se["getUTC"+oe](),se.setTime(pe),oe}return this.useUTC?se["getUTC"+oe]():se["get"+oe]()},Se.prototype.set=function(oe,se,pe){if(this.variableTimezone||this.timezoneOffset){if("Milliseconds"===oe||"Seconds"===oe||"Minutes"===oe&&this.getTimezoneOffset(se)%36e5==0)return se["setUTC"+oe](pe);var Ce=this.getTimezoneOffset(se);return Ce=se.getTime()-Ce,se.setTime(Ce),se["setUTC"+oe](pe),oe=this.getTimezoneOffset(se),Ce=se.getTime()+oe,se.setTime(Ce)}return this.useUTC||fe&&"FullYear"===oe?se["setUTC"+oe](pe):se["set"+oe](pe)},Se.prototype.update=function(oe){var se=we(oe&&oe.useUTC,!0);this.options=oe=Fe(!0,this.options||{},oe),this.Date=oe.Date||tt.Date||Date,this.timezoneOffset=(this.useUTC=se)&&oe.timezoneOffset,this.getTimezoneOffset=this.timezoneOffsetFunction(),this.variableTimezone=se&&!(!oe.getTimezoneOffset&&!oe.timezone)},Se.prototype.makeTime=function(oe,se,pe,Ce,L,Q){if(this.useUTC){var re=this.Date.UTC.apply(0,arguments),P=this.getTimezoneOffset(re),G=this.getTimezoneOffset(re+=P);P!==G?re+=G-P:P-36e5!==this.getTimezoneOffset(re-36e5)||ye||(re-=36e5)}else re=new this.Date(oe,se,we(pe,1),we(Ce,0),we(L,0),we(Q,0)).getTime();return re},Se.prototype.timezoneOffsetFunction=function(){var oe=this,se=this.options,pe=se.getTimezoneOffset,Ce=se.moment||tt.moment;if(!this.useUTC)return function(L){return 6e4*new Date(L.toString()).getTimezoneOffset()};if(se.timezone){if(Ce)return function(L){return 6e4*-Ce.tz(L,se.timezone).utcOffset()};nt(25)}return this.useUTC&&pe?function(L){return 6e4*pe(L.valueOf())}:function(){return 6e4*(oe.timezoneOffset||0)}},Se.prototype.dateFormat=function(oe,se,pe){if(!Qe(se)||isNaN(se))return Ne.defaultOptions.lang&&Ne.defaultOptions.lang.invalidDate||"";oe=we(oe,"%Y-%m-%d %H:%M:%S");var Ce=this,L=new this.Date(se),Q=this.get("Hours",L),re=this.get("Day",L),P=this.get("Date",L),G=this.get("Month",L),F=this.get("FullYear",L),ae=Ne.defaultOptions.lang,R=ae&&ae.weekdays,z=ae&&ae.shortWeekdays;return L=ze({a:z?z[re]:R[re].substr(0,3),A:R[re],d:xe(P),e:xe(P,2," "),w:re,b:ae.shortMonths[G],B:ae.months[G],m:xe(G+1),o:G+1,y:F.toString().substr(2,2),Y:F,H:xe(Q),k:Q,I:xe(Q%12||12),l:Q%12||12,M:xe(this.get("Minutes",L)),p:12>Q?"AM":"PM",P:12>Q?"am":"pm",S:xe(L.getSeconds()),L:xe(Math.floor(se%1e3),3)},Ne.dateFormats),He(L,function(De,Ke){for(;-1!==oe.indexOf("%"+Ke);)oe=oe.replace("%"+Ke,"function"==typeof De?De.call(Ce,se):De)}),pe?oe.substr(0,1).toUpperCase()+oe.substr(1):oe},Se.prototype.resolveDTLFormat=function(oe){return qe(oe,!0)?oe:{main:(oe=de(oe))[0],from:oe[1],to:oe[2]}},Se.prototype.getTimeTicks=function(oe,se,pe,Ce){var ae,L=this,Q=[],re={},P=new L.Date(se),G=oe.unitRange,F=oe.count||1;if(Ce=we(Ce,1),Qe(se)){if(L.set("Milliseconds",P,G>=W.second?0:F*Math.floor(L.get("Milliseconds",P)/F)),G>=W.second&&L.set("Seconds",P,G>=W.minute?0:F*Math.floor(L.get("Seconds",P)/F)),G>=W.minute&&L.set("Minutes",P,G>=W.hour?0:F*Math.floor(L.get("Minutes",P)/F)),G>=W.hour&&L.set("Hours",P,G>=W.day?0:F*Math.floor(L.get("Hours",P)/F)),G>=W.day&&L.set("Date",P,G>=W.month?1:Math.max(1,F*Math.floor(L.get("Date",P)/F))),G>=W.month){L.set("Month",P,G>=W.year?0:F*Math.floor(L.get("Month",P)/F));var R=L.get("FullYear",P)}G>=W.year&&L.set("FullYear",P,R-R%F),G===W.week&&(R=L.get("Day",P),L.set("Date",P,L.get("Date",P)-R+Ce+(R<Ce?-7:0))),R=L.get("FullYear",P),Ce=L.get("Month",P);var z=L.get("Date",P),De=L.get("Hours",P);for(se=P.getTime(),!L.variableTimezone&&L.useUTC||!Qe(pe)||(ae=pe-se>4*W.month||L.getTimezoneOffset(se)!==L.getTimezoneOffset(pe)),se=P.getTime(),P=1;se<pe;)Q.push(se),se=G===W.year?L.makeTime(R+P*F,0):G===W.month?L.makeTime(R,Ce+P*F):!ae||G!==W.day&&G!==W.week?ae&&G===W.hour&&1<F?L.makeTime(R,Ce,z,De+P*F):se+G*F:L.makeTime(R,Ce,z+P*F*(G===W.day?1:7)),P++;Q.push(se),G<=W.hour&&1e4>Q.length&&Q.forEach(function(Ke){Ke%18e5==0&&"000000000"===L.dateFormat("%H%M%S%L",Ke)&&(re[Ke]="day")})}return Q.info=ze(oe,{higherRanks:re,totalRange:G*F}),Q},Se.prototype.getDateFormat=function(oe,se,pe,Ce){var L=this.dateFormat("%m-%d %H:%M:%S.%L",se),Q={millisecond:15,second:12,minute:9,hour:6,day:3},re="millisecond";for(P in W){if(oe===W.week&&+this.dateFormat("%w",se)===pe&&"00:00:00.000"===L.substr(6)){var P="week";break}if(W[P]>oe){P=re;break}if(Q[P]&&L.substr(Q[P])!=="01-01 00:00:00.000".substr(Q[P]))break;"week"!==P&&(re=P)}if(P)var G=this.resolveDTLFormat(Ce[P]).main;return G},Se}(),I}),it(ve,"Core/DefaultOptions.js",[ve["Core/Chart/ChartDefaults.js"],ve["Core/Color/Color.js"],ve["Core/Globals.js"],ve["Core/Color/Palettes.js"],ve["Core/Time.js"],ve["Core/Utilities.js"]],function(Ne,I,tt,Qe,nt,ze){I=I.parse;var qe=ze.merge,Fe={colors:Qe.colors,symbols:["circle","diamond","square","triangle","triangle-down"],lang:{loading:"Loading...",months:"January February March April May June July August September October November December".split(" "),shortMonths:"Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec".split(" "),weekdays:"Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),decimalPoint:".",numericSymbols:"kMGTPE".split(""),resetZoom:"Reset zoom",resetZoomTitle:"Reset zoom level 1:1",thousandsSep:" "},global:{},time:{Date:void 0,getTimezoneOffset:void 0,timezone:void 0,timezoneOffset:0,useUTC:!0},chart:Ne,title:{text:"Chart title",align:"center",margin:15,widthAdjust:-44},subtitle:{text:"",align:"center",widthAdjust:-44},caption:{margin:15,text:"",align:"left",verticalAlign:"bottom"},plotOptions:{},labels:{style:{position:"absolute",color:"#333333"}},legend:{enabled:!0,align:"center",alignColumns:!0,className:"highcharts-no-tooltip",layout:"horizontal",labelFormatter:function(){return this.name},borderColor:"#999999",borderRadius:0,navigation:{activeColor:"#003399",inactiveColor:"#cccccc"},itemStyle:{color:"#333333",cursor:"pointer",fontSize:"12px",fontWeight:"bold",textOverflow:"ellipsis"},itemHoverStyle:{color:"#000000"},itemHiddenStyle:{color:"#cccccc"},shadow:!1,itemCheckboxStyle:{position:"absolute",width:"13px",height:"13px"},squareSymbol:!0,symbolPadding:5,verticalAlign:"bottom",x:0,y:0,title:{style:{fontWeight:"bold"}}},loading:{labelStyle:{fontWeight:"bold",position:"relative",top:"45%"},style:{position:"absolute",backgroundColor:"#ffffff",opacity:.5,textAlign:"center"}},tooltip:{enabled:!0,animation:tt.svg,borderRadius:3,dateTimeLabelFormats:{millisecond:"%A, %b %e, %H:%M:%S.%L",second:"%A, %b %e, %H:%M:%S",minute:"%A, %b %e, %H:%M",hour:"%A, %b %e, %H:%M",day:"%A, %b %e, %Y",week:"Week from %A, %b %e, %Y",month:"%B %Y",year:"%Y"},footerFormat:"",headerShape:"callout",hideDelay:500,padding:8,shape:"callout",shared:!1,snap:tt.isTouchDevice?25:10,headerFormat:'<span style="font-size: 10px">{point.key}</span><br/>',pointFormat:'<span style="color:{point.color}">\u25cf</span> {series.name}: <b>{point.y}</b><br/>',backgroundColor:I("#f7f7f7").setOpacity(.85).get(),borderWidth:1,shadow:!0,stickOnContact:!1,style:{color:"#333333",cursor:"default",fontSize:"12px",whiteSpace:"nowrap"},useHTML:!1},credits:{enabled:!0,href:"https://www.highcharts.com?credits",position:{align:"right",x:-10,verticalAlign:"bottom",y:-5},style:{cursor:"pointer",color:"#999999",fontSize:"9px"},text:"Highcharts.com"}};Fe.chart.styledMode=!1;var He=new nt(qe(Fe.global,Fe.time));return{defaultOptions:Fe,defaultTime:He,getOptions:function(){return Fe},setOptions:function(xe){return qe(!0,Fe,xe),(xe.time||xe.global)&&(tt.time?tt.time.update(qe(Fe.global,Fe.time,xe.global,xe.time)):tt.time=He),Fe}}}),it(ve,"Core/Animation/Fx.js",[ve["Core/Color/Color.js"],ve["Core/Globals.js"],ve["Core/Utilities.js"]],function(Ne,I,tt){var Qe=Ne.parse,nt=I.win,ze=tt.isNumber,qe=tt.objectEach;return function(){function Fe(He,xe,we){this.pos=NaN,this.options=xe,this.elem=He,this.prop=we}return Fe.prototype.dSetter=function(){var He=this.paths,xe=He&&He[0];He=He&&He[1];var we=this.now||0,de=[];if(1!==we&&xe&&He)if(xe.length===He.length&&1>we)for(var W=0;W<He.length;W++){for(var fe=xe[W],ye=He[W],Se=[],oe=0;oe<ye.length;oe++){var se=fe[oe],pe=ye[oe];Se[oe]=ze(se)&&ze(pe)&&("A"!==ye[0]||4!==oe&&5!==oe)?se+we*(pe-se):pe}de.push(Se)}else de=He;else de=this.toD||[];this.elem.attr("d",de,void 0,!0)},Fe.prototype.update=function(){var He=this.elem,xe=this.prop,we=this.now,de=this.options.step;this[xe+"Setter"]?this[xe+"Setter"]():He.attr?He.element&&He.attr(xe,we,null,!0):He.style[xe]=we+this.unit,de&&de.call(He,we,this)},Fe.prototype.run=function(He,xe,we){var de=this,W=de.options,fe=function(oe){return!fe.stopped&&de.step(oe)},ye=nt.requestAnimationFrame||function(oe){setTimeout(oe,13)},Se=function(){for(var oe=0;oe<Fe.timers.length;oe++)Fe.timers[oe]()||Fe.timers.splice(oe--,1);Fe.timers.length&&ye(Se)};He!==xe||this.elem["forceAnimate:"+this.prop]?(this.startTime=+new Date,this.start=He,this.end=xe,this.unit=we,this.now=this.start,this.pos=0,fe.elem=this.elem,fe.prop=this.prop,fe()&&1===Fe.timers.push(fe)&&ye(Se)):(delete W.curAnim[this.prop],W.complete&&0===Object.keys(W.curAnim).length&&W.complete.call(this.elem))},Fe.prototype.step=function(He){var xe=+new Date,we=this.options,de=this.elem,W=we.complete,fe=we.duration,ye=we.curAnim;if(de.attr&&!de.element)He=!1;else if(He||xe>=fe+this.startTime){this.now=this.end,this.pos=1,this.update();var Se=ye[this.prop]=!0;qe(ye,function(oe){!0!==oe&&(Se=!1)}),Se&&W&&W.call(de),He=!1}else this.pos=we.easing((xe-this.startTime)/fe),this.now=this.start+(this.end-this.start)*this.pos,this.update(),He=!0;return He},Fe.prototype.initPath=function(He,xe,we){function de(L,Q){for(;L.length<Ce;){var re=L[0],P=Q[Ce-L.length];P&&"M"===re[0]&&(L[0]="C"===P[0]?["C",re[1],re[2],re[1],re[2],re[1],re[2]]:["L",re[1],re[2]]),L.unshift(re),Se&&(re=L.pop(),L.push(L[L.length-1],re))}}function W(L,Q){for(;L.length<Ce;)if("C"===(Q=L[Math.floor(L.length/oe)-1].slice())[0]&&(Q[1]=Q[5],Q[2]=Q[6]),Se){var re=L[Math.floor(L.length/oe)].slice();L.splice(L.length/2,0,Q,re)}else L.push(Q)}var fe=He.startX,ye=He.endX;we=we.slice();var Se=He.isArea,oe=Se?2:1;if(!(xe=xe&&xe.slice()))return[we,we];if(fe&&ye&&ye.length){for(He=0;He<fe.length;He++){if(fe[He]===ye[0]){var se=He;break}if(fe[0]===ye[ye.length-fe.length+He]){se=He;var pe=!0;break}if(fe[fe.length-1]===ye[ye.length-fe.length+He]){se=fe.length-He;break}}void 0===se&&(xe=[])}if(xe.length&&ze(se)){var Ce=we.length+se*oe;pe?(de(xe,we),W(we,xe)):(de(we,xe),W(xe,we))}return[xe,we]},Fe.prototype.fillSetter=function(){Fe.prototype.strokeSetter.apply(this,arguments)},Fe.prototype.strokeSetter=function(){this.elem.attr(this.prop,Qe(this.start).tweenTo(Qe(this.end),this.pos),void 0,!0)},Fe.timers=[],Fe}()}),it(ve,"Core/Animation/AnimationUtilities.js",[ve["Core/Animation/Fx.js"],ve["Core/Utilities.js"]],function(Ne,I){function tt(W){return He(W)?xe({duration:500,defer:0},W):{duration:W?500:0,defer:0}}function Qe(W,fe){for(var ye=Ne.timers.length;ye--;)Ne.timers[ye].elem!==W||fe&&fe!==Ne.timers[ye].prop||(Ne.timers[ye].stopped=!0)}var nt=I.defined,ze=I.getStyle,qe=I.isArray,Fe=I.isNumber,He=I.isObject,xe=I.merge,we=I.objectEach,de=I.pick;return{animate:function(W,fe,ye){var Se,se,pe,oe="";if(!He(ye)){var Ce=arguments;ye={duration:Ce[2],easing:Ce[3],complete:Ce[4]}}Fe(ye.duration)||(ye.duration=400),ye.easing="function"==typeof ye.easing?ye.easing:Math[ye.easing]||Math.easeInOutSine,ye.curAnim=xe(fe),we(fe,function(L,Q){Qe(W,Q),pe=new Ne(W,ye,Q),se=void 0,"d"===Q&&qe(fe.d)?(pe.paths=pe.initPath(W,W.pathArray,fe.d),pe.toD=fe.d,Se=0,se=1):W.attr?Se=W.attr(Q):(Se=parseFloat(ze(W,Q))||0,"opacity"!==Q&&(oe="px")),se||(se=L),"string"==typeof se&&se.match("px")&&(se=se.replace(/px/g,"")),pe.run(Se,se,oe)})},animObject:tt,getDeferredAnimation:function(W,fe,ye){var Se=tt(fe),oe=0,se=0;return(ye?[ye]:W.series).forEach(function(pe){pe=tt(pe.options.animation),oe=fe&&nt(fe.defer)?Se.defer:Math.max(oe,pe.duration+pe.defer),se=Math.min(Se.duration,pe.duration)}),W.renderer.forExport&&(oe=0),{defer:Math.max(0,oe-se),duration:Math.min(oe,se)}},setAnimation:function(W,fe){fe.renderer.globalAnimation=de(W,fe.options.chart.animation,!0)},stop:Qe}}),it(ve,"Core/Renderer/HTML/AST.js",[ve["Core/Globals.js"],ve["Core/Utilities.js"]],function(Ne,I){var tt=Ne.SVG_NS,Qe=I.attr,nt=I.createElement,ze=I.css,qe=I.error,Fe=I.isFunction,He=I.isString,xe=I.objectEach,we=I.splat,de=(I=Ne.win.trustedTypes)&&Fe(I.createPolicy)&&I.createPolicy("highcharts",{createHTML:function(ye){return ye}}),W=de?de.createHTML(""):"";try{var fe=!!(new DOMParser).parseFromString(W,"text/html")}catch(ye){fe=!1}return function(){function ye(Se){this.nodes="string"==typeof Se?this.parseMarkup(Se):Se}return ye.filterUserAttributes=function(Se){return xe(Se,function(oe,se){var pe=!0;-1===ye.allowedAttributes.indexOf(se)&&(pe=!1),-1!==["background","dynsrc","href","lowsrc","src"].indexOf(se)&&(pe=He(oe)&&ye.allowedReferences.some(function(Ce){return 0===oe.indexOf(Ce)})),pe||(qe(33,!1,void 0,{"Invalid attribute in config":""+se}),delete Se[se])}),Se},ye.parseStyle=function(Se){return Se.split(";").reduce(function(oe,se){var pe=(se=se.split(":").map(function(Ce){return Ce.trim()})).shift();return pe&&se.length&&(oe[pe.replace(/-([a-z])/g,function(Ce){return Ce[1].toUpperCase()})]=se.join(":")),oe},{})},ye.setElementHTML=function(Se,oe){Se.innerHTML=ye.emptyHTML,oe&&new ye(oe).addToDOM(Se)},ye.prototype.addToDOM=function(Se){return function oe(se,pe){var Ce;return we(se).forEach(function(L){var Q=L.tagName,re=L.textContent?Ne.doc.createTextNode(L.textContent):void 0,P=ye.bypassHTMLFiltering;if(Q)if("#text"===Q)var G=re;else if(-1!==ye.allowedTags.indexOf(Q)||P){Q=Ne.doc.createElementNS("svg"===Q?tt:pe.namespaceURI||tt,Q);var F=L.attributes||{};xe(L,function(ae,R){"tagName"!==R&&"attributes"!==R&&"children"!==R&&"style"!==R&&"textContent"!==R&&(F[R]=ae)}),Qe(Q,P?F:ye.filterUserAttributes(F)),L.style&&ze(Q,L.style),re&&Q.appendChild(re),oe(L.children||[],Q),G=Q}else qe(33,!1,void 0,{"Invalid tagName in config":Q});G&&pe.appendChild(G),Ce=G}),Ce}(this.nodes,Se)},ye.prototype.parseMarkup=function(Se){var oe=[];if(Se=Se.trim().replace(/ style="/g,' data-style="'),fe)Se=(new DOMParser).parseFromString(de?de.createHTML(Se):Se,"text/html");else{var se=nt("div");se.innerHTML=Se,Se={body:se}}var pe=function(Ce,L){var Q=Ce.nodeName.toLowerCase(),re={tagName:Q};if("#text"===Q&&(re.textContent=Ce.textContent||""),Q=Ce.attributes){var P={};[].forEach.call(Q,function(F){"data-style"===F.name?re.style=ye.parseStyle(F.value):P[F.name]=F.value}),re.attributes=P}if(Ce.childNodes.length){var G=[];[].forEach.call(Ce.childNodes,function(F){pe(F,G)}),G.length&&(re.children=G)}L.push(re)};return[].forEach.call(Se.body.childNodes,function(Ce){return pe(Ce,oe)}),oe},ye.allowedAttributes="aria-controls aria-describedby aria-expanded aria-haspopup aria-hidden aria-label aria-labelledby aria-live aria-pressed aria-readonly aria-roledescription aria-selected class clip-path color colspan cx cy d dx dy disabled fill height href id in markerHeight markerWidth offset opacity orient padding paddingLeft paddingRight patternUnits r refX refY role scope slope src startOffset stdDeviation stroke stroke-linecap stroke-width style tableValues result rowspan summary target tabindex text-align textAnchor textLength title type valign width x x1 x2 y y1 y2 zIndex".split(" "),ye.allowedReferences="https:// http:// mailto: / ../ ./ #".split(" "),ye.allowedTags="a abbr b br button caption circle clipPath code dd defs div dl dt em feComponentTransfer feFuncA feFuncB feFuncG feFuncR feGaussianBlur feOffset feMerge feMergeNode filter h1 h2 h3 h4 h5 h6 hr i img li linearGradient marker ol p path pattern pre rect small span stop strong style sub sup svg table text thead tbody tspan td th tr u ul #text".split(" "),ye.emptyHTML=W,ye.bypassHTMLFiltering=!1,ye}()}),it(ve,"Core/FormatUtilities.js",[ve["Core/DefaultOptions.js"],ve["Core/Utilities.js"]],function(Ne,I){function tt(xe,we,de,W){we=+we;var fe=Qe.lang,ye=((xe=+xe||0).toString().split(".")[1]||"").split("e")[0].length,Se=xe.toString().split("e"),oe=we;if(-1===we)we=Math.min(ye,20);else if(qe(we)){if(we&&Se[1]&&0>Se[1]){var se=we+ +Se[1];0<=se?(Se[0]=(+Se[0]).toExponential(se).split("e")[0],we=se):(Se[0]=Se[0].split(".")[0]||0,xe=20>we?(Se[0]*Math.pow(10,Se[1])).toFixed(we):0,Se[1]=0)}}else we=2;se=(Math.abs(Se[1]?Se[0]:xe)+Math.pow(10,-Math.max(we,ye)-1)).toFixed(we);var pe=3<(ye=String(He(se))).length?ye.length%3:0;return de=Fe(de,fe.decimalPoint),W=Fe(W,fe.thousandsSep),xe=(0>xe?"-":"")+(pe?ye.substr(0,pe)+W:""),xe=0>+Se[1]&&!oe?"0":xe+ye.substr(pe).replace(/(\d{3})(?=\d)/g,"$1"+W),we&&(xe+=de+se.slice(-we)),Se[1]&&0!=+xe&&(xe+="e"+Se[1]),xe}var Qe=Ne.defaultOptions,nt=Ne.defaultTime,ze=I.getNestedProperty,qe=I.isNumber,Fe=I.pick,He=I.pInt;return{dateFormat:function(xe,we,de){return nt.dateFormat(xe,we,de)},format:function(xe,we,de){var W="{",fe=!1,ye=/f$/,Se=/\.([0-9])/,oe=Qe.lang,se=de&&de.time||nt;de=de&&de.numberFormatter||tt;for(var pe=[];xe;){var Ce=xe.indexOf(W);if(-1===Ce)break;var L=xe.slice(0,Ce);if(fe){if(L=L.split(":"),W=ze(L.shift()||"",we),L.length&&"number"==typeof W)if(L=L.join(":"),ye.test(L)){var Q=parseInt((L.match(Se)||["","-1"])[1],10);null!==W&&(W=de(W,Q,oe.decimalPoint,-1<L.indexOf(",")?oe.thousandsSep:""))}else W=se.dateFormat(L,W);pe.push(W)}else pe.push(L);xe=xe.slice(Ce+1),W=(fe=!fe)?"}":"{"}return pe.push(xe),pe.join("")},numberFormat:tt}}),it(ve,"Core/Renderer/RendererUtilities.js",[ve["Core/Utilities.js"]],function(Ne){var nt,I=Ne.clamp,tt=Ne.pick,Qe=Ne.stableSort;return(nt||(nt={})).distribute=function qe(Fe,He,xe){var ye,we=Fe,de=we.reducedLen||He,W=function(pe,Ce){return(Ce.rank||0)-(pe.rank||0)},fe=function(pe,Ce){return pe.target-Ce.target},Se=!0,oe=[],se=0;for(ye=Fe.length;ye--;)se+=Fe[ye].size;if(se>de){for(Qe(Fe,W),se=ye=0;se<=de;)se+=Fe[ye].size,ye++;oe=Fe.splice(ye-1,Fe.length)}for(Qe(Fe,fe),Fe=Fe.map(function(pe){return{size:pe.size,targets:[pe.target],align:tt(pe.align,.5)}});Se;){for(ye=Fe.length;ye--;)de=Fe[ye],W=(Math.min.apply(0,de.targets)+Math.max.apply(0,de.targets))/2,de.pos=I(W-de.size*de.align,0,He-de.size);for(ye=Fe.length,Se=!1;ye--;)0<ye&&Fe[ye-1].pos+Fe[ye-1].size>Fe[ye].pos&&(Fe[ye-1].size+=Fe[ye].size,Fe[ye-1].targets=Fe[ye-1].targets.concat(Fe[ye].targets),Fe[ye-1].align=.5,Fe[ye-1].pos+Fe[ye-1].size>He&&(Fe[ye-1].pos=He-Fe[ye-1].size),Fe.splice(ye,1),Se=!0)}return we.push.apply(we,oe),ye=0,Fe.some(function(pe){var Ce=0;return(pe.targets||[]).some(function(){return we[ye].pos=pe.pos+Ce,void 0!==xe&&Math.abs(we[ye].pos-we[ye].target)>xe?(we.slice(0,ye+1).forEach(function(L){return delete L.pos}),we.reducedLen=(we.reducedLen||He)-.1*He,we.reducedLen>.1*He&&qe(we,He,xe),!0):(Ce+=we[ye].size,ye++,!1)})}),Qe(we,fe),we},nt}),it(ve,"Core/Renderer/SVG/SVGElement.js",[ve["Core/Animation/AnimationUtilities.js"],ve["Core/Renderer/HTML/AST.js"],ve["Core/Color/Color.js"],ve["Core/Globals.js"],ve["Core/Utilities.js"]],function(Ne,I,tt,Qe,nt){var ze=Ne.animate,qe=Ne.animObject,Fe=Ne.stop,He=Qe.deg2rad,xe=Qe.doc,we=Qe.noop,de=Qe.svg,W=Qe.SVG_NS,fe=Qe.win,ye=nt.addEvent,Se=nt.attr,oe=nt.createElement,se=nt.css,pe=nt.defined,Ce=nt.erase,L=nt.extend,Q=nt.fireEvent,re=nt.isArray,P=nt.isFunction,G=nt.isNumber,F=nt.isString,ae=nt.merge,R=nt.objectEach,z=nt.pick,De=nt.pInt,Ke=nt.syncTimeout,dt=nt.uniqueKey;return Ne=function(){function We(){this.element=void 0,this.onEvents={},this.opacity=1,this.renderer=void 0,this.SVG_NS=W,this.symbolCustomAttribs="x y width height r start end innerR anchorX anchorY rounded".split(" ")}return We.prototype._defaultGetter=function(Te){return Te=z(this[Te+"Value"],this[Te],this.element?this.element.getAttribute(Te):null,0),/^[\-0-9\.]+$/.test(Te)&&(Te=parseFloat(Te)),Te},We.prototype._defaultSetter=function(Te,Je,Z){Z.setAttribute(Je,Te)},We.prototype.add=function(Te){var Je=this.renderer,Z=this.element;if(Te&&(this.parentGroup=Te),this.parentInverted=Te&&Te.inverted,void 0!==this.textStr&&"text"===this.element.nodeName&&Je.buildText(this),this.added=!0,!Te||Te.handleZ||this.zIndex)var ne=this.zIndexSetter();return ne||(Te?Te.element:Je.box).appendChild(Z),this.onAdd&&this.onAdd(),this},We.prototype.addClass=function(Te,Je){var Z=Je?"":this.attr("class")||"";return(Te=(Te||"").split(/ /g).reduce(function(ne,Oe){return-1===Z.indexOf(Oe)&&ne.push(Oe),ne},Z?[Z]:[]).join(" "))!==Z&&this.attr("class",Te),this},We.prototype.afterSetters=function(){this.doTransform&&(this.updateTransform(),this.doTransform=!1)},We.prototype.align=function(Te,Je,Z){var ot,at,j,ne={},Oe=this.renderer,$e=Oe.alignedObjects;Te?(this.alignOptions=Te,this.alignByTranslate=Je,(!Z||F(Z))&&(this.alignTo=ot=Z||"renderer",Ce($e,this),$e.push(this),Z=void 0)):(Te=this.alignOptions,Je=this.alignByTranslate,ot=this.alignTo),Z=z(Z,Oe[ot],"scrollablePlotBox"===ot?Oe.plotBox:void 0,Oe);var be=Te.verticalAlign;return Oe=(Z.x||0)+(Te.x||0),$e=(Z.y||0)+(Te.y||0),"right"===(ot=Te.align)?at=1:"center"===ot&&(at=2),at&&(Oe+=(Z.width-(Te.width||0))/at),ne[Je?"translateX":"x"]=Math.round(Oe),"bottom"===be?j=1:"middle"===be&&(j=2),j&&($e+=(Z.height-(Te.height||0))/j),ne[Je?"translateY":"y"]=Math.round($e),this[this.placed?"animate":"attr"](ne),this.placed=!0,this.alignAttr=ne,this},We.prototype.alignSetter=function(Te){var Je={left:"start",center:"middle",right:"end"};Je[Te]&&(this.alignValue=Te,this.element.setAttribute("text-anchor",Je[Te]))},We.prototype.animate=function(Te,Je,Z){var ne=this,Oe=qe(z(Je,this.renderer.globalAnimation,!0));return Je=Oe.defer,z(xe.hidden,xe.msHidden,xe.webkitHidden,!1)&&(Oe.duration=0),0!==Oe.duration?(Z&&(Oe.complete=Z),Ke(function(){ne.element&&ze(ne,Te,Oe)},Je)):(this.attr(Te,void 0,Z||Oe.complete),R(Te,function($e,ot){Oe.step&&Oe.step.call(this,$e,{prop:ot,pos:1,elem:this})},this)),this},We.prototype.applyTextOutline=function(Te){var Je=this.element;-1!==Te.indexOf("contrast")&&(Te=Te.replace(/contrast/g,this.renderer.getContrast(Je.style.fill)));var Z=Te.split(" ");if(Te=Z[Z.length-1],(Z=Z[0])&&"none"!==Z&&Qe.svg){this.fakeTS=!0,this.ySetter=this.xSetter,Z=Z.replace(/(^[\d\.]+)(.*?)$/g,function($e,ot,at){return 2*Number(ot)+at}),this.removeTextOutline();var ne=xe.createElementNS(W,"tspan");Se(ne,{class:"highcharts-text-outline",fill:Te,stroke:Te,"stroke-width":Z,"stroke-linejoin":"round"}),[].forEach.call(Je.childNodes,function($e){var ot=$e.cloneNode(!0);ot.removeAttribute&&["fill","stroke","stroke-width","stroke"].forEach(function(at){return ot.removeAttribute(at)}),ne.appendChild(ot)});var Oe=xe.createElementNS(W,"tspan");Oe.textContent="\u200b",["x","y"].forEach(function($e){var ot=Je.getAttribute($e);ot&&Oe.setAttribute($e,ot)}),ne.appendChild(Oe),Je.insertBefore(ne,Je.firstChild)}},We.prototype.attr=function(Te,Je,Z,ne){var ot,j,be,Oe=this.element,$e=this.symbolCustomAttribs,at=this;if("string"==typeof Te&&void 0!==Je){var J=Te;(Te={})[J]=Je}return"string"==typeof Te?at=(this[Te+"Getter"]||this._defaultGetter).call(this,Te,Oe):(R(Te,function(Ee,Ue){j=!1,ne||Fe(this,Ue),this.symbolName&&-1!==$e.indexOf(Ue)&&(ot||(this.symbolAttr(Te),ot=!0),j=!0),!this.rotation||"x"!==Ue&&"y"!==Ue||(this.doTransform=!0),j||((be=this[Ue+"Setter"]||this._defaultSetter).call(this,Ee,Ue,Oe),!this.styledMode&&this.shadows&&/^(width|height|visibility|x|y|d|transform|cx|cy|r)$/.test(Ue)&&this.updateShadows(Ue,Ee,be))},this),this.afterSetters()),Z&&Z.call(this),at},We.prototype.clip=function(Te){return this.attr("clip-path",Te?"url("+this.renderer.url+"#"+Te.id+")":"none")},We.prototype.crisp=function(Te,Je){Je=Je||Te.strokeWidth||0;var Z=Math.round(Je)%2/2;return Te.x=Math.floor(Te.x||this.x||0)+Z,Te.y=Math.floor(Te.y||this.y||0)+Z,Te.width=Math.floor((Te.width||this.width||0)-2*Z),Te.height=Math.floor((Te.height||this.height||0)-2*Z),pe(Te.strokeWidth)&&(Te.strokeWidth=Je),Te},We.prototype.complexColor=function(Te,Je,Z){var Oe,$e,ot,at,j,be,J,Ee,Ue,lt,Ft,ne=this.renderer,Tt=[];Q(this.renderer,"complexColor",{args:arguments},function(){if(Te.radialGradient?$e="radialGradient":Te.linearGradient&&($e="linearGradient"),$e){if(j=ne.gradients,be=Te.stops,Ue=Z.radialReference,re(ot=Te[$e])&&(Te[$e]=ot={x1:ot[0],y1:ot[1],x2:ot[2],y2:ot[3],gradientUnits:"userSpaceOnUse"}),"radialGradient"===$e&&Ue&&!pe(ot.gradientUnits)&&(ot=ae(ot,ne.getRadialAttr(Ue,at=ot),{gradientUnits:"userSpaceOnUse"})),R(ot,function(vn,Nn){"id"!==Nn&&Tt.push(Nn,vn)}),R(be,function(vn){Tt.push(vn)}),Tt=Tt.join(","),j[Tt])lt=j[Tt].attr("id");else{ot.id=lt=dt();var $t=j[Tt]=ne.createElement($e).attr(ot).add(ne.defs);$t.radAttr=at,$t.stops=[],be.forEach(function(vn){0===vn[1].indexOf("rgba")?(Oe=tt.parse(vn[1]),J=Oe.get("rgb"),Ee=Oe.get("a")):(J=vn[1],Ee=1),vn=ne.createElement("stop").attr({offset:vn[0],"stop-color":J,"stop-opacity":Ee}).add($t),$t.stops.push(vn)})}Z.setAttribute(Je,Ft="url("+ne.url+"#"+lt+")"),Z.gradient=Tt,Te.toString=function(){return Ft}}})},We.prototype.css=function(Te){var Je=this.styles,Z={},ne=this.element,Oe=!Je;if(Te.color&&(Te.fill=Te.color),Je&&R(Te,function(at,j){Je&&Je[j]!==at&&(Z[j]=at,Oe=!0)}),Oe){if(Je&&(Te=L(Je,Z)),null===Te.width||"auto"===Te.width)delete this.textWidth;else if("text"===ne.nodeName.toLowerCase()&&Te.width)var $e=this.textWidth=De(Te.width);this.styles=Te,$e&&!de&&this.renderer.forExport&&delete Te.width;var ot=ae(Te);ne.namespaceURI===this.SVG_NS&&["textOutline","textOverflow","width"].forEach(function(at){return ot&&delete ot[at]}),se(ne,ot),this.added&&("text"===this.element.nodeName&&this.renderer.buildText(this),Te.textOutline&&this.applyTextOutline(Te.textOutline))}return this},We.prototype.dashstyleSetter=function(Te){var Je=this["stroke-width"];if("inherit"===Je&&(Je=1),Te=Te&&Te.toLowerCase()){var Z=Te.replace("shortdashdotdot","3,1,1,1,1,1,").replace("shortdashdot","3,1,1,1").replace("shortdot","1,1,").replace("shortdash","3,1,").replace("longdash","8,3,").replace(/dot/g,"1,3,").replace("dash","4,3,").replace(/,$/,"").split(",");for(Te=Z.length;Te--;)Z[Te]=""+De(Z[Te])*z(Je,NaN);Te=Z.join(",").replace(/NaN/g,"none"),this.element.setAttribute("stroke-dasharray",Te)}},We.prototype.destroy=function(){var Te=this,Je=Te.element||{},Z=Te.renderer,ne=Je.ownerSVGElement,Oe=Z.isSVG&&"SPAN"===Je.nodeName&&Te.parentGroup||void 0;if(Je.onclick=Je.onmouseout=Je.onmouseover=Je.onmousemove=Je.point=null,Fe(Te),Te.clipPath&&ne){var $e=Te.clipPath;[].forEach.call(ne.querySelectorAll("[clip-path],[CLIP-PATH]"),function(ot){-1<ot.getAttribute("clip-path").indexOf($e.element.id)&&ot.removeAttribute("clip-path")}),Te.clipPath=$e.destroy()}if(Te.stops){for(ne=0;ne<Te.stops.length;ne++)Te.stops[ne].destroy();Te.stops.length=0,Te.stops=void 0}for(Te.safeRemoveChild(Je),Z.styledMode||Te.destroyShadows();Oe&&Oe.div&&0===Oe.div.childNodes.length;)Je=Oe.parentGroup,Te.safeRemoveChild(Oe.div),delete Oe.div,Oe=Je;Te.alignTo&&Ce(Z.alignedObjects,Te),R(Te,function(ot,at){Te[at]&&Te[at].parentGroup===Te&&Te[at].destroy&&Te[at].destroy(),delete Te[at]})},We.prototype.destroyShadows=function(){(this.shadows||[]).forEach(function(Te){this.safeRemoveChild(Te)},this),this.shadows=void 0},We.prototype.destroyTextPath=function(Te,Je){var Z=Te.getElementsByTagName("text")[0];if(Z){if(Z.removeAttribute("dx"),Z.removeAttribute("dy"),Je.element.setAttribute("id",""),this.textPathWrapper&&Z.getElementsByTagName("textPath").length){for(Te=this.textPathWrapper.element.childNodes;Te.length;)Z.appendChild(Te[0]);Z.removeChild(this.textPathWrapper.element)}}else(Te.getAttribute("dx")||Te.getAttribute("dy"))&&(Te.removeAttribute("dx"),Te.removeAttribute("dy"));this.textPathWrapper&&(this.textPathWrapper=this.textPathWrapper.destroy())},We.prototype.dSetter=function(Te,Je,Z){re(Te)&&("string"==typeof Te[0]&&(Te=this.renderer.pathToSegments(Te)),this.pathArray=Te,Te=Te.reduce(function(ne,Oe,$e){return Oe&&Oe.join?($e?ne+" ":"")+Oe.join(" "):(Oe||"").toString()},"")),/(NaN| {2}|^$)/.test(Te)&&(Te="M 0 0"),this[Je]!==Te&&(Z.setAttribute(Je,Te),this[Je]=Te)},We.prototype.fadeOut=function(Te){var Je=this;Je.animate({opacity:0},{duration:z(Te,150),complete:function(){Je.attr({y:-9999}).hide()}})},We.prototype.fillSetter=function(Te,Je,Z){"string"==typeof Te?Z.setAttribute(Je,Te):Te&&this.complexColor(Te,Je,Z)},We.prototype.getBBox=function(Te,Je){var Z=this.alignValue,ne=this.element,Oe=this.renderer,$e=this.styles,ot=this.textStr,at=Oe.cache,j=Oe.cacheKeys,be=ne.namespaceURI===this.SVG_NS;Je=z(Je,this.rotation,0);var Ee,J=Oe.styledMode?ne&&We.prototype.getStyle.call(ne,"font-size"):$e&&$e.fontSize;if(pe(ot)){var Ue=ot.toString();-1===Ue.indexOf("<")&&(Ue=Ue.replace(/[0-9]/g,"0")),Ue+=["",Je,J,this.textWidth,Z,$e&&$e.textOverflow,$e&&$e.fontWeight].join()}if(Ue&&!Te&&(Ee=at[Ue]),!Ee){if(be||Oe.forExport){try{var lt=this.fakeTS&&function(Ft){var $t=ne.querySelector(".highcharts-text-outline");$t&&se($t,{display:Ft})};P(lt)&&lt("none"),Ee=ne.getBBox?L({},ne.getBBox()):{width:ne.offsetWidth,height:ne.offsetHeight},P(lt)&&lt("")}catch(Ft){}(!Ee||0>Ee.width)&&(Ee={x:0,y:0,width:0,height:0})}else Ee=this.htmlGetBBox();if(Oe.isSVG&&(Oe=Ee.width,Te=Ee.height,be&&(Ee.height=Te={"11px,17":14,"13px,20":16}[(J||"")+","+Math.round(Te)]||Te),Je)){be=Number(ne.getAttribute("y")||0)-Ee.y,Z={right:1,center:.5}[Z||0]||0,$e=Je*He,J=(Je-90)*He;var Tt=Oe*Math.cos($e);Je=Oe*Math.sin($e),lt=Math.cos(J),$e=Math.sin(J),Tt=(lt=(J=(Oe=Ee.x+Z*(Oe-Tt)+be*lt)+Tt)-Te*lt)-Tt,Je=(Te=(Z=(be=Ee.y+be-Z*Je+be*$e)+Je)-Te*$e)-Je,Ee.x=Math.min(Oe,J,lt,Tt),Ee.y=Math.min(be,Z,Te,Je),Ee.width=Math.max(Oe,J,lt,Tt)-Ee.x,Ee.height=Math.max(be,Z,Te,Je)-Ee.y}if(Ue&&(""===ot||0<Ee.height)){for(;250<j.length;)delete at[j.shift()];at[Ue]||j.push(Ue),at[Ue]=Ee}}return Ee},We.prototype.getStyle=function(Te){return fe.getComputedStyle(this.element||this,"").getPropertyValue(Te)},We.prototype.hasClass=function(Te){return-1!==(""+this.attr("class")).split(" ").indexOf(Te)},We.prototype.hide=function(){return this.attr({visibility:"hidden"})},We.prototype.htmlGetBBox=function(){return{height:0,width:0,x:0,y:0}},We.prototype.init=function(Te,Je){this.element="span"===Je?oe(Je):xe.createElementNS(this.SVG_NS,Je),this.renderer=Te,Q(this,"afterInit")},We.prototype.invert=function(Te){return this.inverted=Te,this.updateTransform(),this},We.prototype.on=function(Te,Je){var Z=this.onEvents;return Z[Te]&&Z[Te](),Z[Te]=ye(this.element,Te,Je),this},We.prototype.opacitySetter=function(Te,Je,Z){this.opacity=Te=Number(Number(Te).toFixed(3)),Z.setAttribute(Je,Te)},We.prototype.removeClass=function(Te){return this.attr("class",(""+this.attr("class")).replace(F(Te)?new RegExp("(^| )"+Te+"( |$)"):Te," ").replace(/ +/g," ").trim())},We.prototype.removeTextOutline=function(){var Te=this.element.querySelector("tspan.highcharts-text-outline");Te&&this.safeRemoveChild(Te)},We.prototype.safeRemoveChild=function(Te){var Je=Te.parentNode;Je&&Je.removeChild(Te)},We.prototype.setRadialReference=function(Te){var Je=this.element.gradient&&this.renderer.gradients[this.element.gradient];return this.element.radialReference=Te,Je&&Je.radAttr&&Je.animate(this.renderer.getRadialAttr(Te,Je.radAttr)),this},We.prototype.setTextPath=function(Te,Je){var Z=this.element,ne=this.text?this.text.element:Z,Oe={textAnchor:"text-anchor"},$e=!1,ot=this.textPathWrapper,at=!ot;Je=ae(!0,{enabled:!0,attributes:{dy:-5,startOffset:"50%",textAnchor:"middle"}},Je);var j=I.filterUserAttributes(Je.attributes);if(Te&&Je&&Je.enabled){ot&&null===ot.element.parentNode?(at=!0,ot=ot.destroy()):ot&&this.removeTextOutline.call(ot.parentGroup),this.options&&this.options.padding&&(j.dx=-this.options.padding),ot||(this.textPathWrapper=ot=this.renderer.createElement("textPath"),$e=!0);var be=ot.element;if((Je=Te.element.getAttribute("id"))||Te.element.setAttribute("id",Je=dt()),at)for(ne.setAttribute("y",0),G(j.dx)&&ne.setAttribute("x",-j.dx),Te=[].slice.call(ne.childNodes),at=0;at<Te.length;at++){var J=Te[at];J.nodeType!==fe.Node.TEXT_NODE&&"tspan"!==J.nodeName||be.appendChild(J)}$e&&ot&&ot.add({element:ne}),be.setAttributeNS("http://www.w3.org/1999/xlink","href",this.renderer.url+"#"+Je),pe(j.dy)&&(be.parentNode.setAttribute("dy",j.dy),delete j.dy),pe(j.dx)&&(be.parentNode.setAttribute("dx",j.dx),delete j.dx),R(j,function(Ee,Ue){be.setAttribute(Oe[Ue]||Ue,Ee)}),Z.removeAttribute("transform"),this.removeTextOutline.call(ot),this.text&&!this.renderer.styledMode&&this.attr({fill:"none","stroke-width":0}),this.applyTextOutline=this.updateTransform=we}else ot&&(delete this.updateTransform,delete this.applyTextOutline,this.destroyTextPath(Z,Te),this.updateTransform(),this.options&&this.options.rotation&&this.applyTextOutline(this.options.style.textOutline));return this},We.prototype.shadow=function(Te,Je,Z){var j,ne=[],Oe=this.element,$e=this.oldShadowOptions,ot={color:"#000000",offsetX:this.parentInverted?-1:1,offsetY:this.parentInverted?-1:1,opacity:.15,width:3},at=!1;if(!0===Te?j=ot:"object"==typeof Te&&(j=L(ot,Te)),j&&(j&&$e&&R(j,function(lt,Tt){lt!==$e[Tt]&&(at=!0)}),at&&this.destroyShadows(),this.oldShadowOptions=j),j){if(!this.shadows){var be=j.opacity/j.width,J=this.parentInverted?"translate("+j.offsetY+", "+j.offsetX+")":"translate("+j.offsetX+", "+j.offsetY+")";for(ot=1;ot<=j.width;ot++){var Ee=Oe.cloneNode(!1),Ue=2*j.width+1-2*ot;Se(Ee,{stroke:Te.color||"#000000","stroke-opacity":be*ot,"stroke-width":Ue,transform:J,fill:"none"}),Ee.setAttribute("class",(Ee.getAttribute("class")||"")+" highcharts-shadow"),Z&&(Se(Ee,"height",Math.max(Se(Ee,"height")-Ue,0)),Ee.cutHeight=Ue),Je?Je.element.appendChild(Ee):Oe.parentNode&&Oe.parentNode.insertBefore(Ee,Oe),ne.push(Ee)}this.shadows=ne}}else this.destroyShadows();return this},We.prototype.show=function(Te){return void 0===Te&&(Te=!0),this.attr({visibility:Te?"inherit":"visible"})},We.prototype.strokeSetter=function(Te,Je,Z){this[Je]=Te,this.stroke&&this["stroke-width"]?(We.prototype.fillSetter.call(this,this.stroke,"stroke",Z),Z.setAttribute("stroke-width",this["stroke-width"]),this.hasStroke=!0):"stroke-width"===Je&&0===Te&&this.hasStroke?(Z.removeAttribute("stroke"),this.hasStroke=!1):this.renderer.styledMode&&this["stroke-width"]&&(Z.setAttribute("stroke-width",this["stroke-width"]),this.hasStroke=!0)},We.prototype.strokeWidth=function(){if(!this.renderer.styledMode)return this["stroke-width"]||0;var Te=this.getStyle("stroke-width"),Je=0;if(Te.indexOf("px")===Te.length-2)Je=De(Te);else if(""!==Te){var Z=xe.createElementNS(W,"rect");Se(Z,{width:Te,"stroke-width":0}),this.element.parentNode.appendChild(Z),Je=Z.getBBox().width,Z.parentNode.removeChild(Z)}return Je},We.prototype.symbolAttr=function(Te){var Je=this;"x y r start end width height innerR anchorX anchorY clockwise".split(" ").forEach(function(Z){Je[Z]=z(Te[Z],Je[Z])}),Je.attr({d:Je.renderer.symbols[Je.symbolName](Je.x,Je.y,Je.width,Je.height,Je)})},We.prototype.textSetter=function(Te){Te!==this.textStr&&(delete this.textPxLength,this.textStr=Te,this.added&&this.renderer.buildText(this))},We.prototype.titleSetter=function(Te){var Je=this.element,Z=Je.getElementsByTagName("title")[0]||xe.createElementNS(this.SVG_NS,"title");Je.insertBefore?Je.insertBefore(Z,Je.firstChild):Je.appendChild(Z),Z.textContent=String(z(Te,"")).replace(/<[^>]*>/g,"").replace(/&lt;/g,"<").replace(/&gt;/g,">")},We.prototype.toFront=function(){var Te=this.element;return Te.parentNode.appendChild(Te),this},We.prototype.translate=function(Te,Je){return this.attr({translateX:Te,translateY:Je})},We.prototype.updateShadows=function(Te,Je,Z){var ne=this.shadows;if(ne)for(var Oe=ne.length;Oe--;)Z.call(ne[Oe],"height"===Te?Math.max(Je-(ne[Oe].cutHeight||0),0):"d"===Te?this.d:Je,Te,ne[Oe])},We.prototype.updateTransform=function(){var Te=this.scaleX,Je=this.scaleY,Z=this.inverted,ne=this.rotation,Oe=this.matrix,$e=this.element,ot=this.translateX||0,at=this.translateY||0;Z&&(ot+=this.width,at+=this.height),ot=["translate("+ot+","+at+")"],pe(Oe)&&ot.push("matrix("+Oe.join(",")+")"),Z?ot.push("rotate(90) scale(-1,1)"):ne&&ot.push("rotate("+ne+" "+z(this.rotationOriginX,$e.getAttribute("x"),0)+" "+z(this.rotationOriginY,$e.getAttribute("y")||0)+")"),(pe(Te)||pe(Je))&&ot.push("scale("+z(Te,1)+" "+z(Je,1)+")"),ot.length&&$e.setAttribute("transform",ot.join(" "))},We.prototype.visibilitySetter=function(Te,Je,Z){"inherit"===Te?Z.removeAttribute(Je):this[Je]!==Te&&Z.setAttribute(Je,Te),this[Je]=Te},We.prototype.xGetter=function(Te){return"circle"===this.element.nodeName&&("x"===Te?Te="cx":"y"===Te&&(Te="cy")),this._defaultGetter(Te)},We.prototype.zIndexSetter=function(Te,Je){var Z=this.renderer,ne=this.parentGroup,Oe=(ne||Z).element||Z.box,$e=this.element;Z=Oe===Z.box;var j,ot=!1,at=this.added;if(pe(Te)?($e.setAttribute("data-z-index",Te),this[Je]===(Te=+Te)&&(at=!1)):pe(this[Je])&&$e.removeAttribute("data-z-index"),this[Je]=Te,at){for((Te=this.zIndex)&&ne&&(ne.handleZ=!0),j=(Je=Oe.childNodes).length-1;0<=j&&!ot;j--){at=(ne=Je[j]).getAttribute("data-z-index");var be=!pe(at);ne!==$e&&(0>Te&&be&&!Z&&!j?(Oe.insertBefore($e,Je[j]),ot=!0):(De(at)<=Te||be&&(!pe(Te)||0<=Te))&&(Oe.insertBefore($e,Je[j+1]||null),ot=!0))}ot||(Oe.insertBefore($e,Je[Z?3:0]||null),ot=!0)}return ot},We}(),Ne.prototype["stroke-widthSetter"]=Ne.prototype.strokeSetter,Ne.prototype.yGetter=Ne.prototype.xGetter,Ne.prototype.matrixSetter=Ne.prototype.rotationOriginXSetter=Ne.prototype.rotationOriginYSetter=Ne.prototype.rotationSetter=Ne.prototype.scaleXSetter=Ne.prototype.scaleYSetter=Ne.prototype.translateXSetter=Ne.prototype.translateYSetter=Ne.prototype.verticalAlignSetter=function(We,Te){this[Te]=We,this.doTransform=!0},Ne}),it(ve,"Core/Renderer/RendererRegistry.js",[ve["Core/Globals.js"]],function(Ne){var I,tt,Qe;return(tt=I||(I={})).rendererTypes={},tt.getRendererType=function(nt){return void 0===nt&&(nt=Qe),tt.rendererTypes[nt]||tt.rendererTypes[Qe]},tt.registerRendererType=function(nt,ze,qe){tt.rendererTypes[nt]=ze,(!Qe||qe)&&(Qe=nt,Ne.Renderer=ze)},I}),it(ve,"Core/Renderer/SVG/SVGLabel.js",[ve["Core/Renderer/SVG/SVGElement.js"],ve["Core/Utilities.js"]],function(Ne,I){var xe,tt=this&&this.__extends||(xe=function(we,de){return(xe=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(W,fe){W.__proto__=fe}||function(W,fe){for(var ye in fe)fe.hasOwnProperty(ye)&&(W[ye]=fe[ye])})(we,de)},function(we,de){function W(){this.constructor=we}xe(we,de),we.prototype=null===de?Object.create(de):(W.prototype=de.prototype,new W)}),Qe=I.defined,nt=I.extend,ze=I.isNumber,qe=I.merge,Fe=I.pick,He=I.removeEvent;return function(xe){function we(de,W,fe,ye,Se,oe,se,pe,Ce,L){var re,Q=xe.call(this)||this;return Q.paddingLeftSetter=Q.paddingSetter,Q.paddingRightSetter=Q.paddingSetter,Q.init(de,"g"),Q.textStr=W,Q.x=fe,Q.y=ye,Q.anchorX=oe,Q.anchorY=se,Q.baseline=Ce,Q.className=L,Q.addClass("button"===L?"highcharts-no-tooltip":"highcharts-label"),L&&Q.addClass("highcharts-"+L),Q.text=de.text(void 0,0,0,pe).attr({zIndex:1}),"string"==typeof Se&&((re=/^url\((.*?)\)$/.test(Se))||Q.renderer.symbols[Se])&&(Q.symbolKey=Se),Q.bBox=we.emptyBBox,Q.padding=3,Q.baselineOffset=0,Q.needsBox=de.styledMode||re,Q.deferredAttr={},Q.alignFactor=0,Q}return tt(we,xe),we.prototype.alignSetter=function(de){(de={left:0,center:.5,right:1}[de])!==this.alignFactor&&(this.alignFactor=de,this.bBox&&ze(this.xSetting)&&this.attr({x:this.xSetting}))},we.prototype.anchorXSetter=function(de,W){this.anchorX=de,this.boxAttr(W,Math.round(de)-this.getCrispAdjust()-this.xSetting)},we.prototype.anchorYSetter=function(de,W){this.anchorY=de,this.boxAttr(W,de-this.ySetting)},we.prototype.boxAttr=function(de,W){this.box?this.box.attr(de,W):this.deferredAttr[de]=W},we.prototype.css=function(de){if(de){var W={};de=qe(de),we.textProps.forEach(function(ye){void 0!==de[ye]&&(W[ye]=de[ye],delete de[ye])}),this.text.css(W);var fe="width"in W;"fontSize"in W||"fontWeight"in W?this.updateTextPadding():fe&&this.updateBoxSize()}return Ne.prototype.css.call(this,de)},we.prototype.destroy=function(){He(this.element,"mouseenter"),He(this.element,"mouseleave"),this.text&&this.text.destroy(),this.box&&(this.box=this.box.destroy()),Ne.prototype.destroy.call(this)},we.prototype.fillSetter=function(de,W){de&&(this.needsBox=!0),this.fill=de,this.boxAttr(W,de)},we.prototype.getBBox=function(){this.textStr&&0===this.bBox.width&&0===this.bBox.height&&this.updateBoxSize();var de=this.padding,W=Fe(this.paddingLeft,de);return{width:this.width,height:this.height,x:this.bBox.x-W,y:this.bBox.y-de}},we.prototype.getCrispAdjust=function(){return this.renderer.styledMode&&this.box?this.box.strokeWidth()%2/2:(this["stroke-width"]?parseInt(this["stroke-width"],10):0)%2/2},we.prototype.heightSetter=function(de){this.heightSetting=de},we.prototype.onAdd=function(){var de=this.textStr;this.text.add(this),this.attr({text:Qe(de)?de:"",x:this.x,y:this.y}),this.box&&Qe(this.anchorX)&&this.attr({anchorX:this.anchorX,anchorY:this.anchorY})},we.prototype.paddingSetter=function(de,W){ze(de)?de!==this[W]&&(this[W]=de,this.updateTextPadding()):this[W]=void 0},we.prototype.rSetter=function(de,W){this.boxAttr(W,de)},we.prototype.shadow=function(de){return de&&!this.renderer.styledMode&&(this.updateBoxSize(),this.box&&this.box.shadow(de)),this},we.prototype.strokeSetter=function(de,W){this.stroke=de,this.boxAttr(W,de)},we.prototype["stroke-widthSetter"]=function(de,W){de&&(this.needsBox=!0),this["stroke-width"]=de,this.boxAttr(W,de)},we.prototype["text-alignSetter"]=function(de){this.textAlign=de},we.prototype.textSetter=function(de){void 0!==de&&this.text.attr({text:de}),this.updateTextPadding()},we.prototype.updateBoxSize=function(){var de=this.text.element.style,W={},fe=this.padding,ye=this.bBox=ze(this.widthSetting)&&ze(this.heightSetting)&&!this.textAlign||!Qe(this.text.textStr)?we.emptyBBox:this.text.getBBox();this.width=this.getPaddedWidth(),this.height=(this.heightSetting||ye.height||0)+2*fe,de=this.renderer.fontMetrics(de&&de.fontSize,this.text),this.baselineOffset=fe+Math.min((this.text.firstLineMetrics||de).b,ye.height||1/0),this.heightSetting&&(this.baselineOffset+=(this.heightSetting-de.h)/2),this.needsBox&&(this.box||((fe=this.box=this.symbolKey?this.renderer.symbol(this.symbolKey):this.renderer.rect()).addClass(("button"===this.className?"":"highcharts-label-box")+(this.className?" highcharts-"+this.className+"-box":"")),fe.add(this)),fe=this.getCrispAdjust(),W.x=fe,W.y=(this.baseline?-this.baselineOffset:0)+fe,W.width=Math.round(this.width),W.height=Math.round(this.height),this.box.attr(nt(W,this.deferredAttr)),this.deferredAttr={})},we.prototype.updateTextPadding=function(){var de=this.text;this.updateBoxSize();var W=this.baseline?0:this.baselineOffset,fe=Fe(this.paddingLeft,this.padding);Qe(this.widthSetting)&&this.bBox&&("center"===this.textAlign||"right"===this.textAlign)&&(fe+={center:.5,right:1}[this.textAlign]*(this.widthSetting-this.bBox.width)),(fe!==de.x||W!==de.y)&&(de.attr("x",fe),de.hasBoxWidthChanged&&(this.bBox=de.getBBox(!0)),void 0!==W&&de.attr("y",W)),de.x=fe,de.y=W},we.prototype.widthSetter=function(de){this.widthSetting=ze(de)?de:void 0},we.prototype.getPaddedWidth=function(){var de=this.padding,W=Fe(this.paddingLeft,de);return de=Fe(this.paddingRight,de),(this.widthSetting||this.bBox.width||0)+W+de},we.prototype.xSetter=function(de){this.x=de,this.alignFactor&&(de-=this.alignFactor*this.getPaddedWidth(),this["forceAnimate:x"]=!0),this.xSetting=Math.round(de),this.attr("translateX",this.xSetting)},we.prototype.ySetter=function(de){this.ySetting=this.y=Math.round(de),this.attr("translateY",this.ySetting)},we.emptyBBox={width:0,height:0,x:0,y:0},we.textProps="color direction fontFamily fontSize fontStyle fontWeight lineHeight textAlign textDecoration textOutline textOverflow width".split(" "),we}(Ne)}),it(ve,"Core/Renderer/SVG/Symbols.js",[ve["Core/Utilities.js"]],function(Ne){function I(Fe,He,xe,we,de){var W=[];if(de){var fe=de.start||0,ye=qe(de.r,xe);xe=qe(de.r,we||xe);var Se=(de.end||0)-.001;we=de.innerR;var oe=qe(de.open,.001>Math.abs((de.end||0)-fe-2*Math.PI)),se=Math.cos(fe),pe=Math.sin(fe),Ce=Math.cos(Se),L=Math.sin(Se);fe=qe(de.longArc,.001>Se-fe-Math.PI?0:1),W.push(["M",Fe+ye*se,He+xe*pe],["A",ye,xe,0,fe,qe(de.clockwise,1),Fe+ye*Ce,He+xe*L]),nt(we)&&W.push(oe?["M",Fe+we*Ce,He+we*L]:["L",Fe+we*Ce,He+we*L],["A",we,we,0,fe,nt(de.clockwise)?1-de.clockwise:0,Fe+we*se,He+we*pe]),oe||W.push(["Z"])}return W}function tt(Fe,He,xe,we,de){return de&&de.r?Qe(Fe,He,xe,we,de):[["M",Fe,He],["L",Fe+xe,He],["L",Fe+xe,He+we],["L",Fe,He+we],["Z"]]}function Qe(Fe,He,xe,we,de){return[["M",Fe+(de=de&&de.r||0),He],["L",Fe+xe-de,He],["C",Fe+xe,He,Fe+xe,He,Fe+xe,He+de],["L",Fe+xe,He+we-de],["C",Fe+xe,He+we,Fe+xe,He+we,Fe+xe-de,He+we],["L",Fe+de,He+we],["C",Fe,He+we,Fe,He+we,Fe,He+we-de],["L",Fe,He+de],["C",Fe,He,Fe,He,Fe+de,He]]}var nt=Ne.defined,ze=Ne.isNumber,qe=Ne.pick;return{arc:I,callout:function(Fe,He,xe,we,de){var W=Math.min(de&&de.r||0,xe,we),fe=W+6,ye=de&&de.anchorX;de=de&&de.anchorY||0;var Se=Qe(Fe,He,xe,we,{r:W});return ze(ye)&&(Fe+ye>=xe?de>He+fe&&de<He+we-fe?Se.splice(3,1,["L",Fe+xe,de-6],["L",Fe+xe+6,de],["L",Fe+xe,de+6],["L",Fe+xe,He+we-W]):Se.splice(3,1,["L",Fe+xe,we/2],["L",ye,de],["L",Fe+xe,we/2],["L",Fe+xe,He+we-W]):0>=Fe+ye?de>He+fe&&de<He+we-fe?Se.splice(7,1,["L",Fe,de+6],["L",Fe-6,de],["L",Fe,de-6],["L",Fe,He+W]):Se.splice(7,1,["L",Fe,we/2],["L",ye,de],["L",Fe,we/2],["L",Fe,He+W]):de&&de>we&&ye>Fe+fe&&ye<Fe+xe-fe?Se.splice(5,1,["L",ye+6,He+we],["L",ye,He+we+6],["L",ye-6,He+we],["L",Fe+W,He+we]):de&&0>de&&ye>Fe+fe&&ye<Fe+xe-fe&&Se.splice(1,1,["L",ye-6,He],["L",ye,He-6],["L",ye+6,He],["L",xe-W,He])),Se},circle:function(Fe,He,xe,we){return I(Fe+xe/2,He+we/2,xe/2,we/2,{start:.5*Math.PI,end:2.5*Math.PI,open:!1})},diamond:function(Fe,He,xe,we){return[["M",Fe+xe/2,He],["L",Fe+xe,He+we/2],["L",Fe+xe/2,He+we],["L",Fe,He+we/2],["Z"]]},rect:tt,roundedRect:Qe,square:tt,triangle:function(Fe,He,xe,we){return[["M",Fe+xe/2,He],["L",Fe+xe,He+we],["L",Fe,He+we],["Z"]]},"triangle-down":function(Fe,He,xe,we){return[["M",Fe,He],["L",Fe+xe,He],["L",Fe+xe/2,He+we],["Z"]]}}}),it(ve,"Core/Renderer/SVG/TextBuilder.js",[ve["Core/Renderer/HTML/AST.js"],ve["Core/Globals.js"],ve["Core/Utilities.js"]],function(Ne,I,tt){var Qe=I.doc,nt=I.SVG_NS,ze=I.win,qe=tt.attr,Fe=tt.extend,He=tt.isString,xe=tt.objectEach,we=tt.pick;return function(){function de(W){var fe=W.styles;this.renderer=W.renderer,this.svgElement=W,this.width=W.textWidth,this.textLineHeight=fe&&fe.lineHeight,this.textOutline=fe&&fe.textOutline,this.ellipsis=!(!fe||"ellipsis"!==fe.textOverflow),this.noWrap=!(!fe||"nowrap"!==fe.whiteSpace),this.fontSize=fe&&fe.fontSize}return de.prototype.buildSVG=function(){var W=this.svgElement,fe=W.element,ye=W.renderer,Se=we(W.textStr,"").toString(),oe=-1!==Se.indexOf("<"),se=fe.childNodes;ye=this.width&&!W.added&&ye.box;var Ce=[Se,this.ellipsis,this.noWrap,this.textLineHeight,this.textOutline,this.fontSize,this.width].join();if(Ce!==W.textCache){for(W.textCache=Ce,delete W.actualWidth,Ce=se.length;Ce--;)fe.removeChild(se[Ce]);oe||this.ellipsis||this.width||-1!==Se.indexOf(" ")&&(!this.noWrap||/<br.*?>/g.test(Se))?""!==Se&&(ye&&ye.appendChild(fe),Se=new Ne(Se),this.modifyTree(Se.nodes),Se.addToDOM(W.element),this.modifyDOM(),this.ellipsis&&-1!==(fe.textContent||"").indexOf("\u2026")&&W.attr("title",this.unescapeEntities(W.textStr||"",["&lt;","&gt;"])),ye&&ye.removeChild(fe)):fe.appendChild(Qe.createTextNode(this.unescapeEntities(Se))),He(this.textOutline)&&W.applyTextOutline&&W.applyTextOutline(this.textOutline)}},de.prototype.modifyDOM=function(){var Se,W=this,fe=this.svgElement,ye=qe(fe.element,"x");for(fe.firstLineMetrics=void 0;(Se=fe.element.firstChild)&&/^[\s\u200B]*$/.test(Se.textContent||" ");)fe.element.removeChild(Se);[].forEach.call(fe.element.querySelectorAll("tspan.highcharts-br"),function(Ce,L){Ce.nextSibling&&Ce.previousSibling&&(0===L&&1===Ce.previousSibling.nodeType&&(fe.firstLineMetrics=fe.renderer.fontMetrics(void 0,Ce.previousSibling)),qe(Ce,{dy:W.getLineHeight(Ce.nextSibling),x:ye}))});var oe=this.width||0;if(oe){var pe=function(Ce){[].slice.call(Ce.childNodes).forEach(function(L){L.nodeType===ze.Node.TEXT_NODE?function(Ce,L){var Q=Ce.textContent||"",re=Q.replace(/([^\^])-/g,"$1- ").split(" "),P=!W.noWrap&&(1<re.length||1<fe.element.childNodes.length),G=W.getLineHeight(L),F=0,ae=fe.actualWidth;if(W.ellipsis)Q&&W.truncate(Ce,Q,void 0,0,Math.max(0,oe-parseInt(W.fontSize||12,10)),function(R,z){return R.substring(0,z)+"\u2026"});else if(P){for(Q=[],P=[];L.firstChild&&L.firstChild!==Ce;)P.push(L.firstChild),L.removeChild(L.firstChild);for(;re.length;)re.length&&!W.noWrap&&0<F&&(Q.push(Ce.textContent||""),Ce.textContent=re.join(" ").replace(/- /g,"-")),W.truncate(Ce,void 0,re,0===F&&ae||0,oe,function(R,z){return re.slice(0,z).join(" ").replace(/- /g,"-")}),ae=fe.actualWidth,F++;P.forEach(function(R){L.insertBefore(R,Ce)}),Q.forEach(function(R){L.insertBefore(Qe.createTextNode(R),Ce),(R=Qe.createElementNS(nt,"tspan")).textContent="\u200b",qe(R,{dy:G,x:ye}),L.insertBefore(R,Ce)})}}(L,Ce):(-1!==L.className.baseVal.indexOf("highcharts-br")&&(fe.actualWidth=0),pe(L))})};pe(fe.element)}},de.prototype.getLineHeight=function(W){var fe;return W=W.nodeType===ze.Node.TEXT_NODE?W.parentElement:W,this.renderer.styledMode||(fe=W&&/(px|em)$/.test(W.style.fontSize)?W.style.fontSize:this.fontSize||this.renderer.style.fontSize||12),this.textLineHeight?parseInt(this.textLineHeight.toString(),10):this.renderer.fontMetrics(fe,W||this.svgElement.element).h},de.prototype.modifyTree=function(W){var fe=this,ye=function(Se,oe){var se=Se.attributes;se=void 0===se?{}:se;var pe=Se.children,Ce=Se.style;Ce=void 0===Ce?{}:Ce;var L=Se.tagName,Q=fe.renderer.styledMode;"b"===L||"strong"===L?Q?se.class="highcharts-strong":Ce.fontWeight="bold":("i"===L||"em"===L)&&(Q?se.class="highcharts-emphasized":Ce.fontStyle="italic"),Ce&&Ce.color&&(Ce.fill=Ce.color),"br"===L?(se.class="highcharts-br",Se.textContent="\u200b",(oe=W[oe+1])&&oe.textContent&&(oe.textContent=oe.textContent.replace(/^ +/gm,""))):"a"===L&&pe&&pe.some(function(re){return"#text"===re.tagName})&&(Se.children=[{children:pe,tagName:"tspan"}]),"#text"!==L&&"a"!==L&&(Se.tagName="tspan"),Fe(Se,{attributes:se,style:Ce}),pe&&pe.filter(function(re){return"#text"!==re.tagName}).forEach(ye)};W.forEach(ye)},de.prototype.truncate=function(W,fe,ye,Se,oe,se){var F,pe=this.svgElement,Ce=pe.renderer,L=pe.rotation,Q=[],re=ye?1:0,P=(fe||ye||"").length,G=P,ae=function(z,De){De=De||z;var Ke=W.parentNode;if(Ke&&void 0===Q[De])if(Ke.getSubStringLength)try{Q[De]=Se+Ke.getSubStringLength(0,ye?De+1:De)}catch(dt){}else Ce.getSpanWidth&&(W.textContent=se(fe||ye,z),Q[De]=Se+Ce.getSpanWidth(pe,W));return Q[De]};pe.rotation=0;var R=ae(W.textContent.length);if(Se+R>oe){for(;re<=P;)G=Math.ceil((re+P)/2),ye&&(F=se(ye,G)),R=ae(G,F&&F.length-1),re===P?re=P+1:R>oe?P=G-1:re=G;0===P?W.textContent="":fe&&P===fe.length-1||(W.textContent=F||se(fe||ye,G))}ye&&ye.splice(0,G),pe.actualWidth=R,pe.rotation=L},de.prototype.unescapeEntities=function(W,fe){return xe(this.renderer.escapes,function(ye,Se){fe&&-1!==fe.indexOf(ye)||(W=W.toString().replace(new RegExp(ye,"g"),Se))}),W},de}()}),it(ve,"Core/Renderer/SVG/SVGRenderer.js",[ve["Core/Renderer/HTML/AST.js"],ve["Core/Color/Color.js"],ve["Core/Globals.js"],ve["Core/Renderer/RendererRegistry.js"],ve["Core/Renderer/SVG/SVGElement.js"],ve["Core/Renderer/SVG/SVGLabel.js"],ve["Core/Renderer/SVG/Symbols.js"],ve["Core/Renderer/SVG/TextBuilder.js"],ve["Core/Utilities.js"]],function(Ne,I,tt,Qe,nt,ze,qe,Fe,He){var Je,xe=tt.charts,we=tt.deg2rad,de=tt.doc,W=tt.isFirefox,fe=tt.isMS,ye=tt.isWebKit,Se=tt.noop,oe=tt.SVG_NS,se=tt.symbolSizes,pe=tt.win,Ce=He.addEvent,L=He.attr,Q=He.createElement,re=He.css,P=He.defined,G=He.destroyObjectProperties,F=He.extend,ae=He.isArray,R=He.isNumber,z=He.isObject,De=He.isString,Ke=He.merge,dt=He.pick,We=He.pInt,Te=He.uniqueKey;return tt=function(){function Z(ne,Oe,$e,ot,at,j,be){this.width=this.url=this.style=this.isSVG=this.imgCount=this.height=this.gradients=this.globalAnimation=this.defs=this.chartIndex=this.cacheKeys=this.cache=this.boxWrapper=this.box=this.alignedObjects=void 0,this.init(ne,Oe,$e,ot,at,j,be)}return Z.prototype.init=function(ne,Oe,$e,ot,at,j,be){var Ue,J=this.createElement("svg").attr({version:"1.1",class:"highcharts-root"}),Ee=J.element;be||J.css(this.getStyle(ot)),ne.appendChild(Ee),L(ne,"dir","ltr"),-1===ne.innerHTML.indexOf("xmlns")&&L(Ee,"xmlns",this.SVG_NS),this.isSVG=!0,this.box=Ee,this.boxWrapper=J,this.alignedObjects=[],this.url=this.getReferenceURL(),this.createElement("desc").add().element.appendChild(de.createTextNode("Created with Highcharts 10.1.0")),this.defs=this.createElement("defs").add(),this.allowHTML=j,this.forExport=at,this.styledMode=be,this.gradients={},this.cache={},this.cacheKeys=[],this.imgCount=0,this.setSize(Oe,$e,!1),W&&ne.getBoundingClientRect&&((Oe=function(){re(ne,{left:0,top:0}),Ue=ne.getBoundingClientRect(),re(ne,{left:Math.ceil(Ue.left)-Ue.left+"px",top:Math.ceil(Ue.top)-Ue.top+"px"})})(),this.unSubPixelFix=Ce(pe,"resize",Oe))},Z.prototype.definition=function(ne){return new Ne([ne]).addToDOM(this.defs.element)},Z.prototype.getReferenceURL=function(){if((W||ye)&&de.getElementsByTagName("base").length){if(!P(Je)){var ne=Te();ne=new Ne([{tagName:"svg",attributes:{width:8,height:8},children:[{tagName:"defs",children:[{tagName:"clipPath",attributes:{id:ne},children:[{tagName:"rect",attributes:{width:4,height:4}}]}]},{tagName:"rect",attributes:{id:"hitme",width:8,height:8,"clip-path":"url(#"+ne+")",fill:"rgba(0,0,0,0.001)"}}]}]).addToDOM(de.body),re(ne,{position:"fixed",top:0,left:0,zIndex:9e5});var Oe=de.elementFromPoint(6,6);Je="hitme"===(Oe&&Oe.id),de.body.removeChild(ne)}if(Je)return pe.location.href.split("#")[0].replace(/<[^>]*>/g,"").replace(/([\('\)])/g,"\\$1").replace(/ /g,"%20")}return""},Z.prototype.getStyle=function(ne){return this.style=F({fontFamily:'"Lucida Grande", "Lucida Sans Unicode", Arial, Helvetica, sans-serif',fontSize:"12px"},ne)},Z.prototype.setStyle=function(ne){this.boxWrapper.css(this.getStyle(ne))},Z.prototype.isHidden=function(){return!this.boxWrapper.getBBox().width},Z.prototype.destroy=function(){var ne=this.defs;return this.box=null,this.boxWrapper=this.boxWrapper.destroy(),G(this.gradients||{}),this.gradients=null,ne&&(this.defs=ne.destroy()),this.unSubPixelFix&&this.unSubPixelFix(),this.alignedObjects=null},Z.prototype.createElement=function(ne){var Oe=new this.Element;return Oe.init(this,ne),Oe},Z.prototype.getRadialAttr=function(ne,Oe){return{cx:ne[0]-ne[2]/2+(Oe.cx||0)*ne[2],cy:ne[1]-ne[2]/2+(Oe.cy||0)*ne[2],r:(Oe.r||0)*ne[2]}},Z.prototype.buildText=function(ne){new Fe(ne).buildSVG()},Z.prototype.getContrast=function(ne){return(ne=I.parse(ne).rgba)[0]*=1,ne[1]*=1.2,ne[2]*=.5,459<ne[0]+ne[1]+ne[2]?"#000000":"#FFFFFF"},Z.prototype.button=function(ne,Oe,$e,ot,at,j,be,J,Ee,Ue){var lt=this.label(ne,Oe,$e,Ee,void 0,void 0,Ue,void 0,"button"),Tt=this.styledMode;ne=at&&at.states||{},at&&delete at.states;var Ft=0,$t=at?Ke(at):{},vn=Ke({color:"#333333",cursor:"pointer",fontWeight:"normal"},$t.style);if(delete $t.style,$t=Ne.filterUserAttributes($t),lt.attr(Ke({padding:8,r:2},$t)),!Tt){$t=Ke({fill:"#f7f7f7",stroke:"#cccccc","stroke-width":1},$t);var Nn=(j=Ke($t,{fill:"#e6e6e6"},Ne.filterUserAttributes(j||ne.hover||{}))).style;delete j.style;var $n=(be=Ke($t,{fill:"#e6ebf5",style:{color:"#000000",fontWeight:"bold"}},Ne.filterUserAttributes(be||ne.select||{}))).style;delete be.style;var yn=(J=Ke($t,{style:{color:"#cccccc"}},Ne.filterUserAttributes(J||ne.disabled||{}))).style;delete J.style}return Ce(lt.element,fe?"mouseover":"mouseenter",function(){3!==Ft&&lt.setState(1)}),Ce(lt.element,fe?"mouseout":"mouseleave",function(){3!==Ft&&lt.setState(Ft)}),lt.setState=function(hn){1!==hn&&(lt.state=Ft=hn),lt.removeClass(/highcharts-button-(normal|hover|pressed|disabled)/).addClass("highcharts-button-"+["normal","hover","pressed","disabled"][hn||0]),Tt||(lt.attr([$t,j,be,J][hn||0]),z(hn=[vn,Nn,$n,yn][hn||0])&&lt.css(hn))},Tt||lt.attr($t).css(F({cursor:"default"},vn)),lt.on("touchstart",function(hn){return hn.stopPropagation()}).on("click",function(hn){3!==Ft&&ot.call(lt,hn)})},Z.prototype.crispLine=function(ne,Oe,$e){void 0===$e&&($e="round");var ot=ne[0],at=ne[1];return P(ot[1])&&ot[1]===at[1]&&(ot[1]=at[1]=Math[$e](ot[1])-Oe%2/2),P(ot[2])&&ot[2]===at[2]&&(ot[2]=at[2]=Math[$e](ot[2])+Oe%2/2),ne},Z.prototype.path=function(ne){var Oe=this.styledMode?{}:{fill:"none"};return ae(ne)?Oe.d=ne:z(ne)&&F(Oe,ne),this.createElement("path").attr(Oe)},Z.prototype.circle=function(ne,Oe,$e){return ne=z(ne)?ne:void 0===ne?{}:{x:ne,y:Oe,r:$e},(Oe=this.createElement("circle")).xSetter=Oe.ySetter=function(ot,at,j){j.setAttribute("c"+at,ot)},Oe.attr(ne)},Z.prototype.arc=function(ne,Oe,$e,ot,at,j){return z(ne)?(Oe=(ot=ne).y,$e=ot.r,ne=ot.x):ot={innerR:ot,start:at,end:j},(ne=this.symbol("arc",ne,Oe,$e,$e,ot)).r=$e,ne},Z.prototype.rect=function(ne,Oe,$e,ot,at,j){at=z(ne)?ne.r:at;var be=this.createElement("rect");return ne=z(ne)?ne:void 0===ne?{}:{x:ne,y:Oe,width:Math.max($e,0),height:Math.max(ot,0)},this.styledMode||(void 0!==j&&(ne["stroke-width"]=j,ne=be.crisp(ne)),ne.fill="none"),at&&(ne.r=at),be.rSetter=function(J,Ee,Ue){be.r=J,L(Ue,{rx:J,ry:J})},be.rGetter=function(){return be.r||0},be.attr(ne)},Z.prototype.setSize=function(ne,Oe,$e){this.width=ne,this.height=Oe,this.boxWrapper.animate({width:ne,height:Oe},{step:function(){this.attr({viewBox:"0 0 "+this.attr("width")+" "+this.attr("height")})},duration:dt($e,!0)?void 0:0}),this.alignElements()},Z.prototype.g=function(ne){var Oe=this.createElement("g");return ne?Oe.attr({class:"highcharts-"+ne}):Oe},Z.prototype.image=function(ne,Oe,$e,ot,at,j){var be={preserveAspectRatio:"none"},J=function(Ue,lt){Ue.setAttributeNS?Ue.setAttributeNS("http://www.w3.org/1999/xlink","href",lt):Ue.setAttribute("hc-svg-href",lt)};R(Oe)&&(be.x=Oe),R($e)&&(be.y=$e),R(ot)&&(be.width=ot),R(at)&&(be.height=at);var Ee=this.createElement("image").attr(be);return Oe=function(Ue){J(Ee.element,ne),j.call(Ee,Ue)},j?(J(Ee.element,"data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw=="),$e=new pe.Image,Ce($e,"load",Oe),$e.src=ne,$e.complete&&Oe({})):J(Ee.element,ne),Ee},Z.prototype.symbol=function(ne,Oe,$e,ot,at,j){var Tt,be=this,J=/^url\((.*?)\)$/,Ee=J.test(ne),Ue=!Ee&&(this.symbols[ne]?ne:"circle"),lt=Ue&&this.symbols[Ue];if(lt){"number"==typeof Oe&&(Tt=lt.call(this.symbols,Math.round(Oe||0),Math.round($e||0),ot||0,at||0,j));var Ft=this.path(Tt);be.styledMode||Ft.attr("fill","none"),F(Ft,{symbolName:Ue||void 0,x:Oe,y:$e,width:ot,height:at}),j&&F(Ft,j)}else if(Ee){var $t=ne.match(J)[1],vn=Ft=this.image($t);vn.imgwidth=dt(se[$t]&&se[$t].width,j&&j.width),vn.imgheight=dt(se[$t]&&se[$t].height,j&&j.height);var Nn=function($n){return $n.attr({width:$n.width,height:$n.height})};["width","height"].forEach(function($n){vn[$n+"Setter"]=function(yn,hn){var ke=this["img"+hn];this[hn]=yn,P(ke)&&(j&&"within"===j.backgroundSize&&this.width&&this.height&&(ke=Math.round(ke*Math.min(this.width/this.imgwidth,this.height/this.imgheight))),this.element&&this.element.setAttribute(hn,ke),this.alignByTranslate||(yn=((this[hn]||0)-ke)/2,this.attr("width"===hn?{translateX:yn}:{translateY:yn})))}}),P(Oe)&&vn.attr({x:Oe,y:$e}),vn.isImg=!0,P(vn.imgwidth)&&P(vn.imgheight)?Nn(vn):(vn.attr({width:0,height:0}),Q("img",{onload:function(){var $n=xe[be.chartIndex];0===this.width&&(re(this,{position:"absolute",top:"-999em"}),de.body.appendChild(this)),se[$t]={width:this.width,height:this.height},vn.imgwidth=this.width,vn.imgheight=this.height,vn.element&&Nn(vn),this.parentNode&&this.parentNode.removeChild(this),be.imgCount--,!be.imgCount&&$n&&!$n.hasLoaded&&$n.onload()},src:$t}),this.imgCount++)}return Ft},Z.prototype.clipRect=function(ne,Oe,$e,ot){var at=Te()+"-",j=this.createElement("clipPath").attr({id:at}).add(this.defs);return(ne=this.rect(ne,Oe,$e,ot,0).add(j)).id=at,ne.clipPath=j,ne.count=0,ne},Z.prototype.text=function(ne,Oe,$e,ot){var at={};return!ot||!this.allowHTML&&this.forExport?(at.x=Math.round(Oe||0),$e&&(at.y=Math.round($e)),P(ne)&&(at.text=ne),ne=this.createElement("text").attr(at),(!ot||this.forExport&&!this.allowHTML)&&(ne.xSetter=function(j,be,J){for(var Tt,Ee=J.getElementsByTagName("tspan"),Ue=J.getAttribute(be),lt=0;lt<Ee.length;lt++)(Tt=Ee[lt]).getAttribute(be)===Ue&&Tt.setAttribute(be,j);J.setAttribute(be,j)}),ne):this.html(ne,Oe,$e)},Z.prototype.fontMetrics=function(ne,Oe){return ne=!this.styledMode&&/px/.test(ne)||!pe.getComputedStyle?ne||Oe&&Oe.style&&Oe.style.fontSize||this.style&&this.style.fontSize:Oe&&nt.prototype.getStyle.call(Oe,"font-size"),{h:Oe=24>(ne=/px/.test(ne)?We(ne):12)?ne+3:Math.round(1.2*ne),b:Math.round(.8*Oe),f:ne}},Z.prototype.rotCorr=function(ne,Oe,$e){var ot=ne;return Oe&&$e&&(ot=Math.max(ot*Math.cos(Oe*we),4)),{x:-ne/3*Math.sin(Oe*we),y:ot}},Z.prototype.pathToSegments=function(ne){for(var Oe=[],$e=[],ot={A:8,C:7,H:2,L:3,M:3,Q:5,S:5,T:3,V:2},at=0;at<ne.length;at++)De($e[0])&&R(ne[at])&&$e.length===ot[$e[0].toUpperCase()]&&ne.splice(at,0,$e[0].replace("M","L").replace("m","l")),"string"==typeof ne[at]&&($e.length&&Oe.push($e.slice(0)),$e.length=0),$e.push(ne[at]);return Oe.push($e.slice(0)),Oe},Z.prototype.label=function(ne,Oe,$e,ot,at,j,be,J,Ee){return new ze(this,ne,Oe,$e,ot,at,j,be,J,Ee)},Z.prototype.alignElements=function(){this.alignedObjects.forEach(function(ne){return ne.align()})},Z}(),F(tt.prototype,{Element:nt,SVG_NS:oe,escapes:{"&":"&amp;","<":"&lt;",">":"&gt;","'":"&#39;",'"':"&quot;"},symbols:qe,draw:Se}),Qe.registerRendererType("svg",tt,!0),tt}),it(ve,"Core/Renderer/HTML/HTMLElement.js",[ve["Core/Globals.js"],ve["Core/Renderer/SVG/SVGElement.js"],ve["Core/Utilities.js"]],function(Ne,I,tt){var fe,Qe=this&&this.__extends||(fe=function(ye,Se){return(fe=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(oe,se){oe.__proto__=se}||function(oe,se){for(var pe in se)se.hasOwnProperty(pe)&&(oe[pe]=se[pe])})(ye,Se)},function(ye,Se){function oe(){this.constructor=ye}fe(ye,Se),ye.prototype=null===Se?Object.create(Se):(oe.prototype=Se.prototype,new oe)}),nt=Ne.isFirefox,ze=Ne.isMS,qe=Ne.isWebKit,Fe=Ne.win,He=tt.css,xe=tt.defined,we=tt.extend,de=tt.pick,W=tt.pInt;return function(fe){function ye(){return null!==fe&&fe.apply(this,arguments)||this}return Qe(ye,fe),ye.compose=function(Se){if(-1===ye.composedClasses.indexOf(Se)){ye.composedClasses.push(Se);var oe=ye.prototype,se=Se.prototype;se.getSpanCorrection=oe.getSpanCorrection,se.htmlCss=oe.htmlCss,se.htmlGetBBox=oe.htmlGetBBox,se.htmlUpdateTransform=oe.htmlUpdateTransform,se.setSpanRotation=oe.setSpanRotation}return Se},ye.prototype.getSpanCorrection=function(Se,oe,se){this.xCorr=-Se*se,this.yCorr=-oe},ye.prototype.htmlCss=function(Se){var oe="SPAN"===this.element.tagName&&Se&&"width"in Se,se=de(oe&&Se.width,void 0);if(oe){delete Se.width,this.textWidth=se;var pe=!0}return Se&&"ellipsis"===Se.textOverflow&&(Se.whiteSpace="nowrap",Se.overflow="hidden"),this.styles=we(this.styles,Se),He(this.element,Se),pe&&this.htmlUpdateTransform(),this},ye.prototype.htmlGetBBox=function(){var Se=this.element;return{x:Se.offsetLeft,y:Se.offsetTop,width:Se.offsetWidth,height:Se.offsetHeight}},ye.prototype.htmlUpdateTransform=function(){if(this.added){var Se=this.renderer,oe=this.element,se=this.translateX||0,pe=this.translateY||0,Ce=this.x||0,L=this.y||0,Q=this.textAlign||"left",re={left:0,center:.5,right:1}[Q],P=this.styles;if(P=P&&P.whiteSpace,He(oe,{marginLeft:se,marginTop:pe}),!Se.styledMode&&this.shadows&&this.shadows.forEach(function(De){He(De,{marginLeft:se+1,marginTop:pe+1})}),this.inverted&&[].forEach.call(oe.childNodes,function(De){Se.invertChild(De,oe)}),"SPAN"===oe.tagName){var G=this.rotation,F=this.textWidth&&W(this.textWidth),ae=[G,Q,oe.innerHTML,this.textWidth,this.textAlign].join(),R=void 0;if(R=!1,F!==this.oldTextWidth){if(this.textPxLength)var z=this.textPxLength;else He(oe,{width:"",whiteSpace:P||"nowrap"}),z=oe.offsetWidth;(F>this.oldTextWidth||z>F)&&(/[ \-]/.test(oe.textContent||oe.innerText)||"ellipsis"===oe.style.textOverflow)&&(He(oe,{width:z>F||G?F+"px":"auto",display:"block",whiteSpace:P||"normal"}),this.oldTextWidth=F,R=!0)}this.hasBoxWidthChanged=R,ae!==this.cTT&&(R=Se.fontMetrics(oe.style.fontSize,oe).b,!xe(G)||G===(this.oldRotation||0)&&Q===this.oldAlign||this.setSpanRotation(G,re,R),this.getSpanCorrection(!xe(G)&&this.textPxLength||oe.offsetWidth,R,re,G,Q)),He(oe,{left:Ce+(this.xCorr||0)+"px",top:L+(this.yCorr||0)+"px"}),this.cTT=ae,this.oldRotation=G,this.oldAlign=Q}}else this.alignOnAdd=!0},ye.prototype.setSpanRotation=function(Se,oe,se){var pe={},Ce=ze&&!/Edge/.test(Fe.navigator.userAgent)?"-ms-transform":qe?"-webkit-transform":nt?"MozTransform":Fe.opera?"-o-transform":void 0;Ce&&(pe[Ce]=pe.transform="rotate("+Se+"deg)",pe[Ce+(nt?"Origin":"-origin")]=pe.transformOrigin=100*oe+"% "+se+"px",He(this.element,pe))},ye.composedClasses=[],ye}(I)}),it(ve,"Core/Renderer/HTML/HTMLRenderer.js",[ve["Core/Renderer/HTML/AST.js"],ve["Core/Renderer/SVG/SVGElement.js"],ve["Core/Renderer/SVG/SVGRenderer.js"],ve["Core/Utilities.js"]],function(Ne,I,tt,Qe){var xe,nt=this&&this.__extends||(xe=function(we,de){return(xe=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(W,fe){W.__proto__=fe}||function(W,fe){for(var ye in fe)fe.hasOwnProperty(ye)&&(W[ye]=fe[ye])})(we,de)},function(we,de){function W(){this.constructor=we}xe(we,de),we.prototype=null===de?Object.create(de):(W.prototype=de.prototype,new W)}),ze=Qe.attr,qe=Qe.createElement,Fe=Qe.extend,He=Qe.pick;return function(xe){function we(){return null!==xe&&xe.apply(this,arguments)||this}return nt(we,xe),we.compose=function(de){return-1===we.composedClasses.indexOf(de)&&(we.composedClasses.push(de),de.prototype.html=we.prototype.html),de},we.prototype.html=function(de,W,fe){var ye=this.createElement("span"),Se=ye.element,oe=ye.renderer,se=oe.isSVG,pe=function(Ce,L){["opacity","visibility"].forEach(function(Q){Ce[Q+"Setter"]=function(re,P,G){var F=Ce.div?Ce.div.style:L;I.prototype[Q+"Setter"].call(this,re,P,G),F&&(F[P]=re)}}),Ce.addedSetters=!0};return ye.textSetter=function(Ce){Ce!==this.textStr&&(delete this.bBox,delete this.oldTextWidth,Ne.setElementHTML(this.element,He(Ce,"")),this.textStr=Ce,ye.doTransform=!0)},se&&pe(ye,ye.element.style),ye.xSetter=ye.ySetter=ye.alignSetter=ye.rotationSetter=function(Ce,L){"align"===L?ye.alignValue=ye.textAlign=Ce:ye[L]=Ce,ye.doTransform=!0},ye.afterSetters=function(){this.doTransform&&(this.htmlUpdateTransform(),this.doTransform=!1)},ye.attr({text:de,x:Math.round(W),y:Math.round(fe)}).css({position:"absolute"}),oe.styledMode||ye.css({fontFamily:this.style.fontFamily,fontSize:this.style.fontSize}),Se.style.whiteSpace="nowrap",ye.css=ye.htmlCss,se&&(ye.add=function(Ce){var L=oe.box.parentNode,Q=[];if(this.parentGroup=Ce){var re=Ce.div;if(!re){for(;Ce;)Q.push(Ce),Ce=Ce.parentGroup;Q.reverse().forEach(function(P){function G(z,De){P[De]=z,"translateX"===De?R.left=z+"px":R.top=z+"px",P.doTransform=!0}var z,F=ze(P.element,"class"),ae=P.styles||{},R=(re=P.div=P.div||qe("div",F?{className:F}:void 0,{position:"absolute",left:(P.translateX||0)+"px",top:(P.translateY||0)+"px",display:P.display,opacity:P.opacity,cursor:ae.cursor,pointerEvents:ae.pointerEvents,visibility:P.visibility},re||L)).style;Fe(P,{classSetter:(z=re,function(De){this.element.setAttribute("class",De),z.className=De}),on:function(){return Q[0].div&&ye.on.apply({element:Q[0].div,onEvents:P.onEvents},arguments),P},translateXSetter:G,translateYSetter:G}),P.addedSetters||pe(P)})}}else re=L;return re.appendChild(Se),ye.added=!0,ye.alignOnAdd&&ye.htmlUpdateTransform(),ye}),ye},we.composedClasses=[],we}(tt)}),it(ve,"Core/Axis/AxisDefaults.js",[],function(){var Ne=(()=>{return(I=Ne||(Ne={})).defaultXAxisOptions={alignTicks:!0,allowDecimals:void 0,panningEnabled:!0,zIndex:2,zoomEnabled:!0,dateTimeLabelFormats:{millisecond:{main:"%H:%M:%S.%L",range:!1},second:{main:"%H:%M:%S",range:!1},minute:{main:"%H:%M",range:!1},hour:{main:"%H:%M",range:!1},day:{main:"%e. %b"},week:{main:"%e. %b"},month:{main:"%b '%y"},year:{main:"%Y"}},endOnTick:!1,gridLineDashStyle:"Solid",gridZIndex:1,labels:{autoRotation:void 0,autoRotationLimit:80,distance:void 0,enabled:!0,indentation:10,overflow:"justify",padding:5,reserveSpace:void 0,rotation:void 0,staggerLines:0,step:0,useHTML:!1,x:0,zIndex:7,style:{color:"#666666",cursor:"default",fontSize:"11px"}},maxPadding:.01,minorGridLineDashStyle:"Solid",minorTickLength:2,minorTickPosition:"outside",minPadding:.01,offset:void 0,opposite:!1,reversed:void 0,reversedStacks:!1,showEmpty:!0,showFirstLabel:!0,showLastLabel:!0,startOfWeek:1,startOnTick:!1,tickLength:10,tickPixelInterval:100,tickmarkPlacement:"between",tickPosition:"outside",title:{align:"middle",rotation:0,useHTML:!1,x:0,y:0,style:{color:"#666666"}},type:"linear",uniqueNames:!0,visible:!0,minorGridLineColor:"#f2f2f2",minorGridLineWidth:1,minorTickColor:"#999999",lineColor:"#ccd6eb",lineWidth:1,gridLineColor:"#e6e6e6",gridLineWidth:void 0,tickColor:"#ccd6eb"},I.defaultYAxisOptions={reversedStacks:!0,endOnTick:!0,maxPadding:.05,minPadding:.05,tickPixelInterval:72,showLastLabel:!0,labels:{x:-8},startOnTick:!0,title:{rotation:270,text:"Values"},stackLabels:{animation:{},allowOverlap:!1,enabled:!1,crop:!0,overflow:"justify",formatter:function(){return(0,this.axis.chart.numberFormatter)(this.total,-1)},style:{color:"#000000",fontSize:"11px",fontWeight:"bold",textOutline:"1px contrast"}},gridLineWidth:1,lineWidth:0},I.defaultLeftAxisOptions={labels:{x:-15},title:{rotation:270}},I.defaultRightAxisOptions={labels:{x:15},title:{rotation:90}},I.defaultBottomAxisOptions={labels:{autoRotation:[-45],x:0},margin:15,title:{rotation:0}},I.defaultTopAxisOptions={labels:{autoRotation:[-45],x:0},margin:15,title:{rotation:0}},Ne;var I})();return Ne}),it(ve,"Core/Foundation.js",[ve["Core/Utilities.js"]],function(Ne){var ze,I=Ne.addEvent,tt=Ne.isFunction,Qe=Ne.objectEach,nt=Ne.removeEvent;return(ze||(ze={})).registerEventOptions=function(Fe,He){Fe.eventOptions=Fe.eventOptions||{},Qe(He.events,function(xe,we){Fe.eventOptions[we]!==xe&&(Fe.eventOptions[we]&&(nt(Fe,we,Fe.eventOptions[we]),delete Fe.eventOptions[we]),tt(xe)&&(Fe.eventOptions[we]=xe,I(Fe,we,xe)))})},ze}),it(ve,"Core/Axis/Tick.js",[ve["Core/FormatUtilities.js"],ve["Core/Globals.js"],ve["Core/Utilities.js"]],function(Ne,I,tt){var Qe=I.deg2rad,nt=tt.clamp,ze=tt.correctFloat,qe=tt.defined,Fe=tt.destroyObjectProperties,He=tt.extend,xe=tt.fireEvent,we=tt.isNumber,de=tt.merge,W=tt.objectEach,fe=tt.pick;return function(){function ye(Se,oe,se,pe,Ce){this.isNewLabel=this.isNew=!0,this.axis=Se,this.pos=oe,this.type=se||"",this.parameters=Ce||{},this.tickmarkOffset=this.parameters.tickmarkOffset,this.options=this.parameters.options,xe(this,"init"),se||pe||this.addLabel()}return ye.prototype.addLabel=function(){var Se=this,oe=Se.axis,se=oe.options,pe=oe.chart,Ce=oe.categories,L=oe.logarithmic,Q=oe.names,re=Se.pos,P=fe(Se.options&&Se.options.labels,se.labels),G=oe.tickPositions,F=re===G[0],ae=re===G[G.length-1],R=(!P.step||1===P.step)&&1===oe.tickInterval;G=G.info;var De,z=Se.label;if(Ce=this.parameters.category||(Ce?fe(Ce[re],Q[re],re):re),L&&we(Ce)&&(Ce=ze(L.lin2log(Ce))),oe.dateTime)if(G)var Ke=pe.time.resolveDTLFormat(se.dateTimeLabelFormats[!se.grid&&G.higherRanks[re]||G.unitName]),dt=Ke.main;else we(Ce)&&(dt=oe.dateTime.getXDateFormat(Ce,se.dateTimeLabelFormats||{}));Se.isFirst=F,Se.isLast=ae;var We={axis:oe,chart:pe,dateTimeLabelFormat:dt,isFirst:F,isLast:ae,pos:re,tick:Se,tickPositionInfo:G,value:Ce};xe(this,"labelFormat",We);var Te=function(Z){return P.formatter?P.formatter.call(Z,Z):P.format?(Z.text=oe.defaultLabelFormatter.call(Z),Ne.format(P.format,Z,pe)):oe.defaultLabelFormatter.call(Z,Z)};se=Te.call(We,We);var Je=Ke&&Ke.list;Se.shortenLabel=Je?function(){for(De=0;De<Je.length;De++)if(He(We,{dateTimeLabelFormat:Je[De]}),z.attr({text:Te.call(We,We)}),z.getBBox().width<oe.getSlotWidth(Se)-2*P.padding)return;z.attr({text:""})}:void 0,R&&oe._addedPlotLB&&Se.moveLabel(se,P),qe(z)||Se.movedLabel?z&&z.textStr!==se&&!R&&(!z.textWidth||P.style.width||z.styles.width||z.css({width:null}),z.attr({text:se}),z.textPxLength=z.getBBox().width):(Se.label=z=Se.createLabel({x:0,y:0},se,P),Se.rotation=0)},ye.prototype.createLabel=function(Se,oe,se){var pe=this.axis,Ce=pe.chart;return(Se=qe(oe)&&se.enabled?Ce.renderer.text(oe,Se.x,Se.y,se.useHTML).add(pe.labelGroup):null)&&(Ce.styledMode||Se.css(de(se.style)),Se.textPxLength=Se.getBBox().width),Se},ye.prototype.destroy=function(){Fe(this,this.axis)},ye.prototype.getPosition=function(Se,oe,se,pe){var Ce=this.axis,L=Ce.chart,Q=pe&&L.oldChartHeight||L.chartHeight;return(Se={x:Se?ze(Ce.translate(oe+se,null,null,pe)+Ce.transB):Ce.left+Ce.offset+(Ce.opposite?(pe&&L.oldChartWidth||L.chartWidth)-Ce.right-Ce.left:0),y:Se?Q-Ce.bottom+Ce.offset-(Ce.opposite?Ce.height:0):ze(Q-Ce.translate(oe+se,null,null,pe)-Ce.transB)}).y=nt(Se.y,-1e5,1e5),xe(this,"afterGetPosition",{pos:Se}),Se},ye.prototype.getLabelPosition=function(Se,oe,se,pe,Ce,L,Q,re){var P=this.axis,G=P.transA,F=P.isLinked&&P.linkedParent?P.linkedParent.reversed:P.reversed,ae=P.staggerLines,R=P.tickRotCorr||{x:0,y:0},z=pe||P.reserveSpaceDefault?0:-P.labelOffset*("center"===P.labelAlign?.5:1),De={},Ke=Ce.y;return qe(Ke)||(Ke=0===P.side?se.rotation?-8:-se.getBBox().height:2===P.side?R.y+8:Math.cos(se.rotation*Qe)*(R.y-se.getBBox(!1,0).height/2)),oe=oe+Ke-(L&&!pe?L*G*(F?1:-1):0),ae&&(se=Q/(re||1)%ae,P.opposite&&(se=ae-se-1),oe+=P.labelOffset/ae*se),De.x=Se=Se+Ce.x+z+R.x-(L&&pe?L*G*(F?-1:1):0),De.y=Math.round(oe),xe(this,"afterGetLabelPosition",{pos:De,tickmarkOffset:L,index:Q}),De},ye.prototype.getLabelSize=function(){return this.label?this.label.getBBox()[this.axis.horiz?"height":"width"]:0},ye.prototype.getMarkPath=function(Se,oe,se,pe,Ce,L){return L.crispLine([["M",Se,oe],["L",Se+(Ce?0:-se),oe+(Ce?se:0)]],pe)},ye.prototype.handleOverflow=function(Se){var oe=this.axis,se=oe.options.labels,pe=Se.x,Ce=oe.chart.chartWidth,L=oe.chart.spacing,Q=fe(oe.labelLeft,Math.min(oe.pos,L[3]));L=fe(oe.labelRight,Math.max(oe.isRadial?0:oe.pos+oe.len,Ce-L[1]));var Ke,re=this.label,P=this.rotation,G={left:0,center:.5,right:1}[oe.labelAlign||re.attr("align")],F=re.getBBox().width,ae=oe.getSlotWidth(this),R={},z=ae,De=1;P||"justify"!==se.overflow?0>P&&pe-G*F<Q?Ke=Math.round(pe/Math.cos(P*Qe)-Q):0<P&&pe+G*F>L&&(Ke=Math.round((Ce-pe)/Math.cos(P*Qe))):(Ce=pe+(1-G)*F,pe-G*F<Q?z=Se.x+z*(1-G)-Q:Ce>L&&(z=L-Se.x+z*G,De=-1),(z=Math.min(ae,z))<ae&&"center"===oe.labelAlign&&(Se.x+=De*(ae-z-G*(ae-Math.min(F,z)))),(F>z||oe.autoRotation&&(re.styles||{}).width)&&(Ke=z)),Ke&&(this.shortenLabel?this.shortenLabel():(R.width=Math.floor(Ke)+"px",(se.style||{}).textOverflow||(R.textOverflow="ellipsis"),re.css(R)))},ye.prototype.moveLabel=function(Se,oe){var se=this,pe=se.label,Ce=se.axis,L=Ce.reversed,Q=!1;if(pe&&pe.textStr===Se?(se.movedLabel=pe,Q=!0,delete se.label):W(Ce.ticks,function(P){Q||P.isNew||P===se||!P.label||P.label.textStr!==Se||(se.movedLabel=P.label,Q=!0,P.labelPos=se.movedLabel.xy,delete P.label)}),!Q&&(se.labelPos||pe)){var re=se.labelPos||pe.xy;se.movedLabel=se.createLabel({x:pe=Ce.horiz?L?0:Ce.width+Ce.left:re.x,y:Ce=Ce.horiz?re.y:L?Ce.width+Ce.left:0},Se,oe),se.movedLabel&&se.movedLabel.attr({opacity:0})}},ye.prototype.render=function(Se,oe,se){var pe=this.axis,Ce=pe.horiz,L=this.pos,Q=fe(this.tickmarkOffset,pe.tickmarkOffset);Q=(L=this.getPosition(Ce,L,Q,oe)).x,pe=Ce&&Q===pe.pos+pe.len||!Ce&&L.y===pe.pos?-1:1,Ce=fe(se,this.label&&this.label.newOpacity,1),se=fe(se,1),this.isActive=!0,this.renderGridLine(oe,se,pe),this.renderMark(L,se,pe),this.renderLabel(L,oe,Ce,Se),this.isNew=!1,xe(this,"afterRender")},ye.prototype.renderGridLine=function(Se,oe,se){var pe=this.axis,Ce=pe.options,L={},Q=this.pos,re=this.type,P=fe(this.tickmarkOffset,pe.tickmarkOffset),G=pe.chart.renderer,F=this.gridLine,ae=Ce.gridLineWidth,R=Ce.gridLineColor,z=Ce.gridLineDashStyle;"minor"===this.type&&(ae=Ce.minorGridLineWidth,R=Ce.minorGridLineColor,z=Ce.minorGridLineDashStyle),F||(pe.chart.styledMode||(L.stroke=R,L["stroke-width"]=ae||0,L.dashstyle=z),re||(L.zIndex=1),Se&&(oe=0),this.gridLine=F=G.path().attr(L).addClass("highcharts-"+(re?re+"-":"")+"grid-line").add(pe.gridGroup)),F&&(se=pe.getPlotLinePath({value:Q+P,lineWidth:F.strokeWidth()*se,force:"pass",old:Se}))&&F[Se||this.isNew?"attr":"animate"]({d:se,opacity:oe})},ye.prototype.renderMark=function(Se,oe,se){var pe=this.axis,Ce=pe.options,L=pe.chart.renderer,Q=this.type,re=pe.tickSize(Q?Q+"Tick":"tick"),P=Se.x;Se=Se.y;var G=fe(Ce["minor"!==Q?"tickWidth":"minorTickWidth"],!Q&&pe.isXAxis?1:0);Ce=Ce["minor"!==Q?"tickColor":"minorTickColor"];var F=this.mark,ae=!F;re&&(pe.opposite&&(re[0]=-re[0]),F||(this.mark=F=L.path().addClass("highcharts-"+(Q?Q+"-":"")+"tick").add(pe.axisGroup),pe.chart.styledMode||F.attr({stroke:Ce,"stroke-width":G})),F[ae?"attr":"animate"]({d:this.getMarkPath(P,Se,re[0],F.strokeWidth()*se,pe.horiz,L),opacity:oe}))},ye.prototype.renderLabel=function(Se,oe,se,pe){var Ce=this.axis,L=Ce.horiz,Q=Ce.options,re=this.label,P=Q.labels,G=P.step;Ce=fe(this.tickmarkOffset,Ce.tickmarkOffset);var F=Se.x;Se=Se.y;var ae=!0;re&&we(F)&&(re.xy=Se=this.getLabelPosition(F,Se,re,L,P,Ce,pe,G),this.isFirst&&!this.isLast&&!Q.showFirstLabel||this.isLast&&!this.isFirst&&!Q.showLastLabel?ae=!1:!L||P.step||P.rotation||oe||0===se||this.handleOverflow(Se),G&&pe%G&&(ae=!1),ae&&we(Se.y)?(Se.opacity=se,re[this.isNewLabel?"attr":"animate"](Se).show(!0),this.isNewLabel=!1):(re.hide(),this.isNewLabel=!0))},ye.prototype.replaceMovedLabel=function(){var Se=this.label,oe=this.axis,se=oe.reversed;Se&&!this.isNew&&(Se.animate({x:oe.horiz?se?oe.left:oe.width+oe.left:Se.xy.x,y:se=oe.horiz?Se.xy.y:se?oe.width+oe.top:oe.top,opacity:0},void 0,Se.destroy),delete this.label),oe.isDirty=!0,this.label=this.movedLabel,delete this.movedLabel},ye}()}),it(ve,"Core/Axis/Axis.js",[ve["Core/Animation/AnimationUtilities.js"],ve["Core/Axis/AxisDefaults.js"],ve["Core/Color/Color.js"],ve["Core/DefaultOptions.js"],ve["Core/Foundation.js"],ve["Core/Globals.js"],ve["Core/Axis/Tick.js"],ve["Core/Utilities.js"]],function(Ne,I,tt,Qe,nt,ze,qe,Fe){var He=Ne.animObject,xe=Qe.defaultOptions,we=nt.registerEventOptions,de=ze.deg2rad,W=Fe.arrayMax,fe=Fe.arrayMin,ye=Fe.clamp,Se=Fe.correctFloat,oe=Fe.defined,se=Fe.destroyObjectProperties,pe=Fe.erase,Ce=Fe.error,L=Fe.extend,Q=Fe.fireEvent,re=Fe.isArray,P=Fe.isNumber,G=Fe.isString,F=Fe.merge,ae=Fe.normalizeTickInterval,R=Fe.objectEach,z=Fe.pick,De=Fe.relativeLength,Ke=Fe.removeEvent,dt=Fe.splat,We=Fe.syncTimeout,Te=function(Je,Z){return ae(Z,void 0,void 0,z(Je.options.allowDecimals,.5>Z||void 0!==Je.tickAmount),!!Je.tickAmount)};return function(){function Je(Z,ne){this.zoomEnabled=this.width=this.visible=this.userOptions=this.translationSlope=this.transB=this.transA=this.top=this.ticks=this.tickRotCorr=this.tickPositions=this.tickmarkOffset=this.tickInterval=this.tickAmount=this.side=this.series=this.right=this.positiveValuesOnly=this.pos=this.pointRangePadding=this.pointRange=this.plotLinesAndBandsGroups=this.plotLinesAndBands=this.paddedTicks=this.overlap=this.options=this.offset=this.names=this.minPixelPadding=this.minorTicks=this.minorTickInterval=this.min=this.maxLabelLength=this.max=this.len=this.left=this.labelFormatter=this.labelEdge=this.isLinked=this.height=this.hasVisibleSeries=this.hasNames=this.eventOptions=this.coll=this.closestPointRange=this.chart=this.bottom=this.alternateBands=void 0,this.init(Z,ne)}return Je.prototype.init=function(Z,ne){var Oe=ne.isX;this.chart=Z,this.horiz=Z.inverted&&!this.isZAxis?!Oe:Oe,this.isXAxis=Oe,this.coll=this.coll||(Oe?"xAxis":"yAxis"),Q(this,"init",{userOptions:ne}),this.opposite=z(ne.opposite,this.opposite),this.side=z(ne.side,this.side,this.horiz?this.opposite?0:2:this.opposite?1:3),this.setOptions(ne);var $e=this.options,ot=$e.labels,at=$e.type;this.userOptions=ne,this.minPixelPadding=0,this.reversed=z($e.reversed,this.reversed),this.visible=$e.visible,this.zoomEnabled=$e.zoomEnabled,this.hasNames="category"===at||!0===$e.categories,this.categories=$e.categories||(this.hasNames?[]:void 0),this.names||(this.names=[],this.names.keys={}),this.plotLinesAndBandsGroups={},this.positiveValuesOnly=!!this.logarithmic,this.isLinked=oe($e.linkedTo),this.ticks={},this.labelEdge=[],this.minorTicks={},this.plotLinesAndBands=[],this.alternateBands={},this.len=0,this.minRange=this.userMinRange=$e.minRange||$e.maxZoom,this.range=$e.range,this.offset=$e.offset||0,this.min=this.max=null,ne=z($e.crosshair,dt(Z.options.tooltip.crosshairs)[Oe?0:1]),this.crosshair=!0===ne?{}:ne,-1===Z.axes.indexOf(this)&&(Oe?Z.axes.splice(Z.xAxis.length,0,this):Z.axes.push(this),Z[this.coll].push(this)),this.series=this.series||[],Z.inverted&&!this.isZAxis&&Oe&&void 0===this.reversed&&(this.reversed=!0),this.labelRotation=P(ot.rotation)?ot.rotation:void 0,we(this,$e),Q(this,"afterInit")},Je.prototype.setOptions=function(Z){this.options=F(I.defaultXAxisOptions,"yAxis"===this.coll&&I.defaultYAxisOptions,[I.defaultTopAxisOptions,I.defaultRightAxisOptions,I.defaultBottomAxisOptions,I.defaultLeftAxisOptions][this.side],F(xe[this.coll],Z)),Q(this,"afterSetOptions",{userOptions:Z})},Je.prototype.defaultLabelFormatter=function(Z){var ne=this.axis;Z=this.chart.numberFormatter;var Oe=P(this.value)?this.value:NaN,$e=ne.chart.time,ot=this.dateTimeLabelFormat,at=xe.lang,j=at.numericSymbols;at=at.numericSymbolMagnitude||1e3;var be=ne.logarithmic?Math.abs(Oe):ne.tickInterval,J=j&&j.length;if(ne.categories)var Ee=""+this.value;else if(ot)Ee=$e.dateFormat(ot,Oe);else if(J&&1e3<=be)for(;J--&&void 0===Ee;)be>=(ne=Math.pow(at,J+1))&&10*Oe%ne==0&&null!==j[J]&&0!==Oe&&(Ee=Z(Oe/ne,-1)+j[J]);return void 0===Ee&&(Ee=1e4<=Math.abs(Oe)?Z(Oe,-1):Z(Oe,-1,void 0,"")),Ee},Je.prototype.getSeriesExtremes=function(){var Oe,Z=this,ne=Z.chart;Q(this,"getSeriesExtremes",null,function(){Z.hasVisibleSeries=!1,Z.dataMin=Z.dataMax=Z.threshold=null,Z.softThreshold=!Z.isXAxis,Z.stacking&&Z.stacking.buildStacks(),Z.series.forEach(function($e){if($e.visible||!ne.options.chart.ignoreHiddenSeries){var ot=$e.options,at=ot.threshold;if(Z.hasVisibleSeries=!0,Z.positiveValuesOnly&&0>=at&&(at=null),Z.isXAxis){if((ot=$e.xData).length){ot=Z.logarithmic?ot.filter(Z.validatePositiveValue):ot;var j=(Oe=$e.getXExtremes(ot)).min,be=Oe.max;P(j)||j instanceof Date||(ot=ot.filter(P),j=(Oe=$e.getXExtremes(ot)).min,be=Oe.max),ot.length&&(Z.dataMin=Math.min(z(Z.dataMin,j),j),Z.dataMax=Math.max(z(Z.dataMax,be),be))}}else $e=$e.applyExtremes(),P($e.dataMin)&&(j=$e.dataMin,Z.dataMin=Math.min(z(Z.dataMin,j),j)),P($e.dataMax)&&(be=$e.dataMax,Z.dataMax=Math.max(z(Z.dataMax,be),be)),oe(at)&&(Z.threshold=at),(!ot.softThreshold||Z.positiveValuesOnly)&&(Z.softThreshold=!1)}})}),Q(this,"afterGetSeriesExtremes")},Je.prototype.translate=function(Z,ne,Oe,$e,ot,at){var j=this.linkedParent||this,be=$e&&j.old?j.old.min:j.min,J=j.minPixelPadding;ot=(j.isOrdinal||j.brokenAxis&&j.brokenAxis.hasBreaks||j.logarithmic&&ot)&&j.lin2val;var Ee=1,Ue=0;return($e=$e&&j.old?j.old.transA:j.transA)||($e=j.transA),Oe&&(Ee*=-1,Ue=j.len),j.reversed&&(Ue-=(Ee*=-1)*(j.sector||j.len)),ne?(at=(Z*Ee+Ue-J)/$e+be,ot&&(at=j.lin2val(at))):(ot&&(Z=j.val2lin(Z)),Z=Ee*(Z-be)*$e,at=P(be)?(j.isRadial?Z:Se(Z))+Ue+Ee*J+(P(at)?$e*at:0):void 0),at},Je.prototype.toPixels=function(Z,ne){return this.translate(Z,!1,!this.horiz,null,!0)+(ne?0:this.pos)},Je.prototype.toValue=function(Z,ne){return this.translate(Z-(ne?0:this.pos),!0,!this.horiz,null,!0)},Je.prototype.getPlotLinePath=function(Z){function ne(hn,ke,ft){return("pass"!==Ft&&hn<ke||hn>ft)&&(Ft?hn=ye(hn,ke,ft):yn=!0),hn}var $t,vn,Nn,$n,yn,Oe=this,$e=Oe.chart,ot=Oe.left,at=Oe.top,j=Z.old,be=Z.value,J=Z.lineWidth,Ee=j&&$e.oldChartHeight||$e.chartHeight,Ue=j&&$e.oldChartWidth||$e.chartWidth,lt=Oe.transB,Tt=Z.translatedValue,Ft=Z.force;return Q(this,"getPlotLinePath",Z={value:be,lineWidth:J,old:j,force:Ft,acrossPanes:Z.acrossPanes,translatedValue:Tt},function(hn){Tt=z(Tt,Oe.translate(be,null,null,j)),Tt=ye(Tt,-1e5,1e5),$t=Nn=Math.round(Tt+lt),vn=$n=Math.round(Ee-Tt-lt),P(Tt)?Oe.horiz?(vn=at,$n=Ee-Oe.bottom,$t=Nn=ne($t,ot,ot+Oe.width)):($t=ot,Nn=Ue-Oe.right,vn=$n=ne(vn,at,at+Oe.height)):(yn=!0,Ft=!1),hn.path=yn&&!Ft?null:$e.renderer.crispLine([["M",$t,vn],["L",Nn,$n]],J||1)}),Z.path},Je.prototype.getLinearTickPositions=function(Z,ne,Oe){var $e=Se(Math.floor(ne/Z)*Z);Oe=Se(Math.ceil(Oe/Z)*Z);var at,ot=[];if(Se($e+Z)===$e&&(at=20),this.single)return[ne];for(ne=$e;ne<=Oe&&(ot.push(ne),(ne=Se(ne+Z,at))!==j);)var j=ne;return ot},Je.prototype.getMinorTickInterval=function(){var Z=this.options;return!0===Z.minorTicks?z(Z.minorTickInterval,"auto"):!1===Z.minorTicks?null:Z.minorTickInterval},Je.prototype.getMinorTickPositions=function(){var Z=this.options,ne=this.tickPositions,Oe=this.minorTickInterval,$e=this.pointRangePadding||0,ot=this.min-$e,at=($e=this.max+$e)-ot,j=[];if(at&&at/Oe<this.len/3){var be=this.logarithmic;if(be)this.paddedTicks.forEach(function(J,Ee,Ue){Ee&&j.push.apply(j,be.getLogTickPositions(Oe,Ue[Ee-1],Ue[Ee],!0))});else if(this.dateTime&&"auto"===this.getMinorTickInterval())j=j.concat(this.getTimeTicks(this.dateTime.normalizeTimeTickInterval(Oe),ot,$e,Z.startOfWeek));else for(Z=ot+(ne[0]-ot)%Oe;Z<=$e&&Z!==j[0];Z+=Oe)j.push(Z)}return 0!==j.length&&this.trimTicks(j),j},Je.prototype.adjustForMinRange=function(){var at,j,be,J,Z=this.options,ne=this.logarithmic,Oe=this.min,$e=this.max,ot=0;if(this.isXAxis&&void 0===this.minRange&&!ne&&(oe(Z.min)||oe(Z.max)||oe(Z.floor)||oe(Z.ceiling)?this.minRange=null:(this.series.forEach(function(Tt){if(be=Tt.xData,J=Tt.xIncrement?1:be.length-1,1<be.length)for(at=J;0<at;at--)j=be[at]-be[at-1],(!ot||j<ot)&&(ot=j)}),this.minRange=Math.min(5*ot,this.dataMax-this.dataMin))),$e-Oe<this.minRange){var Ee=this.dataMax-this.dataMin>=this.minRange,Ue=this.minRange,lt=(Ue-$e+Oe)/2;lt=[Oe-lt,z(Z.min,Oe-lt)],Ee&&(lt[2]=this.logarithmic?this.logarithmic.log2lin(this.dataMin):this.dataMin),$e=[(Oe=W(lt))+Ue,z(Z.max,Oe+Ue)],Ee&&($e[2]=ne?ne.log2lin(this.dataMax):this.dataMax),($e=fe($e))-Oe<Ue&&(lt[0]=$e-Ue,lt[1]=z(Z.min,$e-Ue),Oe=W(lt))}this.min=Oe,this.max=$e},Je.prototype.getClosest=function(){var Z;return this.categories?Z=1:this.series.forEach(function(ne){var Oe=ne.closestPointRange,$e=ne.visible||!ne.chart.options.chart.ignoreHiddenSeries;!ne.noSharedTooltip&&oe(Oe)&&$e&&(Z=oe(Z)?Math.min(Z,Oe):Oe)}),Z},Je.prototype.nameToX=function(Z){var ne=re(this.options.categories),Oe=ne?this.categories:this.names,$e=Z.options.x;if(Z.series.requireSorting=!1,oe($e)||($e=this.options.uniqueNames&&Oe?ne?Oe.indexOf(Z.name):z(Oe.keys[Z.name],-1):Z.series.autoIncrement()),-1===$e){if(!ne&&Oe)var ot=Oe.length}else ot=$e;return void 0!==ot&&(this.names[ot]=Z.name,this.names.keys[Z.name]=ot),ot},Je.prototype.updateNames=function(){var Z=this,ne=this.names;0<ne.length&&(Object.keys(ne.keys).forEach(function(Oe){delete ne.keys[Oe]}),ne.length=0,this.minRange=this.userMinRange,(this.series||[]).forEach(function(Oe){Oe.xIncrement=null,(!Oe.points||Oe.isDirtyData)&&(Z.max=Math.max(Z.max,Oe.xData.length-1),Oe.processData(),Oe.generatePoints()),Oe.data.forEach(function($e,ot){if($e&&$e.options&&void 0!==$e.name){var at=Z.nameToX($e);void 0!==at&&at!==$e.x&&($e.x=at,Oe.xData[ot]=at)}})}))},Je.prototype.setAxisTranslation=function(){var J,Z=this,ne=Z.max-Z.min,Oe=Z.linkedParent,$e=!!Z.categories,ot=Z.isXAxis,at=Z.axisPointRange||0,j=0,be=0;if(ot||$e||at){var Ee=Z.getClosest();Oe?(j=Oe.minPointOffset,be=Oe.pointRangePadding):Z.series.forEach(function(Ue){var lt=$e?1:ot?z(Ue.options.pointRange,Ee,0):Z.axisPointRange||0,Tt=Ue.options.pointPlacement;at=Math.max(at,lt),(!Z.single||$e)&&(Ue=Ue.is("xrange")?!ot:ot,j=Math.max(j,Ue&&G(Tt)?0:lt/2),be=Math.max(be,Ue&&"on"===Tt?0:lt))}),Z.minPointOffset=j*=Oe=Z.ordinal&&Z.ordinal.slope&&Ee?Z.ordinal.slope/Ee:1,Z.pointRangePadding=be*=Oe,Z.pointRange=Math.min(at,Z.single&&$e?1:ne),ot&&(Z.closestPointRange=Ee)}Z.translationSlope=Z.transA=J=Z.staticScale||Z.len/(ne+be||1),Z.transB=Z.horiz?Z.left:Z.bottom,Z.minPixelPadding=J*j,Q(this,"afterSetAxisTranslation")},Je.prototype.minFromRange=function(){return this.max-this.range},Je.prototype.setTickInterval=function(Z){var ne=this.chart,Oe=this.logarithmic,$e=this.options,ot=this.isXAxis,at=this.isLinked,j=$e.tickPixelInterval,be=this.categories,J=this.softThreshold,Ee=$e.maxPadding,Ue=$e.minPadding,lt=P($e.tickInterval)&&0<=$e.tickInterval?$e.tickInterval:void 0,Tt=P(this.threshold)?this.threshold:null;this.dateTime||be||at||this.getTickAmount();var Ft=z(this.userMin,$e.min),$t=z(this.userMax,$e.max);if(at){this.linkedParent=ne[this.coll][$e.linkedTo];var vn=this.linkedParent.getExtremes();this.min=z(vn.min,vn.dataMin),this.max=z(vn.max,vn.dataMax),$e.type!==this.linkedParent.options.type&&Ce(11,1,ne)}else{if(J&&oe(Tt))if(this.dataMin>=Tt)vn=Tt,Ue=0;else if(this.dataMax<=Tt){var Nn=Tt;Ee=0}this.min=z(Ft,vn,this.dataMin),this.max=z($t,Nn,this.dataMax)}if(Oe&&(this.positiveValuesOnly&&!Z&&0>=Math.min(this.min,z(this.dataMin,this.min))&&Ce(10,1,ne),this.min=Se(Oe.log2lin(this.min),16),this.max=Se(Oe.log2lin(this.max),16)),this.range&&oe(this.max)&&(this.userMin=this.min=Ft=Math.max(this.dataMin,this.minFromRange()),this.userMax=$t=this.max,this.range=null),Q(this,"foundExtremes"),this.beforePadding&&this.beforePadding(),this.adjustForMinRange(),!(be||this.axisPointRange||this.stacking&&this.stacking.usePercentage||at)&&oe(this.min)&&oe(this.max)&&(ne=this.max-this.min)&&(!oe(Ft)&&Ue&&(this.min-=ne*Ue),!oe($t)&&Ee&&(this.max+=ne*Ee)),P(this.userMin)||(P($e.softMin)&&$e.softMin<this.min&&(this.min=Ft=$e.softMin),P($e.floor)&&(this.min=Math.max(this.min,$e.floor))),P(this.userMax)||(P($e.softMax)&&$e.softMax>this.max&&(this.max=$t=$e.softMax),P($e.ceiling)&&(this.max=Math.min(this.max,$e.ceiling))),J&&oe(this.dataMin)&&(Tt=Tt||0,!oe(Ft)&&this.min<Tt&&this.dataMin>=Tt?this.min=this.options.minRange?Math.min(Tt,this.max-this.minRange):Tt:!oe($t)&&this.max>Tt&&this.dataMax<=Tt&&(this.max=this.options.minRange?Math.max(Tt,this.min+this.minRange):Tt)),P(this.min)&&P(this.max)&&!this.chart.polar&&this.min>this.max&&(oe(this.options.min)?this.max=this.min:oe(this.options.max)&&(this.min=this.max)),this.tickInterval=this.min===this.max||void 0===this.min||void 0===this.max?1:at&&this.linkedParent&&!lt&&j===this.linkedParent.options.tickPixelInterval?lt=this.linkedParent.tickInterval:z(lt,this.tickAmount?(this.max-this.min)/Math.max(this.tickAmount-1,1):void 0,be?1:(this.max-this.min)*j/Math.max(this.len,j)),ot&&!Z){var $n=this.min!==(this.old&&this.old.min)||this.max!==(this.old&&this.old.max);this.series.forEach(function(yn){yn.forceCrop=yn.forceCropping&&yn.forceCropping(),yn.processData($n)}),Q(this,"postProcessData",{hasExtemesChanged:$n})}this.setAxisTranslation(),Q(this,"initialAxisTranslation"),this.pointRange&&!lt&&(this.tickInterval=Math.max(this.pointRange,this.tickInterval)),Z=z($e.minTickInterval,this.dateTime&&!this.series.some(function(yn){return yn.noSharedTooltip})?this.closestPointRange:0),!lt&&this.tickInterval<Z&&(this.tickInterval=Z),this.dateTime||this.logarithmic||lt||(this.tickInterval=Te(this,this.tickInterval)),this.tickAmount||(this.tickInterval=this.unsquish()),this.setTickPositions()},Je.prototype.setTickPositions=function(){var Z=this.options,ne=Z.tickPositions,Oe=this.getMinorTickInterval(),$e=this.hasVerticalPanning(),ot="colorAxis"===this.coll,at=(ot||!$e)&&Z.startOnTick;if($e=(ot||!$e)&&Z.endOnTick,ot=Z.tickPositioner,this.tickmarkOffset=this.categories&&"between"===Z.tickmarkPlacement&&1===this.tickInterval?.5:0,this.minorTickInterval="auto"===Oe&&this.tickInterval?this.tickInterval/5:Oe,this.single=this.min===this.max&&oe(this.min)&&!this.tickAmount&&(parseInt(this.min,10)===this.min||!1!==Z.allowDecimals),this.tickPositions=Oe=ne&&ne.slice(),!Oe){if(this.ordinal&&this.ordinal.positions||!((this.max-this.min)/this.tickInterval>Math.max(2*this.len,200)))if(this.dateTime)Oe=this.getTimeTicks(this.dateTime.normalizeTimeTickInterval(this.tickInterval,Z.units),this.min,this.max,Z.startOfWeek,this.ordinal&&this.ordinal.positions,this.closestPointRange,!0);else if(this.logarithmic)Oe=this.logarithmic.getLogTickPositions(this.tickInterval,this.min,this.max);else for(var j=Z=this.tickInterval;j<=2*Z&&(Oe=this.getLinearTickPositions(this.tickInterval,this.min,this.max),this.tickAmount&&Oe.length>this.tickAmount);)this.tickInterval=Te(this,j*=1.1);else Oe=[this.min,this.max],Ce(19,!1,this.chart);Oe.length>this.len&&(Oe=[Oe[0],Oe.pop()])[0]===Oe[1]&&(Oe.length=1),this.tickPositions=Oe,ot&&(ot=ot.apply(this,[this.min,this.max]))&&(this.tickPositions=Oe=ot)}this.paddedTicks=Oe.slice(0),this.trimTicks(Oe,at,$e),this.isLinked||(this.single&&2>Oe.length&&!this.categories&&!this.series.some(function(be){return be.is("heatmap")&&"between"===be.options.pointPlacement})&&(this.min-=.5,this.max+=.5),ne||ot||this.adjustTickAmount()),Q(this,"afterSetTickPositions")},Je.prototype.trimTicks=function(Z,ne,Oe){var $e=Z[0],ot=Z[Z.length-1],at=!this.isOrdinal&&this.minPointOffset||0;if(Q(this,"trimTicks"),!this.isLinked){if(ne&&$e!==-1/0)this.min=$e;else for(;this.min-at>Z[0];)Z.shift();if(Oe)this.max=ot;else for(;this.max+at<Z[Z.length-1];)Z.pop();0===Z.length&&oe($e)&&!this.options.tickPositions&&Z.push((ot+$e)/2)}},Je.prototype.alignToOthers=function(){var at,Z=this,ne=[this],Oe=Z.options,$e="yAxis"===this.coll&&this.chart.options.chart.alignThresholds,ot=[];if(Z.thresholdAlignment=void 0,(!1!==this.chart.options.chart.alignTicks&&Oe.alignTicks||$e)&&!1!==Oe.startOnTick&&!1!==Oe.endOnTick&&!Z.logarithmic){var j=function(Ee){var Ue=Ee.options;return[Ee.horiz?Ue.left:Ue.top,Ue.width,Ue.height,Ue.pane].join()},be=j(this);this.chart[this.coll].forEach(function(Ee){var Ue=Ee.series;Ue.length&&Ue.some(function(lt){return lt.visible})&&Ee!==Z&&j(Ee)===be&&(at=!0,ne.push(Ee))})}if(at&&$e){ne.forEach(function(Ee){Ee=Ee.getThresholdAlignment(Z),P(Ee)&&ot.push(Ee)});var J=1<ot.length?ot.reduce(function(Ee,Ue){return Ee+Ue},0)/ot.length:void 0;ne.forEach(function(Ee){Ee.thresholdAlignment=J})}return at},Je.prototype.getThresholdAlignment=function(Z){if((!P(this.dataMin)||this!==Z&&this.series.some(function(ne){return ne.isDirty||ne.isDirtyData}))&&this.getSeriesExtremes(),P(this.threshold))return Z=ye((this.threshold-(this.dataMin||0))/((this.dataMax||0)-(this.dataMin||0)),0,1),this.options.reversed&&(Z=1-Z),Z},Je.prototype.getTickAmount=function(){var Z=this.options,ne=Z.tickPixelInterval,Oe=Z.tickAmount;!oe(Z.tickInterval)&&!Oe&&this.len<ne&&!this.isRadial&&!this.logarithmic&&Z.startOnTick&&Z.endOnTick&&(Oe=2),!Oe&&this.alignToOthers()&&(Oe=Math.ceil(this.len/ne)+1),4>Oe&&(this.finalTickAmt=Oe,Oe=5),this.tickAmount=Oe},Je.prototype.adjustTickAmount=function(){var Z=this,ne=Z.finalTickAmt,Oe=Z.max,$e=Z.min,ot=Z.options,at=Z.tickPositions,j=Z.tickAmount,be=Z.thresholdAlignment,J=at&&at.length,Ee=z(Z.threshold,Z.softThreshold?0:null),Ue=Z.tickInterval;if(P(be)){var lt=.5>be?Math.ceil(be*(j-1)):Math.floor(be*(j-1));ot.reversed&&(lt=j-1-lt)}if(Z.hasData()&&P($e)&&P(Oe)){if(be=function(){Z.transA*=(J-1)/(j-1),Z.min=ot.startOnTick?at[0]:Math.min($e,at[0]),Z.max=ot.endOnTick?at[at.length-1]:Math.max(Oe,at[at.length-1])},P(lt)&&P(Z.threshold)){for(;at[lt]!==Ee||at.length!==j||at[0]>$e||at[at.length-1]<Oe;){for(at.length=0,at.push(Z.threshold);at.length<j;)void 0===at[lt]||at[lt]>Z.threshold?at.unshift(Se(at[0]-Ue)):at.push(Se(at[at.length-1]+Ue));if(Ue>8*Z.tickInterval)break;Ue*=2}be()}else if(J<j){for(;at.length<j;)at.length%2||$e===Ee?at.push(Se(at[at.length-1]+Ue)):at.unshift(Se(at[0]-Ue));be()}if(oe(ne)){for(Ue=Ee=at.length;Ue--;)(3===ne&&Ue%2==1||2>=ne&&0<Ue&&Ue<Ee-1)&&at.splice(Ue,1);Z.finalTickAmt=void 0}}},Je.prototype.setScale=function(){var Z=!1,ne=!1;this.series.forEach(function($e){Z=Z||$e.isDirtyData||$e.isDirty,ne=ne||$e.xAxis&&$e.xAxis.isDirty||!1}),this.setAxisSize();var Oe=this.len!==(this.old&&this.old.len);Oe||Z||ne||this.isLinked||this.forceRedraw||this.userMin!==(this.old&&this.old.userMin)||this.userMax!==(this.old&&this.old.userMax)||this.alignToOthers()?(this.stacking&&this.stacking.resetStacks(),this.forceRedraw=!1,this.getSeriesExtremes(),this.setTickInterval(),this.isDirty||(this.isDirty=Oe||this.min!==(this.old&&this.old.min)||this.max!==(this.old&&this.old.max))):this.stacking&&this.stacking.cleanStacks(),Z&&this.panningState&&(this.panningState.isDirty=!0),Q(this,"afterSetScale")},Je.prototype.setExtremes=function(Z,ne,Oe,$e,ot){var at=this,j=at.chart;Oe=z(Oe,!0),at.series.forEach(function(be){delete be.kdTree}),ot=L(ot,{min:Z,max:ne}),Q(at,"setExtremes",ot,function(){at.userMin=Z,at.userMax=ne,at.eventArgs=ot,Oe&&j.redraw($e)})},Je.prototype.zoom=function(Z,ne){var Oe=this,$e=this.dataMin,ot=this.dataMax,at=this.options,j=Math.min($e,z(at.min,$e)),be=Math.max(ot,z(at.max,ot));return Q(this,"zoom",Z={newMin:Z,newMax:ne},function(J){var Ee=J.newMin,Ue=J.newMax;(Ee!==Oe.min||Ue!==Oe.max)&&(Oe.allowZoomOutside||(oe($e)&&(Ee<j&&(Ee=j),Ee>be&&(Ee=be)),oe(ot)&&(Ue<j&&(Ue=j),Ue>be&&(Ue=be))),Oe.displayBtn=void 0!==Ee||void 0!==Ue,Oe.setExtremes(Ee,Ue,!1,void 0,{trigger:"zoom"})),J.zoomed=!0}),Z.zoomed},Je.prototype.setAxisSize=function(){var Z=this.chart,ne=this.options,Oe=ne.offsets||[0,0,0,0],$e=this.horiz,ot=this.width=Math.round(De(z(ne.width,Z.plotWidth-Oe[3]+Oe[1]),Z.plotWidth)),at=this.height=Math.round(De(z(ne.height,Z.plotHeight-Oe[0]+Oe[2]),Z.plotHeight)),j=this.top=Math.round(De(z(ne.top,Z.plotTop+Oe[0]),Z.plotHeight,Z.plotTop));ne=this.left=Math.round(De(z(ne.left,Z.plotLeft+Oe[3]),Z.plotWidth,Z.plotLeft)),this.bottom=Z.chartHeight-at-j,this.right=Z.chartWidth-ot-ne,this.len=Math.max($e?ot:at,0),this.pos=$e?ne:j},Je.prototype.getExtremes=function(){var Z=this.logarithmic;return{min:Z?Se(Z.lin2log(this.min)):this.min,max:Z?Se(Z.lin2log(this.max)):this.max,dataMin:this.dataMin,dataMax:this.dataMax,userMin:this.userMin,userMax:this.userMax}},Je.prototype.getThreshold=function(Z){var ne=this.logarithmic,Oe=ne?ne.lin2log(this.min):this.min;return ne=ne?ne.lin2log(this.max):this.max,null===Z||Z===-1/0?Z=Oe:Z===1/0?Z=ne:Oe>Z?Z=Oe:ne<Z&&(Z=ne),this.translate(Z,0,1,0,1)},Je.prototype.autoLabelAlign=function(Z){var ne=(z(Z,0)-90*this.side+720)%360;return Q(this,"autoLabelAlign",Z={align:"center"},function(Oe){15<ne&&165>ne?Oe.align="right":195<ne&&345>ne&&(Oe.align="left")}),Z.align},Je.prototype.tickSize=function(Z){var ne=this.options,Oe=z(ne["tick"===Z?"tickWidth":"minorTickWidth"],"tick"===Z&&this.isXAxis&&!this.categories?1:0),$e=ne["tick"===Z?"tickLength":"minorTickLength"];if(Oe&&$e){"inside"===ne[Z+"Position"]&&($e=-$e);var ot=[$e,Oe]}return Q(this,"afterTickSize",Z={tickSize:ot}),Z.tickSize},Je.prototype.labelMetrics=function(){var Z=this.tickPositions&&this.tickPositions[0]||0;return this.chart.renderer.fontMetrics(this.options.labels.style.fontSize,this.ticks[Z]&&this.ticks[Z].label)},Je.prototype.unsquish=function(){var Ee,Ue,Z=this.options.labels,ne=this.horiz,Oe=this.tickInterval,$e=this.len/(((this.categories?1:0)+this.max-this.min)/Oe),ot=Z.rotation,at=this.labelMetrics(),j=Math.max(this.max-this.min,0),be=function(Ft){var $t=Ft/($e||1);return($t=1<$t?Math.ceil($t):1)*Oe>j&&Ft!==1/0&&$e!==1/0&&j&&($t=Math.ceil(j/Oe)),Se($t*Oe)},J=Oe,lt=Number.MAX_VALUE;if(ne){if(!Z.staggerLines&&!Z.step)if(P(ot))var Tt=[ot];else $e<Z.autoRotationLimit&&(Tt=Z.autoRotation);Tt&&Tt.forEach(function(Ft){if(Ft===ot||Ft&&-90<=Ft&&90>=Ft){var $t=(Ue=be(Math.abs(at.h/Math.sin(de*Ft))))+Math.abs(Ft/360);$t<lt&&(lt=$t,Ee=Ft,J=Ue)}})}else Z.step||(J=be(at.h));return this.autoRotation=Tt,this.labelRotation=z(Ee,P(ot)?ot:0),J},Je.prototype.getSlotWidth=function(Z){var ne=this.chart,Oe=this.horiz,$e=this.options.labels,ot=Math.max(this.tickPositions.length-(this.categories?0:1),1),at=ne.margin[3];if(Z&&P(Z.slotWidth))return Z.slotWidth;if(Oe&&2>$e.step)return $e.rotation?0:(this.staggerLines||1)*this.len/ot;if(!Oe){if(void 0!==(Z=$e.style.width))return parseInt(String(Z),10);if(at)return at-ne.spacing[3]}return.33*ne.chartWidth},Je.prototype.renderUnsquish=function(){var Z=this.chart,ne=Z.renderer,Oe=this.tickPositions,$e=this.ticks,ot=this.options.labels,at=ot.style,j=this.horiz,be=this.getSlotWidth(),J=Math.max(1,Math.round(be-2*ot.padding)),Ee={},Ue=this.labelMetrics(),lt=at.textOverflow,Tt=0;if(G(ot.rotation)||(Ee.rotation=ot.rotation||0),Oe.forEach(function(Nn){(Nn=$e[Nn]).movedLabel&&Nn.replaceMovedLabel(),Nn&&Nn.label&&Nn.label.textPxLength>Tt&&(Tt=Nn.label.textPxLength)}),this.maxLabelLength=Tt,this.autoRotation)Tt>J&&Tt>Ue.h?Ee.rotation=this.labelRotation:this.labelRotation=0;else if(be){var Ft=J;if(!lt){var $t="clip";for(J=Oe.length;!j&&J--;){var vn=Oe[J];(vn=$e[vn].label)&&(vn.styles&&"ellipsis"===vn.styles.textOverflow?vn.css({textOverflow:"clip"}):vn.textPxLength>be&&vn.css({width:be+"px"}),vn.getBBox().height>this.len/Oe.length-(Ue.h-Ue.f)&&(vn.specificTextOverflow="ellipsis"))}}}Ee.rotation&&(Ft=Tt>.5*Z.chartHeight?.33*Z.chartHeight:Tt,lt||($t="ellipsis")),(this.labelAlign=ot.align||this.autoLabelAlign(this.labelRotation))&&(Ee.align=this.labelAlign),Oe.forEach(function(Nn){var $n=(Nn=$e[Nn])&&Nn.label,yn=at.width,hn={};$n&&($n.attr(Ee),Nn.shortenLabel?Nn.shortenLabel():Ft&&!yn&&"nowrap"!==at.whiteSpace&&(Ft<$n.textPxLength||"SPAN"===$n.element.tagName)?(hn.width=Ft+"px",lt||(hn.textOverflow=$n.specificTextOverflow||$t),$n.css(hn)):$n.styles&&$n.styles.width&&!hn.width&&!yn&&$n.css({width:null}),delete $n.specificTextOverflow,Nn.rotation=Ee.rotation)},this),this.tickRotCorr=ne.rotCorr(Ue.b,this.labelRotation||0,0!==this.side)},Je.prototype.hasData=function(){return this.series.some(function(Z){return Z.hasData()})||this.options.showEmpty&&oe(this.min)&&oe(this.max)},Je.prototype.addTitle=function(Z){var j,$e=this.opposite,ot=this.options.title,at=this.chart.styledMode;this.axisTitle||((j=ot.textAlign)||(j=(this.horiz?{low:"left",middle:"center",high:"right"}:{low:$e?"right":"left",middle:"center",high:$e?"left":"right"})[ot.align]),this.axisTitle=this.chart.renderer.text(ot.text||"",0,0,ot.useHTML).attr({zIndex:7,rotation:ot.rotation,align:j}).addClass("highcharts-axis-title"),at||this.axisTitle.css(F(ot.style)),this.axisTitle.add(this.axisGroup),this.axisTitle.isNew=!0),at||ot.style.width||this.isRadial||this.axisTitle.css({width:this.len+"px"}),this.axisTitle[Z?"show":"hide"](Z)},Je.prototype.generateTick=function(Z){var ne=this.ticks;ne[Z]?ne[Z].addLabel():ne[Z]=new qe(this,Z)},Je.prototype.getOffset=function(){var Z=this,ne=this,Oe=ne.chart,$e=ne.horiz,ot=ne.options,at=ne.side,j=ne.ticks,be=ne.tickPositions,J=ne.coll,Ee=ne.axisParent,Ue=Oe.renderer,lt=Oe.inverted&&!ne.isZAxis?[1,0,3,2][at]:at,Tt=ne.hasData(),Ft=ot.title,$t=ot.labels,vn=Oe.axisOffset;Oe=Oe.clipOffset;var yn,Nn=[-1,1,1,-1][at],$n=ot.className,hn=0,ke=0,ft=0;if(ne.showAxis=yn=Tt||ot.showEmpty,ne.staggerLines=ne.horiz&&$t.staggerLines||void 0,!ne.axisGroup){var It=function(jt,nn,jn){return Ue.g(jt).attr({zIndex:jn}).addClass("highcharts-"+J.toLowerCase()+nn+" "+(Z.isRadial?"highcharts-radial-axis"+nn+" ":"")+($n||"")).add(Ee)};ne.gridGroup=It("grid","-grid",ot.gridZIndex),ne.axisGroup=It("axis","",ot.zIndex),ne.labelGroup=It("axis-labels","-labels",$t.zIndex)}if(Tt||ne.isLinked?(be.forEach(function(jt){ne.generateTick(jt)}),ne.renderUnsquish(),ne.reserveSpaceDefault=0===at||2===at||{1:"left",3:"right"}[at]===ne.labelAlign,z($t.reserveSpace,"center"===ne.labelAlign||null,ne.reserveSpaceDefault)&&be.forEach(function(jt){ft=Math.max(j[jt].getLabelSize(),ft)}),ne.staggerLines&&(ft*=ne.staggerLines),ne.labelOffset=ft*(ne.opposite?-1:1)):R(j,function(jt,nn){jt.destroy(),delete j[nn]}),Ft&&Ft.text&&!1!==Ft.enabled&&(ne.addTitle(yn),yn&&!1!==Ft.reserveSpace)){ne.titleOffset=hn=ne.axisTitle.getBBox()[$e?"height":"width"];var ct=Ft.offset;ke=oe(ct)?0:z(Ft.margin,$e?5:10)}ne.renderLine(),ne.offset=Nn*z(ot.offset,vn[at]?vn[at]+(ot.margin||0):0),ne.tickRotCorr=ne.tickRotCorr||{x:0,y:0},Ft=0===at?-ne.labelMetrics().h:2===at?ne.tickRotCorr.y:0,Tt=Math.abs(ft)+ke,ft&&(Tt=Tt-Ft+Nn*($e?z($t.y,ne.tickRotCorr.y+8*Nn):$t.x)),ne.axisTitleMargin=z(ct,Tt),ne.getMaxLabelDimensions&&(ne.maxLabelDimensions=ne.getMaxLabelDimensions(j,be)),"colorAxis"!==J&&($e=this.tickSize("tick"),vn[at]=Math.max(vn[at],(ne.axisTitleMargin||0)+hn+Nn*ne.offset,Tt,be&&be.length&&$e?$e[0]+Nn*ne.offset:0),ot=!ne.axisLine||ot.offset?0:2*Math.floor(ne.axisLine.strokeWidth()/2),Oe[lt]=Math.max(Oe[lt],ot)),Q(this,"afterGetOffset")},Je.prototype.getLinePath=function(Z){var ne=this.chart,Oe=this.opposite,$e=this.offset,ot=this.horiz,at=this.left+(Oe?this.width:0)+$e;return $e=ne.chartHeight-this.bottom-(Oe?this.height:0)+$e,Oe&&(Z*=-1),ne.renderer.crispLine([["M",ot?this.left:at,ot?$e:this.top],["L",ot?ne.chartWidth-this.right:at,ot?$e:ne.chartHeight-this.bottom]],Z)},Je.prototype.renderLine=function(){this.axisLine||(this.axisLine=this.chart.renderer.path().addClass("highcharts-axis-line").add(this.axisGroup),this.chart.styledMode||this.axisLine.attr({stroke:this.options.lineColor,"stroke-width":this.options.lineWidth,zIndex:7}))},Je.prototype.getTitlePosition=function(){var Z=this.horiz,ne=this.left,Oe=this.top,$e=this.len,ot=this.options.title,at=Z?ne:Oe,j=this.opposite,be=this.offset,J=ot.x,Ee=ot.y,Ue=this.axisTitle,lt=this.chart.renderer.fontMetrics(ot.style.fontSize,Ue);return Ue=Ue?Math.max(Ue.getBBox(!1,0).height-lt.h-1,0):0,$e={low:at+(Z?0:$e),middle:at+$e/2,high:at+(Z?$e:0)}[ot.align],ne=(Z?Oe+this.height:ne)+(Z?1:-1)*(j?-1:1)*(this.axisTitleMargin||0)+[-Ue,Ue,lt.f,-Ue][this.side],Q(this,"afterGetTitlePosition",{titlePosition:Z={x:Z?$e+J:ne+(j?this.width:0)+be+J,y:Z?ne+Ee-(j?this.height:0)+be:$e+Ee}}),Z},Je.prototype.renderMinorTick=function(Z,ne){var Oe=this.minorTicks;Oe[Z]||(Oe[Z]=new qe(this,Z,"minor")),ne&&Oe[Z].isNew&&Oe[Z].render(null,!0),Oe[Z].render(null,!1,1)},Je.prototype.renderTick=function(Z,ne,Oe){var $e=this.ticks;(!this.isLinked||Z>=this.min&&Z<=this.max||this.grid&&this.grid.isColumn)&&($e[Z]||($e[Z]=new qe(this,Z)),Oe&&$e[Z].isNew&&$e[Z].render(ne,!0,-1),$e[Z].render(ne))},Je.prototype.render=function(){var Nn,$n,Z=this,ne=Z.chart,Oe=Z.logarithmic,$e=Z.options,ot=Z.isLinked,at=Z.tickPositions,j=Z.axisTitle,be=Z.ticks,J=Z.minorTicks,Ee=Z.alternateBands,Ue=$e.stackLabels,lt=$e.alternateGridColor,Tt=Z.tickmarkOffset,Ft=Z.axisLine,$t=Z.showAxis,vn=He(ne.renderer.globalAnimation);if(Z.labelEdge.length=0,Z.overlap=!1,[be,J,Ee].forEach(function(hn){R(hn,function(ke){ke.isActive=!1})}),Z.hasData()||ot){var yn=Z.chart.hasRendered&&Z.old&&P(Z.old.min);Z.minorTickInterval&&!Z.categories&&Z.getMinorTickPositions().forEach(function(hn){Z.renderMinorTick(hn,yn)}),at.length&&(at.forEach(function(hn,ke){Z.renderTick(hn,ke,yn)}),Tt&&(0===Z.min||Z.single)&&(be[-1]||(be[-1]=new qe(Z,-1,null,!0)),be[-1].render(-1))),lt&&at.forEach(function(hn,ke){$n=void 0!==at[ke+1]?at[ke+1]+Tt:Z.max-Tt,ke%2==0&&hn<Z.max&&$n<=Z.max+(ne.polar?-Tt:Tt)&&(Ee[hn]||(Ee[hn]=new ze.PlotLineOrBand(Z)),Nn=hn+Tt,Ee[hn].options={from:Oe?Oe.lin2log(Nn):Nn,to:Oe?Oe.lin2log($n):$n,color:lt,className:"highcharts-alternate-grid"},Ee[hn].render(),Ee[hn].isActive=!0)}),Z._addedPlotLB||(Z._addedPlotLB=!0,($e.plotLines||[]).concat($e.plotBands||[]).forEach(function(hn){Z.addPlotBandOrLine(hn)}))}[be,J,Ee].forEach(function(hn){var ke=[],ft=vn.duration;R(hn,function(It,ct){It.isActive||(It.render(ct,!1,0),It.isActive=!1,ke.push(ct))}),We(function(){for(var It=ke.length;It--;)hn[ke[It]]&&!hn[ke[It]].isActive&&(hn[ke[It]].destroy(),delete hn[ke[It]])},hn!==Ee&&ne.hasRendered&&ft?ft:0)}),Ft&&(Ft[Ft.isPlaced?"animate":"attr"]({d:this.getLinePath(Ft.strokeWidth())}),Ft.isPlaced=!0,Ft[$t?"show":"hide"]($t)),j&&$t&&($e=Z.getTitlePosition(),j[j.isNew?"attr":"animate"]($e),j.isNew=!1),Ue&&Ue.enabled&&Z.stacking&&Z.stacking.renderStackTotals(),Z.old={len:Z.len,max:Z.max,min:Z.min,transA:Z.transA,userMax:Z.userMax,userMin:Z.userMin},Z.isDirty=!1,Q(this,"afterRender")},Je.prototype.redraw=function(){this.visible&&(this.render(),this.plotLinesAndBands.forEach(function(Z){Z.render()})),this.series.forEach(function(Z){Z.isDirty=!0})},Je.prototype.getKeepProps=function(){return this.keepProps||Je.keepProps},Je.prototype.destroy=function(Z){var ne=this,Oe=ne.plotLinesAndBands,$e=this.eventOptions;if(Q(this,"destroy",{keepEvents:Z}),Z||Ke(ne),[ne.ticks,ne.minorTicks,ne.alternateBands].forEach(function(at){se(at)}),Oe)for(Z=Oe.length;Z--;)Oe[Z].destroy();for(var ot in"axisLine axisTitle axisGroup gridGroup labelGroup cross scrollbar".split(" ").forEach(function(at){ne[at]&&(ne[at]=ne[at].destroy())}),ne.plotLinesAndBandsGroups)ne.plotLinesAndBandsGroups[ot]=ne.plotLinesAndBandsGroups[ot].destroy();R(ne,function(at,j){-1===ne.getKeepProps().indexOf(j)&&delete ne[j]}),this.eventOptions=$e},Je.prototype.drawCrosshair=function(Z,ne){var at,Oe=this.crosshair,$e=z(Oe&&Oe.snap,!0),ot=this.chart,j=this.cross;if(Q(this,"drawCrosshair",{e:Z,point:ne}),Z||(Z=this.cross&&this.cross.e),Oe&&!1!==(oe(ne)||!$e)){if($e?oe(ne)&&(at=z("colorAxis"!==this.coll?ne.crosshairPos:null,this.isXAxis?ne.plotX:this.len-ne.plotY)):at=Z&&(this.horiz?Z.chartX-this.pos:this.len-Z.chartY+this.pos),oe(at)){var be={value:ne&&(this.isXAxis?ne.x:z(ne.stackY,ne.y)),translatedValue:at};ot.polar&&L(be,{isCrosshair:!0,chartX:Z&&Z.chartX,chartY:Z&&Z.chartY,point:ne}),be=this.getPlotLinePath(be)||null}if(!oe(be))return void this.hideCrosshair();$e=this.categories&&!this.isRadial,j||(this.cross=j=ot.renderer.path().addClass("highcharts-crosshair highcharts-crosshair-"+($e?"category ":"thin ")+(Oe.className||"")).attr({zIndex:z(Oe.zIndex,2)}).add(),ot.styledMode||(j.attr({stroke:Oe.color||($e?tt.parse("#ccd6eb").setOpacity(.25).get():"#cccccc"),"stroke-width":z(Oe.width,1)}).css({"pointer-events":"none"}),Oe.dashStyle&&j.attr({dashstyle:Oe.dashStyle}))),j.show().attr({d:be}),$e&&!Oe.width&&j.attr({"stroke-width":this.transA}),this.cross.e=Z}else this.hideCrosshair();Q(this,"afterDrawCrosshair",{e:Z,point:ne})},Je.prototype.hideCrosshair=function(){this.cross&&this.cross.hide(),Q(this,"afterHideCrosshair")},Je.prototype.hasVerticalPanning=function(){var Z=this.chart.options.chart.panning;return!!(Z&&Z.enabled&&/y/.test(Z.type))},Je.prototype.validatePositiveValue=function(Z){return P(Z)&&0<Z},Je.prototype.update=function(Z,ne){var Oe=this.chart;Z=F(this.userOptions,Z),this.destroy(!0),this.init(Oe,Z),Oe.isDirtyBox=!0,z(ne,!0)&&Oe.redraw()},Je.prototype.remove=function(Z){for(var ne=this.chart,Oe=this.coll,$e=this.series,ot=$e.length;ot--;)$e[ot]&&$e[ot].remove(!1);pe(ne.axes,this),pe(ne[Oe],this),ne[Oe].forEach(function(at,j){at.options.index=at.userOptions.index=j}),this.destroy(),ne.isDirtyBox=!0,z(Z,!0)&&ne.redraw()},Je.prototype.setTitle=function(Z,ne){this.update({title:Z},ne)},Je.prototype.setCategories=function(Z,ne){this.update({categories:Z},ne)},Je.defaultOptions=I.defaultXAxisOptions,Je.keepProps="extKey hcEvents names series userMax userMin".split(" "),Je}()}),it(ve,"Core/Axis/DateTimeAxis.js",[ve["Core/Utilities.js"]],function(Ne){var ze,I=Ne.addEvent,tt=Ne.getMagnitude,Qe=Ne.normalizeTickInterval,nt=Ne.timeUnits;return function(qe){function Fe(){return this.chart.time.getTimeTicks.apply(this.chart.time,arguments)}function He(de){"datetime"!==de.userOptions.type?this.dateTime=void 0:this.dateTime||(this.dateTime=new we(this))}var xe=[];qe.compose=function(de){return-1===xe.indexOf(de)&&(xe.push(de),de.keepProps.push("dateTime"),de.prototype.getTimeTicks=Fe,I(de,"init",He)),de};var we=function(){function de(W){this.axis=W}return de.prototype.normalizeTimeTickInterval=function(W,fe){var se,ye=fe||[["millisecond",[1,2,5,10,20,25,50,100,200,500]],["second",[1,2,5,10,15,30]],["minute",[1,2,5,10,15,30]],["hour",[1,2,3,4,6,8,12]],["day",[1,2]],["week",[1,2]],["month",[1,2,3,4,6]],["year",null]],Se=nt[(fe=ye[ye.length-1])[0]],oe=fe[1];for(se=0;se<ye.length&&(Se=nt[(fe=ye[se])[0]],oe=fe[1],!(ye[se+1]&&W<=(Se*oe[oe.length-1]+nt[ye[se+1][0]])/2));se++);return Se===nt.year&&W<5*Se&&(oe=[1,2,5]),{unitRange:Se,count:W=Qe(W/Se,oe,"year"===fe[0]?Math.max(tt(W/Se),1):1),unitName:fe[0]}},de.prototype.getXDateFormat=function(W,fe){var ye=this.axis;return ye.closestPointRange?ye.chart.time.getDateFormat(ye.closestPointRange,W,ye.options.startOfWeek,fe)||fe.year:fe.day},de}();qe.Additions=we}(ze||(ze={})),ze}),it(ve,"Core/Axis/LogarithmicAxis.js",[ve["Core/Utilities.js"]],function(Ne){var nt,I=Ne.addEvent,tt=Ne.normalizeTickInterval,Qe=Ne.pick;return function(ze){function qe(we){var de=this.logarithmic;"logarithmic"!==we.userOptions.type?this.logarithmic=void 0:de||(this.logarithmic=new xe(this))}function Fe(){var we=this.logarithmic;we&&(this.lin2val=function(de){return we.lin2log(de)},this.val2lin=function(de){return we.log2lin(de)})}var He=[];ze.compose=function(we){return-1===He.indexOf(we)&&(He.push(we),we.keepProps.push("logarithmic"),I(we,"init",qe),I(we,"afterInit",Fe)),we};var xe=function(){function we(de){this.axis=de}return we.prototype.getLogTickPositions=function(de,W,fe,ye){var Se=this.axis,oe=Se.len,se=Se.options,pe=[];if(ye||(this.minorAutoInterval=void 0),.5<=de)de=Math.round(de),pe=Se.getLinearTickPositions(de,W,fe);else if(.08<=de){var L,Ce=Math.floor(W),Q=se=void 0;for(oe=.3<de?[1,2,4]:.15<de?[1,2,4,6,8]:[1,2,3,4,5,6,7,8,9];Ce<fe+1&&!Q;Ce++){var re=oe.length;for(L=0;L<re&&!Q;L++){var P=this.log2lin(this.lin2log(Ce)*oe[L]);P>W&&(!ye||se<=fe)&&void 0!==se&&pe.push(se),se>fe&&(Q=!0),se=P}}}else W=this.lin2log(W),fe=this.lin2log(fe),de=ye?Se.getMinorTickInterval():se.tickInterval,de=Qe("auto"===de?null:de,this.minorAutoInterval,se.tickPixelInterval/(ye?5:1)*(fe-W)/((ye?oe/Se.tickPositions.length:oe)||1)),de=tt(de),pe=Se.getLinearTickPositions(de,W,fe).map(this.log2lin),ye||(this.minorAutoInterval=de/5);return ye||(Se.tickInterval=de),pe},we.prototype.lin2log=function(de){return Math.pow(10,de)},we.prototype.log2lin=function(de){return Math.log(de)/Math.LN10},we}();ze.Additions=xe}(nt||(nt={})),nt}),it(ve,"Core/Axis/PlotLineOrBand/PlotLineOrBandAxis.js",[ve["Core/Utilities.js"]],function(Ne){var nt,I=Ne.erase,tt=Ne.extend,Qe=Ne.isNumber;return function(ze){var Fe,qe=[];ze.compose=function(xe,we){return Fe||(Fe=xe),-1===qe.indexOf(we)&&(qe.push(we),tt(we.prototype,He.prototype)),we};var He=function(){function xe(){}return xe.prototype.getPlotBandPath=function(we,de,W){void 0===W&&(W=this.options);var fe=this.getPlotLinePath({value:de,force:!0,acrossPanes:W.acrossPanes}),ye=[],Se=this.horiz;if(de=!Qe(this.min)||!Qe(this.max)||we<this.min&&de<this.min||we>this.max&&de>this.max,we=this.getPlotLinePath({value:we,force:!0,acrossPanes:W.acrossPanes}),W=1,we&&fe){if(de){var oe=we.toString()===fe.toString();W=0}for(de=0;de<we.length;de+=2){var se=we[de],pe=we[de+1],Ce=fe[de],L=fe[de+1];"M"!==se[0]&&"L"!==se[0]||"M"!==pe[0]&&"L"!==pe[0]||"M"!==Ce[0]&&"L"!==Ce[0]||"M"!==L[0]&&"L"!==L[0]||(Se&&Ce[1]===se[1]?(Ce[1]+=W,L[1]+=W):Se||Ce[2]!==se[2]||(Ce[2]+=W,L[2]+=W),ye.push(["M",se[1],se[2]],["L",pe[1],pe[2]],["L",L[1],L[2]],["L",Ce[1],Ce[2]],["Z"])),ye.isFlat=oe}}return ye},xe.prototype.addPlotBand=function(we){return this.addPlotBandOrLine(we,"plotBands")},xe.prototype.addPlotLine=function(we){return this.addPlotBandOrLine(we,"plotLines")},xe.prototype.addPlotBandOrLine=function(we,de){var W=this,fe=this.userOptions,ye=new Fe(this,we);if(this.visible&&(ye=ye.render()),ye){if(this._addedPlotLB||(this._addedPlotLB=!0,(fe.plotLines||[]).concat(fe.plotBands||[]).forEach(function(oe){W.addPlotBandOrLine(oe)})),de){var Se=fe[de]||[];Se.push(we),fe[de]=Se}this.plotLinesAndBands.push(ye)}return ye},xe.prototype.removePlotBandOrLine=function(we){var de=this.plotLinesAndBands,W=this.options,fe=this.userOptions;if(de){for(var ye=de.length;ye--;)de[ye].id===we&&de[ye].destroy();[W.plotLines||[],fe.plotLines||[],W.plotBands||[],fe.plotBands||[]].forEach(function(Se){for(ye=Se.length;ye--;)(Se[ye]||{}).id===we&&I(Se,Se[ye])})}},xe.prototype.removePlotBand=function(we){this.removePlotBandOrLine(we)},xe.prototype.removePlotLine=function(we){this.removePlotBandOrLine(we)},xe}()}(nt||(nt={})),nt}),it(ve,"Core/Axis/PlotLineOrBand/PlotLineOrBand.js",[ve["Core/Axis/PlotLineOrBand/PlotLineOrBandAxis.js"],ve["Core/Utilities.js"]],function(Ne,I){var tt=I.arrayMax,Qe=I.arrayMin,nt=I.defined,ze=I.destroyObjectProperties,qe=I.erase,Fe=I.fireEvent,He=I.merge,xe=I.objectEach,we=I.pick;return function(){function de(W,fe){this.axis=W,fe&&(this.options=fe,this.id=fe.id)}return de.compose=function(W){return Ne.compose(de,W)},de.prototype.render=function(){Fe(this,"render");var W=this,fe=W.axis,ye=fe.horiz,Se=fe.logarithmic,oe=W.options,se=oe.color,pe=we(oe.zIndex,0),Ce=oe.events,L={},Q=fe.chart.renderer,re=oe.label,P=W.label,G=oe.to,F=oe.from,ae=oe.value,R=W.svgElem,z=[],De=nt(F)&&nt(G);z=nt(ae);var Ke=!R,dt={class:"highcharts-plot-"+(De?"band ":"line ")+(oe.className||"")},We=De?"bands":"lines";if(Se&&(F=Se.log2lin(F),G=Se.log2lin(G),ae=Se.log2lin(ae)),fe.chart.styledMode||(z?(dt.stroke=se||"#999999",dt["stroke-width"]=we(oe.width,1),oe.dashStyle&&(dt.dashstyle=oe.dashStyle)):De&&(dt.fill=se||"#e6ebf5",oe.borderWidth&&(dt.stroke=oe.borderColor,dt["stroke-width"]=oe.borderWidth))),L.zIndex=pe,(Se=fe.plotLinesAndBandsGroups[We+="-"+pe])||(fe.plotLinesAndBandsGroups[We]=Se=Q.g("plot-"+We).attr(L).add()),Ke&&(W.svgElem=R=Q.path().attr(dt).add(Se)),z)z=fe.getPlotLinePath({value:ae,lineWidth:R.strokeWidth(),acrossPanes:oe.acrossPanes});else{if(!De)return;z=fe.getPlotBandPath(F,G,oe)}return!W.eventsAdded&&Ce&&(xe(Ce,function(Te,Je){R.on(Je,function(Z){Ce[Je].apply(W,[Z])})}),W.eventsAdded=!0),(Ke||!R.d)&&z&&z.length?R.attr({d:z}):R&&(z?(R.show(),R.animate({d:z})):R.d&&(R.hide(),P&&(W.label=P=P.destroy()))),re&&(nt(re.text)||nt(re.formatter))&&z&&z.length&&0<fe.width&&0<fe.height&&!z.isFlat?(re=He({align:ye&&De&&"center",x:ye?!De&&4:10,verticalAlign:!ye&&De&&"middle",y:ye?De?16:10:De?6:-4,rotation:ye&&!De&&90},re),this.renderLabel(re,z,De,pe)):P&&P.hide(),W},de.prototype.renderLabel=function(W,fe,ye,Se){var oe=this.axis,se=oe.chart.renderer,pe=this.label;pe||(this.label=pe=se.text(this.getLabelText(W),0,0,W.useHTML).attr({align:W.textAlign||W.align,rotation:W.rotation,class:"highcharts-plot-"+(ye?"band":"line")+"-label "+(W.className||""),zIndex:Se}).add(),oe.chart.styledMode||pe.css(He({textOverflow:"ellipsis"},W.style))),Se=fe.xBounds||[fe[0][1],fe[1][1],ye?fe[2][1]:fe[0][1]],fe=fe.yBounds||[fe[0][2],fe[1][2],ye?fe[2][2]:fe[0][2]],ye=Qe(Se),se=Qe(fe),pe.align(W,!1,{x:ye,y:se,width:tt(Se)-ye,height:tt(fe)-se}),pe.alignValue&&"left"!==pe.alignValue||pe.css({width:(90===pe.rotation?oe.height-(pe.alignAttr.y-oe.top):oe.width-(pe.alignAttr.x-oe.left))+"px"}),pe.show(!0)},de.prototype.getLabelText=function(W){return nt(W.formatter)?W.formatter.call(this):W.text},de.prototype.destroy=function(){qe(this.axis.plotLinesAndBands,this),delete this.axis,ze(this)},de}()}),it(ve,"Core/Tooltip.js",[ve["Core/FormatUtilities.js"],ve["Core/Globals.js"],ve["Core/Renderer/RendererUtilities.js"],ve["Core/Renderer/RendererRegistry.js"],ve["Core/Utilities.js"]],function(Ne,I,tt,Qe,nt){var ze=Ne.format,qe=I.doc,Fe=tt.distribute,He=nt.addEvent,xe=nt.clamp,we=nt.css,de=nt.defined,W=nt.discardElement,fe=nt.extend,ye=nt.fireEvent,Se=nt.isArray,oe=nt.isNumber,se=nt.isString,pe=nt.merge,Ce=nt.pick,L=nt.splat,Q=nt.syncTimeout;return function(){function re(P,G){this.allowShared=!0,this.container=void 0,this.crosshairs=[],this.distance=0,this.isHidden=!0,this.isSticky=!1,this.now={},this.options={},this.outside=!1,this.chart=P,this.init(P,G)}return re.prototype.applyFilter=function(){var P=this.chart;P.renderer.definition({tagName:"filter",attributes:{id:"drop-shadow-"+P.index,opacity:.5},children:[{tagName:"feGaussianBlur",attributes:{in:"SourceAlpha",stdDeviation:1}},{tagName:"feOffset",attributes:{dx:1,dy:1}},{tagName:"feComponentTransfer",children:[{tagName:"feFuncA",attributes:{type:"linear",slope:.3}}]},{tagName:"feMerge",children:[{tagName:"feMergeNode"},{tagName:"feMergeNode",attributes:{in:"SourceGraphic"}}]}]})},re.prototype.bodyFormatter=function(P){return P.map(function(G){var F=G.series.tooltipOptions;return(F[(G.point.formatPrefix||"point")+"Formatter"]||G.point.tooltipFormatter).call(G.point,F[(G.point.formatPrefix||"point")+"Format"]||"")})},re.prototype.cleanSplit=function(P){this.chart.series.forEach(function(G){var F=G&&G.tt;F&&(!F.isActive||P?G.tt=F.destroy():F.isActive=!1)})},re.prototype.defaultFormatter=function(P){var G=this.points||L(this),F=[P.tooltipFooterHeaderFormatter(G[0])];return(F=F.concat(P.bodyFormatter(G))).push(P.tooltipFooterHeaderFormatter(G[0],!0)),F},re.prototype.destroy=function(){this.label&&(this.label=this.label.destroy()),this.split&&this.tt&&(this.cleanSplit(!0),this.tt=this.tt.destroy()),this.renderer&&(this.renderer=this.renderer.destroy(),W(this.container)),nt.clearTimeout(this.hideTimer),nt.clearTimeout(this.tooltipTimeout)},re.prototype.getAnchor=function(P,G){var Ke,dt,F=this.chart,ae=F.pointer,R=F.inverted,z=F.plotTop,De=F.plotLeft,We=0,Te=0;return P=L(P),this.followPointer&&G?(void 0===G.chartX&&(G=ae.normalize(G)),ae=[G.chartX-De,G.chartY-z]):P[0].tooltipPos?ae=P[0].tooltipPos:(P.forEach(function(Je){Ke=Je.series.yAxis,We+=Je.plotX||0,Te+=Je.plotLow?(Je.plotLow+(Je.plotHigh||0))/2:Je.plotY||0,(dt=Je.series.xAxis)&&Ke&&(R?(We+=z+F.plotHeight-dt.len-dt.pos,Te+=De+F.plotWidth-Ke.len-Ke.pos):(We+=dt.pos-De,Te+=Ke.pos-z))}),We/=P.length,Te/=P.length,ae=[R?F.plotWidth-Te:We,R?F.plotHeight-We:Te],this.shared&&1<P.length&&G&&(R?ae[0]=G.chartX-De:ae[1]=G.chartY-z)),ae.map(Math.round)},re.prototype.getLabel=function(){var dt,P=this,G=this.chart.styledMode,F=this.options,ae=this.split&&this.allowShared,R="tooltip"+(de(F.className)?" "+F.className:""),z=F.style.pointerEvents||(!this.followPointer&&F.stickOnContact?"auto":"none"),De=function(){P.inContact=!0},Ke=function($e){var ot=P.chart.hoverSeries;P.inContact=P.shouldStickOnContact()&&P.chart.pointer.inClass($e.relatedTarget,"highcharts-tooltip"),!P.inContact&&ot&&ot.onMouseOut&&ot.onMouseOut()},We=this.chart.renderer;if(P.label){var Te=!P.label.hasClass("highcharts-label");(ae&&!Te||!ae&&Te)&&P.destroy()}if(!this.label){if(this.outside){Te=this.chart.options.chart.style;var Je=Qe.getRendererType();this.container=dt=I.doc.createElement("div"),dt.className="highcharts-tooltip-container",we(dt,{position:"absolute",top:"1px",pointerEvents:z,zIndex:Math.max(this.options.style.zIndex||0,(Te&&Te.zIndex||0)+3)}),He(dt,"mouseenter",De),He(dt,"mouseleave",Ke),I.doc.body.appendChild(dt),this.renderer=We=new Je(dt,0,0,Te,void 0,void 0,We.styledMode)}if(ae?this.label=We.g(R):(this.label=We.label("",0,0,F.shape,void 0,void 0,F.useHTML,void 0,R).attr({padding:F.padding,r:F.borderRadius}),G||this.label.attr({fill:F.backgroundColor,"stroke-width":F.borderWidth}).css(F.style).css({pointerEvents:z}).shadow(F.shadow)),G&&F.shadow&&(this.applyFilter(),this.label.attr({filter:"url(#drop-shadow-"+this.chart.index+")"})),P.outside&&!P.split){var Z=this.label,ne=Z.xSetter,Oe=Z.ySetter;Z.xSetter=function($e){ne.call(Z,P.distance),dt.style.left=$e+"px"},Z.ySetter=function($e){Oe.call(Z,P.distance),dt.style.top=$e+"px"}}this.label.on("mouseenter",De).on("mouseleave",Ke).attr({zIndex:8}).add()}return this.label},re.prototype.getPosition=function(P,G,F){var Oe,ae=this.chart,R=this.distance,z={},De=ae.inverted&&F.h||0,Ke=this.outside,dt=Ke?qe.documentElement.clientWidth-2*R:ae.chartWidth,We=Ke?Math.max(qe.body.scrollHeight,qe.documentElement.scrollHeight,qe.body.offsetHeight,qe.documentElement.offsetHeight,qe.documentElement.clientHeight):ae.chartHeight,Te=ae.pointer.getChartPosition(),Je=function(J){var Ee="x"===J;return[J,Ee?dt:We,Ee?P:G].concat(Ke?[Ee?P*Te.scaleX:G*Te.scaleY,Ee?Te.left-R+(F.plotX+ae.plotLeft)*Te.scaleX:Te.top-R+(F.plotY+ae.plotTop)*Te.scaleY,0,Ee?dt:We]:[Ee?P:G,Ee?F.plotX+ae.plotLeft:F.plotY+ae.plotTop,Ee?ae.plotLeft:ae.plotTop,Ee?ae.plotLeft+ae.plotWidth:ae.plotTop+ae.plotHeight])},Z=Je("y"),ne=Je("x");Je=!!F.negative,!ae.polar&&ae.hoverSeries&&ae.hoverSeries.yAxis&&ae.hoverSeries.yAxis.reversed&&(Je=!Je);var $e=!this.followPointer&&Ce(F.ttBelow,!ae.inverted===Je),ot=function(J,Ee,Ue,lt,Tt,Ft,$t){var vn=Ke?"y"===J?R*Te.scaleY:R*Te.scaleX:R,Nn=(Ue-lt)/2,$n=lt<Tt-R,yn=Tt+R+lt<Ee,hn=Tt-vn-Ue+Nn;if(Tt=Tt+vn-Nn,$e&&yn)z[J]=Tt;else if(!$e&&$n)z[J]=hn;else if($n)z[J]=Math.min($t-lt,0>hn-De?hn:hn-De);else{if(!yn)return!1;z[J]=Math.max(Ft,Tt+De+Ue>Ee?Tt:Tt+De)}},at=function(J,Ee,Ue,lt,Tt){var Ft;return Tt<R||Tt>Ee-R?Ft=!1:z[J]=Tt<Ue/2?1:Tt>Ee-lt/2?Ee-lt-2:Tt-Ue/2,Ft},j=function(J){var Ee=Z;Z=ne,ne=Ee,Oe=J},be=function(){!1!==ot.apply(0,Z)?!1!==at.apply(0,ne)||Oe||(j(!0),be()):Oe?z.x=z.y=0:(j(!0),be())};return(ae.inverted||1<this.len)&&j(),be(),z},re.prototype.hide=function(P){var G=this;nt.clearTimeout(this.hideTimer),P=Ce(P,this.options.hideDelay),this.isHidden||(this.hideTimer=Q(function(){G.getLabel().fadeOut(P&&void 0),G.isHidden=!0},P))},re.prototype.init=function(P,G){this.chart=P,this.options=G,this.crosshairs=[],this.now={x:0,y:0},this.isHidden=!0,this.split=G.split&&!P.inverted&&!P.polar,this.shared=G.shared||this.split,this.outside=Ce(G.outside,!(!P.scrollablePixelsX&&!P.scrollablePixelsY))},re.prototype.shouldStickOnContact=function(){return!(this.followPointer||!this.options.stickOnContact)},re.prototype.isStickyOnContact=function(){return!(!this.shouldStickOnContact()||!this.inContact)},re.prototype.move=function(P,G,F,ae){var R=this,z=R.now,De=!1!==R.options.animation&&!R.isHidden&&(1<Math.abs(P-z.x)||1<Math.abs(G-z.y)),Ke=R.followPointer||1<R.len;fe(z,{x:De?(2*z.x+P)/3:P,y:De?(z.y+G)/2:G,anchorX:Ke?void 0:De?(2*z.anchorX+F)/3:F,anchorY:Ke?void 0:De?(z.anchorY+ae)/2:ae}),R.getLabel().attr(z),R.drawTracker(),De&&(nt.clearTimeout(this.tooltipTimeout),this.tooltipTimeout=setTimeout(function(){R&&R.move(P,G,F,ae)},32))},re.prototype.refresh=function(P,G){var F=this.chart,ae=this.options,R=L(P),z=R[0],De=[],Ke=ae.formatter||this.defaultFormatter,dt=this.shared,We=F.styledMode,Te={};if(ae.enabled&&z.series){nt.clearTimeout(this.hideTimer),this.allowShared=!(!Se(P)&&P.series&&P.series.noSharedTooltip),this.followPointer=!this.split&&z.series.tooltipOptions.followPointer;var Je=(P=this.getAnchor(P,G))[0],Z=P[1];if(dt&&this.allowShared?(F.pointer.applyInactiveState(R),R.forEach(function($e){$e.setState("hover"),De.push($e.getLabelConfig())}),(Te={x:z.category,y:z.y}).points=De):Te=z.getLabelConfig(),this.len=De.length,Ke=Ke.call(Te,this),this.distance=Ce((dt=z.series).tooltipOptions.distance,16),!1===Ke)this.hide();else{if(this.split&&this.allowShared)this.renderSplit(Ke,R);else{var ne=Je,Oe=Z;if(G&&F.pointer.isDirectTouch&&(ne=G.chartX-F.plotLeft,Oe=G.chartY-F.plotTop),!F.polar&&!1!==dt.options.clip&&!R.some(function($e){return $e.series.shouldShowTooltip(ne,Oe)}))return void this.hide();G=this.getLabel(),ae.style.width&&!We||G.css({width:this.chart.spacingBox.width+"px"}),G.attr({text:Ke&&Ke.join?Ke.join(""):Ke}),G.removeClass(/highcharts-color-[\d]+/g).addClass("highcharts-color-"+Ce(z.colorIndex,dt.colorIndex)),We||G.attr({stroke:ae.borderColor||z.color||dt.color||"#666666"}),this.updatePosition({plotX:Je,plotY:Z,negative:z.negative,ttBelow:z.ttBelow,h:P[2]||0})}this.isHidden&&this.label&&this.label.attr({opacity:1}).show(),this.isHidden=!1}ye(this,"refresh")}},re.prototype.renderSplit=function(P,G){function F(yn,hn,ke,ft,It){return void 0===It&&(It=!0),ke?(hn=lt?0:vn,yn=xe(yn-ft/2,J.left,J.right-ft-(ae.outside?Tt:0))):(hn-=Ft,yn=xe(yn=It?yn-ft-at:yn+at,It?yn:J.left,J.right)),{x:yn,y:hn}}var ae=this,R=ae.chart,z=ae.chart,De=z.chartWidth,Ke=z.chartHeight,dt=z.plotHeight,We=z.plotLeft,Te=z.plotTop,Je=z.pointer,Z=z.scrollablePixelsY;Z=void 0===Z?0:Z;var Oe=z.scrollingContainer,$e=(Oe=void 0===Oe?{scrollLeft:0,scrollTop:0}:Oe).scrollLeft;Oe=Oe.scrollTop;var ot=z.styledMode,at=ae.distance,j=ae.options,be=ae.options.positioner,J=ae.outside&&"number"!=typeof z.scrollablePixelsX?qe.documentElement.getBoundingClientRect():{left:$e,right:$e+De,top:Oe,bottom:Oe+Ke},Ee=ae.getLabel(),Ue=this.renderer||R.renderer,lt=!(!R.xAxis[0]||!R.xAxis[0].opposite),Tt=(R=Je.getChartPosition()).left;R=R.top;var Ft=Te+Oe,$t=0,vn=dt-Z;se(P)&&(P=[!1,P]),P=P.slice(0,G.length+1).reduce(function(yn,hn,ke){if(!1!==hn&&""!==hn){var ft=(ke=G[ke-1]||{isHeader:!0,plotX:G[0].plotX,plotY:dt,series:{}}).isHeader,It=ft?ae:ke.series;hn=hn.toString();var ct=It.tt,jt=ke.isHeader,nn=ke.series,jn="highcharts-color-"+Ce(ke.colorIndex,nn.colorIndex,"none");if(ct||(ct={padding:j.padding,r:j.borderRadius},ot||(ct.fill=j.backgroundColor,ct["stroke-width"]=j.borderWidth),ct=Ue.label("",0,0,j[jt?"headerShape":"shape"],void 0,void 0,j.useHTML).addClass((jt?"highcharts-tooltip-header ":"")+"highcharts-tooltip-box "+jn).attr(ct).add(Ee)),ct.isActive=!0,ct.attr({text:hn}),ot||ct.css(j.style).shadow(j.shadow).attr({stroke:j.borderColor||ke.color||nn.color||"#333333"}),hn=(jt=(It=It.tt=ct).getBBox()).width+It.strokeWidth(),ft&&(vn+=$t=jt.height,lt&&(Ft-=$t)),nn=void 0===(nn=ke.plotX)?0:nn,jn=void 0===(jn=ke.plotY)?0:jn,ct=ke.series,ke.isHeader){nn=We+nn;var br=Te+dt/2}else{var mr=ct.xAxis,Mr=ct.yAxis;nn=mr.pos+xe(nn,-at,mr.len+at),ct.shouldShowTooltip(0,Mr.pos-Te+jn,{ignoreX:!0})&&(br=Mr.pos+jn)}nn=xe(nn,J.left-at,J.right+at),"number"==typeof br?(jt=jt.height+1,jn=be?be.call(ae,hn,jt,ke):F(nn,br,ft,hn),yn.push({align:be?0:void 0,anchorX:nn,anchorY:br,boxWidth:hn,point:ke,rank:Ce(jn.rank,ft?1:0),size:jt,target:jn.y,tt:It,x:jn.x})):It.isActive=!1}return yn},[]),!be&&P.some(function(yn){var hn=(ae.outside?Tt:0)+yn.anchorX;return hn<J.left&&hn+yn.boxWidth<J.right||hn<Tt-J.left+yn.boxWidth&&J.right-hn>hn})&&(P=P.map(function(yn){var hn=F(yn.anchorX,yn.anchorY,yn.point.isHeader,yn.boxWidth,!1);return fe(yn,{target:hn.y,x:hn.x})})),ae.cleanSplit(),Fe(P,vn);var Nn=Tt,$n=Tt;P.forEach(function(yn){var hn=yn.x,ke=yn.boxWidth;(yn=yn.isHeader)||(ae.outside&&Tt+hn<Nn&&(Nn=Tt+hn),!yn&&ae.outside&&Nn+ke>$n&&($n=Tt+hn))}),P.forEach(function(yn){var hn=yn.x,ke=yn.anchorX,ft=yn.pos,It=yn.point.isHeader;if(ft={visibility:void 0===ft?"hidden":"inherit",x:hn,y:ft+Ft,anchorX:ke,anchorY:yn.anchorY},ae.outside&&hn<ke){var ct=Tt-Nn;0<ct&&(It||(ft.x=hn+ct,ft.anchorX=ke+ct),It&&(ft.x=($n-Nn)/2,ft.anchorX=ke+ct))}yn.tt.attr(ft)}),P=ae.container,Z=ae.renderer,ae.outside&&P&&Z&&(z=Ee.getBBox(),Z.setSize(z.width+z.x,z.height+z.y,!1),P.style.left=Nn+"px",P.style.top=R+"px")},re.prototype.drawTracker=function(){if(this.followPointer||!this.options.stickOnContact)this.tracker&&this.tracker.destroy();else{var P=this.chart,G=this.label,F=this.shared?P.hoverPoints:P.hoverPoint;if(G&&F){var ae={x:0,y:0,width:0,height:0};F=this.getAnchor(F);var R=G.getBBox();F[0]+=P.plotLeft-G.translateX,F[1]+=P.plotTop-G.translateY,ae.x=Math.min(0,F[0]),ae.y=Math.min(0,F[1]),ae.width=0>F[0]?Math.max(Math.abs(F[0]),R.width-F[0]):Math.max(Math.abs(F[0]),R.width),ae.height=0>F[1]?Math.max(Math.abs(F[1]),R.height-Math.abs(F[1])):Math.max(Math.abs(F[1]),R.height),this.tracker?this.tracker.attr(ae):(this.tracker=G.renderer.rect(ae).addClass("highcharts-tracker").add(G),P.styledMode||this.tracker.attr({fill:"rgba(0,0,0,0)"}))}}},re.prototype.styledModeFormat=function(P){return P.replace('style="font-size: 10px"','class="highcharts-header"').replace(/style="color:{(point|series)\.color}"/g,'class="highcharts-color-{$1.colorIndex}"')},re.prototype.tooltipFooterHeaderFormatter=function(P,G){var F=P.series,ae=F.tooltipOptions,R=F.xAxis,z=R&&R.dateTime,De=ae.xDateFormat,Ke=ae[G?"footerFormat":"headerFormat"];return ye(this,"headerFormatter",R={isFooter:G,labelConfig:P},function(dt){z&&!De&&oe(P.key)&&(De=z.getXDateFormat(P.key,ae.dateTimeLabelFormats)),z&&De&&(P.point&&P.point.tooltipDateKeys||["key"]).forEach(function(We){Ke=Ke.replace("{point."+We+"}","{point."+We+":"+De+"}")}),F.chart.styledMode&&(Ke=this.styledModeFormat(Ke)),dt.text=ze(Ke,{point:P,series:F},this.chart)}),R.text},re.prototype.update=function(P){this.destroy(),pe(!0,this.chart.options.tooltip.userOptions,P),this.init(this.chart,pe(!0,this.options,P))},re.prototype.updatePosition=function(P){var G=this.chart,F=this.options,ae=G.pointer,R=this.getLabel();ae=ae.getChartPosition();var z=(F.positioner||this.getPosition).call(this,R.width,R.height,P),De=P.plotX+G.plotLeft;P=P.plotY+G.plotTop,this.outside&&(this.renderer.setSize(R.width+(F=F.borderWidth+2*this.distance),R.height+F,!1),(1!==ae.scaleX||1!==ae.scaleY)&&(we(this.container,{transform:"scale("+ae.scaleX+", "+ae.scaleY+")"}),De*=ae.scaleX,P*=ae.scaleY),De+=ae.left-z.x,P+=ae.top-z.y),this.move(Math.round(z.x),Math.round(z.y||0),De,P)},re}()}),it(ve,"Core/Series/Point.js",[ve["Core/Renderer/HTML/AST.js"],ve["Core/Animation/AnimationUtilities.js"],ve["Core/DefaultOptions.js"],ve["Core/FormatUtilities.js"],ve["Core/Utilities.js"]],function(Ne,I,tt,Qe,nt){var ze=I.animObject,qe=tt.defaultOptions,Fe=Qe.format,He=nt.addEvent,xe=nt.defined,we=nt.erase,de=nt.extend,W=nt.fireEvent,fe=nt.getNestedProperty,ye=nt.isArray,Se=nt.isFunction,oe=nt.isNumber,se=nt.isObject,pe=nt.merge,Ce=nt.objectEach,L=nt.pick,Q=nt.syncTimeout,re=nt.removeEvent,P=nt.uniqueKey;return function(){function G(){this.colorIndex=this.category=void 0,this.formatPrefix="point",this.id=void 0,this.isNull=!1,this.percentage=this.options=this.name=void 0,this.selected=!1,this.total=this.series=void 0,this.visible=!0,this.x=void 0}return G.prototype.animateBeforeDestroy=function(){var F=this,ae={x:F.startXPos,opacity:0},R=F.getGraphicalProps();R.singular.forEach(function(z){F[z]=F[z].animate("dataLabel"===z?{x:F[z].startXPos,y:F[z].startYPos,opacity:0}:ae)}),R.plural.forEach(function(z){F[z].forEach(function(De){De.element&&De.animate(de({x:F.startXPos},De.startYPos?{x:De.startXPos,y:De.startYPos}:{}))})})},G.prototype.applyOptions=function(F,ae){var R=this.series,z=R.options.pointValKey||R.pointValKey;return F=G.prototype.optionsToObject.call(this,F),de(this,F),this.options=this.options?de(this.options,F):F,F.group&&delete this.group,F.dataLabels&&delete this.dataLabels,z&&(this.y=G.prototype.getNestedProperty.call(this,z)),this.formatPrefix=(this.isNull=L(this.isValid&&!this.isValid(),null===this.x||!oe(this.y)))?"null":"point",this.selected&&(this.state="select"),"name"in this&&void 0===ae&&R.xAxis&&R.xAxis.hasNames&&(this.x=R.xAxis.nameToX(this)),void 0===this.x&&R?this.x=void 0===ae?R.autoIncrement():ae:oe(F.x)&&R.options.relativeXValue&&(this.x=R.autoIncrement(F.x)),this},G.prototype.destroy=function(){function F(){for(dt in(ae.graphic||ae.dataLabel||ae.dataLabels)&&(re(ae),ae.destroyElements()),ae)ae[dt]=null}var ae=this,R=ae.series,z=R.chart;R=R.options.dataSorting;var dt,De=z.hoverPoints,Ke=ze(ae.series.chart.renderer.globalAnimation);ae.legendItem&&z.legend.destroyItem(ae),De&&(ae.setState(),we(De,ae),De.length||(z.hoverPoints=null)),ae===z.hoverPoint&&ae.onMouseOut(),R&&R.enabled?(this.animateBeforeDestroy(),Q(F,Ke.duration)):F(),z.pointCount--},G.prototype.destroyElements=function(F){var ae=this;(F=ae.getGraphicalProps(F)).singular.forEach(function(R){ae[R]=ae[R].destroy()}),F.plural.forEach(function(R){ae[R].forEach(function(z){z.element&&z.destroy()}),delete ae[R]})},G.prototype.firePointEvent=function(F,ae,R){var z=this,De=this.series.options;(De.point.events[F]||z.options&&z.options.events&&z.options.events[F])&&z.importEvents(),"click"===F&&De.allowPointSelect&&(R=function(Ke){z.select&&z.select(null,Ke.ctrlKey||Ke.metaKey||Ke.shiftKey)}),W(z,F,ae,R)},G.prototype.getClassName=function(){return"highcharts-point"+(this.selected?" highcharts-point-select":"")+(this.negative?" highcharts-negative":"")+(this.isNull?" highcharts-null-point":"")+(void 0!==this.colorIndex?" highcharts-color-"+this.colorIndex:"")+(this.options.className?" "+this.options.className:"")+(this.zone&&this.zone.className?" "+this.zone.className.replace("highcharts-negative",""):"")},G.prototype.getGraphicalProps=function(F){var De,ae=this,R=[],z={singular:[],plural:[]};for((F=F||{graphic:1,dataLabel:1}).graphic&&R.push("graphic","upperGraphic","shadowGroup"),F.dataLabel&&R.push("dataLabel","dataLabelUpper","connector"),De=R.length;De--;){var Ke=R[De];ae[Ke]&&z.singular.push(Ke)}return["dataLabel","connector"].forEach(function(dt){var We=dt+"s";F[dt]&&ae[We]&&z.plural.push(We)}),z},G.prototype.getLabelConfig=function(){return{x:this.category,y:this.y,color:this.color,colorIndex:this.colorIndex,key:this.name||this.category,series:this.series,point:this,percentage:this.percentage,total:this.total||this.stackTotal}},G.prototype.getNestedProperty=function(F){if(F)return 0===F.indexOf("custom.")?fe(F,this.options):this[F]},G.prototype.getZone=function(){var F=this.series,ae=F.zones;F=F.zoneAxis||"y";var R,z=0;for(R=ae[z];this[F]>=R.value;)R=ae[++z];return this.nonZonedColor||(this.nonZonedColor=this.color),this.color=R&&R.color&&!this.options.color?R.color:this.nonZonedColor,R},G.prototype.hasNewShapeType=function(){return(this.graphic&&(this.graphic.symbolName||this.graphic.element.nodeName))!==this.shapeType},G.prototype.init=function(F,ae,R){return this.series=F,this.applyOptions(ae,R),this.id=xe(this.id)?this.id:P(),this.resolveColor(),F.chart.pointCount++,W(this,"afterInit"),this},G.prototype.optionsToObject=function(F){var ae=this.series,R=ae.options.keys,z=R||ae.pointArrayMap||["y"],De=z.length,Ke={},dt=0,We=0;if(oe(F)||null===F)Ke[z[0]]=F;else if(ye(F))for(!R&&F.length>De&&("string"==(ae=typeof F[0])?Ke.name=F[0]:"number"===ae&&(Ke.x=F[0]),dt++);We<De;)R&&void 0===F[dt]||(0<z[We].indexOf(".")?G.prototype.setNestedProperty(Ke,F[dt],z[We]):Ke[z[We]]=F[dt]),dt++,We++;else"object"==typeof F&&(Ke=F,F.dataLabels&&(ae._hasPointLabels=!0),F.marker&&(ae._hasPointMarkers=!0));return Ke},G.prototype.resolveColor=function(){var F=this.series,ae=F.chart.styledMode,R=F.chart.options.chart.colorCount;if(delete this.nonZonedColor,F.options.colorByPoint){if(!ae){var z=(R=F.options.colors||F.chart.options.colors)[F.colorCounter];R=R.length}ae=F.colorCounter,F.colorCounter++,F.colorCounter===R&&(F.colorCounter=0)}else ae||(z=F.color),ae=F.colorIndex;this.colorIndex=L(this.options.colorIndex,ae),this.color=L(this.options.color,z)},G.prototype.setNestedProperty=function(F,ae,R){return R.split(".").reduce(function(z,De,Ke,dt){return z[De]=dt.length-1===Ke?ae:se(z[De],!0)?z[De]:{},z[De]},F),F},G.prototype.tooltipFormatter=function(F){var ae=this.series,R=ae.tooltipOptions,z=L(R.valueDecimals,""),De=R.valuePrefix||"",Ke=R.valueSuffix||"";return ae.chart.styledMode&&(F=ae.chart.tooltip.styledModeFormat(F)),(ae.pointArrayMap||["y"]).forEach(function(dt){dt="{point."+dt,(De||Ke)&&(F=F.replace(RegExp(dt+"}","g"),De+dt+"}"+Ke)),F=F.replace(RegExp(dt+"}","g"),dt+":,."+z+"f}")}),Fe(F,{point:this,series:this.series},ae.chart)},G.prototype.update=function(F,ae,R,z){function De(){Ke.applyOptions(F);var ne=We&&Ke.hasDummyGraphic;ne=null===Ke.y?!ne:ne,We&&ne&&(Ke.graphic=We.destroy(),delete Ke.hasDummyGraphic),se(F,!0)&&(We&&We.element&&F&&F.marker&&void 0!==F.marker.symbol&&(Ke.graphic=We.destroy()),F&&F.dataLabels&&Ke.dataLabel&&(Ke.dataLabel=Ke.dataLabel.destroy()),Ke.connector&&(Ke.connector=Ke.connector.destroy())),dt.updateParallelArrays(Ke,Z=Ke.index),Je.data[Z]=se(Je.data[Z],!0)||se(F,!0)?Ke.options:L(F,Je.data[Z]),dt.isDirty=dt.isDirtyData=!0,!dt.fixedBox&&dt.hasCartesianSeries&&(Te.isDirtyBox=!0),"point"===Je.legendType&&(Te.isDirtyLegend=!0),ae&&Te.redraw(R)}var Z,Ke=this,dt=Ke.series,We=Ke.graphic,Te=dt.chart,Je=dt.options;ae=L(ae,!0),!1===z?De():Ke.firePointEvent("update",{options:F},De)},G.prototype.remove=function(F,ae){this.series.removePoint(this.series.data.indexOf(this),F,ae)},G.prototype.select=function(F,ae){var R=this,z=R.series,De=z.chart;this.selectedStaging=F=L(F,!R.selected),R.firePointEvent(F?"select":"unselect",{accumulate:ae},function(){R.selected=R.options.selected=F,z.options.data[z.data.indexOf(R)]=R.options,R.setState(F&&"select"),ae||De.getSelectedPoints().forEach(function(Ke){var dt=Ke.series;Ke.selected&&Ke!==R&&(Ke.selected=Ke.options.selected=!1,dt.options.data[dt.data.indexOf(Ke)]=Ke.options,Ke.setState(De.hoverPoints&&dt.options.inactiveOtherPoints?"inactive":""),Ke.firePointEvent("unselect"))})}),delete this.selectedStaging},G.prototype.onMouseOver=function(F){var ae=this.series.chart,R=ae.pointer;F=F?R.normalize(F):R.getChartCoordinatesFromPoint(this,ae.inverted),R.runPointActions(F,this)},G.prototype.onMouseOut=function(){var F=this.series.chart;this.firePointEvent("mouseOut"),this.series.options.inactiveOtherPoints||(F.hoverPoints||[]).forEach(function(ae){ae.setState()}),F.hoverPoints=F.hoverPoint=null},G.prototype.importEvents=function(){if(!this.hasImportedEvents){var F=this,ae=pe(F.series.options.point,F.options).events;F.events=ae,Ce(ae,function(R,z){Se(R)&&He(F,z,R)}),this.hasImportedEvents=!0}},G.prototype.setState=function(F,ae){var $e,R=this.series,z=this.state,De=R.options.states[F||"normal"]||{},Ke=qe.plotOptions[R.type].marker&&R.options.marker,We=Ke&&Ke.states&&Ke.states[F||"normal"]||{},Je=this.marker||{},Z=R.chart,ne=Ke&&R.markerAttribs,Oe=R.halo,ot=R.stateMarkerGraphic;if(!((F=F||"")===this.state&&!ae||this.selected&&"select"!==F||!1===De.enabled||F&&(!1===We.enabled||Ke&&!1===Ke.enabled&&!1===We.enabled)||F&&Je.states&&Je.states[F]&&!1===Je.states[F].enabled)){if(this.state=F,ne&&($e=R.markerAttribs(this,F)),this.graphic&&!this.hasDummyGraphic){if(z&&this.graphic.removeClass("highcharts-point-"+z),F&&this.graphic.addClass("highcharts-point-"+F),!Z.styledMode){var at=R.pointAttribs(this,F),j=L(Z.options.chart.animation,De.animation);R.options.inactiveOtherPoints&&oe(at.opacity)&&((this.dataLabels||[]).forEach(function(be){be&&be.animate({opacity:at.opacity},j)}),this.connector&&this.connector.animate({opacity:at.opacity},j)),this.graphic.animate(at,j)}$e&&this.graphic.animate($e,L(Z.options.chart.animation,We.animation,Ke.animation)),ot&&ot.hide()}else F&&We&&(z=Je.symbol||R.symbol,ot&&ot.currentSymbol!==z&&(ot=ot.destroy()),$e&&(ot?ot[ae?"animate":"attr"]({x:$e.x,y:$e.y}):z&&(R.stateMarkerGraphic=ot=Z.renderer.symbol(z,$e.x,$e.y,$e.width,$e.height).add(R.markerGroup),ot.currentSymbol=z)),!Z.styledMode&&ot&&"inactive"!==this.state&&ot.attr(R.pointAttribs(this,F))),ot&&(ot[F&&this.isInside?"show":"hide"](),ot.element.point=this,ot.addClass(this.getClassName(),!0));$e=(ot=this.graphic||ot)&&ot.visibility||"inherit",(De=De.halo)&&De.size&&ot&&"hidden"!==$e&&!this.isCluster?(Oe||(R.halo=Oe=Z.renderer.path().add(ot.parentGroup)),Oe.show()[ae?"animate":"attr"]({d:this.haloPath(De.size)}),Oe.attr({class:"highcharts-halo highcharts-color-"+L(this.colorIndex,R.colorIndex)+(this.className?" "+this.className:""),visibility:$e,zIndex:-1}),Oe.point=this,Z.styledMode||Oe.attr(de({fill:this.color||R.color,"fill-opacity":De.opacity},Ne.filterUserAttributes(De.attributes||{})))):Oe&&Oe.point&&Oe.point.haloPath&&Oe.animate({d:Oe.point.haloPath(0)},null,Oe.hide),W(this,"afterSetState",{state:F})}},G.prototype.haloPath=function(F){return this.series.chart.renderer.symbols.circle(Math.floor(this.plotX)-F,this.plotY-F,2*F,2*F)},G}()}),it(ve,"Core/Pointer.js",[ve["Core/Color/Color.js"],ve["Core/Globals.js"],ve["Core/Tooltip.js"],ve["Core/Utilities.js"]],function(Ne,I,tt,Qe){var nt=Ne.parse,ze=I.charts,qe=I.noop,Fe=Qe.addEvent,He=Qe.attr,xe=Qe.css,we=Qe.defined,de=Qe.extend,W=Qe.find,fe=Qe.fireEvent,ye=Qe.isNumber,Se=Qe.isObject,oe=Qe.objectEach,se=Qe.offset,pe=Qe.pick,Ce=Qe.splat;return function(){function L(Q,re){this.lastValidTouch={},this.pinchDown=[],this.runChartClick=!1,this.eventsToUnbind=[],this.chart=Q,this.hasDragged=!1,this.options=re,this.init(Q,re)}return L.prototype.applyInactiveState=function(Q){var P,re=[];(Q||[]).forEach(function(G){re.push(P=G.series),P.linkedParent&&re.push(P.linkedParent),P.linkedSeries&&(re=re.concat(P.linkedSeries)),P.navigatorSeries&&re.push(P.navigatorSeries)}),this.chart.series.forEach(function(G){-1===re.indexOf(G)?G.setState("inactive",!0):G.options.inactiveOtherPoints&&G.setAllPointsToState("inactive")})},L.prototype.destroy=function(){var Q=this;this.eventsToUnbind.forEach(function(re){return re()}),this.eventsToUnbind=[],I.chartCount||(L.unbindDocumentMouseUp&&(L.unbindDocumentMouseUp=L.unbindDocumentMouseUp()),L.unbindDocumentTouchEnd&&(L.unbindDocumentTouchEnd=L.unbindDocumentTouchEnd())),clearInterval(Q.tooltipTimeout),oe(Q,function(re,P){Q[P]=void 0})},L.prototype.drag=function(Q){var re=this.chart,P=re.options.chart,G=this.zoomHor,F=this.zoomVert,ae=re.plotLeft,R=re.plotTop,z=re.plotWidth,De=re.plotHeight,Ke=this.mouseDownX||0,dt=this.mouseDownY||0,We=Se(P.panning)?P.panning&&P.panning.enabled:P.panning,Te=P.panKey&&Q[P.panKey+"Key"],Je=Q.chartX,Z=Q.chartY,ne=this.selectionMarker;if((!ne||!ne.touch)&&(Je<ae?Je=ae:Je>ae+z&&(Je=ae+z),Z<R?Z=R:Z>R+De&&(Z=R+De),this.hasDragged=Math.sqrt(Math.pow(Ke-Je,2)+Math.pow(dt-Z,2)),10<this.hasDragged)){var Oe=re.isInsidePlot(Ke-ae,dt-R,{visiblePlotOnly:!0});!re.hasCartesianSeries&&!re.mapView||!this.zoomX&&!this.zoomY||!Oe||Te||ne||(this.selectionMarker=ne=re.renderer.rect(ae,R,G?1:z,F?1:De,0).attr({class:"highcharts-selection-marker",zIndex:7}).add(),re.styledMode||ne.attr({fill:P.selectionMarkerFill||nt("#335cad").setOpacity(.25).get()})),ne&&G&&(G=Je-Ke,ne.attr({width:Math.abs(G),x:(0<G?0:G)+Ke})),ne&&F&&(G=Z-dt,ne.attr({height:Math.abs(G),y:(0<G?0:G)+dt})),Oe&&!ne&&We&&re.pan(Q,P.panning)}},L.prototype.dragStart=function(Q){var re=this.chart;re.mouseIsDown=Q.type,re.cancelClick=!1,re.mouseDownX=this.mouseDownX=Q.chartX,re.mouseDownY=this.mouseDownY=Q.chartY},L.prototype.drop=function(Q){var re=this,P=this.chart,G=this.hasPinched;if(this.selectionMarker){var F=this.selectionMarker,ae=F.attr?F.attr("x"):F.x,R=F.attr?F.attr("y"):F.y,z=F.attr?F.attr("width"):F.width,De=F.attr?F.attr("height"):F.height,Ke={originalEvent:Q,xAxis:[],yAxis:[],x:ae,y:R,width:z,height:De},dt=!!P.mapView;(this.hasDragged||G)&&(P.axes.forEach(function(We){if(We.zoomEnabled&&we(We.min)&&(G||re[{xAxis:"zoomX",yAxis:"zoomY"}[We.coll]])&&ye(ae)&&ye(R)){var Te=We.horiz,Je="touchend"===Q.type?We.minPixelPadding:0,Z=We.toValue((Te?ae:R)+Je);Te=We.toValue((Te?ae+z:R+De)-Je),Ke[We.coll].push({axis:We,min:Math.min(Z,Te),max:Math.max(Z,Te)}),dt=!0}}),dt&&fe(P,"selection",Ke,function(We){P.zoom(de(We,G?{animation:!1}:null))})),ye(P.index)&&(this.selectionMarker=this.selectionMarker.destroy()),G&&this.scaleGroups()}P&&ye(P.index)&&(xe(P.container,{cursor:P._cursor}),P.cancelClick=10<this.hasDragged,P.mouseIsDown=this.hasDragged=this.hasPinched=!1,this.pinchDown=[])},L.prototype.findNearestKDPoint=function(Q,re,P){var ae,G=this.chart,F=G.hoverPoint;return G=G.tooltip,F&&G&&G.isStickyOnContact()?F:(Q.forEach(function(R){var z=!(R.noSharedTooltip&&re)&&0>R.options.findNearestPointBy.indexOf("y");if(R=R.searchPoint(P,z),(z=Se(R,!0)&&R.series)&&!(z=!Se(ae,!0))){var De=ae.dist-R.dist,Ke=(R.series.group&&R.series.group.zIndex)-(ae.series.group&&ae.series.group.zIndex);z=0<(0!=(z=ae.distX-R.distX)&&re?z:0!==De?De:0!==Ke?Ke:ae.series.index>R.series.index?-1:1)}z&&(ae=R)}),ae)},L.prototype.getChartCoordinatesFromPoint=function(Q,re){var P=Q.series,G=P.xAxis;P=P.yAxis;var F=Q.shapeArgs;if(G&&P){var ae=pe(Q.clientX,Q.plotX),R=Q.plotY||0;return Q.isNode&&F&&ye(F.x)&&ye(F.y)&&(ae=F.x,R=F.y),re?{chartX:P.len+P.pos-R,chartY:G.len+G.pos-ae}:{chartX:ae+G.pos,chartY:R+P.pos}}if(F&&F.x&&F.y)return{chartX:F.x,chartY:F.y}},L.prototype.getChartPosition=function(){if(this.chartPosition)return this.chartPosition;var Q=this.chart.container,re=se(Q);this.chartPosition={left:re.left,top:re.top,scaleX:1,scaleY:1};var P=Q.offsetWidth;return Q=Q.offsetHeight,2<P&&2<Q&&(this.chartPosition.scaleX=re.width/P,this.chartPosition.scaleY=re.height/Q),this.chartPosition},L.prototype.getCoordinates=function(Q){var re={xAxis:[],yAxis:[]};return this.chart.axes.forEach(function(P){re[P.isXAxis?"xAxis":"yAxis"].push({axis:P,value:P.toValue(Q[P.horiz?"chartX":"chartY"])})}),re},L.prototype.getHoverData=function(Q,re,P,G,F,ae){var R=[];G=!(!G||!Q);var z={chartX:ae?ae.chartX:void 0,chartY:ae?ae.chartY:void 0,shared:F};fe(this,"beforeGetHoverData",z);var De=re&&!re.stickyTracking?[re]:P.filter(function(dt){return z.filter?z.filter(dt):dt.visible&&!(!F&&dt.directTouch)&&pe(dt.options.enableMouseTracking,!0)&&dt.stickyTracking}),Ke=G||!ae?Q:this.findNearestKDPoint(De,F,ae);return re=Ke&&Ke.series,Ke&&(F&&!re.noSharedTooltip?(De=P.filter(function(dt){return z.filter?z.filter(dt):dt.visible&&!(!F&&dt.directTouch)&&pe(dt.options.enableMouseTracking,!0)&&!dt.noSharedTooltip})).forEach(function(dt){var We=W(dt.points,function(Te){return Te.x===Ke.x&&!Te.isNull});Se(We)&&(dt.chart.isBoosting&&(We=dt.getPoint(We)),R.push(We))}):R.push(Ke)),fe(this,"afterGetHoverData",z={hoverPoint:Ke}),{hoverPoint:z.hoverPoint,hoverSeries:re,hoverPoints:R}},L.prototype.getPointFromEvent=function(Q){Q=Q.target;for(var re;Q&&!re;)re=Q.point,Q=Q.parentNode;return re},L.prototype.onTrackerMouseOut=function(Q){Q=Q.relatedTarget||Q.toElement;var re=this.chart.hoverSeries;this.isDirectTouch=!1,!re||!Q||re.stickyTracking||this.inClass(Q,"highcharts-tooltip")||this.inClass(Q,"highcharts-series-"+re.index)&&this.inClass(Q,"highcharts-tracker")||re.onMouseOut()},L.prototype.inClass=function(Q,re){for(var P;Q;){if(P=He(Q,"class")){if(-1!==P.indexOf(re))return!0;if(-1!==P.indexOf("highcharts-container"))return!1}Q=Q.parentElement}},L.prototype.init=function(Q,re){this.options=re,this.chart=Q,this.runChartClick=!(!re.chart.events||!re.chart.events.click),this.pinchDown=[],this.lastValidTouch={},tt&&(Q.tooltip=new tt(Q,re.tooltip),this.followTouchMove=pe(re.tooltip.followTouchMove,!0)),this.setDOMEvents()},L.prototype.normalize=function(Q,re){var P=Q.touches,G=P?P.length?P.item(0):pe(P.changedTouches,Q.changedTouches)[0]:Q;return re||(re=this.getChartPosition()),P=G.pageX-re.left,G=G.pageY-re.top,P/=re.scaleX,G/=re.scaleY,de(Q,{chartX:Math.round(P),chartY:Math.round(G)})},L.prototype.onContainerClick=function(Q){var re=this.chart,P=re.hoverPoint;Q=this.normalize(Q);var G=re.plotLeft,F=re.plotTop;re.cancelClick||(P&&this.inClass(Q.target,"highcharts-tracker")?(fe(P.series,"click",de(Q,{point:P})),re.hoverPoint&&P.firePointEvent("click",Q)):(de(Q,this.getCoordinates(Q)),re.isInsidePlot(Q.chartX-G,Q.chartY-F,{visiblePlotOnly:!0})&&fe(re,"click",Q)))},L.prototype.onContainerMouseDown=function(Q){var re=1==(1&(Q.buttons||Q.button));Q=this.normalize(Q),I.isFirefox&&0!==Q.button&&this.onContainerMouseMove(Q),(void 0===Q.button||re)&&(this.zoomOption(Q),re&&Q.preventDefault&&Q.preventDefault(),this.dragStart(Q))},L.prototype.onContainerMouseLeave=function(Q){var re=ze[pe(L.hoverChartIndex,-1)],P=this.chart.tooltip;P&&P.shouldStickOnContact()&&this.inClass(Q.relatedTarget,"highcharts-tooltip-container")||(Q=this.normalize(Q),re&&(Q.relatedTarget||Q.toElement)&&(re.pointer.reset(),re.pointer.chartPosition=void 0),P&&!P.isHidden&&this.reset())},L.prototype.onContainerMouseEnter=function(Q){delete this.chartPosition},L.prototype.onContainerMouseMove=function(Q){var re=this.chart;Q=this.normalize(Q),this.setHoverChartIndex(),Q.preventDefault||(Q.returnValue=!1),("mousedown"===re.mouseIsDown||this.touchSelect(Q))&&this.drag(Q),re.openMenu||!this.inClass(Q.target,"highcharts-tracker")&&!re.isInsidePlot(Q.chartX-re.plotLeft,Q.chartY-re.plotTop,{visiblePlotOnly:!0})||(this.inClass(Q.target,"highcharts-no-tooltip")?this.reset(!1,0):this.runPointActions(Q))},L.prototype.onDocumentTouchEnd=function(Q){var re=ze[pe(L.hoverChartIndex,-1)];re&&re.pointer.drop(Q)},L.prototype.onContainerTouchMove=function(Q){this.touchSelect(Q)?this.onContainerMouseMove(Q):this.touch(Q)},L.prototype.onContainerTouchStart=function(Q){this.touchSelect(Q)?this.onContainerMouseDown(Q):(this.zoomOption(Q),this.touch(Q,!0))},L.prototype.onDocumentMouseMove=function(Q){var re=this.chart,P=this.chartPosition;Q=this.normalize(Q,P);var G=re.tooltip;!P||G&&G.isStickyOnContact()||re.isInsidePlot(Q.chartX-re.plotLeft,Q.chartY-re.plotTop,{visiblePlotOnly:!0})||this.inClass(Q.target,"highcharts-tracker")||this.reset()},L.prototype.onDocumentMouseUp=function(Q){var re=ze[pe(L.hoverChartIndex,-1)];re&&re.pointer.drop(Q)},L.prototype.pinch=function(Q){var re=this,P=re.chart,G=re.pinchDown,F=Q.touches||[],ae=F.length,R=re.lastValidTouch,z=re.hasZoom,De={},Ke=1===ae&&(re.inClass(Q.target,"highcharts-tracker")&&P.runTrackerClick||re.runChartClick),dt={},We=re.selectionMarker;1<ae?re.initiated=!0:1===ae&&this.followTouchMove&&(re.initiated=!1),z&&re.initiated&&!Ke&&!1!==Q.cancelable&&Q.preventDefault(),[].map.call(F,function(Te){return re.normalize(Te)}),"touchstart"===Q.type?([].forEach.call(F,function(Te,Je){G[Je]={chartX:Te.chartX,chartY:Te.chartY}}),R.x=[G[0].chartX,G[1]&&G[1].chartX],R.y=[G[0].chartY,G[1]&&G[1].chartY],P.axes.forEach(function(Te){if(Te.zoomEnabled){var Je=P.bounds[Te.horiz?"h":"v"],Z=Te.minPixelPadding,ne=Te.toPixels(Math.min(pe(Te.options.min,Te.dataMin),Te.dataMin)),Oe=Te.toPixels(Math.max(pe(Te.options.max,Te.dataMax),Te.dataMax)),$e=Math.max(ne,Oe);Je.min=Math.min(Te.pos,Math.min(ne,Oe)-Z),Je.max=Math.max(Te.pos+Te.len,$e+Z)}}),re.res=!0):re.followTouchMove&&1===ae?this.runPointActions(re.normalize(Q)):G.length&&(fe(P,"touchpan",{originalEvent:Q},function(){We||(re.selectionMarker=We=de({destroy:qe,touch:!0},P.plotBox)),re.pinchTranslate(G,F,De,We,dt,R),re.hasPinched=z,re.scaleGroups(De,dt)}),re.res&&(re.res=!1,this.reset(!1,0)))},L.prototype.pinchTranslate=function(Q,re,P,G,F,ae){this.zoomHor&&this.pinchTranslateDirection(!0,Q,re,P,G,F,ae),this.zoomVert&&this.pinchTranslateDirection(!1,Q,re,P,G,F,ae)},L.prototype.pinchTranslateDirection=function(Q,re,P,G,F,ae,R,z){var De=this.chart,Ke=Q?"x":"y",dt=Q?"X":"Y",We="chart"+dt,Te=Q?"width":"height",Je=De["plot"+(Q?"Left":"Top")],Z=De.inverted,ne=De.bounds[Q?"h":"v"],Oe=1===re.length,$e=re[0][We],ot=!Oe&&re[1][We];re=function(){"number"==typeof Ee&&20<Math.abs($e-ot)&&(be=z||Math.abs(J-Ee)/Math.abs($e-ot)),j=(Je-J)/be+$e,at=De["plot"+(Q?"Width":"Height")]/be};var at,j,be=z||1,J=P[0][We],Ee=!Oe&&P[1][We];if(re(),(P=j)<ne.min){P=ne.min;var Ue=!0}else P+at>ne.max&&(P=ne.max-at,Ue=!0);Ue?(J-=.8*(J-R[Ke][0]),"number"==typeof Ee&&(Ee-=.8*(Ee-R[Ke][1])),re()):R[Ke]=[J,Ee],Z||(ae[Ke]=j-Je,ae[Te]=at),ae=Z?1/be:be,F[Te]=at,F[Ke]=P,G[Z?Q?"scaleY":"scaleX":"scale"+dt]=be,G["translate"+dt]=ae*Je+(J-ae*$e)},L.prototype.reset=function(Q,re){var P=this.chart,G=P.hoverSeries,F=P.hoverPoint,ae=P.hoverPoints,R=P.tooltip,z=R&&R.shared?ae:F;Q&&z&&Ce(z).forEach(function(De){De.series.isCartesian&&void 0===De.plotX&&(Q=!1)}),Q?R&&z&&Ce(z).length&&(R.refresh(z),R.shared&&ae?ae.forEach(function(De){De.setState(De.state,!0),De.series.isCartesian&&(De.series.xAxis.crosshair&&De.series.xAxis.drawCrosshair(null,De),De.series.yAxis.crosshair&&De.series.yAxis.drawCrosshair(null,De))}):F&&(F.setState(F.state,!0),P.axes.forEach(function(De){De.crosshair&&F.series[De.coll]===De&&De.drawCrosshair(null,F)}))):(F&&F.onMouseOut(),ae&&ae.forEach(function(De){De.setState()}),G&&G.onMouseOut(),R&&R.hide(re),this.unDocMouseMove&&(this.unDocMouseMove=this.unDocMouseMove()),P.axes.forEach(function(De){De.hideCrosshair()}),this.hoverX=P.hoverPoints=P.hoverPoint=null)},L.prototype.runPointActions=function(Q,re){var P=this.chart,G=P.tooltip&&P.tooltip.options.enabled?P.tooltip:void 0,F=!!G&&G.shared,ae=re||P.hoverPoint,R=ae&&ae.series||P.hoverSeries;re=this.getHoverData(ae,R,P.series,(!Q||"touchmove"!==Q.type)&&(!!re||R&&R.directTouch&&this.isDirectTouch),F,Q),ae=re.hoverPoint;var z=re.hoverPoints;re=(R=re.hoverSeries)&&R.tooltipOptions.followPointer&&!R.tooltipOptions.split;var De=F&&R&&!R.noSharedTooltip;if(ae&&(ae!==P.hoverPoint||G&&G.isHidden)){if((P.hoverPoints||[]).forEach(function(Ke){-1===z.indexOf(Ke)&&Ke.setState()}),P.hoverSeries!==R&&R.onMouseOver(),this.applyInactiveState(z),(z||[]).forEach(function(Ke){Ke.setState("hover")}),P.hoverPoint&&P.hoverPoint.firePointEvent("mouseOut"),!ae.series)return;P.hoverPoints=z,P.hoverPoint=ae,ae.firePointEvent("mouseOver",void 0,function(){G&&ae&&G.refresh(De?z:ae,Q)})}else re&&G&&!G.isHidden&&(F=G.getAnchor([{}],Q),P.isInsidePlot(F[0],F[1],{visiblePlotOnly:!0})&&G.updatePosition({plotX:F[0],plotY:F[1]}));this.unDocMouseMove||(this.unDocMouseMove=Fe(P.container.ownerDocument,"mousemove",function(Ke){var dt=ze[L.hoverChartIndex];dt&&dt.pointer.onDocumentMouseMove(Ke)}),this.eventsToUnbind.push(this.unDocMouseMove)),P.axes.forEach(function(Ke){var We,dt=pe((Ke.crosshair||{}).snap,!0);dt&&((We=P.hoverPoint)&&We.series[Ke.coll]===Ke||(We=W(z,function(Te){return Te.series&&Te.series[Ke.coll]===Ke}))),We||!dt?Ke.drawCrosshair(Q,We):Ke.hideCrosshair()})},L.prototype.scaleGroups=function(Q,re){var P=this.chart;P.series.forEach(function(G){var F=Q||G.getPlotBox();G.group&&(G.xAxis&&G.xAxis.zoomEnabled||P.mapView)&&(G.group.attr(F),G.markerGroup&&(G.markerGroup.attr(F),G.markerGroup.clip(re?P.clipRect:null)),G.dataLabelsGroup&&G.dataLabelsGroup.attr(F))}),P.clipRect.attr(re||P.clipBox)},L.prototype.setDOMEvents=function(){var Q=this,re=this.chart.container,P=re.ownerDocument;re.onmousedown=this.onContainerMouseDown.bind(this),re.onmousemove=this.onContainerMouseMove.bind(this),re.onclick=this.onContainerClick.bind(this),this.eventsToUnbind.push(Fe(re,"mouseenter",this.onContainerMouseEnter.bind(this))),this.eventsToUnbind.push(Fe(re,"mouseleave",this.onContainerMouseLeave.bind(this))),L.unbindDocumentMouseUp||(L.unbindDocumentMouseUp=Fe(P,"mouseup",this.onDocumentMouseUp.bind(this)));for(var G=this.chart.renderTo.parentElement;G&&"BODY"!==G.tagName;)this.eventsToUnbind.push(Fe(G,"scroll",function(){delete Q.chartPosition})),G=G.parentElement;I.hasTouch&&(this.eventsToUnbind.push(Fe(re,"touchstart",this.onContainerTouchStart.bind(this),{passive:!1})),this.eventsToUnbind.push(Fe(re,"touchmove",this.onContainerTouchMove.bind(this),{passive:!1})),L.unbindDocumentTouchEnd||(L.unbindDocumentTouchEnd=Fe(P,"touchend",this.onDocumentTouchEnd.bind(this),{passive:!1})))},L.prototype.setHoverChartIndex=function(){var Q=this.chart,re=I.charts[pe(L.hoverChartIndex,-1)];re&&re!==Q&&re.pointer.onContainerMouseLeave({relatedTarget:Q.container}),re&&re.mouseIsDown||(L.hoverChartIndex=Q.index)},L.prototype.touch=function(Q,re){var P=this.chart;if(this.setHoverChartIndex(),1===Q.touches.length)if(Q=this.normalize(Q),P.isInsidePlot(Q.chartX-P.plotLeft,Q.chartY-P.plotTop,{visiblePlotOnly:!0})&&!P.openMenu){if(re&&this.runPointActions(Q),"touchmove"===Q.type)var F=!!(re=this.pinchDown)[0]&&4<=Math.sqrt(Math.pow(re[0].chartX-Q.chartX,2)+Math.pow(re[0].chartY-Q.chartY,2));pe(F,!0)&&this.pinch(Q)}else re&&this.reset();else 2===Q.touches.length&&this.pinch(Q)},L.prototype.touchSelect=function(Q){return!(!this.chart.options.chart.zoomBySingleTouch||!Q.touches||1!==Q.touches.length)},L.prototype.zoomOption=function(Q){var re=this.chart,P=re.options.chart;re=re.inverted;var G=P.zoomType||"";/touch/.test(Q.type)&&(G=pe(P.pinchType,G)),this.zoomX=Q=/x/.test(G),this.zoomY=P=/y/.test(G),this.zoomHor=Q&&!re||P&&re,this.zoomVert=P&&!re||Q&&re,this.hasZoom=Q||P},L}()}),it(ve,"Core/MSPointer.js",[ve["Core/Globals.js"],ve["Core/Pointer.js"],ve["Core/Utilities.js"]],function(Ne,I,tt){function Qe(){var oe=[];return oe.item=function(se){return this[se]},W(ye,function(se){oe.push({pageX:se.pageX,pageY:se.pageY,target:se.target})}),oe}function nt(oe,se,pe,Ce){var L=qe[I.hoverChartIndex||NaN];"touch"!==oe.pointerType&&oe.pointerType!==oe.MSPOINTER_TYPE_TOUCH||!L||(L=L.pointer,Ce(oe),L[se]({type:pe,target:oe.currentTarget,preventDefault:He,touches:Qe()}))}var oe,ze=this&&this.__extends||(oe=function(se,pe){return(oe=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(Ce,L){Ce.__proto__=L}||function(Ce,L){for(var Q in L)L.hasOwnProperty(Q)&&(Ce[Q]=L[Q])})(se,pe)},function(se,pe){function Ce(){this.constructor=se}oe(se,pe),se.prototype=null===pe?Object.create(pe):(Ce.prototype=pe.prototype,new Ce)}),qe=Ne.charts,Fe=Ne.doc,He=Ne.noop,xe=Ne.win,we=tt.addEvent,de=tt.css,W=tt.objectEach,fe=tt.removeEvent,ye={},Se=!!xe.PointerEvent;return function(oe){function se(){return null!==oe&&oe.apply(this,arguments)||this}return ze(se,oe),se.isRequired=function(){return!(Ne.hasTouch||!xe.PointerEvent&&!xe.MSPointerEvent)},se.prototype.batchMSEvents=function(pe){pe(this.chart.container,Se?"pointerdown":"MSPointerDown",this.onContainerPointerDown),pe(this.chart.container,Se?"pointermove":"MSPointerMove",this.onContainerPointerMove),pe(Fe,Se?"pointerup":"MSPointerUp",this.onDocumentPointerUp)},se.prototype.destroy=function(){this.batchMSEvents(fe),oe.prototype.destroy.call(this)},se.prototype.init=function(pe,Ce){oe.prototype.init.call(this,pe,Ce),this.hasZoom&&de(pe.container,{"-ms-touch-action":"none","touch-action":"none"})},se.prototype.onContainerPointerDown=function(pe){nt(pe,"onContainerTouchStart","touchstart",function(Ce){ye[Ce.pointerId]={pageX:Ce.pageX,pageY:Ce.pageY,target:Ce.currentTarget}})},se.prototype.onContainerPointerMove=function(pe){nt(pe,"onContainerTouchMove","touchmove",function(Ce){ye[Ce.pointerId]={pageX:Ce.pageX,pageY:Ce.pageY},ye[Ce.pointerId].target||(ye[Ce.pointerId].target=Ce.currentTarget)})},se.prototype.onDocumentPointerUp=function(pe){nt(pe,"onDocumentTouchEnd","touchend",function(Ce){delete ye[Ce.pointerId]})},se.prototype.setDOMEvents=function(){oe.prototype.setDOMEvents.call(this),(this.hasZoom||this.followTouchMove)&&this.batchMSEvents(we)},se}(I)}),it(ve,"Core/Legend/Legend.js",[ve["Core/Animation/AnimationUtilities.js"],ve["Core/FormatUtilities.js"],ve["Core/Globals.js"],ve["Core/Series/Point.js"],ve["Core/Renderer/RendererUtilities.js"],ve["Core/Utilities.js"]],function(Ne,I,tt,Qe,nt,ze){var qe=Ne.animObject,Fe=Ne.setAnimation,He=I.format;Ne=tt.isFirefox;var xe=tt.marginNames;tt=tt.win;var we=nt.distribute,de=ze.addEvent,W=ze.createElement,fe=ze.css,ye=ze.defined,Se=ze.discardElement,oe=ze.find,se=ze.fireEvent,pe=ze.isNumber,Ce=ze.merge,L=ze.pick,Q=ze.relativeLength,re=ze.stableSort,P=ze.syncTimeout;return nt=ze.wrap,ze=function(){function G(F,ae){this.allItems=[],this.contentGroup=this.box=void 0,this.display=!1,this.group=void 0,this.offsetWidth=this.maxLegendWidth=this.maxItemWidth=this.legendWidth=this.legendHeight=this.lastLineHeight=this.lastItemY=this.itemY=this.itemX=this.itemMarginTop=this.itemMarginBottom=this.itemHeight=this.initialItemY=0,this.options=void 0,this.padding=0,this.pages=[],this.proximate=!1,this.scrollGroup=void 0,this.widthOption=this.totalItemWidth=this.titleHeight=this.symbolWidth=this.symbolHeight=0,this.chart=F,this.init(F,ae)}return G.prototype.init=function(F,ae){this.chart=F,this.setOptions(ae),ae.enabled&&(this.render(),de(this.chart,"endResize",function(){this.legend.positionCheckboxes()}),this.proximate?this.unchartrender=de(this.chart,"render",function(){this.legend.proximatePositions(),this.legend.positionItems()}):this.unchartrender&&this.unchartrender())},G.prototype.setOptions=function(F){var ae=L(F.padding,8);this.options=F,this.chart.styledMode||(this.itemStyle=F.itemStyle,this.itemHiddenStyle=Ce(this.itemStyle,F.itemHiddenStyle)),this.itemMarginTop=F.itemMarginTop||0,this.itemMarginBottom=F.itemMarginBottom||0,this.padding=ae,this.initialItemY=ae-5,this.symbolWidth=L(F.symbolWidth,16),this.pages=[],this.proximate="proximate"===F.layout&&!this.chart.inverted,this.baseline=void 0},G.prototype.update=function(F,ae){var R=this.chart;this.setOptions(Ce(!0,this.options,F)),this.destroy(),R.isDirtyLegend=R.isDirtyBox=!0,L(ae,!0)&&R.redraw(),se(this,"afterUpdate")},G.prototype.colorizeItem=function(F,ae){if(F.legendGroup[ae?"removeClass":"addClass"]("highcharts-legend-item-hidden"),!this.chart.styledMode){var R=this.options,z=F.legendItem,De=F.legendLine,Ke=F.legendSymbol,dt=this.itemHiddenStyle.color;R=ae?R.itemStyle.color:dt;var We=ae&&F.color||dt,Te=F.options&&F.options.marker,Je={fill:We};z&&z.css({fill:R,color:R}),De&&De.attr({stroke:We}),Ke&&(Te&&Ke.isMarker&&(Je=F.pointAttribs(),ae||(Je.stroke=Je.fill=dt)),Ke.attr(Je))}se(this,"afterColorizeItem",{item:F,visible:ae})},G.prototype.positionItems=function(){this.allItems.forEach(this.positionItem,this),this.chart.isResizing||this.positionCheckboxes()},G.prototype.positionItem=function(F){var ae=this,R=this.options,z=R.symbolPadding,De=!R.rtl,Ke=F._legendItemPos;R=Ke[0],Ke=Ke[1];var dt=F.checkbox,We=F.legendGroup;We&&We.element&&(z={translateX:De?R:this.legendWidth-R-2*z-4,translateY:Ke},De=function(){se(ae,"afterPositionItem",{item:F})},ye(We.translateY)?We.animate(z,void 0,De):(We.attr(z),De())),dt&&(dt.x=R,dt.y=Ke)},G.prototype.destroyItem=function(F){var ae=F.checkbox;["legendItem","legendLine","legendSymbol","legendGroup"].forEach(function(R){F[R]&&(F[R]=F[R].destroy())}),ae&&Se(F.checkbox)},G.prototype.destroy=function(){function F(ae){this[ae]&&(this[ae]=this[ae].destroy())}this.getAllItems().forEach(function(ae){["legendItem","legendGroup"].forEach(F,ae)}),"clipRect up down pager nav box title group".split(" ").forEach(F,this),this.display=null},G.prototype.positionCheckboxes=function(){var F=this.group&&this.group.alignAttr,ae=this.clipHeight||this.legendHeight,R=this.titleHeight;if(F){var z=F.translateY;this.allItems.forEach(function(De){var Ke=De.checkbox;if(Ke){var dt=z+R+Ke.y+(this.scrollOffset||0)+3;fe(Ke,{left:F.translateX+De.checkboxOffset+Ke.x-20+"px",top:dt+"px",display:this.proximate||dt>z-6&&dt<z+ae-6?"":"none"})}},this)}},G.prototype.renderTitle=function(){var F=this.options,ae=this.padding,R=F.title,z=0;R.text&&(this.title||(this.title=this.chart.renderer.label(R.text,ae-3,ae-4,void 0,void 0,void 0,F.useHTML,void 0,"legend-title").attr({zIndex:1}),this.chart.styledMode||this.title.css(R.style),this.title.add(this.group)),R.width||this.title.css({width:this.maxLegendWidth+"px"}),z=(F=this.title.getBBox()).height,this.offsetWidth=F.width,this.contentGroup.attr({translateY:z})),this.titleHeight=z},G.prototype.setText=function(F){var ae=this.options;F.legendItem.attr({text:ae.labelFormat?He(ae.labelFormat,F,this.chart):ae.labelFormatter.call(F)})},G.prototype.renderItem=function(F){var ae=this.chart,R=ae.renderer,z=this.options,De=this.symbolWidth,Ke=z.symbolPadding||0,dt=this.itemStyle,We=this.itemHiddenStyle,Te="horizontal"===z.layout?L(z.itemDistance,20):0,Je=!z.rtl,Z=!F.series,ne=!Z&&F.series.drawLegendSymbol?F.series:F,Oe=ne.options,$e=this.createCheckboxForItem&&Oe&&Oe.showCheckbox,ot=z.useHTML,at=F.options.className,j=F.legendItem;Oe=De+Ke+Te+($e?20:0),j||(F.legendGroup=R.g("legend-item").addClass("highcharts-"+ne.type+"-series highcharts-color-"+F.colorIndex+(at?" "+at:"")+(Z?" highcharts-series-"+F.index:"")).attr({zIndex:1}).add(this.scrollGroup),F.legendItem=j=R.text("",Je?De+Ke:-Ke,this.baseline||0,ot),ae.styledMode||j.css(Ce(F.visible?dt:We)),j.attr({align:Je?"left":"right",zIndex:2}).add(F.legendGroup),this.baseline||(this.fontMetrics=R.fontMetrics(ae.styledMode?12:dt.fontSize,j),this.baseline=this.fontMetrics.f+3+this.itemMarginTop,j.attr("y",this.baseline),this.symbolHeight=z.symbolHeight||this.fontMetrics.f,z.squareSymbol&&(this.symbolWidth=L(z.symbolWidth,Math.max(this.symbolHeight,16)),Oe=this.symbolWidth+Ke+Te+($e?20:0),Je&&j.attr("x",this.symbolWidth+Ke))),ne.drawLegendSymbol(this,F),this.setItemEvents&&this.setItemEvents(F,j,ot)),$e&&!F.checkbox&&this.createCheckboxForItem&&this.createCheckboxForItem(F),this.colorizeItem(F,F.visible),!ae.styledMode&&dt.width||j.css({width:(z.itemWidth||this.widthOption||ae.spacingBox.width)-Oe+"px"}),this.setText(F),ae=j.getBBox(),R=this.fontMetrics&&this.fontMetrics.h||0,F.itemWidth=F.checkboxOffset=z.itemWidth||F.legendItemWidth||ae.width+Oe,this.maxItemWidth=Math.max(this.maxItemWidth,F.itemWidth),this.totalItemWidth+=F.itemWidth,this.itemHeight=F.itemHeight=Math.round(F.legendItemHeight||(ae.height>1.5*R?ae.height:R))},G.prototype.layoutItem=function(F){var ae=this.options,R=this.padding,z="horizontal"===ae.layout,De=F.itemHeight,Ke=this.itemMarginBottom,dt=this.itemMarginTop,We=z?L(ae.itemDistance,20):0,Te=this.maxLegendWidth;ae=ae.alignColumns&&this.totalItemWidth>Te?this.maxItemWidth:F.itemWidth,z&&this.itemX-R+ae>Te&&(this.itemX=R,this.lastLineHeight&&(this.itemY+=dt+this.lastLineHeight+Ke),this.lastLineHeight=0),this.lastItemY=dt+this.itemY+Ke,this.lastLineHeight=Math.max(De,this.lastLineHeight),F._legendItemPos=[this.itemX,this.itemY],z?this.itemX+=ae:(this.itemY+=dt+De+Ke,this.lastLineHeight=De),this.offsetWidth=this.widthOption||Math.max((z?this.itemX-R-(F.checkbox?0:We):ae)+R,this.offsetWidth)},G.prototype.getAllItems=function(){var F=[];return this.chart.series.forEach(function(ae){var R=ae&&ae.options;ae&&L(R.showInLegend,!ye(R.linkedTo)&&void 0,!0)&&(F=F.concat(ae.legendItems||("point"===R.legendType?ae.data:ae)))}),se(this,"afterGetAllItems",{allItems:F}),F},G.prototype.getAlignment=function(){var F=this.options;return this.proximate?F.align.charAt(0)+"tv":F.floating?"":F.align.charAt(0)+F.verticalAlign.charAt(0)+F.layout.charAt(0)},G.prototype.adjustMargins=function(F,ae){var R=this.chart,z=this.options,De=this.getAlignment();De&&[/(lth|ct|rth)/,/(rtv|rm|rbv)/,/(rbh|cb|lbh)/,/(lbv|lm|ltv)/].forEach(function(Ke,dt){Ke.test(De)&&!ye(F[dt])&&(R[xe[dt]]=Math.max(R[xe[dt]],R.legend[(dt+1)%2?"legendHeight":"legendWidth"]+[1,-1,-1,1][dt]*z[dt%2?"x":"y"]+L(z.margin,12)+ae[dt]+(R.titleOffset[dt]||0)))})},G.prototype.proximatePositions=function(){var F=this.chart,ae=[],R="left"===this.options.align;this.allItems.forEach(function(z){var De,Ke=R;if(z.yAxis){z.xAxis.options.reversed&&(Ke=!Ke),z.points&&(De=oe(Ke?z.points:z.points.slice(0).reverse(),function(We){return pe(We.plotY)})),Ke=this.itemMarginTop+z.legendItem.getBBox().height+this.itemMarginBottom;var dt=z.yAxis.top-F.plotTop;z.visible?(De=De?De.plotY:z.yAxis.height,De+=dt-.3*Ke):De=dt+z.yAxis.height,ae.push({target:De,size:Ke,item:z})}},this),we(ae,F.plotHeight).forEach(function(z){z.item._legendItemPos&&(z.item._legendItemPos[1]=F.plotTop-F.spacing[0]+z.pos)})},G.prototype.render=function(){var F=this.chart,ae=F.renderer,R=this.options,z=this.padding,De=this.getAllItems(),Ke=this.group,dt=this.box;this.itemX=z,this.itemY=this.initialItemY,this.lastItemY=this.offsetWidth=0,this.widthOption=Q(R.width,F.spacingBox.width-z);var We=F.spacingBox.width-2*z-R.x;-1<["rm","lm"].indexOf(this.getAlignment().substring(0,2))&&(We/=2),this.maxLegendWidth=this.widthOption||We,Ke||(this.group=Ke=ae.g("legend").addClass(R.className||"").attr({zIndex:7}).add(),this.contentGroup=ae.g().attr({zIndex:1}).add(Ke),this.scrollGroup=ae.g().add(this.contentGroup)),this.renderTitle(),re(De,function(Je,Z){return(Je.options&&Je.options.legendIndex||0)-(Z.options&&Z.options.legendIndex||0)}),R.reversed&&De.reverse(),this.allItems=De,this.display=We=!!De.length,this.itemHeight=this.totalItemWidth=this.maxItemWidth=this.lastLineHeight=0,De.forEach(this.renderItem,this),De.forEach(this.layoutItem,this),De=(this.widthOption||this.offsetWidth)+z;var Te=this.lastItemY+this.lastLineHeight+this.titleHeight;Te=this.handleOverflow(Te),Te+=z,dt||(this.box=dt=ae.rect().addClass("highcharts-legend-box").attr({r:R.borderRadius}).add(Ke)),F.styledMode||dt.attr({stroke:R.borderColor,"stroke-width":R.borderWidth||0,fill:R.backgroundColor||"none"}).shadow(R.shadow),0<De&&0<Te&&dt[dt.placed?"animate":"attr"](dt.crisp.call({},{x:0,y:0,width:De,height:Te},dt.strokeWidth())),dt[We?"show":"hide"](),F.styledMode&&"none"===Ke.getStyle("display")&&(De=Te=0),this.legendWidth=De,this.legendHeight=Te,We&&this.align(),this.proximate||this.positionItems(),se(this,"afterRender")},G.prototype.align=function(F){void 0===F&&(F=this.chart.spacingBox);var ae=this.chart,R=this.options,z=F.y;/(lth|ct|rth)/.test(this.getAlignment())&&0<ae.titleOffset[0]?z+=ae.titleOffset[0]:/(lbh|cb|rbh)/.test(this.getAlignment())&&0<ae.titleOffset[2]&&(z-=ae.titleOffset[2]),z!==F.y&&(F=Ce(F,{y:z})),ae.hasRendered||(this.group.placed=!1),this.group.align(Ce(R,{width:this.legendWidth,height:this.legendHeight,verticalAlign:this.proximate?"top":R.verticalAlign}),!0,F)},G.prototype.handleOverflow=function(F){var j,be,ae=this,R=this.chart,z=R.renderer,De=this.options,Ke=De.y,dt="top"===De.verticalAlign,We=this.padding,Te=De.maxHeight,Je=De.navigation,Z=L(Je.animation,!0),ne=Je.arrowSize||12,Oe=this.pages,$e=this.allItems,ot=function(Ue){"number"==typeof Ue?Ee.attr({height:Ue}):Ee&&(ae.clipRect=Ee.destroy(),ae.contentGroup.clip()),ae.contentGroup.div&&(ae.contentGroup.div.style.clip=Ue?"rect("+We+"px,9999px,"+(We+Ue)+"px,0)":"auto")},at=function(Ue){return ae[Ue]=z.circle(0,0,1.3*ne).translate(ne/2,ne/2).add(J),R.styledMode||ae[Ue].attr("fill","rgba(0,0,0,0.0001)"),ae[Ue]};Ke=R.spacingBox.height+(dt?-Ke:Ke)-We;var J=this.nav,Ee=this.clipRect;return"horizontal"!==De.layout||"middle"===De.verticalAlign||De.floating||(Ke/=2),Te&&(Ke=Math.min(Ke,Te)),Oe.length=0,F&&0<Ke&&F>Ke&&!1!==Je.enabled?(this.clipHeight=j=Math.max(Ke-20-this.titleHeight-We,0),this.currentPage=L(this.currentPage,1),this.fullHeight=F,$e.forEach(function(Ue,lt){var Tt=Ue._legendItemPos[1],Ft=Math.round(Ue.legendItem.getBBox().height),$t=Oe.length;(!$t||Tt-Oe[$t-1]>j&&(be||Tt)!==Oe[$t-1])&&(Oe.push(be||Tt),$t++),Ue.pageIx=$t-1,be&&($e[lt-1].pageIx=$t-1),lt===$e.length-1&&Tt+Ft-Oe[$t-1]>j&&Ft<=j&&(Oe.push(Tt),Ue.pageIx=$t),Tt!==be&&(be=Tt)}),Ee||(Ee=ae.clipRect=z.clipRect(0,We,9999,0),ae.contentGroup.clip(Ee)),ot(j),J||(this.nav=J=z.g().attr({zIndex:1}).add(this.group),this.up=z.symbol("triangle",0,0,ne,ne).add(J),at("upTracker").on("click",function(){ae.scroll(-1,Z)}),this.pager=z.text("",15,10).addClass("highcharts-legend-navigation"),!R.styledMode&&Je.style&&this.pager.css(Je.style),this.pager.add(J),this.down=z.symbol("triangle-down",0,0,ne,ne).add(J),at("downTracker").on("click",function(){ae.scroll(1,Z)})),ae.scroll(0),F=Ke):J&&(ot(),this.nav=J.destroy(),this.scrollGroup.attr({translateY:1}),this.clipHeight=0),F},G.prototype.scroll=function(F,ae){var R=this,z=this.chart,De=this.pages,Ke=De.length,dt=this.clipHeight,We=this.options.navigation,Te=this.pager,Je=this.padding,Z=this.currentPage+F;Z>Ke&&(Z=Ke),0<Z&&(void 0!==ae&&Fe(ae,z),this.nav.attr({translateX:Je,translateY:dt+this.padding+7+this.titleHeight,visibility:"inherit"}),[this.up,this.upTracker].forEach(function(ne){ne.attr({class:1===Z?"highcharts-legend-nav-inactive":"highcharts-legend-nav-active"})}),Te.attr({text:Z+"/"+Ke}),[this.down,this.downTracker].forEach(function(ne){ne.attr({x:18+this.pager.getBBox().width,class:Z===Ke?"highcharts-legend-nav-inactive":"highcharts-legend-nav-active"})},this),z.styledMode||(this.up.attr({fill:1===Z?We.inactiveColor:We.activeColor}),this.upTracker.css({cursor:1===Z?"default":"pointer"}),this.down.attr({fill:Z===Ke?We.inactiveColor:We.activeColor}),this.downTracker.css({cursor:Z===Ke?"default":"pointer"})),this.scrollOffset=-De[Z-1]+this.initialItemY,this.scrollGroup.animate({translateY:this.scrollOffset}),this.currentPage=Z,this.positionCheckboxes(),F=qe(L(ae,z.renderer.globalAnimation,!0)),P(function(){se(R,"afterScroll",{currentPage:Z})},F.duration))},G.prototype.setItemEvents=function(F,ae,R){var z=this,De=z.chart.renderer.boxWrapper,Ke=F instanceof Qe,dt="highcharts-legend-"+(Ke?"point":"series")+"-active",We=z.chart.styledMode,Te=function(Je){z.allItems.forEach(function(Z){F!==Z&&[Z].concat(Z.linkedSeries||[]).forEach(function(ne){ne.setState(Je,!Ke)})})};(R?[ae,F.legendSymbol]:[F.legendGroup]).forEach(function(Je){Je&&Je.on("mouseover",function(){F.visible&&Te("inactive"),F.setState("hover"),F.visible&&De.addClass(dt),We||ae.css(z.options.itemHoverStyle)}).on("mouseout",function(){z.chart.styledMode||ae.css(Ce(F.visible?z.itemStyle:z.itemHiddenStyle)),Te(""),De.removeClass(dt),F.setState()}).on("click",function(Z){var ne=function(){F.setVisible&&F.setVisible(),Te(F.visible?"inactive":"")};De.removeClass(dt),Z={browserEvent:Z},F.firePointEvent?F.firePointEvent("legendItemClick",Z,ne):se(F,"legendItemClick",Z,ne)})})},G.prototype.createCheckboxForItem=function(F){F.checkbox=W("input",{type:"checkbox",className:"highcharts-legend-checkbox",checked:F.selected,defaultChecked:F.selected},this.options.itemCheckboxStyle,this.chart.container),de(F.checkbox,"click",function(ae){se(F.series||F,"checkboxClick",{checked:ae.target.checked,item:F},function(){F.select()})})},G}(),(/Trident\/7\.0/.test(tt.navigator&&tt.navigator.userAgent)||Ne)&&nt(ze.prototype,"positionItem",function(G,F){var ae=this,R=function(){F._legendItemPos&&G.call(ae,F)};R(),ae.bubbleLegend||setTimeout(R)}),ze}),it(ve,"Core/Series/SeriesRegistry.js",[ve["Core/Globals.js"],ve["Core/DefaultOptions.js"],ve["Core/Series/Point.js"],ve["Core/Utilities.js"]],function(Ne,I,tt,Qe){var He,nt=I.defaultOptions,ze=Qe.error,qe=Qe.extendClass,Fe=Qe.merge;return function(xe){function we(de,W){var fe=nt.plotOptions||{},ye=W.defaultOptions;W.prototype.pointClass||(W.prototype.pointClass=tt),W.prototype.type=de,ye&&(fe[de]=ye),xe.seriesTypes[de]=W}xe.seriesTypes=Ne.seriesTypes,xe.getSeries=function(de,W){void 0===W&&(W={});var fe=de.options.chart,ye=xe.seriesTypes[fe=W.type||fe.type||fe.defaultSeriesType||""];return xe||ze(17,!0,de,{missingModuleFor:fe}),"function"==typeof(fe=new ye).init&&fe.init(de,W),fe},xe.registerSeriesType=we,xe.seriesType=function(de,W,fe,ye,Se){var oe=nt.plotOptions||{};return oe[de]=Fe(oe[W=W||""],fe),we(de,qe(xe.seriesTypes[W]||function(){},ye)),xe.seriesTypes[de].prototype.type=de,Se&&(xe.seriesTypes[de].prototype.pointClass=qe(tt,Se)),xe.seriesTypes[de]}}(He||(He={})),He}),it(ve,"Core/Chart/Chart.js",[ve["Core/Animation/AnimationUtilities.js"],ve["Core/Axis/Axis.js"],ve["Core/FormatUtilities.js"],ve["Core/Foundation.js"],ve["Core/Globals.js"],ve["Core/Legend/Legend.js"],ve["Core/MSPointer.js"],ve["Core/DefaultOptions.js"],ve["Core/Pointer.js"],ve["Core/Renderer/RendererRegistry.js"],ve["Core/Series/SeriesRegistry.js"],ve["Core/Renderer/SVG/SVGRenderer.js"],ve["Core/Time.js"],ve["Core/Utilities.js"],ve["Core/Renderer/HTML/AST.js"]],function(Ne,I,tt,Qe,nt,ze,qe,Fe,He,xe,we,de,W,fe,ye){var Se=Ne.animate,oe=Ne.animObject,se=Ne.setAnimation,pe=tt.numberFormat,Ce=Qe.registerEventOptions,L=nt.charts,Q=nt.doc,re=nt.marginNames,P=nt.svg,G=nt.win,F=Fe.defaultOptions,ae=Fe.defaultTime,R=we.seriesTypes,z=fe.addEvent,De=fe.attr,Ke=fe.cleanRecursively,dt=fe.createElement,We=fe.css,Te=fe.defined,Je=fe.discardElement,Z=fe.erase,ne=fe.error,Oe=fe.extend,$e=fe.find,ot=fe.fireEvent,at=fe.getStyle,j=fe.isArray,be=fe.isNumber,J=fe.isObject,Ee=fe.isString,Ue=fe.merge,lt=fe.objectEach,Tt=fe.pick,Ft=fe.pInt,$t=fe.relativeLength,vn=fe.removeEvent,Nn=fe.splat,$n=fe.syncTimeout,yn=fe.uniqueKey;return Ne=function(){function hn(ke,ft,It){this.series=this.renderTo=this.renderer=this.pointer=this.pointCount=this.plotWidth=this.plotTop=this.plotLeft=this.plotHeight=this.plotBox=this.options=this.numberFormatter=this.margin=this.legend=this.labelCollectors=this.isResizing=this.index=this.eventOptions=this.container=this.colorCounter=this.clipBox=this.chartWidth=this.chartHeight=this.bounds=this.axisOffset=this.axes=void 0,this.sharedClips={},this.yAxis=this.xAxis=this.userOptions=this.titleOffset=this.time=this.symbolCounter=this.spacingBox=this.spacing=void 0,this.getArgs(ke,ft,It)}return hn.chart=function(ke,ft,It){return new hn(ke,ft,It)},hn.prototype.getArgs=function(ke,ft,It){Ee(ke)||ke.nodeName?(this.renderTo=ke,this.init(ft,It)):this.init(ke,ft)},hn.prototype.init=function(ke,ft){var It=ke.plotOptions||{};ot(this,"init",{args:arguments},function(){var ct=Ue(F,ke),jt=ct.chart;lt(ct.plotOptions,function(nn,jn){J(nn)&&(nn.tooltip=It[jn]&&Ue(It[jn].tooltip)||void 0)}),ct.tooltip.userOptions=ke.chart&&ke.chart.forExport&&ke.tooltip.userOptions||ke.tooltip,this.userOptions=ke,this.margin=[],this.spacing=[],this.bounds={h:{},v:{}},this.labelCollectors=[],this.callback=ft,this.isResizing=0,this.options=ct,this.axes=[],this.series=[],this.time=ke.time&&Object.keys(ke.time).length?new W(ke.time):nt.time,this.numberFormatter=jt.numberFormatter||pe,this.styledMode=jt.styledMode,this.hasCartesianSeries=jt.showAxes,this.index=L.length,L.push(this),nt.chartCount++,Ce(this,jt),this.xAxis=[],this.yAxis=[],this.pointCount=this.colorCounter=this.symbolCounter=0,ot(this,"afterInit"),this.firstRender()})},hn.prototype.initSeries=function(ke){var ft=this.options.chart,It=R[ft=ke.type||ft.type||ft.defaultSeriesType];return It||ne(17,!0,this,{missingModuleFor:ft}),"function"==typeof(ft=new It).init&&ft.init(this,ke),ft},hn.prototype.setSeriesData=function(){this.getSeriesOrderByLinks().forEach(function(ke){ke.points||ke.data||!ke.enabledDataSorting||ke.setData(ke.options.data,!1)})},hn.prototype.getSeriesOrderByLinks=function(){return this.series.concat().sort(function(ke,ft){return ke.linkedSeries.length||ft.linkedSeries.length?ft.linkedSeries.length-ke.linkedSeries.length:0})},hn.prototype.orderSeries=function(ke){var ft=this.series;ke=ke||0;for(var It=ft.length;ke<It;++ke)ft[ke]&&(ft[ke].index=ke,ft[ke].name=ft[ke].getName())},hn.prototype.isInsidePlot=function(ke,ft,It){void 0===It&&(It={});var ct=this.inverted,jt=this.plotBox,nn=this.plotLeft,jn=this.plotTop,br=this.scrollablePlotBox,mr=0,Mr=0;It.visiblePlotOnly&&this.scrollingContainer&&(mr=(Mr=this.scrollingContainer).scrollLeft,Mr=Mr.scrollTop);var dr=It.series;if(jt=It.visiblePlotOnly&&br||jt,ke={x:br=It.inverted?ft:ke,y:ft=It.inverted?ke:ft,isInsidePlot:!0},!It.ignoreX){var zr=dr&&(ct?dr.yAxis:dr.xAxis)||{pos:nn,len:1/0};(br=It.paneCoordinates?zr.pos+br:nn+br)>=Math.max(mr+nn,zr.pos)&&br<=Math.min(mr+nn+jt.width,zr.pos+zr.len)||(ke.isInsidePlot=!1)}return!It.ignoreY&&ke.isInsidePlot&&(ct=dr&&(ct?dr.xAxis:dr.yAxis)||{pos:jn,len:1/0},(It=It.paneCoordinates?ct.pos+ft:jn+ft)>=Math.max(Mr+jn,ct.pos)&&It<=Math.min(Mr+jn+jt.height,ct.pos+ct.len)||(ke.isInsidePlot=!1)),ot(this,"afterIsInsidePlot",ke),ke.isInsidePlot},hn.prototype.redraw=function(ke){ot(this,"beforeRedraw");var ft=this.hasCartesianSeries?this.axes:this.colorAxis||[],It=this.series,ct=this.pointer,jt=this.legend,nn=this.userOptions.legend,jn=this.renderer,br=jn.isHidden(),mr=[],Mr=this.isDirtyBox,dr=this.isDirtyLegend;for(this.setResponsive&&this.setResponsive(!1),se(!!this.hasRendered&&ke,this),br&&this.temporaryDisplay(),this.layOutTitles(),ke=It.length;ke--;){var zr=It[ke];if(zr.options.stacking||zr.options.centerInCategory){var Pr=!0;if(zr.isDirty){var fn=!0;break}}}if(fn)for(ke=It.length;ke--;)(zr=It[ke]).options.stacking&&(zr.isDirty=!0);It.forEach(function(mt){mt.isDirty&&("point"===mt.options.legendType?("function"==typeof mt.updateTotals&&mt.updateTotals(),dr=!0):nn&&(nn.labelFormatter||nn.labelFormat)&&(dr=!0)),mt.isDirtyData&&ot(mt,"updatedData")}),dr&&jt&&jt.options.enabled&&(jt.render(),this.isDirtyLegend=!1),Pr&&this.getStacks(),ft.forEach(function(mt){mt.updateNames(),mt.setScale()}),this.getMargins(),ft.forEach(function(mt){mt.isDirty&&(Mr=!0)}),ft.forEach(function(mt){var Be=mt.min+","+mt.max;mt.extKey!==Be&&(mt.extKey=Be,mr.push(function(){ot(mt,"afterSetExtremes",Oe(mt.eventArgs,mt.getExtremes())),delete mt.eventArgs})),(Mr||Pr)&&mt.redraw()}),Mr&&this.drawChartBox(),ot(this,"predraw"),It.forEach(function(mt){(Mr||mt.isDirty)&&mt.visible&&mt.redraw(),mt.isDirtyData=!1}),ct&&ct.reset(!0),jn.draw(),ot(this,"redraw"),ot(this,"render"),br&&this.temporaryDisplay(!0),mr.forEach(function(mt){mt.call()})},hn.prototype.get=function(ke){function ft(nn){return nn.id===ke||nn.options&&nn.options.id===ke}for(var It=this.series,ct=$e(this.axes,ft)||$e(this.series,ft),jt=0;!ct&&jt<It.length;jt++)ct=$e(It[jt].points||[],ft);return ct},hn.prototype.getAxes=function(){var ke=this,ft=this.options,It=ft.xAxis=Nn(ft.xAxis||{});ft=ft.yAxis=Nn(ft.yAxis||{}),ot(this,"getAxes"),It.forEach(function(ct,jt){ct.index=jt,ct.isX=!0}),ft.forEach(function(ct,jt){ct.index=jt}),It.concat(ft).forEach(function(ct){new I(ke,ct)}),ot(this,"afterGetAxes")},hn.prototype.getSelectedPoints=function(){return this.series.reduce(function(ke,ft){return ft.getPointsCollection().forEach(function(It){Tt(It.selectedStaging,It.selected)&&ke.push(It)}),ke},[])},hn.prototype.getSelectedSeries=function(){return this.series.filter(function(ke){return ke.selected})},hn.prototype.setTitle=function(ke,ft,It){this.applyDescription("title",ke),this.applyDescription("subtitle",ft),this.applyDescription("caption",void 0),this.layOutTitles(It)},hn.prototype.applyDescription=function(ke,ft){var It=this,ct="title"===ke?{color:"#333333",fontSize:this.options.isStock?"16px":"18px"}:{color:"#666666"};ct=this.options[ke]=Ue(!this.styledMode&&{style:ct},this.options[ke],ft);var jt=this[ke];jt&&ft&&(this[ke]=jt=jt.destroy()),ct&&!jt&&((jt=this.renderer.text(ct.text,0,0,ct.useHTML).attr({align:ct.align,class:"highcharts-"+ke,zIndex:ct.zIndex||4}).add()).update=function(nn){It[{title:"setTitle",subtitle:"setSubtitle",caption:"setCaption"}[ke]](nn)},this.styledMode||jt.css(ct.style),this[ke]=jt)},hn.prototype.layOutTitles=function(ke){var ft=[0,0,0],It=this.renderer,ct=this.spacingBox;["title","subtitle","caption"].forEach(function(nn){var Mr,jn=this[nn],br=this.options[nn],mr=br.verticalAlign||"top";if(nn="title"===nn?"top"===mr?-3:0:"top"===mr?ft[0]+2:0,jn){this.styledMode||(Mr=br.style&&br.style.fontSize),Mr=It.fontMetrics(Mr,jn).b,jn.css({width:(br.width||ct.width+(br.widthAdjust||0))+"px"});var dr=Math.round(jn.getBBox(br.useHTML).height);jn.align(Oe({y:"bottom"===mr?Mr:nn+Mr,height:dr},br),!1,"spacingBox"),br.floating||("top"===mr?ft[0]=Math.ceil(ft[0]+dr):"bottom"===mr&&(ft[2]=Math.ceil(ft[2]+dr)))}},this),ft[0]&&"top"===(this.options.title.verticalAlign||"top")&&(ft[0]+=this.options.title.margin),ft[2]&&"bottom"===this.options.caption.verticalAlign&&(ft[2]+=this.options.caption.margin);var jt=!this.titleOffset||this.titleOffset.join(",")!==ft.join(",");this.titleOffset=ft,ot(this,"afterLayOutTitles"),!this.isDirtyBox&&jt&&(this.isDirtyBox=this.isDirtyLegend=jt,this.hasRendered&&Tt(ke,!0)&&this.isDirtyBox&&this.redraw())},hn.prototype.getChartSize=function(){var ke=this.options.chart,ft=ke.width;ke=ke.height;var It=this.renderTo;Te(ft)||(this.containerWidth=at(It,"width")),Te(ke)||(this.containerHeight=at(It,"height")),this.chartWidth=Math.max(0,ft||this.containerWidth||600),this.chartHeight=Math.max(0,$t(ke,this.chartWidth)||(1<this.containerHeight?this.containerHeight:400))},hn.prototype.temporaryDisplay=function(ke){var ft=this.renderTo;if(ke)for(;ft&&ft.style;)ft.hcOrigStyle&&(We(ft,ft.hcOrigStyle),delete ft.hcOrigStyle),ft.hcOrigDetached&&(Q.body.removeChild(ft),ft.hcOrigDetached=!1),ft=ft.parentNode;else for(;ft&&ft.style&&(Q.body.contains(ft)||ft.parentNode||(ft.hcOrigDetached=!0,Q.body.appendChild(ft)),("none"===at(ft,"display",!1)||ft.hcOricDetached)&&(ft.hcOrigStyle={display:ft.style.display,height:ft.style.height,overflow:ft.style.overflow},ke={display:"block",overflow:"hidden"},ft!==this.renderTo&&(ke.height=0),We(ft,ke),ft.offsetWidth||ft.style.setProperty("display","block","important")),(ft=ft.parentNode)!==Q.body););},hn.prototype.setClassName=function(ke){this.container.className="highcharts-container "+(ke||"")},hn.prototype.getContainer=function(){var ct,ke=this.options,ft=ke.chart,It=yn(),jt=this.renderTo;jt||(this.renderTo=jt=ft.renderTo),Ee(jt)&&(this.renderTo=jt=Q.getElementById(jt)),jt||ne(13,!0,this);var nn=Ft(De(jt,"data-highcharts-chart"));be(nn)&&L[nn]&&L[nn].hasRendered&&L[nn].destroy(),De(jt,"data-highcharts-chart",this.index),jt.innerHTML=ye.emptyHTML,ft.skipClone||jt.offsetWidth||this.temporaryDisplay(),this.getChartSize(),nn=this.chartWidth;var jn=this.chartHeight;if(We(jt,{overflow:"hidden"}),this.styledMode||(ct=Oe({position:"relative",overflow:"hidden",width:nn+"px",height:jn+"px",textAlign:"left",lineHeight:"normal",zIndex:0,"-webkit-tap-highlight-color":"rgba(0,0,0,0)",userSelect:"none","touch-action":"manipulation",outline:"none"},ft.style||{})),this.container=It=dt("div",{id:It},ct,jt),this._cursor=It.style.cursor,this.renderer=new(ft.renderer||!P?xe.getRendererType(ft.renderer):de)(It,nn,jn,void 0,ft.forExport,ke.exporting&&ke.exporting.allowHTML,this.styledMode),se(void 0,this),this.setClassName(ft.className),this.styledMode)for(var br in ke.defs)this.renderer.definition(ke.defs[br]);else this.renderer.setStyle(ft.style);this.renderer.chartIndex=this.index,ot(this,"afterGetContainer")},hn.prototype.getMargins=function(ke){var ft=this.spacing,It=this.margin,ct=this.titleOffset;this.resetMargins(),ct[0]&&!Te(It[0])&&(this.plotTop=Math.max(this.plotTop,ct[0]+ft[0])),ct[2]&&!Te(It[2])&&(this.marginBottom=Math.max(this.marginBottom,ct[2]+ft[2])),this.legend&&this.legend.display&&this.legend.adjustMargins(It,ft),ot(this,"getMargins"),ke||this.getAxisMargins()},hn.prototype.getAxisMargins=function(){var ke=this,ft=ke.axisOffset=[0,0,0,0],It=ke.colorAxis,ct=ke.margin,jt=function(nn){nn.forEach(function(jn){jn.visible&&jn.getOffset()})};ke.hasCartesianSeries?jt(ke.axes):It&&It.length&&jt(It),re.forEach(function(nn,jn){Te(ct[jn])||(ke[nn]+=ft[jn])}),ke.setChartSize()},hn.prototype.reflow=function(ke){var ft=this,It=ft.options.chart,ct=ft.renderTo,jt=Te(It.width)&&Te(It.height),nn=It.width||at(ct,"width");It=It.height||at(ct,"height"),ct=ke?ke.target:G,delete ft.pointer.chartPosition,!jt&&!ft.isPrinting&&nn&&It&&(ct===G||ct===Q)&&((nn!==ft.containerWidth||It!==ft.containerHeight)&&(fe.clearTimeout(ft.reflowTimeout),ft.reflowTimeout=$n(function(){ft.container&&ft.setSize(void 0,void 0,!1)},ke?100:0)),ft.containerWidth=nn,ft.containerHeight=It)},hn.prototype.setReflow=function(ke){var ft=this;!1===ke||this.unbindReflow?!1===ke&&this.unbindReflow&&(this.unbindReflow=this.unbindReflow()):(this.unbindReflow=z(G,"resize",function(It){ft.options&&ft.reflow(It)}),z(this,"destroy",this.unbindReflow))},hn.prototype.setSize=function(ke,ft,It){var ct=this,jt=ct.renderer;ct.isResizing+=1,se(It,ct),It=jt.globalAnimation,ct.oldChartHeight=ct.chartHeight,ct.oldChartWidth=ct.chartWidth,void 0!==ke&&(ct.options.chart.width=ke),void 0!==ft&&(ct.options.chart.height=ft),ct.getChartSize(),ct.styledMode||(It?Se:We)(ct.container,{width:ct.chartWidth+"px",height:ct.chartHeight+"px"},It),ct.setChartSize(!0),jt.setSize(ct.chartWidth,ct.chartHeight,It),ct.axes.forEach(function(nn){nn.isDirty=!0,nn.setScale()}),ct.isDirtyLegend=!0,ct.isDirtyBox=!0,ct.layOutTitles(),ct.getMargins(),ct.redraw(It),ct.oldChartHeight=null,ot(ct,"resize"),$n(function(){ct&&ot(ct,"endResize",null,function(){--ct.isResizing})},oe(It).duration)},hn.prototype.setChartSize=function(ke){var mr,Mr,dr,zr,ft=this.inverted,It=this.renderer,ct=this.chartWidth,jt=this.chartHeight,nn=this.options.chart,jn=this.spacing,br=this.clipOffset;this.plotLeft=mr=Math.round(this.plotLeft),this.plotTop=Mr=Math.round(this.plotTop),this.plotWidth=dr=Math.max(0,Math.round(ct-mr-this.marginRight)),this.plotHeight=zr=Math.max(0,Math.round(jt-Mr-this.marginBottom)),this.plotSizeX=ft?zr:dr,this.plotSizeY=ft?dr:zr,this.plotBorderWidth=nn.plotBorderWidth||0,this.spacingBox=It.spacingBox={x:jn[3],y:jn[0],width:ct-jn[3]-jn[1],height:jt-jn[0]-jn[2]},this.plotBox=It.plotBox={x:mr,y:Mr,width:dr,height:zr},ft=2*Math.floor(this.plotBorderWidth/2),ct=Math.ceil(Math.max(ft,br[3])/2),jt=Math.ceil(Math.max(ft,br[0])/2),this.clipBox={x:ct,y:jt,width:Math.floor(this.plotSizeX-Math.max(ft,br[1])/2-ct),height:Math.max(0,Math.floor(this.plotSizeY-Math.max(ft,br[2])/2-jt))},ke||(this.axes.forEach(function(Pr){Pr.setAxisSize(),Pr.setAxisTranslation()}),It.alignElements()),ot(this,"afterSetChartSize",{skipAxes:ke})},hn.prototype.resetMargins=function(){ot(this,"resetMargins");var ke=this,ft=ke.options.chart;["margin","spacing"].forEach(function(It){var ct=ft[It],jt=J(ct)?ct:[ct,ct,ct,ct];["Top","Right","Bottom","Left"].forEach(function(nn,jn){ke[It][jn]=Tt(ft[It+nn],jt[jn])})}),re.forEach(function(It,ct){ke[It]=Tt(ke.margin[ct],ke.spacing[ct])}),ke.axisOffset=[0,0,0,0],ke.clipOffset=[0,0,0,0]},hn.prototype.drawChartBox=function(){var pn,ke=this.options.chart,ft=this.renderer,It=this.chartWidth,ct=this.chartHeight,jt=this.styledMode,nn=this.plotBGImage,jn=ke.backgroundColor,br=ke.plotBackgroundColor,mr=ke.plotBackgroundImage,Mr=this.plotLeft,dr=this.plotTop,zr=this.plotWidth,Pr=this.plotHeight,fn=this.plotBox,mt=this.clipRect,Be=this.clipBox,et=this.chartBackground,ht=this.plotBackground,Nt=this.plotBorder,Mn="animate";if(et||(this.chartBackground=et=ft.rect().addClass("highcharts-background").add(),Mn="attr"),jt)var xr=pn=et.strokeWidth();else pn=(xr=ke.borderWidth||0)+(ke.shadow?8:0),jn={fill:jn||"none"},(xr||et["stroke-width"])&&(jn.stroke=ke.borderColor,jn["stroke-width"]=xr),et.attr(jn).shadow(ke.shadow);et[Mn]({x:pn/2,y:pn/2,width:It-pn-xr%2,height:ct-pn-xr%2,r:ke.borderRadius}),Mn="animate",ht||(Mn="attr",this.plotBackground=ht=ft.rect().addClass("highcharts-plot-background").add()),ht[Mn](fn),jt||(ht.attr({fill:br||"none"}).shadow(ke.plotShadow),mr&&(nn?(mr!==nn.attr("href")&&nn.attr("href",mr),nn.animate(fn)):this.plotBGImage=ft.image(mr,Mr,dr,zr,Pr).add())),mt?mt.animate({width:Be.width,height:Be.height}):this.clipRect=ft.clipRect(Be),Mn="animate",Nt||(Mn="attr",this.plotBorder=Nt=ft.rect().addClass("highcharts-plot-border").attr({zIndex:1}).add()),jt||Nt.attr({stroke:ke.plotBorderColor,"stroke-width":ke.plotBorderWidth||0,fill:"none"}),Nt[Mn](Nt.crisp({x:Mr,y:dr,width:zr,height:Pr},-Nt.strokeWidth())),this.isDirtyBox=!1,ot(this,"afterDrawChartBox")},hn.prototype.propFromSeries=function(){var ct,jt,nn,ke=this,ft=ke.options.chart,It=ke.options.series;["inverted","angular","polar"].forEach(function(jn){for(jt=R[ft.type||ft.defaultSeriesType],nn=ft[jn]||jt&&jt.prototype[jn],ct=It&&It.length;!nn&&ct--;)(jt=R[It[ct].type])&&jt.prototype[jn]&&(nn=!0);ke[jn]=nn})},hn.prototype.linkSeries=function(){var ke=this,ft=ke.series;ft.forEach(function(It){It.linkedSeries.length=0}),ft.forEach(function(It){var ct=It.options.linkedTo;Ee(ct)&&(ct=":previous"===ct?ke.series[It.index-1]:ke.get(ct))&&ct.linkedParent!==It&&(ct.linkedSeries.push(It),It.linkedParent=ct,ct.enabledDataSorting&&It.setDataSortingOptions(),It.visible=Tt(It.options.visible,ct.options.visible,It.visible))}),ot(this,"afterLinkSeries")},hn.prototype.renderSeries=function(){this.series.forEach(function(ke){ke.translate(),ke.render()})},hn.prototype.renderLabels=function(){var ke=this,ft=ke.options.labels;ft.items&&ft.items.forEach(function(It){var ct=Oe(ft.style,It.style),jt=Ft(ct.left)+ke.plotLeft,nn=Ft(ct.top)+ke.plotTop+12;delete ct.left,delete ct.top,ke.renderer.text(It.html,jt,nn).attr({zIndex:2}).css(ct).add()})},hn.prototype.render=function(){var ke=this.axes,ft=this.colorAxis,It=this.renderer,ct=this.options,jt=function(Mr){Mr.forEach(function(dr){dr.visible&&dr.render()})},nn=0;this.setTitle(),this.legend=new ze(this,ct.legend),this.getStacks&&this.getStacks(),this.getMargins(!0),this.setChartSize(),ct=this.plotWidth,ke.some(function(Mr){if(Mr.horiz&&Mr.visible&&Mr.options.labels.enabled&&Mr.series.length)return nn=21,!0});var jn=this.plotHeight=Math.max(this.plotHeight-nn,0);ke.forEach(function(Mr){Mr.setScale()}),this.getAxisMargins();var br=1.1<ct/this.plotWidth,mr=1.05<jn/this.plotHeight;(br||mr)&&(ke.forEach(function(Mr){(Mr.horiz&&br||!Mr.horiz&&mr)&&Mr.setTickInterval(!0)}),this.getMargins()),this.drawChartBox(),this.hasCartesianSeries?jt(ke):ft&&ft.length&&jt(ft),this.seriesGroup||(this.seriesGroup=It.g("series-group").attr({zIndex:3}).add()),this.renderSeries(),this.renderLabels(),this.addCredits(),this.setResponsive&&this.setResponsive(),this.hasRendered=!0},hn.prototype.addCredits=function(ke){var ft=this,It=Ue(!0,this.options.credits,ke);It.enabled&&!this.credits&&(this.credits=this.renderer.text(It.text+(this.mapCredits||""),0,0).addClass("highcharts-credits").on("click",function(){It.href&&(G.location.href=It.href)}).attr({align:It.position.align,zIndex:8}),ft.styledMode||this.credits.css(It.style),this.credits.add().align(It.position),this.credits.update=function(ct){ft.credits=ft.credits.destroy(),ft.addCredits(ct)})},hn.prototype.destroy=function(){var nn,ke=this,ft=ke.axes,It=ke.series,ct=ke.container,jt=ct&&ct.parentNode;for(ot(ke,"destroy"),ke.renderer.forExport?Z(L,ke):L[ke.index]=void 0,nt.chartCount--,ke.renderTo.removeAttribute("data-highcharts-chart"),vn(ke),nn=ft.length;nn--;)ft[nn]=ft[nn].destroy();for(this.scroller&&this.scroller.destroy&&this.scroller.destroy(),nn=It.length;nn--;)It[nn]=It[nn].destroy();"title subtitle chartBackground plotBackground plotBGImage plotBorder seriesGroup clipRect credits pointer rangeSelector legend resetZoomButton tooltip renderer".split(" ").forEach(function(jn){var br=ke[jn];br&&br.destroy&&(ke[jn]=br.destroy())}),ct&&(ct.innerHTML=ye.emptyHTML,vn(ct),jt&&Je(ct)),lt(ke,function(jn,br){delete ke[br]})},hn.prototype.firstRender=function(){var ke=this,ft=ke.options;(!ke.isReadyToRender||ke.isReadyToRender())&&(ke.getContainer(),ke.resetMargins(),ke.setChartSize(),ke.propFromSeries(),ke.getAxes(),(j(ft.series)?ft.series:[]).forEach(function(It){ke.initSeries(It)}),ke.linkSeries(),ke.setSeriesData(),ot(ke,"beforeRender"),He&&(ke.pointer=qe.isRequired()?new qe(ke,ft):new He(ke,ft)),ke.render(),ke.pointer.getChartPosition(),!ke.renderer.imgCount&&!ke.hasLoaded&&ke.onload(),ke.temporaryDisplay(!0))},hn.prototype.onload=function(){this.callbacks.concat([this.callback]).forEach(function(ke){ke&&void 0!==this.index&&ke.apply(this,[this])},this),ot(this,"load"),ot(this,"render"),Te(this.index)&&this.setReflow(this.options.chart.reflow),this.warnIfA11yModuleNotLoaded(),this.hasLoaded=!0},hn.prototype.warnIfA11yModuleNotLoaded=function(){var ke=this;setTimeout(function(){var ft=ke&&ke.options;!ft||ke.accessibility||ft.accessibility&&!1===ft.accessibility.enabled||ne('Highcharts warning: Consider including the "accessibility.js" module to make your chart more usable for people with disabilities. Set the "accessibility.enabled" option to false to remove this warning. See https://www.highcharts.com/docs/accessibility/accessibility-module.',!1,ke)},100)},hn.prototype.addSeries=function(ke,ft,It){var jt,ct=this;return ke&&(ft=Tt(ft,!0),ot(ct,"addSeries",{options:ke},function(){jt=ct.initSeries(ke),ct.isDirtyLegend=!0,ct.linkSeries(),jt.enabledDataSorting&&jt.setData(ke.data,!1),ot(ct,"afterAddSeries",{series:jt}),ft&&ct.redraw(It)})),jt},hn.prototype.addAxis=function(ke,ft,It,ct){return this.createAxis(ft?"xAxis":"yAxis",{axis:ke,redraw:It,animation:ct})},hn.prototype.addColorAxis=function(ke,ft,It){return this.createAxis("colorAxis",{axis:ke,redraw:ft,animation:It})},hn.prototype.createAxis=function(ke,ft){return ke=new I(this,Ue(ft.axis,{index:this[ke].length,isX:"xAxis"===ke})),Tt(ft.redraw,!0)&&this.redraw(ft.animation),ke},hn.prototype.showLoading=function(ke){var ft=this,It=ft.options,ct=It.loading,jt=function(){nn&&We(nn,{left:ft.plotLeft+"px",top:ft.plotTop+"px",width:ft.plotWidth+"px",height:ft.plotHeight+"px"})},nn=ft.loadingDiv,jn=ft.loadingSpan;nn||(ft.loadingDiv=nn=dt("div",{className:"highcharts-loading highcharts-loading-hidden"},null,ft.container)),jn||(ft.loadingSpan=jn=dt("span",{className:"highcharts-loading-inner"},null,nn),z(ft,"redraw",jt)),nn.className="highcharts-loading",ye.setElementHTML(jn,Tt(ke,It.lang.loading,"")),ft.styledMode||(We(nn,Oe(ct.style,{zIndex:10})),We(jn,ct.labelStyle),ft.loadingShown||(We(nn,{opacity:0,display:""}),Se(nn,{opacity:ct.style.opacity||.5},{duration:ct.showDuration||0}))),ft.loadingShown=!0,jt()},hn.prototype.hideLoading=function(){var ke=this.options,ft=this.loadingDiv;ft&&(ft.className="highcharts-loading highcharts-loading-hidden",this.styledMode||Se(ft,{opacity:0},{duration:ke.loading.hideDuration||100,complete:function(){We(ft,{display:"none"})}})),this.loadingShown=!1},hn.prototype.update=function(ke,ft,It,ct){var mr,Mr,jt=this,nn={credits:"addCredits",title:"setTitle",subtitle:"setSubtitle",caption:"setCaption"},jn=ke.isResponsiveOptions,br=[];ot(jt,"update",{options:ke}),jn||jt.setResponsive(!1,!0),ke=Ke(ke,jt.options),jt.userOptions=Ue(jt.userOptions,ke);var dr=ke.chart;if(dr){if(Ue(!0,jt.options.chart,dr),"className"in dr&&jt.setClassName(dr.className),"reflow"in dr&&jt.setReflow(dr.reflow),"inverted"in dr||"polar"in dr||"type"in dr){jt.propFromSeries();var zr=!0}"alignTicks"in dr&&(zr=!0),"events"in dr&&Ce(this,dr),lt(dr,function(Pr,fn){-1!==jt.propsRequireUpdateSeries.indexOf("chart."+fn)&&(mr=!0),-1!==jt.propsRequireDirtyBox.indexOf(fn)&&(jt.isDirtyBox=!0),-1!==jt.propsRequireReflow.indexOf(fn)&&(jn?jt.isDirtyBox=!0:Mr=!0)}),!jt.styledMode&&dr.style&&jt.renderer.setStyle(jt.options.chart.style||{})}!jt.styledMode&&ke.colors&&(this.options.colors=ke.colors),ke.time&&(this.time===ae&&(this.time=new W(ke.time)),Ue(!0,jt.options.time,ke.time)),lt(ke,function(Pr,fn){jt[fn]&&"function"==typeof jt[fn].update?jt[fn].update(Pr,!1):"function"==typeof jt[nn[fn]]?jt[nn[fn]](Pr):"colors"!==fn&&-1===jt.collectionsWithUpdate.indexOf(fn)&&Ue(!0,jt.options[fn],ke[fn]),"chart"!==fn&&-1!==jt.propsRequireUpdateSeries.indexOf(fn)&&(mr=!0)}),this.collectionsWithUpdate.forEach(function(Pr){if(ke[Pr]){var fn=[];jt[Pr].forEach(function(mt,Be){mt.options.isInternal||fn.push(Tt(mt.options.index,Be))}),Nn(ke[Pr]).forEach(function(mt,Be){var ht,et=Te(mt.id);et&&(ht=jt.get(mt.id)),!ht&&jt[Pr]&&(ht=jt[Pr][fn?fn[Be]:Be])&&et&&Te(ht.options.id)&&(ht=void 0),ht&&ht.coll===Pr&&(ht.update(mt,!1),It&&(ht.touched=!0)),!ht&&It&&jt.collectionsWithInit[Pr]&&(jt.collectionsWithInit[Pr][0].apply(jt,[mt].concat(jt.collectionsWithInit[Pr][1]||[]).concat([!1])).touched=!0)}),It&&jt[Pr].forEach(function(mt){mt.touched||mt.options.isInternal?delete mt.touched:br.push(mt)})}}),br.forEach(function(Pr){Pr.chart&&Pr.remove&&Pr.remove(!1)}),zr&&jt.axes.forEach(function(Pr){Pr.update({},!1)}),mr&&jt.getSeriesOrderByLinks().forEach(function(Pr){Pr.chart&&Pr.update({},!1)},this),zr=dr&&dr.width,dr=dr&&(Ee(dr.height)?$t(dr.height,zr||jt.chartWidth):dr.height),Mr||be(zr)&&zr!==jt.chartWidth||be(dr)&&dr!==jt.chartHeight?jt.setSize(zr,dr,ct):Tt(ft,!0)&&jt.redraw(ct),ot(jt,"afterUpdate",{options:ke,redraw:ft,animation:ct})},hn.prototype.setSubtitle=function(ke,ft){this.applyDescription("subtitle",ke),this.layOutTitles(ft)},hn.prototype.setCaption=function(ke,ft){this.applyDescription("caption",ke),this.layOutTitles(ft)},hn.prototype.showResetZoom=function(){function ke(){ft.zoomOut()}var ft=this,It=F.lang,ct=ft.options.chart.resetZoomButton,jt=ct.theme,nn="chart"===ct.relativeTo||"spacingBox"===ct.relativeTo?null:"scrollablePlotBox";ot(this,"beforeShowResetZoom",null,function(){ft.resetZoomButton=ft.renderer.button(It.resetZoom,null,null,ke,jt).attr({align:ct.position.align,title:It.resetZoomTitle}).addClass("highcharts-reset-zoom").add().align(ct.position,!1,nn)}),ot(this,"afterShowResetZoom")},hn.prototype.zoomOut=function(){ot(this,"selection",{resetSelection:!0},this.zoom)},hn.prototype.zoom=function(ke){var nn,ft=this,It=ft.pointer,ct=ft.inverted?It.mouseDownX:It.mouseDownY,jt=!1;!ke||ke.resetSelection?(ft.axes.forEach(function(br){nn=br.zoom()}),It.initiated=!1):ke.xAxis.concat(ke.yAxis).forEach(function(br){var mr=br.axis,Mr=ft.inverted?mr.left:mr.top,zr=mr.isXAxis,Pr=!1;(!zr&&ct>=Mr&&ct<=(ft.inverted?Mr+mr.width:Mr+mr.height)||zr||!Te(ct))&&(Pr=!0),It[zr?"zoomX":"zoomY"]&&Pr&&(nn=mr.zoom(br.min,br.max),mr.displayBtn&&(jt=!0))});var jn=ft.resetZoomButton;jt&&!jn?ft.showResetZoom():!jt&&J(jn)&&(ft.resetZoomButton=jn.destroy()),nn&&ft.redraw(Tt(ft.options.chart.animation,ke&&ke.animation,100>ft.pointCount))},hn.prototype.pan=function(ke,ft){var It=this,ct=It.hoverPoints;ft="object"==typeof ft?ft:{enabled:ft,type:"x"};var jt=It.options.chart,nn=It.options.mapNavigation&&It.options.mapNavigation.enabled;jt&&jt.panning&&(jt.panning=ft);var br,jn=ft.type;ot(this,"pan",{originalEvent:ke},function(){ct&&ct.forEach(function(dr){dr.setState()});var mr=It.xAxis;"xy"===jn?mr=mr.concat(It.yAxis):"y"===jn&&(mr=It.yAxis);var Mr={};mr.forEach(function(dr){if(dr.options.panningEnabled&&!dr.options.isInternal){var zr=dr.horiz,Pr=ke[zr?"chartX":"chartY"],fn=It[zr=zr?"mouseDownX":"mouseDownY"],mt=dr.minPointOffset||0,Be=dr.reversed&&!It.inverted||!dr.reversed&&It.inverted?-1:1,et=dr.getExtremes(),ht=dr.toValue(fn-Pr,!0)+mt*Be,Nt=dr.toValue(fn+dr.len-Pr,!0)-(mt*Be||dr.isXAxis&&dr.pointRangePadding||0),pn=Nt<ht;Be=dr.hasVerticalPanning(),fn=pn?Nt:ht,ht=pn?ht:Nt;var Mn=dr.panningState;!Be||dr.isXAxis||Mn&&!Mn.isDirty||dr.series.forEach(function(xr){var Dr=xr.getProcessedData(!0);Dr=xr.getExtremes(Dr.yData,!0),Mn||(Mn={startMin:Number.MAX_VALUE,startMax:-Number.MAX_VALUE}),be(Dr.dataMin)&&be(Dr.dataMax)&&(Mn.startMin=Math.min(Tt(xr.options.threshold,1/0),Dr.dataMin,Mn.startMin),Mn.startMax=Math.max(Tt(xr.options.threshold,-1/0),Dr.dataMax,Mn.startMax))}),Be=Math.min(Tt(Mn&&Mn.startMin,et.dataMin),mt?et.min:dr.toValue(dr.toPixels(et.min)-dr.minPixelPadding)),Nt=Math.max(Tt(Mn&&Mn.startMax,et.dataMax),mt?et.max:dr.toValue(dr.toPixels(et.max)+dr.minPixelPadding)),dr.panningState=Mn,dr.isOrdinal||(0<(mt=Be-fn)&&(ht+=mt,fn=Be),0<(mt=ht-Nt)&&(ht=Nt,fn-=mt),dr.series.length&&fn!==et.min&&ht!==et.max&&fn>=Be&&ht<=Nt&&(dr.setExtremes(fn,ht,!1,!1,{trigger:"pan"}),It.resetZoomButton||nn||fn===Be||ht===Nt||!jn.match("y")||(It.showResetZoom(),dr.displayBtn=!1),br=!0),Mr[zr]=Pr)}}),lt(Mr,function(dr,zr){It[zr]=dr}),br&&It.redraw(!1),We(It.container,{cursor:"move"})})},hn}(),Oe(Ne.prototype,{callbacks:[],collectionsWithInit:{xAxis:[Ne.prototype.addAxis,[!0]],yAxis:[Ne.prototype.addAxis,[!1]],series:[Ne.prototype.addSeries]},collectionsWithUpdate:["xAxis","yAxis","series"],propsRequireDirtyBox:"backgroundColor borderColor borderWidth borderRadius plotBackgroundColor plotBackgroundImage plotBorderColor plotBorderWidth plotShadow shadow".split(" "),propsRequireReflow:"margin marginTop marginRight marginBottom marginLeft spacing spacingTop spacingRight spacingBottom spacingLeft".split(" "),propsRequireUpdateSeries:"chart.inverted chart.polar chart.ignoreHiddenSeries chart.type colors plotOptions time tooltip".split(" ")}),Ne}),it(ve,"Core/Legend/LegendSymbol.js",[ve["Core/Utilities.js"]],function(Ne){var Qe,nt,I=Ne.merge,tt=Ne.pick;return(nt=Qe||(Qe={})).drawLineMarker=function(ze){var qe=this.options,Fe=ze.symbolWidth,He=ze.symbolHeight,xe=He/2,we=this.chart.renderer,de=this.legendGroup;ze=ze.baseline-Math.round(.3*ze.fontMetrics.b);var W={},fe=qe.marker;this.chart.styledMode||(W={"stroke-width":qe.lineWidth||0},qe.dashStyle&&(W.dashstyle=qe.dashStyle)),this.legendLine=we.path([["M",0,ze],["L",Fe,ze]]).addClass("highcharts-graph").attr(W).add(de),fe&&!1!==fe.enabled&&Fe&&(qe=Math.min(tt(fe.radius,xe),xe),0===this.symbol.indexOf("url")&&(fe=I(fe,{width:He,height:He}),qe=0),this.legendSymbol=Fe=we.symbol(this.symbol,Fe/2-qe,ze-qe,2*qe,2*qe,fe).addClass("highcharts-point").add(de),Fe.isMarker=!0)},nt.drawRectangle=function(ze,qe){var Fe=ze.symbolHeight,He=ze.options.squareSymbol;qe.legendSymbol=this.chart.renderer.rect(He?(ze.symbolWidth-Fe)/2:0,ze.baseline-Fe+1,He?Fe:ze.symbolWidth,Fe,tt(ze.options.symbolRadius,Fe/2)).addClass("highcharts-point").attr({zIndex:3}).add(qe.legendGroup)},Qe}),it(ve,"Core/Series/SeriesDefaults.js",[],function(){return{lineWidth:2,allowPointSelect:!1,crisp:!0,showCheckbox:!1,animation:{duration:1e3},events:{},marker:{enabledThreshold:2,lineColor:"#ffffff",lineWidth:0,radius:4,states:{normal:{animation:!0},hover:{animation:{duration:50},enabled:!0,radiusPlus:2,lineWidthPlus:1},select:{fillColor:"#cccccc",lineColor:"#000000",lineWidth:2}}},point:{events:{}},dataLabels:{animation:{},align:"center",defer:!0,formatter:function(){return"number"!=typeof this.y?"":(0,this.series.chart.numberFormatter)(this.y,-1)},padding:5,style:{fontSize:"11px",fontWeight:"bold",color:"contrast",textOutline:"1px contrast"},verticalAlign:"bottom",x:0,y:0},cropThreshold:300,opacity:1,pointRange:0,softThreshold:!0,states:{normal:{animation:!0},hover:{animation:{duration:50},lineWidthPlus:1,marker:{},halo:{size:10,opacity:.25}},select:{animation:{duration:0}},inactive:{animation:{duration:50},opacity:.2}},stickyTracking:!0,turboThreshold:1e3,findNearestPointBy:"x"}}),it(ve,"Core/Series/Series.js",[ve["Core/Animation/AnimationUtilities.js"],ve["Core/DefaultOptions.js"],ve["Core/Foundation.js"],ve["Core/Globals.js"],ve["Core/Legend/LegendSymbol.js"],ve["Core/Series/Point.js"],ve["Core/Series/SeriesDefaults.js"],ve["Core/Series/SeriesRegistry.js"],ve["Core/Renderer/SVG/SVGElement.js"],ve["Core/Utilities.js"]],function(Ne,I,tt,Qe,nt,ze,qe,Fe,He,xe){var we=Ne.animObject,de=Ne.setAnimation,W=I.defaultOptions,fe=tt.registerEventOptions,ye=Qe.hasTouch,Se=Qe.svg,oe=Qe.win,se=Fe.seriesTypes,pe=xe.addEvent,Ce=xe.arrayMax,L=xe.arrayMin,Q=xe.clamp,re=xe.cleanRecursively,P=xe.correctFloat,G=xe.defined,F=xe.erase,ae=xe.error,R=xe.extend,z=xe.find,De=xe.fireEvent,Ke=xe.getNestedProperty,dt=xe.isArray,We=xe.isNumber,Te=xe.isString,Je=xe.merge,Z=xe.objectEach,ne=xe.pick,Oe=xe.removeEvent,$e=xe.splat,ot=xe.syncTimeout;return Ne=function(){function at(){this.zones=this.yAxis=this.xAxis=this.userOptions=this.tooltipOptions=this.processedYData=this.processedXData=this.points=this.options=this.linkedSeries=this.index=this.eventsToUnbind=this.eventOptions=this.data=this.chart=this._i=void 0}return at.prototype.init=function(j,be){De(this,"init",{options:be});var J=this,Ee=j.series;this.eventsToUnbind=[],J.chart=j,J.options=J.setOptions(be),be=J.options,J.linkedSeries=[],J.bindAxes(),R(J,{name:be.name,state:"",visible:!1!==be.visible,selected:!0===be.selected}),fe(this,be);var lt,Ue=be.events;(Ue&&Ue.click||be.point&&be.point.events&&be.point.events.click||be.allowPointSelect)&&(j.runTrackerClick=!0),J.getColor(),J.getSymbol(),J.parallelArrays.forEach(function(Tt){J[Tt+"Data"]||(J[Tt+"Data"]=[])}),J.isCartesian&&(j.hasCartesianSeries=!0),Ee.length&&(lt=Ee[Ee.length-1]),J._i=ne(lt&&lt._i,-1)+1,J.opacity=J.options.opacity,j.orderSeries(this.insert(Ee)),be.dataSorting&&be.dataSorting.enabled?J.setDataSortingOptions():J.points||J.data||J.setData(be.data,!1),De(this,"afterInit")},at.prototype.is=function(j){return se[j]&&this instanceof se[j]},at.prototype.insert=function(j){var J,be=this.options.index;if(We(be)){for(J=j.length;J--;)if(be>=ne(j[J].options.index,j[J]._i)){j.splice(J+1,0,this);break}-1===J&&j.unshift(this),J+=1}else j.push(this);return ne(J,j.length-1)},at.prototype.bindAxes=function(){var Ee,j=this,be=j.options,J=j.chart;De(this,"bindAxes",null,function(){(j.axisTypes||[]).forEach(function(Ue){var lt=0;J[Ue].forEach(function(Tt){Ee=Tt.options,(be[Ue]===lt&&!Ee.isInternal||void 0!==be[Ue]&&be[Ue]===Ee.id||void 0===be[Ue]&&0===Ee.index)&&(j.insert(Tt.series),j[Ue]=Tt,Tt.isDirty=!0),Ee.isInternal||lt++}),j[Ue]||j.optionalAxis===Ue||ae(18,!0,J)})}),De(this,"afterBindAxes")},at.prototype.updateParallelArrays=function(j,be){var J=j.series,Ee=arguments,Ue=We(be)?function(lt){var Tt="y"===lt&&J.toYData?J.toYData(j):j[lt];J[lt+"Data"][be]=Tt}:function(lt){Array.prototype[be].apply(J[lt+"Data"],Array.prototype.slice.call(Ee,2))};J.parallelArrays.forEach(Ue)},at.prototype.hasData=function(){return this.visible&&void 0!==this.dataMax&&void 0!==this.dataMin||this.visible&&this.yData&&0<this.yData.length},at.prototype.autoIncrement=function(j){var Tt,be=this.options,J=be.pointIntervalUnit,Ee=be.relativeXValue,Ue=this.chart.time,lt=this.xIncrement;return lt=ne(lt,be.pointStart,0),this.pointInterval=Tt=ne(this.pointInterval,be.pointInterval,1),Ee&&We(j)&&(Tt*=j),J&&(be=new Ue.Date(lt),"day"===J?Ue.set("Date",be,Ue.get("Date",be)+Tt):"month"===J?Ue.set("Month",be,Ue.get("Month",be)+Tt):"year"===J&&Ue.set("FullYear",be,Ue.get("FullYear",be)+Tt),Tt=be.getTime()-lt),Ee&&We(j)?lt+Tt:(this.xIncrement=lt+Tt,lt)},at.prototype.setDataSortingOptions=function(){var j=this.options;R(this,{requireSorting:!1,sorted:!1,enabledDataSorting:!0,allowDG:!1}),G(j.pointRange)||(j.pointRange=1)},at.prototype.setOptions=function(j){var be=this.chart,J=be.options,Ee=J.plotOptions,Ue=be.userOptions||{};j=Je(j),be=be.styledMode;var lt={plotOptions:Ee,userOptions:j};De(this,"setOptions",lt);var Tt=lt.plotOptions[this.type],Ft=Ue.plotOptions||{};return this.userOptions=lt.userOptions,Ue=Je(Tt,Ee.series,Ue.plotOptions&&Ue.plotOptions[this.type],j),this.tooltipOptions=Je(W.tooltip,W.plotOptions.series&&W.plotOptions.series.tooltip,W.plotOptions[this.type].tooltip,J.tooltip.userOptions,Ee.series&&Ee.series.tooltip,Ee[this.type].tooltip,j.tooltip),this.stickyTracking=ne(j.stickyTracking,Ft[this.type]&&Ft[this.type].stickyTracking,Ft.series&&Ft.series.stickyTracking,!(!this.tooltipOptions.shared||this.noSharedTooltip)||Ue.stickyTracking),null===Tt.marker&&delete Ue.marker,this.zoneAxis=Ue.zoneAxis,Ee=this.zones=(Ue.zones||[]).slice(),!Ue.negativeColor&&!Ue.negativeFillColor||Ue.zones||(J={value:Ue[this.zoneAxis+"Threshold"]||Ue.threshold||0,className:"highcharts-negative"},be||(J.color=Ue.negativeColor,J.fillColor=Ue.negativeFillColor),Ee.push(J)),Ee.length&&G(Ee[Ee.length-1].value)&&Ee.push(be?{}:{color:this.color,fillColor:this.fillColor}),De(this,"afterSetOptions",{options:Ue}),Ue},at.prototype.getName=function(){return ne(this.options.name,"Series "+(this.index+1))},at.prototype.getCyclic=function(j,be,J){var Ee=this.chart,Ue=this.userOptions,lt=j+"Index",Tt=j+"Counter",Ft=J?J.length:ne(Ee.options.chart[j+"Count"],Ee[j+"Count"]);if(!be){var $t=ne(Ue[lt],Ue["_"+lt]);G($t)||(Ee.series.length||(Ee[Tt]=0),Ue["_"+lt]=$t=Ee[Tt]%Ft,Ee[Tt]+=1),J&&(be=J[$t])}void 0!==$t&&(this[lt]=$t),this[j]=be},at.prototype.getColor=function(){this.chart.styledMode?this.getCyclic("color"):this.options.colorByPoint?this.color="#cccccc":this.getCyclic("color",this.options.color||W.plotOptions[this.type].color,this.chart.options.colors)},at.prototype.getPointsCollection=function(){return(this.hasGroupedData?this.points:this.data)||[]},at.prototype.getSymbol=function(){this.getCyclic("symbol",this.options.marker.symbol,this.chart.options.symbols)},at.prototype.findPointIndex=function(j,be){var Tt,Ft,J=j.id,Ee=j.x,Ue=this.points,lt=this.options.dataSorting;if(J)(lt=this.chart.get(J))instanceof ze&&(Tt=lt);else if((this.linkedParent||this.enabledDataSorting||this.options.relativeXValue)&&(Tt=function(vn){return!vn.touched&&vn.index===j.index},lt&&lt.matchByName?Tt=function(vn){return!vn.touched&&vn.name===j.name}:this.options.relativeXValue&&(Tt=function(vn){return!vn.touched&&vn.options.x===j.x}),!(Tt=z(Ue,Tt))))return;if(Tt){var $t=Tt&&Tt.index;void 0!==$t&&(Ft=!0)}return void 0===$t&&We(Ee)&&($t=this.xData.indexOf(Ee,be)),-1!==$t&&void 0!==$t&&this.cropped&&($t=$t>=this.cropStart?$t-this.cropStart:$t),!Ft&&We($t)&&Ue[$t]&&Ue[$t].touched&&($t=void 0),$t},at.prototype.updateData=function(j,be){var $t,vn,Nn,J=this.options,Ee=J.dataSorting,Ue=this.points,lt=[],Tt=this.requireSorting,Ft=j.length===Ue.length,$n=!0;if(this.xIncrement=null,j.forEach(function(yn,hn){var ke=G(yn)&&this.pointClass.prototype.optionsToObject.call({series:this},yn)||{};ke.id||We(ke.x)?(-1===(ke=this.findPointIndex(ke,Nn))||void 0===ke?lt.push(yn):Ue[ke]&&yn!==J.data[ke]?(Ue[ke].update(yn,!1,null,!1),Ue[ke].touched=!0,Tt&&(Nn=ke+1)):Ue[ke]&&(Ue[ke].touched=!0),(!Ft||hn!==ke||Ee&&Ee.enabled||this.hasDerivedData)&&($t=!0)):lt.push(yn)},this),$t)for(j=Ue.length;j--;)(vn=Ue[j])&&!vn.touched&&vn.remove&&vn.remove(!1,be);else!Ft||Ee&&Ee.enabled?$n=!1:(j.forEach(function(yn,hn){yn!==Ue[hn].y&&Ue[hn].update&&Ue[hn].update(yn,!1,null,!1)}),lt.length=0);return Ue.forEach(function(yn){yn&&(yn.touched=!1)}),!!$n&&(lt.forEach(function(yn){this.addPoint(yn,!1,null,null,!1)},this),null===this.xIncrement&&this.xData&&this.xData.length&&(this.xIncrement=Ce(this.xData),this.autoIncrement()),!0)},at.prototype.setData=function(j,be,J,Ee){var Ue=this,lt=Ue.points,Tt=lt&&lt.length||0,Ft=Ue.options,$t=Ue.chart,vn=Ft.dataSorting,Nn=Ue.xAxis,$n=Ft.turboThreshold,yn=this.xData,hn=this.yData,ke=Ue.pointArrayMap;ke=ke&&ke.length;var It,ft=Ft.keys,ct=0,jt=1,nn=null;if(!$t.options.chart.allowMutatingData){Ft.data&&delete Ue.options.data,Ue.userOptions.data&&delete Ue.userOptions.data;var jn=Je(!0,j)}if(jn=(j=jn||j||[]).length,be=ne(be,!0),vn&&vn.enabled&&(j=this.sortData(j)),$t.options.chart.allowMutatingData&&!1!==Ee&&jn&&Tt&&!Ue.cropped&&!Ue.hasGroupedData&&Ue.visible&&!Ue.isSeriesBoosting&&(It=this.updateData(j,J)),!It){if(Ue.xIncrement=null,Ue.colorCounter=0,this.parallelArrays.forEach(function(br){Ue[br+"Data"].length=0}),$n&&jn>$n)if(nn=Ue.getFirstValidPoint(j),We(nn))for(J=0;J<jn;J++)yn[J]=this.autoIncrement(),hn[J]=j[J];else if(dt(nn))if(ke)if(nn.length===ke)for(J=0;J<jn;J++)yn[J]=this.autoIncrement(),hn[J]=j[J];else for(J=0;J<jn;J++)yn[J]=(Ee=j[J])[0],hn[J]=Ee.slice(1,ke+1);else if(ft&&(ct=0<=(ct=ft.indexOf("x"))?ct:0,jt=0<=(jt=ft.indexOf("y"))?jt:1),1===nn.length&&(jt=0),ct===jt)for(J=0;J<jn;J++)yn[J]=this.autoIncrement(),hn[J]=j[J][jt];else for(J=0;J<jn;J++)yn[J]=(Ee=j[J])[ct],hn[J]=Ee[jt];else ae(12,!1,$t);else for(J=0;J<jn;J++)void 0!==j[J]&&(Ue.pointClass.prototype.applyOptions.apply(Ee={series:Ue},[j[J]]),Ue.updateParallelArrays(Ee,J));for(hn&&Te(hn[0])&&ae(14,!0,$t),Ue.data=[],Ue.options.data=Ue.userOptions.data=j,J=Tt;J--;)lt[J]&&lt[J].destroy&&lt[J].destroy();Nn&&(Nn.minRange=Nn.userMinRange),Ue.isDirty=$t.isDirtyBox=!0,Ue.isDirtyData=!!lt,J=!1}"point"===Ft.legendType&&(this.processData(),this.generatePoints()),be&&$t.redraw(J)},at.prototype.sortData=function(j){var be=this,J=be.options.dataSorting.sortKey||"y",Ee=function(Ue,lt){return G(lt)&&Ue.pointClass.prototype.optionsToObject.call({series:Ue},lt)||{}};return j.forEach(function(Ue,lt){j[lt]=Ee(be,Ue),j[lt].index=lt},this),j.concat().sort(function(Ue,lt){return Ue=Ke(J,Ue),(lt=Ke(J,lt))<Ue?-1:lt>Ue?1:0}).forEach(function(Ue,lt){Ue.x=lt},this),be.linkedSeries&&be.linkedSeries.forEach(function(Ue){var lt=Ue.options,Tt=lt.data;lt.dataSorting&&lt.dataSorting.enabled||!Tt||(Tt.forEach(function(Ft,$t){Tt[$t]=Ee(Ue,Ft),j[$t]&&(Tt[$t].x=j[$t].x,Tt[$t].index=$t)}),Ue.setData(Tt,!1))}),j},at.prototype.getProcessedData=function(j){var be=this.xAxis,J=this.options,Ee=J.cropThreshold,Ue=j||this.getExtremesFromAll||J.getExtremesFromAll,lt=this.isCartesian;j=be&&be.val2lin,J=!(!be||!be.logarithmic);var Tt=0,Ft=this.xData,$t=this.yData,vn=this.requireSorting,Nn=!1,$n=Ft.length;if(be){var yn=(Nn=be.getExtremes()).min,hn=Nn.max;Nn=!(!be.categories||be.names.length)}if(lt&&this.sorted&&!Ue&&(!Ee||$n>Ee||this.forceCrop))if(Ft[$n-1]<yn||Ft[0]>hn)Ft=[],$t=[];else if(this.yData&&(Ft[0]<yn||Ft[$n-1]>hn)){var ke=this.cropData(this.xData,this.yData,yn,hn);Ft=ke.xData,$t=ke.yData,Tt=ke.start,ke=!0}for(Ee=Ft.length||1;--Ee;)if(0<(be=J?j(Ft[Ee])-j(Ft[Ee-1]):Ft[Ee]-Ft[Ee-1])&&(void 0===ft||be<ft))var ft=be;else 0>be&&vn&&!Nn&&(ae(15,!1,this.chart),vn=!1);return{xData:Ft,yData:$t,cropped:ke,cropStart:Tt,closestPointRange:ft}},at.prototype.processData=function(j){if(this.isCartesian&&!this.isDirty&&!this.xAxis.isDirty&&!this.yAxis.isDirty&&!j)return!1;j=this.getProcessedData(),this.cropped=j.cropped,this.cropStart=j.cropStart,this.processedXData=j.xData,this.processedYData=j.yData,this.closestPointRange=this.basePointRange=j.closestPointRange,De(this,"afterProcessData")},at.prototype.cropData=function(j,be,J,Ee,Ue){var Tt,lt=j.length,Ft=0,$t=lt;for(Ue=ne(Ue,this.cropShoulder),Tt=0;Tt<lt;Tt++)if(j[Tt]>=J){Ft=Math.max(0,Tt-Ue);break}for(J=Tt;J<lt;J++)if(j[J]>Ee){$t=J+Ue;break}return{xData:j.slice(Ft,$t),yData:be.slice(Ft,$t),start:Ft,end:$t}},at.prototype.generatePoints=function(){var j=this.options,be=this.processedData||j.data,J=this.processedXData,Ee=this.processedYData,Ue=this.pointClass,lt=J.length,Tt=this.cropStart||0,Ft=this.hasGroupedData,$t=j.keys,vn=[];j=j.dataGrouping&&j.dataGrouping.groupAll?Tt:0;var Nn,$n,yn=this.data;if(!yn&&!Ft){var hn=[];hn.length=be.length,yn=this.data=hn}for($t&&Ft&&(this.options.keys=!1),$n=0;$n<lt;$n++){if(hn=Tt+$n,Ft){var ke=(new Ue).init(this,[J[$n]].concat($e(Ee[$n])));ke.dataGroup=this.groupMap[j+$n],ke.dataGroup.options&&(ke.options=ke.dataGroup.options,R(ke,ke.dataGroup.options),delete ke.dataLabels)}else(ke=yn[hn])||void 0===be[hn]||(yn[hn]=ke=(new Ue).init(this,be[hn],J[$n]));ke&&(ke.index=Ft?j+$n:hn,vn[$n]=ke)}if(this.options.keys=$t,yn&&(lt!==(Nn=yn.length)||Ft))for($n=0;$n<Nn;$n++)$n!==Tt||Ft||($n+=lt),yn[$n]&&(yn[$n].destroyElements(),yn[$n].plotX=void 0);this.data=yn,this.points=vn,De(this,"afterGeneratePoints")},at.prototype.getXExtremes=function(j){return{min:L(j),max:Ce(j)}},at.prototype.getExtremes=function(j,be){var J=this.xAxis,Ee=this.yAxis,Ue=this.processedXData||this.xData,lt=[],Tt=this.requireSorting?this.cropShoulder:0;Ee=!!Ee&&Ee.positiveValuesOnly;var Ft,$t=0,vn=0,Nn=0,$n=(j=j||this.stackedYData||this.processedYData||[]).length;if(J){var yn=J.getExtremes();$t=yn.min,vn=yn.max}for(Ft=0;Ft<$n;Ft++){var hn=Ue[Ft],ke=(We(yn=j[Ft])||dt(yn))&&(yn.length||0<yn||!Ee);if(hn=be||this.getExtremesFromAll||this.options.getExtremesFromAll||this.cropped||!J||(Ue[Ft+Tt]||hn)>=$t&&(Ue[Ft-Tt]||hn)<=vn,ke&&hn)if(ke=yn.length)for(;ke--;)We(yn[ke])&&(lt[Nn++]=yn[ke]);else lt[Nn++]=yn}return j={activeYData:lt,dataMin:L(lt),dataMax:Ce(lt)},De(this,"afterGetExtremes",{dataExtremes:j}),j},at.prototype.applyExtremes=function(){var j=this.getExtremes();return this.dataMin=j.dataMin,this.dataMax=j.dataMax,j},at.prototype.getFirstValidPoint=function(j){for(var be=j.length,J=0,Ee=null;null===Ee&&J<be;)Ee=j[J],J++;return Ee},at.prototype.translate=function(){this.processedXData||this.processData(),this.generatePoints();var hn,ke,j=this.options,be=j.stacking,J=this.xAxis,Ee=J.categories,Ue=this.enabledDataSorting,lt=this.yAxis,Tt=this.points,Ft=Tt.length,$t=this.pointPlacementToXValue(),vn=!!$t,Nn=j.threshold,$n=j.startFromThreshold?Nn:0,yn=this.zoneAxis||"y",ft=Number.MAX_VALUE;for(hn=0;hn<Ft;hn++){var It=Tt[hn],ct=It.x,jt=void 0,nn=void 0,jn=It.y,br=It.low,mr=be&&lt.stacking&&lt.stacking.stacks[(this.negStacks&&jn<($n?0:Nn)?"-":"")+this.stackKey];if((lt.positiveValuesOnly&&!lt.validatePositiveValue(jn)||J.positiveValuesOnly&&!J.validatePositiveValue(ct))&&(It.isNull=!0),It.plotX=ke=P(Q(J.translate(ct,0,0,0,1,$t,"flags"===this.type),-1e5,1e5)),be&&this.visible&&mr&&mr[ct]){var Mr=this.getStackIndicator(Mr,ct,this.index);It.isNull||(nn=(jt=mr[ct]).points[Mr.key])}if(dt(nn)&&(jn=nn[1],(br=nn[0])===$n&&Mr.key===mr[ct].base&&(br=ne(We(Nn)&&Nn,lt.min)),lt.positiveValuesOnly&&0>=br&&(br=null),It.total=It.stackTotal=jt.total,It.percentage=jt.total&&It.y/jt.total*100,It.stackY=jn,this.irregularWidths||jt.setOffset(this.pointXOffset||0,this.barW||0)),It.yBottom=G(br)?Q(lt.translate(br,0,1,0,1),-1e5,1e5):null,this.dataModify&&(jn=this.dataModify.modifyValue(jn,hn)),It.plotY=void 0,We(jn)&&void 0!==(jt=lt.translate(jn,!1,!0,!1,!0))&&(It.plotY=Q(jt,-1e5,1e5)),It.isInside=this.isPointInside(It),It.clientX=vn?P(J.translate(ct,0,0,0,1,$t)):ke,It.negative=It[yn]<(j[yn+"Threshold"]||Nn||0),It.category=ne(Ee&&Ee[It.x],It.x),!It.isNull&&!1!==It.visible){void 0!==dr&&(ft=Math.min(ft,Math.abs(ke-dr)));var dr=ke}It.zone=this.zones.length?It.getZone():void 0,!It.graphic&&this.group&&Ue&&(It.isNew=!0)}this.closestPointRangePx=ft,De(this,"afterTranslate")},at.prototype.getValidPoints=function(j,be,J){var Ee=this.chart;return(j||this.points||[]).filter(function(Ue){return!(be&&!Ee.isInsidePlot(Ue.plotX,Ue.plotY,{inverted:Ee.inverted}))&&!1!==Ue.visible&&(J||!Ue.isNull)})},at.prototype.getClipBox=function(){var j=this.chart,be=this.xAxis,J=this.yAxis,Ee=Je(j.clipBox);return be&&be.len!==j.plotSizeX&&(Ee.width=be.len),J&&J.len!==j.plotSizeY&&(Ee.height=J.len),Ee},at.prototype.getSharedClipKey=function(){return this.sharedClipKey=(this.options.xAxis||0)+","+(this.options.yAxis||0)},at.prototype.setClip=function(){var j=this.chart,be=this.group,J=this.markerGroup,Ee=j.sharedClips;j=j.renderer;var Ue=this.getClipBox(),lt=this.getSharedClipKey(),Tt=Ee[lt];Tt?Tt.animate(Ue):Ee[lt]=Tt=j.clipRect(Ue),be&&be.clip(!1===this.options.clip?void 0:Tt),J&&J.clip()},at.prototype.animate=function(j){var be=this.chart,J=this.group,Ee=this.markerGroup,Ue=be.inverted,lt=we(this.options.animation),Tt=[this.getSharedClipKey(),lt.duration,lt.easing,lt.defer].join(),Ft=be.sharedClips[Tt],$t=be.sharedClips[Tt+"m"];if(j&&J)lt=this.getClipBox(),Ft?Ft.attr("height",lt.height):(lt.width=0,Ue&&(lt.x=be.plotHeight),Ft=be.renderer.clipRect(lt),be.sharedClips[Tt]=Ft,$t=be.renderer.clipRect({x:Ue?(be.plotSizeX||0)+99:-99,y:Ue?-be.plotLeft:-be.plotTop,width:99,height:Ue?be.chartWidth:be.chartHeight}),be.sharedClips[Tt+"m"]=$t),J.clip(Ft),Ee&&Ee.clip($t);else if(Ft&&!Ft.hasClass("highcharts-animating")){be=this.getClipBox();var vn=lt.step;Ee&&Ee.element.childNodes.length&&(lt.step=function(Nn,$n){vn&&vn.apply($n,arguments),$t&&$t.element&&$t.attr($n.prop,"width"===$n.prop?Nn+99:Nn)}),Ft.addClass("highcharts-animating").animate(be,lt)}},at.prototype.afterAnimate=function(){var j=this;this.setClip(),Z(this.chart.sharedClips,function(be,J,Ee){be&&!j.chart.container.querySelector('[clip-path="url(#'+be.id+')"]')&&(be.destroy(),delete Ee[J])}),this.finishedAnimating=!0,De(this,"afterAnimate")},at.prototype.drawPoints=function(){var Tt,Ft,j=this.points,be=this.chart,J=this.options.marker,Ee=this[this.specialGroup]||this.markerGroup,Ue=this.xAxis,lt=ne(J.enabled,!(Ue&&!Ue.isRadial)||null,this.closestPointRangePx>=J.enabledThreshold*J.radius);if(!1!==J.enabled||this._hasPointMarkers)for(Tt=0;Tt<j.length;Tt++){var $t=j[Tt],vn=(Ft=$t.graphic)?"animate":"attr",Nn=$t.marker||{},$n=!!$t.marker;if((lt&&void 0===Nn.enabled||Nn.enabled)&&!$t.isNull&&!1!==$t.visible){var yn=ne(Nn.symbol,this.symbol,"rect"),hn=this.markerAttribs($t,$t.selected&&"select");this.enabledDataSorting&&($t.startXPos=Ue.reversed?-(hn.width||0):Ue.width);var ke=!1!==$t.isInside;Ft?Ft[ke?"show":"hide"](ke).animate(hn):ke&&(0<(hn.width||0)||$t.hasImage)&&($t.graphic=Ft=be.renderer.symbol(yn,hn.x,hn.y,hn.width,hn.height,$n?Nn:J).add(Ee),this.enabledDataSorting&&be.hasRendered&&(Ft.attr({x:$t.startXPos}),vn="animate")),Ft&&"animate"===vn&&Ft[ke?"show":"hide"](ke).animate(hn),Ft&&!be.styledMode&&Ft[vn](this.pointAttribs($t,$t.selected&&"select")),Ft&&Ft.addClass($t.getClassName(),!0)}else Ft&&($t.graphic=Ft.destroy())}},at.prototype.markerAttribs=function(j,be){var J=this.options,Ee=J.marker,Ue=j.marker||{},lt=Ue.symbol||Ee.symbol,Tt=ne(Ue.radius,Ee&&Ee.radius);return be&&(Ee=Ee.states[be],Tt=ne((be=Ue.states&&Ue.states[be])&&be.radius,Ee&&Ee.radius,Tt&&Tt+(Ee&&Ee.radiusPlus||0))),j.hasImage=lt&&0===lt.indexOf("url"),j.hasImage&&(Tt=0),j=We(Tt)?{x:J.crisp?Math.floor(j.plotX-Tt):j.plotX-Tt,y:j.plotY-Tt}:{},Tt&&(j.width=j.height=2*Tt),j},at.prototype.pointAttribs=function(j,be){var J=this.options.marker,Ee=j&&j.options,Ue=Ee&&Ee.marker||{},lt=Ee&&Ee.color,Tt=j&&j.color,Ft=j&&j.zone&&j.zone.color,$t=this.color;return j=ne(Ue.lineWidth,J.lineWidth),Ee=1,$t=lt||Ft||Tt||$t,lt=Ue.fillColor||J.fillColor||$t,Tt=Ue.lineColor||J.lineColor||$t,J=J.states[be=be||"normal"]||{},j=ne((be=Ue.states&&Ue.states[be]||{}).lineWidth,J.lineWidth,j+ne(be.lineWidthPlus,J.lineWidthPlus,0)),{stroke:Tt=be.lineColor||J.lineColor||Tt,"stroke-width":j,fill:lt=be.fillColor||J.fillColor||lt,opacity:Ee=ne(be.opacity,J.opacity,Ee)}},at.prototype.destroy=function(j){var Tt,Ft,$t,be=this,J=be.chart,Ee=/AppleWebKit\/533/.test(oe.navigator.userAgent),Ue=be.data||[];for(De(be,"destroy",{keepEventsForUpdate:j}),this.removeEvents(j),(be.axisTypes||[]).forEach(function(vn){($t=be[vn])&&$t.series&&(F($t.series,be),$t.isDirty=$t.forceRedraw=!0)}),be.legendItem&&be.chart.legend.destroyItem(be),Tt=Ue.length;Tt--;)(Ft=Ue[Tt])&&Ft.destroy&&Ft.destroy();be.clips&&be.clips.forEach(function(vn){return vn.destroy()}),xe.clearTimeout(be.animationTimeout),Z(be,function(vn,Nn){vn instanceof He&&!vn.survive&&vn[Ee&&"group"===Nn?"hide":"destroy"]()}),J.hoverSeries===be&&(J.hoverSeries=void 0),F(J.series,be),J.orderSeries(),Z(be,function(vn,Nn){j&&"hcEvents"===Nn||delete be[Nn]})},at.prototype.applyZones=function(){var Nn,$n,yn,hn,ke,ft,It,ct,j=this,be=this.chart,J=be.renderer,Ee=this.zones,Ue=this.clips||[],lt=this.graph,Tt=this.area,Ft=Math.max(be.chartWidth,be.chartHeight),$t=this[(this.zoneAxis||"y")+"Axis"],vn=be.inverted,jt=!1;if(Ee.length&&(lt||Tt)&&$t&&void 0!==$t.min){var nn=$t.reversed,jn=$t.horiz;lt&&!this.showLine&&lt.hide(),Tt&&Tt.hide();var br=$t.getExtremes();Ee.forEach(function(mr,Mr){Nn=nn?jn?be.plotWidth:0:jn?0:$t.toPixels(br.min)||0,Nn=Q(ne($n,Nn),0,Ft),$n=Q(Math.round($t.toPixels(ne(mr.value,br.max),!0)||0),0,Ft),jt&&(Nn=$n=$t.toPixels(br.max)),hn=Math.abs(Nn-$n),ke=Math.min(Nn,$n),ft=Math.max(Nn,$n),$t.isXAxis?(yn={x:vn?ft:ke,y:0,width:hn,height:Ft},jn||(yn.x=be.plotHeight-yn.x)):(yn={x:0,y:vn?ft:ke,width:Ft,height:hn},jn&&(yn.y=be.plotWidth-yn.y)),vn&&J.isVML&&(yn=$t.isXAxis?{x:0,y:nn?ke:ft,height:yn.width,width:be.chartWidth}:{x:yn.y-be.plotLeft-be.spacingBox.x,y:0,width:yn.height,height:be.chartHeight}),Ue[Mr]?Ue[Mr].animate(yn):Ue[Mr]=J.clipRect(yn),It=j["zone-area-"+Mr],ct=j["zone-graph-"+Mr],lt&&ct&&ct.clip(Ue[Mr]),Tt&&It&&It.clip(Ue[Mr]),jt=mr.value>br.max,j.resetZones&&0===$n&&($n=void 0)}),this.clips=Ue}else j.visible&&(lt&&lt.show(),Tt&&Tt.show())},at.prototype.invertGroups=function(j){function be(){["group","markerGroup"].forEach(function(Ue){J[Ue]&&(Ee.renderer.isVML&&J[Ue].attr({width:J.yAxis.len,height:J.xAxis.len}),J[Ue].width=J.yAxis.len,J[Ue].height=J.xAxis.len,J[Ue].invert(!J.isRadialSeries&&j))})}var J=this,Ee=J.chart;J.xAxis&&(J.eventsToUnbind.push(pe(Ee,"resize",be)),be(),J.invertGroups=be)},at.prototype.plotGroup=function(j,be,J,Ee,Ue){var lt=this[j],Tt=!lt;return J={visibility:J,zIndex:Ee||.1},void 0===this.opacity||this.chart.styledMode||"inactive"===this.state||(J.opacity=this.opacity),Tt&&(this[j]=lt=this.chart.renderer.g().add(Ue)),lt.addClass("highcharts-"+be+" highcharts-series-"+this.index+" highcharts-"+this.type+"-series "+(G(this.colorIndex)?"highcharts-color-"+this.colorIndex+" ":"")+(this.options.className||"")+(lt.hasClass("highcharts-tracker")?" highcharts-tracker":""),!0),lt.attr(J)[Tt?"attr":"animate"](this.getPlotBox()),lt},at.prototype.getPlotBox=function(){var j=this.chart,be=this.xAxis,J=this.yAxis;return j.inverted&&(be=J,J=this.xAxis),{translateX:be?be.left:j.plotLeft,translateY:J?J.top:j.plotTop,scaleX:1,scaleY:1}},at.prototype.removeEvents=function(j){j||Oe(this),this.eventsToUnbind.length&&(this.eventsToUnbind.forEach(function(be){be()}),this.eventsToUnbind.length=0)},at.prototype.render=function(){var j=this,be=j.chart,J=j.options,Ee=we(J.animation),Ue=j.visible?"inherit":"hidden",lt=J.zIndex,Tt=j.hasRendered,Ft=be.seriesGroup,$t=be.inverted;be=!j.finishedAnimating&&be.renderer.isSVG?Ee.duration:0,De(this,"render");var vn=j.plotGroup("group","series",Ue,lt,Ft);j.markerGroup=j.plotGroup("markerGroup","markers",Ue,lt,Ft),!1!==J.clip&&j.setClip(),j.animate&&be&&j.animate(!0),vn.inverted=!!ne(j.invertible,j.isCartesian)&&$t,j.drawGraph&&(j.drawGraph(),j.applyZones()),j.visible&&j.drawPoints(),j.drawDataLabels&&j.drawDataLabels(),j.redrawPoints&&j.redrawPoints(),j.drawTracker&&!1!==j.options.enableMouseTracking&&j.drawTracker(),j.invertGroups($t),j.animate&&be&&j.animate(),Tt||(be&&Ee.defer&&(be+=Ee.defer),j.animationTimeout=ot(function(){j.afterAnimate()},be||0)),j.isDirty=!1,j.hasRendered=!0,De(j,"afterRender")},at.prototype.redraw=function(){var j=this.chart,be=this.isDirty||this.isDirtyData,J=this.group,Ee=this.xAxis,Ue=this.yAxis;J&&(j.inverted&&J.attr({width:j.plotWidth,height:j.plotHeight}),J.animate({translateX:ne(Ee&&Ee.left,j.plotLeft),translateY:ne(Ue&&Ue.top,j.plotTop)})),this.translate(),this.render(),be&&delete this.kdTree},at.prototype.searchPoint=function(j,be){var J=this.xAxis,Ee=this.yAxis,Ue=this.chart.inverted;return this.searchKDTree({clientX:Ue?J.len-j.chartY+J.pos:j.chartX-J.pos,plotY:Ue?Ee.len-j.chartX+Ee.pos:j.chartY-Ee.pos},be,j)},at.prototype.buildKDTree=function(j){function be(Ue,lt,Tt){var Ft=Ue&&Ue.length;if(Ft){var $t=J.kdAxisArray[lt%Tt];return Ue.sort(function(vn,Nn){return vn[$t]-Nn[$t]}),{point:Ue[Ft=Math.floor(Ft/2)],left:be(Ue.slice(0,Ft),lt+1,Tt),right:be(Ue.slice(Ft+1),lt+1,Tt)}}}this.buildingKdTree=!0;var J=this,Ee=-1<J.options.findNearestPointBy.indexOf("y")?2:1;delete J.kdTree,ot(function(){J.kdTree=be(J.getValidPoints(null,!J.directTouch),Ee,Ee),J.buildingKdTree=!1},J.options.kdNow||j&&"touchstart"===j.type?0:1)},at.prototype.searchKDTree=function(j,be,J){var Ue=this,lt=this.kdAxisArray[0],Tt=this.kdAxisArray[1],Ft=be?"distX":"dist";if(be=-1<Ue.options.findNearestPointBy.indexOf("y")?2:1,this.kdTree||this.buildingKdTree||this.buildKDTree(J),this.kdTree)return function Ee($t,vn,Nn,$n){var yn=vn.point,hn=Ue.kdAxisArray[Nn%$n],ke=yn,ft=G($t[lt])&&G(yn[lt])?Math.pow($t[lt]-yn[lt],2):null,It=G($t[Tt])&&G(yn[Tt])?Math.pow($t[Tt]-yn[Tt],2):null;return yn.dist=G(It=(ft||0)+(It||0))?Math.sqrt(It):Number.MAX_VALUE,yn.distX=G(ft)?Math.sqrt(ft):Number.MAX_VALUE,ft=0>(hn=$t[hn]-yn[hn])?"right":"left",vn[It=0>hn?"left":"right"]&&(ke=(It=Ee($t,vn[It],Nn+1,$n))[Ft]<ke[Ft]?It:yn),vn[ft]&&Math.sqrt(hn*hn)<ke[Ft]&&(ke=($t=Ee($t,vn[ft],Nn+1,$n))[Ft]<ke[Ft]?$t:ke),ke}(j,this.kdTree,be,be)},at.prototype.pointPlacementToXValue=function(){var j=this.options,be=j.pointRange,J=this.xAxis;return"between"===(j=j.pointPlacement)&&(j=J.reversed?-.5:.5),We(j)?j*(be||J.pointRange):0},at.prototype.isPointInside=function(j){var be=this.chart,J=this.xAxis,Ee=this.yAxis;return void 0!==j.plotY&&void 0!==j.plotX&&0<=j.plotY&&j.plotY<=(Ee?Ee.len:be.plotHeight)&&0<=j.plotX&&j.plotX<=(J?J.len:be.plotWidth)},at.prototype.drawTracker=function(){var j=this,be=j.options,J=be.trackByArea,Ee=[].concat(J?j.areaPath:j.graphPath),Ue=j.chart,lt=Ue.pointer,Tt=Ue.renderer,Ft=Ue.options.tooltip.snap,$t=j.tracker,vn=function($n){Ue.hoverSeries!==j&&j.onMouseOver()},Nn="rgba(192,192,192,"+(Se?1e-4:.002)+")";$t?$t.attr({d:Ee}):j.graph&&(j.tracker=Tt.path(Ee).attr({visibility:j.visible?"inherit":"hidden",zIndex:2}).addClass(J?"highcharts-tracker-area":"highcharts-tracker-line").add(j.group),Ue.styledMode||j.tracker.attr({"stroke-linecap":"round","stroke-linejoin":"round",stroke:Nn,fill:J?Nn:"none","stroke-width":j.graph.strokeWidth()+(J?0:2*Ft)}),[j.tracker,j.markerGroup,j.dataLabelsGroup].forEach(function($n){$n&&($n.addClass("highcharts-tracker").on("mouseover",vn).on("mouseout",function(yn){lt.onTrackerMouseOut(yn)}),be.cursor&&!Ue.styledMode&&$n.css({cursor:be.cursor}),ye)&&$n.on("touchstart",vn)})),De(this,"afterDrawTracker")},at.prototype.addPoint=function(j,be,J,Ee,Ue){var lt=this.options,Tt=this.data,Ft=this.chart,$t=this.xAxis;$t=$t&&$t.hasNames&&$t.names;var $n,vn=lt.data,Nn=this.xData;be=ne(be,!0);var yn={series:this};this.pointClass.prototype.applyOptions.apply(yn,[j]);var hn=yn.x,ke=Nn.length;if(this.requireSorting&&hn<Nn[ke-1])for($n=!0;ke&&Nn[ke-1]>hn;)ke--;this.updateParallelArrays(yn,"splice",ke,0,0),this.updateParallelArrays(yn,ke),$t&&yn.name&&($t[hn]=yn.name),vn.splice(ke,0,j),($n||this.processedData)&&(this.data.splice(ke,0,null),this.processData()),"point"===lt.legendType&&this.generatePoints(),J&&(Tt[0]&&Tt[0].remove?Tt[0].remove(!1):(Tt.shift(),this.updateParallelArrays(yn,"shift"),vn.shift())),!1!==Ue&&De(this,"addPoint",{point:yn}),this.isDirtyData=this.isDirty=!0,be&&Ft.redraw(Ee)},at.prototype.removePoint=function(j,be,J){var Ee=this,Ue=Ee.data,lt=Ue[j],Tt=Ee.points,Ft=Ee.chart,$t=function(){Tt&&Tt.length===Ue.length&&Tt.splice(j,1),Ue.splice(j,1),Ee.options.data.splice(j,1),Ee.updateParallelArrays(lt||{series:Ee},"splice",j,1),lt&&lt.destroy(),Ee.isDirty=!0,Ee.isDirtyData=!0,be&&Ft.redraw()};de(J,Ft),be=ne(be,!0),lt?lt.firePointEvent("remove",null,$t):$t()},at.prototype.remove=function(j,be,J,Ee){function Ue(){lt.destroy(Ee),Tt.isDirtyLegend=Tt.isDirtyBox=!0,Tt.linkSeries(),ne(j,!0)&&Tt.redraw(be)}var lt=this,Tt=lt.chart;!1!==J?De(lt,"remove",null,Ue):Ue()},at.prototype.update=function(j,be){j=re(j,this.userOptions),De(this,"update",{options:j});var Nn,J=this,Ee=J.chart,Ue=J.userOptions,lt=J.initialType||J.type,Tt=Ee.options.plotOptions,Ft=se[lt].prototype,$t=J.finishedAnimating&&{animation:!1},vn={},$n=["eventOptions","navigatorSeries","baseSeries"],yn=j.type||Ue.type||Ee.options.chart.type,hn=!(this.hasDerivedData||yn&&yn!==this.type||void 0!==j.pointStart||void 0!==j.pointInterval||void 0!==j.relativeXValue||j.joinBy||j.mapData||J.hasOptionChanged("dataGrouping")||J.hasOptionChanged("pointStart")||J.hasOptionChanged("pointInterval")||J.hasOptionChanged("pointIntervalUnit")||J.hasOptionChanged("keys"));if(yn=yn||lt,hn&&($n.push("data","isDirtyData","points","processedData","processedXData","processedYData","xIncrement","cropped","_hasPointMarkers","_hasPointLabels","clips","nodes","layout","level","mapMap","mapData","minY","maxY","minX","maxX"),!1!==j.visible&&$n.push("area","graph"),J.parallelArrays.forEach(function(ft){$n.push(ft+"Data")}),j.data&&(j.dataSorting&&R(J.options.dataSorting,j.dataSorting),this.setData(j.data,!1))),j=Je(Ue,$t,{index:void 0===Ue.index?J.index:Ue.index,pointStart:ne(Tt&&Tt.series&&Tt.series.pointStart,Ue.pointStart,J.xData[0])},!hn&&{data:J.options.data},j),hn&&j.data&&(j.data=J.options.data),($n=["group","markerGroup","dataLabelsGroup","transformGroup"].concat($n)).forEach(function(ft){$n[ft]=J[ft],delete J[ft]}),Tt=!1,se[yn]){if(Tt=yn!==J.type,J.remove(!1,!1,!1,!0),Tt)if(Object.setPrototypeOf)Object.setPrototypeOf(J,se[yn].prototype);else{for(Nn in $t=Object.hasOwnProperty.call(J,"hcEvents")&&J.hcEvents,Ft)J[Nn]=void 0;R(J,se[yn].prototype),$t?J.hcEvents=$t:delete J.hcEvents}}else ae(17,!0,Ee,{missingModuleFor:yn});if($n.forEach(function(ft){J[ft]=$n[ft]}),J.init(Ee,j),hn&&this.points){var ke=J.options;!1===ke.visible?(vn.graphic=1,vn.dataLabel=1):J._hasPointLabels||(Ft=ke.dataLabels,!(j=ke.marker)||!1!==j.enabled&&(Ue.marker&&Ue.marker.symbol)===j.symbol||(vn.graphic=1),Ft&&!1===Ft.enabled&&(vn.dataLabel=1)),this.points.forEach(function(ft){ft&&ft.series&&(ft.resolveColor(),Object.keys(vn).length&&ft.destroyElements(vn),!1===ke.showInLegend&&ft.legendItem&&Ee.legend.destroyItem(ft))},this)}J.initialType=lt,Ee.linkSeries(),Tt&&J.linkedSeries.length&&(J.isDirtyData=!0),De(this,"afterUpdate"),ne(be,!0)&&Ee.redraw(!!hn&&void 0)},at.prototype.setName=function(j){this.name=this.options.name=this.userOptions.name=j,this.chart.isDirtyLegend=!0},at.prototype.hasOptionChanged=function(j){var be=this.options[j],J=this.chart.options.plotOptions,Ee=this.userOptions[j];return Ee?be!==Ee:be!==ne(J&&J[this.type]&&J[this.type][j],J&&J.series&&J.series[j],be)},at.prototype.onMouseOver=function(){var j=this.chart,be=j.hoverSeries;j.pointer.setHoverChartIndex(),be&&be!==this&&be.onMouseOut(),this.options.events.mouseOver&&De(this,"mouseOver"),this.setState("hover"),j.hoverSeries=this},at.prototype.onMouseOut=function(){var j=this.options,be=this.chart,J=be.tooltip,Ee=be.hoverPoint;be.hoverSeries=null,Ee&&Ee.onMouseOut(),this&&j.events.mouseOut&&De(this,"mouseOut"),!J||this.stickyTracking||J.shared&&!this.noSharedTooltip||J.hide(),be.series.forEach(function(Ue){Ue.setState("",!0)})},at.prototype.setState=function(j,be){var J=this,Ee=J.options,Ue=J.graph,lt=Ee.inactiveOtherPoints,Tt=Ee.states,Ft=ne(Tt[j||"normal"]&&Tt[j||"normal"].animation,J.chart.options.chart.animation),$t=Ee.lineWidth,vn=0,Nn=Ee.opacity;if(J.state!==(j=j||"")&&([J.group,J.markerGroup,J.dataLabelsGroup].forEach(function($n){$n&&(J.state&&$n.removeClass("highcharts-series-"+J.state),j&&$n.addClass("highcharts-series-"+j))}),J.state=j,!J.chart.styledMode)){if(Tt[j]&&!1===Tt[j].enabled)return;if(j&&($t=Tt[j].lineWidth||$t+(Tt[j].lineWidthPlus||0),Nn=ne(Tt[j].opacity,Nn)),Ue&&!Ue.dashstyle)for(Ue.animate(Ee={"stroke-width":$t},Ft);J["zone-graph-"+vn];)J["zone-graph-"+vn].animate(Ee,Ft),vn+=1;lt||[J.group,J.markerGroup,J.dataLabelsGroup,J.labelBySeries].forEach(function($n){$n&&$n.animate({opacity:Nn},Ft)})}be&&lt&&J.points&&J.setAllPointsToState(j||void 0)},at.prototype.setAllPointsToState=function(j){this.points.forEach(function(be){be.setState&&be.setState(j)})},at.prototype.setVisible=function(j,be){var J=this,Ee=J.chart,Ue=J.legendItem,lt=Ee.options.chart.ignoreHiddenSeries,Ft=(J.visible=j=J.options.visible=J.userOptions.visible=void 0===j?!J.visible:j)?"show":"hide";["group","dataLabelsGroup","markerGroup","tracker","tt"].forEach(function($t){J[$t]&&J[$t][Ft]()}),(Ee.hoverSeries===J||(Ee.hoverPoint&&Ee.hoverPoint.series)===J)&&J.onMouseOut(),Ue&&Ee.legend.colorizeItem(J,j),J.isDirty=!0,J.options.stacking&&Ee.series.forEach(function($t){$t.options.stacking&&$t.visible&&($t.isDirty=!0)}),J.linkedSeries.forEach(function($t){$t.setVisible(j,!1)}),lt&&(Ee.isDirtyBox=!0),De(J,Ft),!1!==be&&Ee.redraw()},at.prototype.show=function(){this.setVisible(!0)},at.prototype.hide=function(){this.setVisible(!1)},at.prototype.select=function(j){this.selected=j=this.options.selected=void 0===j?!this.selected:j,this.checkbox&&(this.checkbox.checked=j),De(this,j?"select":"unselect")},at.prototype.shouldShowTooltip=function(j,be,J){return void 0===J&&(J={}),J.series=this,J.visiblePlotOnly=!0,this.chart.isInsidePlot(j,be,J)},at.defaultOptions=qe,at}(),R(Ne.prototype,{axisTypes:["xAxis","yAxis"],coll:"series",colorCounter:0,cropShoulder:1,directTouch:!1,drawLegendSymbol:nt.drawLineMarker,isCartesian:!0,kdAxisArray:["clientX","plotY"],parallelArrays:["x","y"],pointClass:ze,requireSorting:!0,sorted:!0}),Fe.series=Ne,Ne}),it(ve,"Extensions/ScrollablePlotArea.js",[ve["Core/Animation/AnimationUtilities.js"],ve["Core/Axis/Axis.js"],ve["Core/Chart/Chart.js"],ve["Core/Series/Series.js"],ve["Core/Renderer/RendererRegistry.js"],ve["Core/Utilities.js"]],function(Ne,I,tt,Qe,nt,ze){var qe=Ne.stop,Fe=ze.addEvent,He=ze.createElement,xe=ze.merge,we=ze.pick;Fe(tt,"afterSetChartSize",function(de){var W=this.options.chart.scrollablePlotArea,fe=W&&W.minWidth;if(W=W&&W.minHeight,!this.renderer.forExport){if(fe){if(this.scrollablePixelsX=fe=Math.max(0,fe-this.chartWidth)){this.scrollablePlotBox=this.renderer.scrollablePlotBox=xe(this.plotBox),this.plotBox.width=this.plotWidth+=fe,this.inverted?this.clipBox.height+=fe:this.clipBox.width+=fe;var ye={1:{name:"right",value:fe}}}}else W&&(this.scrollablePixelsY=fe=Math.max(0,W-this.chartHeight))&&(this.scrollablePlotBox=this.renderer.scrollablePlotBox=xe(this.plotBox),this.plotBox.height=this.plotHeight+=fe,this.inverted?this.clipBox.width+=fe:this.clipBox.height+=fe,ye={2:{name:"bottom",value:fe}});ye&&!de.skipAxes&&this.axes.forEach(function(Se){ye[Se.side]?Se.getPlotLinePath=function(){var oe=ye[Se.side].name,se=this[oe];this[oe]=se-ye[Se.side].value;var pe=I.prototype.getPlotLinePath.apply(this,arguments);return this[oe]=se,pe}:(Se.setAxisSize(),Se.setAxisTranslation())})}}),Fe(tt,"render",function(){this.scrollablePixelsX||this.scrollablePixelsY?(this.setUpScrolling&&this.setUpScrolling(),this.applyFixed()):this.fixedDiv&&this.applyFixed()}),tt.prototype.setUpScrolling=function(){var de=this,W={WebkitOverflowScrolling:"touch",overflowX:"hidden",overflowY:"hidden"};this.scrollablePixelsX&&(W.overflowX="auto"),this.scrollablePixelsY&&(W.overflowY="auto"),this.scrollingParent=He("div",{className:"highcharts-scrolling-parent"},{position:"relative"},this.renderTo),this.scrollingContainer=He("div",{className:"highcharts-scrolling"},W,this.scrollingParent),Fe(this.scrollingContainer,"scroll",function(){de.pointer&&delete de.pointer.chartPosition}),this.innerContainer=He("div",{className:"highcharts-inner-container"},null,this.scrollingContainer),this.innerContainer.appendChild(this.container),this.setUpScrolling=null},tt.prototype.moveFixedElements=function(){var ye,de=this.container,W=this.fixedRenderer,fe=".highcharts-contextbutton .highcharts-credits .highcharts-legend .highcharts-legend-checkbox .highcharts-navigator-series .highcharts-navigator-xaxis .highcharts-navigator-yaxis .highcharts-navigator .highcharts-reset-zoom .highcharts-drillup-button .highcharts-scrollbar .highcharts-subtitle .highcharts-title".split(" ");this.scrollablePixelsX&&!this.inverted?ye=".highcharts-yaxis":this.scrollablePixelsX&&this.inverted||this.scrollablePixelsY&&!this.inverted?ye=".highcharts-xaxis":this.scrollablePixelsY&&this.inverted&&(ye=".highcharts-yaxis"),ye&&fe.push(ye+":not(.highcharts-radial-axis)",ye+"-labels:not(.highcharts-radial-axis-labels)"),fe.forEach(function(Se){[].forEach.call(de.querySelectorAll(Se),function(oe){(oe.namespaceURI===W.SVG_NS?W.box:W.box.parentNode).appendChild(oe),oe.style.pointerEvents="auto"})})},tt.prototype.applyFixed=function(){var de=!this.fixedDiv,W=this.options.chart,fe=W.scrollablePlotArea,ye=nt.getRendererType();de?(this.fixedDiv=He("div",{className:"highcharts-fixed"},{position:"absolute",overflow:"hidden",pointerEvents:"none",zIndex:(W.style&&W.style.zIndex||0)+2,top:0},null,!0),this.scrollingContainer&&this.scrollingContainer.parentNode.insertBefore(this.fixedDiv,this.scrollingContainer),this.renderTo.style.overflow="visible",this.fixedRenderer=W=new ye(this.fixedDiv,this.chartWidth,this.chartHeight,this.options.chart.style),this.scrollableMask=W.path().attr({fill:this.options.chart.backgroundColor||"#fff","fill-opacity":we(fe.opacity,.85),zIndex:-1}).addClass("highcharts-scrollable-mask").add(),Fe(this,"afterShowResetZoom",this.moveFixedElements),Fe(this,"afterApplyDrilldown",this.moveFixedElements),Fe(this,"afterLayOutTitles",this.moveFixedElements)):this.fixedRenderer.setSize(this.chartWidth,this.chartHeight),(this.scrollableDirty||de)&&(this.scrollableDirty=!1,this.moveFixedElements()),W=this.chartWidth+(this.scrollablePixelsX||0),ye=this.chartHeight+(this.scrollablePixelsY||0),qe(this.container),this.container.style.width=W+"px",this.container.style.height=ye+"px",this.renderer.boxWrapper.attr({width:W,height:ye,viewBox:[0,0,W,ye].join(" ")}),this.chartBackground.attr({width:W,height:ye}),this.scrollingContainer.style.height=this.chartHeight+"px",de&&(fe.scrollPositionX&&(this.scrollingContainer.scrollLeft=this.scrollablePixelsX*fe.scrollPositionX),fe.scrollPositionY&&(this.scrollingContainer.scrollTop=this.scrollablePixelsY*fe.scrollPositionY)),de=this.plotTop-(ye=this.axisOffset)[0]-1,fe=this.plotLeft-ye[3]-1,W=this.plotTop+this.plotHeight+ye[2]+1,ye=this.plotLeft+this.plotWidth+ye[1]+1;var Se=this.plotLeft+this.plotWidth-(this.scrollablePixelsX||0),oe=this.plotTop+this.plotHeight-(this.scrollablePixelsY||0);de=this.scrollablePixelsX?[["M",0,de],["L",this.plotLeft-1,de],["L",this.plotLeft-1,W],["L",0,W],["Z"],["M",Se,de],["L",this.chartWidth,de],["L",this.chartWidth,W],["L",Se,W],["Z"]]:this.scrollablePixelsY?[["M",fe,0],["L",fe,this.plotTop-1],["L",ye,this.plotTop-1],["L",ye,0],["Z"],["M",fe,oe],["L",fe,this.chartHeight],["L",ye,this.chartHeight],["L",ye,oe],["Z"]]:[["M",0,0]],"adjustHeight"!==this.redrawTrigger&&this.scrollableMask.attr({d:de})},Fe(I,"afterInit",function(){this.chart.scrollableDirty=!0}),Fe(Qe,"show",function(){this.chart.scrollableDirty=!0})}),it(ve,"Core/Axis/StackingAxis.js",[ve["Core/Animation/AnimationUtilities.js"],ve["Core/Axis/Axis.js"],ve["Core/Utilities.js"]],function(Ne,I,tt){var xe,Qe=Ne.getDeferredAnimation,nt=tt.addEvent,ze=tt.destroyObjectProperties,qe=tt.fireEvent,Fe=tt.isNumber,He=tt.objectEach;return function(we){function de(){var Se=this.stacking;if(Se){var oe=Se.stacks;He(oe,function(se,pe){ze(se),oe[pe]=null}),Se&&Se.stackTotalGroup&&Se.stackTotalGroup.destroy()}}function W(){this.stacking||(this.stacking=new ye(this))}var fe=[];we.compose=function(Se){return-1===fe.indexOf(Se)&&(fe.push(Se),nt(Se,"init",W),nt(Se,"destroy",de)),Se};var ye=function(){function Se(oe){this.oldStacks={},this.stacks={},this.stacksTouched=0,this.axis=oe}return Se.prototype.buildStacks=function(){var L,oe=this.axis,se=oe.series,pe=oe.options.reversedStacks,Ce=se.length;if(!oe.isXAxis){for(this.usePercentage=!1,L=Ce;L--;){var Q=se[pe?L:Ce-L-1];Q.setStackedPoints(),Q.setGroupedPoints()}for(L=0;L<Ce;L++)se[L].modifyStacks();qe(oe,"afterBuildStacks")}},Se.prototype.cleanStacks=function(){if(!this.axis.isXAxis){if(this.oldStacks)var oe=this.stacks=this.oldStacks;He(oe,function(se){He(se,function(pe){pe.cumulative=pe.total})})}},Se.prototype.resetStacks=function(){var oe=this;oe.axis.isXAxis||He(oe.stacks,function(pe){He(pe,function(Ce,L){Fe(Ce.touched)&&Ce.touched<oe.stacksTouched?(Ce.destroy(),delete pe[L]):(Ce.total=null,Ce.cumulative=null)})})},Se.prototype.renderStackTotals=function(){var oe=this.axis,se=oe.chart,pe=se.renderer,Ce=this.stacks;oe=Qe(se,oe.options.stackLabels&&oe.options.stackLabels.animation||!1);var L=this.stackTotalGroup=this.stackTotalGroup||pe.g("stack-labels").attr({zIndex:6,opacity:0}).add();L.translate(se.plotLeft,se.plotTop),He(Ce,function(Q){He(Q,function(re){re.render(L)})}),L.animate({opacity:1},oe)},Se}();we.Additions=ye}(xe||(xe={})),xe}),it(ve,"Extensions/Stacking.js",[ve["Core/Axis/Axis.js"],ve["Core/Chart/Chart.js"],ve["Core/FormatUtilities.js"],ve["Core/Globals.js"],ve["Core/Series/Series.js"],ve["Core/Axis/StackingAxis.js"],ve["Core/Utilities.js"]],function(Ne,I,tt,Qe,nt,ze,qe){var Fe=tt.format,He=qe.correctFloat,xe=qe.defined,we=qe.destroyObjectProperties,de=qe.isArray,W=qe.isNumber,fe=qe.objectEach,ye=qe.pick,Se=function(){function oe(se,pe,Ce,L,Q){var re=se.chart.inverted;this.axis=se,this.isNegative=Ce,this.options=pe=pe||{},this.x=L,this.total=null,this.points={},this.hasValidPoints=!1,this.stack=Q,this.rightCliff=this.leftCliff=0,this.alignOptions={align:pe.align||(re?Ce?"left":"right":"center"),verticalAlign:pe.verticalAlign||(re?"middle":Ce?"bottom":"top"),y:pe.y,x:pe.x},this.textAlign=pe.textAlign||(re?Ce?"right":"left":"center")}return oe.prototype.destroy=function(){we(this,this.axis)},oe.prototype.render=function(se){var pe=this.axis.chart,Ce=this.options,L=Ce.format;L=L?Fe(L,this,pe):Ce.formatter.call(this),this.label?this.label.attr({text:L,visibility:"hidden"}):(this.label=pe.renderer.label(L,null,null,Ce.shape,null,null,Ce.useHTML,!1,"stack-labels"),L={r:Ce.borderRadius||0,text:L,rotation:Ce.rotation,padding:ye(Ce.padding,5),visibility:"hidden"},pe.styledMode||(L.fill=Ce.backgroundColor,L.stroke=Ce.borderColor,L["stroke-width"]=Ce.borderWidth,this.label.css(Ce.style)),this.label.attr(L),this.label.added||this.label.add(se)),this.label.labelrank=pe.plotSizeY},oe.prototype.setOffset=function(se,pe,Ce,L,Q){var re=this.axis,P=re.chart;L=re.translate(re.stacking.usePercentage?100:L||this.total,0,0,0,1),Ce=re.translate(Ce||0),Ce=xe(L)&&Math.abs(L-Ce),se=ye(Q,P.xAxis[0].translate(this.x))+se,re=xe(L)&&this.getStackBox(P,this,se,L,pe,Ce,re),pe=this.label,Ce=this.isNegative,se="justify"===ye(this.options.overflow,"justify");var G=this.textAlign;pe&&re&&(Q=pe.getBBox(),L=pe.padding,G="left"===G?P.inverted?-L:L:"right"===G?Q.width:P.inverted&&"center"===G?Q.width/2:P.inverted?Ce?Q.width+L:-L:Q.width/2,Ce=P.inverted?Q.height/2:Ce?-L:Q.height,this.alignOptions.x=ye(this.options.x,0),this.alignOptions.y=ye(this.options.y,0),re.x-=G,re.y-=Ce,pe.align(this.alignOptions,null,re),P.isInsidePlot(pe.alignAttr.x+G-this.alignOptions.x,pe.alignAttr.y+Ce-this.alignOptions.y)?pe.show():(pe.hide(),se=!1),se&&nt.prototype.justifyDataLabel.call(this.axis,pe,this.alignOptions,pe.alignAttr,Q,re),pe.attr({x:pe.alignAttr.x,y:pe.alignAttr.y}),ye(!se&&this.options.crop,!0)&&((P=W(pe.x)&&W(pe.y)&&P.isInsidePlot(pe.x-L+pe.width,pe.y)&&P.isInsidePlot(pe.x+L,pe.y))||pe.hide()))},oe.prototype.getStackBox=function(se,pe,Ce,L,Q,re,P){var G=pe.axis.reversed,F=se.inverted,ae=P.height+P.pos-(F?se.plotLeft:se.plotTop);return pe=pe.isNegative&&!G||!pe.isNegative&&G,{x:F?pe?L-P.right:L-re+P.pos-se.plotLeft:Ce+se.xAxis[0].transB-se.plotLeft,y:F?P.height-Ce-Q:pe?ae-L-re:ae-L,width:F?re:Q,height:F?Q:re}},oe}();return I.prototype.getStacks=function(){var oe=this,se=oe.inverted;oe.yAxis.forEach(function(pe){pe.stacking&&pe.stacking.stacks&&pe.hasVisibleSeries&&(pe.stacking.oldStacks=pe.stacking.stacks)}),oe.series.forEach(function(pe){var Ce=pe.xAxis&&pe.xAxis.options||{};!pe.options.stacking||!0!==pe.visible&&!1!==oe.options.chart.ignoreHiddenSeries||(pe.stackKey=[pe.type,ye(pe.options.stack,""),se?Ce.top:Ce.left,se?Ce.height:Ce.width].join())})},ze.compose(Ne),nt.prototype.setGroupedPoints=function(){var oe=this.yAxis.stacking;this.options.centerInCategory&&(this.is("column")||this.is("columnrange"))&&!this.options.stacking&&1<this.chart.series.length?nt.prototype.setStackedPoints.call(this,"group"):oe&&fe(oe.stacks,function(se,pe){"group"===pe.slice(-5)&&(fe(se,function(Ce){return Ce.destroy()}),delete oe.stacks[pe])})},nt.prototype.setStackedPoints=function(oe){var se=oe||this.options.stacking;if(se&&(!0===this.visible||!1===this.chart.options.chart.ignoreHiddenSeries)){var pe=this.processedXData,Ce=this.processedYData,L=[],Q=Ce.length,re=this.options,P=re.threshold,G=ye(re.startFromThreshold&&P,0);re=re.stack;var Ke,dt,F="-"+(oe=oe?this.type+","+se:this.stackKey),ae=this.negStacks,R=this.yAxis,z=R.stacking.stacks,De=R.stacking.oldStacks;for(R.stacking.stacksTouched+=1,dt=0;dt<Q;dt++){var We=pe[dt],Te=Ce[dt],Je=this.getStackIndicator(Je,We,this.index),Z=Je.key,ne=(Ke=ae&&Te<(G?0:P))?F:oe;z[ne]||(z[ne]={}),z[ne][We]||(De[ne]&&De[ne][We]?(z[ne][We]=De[ne][We],z[ne][We].total=null):z[ne][We]=new Se(R,R.options.stackLabels,Ke,We,re)),ne=z[ne][We],null!==Te?(ne.points[Z]=ne.points[this.index]=[ye(ne.cumulative,G)],xe(ne.cumulative)||(ne.base=Z),ne.touched=R.stacking.stacksTouched,0<Je.index&&!1===this.singleStacks&&(ne.points[Z][0]=ne.points[this.index+","+We+",0"][0])):ne.points[Z]=ne.points[this.index]=null,"percent"===se?(Ke=Ke?oe:F,ne.total=ae&&z[Ke]&&z[Ke][We]?(Ke=z[Ke][We]).total=Math.max(Ke.total,ne.total)+Math.abs(Te)||0:He(ne.total+(Math.abs(Te)||0))):"group"===se?(de(Te)&&(Te=Te[0]),null!==Te&&(ne.total=(ne.total||0)+1)):ne.total=He(ne.total+(Te||0)),ne.cumulative="group"===se?(ne.total||1)-1:ye(ne.cumulative,G)+(Te||0),null!==Te&&(ne.points[Z].push(ne.cumulative),L[dt]=ne.cumulative,ne.hasValidPoints=!0)}"percent"===se&&(R.stacking.usePercentage=!0),"group"!==se&&(this.stackedYData=L),R.stacking.oldStacks={}}},nt.prototype.modifyStacks=function(){var L,oe=this,se=oe.stackKey,pe=oe.yAxis.stacking.stacks,Ce=oe.processedXData,Q=oe.options.stacking;oe[Q+"Stacker"]&&[se,"-"+se].forEach(function(re){for(var G,F,P=Ce.length;P--;)L=oe.getStackIndicator(L,G=Ce[P],oe.index,re),(F=(G=pe[re]&&pe[re][G])&&G.points[L.key])&&oe[Q+"Stacker"](F,G,P)})},nt.prototype.percentStacker=function(oe,se,pe){oe[0]=He(oe[0]*(se=se.total?100/se.total:0)),oe[1]=He(oe[1]*se),this.stackedYData[pe]=oe[1]},nt.prototype.getStackIndicator=function(oe,se,pe,Ce){return!xe(oe)||oe.x!==se||Ce&&oe.stackKey!==Ce?oe={x:se,index:0,key:Ce,stackKey:Ce}:oe.index++,oe.key=[pe,se,oe.index].join(),oe},Qe.StackItem=Se,Qe.StackItem}),it(ve,"Series/Line/LineSeries.js",[ve["Core/Series/Series.js"],ve["Core/Series/SeriesRegistry.js"],ve["Core/Utilities.js"]],function(Ne,I,tt){var qe,Qe=this&&this.__extends||(qe=function(Fe,He){return(qe=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(xe,we){xe.__proto__=we}||function(xe,we){for(var de in we)we.hasOwnProperty(de)&&(xe[de]=we[de])})(Fe,He)},function(Fe,He){function xe(){this.constructor=Fe}qe(Fe,He),Fe.prototype=null===He?Object.create(He):(xe.prototype=He.prototype,new xe)}),nt=tt.defined,ze=tt.merge;return tt=function(qe){function Fe(){var He=null!==qe&&qe.apply(this,arguments)||this;return He.data=void 0,He.options=void 0,He.points=void 0,He}return Qe(Fe,qe),Fe.prototype.drawGraph=function(){var He=this,xe=this.options,we=(this.gappedPath||this.getGraphPath).call(this),de=this.chart.styledMode,W=[["graph","highcharts-graph"]];de||W[0].push(xe.lineColor||this.color||"#cccccc",xe.dashStyle),(W=He.getZonesGraphs(W)).forEach(function(fe,ye){var Se=fe[0],oe=He[Se],se=oe?"animate":"attr";oe?(oe.endX=He.preventGraphAnimation?null:we.xMap,oe.animate({d:we})):we.length&&(He[Se]=oe=He.chart.renderer.path(we).addClass(fe[1]).attr({zIndex:1}).add(He.group)),oe&&!de&&(Se={stroke:fe[2],"stroke-width":xe.lineWidth,fill:He.fillGraph&&He.color||"none"},fe[3]?Se.dashstyle=fe[3]:"square"!==xe.linecap&&(Se["stroke-linecap"]=Se["stroke-linejoin"]="round"),oe[se](Se).shadow(2>ye&&xe.shadow)),oe&&(oe.startX=we.xMap,oe.isArea=we.isArea)})},Fe.prototype.getGraphPath=function(He,xe,we){var Se,de=this,W=de.options,fe=[],ye=[],oe=W.step,se=(He=He||de.points).reversed;return se&&He.reverse(),(oe={right:1,center:2}[oe]||oe&&3)&&se&&(oe=4-oe),(He=this.getValidPoints(He,!1,!(W.connectNulls&&!xe&&!we))).forEach(function(pe,Ce){var L=pe.plotX,Q=pe.plotY,re=He[Ce-1];(pe.leftCliff||re&&re.rightCliff)&&!we&&(Se=!0),pe.isNull&&!nt(xe)&&0<Ce?Se=!W.connectNulls:pe.isNull&&!xe?Se=!0:(0===Ce||Se?Ce=[["M",pe.plotX,pe.plotY]]:de.getPointSpline?Ce=[de.getPointSpline(He,pe,Ce)]:oe?(Ce=1===oe?[["L",re.plotX,Q]]:2===oe?[["L",(re.plotX+L)/2,re.plotY],["L",(re.plotX+L)/2,Q]]:[["L",L,re.plotY]]).push(["L",L,Q]):Ce=[["L",L,Q]],ye.push(pe.x),oe&&(ye.push(pe.x),2===oe&&ye.push(pe.x)),fe.push.apply(fe,Ce),Se=!1)}),fe.xMap=ye,de.graphPath=fe},Fe.prototype.getZonesGraphs=function(He){return this.zones.forEach(function(xe,we){we=["zone-graph-"+we,"highcharts-graph highcharts-zone-graph-"+we+" "+(xe.className||"")],this.chart.styledMode||we.push(xe.color||this.color,xe.dashStyle||this.options.dashStyle),He.push(we)},this),He},Fe.defaultOptions=ze(Ne.defaultOptions,{}),Fe}(Ne),I.registerSeriesType("line",tt),tt}),it(ve,"Series/Area/AreaSeries.js",[ve["Core/Color/Color.js"],ve["Core/Legend/LegendSymbol.js"],ve["Core/Series/SeriesRegistry.js"],ve["Core/Utilities.js"]],function(Ne,I,tt,Qe){var we,nt=this&&this.__extends||(we=function(de,W){return(we=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(fe,ye){fe.__proto__=ye}||function(fe,ye){for(var Se in ye)ye.hasOwnProperty(Se)&&(fe[Se]=ye[Se])})(de,W)},function(de,W){function fe(){this.constructor=de}we(de,W),de.prototype=null===W?Object.create(W):(fe.prototype=W.prototype,new fe)}),ze=Ne.parse,qe=tt.seriesTypes.line;Ne=Qe.extend;var Fe=Qe.merge,He=Qe.objectEach,xe=Qe.pick;return Qe=function(we){function de(){var W=null!==we&&we.apply(this,arguments)||this;return W.data=void 0,W.options=void 0,W.points=void 0,W}return nt(de,we),de.prototype.drawGraph=function(){this.areaPath=[],we.prototype.drawGraph.apply(this);var W=this,fe=this.areaPath,ye=this.options,Se=[["area","highcharts-area",this.color,ye.fillColor]];this.zones.forEach(function(oe,se){Se.push(["zone-area-"+se,"highcharts-area highcharts-zone-area-"+se+" "+oe.className,oe.color||W.color,oe.fillColor||ye.fillColor])}),Se.forEach(function(oe){var se=oe[0],pe=W[se],Ce=pe?"animate":"attr",L={};pe?(pe.endX=W.preventGraphAnimation?null:fe.xMap,pe.animate({d:fe})):(L.zIndex=0,(pe=W[se]=W.chart.renderer.path(fe).addClass(oe[1]).add(W.group)).isArea=!0),W.chart.styledMode||(L.fill=xe(oe[3],ze(oe[2]).setOpacity(xe(ye.fillOpacity,.75)).get())),pe[Ce](L),pe.startX=fe.xMap,pe.shiftUnit=ye.step?2:1})},de.prototype.getGraphPath=function(W){var se,fe=qe.prototype.getGraphPath,ye=this.options,Se=ye.stacking,oe=this.yAxis,pe=[],Ce=[],L=this.index,Q=oe.stacking.stacks[this.stackKey],re=ye.threshold,P=Math.round(oe.getThreshold(ye.threshold));ye=xe(ye.connectNulls,"percent"===Se);var G=function(z,De,Ke){var dt=W[z];z=Se&&Q[dt.x].points[L];var We=dt[Ke+"Null"]||0;if(Ke=dt[Ke+"Cliff"]||0,dt=!0,Ke||We){var Te=(We?z[0]:z[1])+Ke,Je=z[0]+Ke;dt=!!We}else!Se&&W[De]&&W[De].isNull&&(Te=Je=re);void 0!==Te&&(Ce.push({plotX:ae,plotY:null===Te?P:oe.getThreshold(Te),isNull:dt,isCliff:!0}),pe.push({plotX:ae,plotY:null===Je?P:oe.getThreshold(Je),doCurve:!1}))};for(W=W||this.points,Se&&(W=this.getStackPoints(W)),se=0;se<W.length;se++){Se||(W[se].leftCliff=W[se].rightCliff=W[se].leftNull=W[se].rightNull=void 0);var F=W[se].isNull,ae=xe(W[se].rectPlotX,W[se].plotX),R=Se?xe(W[se].yBottom,P):P;(!F||ye)&&(ye||G(se,se-1,"left"),F&&!Se&&ye||(Ce.push(W[se]),pe.push({x:se,plotX:ae,plotY:R})),ye||G(se,se+1,"right"))}return se=fe.call(this,Ce,!0,!0),pe.reversed=!0,(R=(F=fe.call(this,pe,!0,!0))[0])&&"M"===R[0]&&(F[0]=["L",R[1],R[2]]),(F=se.concat(F)).length&&F.push(["Z"]),fe=fe.call(this,Ce,!1,ye),F.xMap=se.xMap,this.areaPath=F,fe},de.prototype.getStackPoints=function(W){var fe=this,ye=[],Se=[],oe=this.xAxis,se=this.yAxis,pe=se.stacking.stacks[this.stackKey],Ce={},L=se.series,Q=L.length,re=se.options.reversedStacks?1:-1,P=L.indexOf(fe);if(W=W||this.points,this.options.stacking){for(var G=0;G<W.length;G++)W[G].leftNull=W[G].rightNull=void 0,Ce[W[G].x]=W[G];He(pe,function(ae,R){null!==ae.total&&Se.push(R)}),Se.sort(function(ae,R){return ae-R});var F=L.map(function(ae){return ae.visible});Se.forEach(function(ae,R){var De,Ke,z=0;if(Ce[ae]&&!Ce[ae].isNull)ye.push(Ce[ae]),[-1,1].forEach(function(We){var Te=1===We?"rightNull":"leftNull",Je=0,Z=pe[Se[R+We]];if(Z)for(var ne=P;0<=ne&&ne<Q;){var Oe=L[ne].index;(De=Z.points[Oe])||(Oe===fe.index?Ce[ae][Te]=!0:F[ne]&&(Ke=pe[ae].points[Oe])&&(Je-=Ke[1]-Ke[0])),ne+=re}Ce[ae][1===We?"rightCliff":"leftCliff"]=Je});else{for(var dt=P;0<=dt&&dt<Q;){if(De=pe[ae].points[L[dt].index]){z=De[1];break}dt+=re}z=xe(z,0),z=se.translate(z,0,1,0,1),ye.push({isNull:!0,plotX:oe.translate(ae,0,0,0,1),x:ae,plotY:z,yBottom:z})}})}return ye},de.defaultOptions=Fe(qe.defaultOptions,{threshold:0}),de}(qe),Ne(Qe.prototype,{singleStacks:!1,drawLegendSymbol:I.drawRectangle}),tt.registerSeriesType("area",Qe),Qe}),it(ve,"Series/Spline/SplineSeries.js",[ve["Core/Series/SeriesRegistry.js"],ve["Core/Utilities.js"]],function(Ne,I){var qe,tt=this&&this.__extends||(qe=function(Fe,He){return(qe=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(xe,we){xe.__proto__=we}||function(xe,we){for(var de in we)we.hasOwnProperty(de)&&(xe[de]=we[de])})(Fe,He)},function(Fe,He){function xe(){this.constructor=Fe}qe(Fe,He),Fe.prototype=null===He?Object.create(He):(xe.prototype=He.prototype,new xe)}),Qe=Ne.seriesTypes.line,nt=I.merge,ze=I.pick;return I=function(qe){function Fe(){var He=null!==qe&&qe.apply(this,arguments)||this;return He.data=void 0,He.options=void 0,He.points=void 0,He}return tt(Fe,qe),Fe.prototype.getPointSpline=function(He,xe,we){var de=xe.plotX||0,W=xe.plotY||0,fe=He[we-1];if(we=He[we+1],fe&&!fe.isNull&&!1!==fe.doCurve&&!xe.isCliff&&we&&!we.isNull&&!1!==we.doCurve&&!xe.isCliff){var ye=we.plotX||0,Se=0,oe=(1.5*de+(fe.plotX||0))/2.5,se=(1.5*W+(He=fe.plotY||0))/2.5,pe=(1.5*W+(we=we.plotY||0))/2.5;(ye=(1.5*de+ye)/2.5)!==oe&&(Se=(pe-se)*(ye-de)/(ye-oe)+W-pe),pe+=Se,(se+=Se)>He&&se>W?pe=2*W-(se=Math.max(He,W)):se<He&&se<W&&(pe=2*W-(se=Math.min(He,W))),pe>we&&pe>W?se=2*W-(pe=Math.max(we,W)):pe<we&&pe<W&&(se=2*W-(pe=Math.min(we,W))),xe.rightContX=ye,xe.rightContY=pe}return xe=["C",ze(fe.rightContX,fe.plotX,0),ze(fe.rightContY,fe.plotY,0),ze(oe,de,0),ze(se,W,0),de,W],fe.rightContX=fe.rightContY=void 0,xe},Fe.defaultOptions=nt(Qe.defaultOptions),Fe}(Qe),Ne.registerSeriesType("spline",I),I}),it(ve,"Series/AreaSpline/AreaSplineSeries.js",[ve["Series/Area/AreaSeries.js"],ve["Series/Spline/SplineSeries.js"],ve["Core/Legend/LegendSymbol.js"],ve["Core/Series/SeriesRegistry.js"],ve["Core/Utilities.js"]],function(Ne,I,tt,Qe,nt){var xe,ze=this&&this.__extends||(xe=function(we,de){return(xe=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(W,fe){W.__proto__=fe}||function(W,fe){for(var ye in fe)fe.hasOwnProperty(ye)&&(W[ye]=fe[ye])})(we,de)},function(we,de){function W(){this.constructor=we}xe(we,de),we.prototype=null===de?Object.create(de):(W.prototype=de.prototype,new W)}),qe=Ne.prototype,Fe=nt.extend,He=nt.merge;return nt=function(xe){function we(){var de=null!==xe&&xe.apply(this,arguments)||this;return de.data=void 0,de.points=void 0,de.options=void 0,de}return ze(we,xe),we.defaultOptions=He(I.defaultOptions,Ne.defaultOptions),we}(I),Fe(nt.prototype,{getGraphPath:qe.getGraphPath,getStackPoints:qe.getStackPoints,drawGraph:qe.drawGraph,drawLegendSymbol:tt.drawRectangle}),Qe.registerSeriesType("areaspline",nt),nt}),it(ve,"Series/Column/ColumnSeries.js",[ve["Core/Animation/AnimationUtilities.js"],ve["Core/Color/Color.js"],ve["Core/Globals.js"],ve["Core/Legend/LegendSymbol.js"],ve["Core/Series/Series.js"],ve["Core/Series/SeriesRegistry.js"],ve["Core/Utilities.js"]],function(Ne,I,tt,Qe,nt,ze,qe){var Q,Fe=this&&this.__extends||(Q=function(re,P){return(Q=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(G,F){G.__proto__=F}||function(G,F){for(var ae in F)F.hasOwnProperty(ae)&&(G[ae]=F[ae])})(re,P)},function(re,P){function G(){this.constructor=re}Q(re,P),re.prototype=null===P?Object.create(P):(G.prototype=P.prototype,new G)}),He=Ne.animObject,xe=I.parse,we=tt.hasTouch;Ne=tt.noop;var de=qe.clamp,W=qe.css,fe=qe.defined,ye=qe.extend,Se=qe.fireEvent,oe=qe.isArray,se=qe.isNumber,pe=qe.merge,Ce=qe.pick,L=qe.objectEach;return qe=function(Q){function re(){var P=null!==Q&&Q.apply(this,arguments)||this;return P.borderWidth=void 0,P.data=void 0,P.group=void 0,P.options=void 0,P.points=void 0,P}return Fe(re,Q),re.prototype.animate=function(P){var G=this,F=this.yAxis,ae=G.options,R=this.chart.inverted,z={},De=R?"translateX":"translateY";if(P)z.scaleY=.001,P=de(F.toPixels(ae.threshold),F.pos,F.pos+F.len),R?z.translateX=P-F.len:z.translateY=P,G.clipBox&&G.setClip(),G.group.attr(z);else{var Ke=Number(G.group.attr(De));G.group.animate({scaleY:1},ye(He(G.options.animation),{step:function(dt,We){G.group&&(z[De]=Ke+We.pos*(F.pos-Ke),G.group.attr(z))}}))}},re.prototype.init=function(P,G){Q.prototype.init.apply(this,arguments);var F=this;(P=F.chart).hasRendered&&P.series.forEach(function(ae){ae.type===F.type&&(ae.isDirty=!0)})},re.prototype.getColumnMetrics=function(){var P=this,G=P.options,F=P.xAxis,ae=P.yAxis,R=F.options.reversedStacks;R=F.reversed&&!R||!F.reversed&&R;var De,z={},Ke=0;!1===G.grouping?Ke=1:P.chart.series.forEach(function(Je){var Z=Je.yAxis,ne=Je.options;if(Je.type===P.type&&(Je.visible||!P.chart.options.chart.ignoreHiddenSeries)&&ae.len===Z.len&&ae.pos===Z.pos){if(ne.stacking&&"group"!==ne.stacking){void 0===z[De=Je.stackKey]&&(z[De]=Ke++);var Oe=z[De]}else!1!==ne.grouping&&(Oe=Ke++);Je.columnIndex=Oe}});var dt=Math.min(Math.abs(F.transA)*(F.ordinal&&F.ordinal.slope||G.pointRange||F.closestPointRange||F.tickInterval||1),F.len),We=dt*G.groupPadding,Te=(dt-2*We)/(Ke||1);return G=Math.min(G.maxPointWidth||F.len,Ce(G.pointWidth,Te*(1-2*G.pointPadding))),P.columnMetrics={width:G,offset:(Te-G)/2+(We+((P.columnIndex||0)+(R?1:0))*Te-dt/2)*(R?-1:1),paddedWidth:Te,columnCount:Ke},P.columnMetrics},re.prototype.crispCol=function(P,G,F,ae){var R=this.chart,z=this.borderWidth,De=-(z%2?.5:0);return z=z%2?.5:1,R.inverted&&R.renderer.isVML&&(z+=1),this.options.crisp&&(F=Math.round(P+F)+De,F-=P=Math.round(P)+De),ae=Math.round(G+ae)+z,De=.5>=Math.abs(G)&&.5<ae,ae-=G=Math.round(G)+z,De&&ae&&(--G,ae+=1),{x:P,y:G,width:F,height:ae}},re.prototype.adjustForMissingColumns=function(P,G,F,ae){var R=this,z=this.options.stacking;if(!F.isNull&&1<ae.columnCount){var De=this.yAxis.options.reversedStacks,Ke=0,dt=De?0:-ae.columnCount;L(this.yAxis.stacking&&this.yAxis.stacking.stacks,function(We){if("number"==typeof F.x&&(We=We[F.x.toString()])){var Te=We.points[R.index],Je=We.total;z?(Te&&(Ke=dt),We.hasValidPoints&&(De?dt++:dt--)):oe(Te)&&(Ke=Te[1],dt=Je||0)}}),P=(F.plotX||0)+((dt-1)*ae.paddedWidth+G)/2-G-Ke*ae.paddedWidth}return P},re.prototype.translate=function(){var P=this,G=P.chart,F=P.options,ae=P.dense=2>P.closestPointRange*P.xAxis.transA;ae=P.borderWidth=Ce(F.borderWidth,ae?0:1);var R=P.xAxis,z=P.yAxis,De=F.threshold,Ke=P.translatedThreshold=z.getThreshold(De),dt=Ce(F.minPointLength,5),We=P.getColumnMetrics(),Te=We.width,Je=P.pointXOffset=We.offset,Z=P.dataMin,ne=P.dataMax,Oe=P.barW=Math.max(Te,1+2*ae);G.inverted&&(Ke-=.5),F.pointPadding&&(Oe=Math.ceil(Oe)),nt.prototype.translate.apply(P),P.points.forEach(function($e){var ot=Ce($e.yBottom,Ke),at=999+Math.abs(ot),j=$e.plotX||0;at=de($e.plotY,-at,z.len+at);var be=Math.min(at,ot),J=Math.max(at,ot)-be,Ee=Te,Ue=j+Je,lt=Oe;dt&&Math.abs(J)<dt&&(J=dt,j=!z.reversed&&!$e.negative||z.reversed&&$e.negative,se(De)&&se(ne)&&$e.y===De&&ne<=De&&(z.min||0)<De&&(Z!==ne||(z.max||0)<=De)&&(j=!j),be=Math.abs(be-Ke)>dt?ot-dt:Ke-(j?dt:0)),fe($e.options.pointWidth)&&(Ee=lt=Math.ceil($e.options.pointWidth),Ue-=Math.round((Ee-Te)/2)),F.centerInCategory&&(Ue=P.adjustForMissingColumns(Ue,Ee,$e,We)),$e.barX=Ue,$e.pointWidth=Ee,$e.tooltipPos=G.inverted?[de(z.len+z.pos-G.plotLeft-at,z.pos-G.plotLeft,z.len+z.pos-G.plotLeft),R.len+R.pos-G.plotTop-Ue-lt/2,J]:[R.left-G.plotLeft+Ue+lt/2,de(at+z.pos-G.plotTop,z.pos-G.plotTop,z.len+z.pos-G.plotTop),J],$e.shapeType=P.pointClass.prototype.shapeType||"rect",$e.shapeArgs=P.crispCol.apply(P,$e.isNull?[Ue,Ke,lt,0]:[Ue,be,lt,J])})},re.prototype.drawGraph=function(){this.group[this.dense?"addClass":"removeClass"]("highcharts-dense-data")},re.prototype.pointAttribs=function(P,G){var F=this.options,ae=this.pointAttrToOptions||{},R=ae.stroke||"borderColor",z=ae["stroke-width"]||"borderWidth",De=P&&P.color||this.color,Ke=P&&P[R]||F[R]||De;ae=P&&P.options.dashStyle||F.dashStyle;var dt=P&&P[z]||F[z]||this[z]||0,We=Ce(P&&P.opacity,F.opacity,1);if(P&&this.zones.length){var Te=P.getZone();De=P.options.color||Te&&(Te.color||P.nonZonedColor)||this.color,Te&&(Ke=Te.borderColor||Ke,ae=Te.dashStyle||ae,dt=Te.borderWidth||dt)}return G&&P&&(G=(P=pe(F.states[G],P.options.states&&P.options.states[G]||{})).brightness,De=P.color||void 0!==G&&xe(De).brighten(P.brightness).get()||De,Ke=P[R]||Ke,dt=P[z]||dt,ae=P.dashStyle||ae,We=Ce(P.opacity,We)),R={fill:De,stroke:Ke,"stroke-width":dt,opacity:We},ae&&(R.dashstyle=ae),R},re.prototype.drawPoints=function(){var z,P=this,G=this.chart,F=P.options,ae=G.renderer,R=F.animationLimit||250;P.points.forEach(function(De){var Ke=De.graphic,dt=!!Ke,We=Ke&&G.pointCount<R?"animate":"attr";se(De.plotY)&&null!==De.y?(z=De.shapeArgs,Ke&&De.hasNewShapeType()&&(Ke=Ke.destroy()),P.enabledDataSorting&&(De.startXPos=P.xAxis.reversed?-(z&&z.width||0):P.xAxis.width),Ke||(De.graphic=Ke=ae[De.shapeType](z).add(De.group||P.group))&&P.enabledDataSorting&&G.hasRendered&&G.pointCount<R&&(Ke.attr({x:De.startXPos}),dt=!0,We="animate"),Ke&&dt&&Ke[We](pe(z)),F.borderRadius&&Ke[We]({r:F.borderRadius}),G.styledMode||Ke[We](P.pointAttribs(De,De.selected&&"select")).shadow(!1!==De.allowShadow&&F.shadow,null,F.stacking&&!F.borderRadius),Ke&&(Ke.addClass(De.getClassName(),!0),Ke.attr({visibility:De.visible?"inherit":"hidden"}))):Ke&&(De.graphic=Ke.destroy())})},re.prototype.drawTracker=function(){var R,P=this,G=P.chart,F=G.pointer,ae=function(z){var De=F.getPointFromEvent(z);void 0!==De&&(F.isDirectTouch=!0,De.onMouseOver(z))};P.points.forEach(function(z){R=oe(z.dataLabels)?z.dataLabels:z.dataLabel?[z.dataLabel]:[],z.graphic&&(z.graphic.element.point=z),R.forEach(function(De){De.div?De.div.point=z:De.element.point=z})}),P._hasTracking||(P.trackerGroups.forEach(function(z){P[z]&&(P[z].addClass("highcharts-tracker").on("mouseover",ae).on("mouseout",function(De){F.onTrackerMouseOut(De)}),we&&P[z].on("touchstart",ae),!G.styledMode&&P.options.cursor&&P[z].css(W).css({cursor:P.options.cursor}))}),P._hasTracking=!0),Se(this,"afterDrawTracker")},re.prototype.remove=function(){var P=this,G=P.chart;G.hasRendered&&G.series.forEach(function(F){F.type===P.type&&(F.isDirty=!0)}),nt.prototype.remove.apply(P,arguments)},re.defaultOptions=pe(nt.defaultOptions,{borderRadius:0,centerInCategory:!1,groupPadding:.2,marker:null,pointPadding:.1,minPointLength:0,cropThreshold:50,pointRange:null,states:{hover:{halo:!1,brightness:.1},select:{color:"#cccccc",borderColor:"#000000"}},dataLabels:{align:void 0,verticalAlign:void 0,y:void 0},startFromThreshold:!0,stickyTracking:!1,tooltip:{distance:6},threshold:0,borderColor:"#ffffff"}),re}(nt),ye(qe.prototype,{cropShoulder:0,directTouch:!0,drawLegendSymbol:Qe.drawRectangle,getSymbol:Ne,negStacks:!0,trackerGroups:["group","dataLabelsGroup"]}),ze.registerSeriesType("column",qe),qe}),it(ve,"Core/Series/DataLabel.js",[ve["Core/Animation/AnimationUtilities.js"],ve["Core/FormatUtilities.js"],ve["Core/Utilities.js"]],function(Ne,I,tt){var fe,Qe=Ne.getDeferredAnimation,nt=I.format,ze=tt.defined,qe=tt.extend,Fe=tt.fireEvent,He=tt.isArray,xe=tt.merge,we=tt.objectEach,de=tt.pick,W=tt.splat;return function(ye){function Se(re,P,G,F,ae){var R=this,z=this.chart,De=this.isCartesian&&z.inverted,Ke=this.enabledDataSorting,dt=de(re.dlBox&&re.dlBox.centerX,re.plotX),We=re.plotY,Te=G.rotation,Je=G.align,Z=ze(dt)&&ze(We)&&z.isInsidePlot(dt,Math.round(We),{inverted:De,paneCoordinates:!0,series:R}),ne=function(j){Ke&&R.xAxis&&!Oe&&R.setDataLabelStartPos(re,P,ae,Z,j)},Oe="justify"===de(G.overflow,Ke?"none":"justify"),$e=this.visible&&!1!==re.visible&&(re.series.forceDL||Ke&&!Oe||Z||de(G.inside,!!this.options.stacking)&&F&&z.isInsidePlot(dt,De?F.x+1:F.y+F.height-1,{inverted:De,paneCoordinates:!0,series:R}));if($e&&ze(dt)&&ze(We)){Te&&P.attr({align:Je}),Je=P.getBBox(!0);var ot=[0,0],at=z.renderer.fontMetrics(z.styledMode?void 0:G.style.fontSize,P).b;F=qe({x:De?this.yAxis.len-We:dt,y:Math.round(De?this.xAxis.len-dt:We),width:0,height:0},F),qe(G,{width:Je.width,height:Je.height}),Te?(Oe=!1,ot=z.renderer.rotCorr(at,Te),dt={x:F.x+(G.x||0)+F.width/2+ot.x,y:F.y+(G.y||0)+{top:0,middle:.5,bottom:1}[G.verticalAlign]*F.height},ot=[Je.x-Number(P.attr("x")),Je.y-Number(P.attr("y"))],ne(dt),P[ae?"attr":"animate"](dt)):(ne(F),P.align(G,void 0,F),dt=P.alignAttr),Oe&&0<=F.height?this.justifyDataLabel(P,G,dt,Je,F,ae):de(G.crop,!0)&&(F=dt.x,ne=dt.y,$e=z.isInsidePlot(F+=ot[0],ne+=ot[1],{paneCoordinates:!0,series:R})&&z.isInsidePlot(F+Je.width,ne+Je.height,{paneCoordinates:!0,series:R})),G.shape&&!Te&&P[ae?"attr":"animate"]({anchorX:De?z.plotWidth-re.plotY:re.plotX,anchorY:De?z.plotHeight-re.plotX:re.plotY})}ae&&Ke&&(P.placed=!1),$e||Ke&&!Oe?P.show():(P.hide(),P.placed=!1)}function se(){var re=this,P=re.chart,G=re.options,F=re.points,ae=re.hasRendered||0,R=P.renderer,z=G.dataLabels,Ke=z.animation;if(Ke=z.defer?Qe(P,Ke,re):{defer:0,duration:0},z=Ce(Ce(P.options.plotOptions&&P.options.plotOptions.series&&P.options.plotOptions.series.dataLabels,P.options.plotOptions&&P.options.plotOptions[re.type]&&P.options.plotOptions[re.type].dataLabels),z),Fe(this,"drawDataLabels"),He(z)||z.enabled||re._hasPointLabels){var dt=re.plotGroup("dataLabelsGroup","data-labels",ae?"inherit":"hidden",z.zIndex||6);dt.attr({opacity:+ae}),!ae&&(ae=re.dataLabelsGroup)&&(re.visible&&dt.show(),ae[G.animation?"animate":"attr"]({opacity:1},Ke)),F.forEach(function(We){W(Ce(z,We.dlOptions||We.options&&We.options.dataLabels)).forEach(function(Te,Je){var Z=Te.enabled&&(!We.isNull||We.dataLabelOnNull)&&function oe(re,P){var G=P.filter;return!G||(P=G.operator,re=re[G.property],G=G.value,">"===P&&re>G||"<"===P&&re<G||">="===P&&re>=G||"<="===P&&re<=G||"=="===P&&re==G||"==="===P&&re===G)}(We,Te),ne=We.connectors?We.connectors[Je]:We.connector,Oe=We.dataLabels?We.dataLabels[Je]:We.dataLabel,$e=!Oe,ot=de(Te.distance,We.labelDistance);if(Z){var at=We.getLabelConfig(),j=de(Te[We.formatPrefix+"Format"],Te.format);at=ze(j)?nt(j,at,P):(Te[We.formatPrefix+"Formatter"]||Te.formatter).call(at,Te),j=Te.style;var be=Te.rotation;P.styledMode||(j.color=de(Te.color,j.color,re.color,"#000000"),"contrast"===j.color?(We.contrastColor=R.getContrast(We.color||re.color),j.color=!ze(ot)&&Te.inside||0>ot||G.stacking?We.contrastColor:"#000000"):delete We.contrastColor,G.cursor&&(j.cursor=G.cursor));var J={r:Te.borderRadius||0,rotation:be,padding:Te.padding,zIndex:1};P.styledMode||(J.fill=Te.backgroundColor,J.stroke=Te.borderColor,J["stroke-width"]=Te.borderWidth),we(J,function(Ee,Ue){void 0===Ee&&delete J[Ue]})}!Oe||Z&&ze(at)&&!!Oe.div==!!Te.useHTML&&(Oe.rotation&&Te.rotation||Oe.rotation===Te.rotation)||($e=!0,We.dataLabel=Oe=We.dataLabel&&We.dataLabel.destroy(),We.dataLabels&&(1===We.dataLabels.length?delete We.dataLabels:delete We.dataLabels[Je]),Je||delete We.dataLabel,ne&&(We.connector=We.connector.destroy(),We.connectors&&(1===We.connectors.length?delete We.connectors:delete We.connectors[Je]))),Z&&ze(at)?(Oe?J.text=at:(We.dataLabels=We.dataLabels||[],Oe=We.dataLabels[Je]=be?R.text(at,0,0,Te.useHTML).addClass("highcharts-data-label"):R.label(at,0,0,Te.shape,null,null,Te.useHTML,null,"data-label"),Je||(We.dataLabel=Oe),Oe.addClass(" highcharts-data-label-color-"+We.colorIndex+" "+(Te.className||"")+(Te.useHTML?" highcharts-tracker":""))),Oe.options=Te,Oe.attr(J),P.styledMode||Oe.css(j).shadow(Te.shadow),Oe.added||Oe.add(dt),Te.textPath&&!Te.useHTML&&(Oe.setTextPath(We.getDataLabelPath&&We.getDataLabelPath(Oe)||We.graphic,Te.textPath),We.dataLabelPath&&!Te.textPath.enabled&&(We.dataLabelPath=We.dataLabelPath.destroy())),re.alignDataLabel(We,Oe,Te,null,$e)):Oe&&Oe.hide()})})}Fe(this,"afterDrawDataLabels")}function pe(re,P,G,F,ae,R){var z=this.chart,De=P.align,Ke=P.verticalAlign,dt=re.box?0:re.padding||0,We=P.x;We=void 0===We?0:We;var Te=P.y;Te=void 0===Te?0:Te;var Je=(G.x||0)+dt;if(0>Je){"right"===De&&0<=We?(P.align="left",P.inside=!0):We-=Je;var Z=!0}return(Je=(G.x||0)+F.width-dt)>z.plotWidth&&("left"===De&&0>=We?(P.align="right",P.inside=!0):We+=z.plotWidth-Je,Z=!0),0>(Je=G.y+dt)&&("bottom"===Ke&&0<=Te?(P.verticalAlign="top",P.inside=!0):Te-=Je,Z=!0),(Je=(G.y||0)+F.height-dt)>z.plotHeight&&("top"===Ke&&0>=Te?(P.verticalAlign="bottom",P.inside=!0):Te+=z.plotHeight-Je,Z=!0),Z&&(P.x=We,P.y=Te,re.placed=!R,re.align(P,void 0,ae)),Z}function Ce(re,P){var F,G=[];if(He(re)&&!He(P))G=re.map(function(ae){return xe(ae,P)});else if(He(P)&&!He(re))G=P.map(function(ae){return xe(re,ae)});else if(He(re)||He(P))for(F=Math.max(re.length,P.length);F--;)G[F]=xe(re[F],P[F]);else G=xe(re,P);return G}function L(re,P,G,F,ae){var R=this.chart,z=R.inverted,De=this.xAxis,Ke=De.reversed,dt=z?P.height/2:P.width/2;re=(re=re.pointWidth)?re/2:0,P.startXPos=z?ae.x:Ke?-dt-re:De.width-dt+re,P.startYPos=z?Ke?this.yAxis.height-dt+re:-dt-re:ae.y,F?"hidden"===P.visibility&&(P.show(),P.attr({opacity:0}).animate({opacity:1})):P.attr({opacity:1}).animate({opacity:0},void 0,P.hide),R.hasRendered&&(G&&P.attr({x:P.startXPos,y:P.startYPos}),P.placed=!0)}var Q=[];ye.compose=function(re){if(-1===Q.indexOf(re)){var P=re.prototype;Q.push(re),P.alignDataLabel=Se,P.drawDataLabels=se,P.justifyDataLabel=pe,P.setDataLabelStartPos=L}}}(fe||(fe={})),fe}),it(ve,"Series/Column/ColumnDataLabel.js",[ve["Core/Series/DataLabel.js"],ve["Core/Series/SeriesRegistry.js"],ve["Core/Utilities.js"]],function(Ne,I,tt){var qe,Qe=I.series,nt=tt.merge,ze=tt.pick;return function(Fe){function He(we,de,W,fe,ye){var Se=this.chart.inverted,oe=we.series,se=(oe.xAxis?oe.xAxis.len:this.chart.plotSizeX)||0,pe=we.dlBox||we.shapeArgs,Ce=ze(we.below,we.plotY>ze(this.translatedThreshold,oe=(oe.yAxis?oe.yAxis.len:this.chart.plotSizeY)||0)),L=ze(W.inside,!!this.options.stacking);pe&&(0>(fe=nt(pe)).y&&(fe.height+=fe.y,fe.y=0),0<(pe=fe.y+fe.height-oe)&&pe<fe.height&&(fe.height-=pe),Se&&(fe={x:oe-fe.y-fe.height,y:se-fe.x-fe.width,width:fe.height,height:fe.width}),L||(Se?(fe.x+=Ce?0:fe.width,fe.width=0):(fe.y+=Ce?fe.height:0,fe.height=0))),W.align=ze(W.align,!Se||L?"center":Ce?"right":"left"),W.verticalAlign=ze(W.verticalAlign,Se||L?"middle":Ce?"top":"bottom"),Qe.prototype.alignDataLabel.call(this,we,de,W,fe,ye),W.inside&&we.contrastColor&&de.css({color:we.contrastColor})}var xe=[];Fe.compose=function(we){Ne.compose(Qe),-1===xe.indexOf(we)&&(xe.push(we),we.prototype.alignDataLabel=He)}}(qe||(qe={})),qe}),it(ve,"Series/Bar/BarSeries.js",[ve["Series/Column/ColumnSeries.js"],ve["Core/Series/SeriesRegistry.js"],ve["Core/Utilities.js"]],function(Ne,I,tt){var qe,Qe=this&&this.__extends||(qe=function(Fe,He){return(qe=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(xe,we){xe.__proto__=we}||function(xe,we){for(var de in we)we.hasOwnProperty(de)&&(xe[de]=we[de])})(Fe,He)},function(Fe,He){function xe(){this.constructor=Fe}qe(Fe,He),Fe.prototype=null===He?Object.create(He):(xe.prototype=He.prototype,new xe)}),nt=tt.extend,ze=tt.merge;return tt=function(qe){function Fe(){var He=null!==qe&&qe.apply(this,arguments)||this;return He.data=void 0,He.options=void 0,He.points=void 0,He}return Qe(Fe,qe),Fe.defaultOptions=ze(Ne.defaultOptions,{}),Fe}(Ne),nt(tt.prototype,{inverted:!0}),I.registerSeriesType("bar",tt),tt}),it(ve,"Series/Scatter/ScatterSeries.js",[ve["Series/Column/ColumnSeries.js"],ve["Series/Line/LineSeries.js"],ve["Core/Series/SeriesRegistry.js"],ve["Core/Utilities.js"]],function(Ne,I,tt,Qe){var He,nt=this&&this.__extends||(He=function(xe,we){return(He=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(de,W){de.__proto__=W}||function(de,W){for(var fe in W)W.hasOwnProperty(fe)&&(de[fe]=W[fe])})(xe,we)},function(xe,we){function de(){this.constructor=xe}He(xe,we),xe.prototype=null===we?Object.create(we):(de.prototype=we.prototype,new de)}),ze=Qe.addEvent,qe=Qe.extend,Fe=Qe.merge;return Qe=function(He){function xe(){var we=null!==He&&He.apply(this,arguments)||this;return we.data=void 0,we.options=void 0,we.points=void 0,we}return nt(xe,He),xe.prototype.applyJitter=function(){var we=this,de=this.options.jitter,W=this.points.length;de&&this.points.forEach(function(fe,ye){["x","y"].forEach(function(Se,oe){var se="plot"+Se.toUpperCase();if(de[Se]&&!fe.isNull){var pe=we[Se+"Axis"],Ce=de[Se]*pe.transA;if(pe&&!pe.isLog){var L=Math.max(0,fe[se]-Ce);pe=Math.min(pe.len,fe[se]+Ce),oe=1e4*Math.sin(ye+oe*W),fe[se]=L+(pe-L)*(oe-Math.floor(oe)),"x"===Se&&(fe.clientX=fe.plotX)}}})})},xe.prototype.drawGraph=function(){this.options.lineWidth?He.prototype.drawGraph.call(this):this.graph&&(this.graph=this.graph.destroy())},xe.defaultOptions=Fe(I.defaultOptions,{lineWidth:0,findNearestPointBy:"xy",jitter:{x:0,y:0},marker:{enabled:!0},tooltip:{headerFormat:'<span style="color:{point.color}">\u25cf</span> <span style="font-size: 10px"> {series.name}</span><br/>',pointFormat:"x: <b>{point.x}</b><br/>y: <b>{point.y}</b><br/>"}}),xe}(I),qe(Qe.prototype,{drawTracker:Ne.prototype.drawTracker,sorted:!1,requireSorting:!1,noSharedTooltip:!0,trackerGroups:["group","markerGroup","dataLabelsGroup"],takeOrdinalPosition:!1}),ze(Qe,"afterTranslate",function(){this.applyJitter()}),tt.registerSeriesType("scatter",Qe),Qe}),it(ve,"Series/CenteredUtilities.js",[ve["Core/Globals.js"],ve["Core/Series/Series.js"],ve["Core/Utilities.js"]],function(Ne,I,tt){var Fe,He,Qe=Ne.deg2rad,nt=tt.isNumber,ze=tt.pick,qe=tt.relativeLength;return(He=Fe||(Fe={})).getCenter=function(){var xe=this.options,we=this.chart,de=2*(xe.slicedOffset||0),W=we.plotWidth-2*de,fe=we.plotHeight-2*de,ye=xe.center,Se=Math.min(W,fe),oe=xe.thickness,se=xe.size,pe=xe.innerSize||0;for("string"==typeof se&&(se=parseFloat(se)),"string"==typeof pe&&(pe=parseFloat(pe)),xe=[ze(ye[0],"50%"),ze(ye[1],"50%"),ze(se&&0>se?void 0:xe.size,"100%"),ze(pe&&0>pe?void 0:xe.innerSize||0,"0%")],!we.angular||this instanceof I||(xe[3]=0),ye=0;4>ye;++ye)se=xe[ye],we=2>ye||2===ye&&/%$/.test(se),xe[ye]=qe(se,[W,fe,Se,xe[2]][ye])+(we?de:0);return xe[3]>xe[2]&&(xe[3]=xe[2]),nt(oe)&&2*oe<xe[2]&&0<oe&&(xe[3]=xe[2]-2*oe),xe},He.getStartAndEndRadians=function(xe,we){return xe=nt(xe)?xe:0,we=nt(we)&&we>xe&&360>we-xe?we:xe+360,{start:Qe*(xe+-90),end:Qe*(we+-90)}},Fe}),it(ve,"Series/Pie/PiePoint.js",[ve["Core/Animation/AnimationUtilities.js"],ve["Core/Series/Point.js"],ve["Core/Utilities.js"]],function(Ne,I,tt){var we,Qe=this&&this.__extends||(we=function(de,W){return(we=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(fe,ye){fe.__proto__=ye}||function(fe,ye){for(var Se in ye)ye.hasOwnProperty(Se)&&(fe[Se]=ye[Se])})(de,W)},function(de,W){function fe(){this.constructor=de}we(de,W),de.prototype=null===W?Object.create(W):(fe.prototype=W.prototype,new fe)}),nt=Ne.setAnimation,ze=tt.addEvent,qe=tt.defined;Ne=tt.extend;var Fe=tt.isNumber,He=tt.pick,xe=tt.relativeLength;return I=function(we){function de(){var W=null!==we&&we.apply(this,arguments)||this;return W.labelDistance=void 0,W.options=void 0,W.series=void 0,W}return Qe(de,we),de.prototype.getConnectorPath=function(){var W=this.labelPosition,fe=this.series.options.dataLabels,ye=this.connectorShapes,Se=fe.connectorShape;return ye[Se]&&(Se=ye[Se]),Se.call(this,{x:W.final.x,y:W.final.y,alignment:W.alignment},W.connectorPosition,fe)},de.prototype.getTranslate=function(){return this.sliced?this.slicedTranslation:{translateX:0,translateY:0}},de.prototype.haloPath=function(W){var fe=this.shapeArgs;return this.sliced||!this.visible?[]:this.series.chart.renderer.symbols.arc(fe.x,fe.y,fe.r+W,fe.r+W,{innerR:fe.r-1,start:fe.start,end:fe.end})},de.prototype.init=function(){var W=this;we.prototype.init.apply(this,arguments),this.name=He(this.name,"Slice");var fe=function(ye){W.slice("select"===ye.type)};return ze(this,"select",fe),ze(this,"unselect",fe),this},de.prototype.isValid=function(){return Fe(this.y)&&0<=this.y},de.prototype.setVisible=function(W,fe){var ye=this,Se=this.series,oe=Se.chart,se=Se.options.ignoreHiddenPoint;fe=He(fe,se),W!==this.visible&&(this.visible=this.options.visible=W=void 0===W?!this.visible:W,Se.options.data[Se.data.indexOf(this)]=this.options,["graphic","dataLabel","connector","shadowGroup"].forEach(function(pe){ye[pe]&&ye[pe][W?"show":"hide"](W)}),this.legendItem&&oe.legend.colorizeItem(this,W),W||"hover"!==this.state||this.setState(""),se&&(Se.isDirty=!0),fe&&oe.redraw())},de.prototype.slice=function(W,fe,ye){var Se=this.series;nt(ye,Se.chart),He(fe,!0),this.sliced=this.options.sliced=qe(W)?W:!this.sliced,Se.options.data[Se.data.indexOf(this)]=this.options,this.graphic&&this.graphic.animate(this.getTranslate()),this.shadowGroup&&this.shadowGroup.animate(this.getTranslate())},de}(I),Ne(I.prototype,{connectorShapes:{fixedOffset:function(we,de,W){var fe=de.breakAt;return de=de.touchingSliceAt,[["M",we.x,we.y],W.softConnector?["C",we.x+("left"===we.alignment?-5:5),we.y,2*fe.x-de.x,2*fe.y-de.y,fe.x,fe.y]:["L",fe.x,fe.y],["L",de.x,de.y]]},straight:function(we,de){return[["M",we.x,we.y],["L",(de=de.touchingSliceAt).x,de.y]]},crookedLine:function(we,de,W){de=de.touchingSliceAt;var fe=this.series,ye=fe.center[0],Se=fe.chart.plotWidth,oe=fe.chart.plotLeft;fe=we.alignment;var se=this.shapeArgs.r;return W=xe(W.crookDistance,1),W=["L",Se="left"===fe?ye+se+(Se+oe-ye-se)*(1-W):oe+(ye-se)*W,we.y],ye=!0,("left"===fe?Se>we.x||Se<de.x:Se<we.x||Se>de.x)&&(ye=!1),we=[["M",we.x,we.y]],ye&&we.push(W),we.push(["L",de.x,de.y]),we}}}),I}),it(ve,"Series/Pie/PieSeries.js",[ve["Series/CenteredUtilities.js"],ve["Series/Column/ColumnSeries.js"],ve["Core/Globals.js"],ve["Core/Legend/LegendSymbol.js"],ve["Series/Pie/PiePoint.js"],ve["Core/Series/Series.js"],ve["Core/Series/SeriesRegistry.js"],ve["Core/Renderer/SVG/Symbols.js"],ve["Core/Utilities.js"]],function(Ne,I,tt,Qe,nt,ze,qe,Fe,He){var se,xe=this&&this.__extends||(se=function(pe,Ce){return(se=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(L,Q){L.__proto__=Q}||function(L,Q){for(var re in Q)Q.hasOwnProperty(re)&&(L[re]=Q[re])})(pe,Ce)},function(pe,Ce){function L(){this.constructor=pe}se(pe,Ce),pe.prototype=null===Ce?Object.create(Ce):(L.prototype=Ce.prototype,new L)}),we=Ne.getStartAndEndRadians;tt=tt.noop;var de=He.clamp,W=He.extend,fe=He.fireEvent,ye=He.merge,Se=He.pick,oe=He.relativeLength;return He=function(se){function pe(){var Ce=null!==se&&se.apply(this,arguments)||this;return Ce.center=void 0,Ce.data=void 0,Ce.maxLabelDistance=void 0,Ce.options=void 0,Ce.points=void 0,Ce}return xe(pe,se),pe.prototype.animate=function(Ce){var L=this,re=L.startAngleRad;Ce||L.points.forEach(function(P){var G=P.graphic,F=P.shapeArgs;G&&F&&(G.attr({r:Se(P.startR,L.center&&L.center[3]/2),start:re,end:re}),G.animate({r:F.r,start:F.start,end:F.end},L.options.animation))})},pe.prototype.drawEmpty=function(){var Ce=this.startAngleRad,L=this.endAngleRad,Q=this.options;if(0===this.total&&this.center){var re=this.center[0],P=this.center[1];this.graph||(this.graph=this.chart.renderer.arc(re,P,this.center[1]/2,0,Ce,L).addClass("highcharts-empty-series").add(this.group)),this.graph.attr({d:Fe.arc(re,P,this.center[2]/2,0,{start:Ce,end:L,innerR:this.center[3]/2})}),this.chart.styledMode||this.graph.attr({"stroke-width":Q.borderWidth,fill:Q.fillColor||"none",stroke:Q.color||"#cccccc"})}else this.graph&&(this.graph=this.graph.destroy())},pe.prototype.drawPoints=function(){var Ce=this.chart.renderer;this.points.forEach(function(L){L.graphic&&L.hasNewShapeType()&&(L.graphic=L.graphic.destroy()),L.graphic||(L.graphic=Ce[L.shapeType](L.shapeArgs).add(L.series.group),L.delayedRendering=!0)})},pe.prototype.generatePoints=function(){se.prototype.generatePoints.call(this),this.updateTotals()},pe.prototype.getX=function(Ce,L,Q){var re=this.center,P=this.radii?this.radii[Q.index]||0:re[2]/2;return Ce=Math.asin(de((Ce-re[1])/(P+Q.labelDistance),-1,1)),re[0]+(L?-1:1)*Math.cos(Ce)*(P+Q.labelDistance)+(0<Q.labelDistance?(L?-1:1)*this.options.dataLabels.padding:0)},pe.prototype.hasData=function(){return!!this.processedXData.length},pe.prototype.redrawPoints=function(){var P,G,F,ae,Ce=this,L=Ce.chart,Q=L.renderer,re=Ce.options.shadow;this.drawEmpty(),!re||Ce.shadowGroup||L.styledMode||(Ce.shadowGroup=Q.g("shadow").attr({zIndex:-1}).add(Ce.group)),Ce.points.forEach(function(R){var z={};if(G=R.graphic,!R.isNull&&G){var De=void 0;ae=R.shapeArgs,P=R.getTranslate(),L.styledMode||(De=R.shadowGroup,re&&!De&&(De=R.shadowGroup=Q.g("shadow").add(Ce.shadowGroup)),De&&De.attr(P),F=Ce.pointAttribs(R,R.selected&&"select")),R.delayedRendering?(G.setRadialReference(Ce.center).attr(ae).attr(P),L.styledMode||G.attr(F).attr({"stroke-linejoin":"round"}).shadow(re,De),R.delayedRendering=!1):(G.setRadialReference(Ce.center),L.styledMode||ye(!0,z,F),ye(!0,z,ae,P),G.animate(z)),G.attr({visibility:R.visible?"inherit":"hidden"}),G.addClass(R.getClassName(),!0)}else G&&(R.graphic=G.destroy())})},pe.prototype.sortByAngle=function(Ce,L){Ce.sort(function(Q,re){return void 0!==Q.angle&&(re.angle-Q.angle)*L})},pe.prototype.translate=function(Ce){this.generatePoints();var L=this.options,Q=L.slicedOffset,re=Q+(L.borderWidth||0),P=we(L.startAngle,L.endAngle),G=this.startAngleRad=P.start;P=(this.endAngleRad=P.end)-G;var F=this.points,ae=L.dataLabels.distance;L=L.ignoreHiddenPoint;var z,R=F.length,De=0;for(Ce||(this.center=Ce=this.getCenter()),z=0;z<R;z++){var Ke=F[z],dt=G+De*P;!Ke.isValid()||L&&!Ke.visible||(De+=Ke.percentage/100);var We=G+De*P,Te={x:Ce[0],y:Ce[1],r:Ce[2]/2,innerR:Ce[3]/2,start:Math.round(1e3*dt)/1e3,end:Math.round(1e3*We)/1e3};Ke.shapeType="arc",Ke.shapeArgs=Te,Ke.labelDistance=Se(Ke.options.dataLabels&&Ke.options.dataLabels.distance,ae),Ke.labelDistance=oe(Ke.labelDistance,Te.r),this.maxLabelDistance=Math.max(this.maxLabelDistance||0,Ke.labelDistance),(We=(We+dt)/2)>1.5*Math.PI?We-=2*Math.PI:We<-Math.PI/2&&(We+=2*Math.PI),Ke.slicedTranslation={translateX:Math.round(Math.cos(We)*Q),translateY:Math.round(Math.sin(We)*Q)},Te=Math.cos(We)*Ce[2]/2;var Je=Math.sin(We)*Ce[2]/2;Ke.tooltipPos=[Ce[0]+.7*Te,Ce[1]+.7*Je],Ke.half=We<-Math.PI/2||We>Math.PI/2?1:0,Ke.angle=We,dt=Math.min(re,Ke.labelDistance/5),Ke.labelPosition={natural:{x:Ce[0]+Te+Math.cos(We)*Ke.labelDistance,y:Ce[1]+Je+Math.sin(We)*Ke.labelDistance},final:{},alignment:0>Ke.labelDistance?"center":Ke.half?"right":"left",connectorPosition:{breakAt:{x:Ce[0]+Te+Math.cos(We)*dt,y:Ce[1]+Je+Math.sin(We)*dt},touchingSliceAt:{x:Ce[0]+Te,y:Ce[1]+Je}}}}fe(this,"afterTranslate")},pe.prototype.updateTotals=function(){var re,Ce=this.points,L=Ce.length,Q=this.options.ignoreHiddenPoint,P=0;for(re=0;re<L;re++){var G=Ce[re];!G.isValid()||Q&&!G.visible||(P+=G.y)}for(this.total=P,re=0;re<L;re++)(G=Ce[re]).percentage=0<P&&(G.visible||!Q)?G.y/P*100:0,G.total=P},pe.defaultOptions=ye(ze.defaultOptions,{center:[null,null],clip:!1,colorByPoint:!0,dataLabels:{allowOverlap:!0,connectorPadding:5,connectorShape:"fixedOffset",crookDistance:"70%",distance:30,enabled:!0,formatter:function(){return this.point.isNull?void 0:this.point.name},softConnector:!0,x:0},fillColor:void 0,ignoreHiddenPoint:!0,inactiveOtherPoints:!0,legendType:"point",marker:null,size:null,showInLegend:!1,slicedOffset:10,stickyTracking:!1,tooltip:{followPointer:!0},borderColor:"#ffffff",borderWidth:1,lineWidth:void 0,states:{hover:{brightness:.1}}}),pe}(ze),W(He.prototype,{axisTypes:[],directTouch:!0,drawGraph:void 0,drawLegendSymbol:Qe.drawRectangle,drawTracker:I.prototype.drawTracker,getCenter:Ne.getCenter,getSymbol:tt,isCartesian:!1,noSharedTooltip:!0,pointAttribs:I.prototype.pointAttribs,pointClass:nt,requireSorting:!1,searchPoint:tt,trackerGroups:["group","dataLabelsGroup"]}),qe.registerSeriesType("pie",He),He}),it(ve,"Series/Pie/PieDataLabel.js",[ve["Core/Series/DataLabel.js"],ve["Core/Globals.js"],ve["Core/Renderer/RendererUtilities.js"],ve["Core/Series/SeriesRegistry.js"],ve["Core/Utilities.js"]],function(Ne,I,tt,Qe,nt){var ye,ze=I.noop,qe=tt.distribute,Fe=Qe.series,He=nt.arrayMax,xe=nt.clamp,we=nt.defined,de=nt.merge,W=nt.pick,fe=nt.relativeLength;return function(Se){function oe(){var ne,Oe,$e,ot,at,j,be,J,Ee,Ue,lt,Tt,Q=this,re=Q.data,P=Q.chart,G=Q.options.dataLabels||{},F=G.connectorPadding,ae=P.plotWidth,R=P.plotHeight,z=P.plotLeft,De=Math.round(P.chartWidth/3),Ke=Q.center,dt=Ke[2]/2,We=Ke[1],Te=[[],[]],Je=[0,0,0,0],Z=Q.dataLabelPositioners;Q.visible&&(G.enabled||Q._hasPointLabels)&&(re.forEach(function(Ft){Ft.dataLabel&&Ft.visible&&Ft.dataLabel.shortened&&(Ft.dataLabel.attr({width:"auto"}).css({width:"auto",textOverflow:"clip"}),Ft.dataLabel.shortened=!1)}),Fe.prototype.drawDataLabels.apply(Q),re.forEach(function(Ft){Ft.dataLabel&&(Ft.visible?(Te[Ft.half].push(Ft),Ft.dataLabel._pos=null,!we(G.style.width)&&!we(Ft.options.dataLabels&&Ft.options.dataLabels.style&&Ft.options.dataLabels.style.width)&&Ft.dataLabel.getBBox().width>De&&(Ft.dataLabel.css({width:Math.round(.7*De)+"px"}),Ft.dataLabel.shortened=!0)):(Ft.dataLabel=Ft.dataLabel.destroy(),Ft.dataLabels&&1===Ft.dataLabels.length&&delete Ft.dataLabels))}),Te.forEach(function(Ft,$t){var $n,vn=Ft.length,Nn=[];if(vn){if(Q.sortByAngle(Ft,$t-.5),0<Q.maxLabelDistance){var yn=Math.max(0,We-dt-Q.maxLabelDistance),hn=Math.min(We+dt+Q.maxLabelDistance,P.plotHeight);Ft.forEach(function(ke){0<ke.labelDistance&&ke.dataLabel&&(ke.top=Math.max(0,We-dt-ke.labelDistance),ke.bottom=Math.min(We+dt+ke.labelDistance,P.plotHeight),$n=ke.dataLabel.getBBox().height||21,ke.distributeBox={target:ke.labelPosition.natural.y-ke.top+$n/2,size:$n,rank:ke.y},Nn.push(ke.distributeBox))}),qe(Nn,yn=hn+$n-yn,yn/5)}for(lt=0;lt<vn;lt++){if(ot=(ne=Ft[lt]).dataLabel,Ue=!1===ne.visible?"hidden":"inherit",Ee=yn=(j=ne.labelPosition).natural.y,Nn&&we(ne.distributeBox)&&(void 0===ne.distributeBox.pos?Ue="hidden":(be=ne.distributeBox.size,Ee=Z.radialDistributionY(ne))),delete ne.positionIndex,G.justify)J=Z.justify(ne,dt,Ke);else switch(G.alignTo){case"connectors":J=Z.alignToConnectors(Ft,$t,ae,z);break;case"plotEdges":J=Z.alignToPlotEdges(ot,$t,ae,z);break;default:J=Z.radialDistributionX(Q,ne,Ee,yn)}ot._attr={visibility:Ue,align:j.alignment},ot._pos={x:J+W((Tt=ne.options.dataLabels||{}).x,G.x)+({left:F,right:-F}[j.alignment]||0),y:Ee+W(Tt.y,G.y)-10},j.final.x=J,j.final.y=Ee,W(G.crop,!0)&&(at=ot.getBBox().width,yn=null,J-at<F&&1===$t?(yn=Math.round(at-J+F),Je[3]=Math.max(yn,Je[3])):J+at>ae-F&&0===$t&&(yn=Math.round(J+at-ae+F),Je[1]=Math.max(yn,Je[1])),0>Ee-be/2?Je[0]=Math.max(Math.round(be/2-Ee),Je[0]):Ee+be/2>R&&(Je[2]=Math.max(Math.round(Ee+be/2-R),Je[2])),ot.sideOverflow=yn)}}}),0===He(Je)||this.verifyDataLabelOverflow(Je))&&(this.placeDataLabels(),this.points.forEach(function(Ft){var $t;Tt=de(G,Ft.options.dataLabels),(Oe=W(Tt.connectorWidth,1))&&($e=Ft.connector,(ot=Ft.dataLabel)&&ot._pos&&Ft.visible&&0<Ft.labelDistance?(Ue=ot._attr.visibility,($t=!$e)&&(Ft.connector=$e=P.renderer.path().addClass("highcharts-data-label-connector  highcharts-color-"+Ft.colorIndex+(Ft.className?" "+Ft.className:"")).add(Q.dataLabelsGroup),P.styledMode||$e.attr({"stroke-width":Oe,stroke:Tt.connectorColor||Ft.color||"#666666"})),$e[$t?"attr":"animate"]({d:Ft.getConnectorPath()}),$e.attr("visibility",Ue)):$e&&(Ft.connector=$e.destroy()))}))}function se(){this.points.forEach(function(Q){var P,re=Q.dataLabel;re&&Q.visible&&((P=re._pos)?(re.sideOverflow&&(re._attr.width=Math.max(re.getBBox().width-re.sideOverflow,0),re.css({width:re._attr.width+"px",textOverflow:(this.options.dataLabels.style||{}).textOverflow||"ellipsis"}),re.shortened=!0),re.attr(re._attr),re[re.moved?"animate":"attr"](P),re.moved=!0):re&&re.attr({y:-9999})),delete Q.distributeBox},this)}function pe(Q){var re=this.center,P=this.options,G=P.center,F=P.minSize||80,ae=null!==P.size;if(!ae){if(null!==G[0])var R=Math.max(re[2]-Math.max(Q[1],Q[3]),F);else R=Math.max(re[2]-Q[1]-Q[3],F),re[0]+=(Q[3]-Q[1])/2;null!==G[1]?R=xe(R,F,re[2]-Math.max(Q[0],Q[2])):(R=xe(R,F,re[2]-Q[0]-Q[2]),re[1]+=(Q[0]-Q[2])/2),R<re[2]?(re[2]=R,re[3]=Math.min(P.thickness?Math.max(0,R-2*P.thickness):Math.max(0,fe(P.innerSize||0,R)),R),this.translate(re),this.drawDataLabels&&this.drawDataLabels()):ae=!0}return ae}var Ce=[],L={radialDistributionY:function(Q){return Q.top+Q.distributeBox.pos},radialDistributionX:function(Q,re,P,G){return Q.getX(P<re.top+2||P>re.bottom-2?G:P,re.half,re)},justify:function(Q,re,P){return P[0]+(Q.half?-1:1)*(re+Q.labelDistance)},alignToPlotEdges:function(Q,re,P,G){return Q=Q.getBBox().width,re?Q+G:P-Q-G},alignToConnectors:function(Q,re,P,G){var ae,F=0;return Q.forEach(function(R){(ae=R.dataLabel.getBBox().width)>F&&(F=ae)}),re?F+G:P-F-G}};Se.compose=function(Q){Ne.compose(Fe),-1===Ce.indexOf(Q)&&(Ce.push(Q),(Q=Q.prototype).dataLabelPositioners=L,Q.alignDataLabel=ze,Q.drawDataLabels=oe,Q.placeDataLabels=se,Q.verifyDataLabelOverflow=pe)}}(ye||(ye={})),ye}),it(ve,"Extensions/OverlappingDataLabels.js",[ve["Core/Chart/Chart.js"],ve["Core/Utilities.js"]],function(Ne,I){function tt(xe,we){var de=!1;if(xe){var W=xe.newOpacity;xe.oldOpacity!==W&&(xe.alignAttr&&xe.placed?(xe[W?"removeClass":"addClass"]("highcharts-data-label-hidden"),de=!0,xe.alignAttr.opacity=W,xe[xe.isOld?"animate":"attr"](xe.alignAttr,null,function(){we.styledMode||xe.css({pointerEvents:W?"auto":"none"})}),nt(we,"afterHideOverlappingLabel")):xe.attr({opacity:W})),xe.isOld=!0}return de}var nt=I.fireEvent,ze=I.isArray,qe=I.isNumber,Fe=I.objectEach,He=I.pick;(0,I.addEvent)(Ne,"render",function(){var xe=this,we=[];(this.labelCollectors||[]).forEach(function(de){we=we.concat(de())}),(this.yAxis||[]).forEach(function(de){de.stacking&&de.options.stackLabels&&!de.options.stackLabels.allowOverlap&&Fe(de.stacking.stacks,function(W){Fe(W,function(fe){fe.label&&we.push(fe.label)})})}),(this.series||[]).forEach(function(de){var W=de.options.dataLabels;de.visible&&(!1!==W.enabled||de._hasPointLabels)&&((W=function(fe){return fe.forEach(function(ye){ye.visible&&(ze(ye.dataLabels)?ye.dataLabels:ye.dataLabel?[ye.dataLabel]:[]).forEach(function(Se){var oe=Se.options;Se.labelrank=He(oe.labelrank,ye.labelrank,ye.shapeArgs&&ye.shapeArgs.height),oe.allowOverlap?(Se.oldOpacity=Se.opacity,Se.newOpacity=1,tt(Se,xe)):we.push(Se)})})})(de.nodes||[]),W(de.points))}),this.hideOverlappingLabels(we)}),Ne.prototype.hideOverlappingLabels=function(xe){var fe,ye,Se,we=this,de=xe.length,W=we.renderer,oe=!1,se=function(L){var Q,G,re=L.box?0:L.padding||0,P=Q=0;if(L&&(!L.alignAttr||L.placed)){var F=L.alignAttr||{x:L.attr("x"),y:L.attr("y")},ae=L.parentGroup;return L.width||(Q=L.getBBox(),L.width=Q.width,L.height=Q.height,Q=W.fontMetrics(null,L.element).h),(G={left:"0",center:"0.5",right:"1"}[L.alignValue])?P=+G*(L.width-2*re):qe(L.x)&&Math.round(L.x)!==L.translateX&&(P=L.x-L.translateX),{x:F.x+(ae.translateX||0)+re-(P||0),y:F.y+(ae.translateY||0)+re-Q,width:L.width-2*re,height:L.height-2*re}}};for(ye=0;ye<de;ye++)(fe=xe[ye])&&(fe.oldOpacity=fe.opacity,fe.newOpacity=1,fe.absoluteBox=se(fe));for(xe.sort(function(L,Q){return(Q.labelrank||0)-(L.labelrank||0)}),ye=0;ye<de;ye++){var pe=(se=xe[ye])&&se.absoluteBox;for(fe=ye+1;fe<de;++fe){var Ce=(Se=xe[fe])&&Se.absoluteBox;!pe||!Ce||se===Se||0===se.newOpacity||0===Se.newOpacity||"hidden"===se.visibility||"hidden"===Se.visibility||Ce.x>=pe.x+pe.width||Ce.x+Ce.width<=pe.x||Ce.y>=pe.y+pe.height||Ce.y+Ce.height<=pe.y||((se.labelrank<Se.labelrank?se:Se).newOpacity=0)}}xe.forEach(function(L){tt(L,we)&&(oe=!0)}),oe&&nt(we,"afterHideAllOverlappingLabels")}}),it(ve,"Core/Responsive.js",[ve["Core/Utilities.js"]],function(Ne){var we,I=Ne.extend,tt=Ne.find,Qe=Ne.isArray,nt=Ne.isObject,ze=Ne.merge,qe=Ne.objectEach,Fe=Ne.pick,He=Ne.splat,xe=Ne.uniqueKey;return function(de){var W=[];de.compose=function(ye){return-1===W.indexOf(ye)&&(W.push(ye),I(ye.prototype,fe.prototype)),ye};var fe=function(){function ye(){}return ye.prototype.currentOptions=function(Se){var se=this,pe={};return function oe(Ce,L,Q,re){var P;qe(Ce,function(G,F){if(!re&&-1<se.collectionsWithUpdate.indexOf(F)&&L[F])for(G=He(G),Q[F]=[],P=0;P<Math.max(G.length,L[F].length);P++)L[F][P]&&(void 0===G[P]?Q[F][P]=L[F][P]:(Q[F][P]={},oe(G[P],L[F][P],Q[F][P],re+1)));else nt(G)?(Q[F]=Qe(G)?[]:{},oe(G,L[F]||{},Q[F],re+1)):Q[F]=void 0===L[F]?null:L[F]})}(Se,this.options,pe,0),pe},ye.prototype.matchResponsiveRule=function(Se,oe){var se=Se.condition;(se.callback||function(){return this.chartWidth<=Fe(se.maxWidth,Number.MAX_VALUE)&&this.chartHeight<=Fe(se.maxHeight,Number.MAX_VALUE)&&this.chartWidth>=Fe(se.minWidth,0)&&this.chartHeight>=Fe(se.minHeight,0)}).call(this)&&oe.push(Se._id)},ye.prototype.setResponsive=function(Se,oe){var se=this,pe=this.options.responsive,Ce=this.currentResponsive,L=[];!oe&&pe&&pe.rules&&pe.rules.forEach(function(Q){void 0===Q._id&&(Q._id=xe()),se.matchResponsiveRule(Q,L)},this),(oe=ze.apply(void 0,L.map(function(Q){return tt((pe||{}).rules||[],function(re){return re._id===Q})}).map(function(Q){return Q&&Q.chartOptions}))).isResponsiveOptions=!0,(L=L.toString()||void 0)!==(Ce&&Ce.ruleIds)&&(Ce&&this.update(Ce.undoOptions,Se,!0),L?((Ce=this.currentOptions(oe)).isResponsiveOptions=!0,this.currentResponsive={ruleIds:L,mergedOptions:oe,undoOptions:Ce},this.update(oe,Se,!0)):this.currentResponsive=void 0)},ye}()}(we||(we={})),we}),it(ve,"masters/highcharts.src.js",[ve["Core/Globals.js"],ve["Core/Utilities.js"],ve["Core/DefaultOptions.js"],ve["Core/Animation/Fx.js"],ve["Core/Animation/AnimationUtilities.js"],ve["Core/Renderer/HTML/AST.js"],ve["Core/FormatUtilities.js"],ve["Core/Renderer/RendererUtilities.js"],ve["Core/Renderer/SVG/SVGElement.js"],ve["Core/Renderer/SVG/SVGRenderer.js"],ve["Core/Renderer/HTML/HTMLElement.js"],ve["Core/Renderer/HTML/HTMLRenderer.js"],ve["Core/Axis/Axis.js"],ve["Core/Axis/DateTimeAxis.js"],ve["Core/Axis/LogarithmicAxis.js"],ve["Core/Axis/PlotLineOrBand/PlotLineOrBand.js"],ve["Core/Axis/Tick.js"],ve["Core/Tooltip.js"],ve["Core/Series/Point.js"],ve["Core/Pointer.js"],ve["Core/MSPointer.js"],ve["Core/Legend/Legend.js"],ve["Core/Chart/Chart.js"],ve["Core/Series/Series.js"],ve["Core/Series/SeriesRegistry.js"],ve["Series/Column/ColumnSeries.js"],ve["Series/Column/ColumnDataLabel.js"],ve["Series/Pie/PieSeries.js"],ve["Series/Pie/PieDataLabel.js"],ve["Core/Series/DataLabel.js"],ve["Core/Responsive.js"],ve["Core/Color/Color.js"],ve["Core/Time.js"]],function(Ne,I,tt,Qe,nt,ze,qe,Fe,He,xe,we,de,W,fe,ye,Se,oe,se,pe,Ce,L,Q,re,P,G,F,ae,R,z,De,Ke,dt,We){return Ne.animate=nt.animate,Ne.animObject=nt.animObject,Ne.getDeferredAnimation=nt.getDeferredAnimation,Ne.setAnimation=nt.setAnimation,Ne.stop=nt.stop,Ne.timers=Qe.timers,Ne.AST=ze,Ne.Axis=W,Ne.Chart=re,Ne.chart=re.chart,Ne.Fx=Qe,Ne.Legend=Q,Ne.PlotLineOrBand=Se,Ne.Point=pe,Ne.Pointer=L.isRequired()?L:Ce,Ne.Series=P,Ne.SVGElement=He,Ne.SVGRenderer=xe,Ne.Tick=oe,Ne.Time=We,Ne.Tooltip=se,Ne.Color=dt,Ne.color=dt.parse,de.compose(xe),we.compose(He),Ne.defaultOptions=tt.defaultOptions,Ne.getOptions=tt.getOptions,Ne.time=tt.defaultTime,Ne.setOptions=tt.setOptions,Ne.dateFormat=qe.dateFormat,Ne.format=qe.format,Ne.numberFormat=qe.numberFormat,Ne.addEvent=I.addEvent,Ne.arrayMax=I.arrayMax,Ne.arrayMin=I.arrayMin,Ne.attr=I.attr,Ne.clearTimeout=I.clearTimeout,Ne.correctFloat=I.correctFloat,Ne.createElement=I.createElement,Ne.css=I.css,Ne.defined=I.defined,Ne.destroyObjectProperties=I.destroyObjectProperties,Ne.discardElement=I.discardElement,Ne.distribute=Fe.distribute,Ne.erase=I.erase,Ne.error=I.error,Ne.extend=I.extend,Ne.extendClass=I.extendClass,Ne.find=I.find,Ne.fireEvent=I.fireEvent,Ne.getMagnitude=I.getMagnitude,Ne.getStyle=I.getStyle,Ne.inArray=I.inArray,Ne.isArray=I.isArray,Ne.isClass=I.isClass,Ne.isDOMElement=I.isDOMElement,Ne.isFunction=I.isFunction,Ne.isNumber=I.isNumber,Ne.isObject=I.isObject,Ne.isString=I.isString,Ne.keys=I.keys,Ne.merge=I.merge,Ne.normalizeTickInterval=I.normalizeTickInterval,Ne.objectEach=I.objectEach,Ne.offset=I.offset,Ne.pad=I.pad,Ne.pick=I.pick,Ne.pInt=I.pInt,Ne.relativeLength=I.relativeLength,Ne.removeEvent=I.removeEvent,Ne.seriesType=G.seriesType,Ne.splat=I.splat,Ne.stableSort=I.stableSort,Ne.syncTimeout=I.syncTimeout,Ne.timeUnits=I.timeUnits,Ne.uniqueKey=I.uniqueKey,Ne.useSerialIds=I.useSerialIds,Ne.wrap=I.wrap,ae.compose(F),De.compose(P),fe.compose(W),ye.compose(W),z.compose(R),Se.compose(W),Ke.compose(re),Ne}),ve["masters/highcharts.src.js"]._modules=ve,ve["masters/highcharts.src.js"]},Gr.exports?(it.default=it,Gr.exports=h.document?it(h):it):void 0!==(C=function(){return it(h)}.call(Ln,me,Ln,Gr))&&(Gr.exports=C)},3056:(Gr,Ln,me)=>{"use strict";function Ne(j,be,J,Ee){var Tt,Ue=arguments.length,lt=Ue<3?be:null===Ee?Ee=Object.getOwnPropertyDescriptor(be,J):Ee;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)lt=Reflect.decorate(j,be,J,Ee);else for(var Ft=j.length-1;Ft>=0;Ft--)(Tt=j[Ft])&&(lt=(Ue<3?Tt(lt):Ue>3?Tt(be,J,lt):Tt(be,J))||lt);return Ue>3&&lt&&Object.defineProperty(be,J,lt),lt}me.d(Ln,{OP:()=>Oe,ZQ:()=>at});var L=me(5e3),Q=me(2382),re=me(9808);function P(j,be){if(1&j&&(L.TgZ(0,"span"),L._uU(1),L.qZA()),2&j){const J=L.oxw();L.xp6(1),L.Oqu(J._placeholder)}}function G(j,be){if(1&j){const J=L.EpF();L.TgZ(0,"span",15)(1,"span",16)(2,"span"),L._uU(3),L.qZA(),L.TgZ(4,"a",17),L.NdJ("click",function(Ue){const Tt=L.CHM(J).$implicit;return L.oxw().onItemClick(Ue,Tt)}),L._uU(5,"x"),L.qZA()()()}if(2&j){const J=be.$implicit,Ee=be.index,Ue=L.oxw();L.xp6(1),L.Q6J("hidden",Ee>Ue._settings.itemsShowLimit-1),L.xp6(2),L.hij("",J.text,"\xa0")}}function F(j,be){if(1&j&&(L.TgZ(0,"span",18),L._uU(1),L.qZA()),2&j){const J=L.oxw();L.xp6(1),L.hij("+",J.itemShowRemaining(),"")}}function ae(j,be){if(1&j){const J=L.EpF();L.TgZ(0,"li",19),L.NdJ("click",function(){return L.CHM(J),L.oxw().toggleSelectAll()}),L._UZ(1,"input",20),L.TgZ(2,"div"),L._uU(3),L.qZA()()}if(2&j){const J=L.oxw();L.xp6(1),L.Q6J("checked",J.isAllItemsSelected())("disabled",J.disabled||J.isLimitSelectionReached()),L.xp6(2),L.Oqu(J.isAllItemsSelected()?J._settings.unSelectAllText:J._settings.selectAllText)}}function R(j,be){if(1&j){const J=L.EpF();L.TgZ(0,"li",21)(1,"input",22),L.NdJ("ngModelChange",function(Ue){return L.CHM(J),L.oxw().filter.text=Ue})("ngModelChange",function(Ue){return L.CHM(J),L.oxw().onFilterTextChange(Ue)}),L.qZA()()}if(2&j){const J=L.oxw();L.xp6(1),L.Q6J("readOnly",J.disabled)("placeholder",J._settings.searchPlaceholderText)("ngModel",J.filter.text)}}function z(j,be){if(1&j){const J=L.EpF();L.TgZ(0,"li",23),L.NdJ("click",function(Ue){const Tt=L.CHM(J).$implicit;return L.oxw().onItemClick(Ue,Tt)}),L._UZ(1,"input",24),L.TgZ(2,"div"),L._uU(3),L.qZA()()}if(2&j){const J=be.$implicit,Ee=L.oxw();L.xp6(1),L.Q6J("checked",Ee.isSelected(J))("disabled",Ee.disabled||Ee.isLimitSelectionReached()&&!Ee.isSelected(J)||J.isDisabled),L.uIk("aria-label",J.text),L.xp6(2),L.Oqu(J.text)}}function De(j,be){if(1&j&&(L.TgZ(0,"li",25)(1,"h5"),L._uU(2),L.qZA()()),2&j){const J=L.oxw();L.xp6(2),L.Oqu(J._settings.noFilteredDataAvailablePlaceholderText)}}function Ke(j,be){if(1&j&&(L.TgZ(0,"li",26)(1,"h5"),L._uU(2),L.qZA()()),2&j){const J=L.oxw();L.xp6(2),L.Oqu(J._settings.noDataAvailablePlaceholderText)}}const dt=function(j){return{"dropdown-multiselect--active":j}};class We{constructor(be){("string"==typeof be||"number"==typeof be)&&(this.id=this.text=be,this.isDisabled=!1),"object"==typeof be&&(this.id=be.id,this.text=be.text,this.isDisabled=be.isDisabled)}}let Te=(()=>{let j=class{transform(J,Ee){return J&&Ee?J.filter(Ue=>this.applyFilter(Ue,Ee)):J}applyFilter(J,Ee){return"string"==typeof J.text&&"string"==typeof Ee.text?!(Ee.text&&J.text&&-1===J.text.toLowerCase().indexOf(Ee.text.toLowerCase())):!(Ee.text&&J.text&&-1===J.text.toString().toLowerCase().indexOf(Ee.text.toString().toLowerCase()))}};return j.\u0275fac=function(J){return new(J||j)},j.\u0275pipe=L.Yjl({name:"multiSelectFilter",type:j,pure:!1}),j})();const Je={provide:Q.JU,useExisting:(0,L.Gpc)(()=>Oe),multi:!0},Z=()=>{};let Oe=(()=>{let j=class{constructor(J,Ee){this.listFilterPipe=J,this.cdr=Ee,this._data=[],this.selectedItems=[],this.isDropdownOpen=!0,this._placeholder="Select",this._sourceDataType=null,this._sourceDataFields=[],this.filter=new We(this.data),this.defaultSettings={singleSelection:!1,idField:"id",textField:"text",disabledField:"isDisabled",enableCheckAll:!0,selectAllText:"Select All",unSelectAllText:"UnSelect All",allowSearchFilter:!1,limitSelection:-1,clearSearchFilter:!0,maxHeight:197,itemsShowLimit:999999999999,searchPlaceholderText:"Search",noDataAvailablePlaceholderText:"No data available",noFilteredDataAvailablePlaceholderText:"No filtered data available",closeDropDownOnSelection:!1,showSelectedItemsAtTop:!1,defaultOpen:!1,allowRemoteDataSearch:!1},this.disabled=!1,this.onFilterChange=new L.vpe,this.onDropDownClose=new L.vpe,this.onSelect=new L.vpe,this.onDeSelect=new L.vpe,this.onSelectAll=new L.vpe,this.onDeSelectAll=new L.vpe,this.onTouchedCallback=Z,this.onChangeCallback=Z}set placeholder(J){this._placeholder=J||"Select"}set settings(J){this._settings=J?Object.assign(this.defaultSettings,J):Object.assign(this.defaultSettings)}set data(J){if(J){const Ee=J[0];this._sourceDataType=typeof Ee,this._sourceDataFields=this.getFields(Ee),this._data=J.map(Ue=>new We("string"==typeof Ue||"number"==typeof Ue?Ue:{id:Ue[this._settings.idField],text:Ue[this._settings.textField],isDisabled:Ue[this._settings.disabledField]}))}else this._data=[]}onFilterTextChange(J){this.onFilterChange.emit(J)}onItemClick(J,Ee){if(this.disabled||Ee.isDisabled)return!1;const Ue=this.isSelected(Ee),lt=-1===this._settings.limitSelection||this._settings.limitSelection>0&&this.selectedItems.length<this._settings.limitSelection;Ue?this.removeSelected(Ee):lt&&this.addSelected(Ee),this._settings.singleSelection&&this._settings.closeDropDownOnSelection&&this.closeDropdown()}writeValue(J){if(null!=J&&J.length>0)if(this._settings.singleSelection)try{if(J.length>=1){const Ee=J[0];this.selectedItems=[new We("string"==typeof Ee||"number"==typeof Ee?Ee:{id:Ee[this._settings.idField],text:Ee[this._settings.textField],isDisabled:Ee[this._settings.disabledField]})]}}catch(Ee){}else{const Ee=J.map(Ue=>new We("string"==typeof Ue||"number"==typeof Ue?Ue:{id:Ue[this._settings.idField],text:Ue[this._settings.textField],isDisabled:Ue[this._settings.disabledField]}));this.selectedItems=this._settings.limitSelection>0?Ee.splice(0,this._settings.limitSelection):Ee}else this.selectedItems=[];this.onChangeCallback(J),this.cdr.markForCheck()}registerOnChange(J){this.onChangeCallback=J}registerOnTouched(J){this.onTouchedCallback=J}onTouched(){this.onTouchedCallback()}trackByFn(J,Ee){return Ee.id}isSelected(J){let Ee=!1;return this.selectedItems.forEach(Ue=>{J.id===Ue.id&&(Ee=!0)}),Ee}isLimitSelectionReached(){return this._settings.limitSelection===this.selectedItems.length}isAllItemsSelected(){let J=this.listFilterPipe.transform(this._data,this.filter);const Ee=J.filter(Ue=>Ue.isDisabled).length;return!((!this.data||0===this.data.length)&&this._settings.allowRemoteDataSearch)&&J.length===this.selectedItems.length+Ee}showButton(){return!(this._settings.singleSelection||this._settings.limitSelection>0)}itemShowRemaining(){return this.selectedItems.length-this._settings.itemsShowLimit}addSelected(J){this._settings.singleSelection?(this.selectedItems=[],this.selectedItems.push(J)):this.selectedItems.push(J),this.onChangeCallback(this.emittedValue(this.selectedItems)),this.onSelect.emit(this.emittedValue(J))}removeSelected(J){this.selectedItems.forEach(Ee=>{J.id===Ee.id&&this.selectedItems.splice(this.selectedItems.indexOf(Ee),1)}),this.onChangeCallback(this.emittedValue(this.selectedItems)),this.onDeSelect.emit(this.emittedValue(J))}emittedValue(J){const Ee=[];if(Array.isArray(J))J.map(Ue=>{Ee.push(this.objectify(Ue))});else if(J)return this.objectify(J);return Ee}objectify(J){if("object"===this._sourceDataType){const Ee={};return Ee[this._settings.idField]=J.id,Ee[this._settings.textField]=J.text,this._sourceDataFields.includes(this._settings.disabledField)&&(Ee[this._settings.disabledField]=J.isDisabled),Ee}return"number"===this._sourceDataType?Number(J.id):J.text}toggleDropdown(J){J.preventDefault(),(!this.disabled||!this._settings.singleSelection)&&(this._settings.defaultOpen=!this._settings.defaultOpen,this._settings.defaultOpen||this.onDropDownClose.emit())}closeDropdown(){this._settings.defaultOpen=!1,this._settings.clearSearchFilter&&(this.filter.text=""),this.onDropDownClose.emit()}toggleSelectAll(){if(this.disabled)return!1;this.isAllItemsSelected()?(this.selectedItems=[],this.onDeSelectAll.emit(this.emittedValue(this.selectedItems))):(this.selectedItems=this.listFilterPipe.transform(this._data,this.filter).filter(J=>!J.isDisabled).slice(),this.onSelectAll.emit(this.emittedValue(this.selectedItems))),this.onChangeCallback(this.emittedValue(this.selectedItems))}getFields(J){const Ee=[];if("object"!=typeof J)return Ee;for(const Ue in J)Ee.push(Ue);return Ee}};return j.\u0275fac=function(J){return new(J||j)(L.Y36(Te),L.Y36(L.sBO))},j.\u0275cmp=L.Xpm({type:j,selectors:[["ng-multiselect-dropdown"]],hostBindings:function(J,Ee){1&J&&L.NdJ("blur",function(){return Ee.onTouched()})},inputs:{disabled:"disabled",placeholder:"placeholder",settings:"settings",data:"data"},outputs:{onFilterChange:"onFilterChange",onDropDownClose:"onDropDownClose",onSelect:"onSelect",onDeSelect:"onDeSelect",onSelectAll:"onSelectAll",onDeSelectAll:"onDeSelectAll"},features:[L._Bn([Je])],decls:18,vars:23,consts:[["tabindex","0",1,"multiselect-dropdown",3,"blur","clickOutside"],["tabindex","-1",1,"dropdown-btn",3,"click"],[4,"ngIf"],["class","selected-item-container",4,"ngFor","ngForOf","ngForTrackBy"],[2,"float","right !important","padding-right","4px",3,"ngClass"],["style","padding-right: 15px;",4,"ngIf"],[1,"dropdown-multiselect__caret"],[1,"dropdown-list",3,"hidden"],[1,"item1"],["class","multiselect-item-checkbox","style","border-bottom: 1px solid #ccc;padding:10px",3,"click",4,"ngIf"],["class","filter-textbox",4,"ngIf"],[1,"item2"],["class","multiselect-item-checkbox",3,"click",4,"ngFor","ngForOf"],["class","no-filtered-data",4,"ngIf"],["class","no-data",4,"ngIf"],[1,"selected-item-container"],[1,"selected-item",3,"hidden"],[2,"padding-left","2px","color","white",3,"click"],[2,"padding-right","15px"],[1,"multiselect-item-checkbox",2,"border-bottom","1px solid #ccc","padding","10px",3,"click"],["type","checkbox","aria-label","multiselect-select-all",3,"checked","disabled"],[1,"filter-textbox"],["type","text","aria-label","multiselect-search",3,"readOnly","placeholder","ngModel","ngModelChange"],[1,"multiselect-item-checkbox",3,"click"],["type","checkbox",3,"checked","disabled"],[1,"no-filtered-data"],[1,"no-data"]],template:function(J,Ee){1&J&&(L.TgZ(0,"div",0),L.NdJ("blur",function(){return Ee.onTouched()})("clickOutside",function(){return Ee.closeDropdown()}),L.TgZ(1,"div")(2,"span",1),L.NdJ("click",function(lt){return Ee.toggleDropdown(lt)}),L.YNc(3,P,2,1,"span",2),L.YNc(4,G,6,2,"span",3),L.TgZ(5,"span",4),L.YNc(6,F,2,1,"span",5),L._UZ(7,"span",6),L.qZA()()(),L.TgZ(8,"div",7)(9,"ul",8),L.YNc(10,ae,4,3,"li",9),L.YNc(11,R,2,3,"li",10),L.qZA(),L.TgZ(12,"ul",11),L.YNc(13,z,4,4,"li",12),L.ALo(14,"multiSelectFilter"),L.YNc(15,De,3,1,"li",13),L.ALo(16,"multiSelectFilter"),L.YNc(17,Ke,3,1,"li",14),L.qZA()()()),2&J&&(L.xp6(1),L.ekj("disabled",Ee.disabled),L.xp6(2),L.Q6J("ngIf",0==Ee.selectedItems.length),L.xp6(1),L.Q6J("ngForOf",Ee.selectedItems)("ngForTrackBy",Ee.trackByFn),L.xp6(1),L.Q6J("ngClass",L.VKq(21,dt,Ee._settings.defaultOpen)),L.xp6(1),L.Q6J("ngIf",Ee.itemShowRemaining()>0),L.xp6(2),L.Q6J("hidden",!Ee._settings.defaultOpen),L.xp6(2),L.Q6J("ngIf",(Ee._data.length>0||Ee._settings.allowRemoteDataSearch)&&!Ee._settings.singleSelection&&Ee._settings.enableCheckAll&&-1===Ee._settings.limitSelection),L.xp6(1),L.Q6J("ngIf",(Ee._data.length>0||Ee._settings.allowRemoteDataSearch)&&Ee._settings.allowSearchFilter),L.xp6(1),L.Udp("max-height",Ee._settings.maxHeight+"px"),L.xp6(1),L.Q6J("ngForOf",L.xi3(14,15,Ee._data,Ee.filter)),L.xp6(2),L.Q6J("ngIf",0!=Ee._data.length&&0==L.xi3(16,18,Ee._data,Ee.filter).length&&!Ee._settings.allowRemoteDataSearch),L.xp6(2),L.Q6J("ngIf",0==Ee._data.length&&!Ee._settings.allowRemoteDataSearch))},directives:function(){return[$e,re.O5,re.sg,re.mk,Q.Fj,Q.JJ,Q.On]},pipes:function(){return[Te]},styles:['.multiselect-dropdown[_ngcontent-%COMP%]{position:relative;width:100%;font-size:inherit;font-family:inherit}.multiselect-dropdown[_ngcontent-%COMP%]   .dropdown-btn[_ngcontent-%COMP%]{display:inline-block;border:1px solid #adadad;width:100%;padding:6px 12px;margin-bottom:0;font-weight:400;line-height:1.52857143;text-align:left;vertical-align:middle;cursor:pointer;background-image:none;border-radius:4px}.multiselect-dropdown[_ngcontent-%COMP%]   .dropdown-btn[_ngcontent-%COMP%]   .selected-item-container[_ngcontent-%COMP%]{display:flex;float:left}.multiselect-dropdown[_ngcontent-%COMP%]   .dropdown-btn[_ngcontent-%COMP%]   .selected-item-container[_ngcontent-%COMP%]   .selected-item[_ngcontent-%COMP%]{border:1px solid #337ab7;margin-right:4px;background:#337ab7;padding:0 5px;color:#fff;border-radius:2px;float:left;max-width:100px}.multiselect-dropdown[_ngcontent-%COMP%]   .dropdown-btn[_ngcontent-%COMP%]   .selected-item-container[_ngcontent-%COMP%]   .selected-item[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{overflow:hidden;text-overflow:ellipsis}.multiselect-dropdown[_ngcontent-%COMP%]   .dropdown-btn[_ngcontent-%COMP%]   .selected-item-container[_ngcontent-%COMP%]   .selected-item[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{text-decoration:none}.multiselect-dropdown[_ngcontent-%COMP%]   .dropdown-btn[_ngcontent-%COMP%]   .selected-item[_ngcontent-%COMP%]:hover{box-shadow:1px 1px #959595}.multiselect-dropdown[_ngcontent-%COMP%]   .dropdown-btn[_ngcontent-%COMP%]   .dropdown-multiselect__caret[_ngcontent-%COMP%]{line-height:16px;display:block;position:absolute;box-sizing:border-box;width:40px;height:38px;right:1px;top:0;padding:4px 8px;margin:0;text-decoration:none;text-align:center;cursor:pointer;transition:transform .2s}.multiselect-dropdown[_ngcontent-%COMP%]   .dropdown-btn[_ngcontent-%COMP%]   .dropdown-multiselect__caret[_ngcontent-%COMP%]:before{position:relative;right:0;top:65%;color:#999;margin-top:4px;border-style:solid;border-width:8px 8px 0;border-color:#999 transparent;content:""}.multiselect-dropdown[_ngcontent-%COMP%]   .dropdown-btn[_ngcontent-%COMP%]   .dropdown-multiselect--active[_ngcontent-%COMP%]   .dropdown-multiselect__caret[_ngcontent-%COMP%]{transform:rotateZ(180deg)}.multiselect-dropdown[_ngcontent-%COMP%]   .disabled[_ngcontent-%COMP%] > span[_ngcontent-%COMP%]{background-color:#eceeef}.dropdown-list[_ngcontent-%COMP%]{position:absolute;padding-top:6px;width:100%;z-index:9999;border:1px solid #ccc;border-radius:3px;background:#fff;margin-top:10px;box-shadow:0 1px 5px #959595}.dropdown-list[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{padding:0;list-style:none;overflow:auto;margin:0}.dropdown-list[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{padding:6px 10px;cursor:pointer;text-align:left}.dropdown-list[_ngcontent-%COMP%]   .filter-textbox[_ngcontent-%COMP%]{border-bottom:1px solid #ccc;position:relative;padding:10px}.dropdown-list[_ngcontent-%COMP%]   .filter-textbox[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{border:0;width:100%;padding:0 0 0 26px}.dropdown-list[_ngcontent-%COMP%]   .filter-textbox[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus{outline:0}.multiselect-item-checkbox[_ngcontent-%COMP%]:hover{background-color:#e4e3e3}.multiselect-item-checkbox[_ngcontent-%COMP%]   input[type=checkbox][_ngcontent-%COMP%]{border:0;clip:rect(0 0 0 0);height:1px;margin:-1px;overflow:hidden;padding:0;position:absolute;width:1px}.multiselect-item-checkbox[_ngcontent-%COMP%]   input[type=checkbox][_ngcontent-%COMP%]:focus + div[_ngcontent-%COMP%]:before, .multiselect-item-checkbox[_ngcontent-%COMP%]   input[type=checkbox][_ngcontent-%COMP%]:hover + div[_ngcontent-%COMP%]:before{border-color:#337ab7;background-color:#f2f2f2}.multiselect-item-checkbox[_ngcontent-%COMP%]   input[type=checkbox][_ngcontent-%COMP%]:active + div[_ngcontent-%COMP%]:before{transition-duration:0s}.multiselect-item-checkbox[_ngcontent-%COMP%]   input[type=checkbox][_ngcontent-%COMP%] + div[_ngcontent-%COMP%]{position:relative;padding-left:2em;vertical-align:middle;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:pointer;margin:0;color:#000}.multiselect-item-checkbox[_ngcontent-%COMP%]   input[type=checkbox][_ngcontent-%COMP%] + div[_ngcontent-%COMP%]:before{box-sizing:content-box;content:"";color:#337ab7;position:absolute;top:50%;left:0;width:14px;height:14px;margin-top:-9px;border:2px solid #337ab7;text-align:center;transition:.4s}.multiselect-item-checkbox[_ngcontent-%COMP%]   input[type=checkbox][_ngcontent-%COMP%] + div[_ngcontent-%COMP%]:after{box-sizing:content-box;content:"";position:absolute;transform:scale(0);transform-origin:50%;transition:transform .2s ease-out;background-color:transparent;top:50%;left:4px;width:8px;height:3px;margin-top:-4px;border-style:solid;border-color:#fff;border-width:0 0 3px 3px;-o-border-image:none;border-image:none;transform:rotate(-45deg) scale(0)}.multiselect-item-checkbox[_ngcontent-%COMP%]   input[type=checkbox][_ngcontent-%COMP%]:disabled + div[_ngcontent-%COMP%]:before{border-color:#ccc}.multiselect-item-checkbox[_ngcontent-%COMP%]   input[type=checkbox][_ngcontent-%COMP%]:disabled:focus + div[_ngcontent-%COMP%]:before   .multiselect-item-checkbox[_ngcontent-%COMP%]   input[type=checkbox][_ngcontent-%COMP%]:disabled:hover + div[_ngcontent-%COMP%]:before{background-color:inherit}.multiselect-item-checkbox[_ngcontent-%COMP%]   input[type=checkbox][_ngcontent-%COMP%]:disabled:checked + div[_ngcontent-%COMP%]:before{background-color:#ccc}.multiselect-item-checkbox[_ngcontent-%COMP%]   input[type=checkbox][_ngcontent-%COMP%]:checked + div[_ngcontent-%COMP%]:after{content:"";transition:transform .2s ease-out;transform:rotate(-45deg) scale(1)}.multiselect-item-checkbox[_ngcontent-%COMP%]   input[type=checkbox][_ngcontent-%COMP%]:checked + div[_ngcontent-%COMP%]:before{-webkit-animation:.2s ease-in borderscale;animation:.2s ease-in borderscale;background:#337ab7}@-webkit-keyframes borderscale{50%{box-shadow:0 0 0 2px #337ab7}}@keyframes borderscale{50%{box-shadow:0 0 0 2px #337ab7}}'],changeDetection:0}),Ne([(0,L.IIB)()],j.prototype,"placeholder",null),Ne([(0,L.IIB)()],j.prototype,"disabled",void 0),Ne([(0,L.IIB)()],j.prototype,"settings",null),Ne([(0,L.IIB)()],j.prototype,"data",null),Ne([(0,L.r_U)("onFilterChange")],j.prototype,"onFilterChange",void 0),Ne([(0,L.r_U)("onDropDownClose")],j.prototype,"onDropDownClose",void 0),Ne([(0,L.r_U)("onSelect")],j.prototype,"onSelect",void 0),Ne([(0,L.r_U)("onDeSelect")],j.prototype,"onDeSelect",void 0),Ne([(0,L.r_U)("onSelectAll")],j.prototype,"onSelectAll",void 0),Ne([(0,L.r_U)("onDeSelectAll")],j.prototype,"onDeSelectAll",void 0),Ne([(0,L.L6J)("blur")],j.prototype,"onTouched",null),j})(),$e=(()=>{let j=class{constructor(J){this._elementRef=J,this.clickOutside=new L.vpe}onClick(J,Ee){Ee&&(this._elementRef.nativeElement.contains(Ee)||this.clickOutside.emit(J))}};return j.\u0275fac=function(J){return new(J||j)(L.Y36(L.SBq))},j.\u0275dir=L.lG2({type:j,selectors:[["","clickOutside",""]],hostBindings:function(J,Ee){1&J&&L.NdJ("click",function(lt){return Ee.onClick(lt,lt.target)},!1,L.evT)},outputs:{clickOutside:"clickOutside"}}),Ne([(0,L.r_U)()],j.prototype,"clickOutside",void 0),Ne([(0,L.L6J)("document:click",["$event","$event.target"])],j.prototype,"onClick",null),j})();var ot;let at=ot=class{static forRoot(){return{ngModule:ot}}};at.\u0275fac=function(be){return new(be||at)},at.\u0275mod=L.oAB({type:at}),at.\u0275inj=L.cJS({providers:[Te],imports:[[re.ez,Q.u5]]})},1135:(Gr,Ln,me)=>{"use strict";me.d(Ln,{X:()=>h});var C=me(7579);class h extends C.x{constructor(ve){super(),this._value=ve}get value(){return this.getValue()}_subscribe(ve){const Ne=super._subscribe(ve);return!Ne.closed&&ve.next(this._value),Ne}getValue(){const{hasError:ve,thrownError:Ne,_value:I}=this;if(ve)throw Ne;return this._throwIfClosed(),I}next(ve){super.next(this._value=ve)}}},8306:(Gr,Ln,me)=>{"use strict";me.d(Ln,{y:()=>ze});var C=me(930),h=me(727),it=me(8822),ve=me(4671);var tt=me(2416),Qe=me(576),nt=me(2806);let ze=(()=>{class xe{constructor(de){de&&(this._subscribe=de)}lift(de){const W=new xe;return W.source=this,W.operator=de,W}subscribe(de,W,fe){const ye=function He(xe){return xe&&xe instanceof C.Lv||function Fe(xe){return xe&&(0,Qe.m)(xe.next)&&(0,Qe.m)(xe.error)&&(0,Qe.m)(xe.complete)}(xe)&&(0,h.Nn)(xe)}(de)?de:new C.Hp(de,W,fe);return(0,nt.x)(()=>{const{operator:Se,source:oe}=this;ye.add(Se?Se.call(ye,oe):oe?this._subscribe(ye):this._trySubscribe(ye))}),ye}_trySubscribe(de){try{return this._subscribe(de)}catch(W){de.error(W)}}forEach(de,W){return new(W=qe(W))((fe,ye)=>{const Se=new C.Hp({next:oe=>{try{de(oe)}catch(se){ye(se),Se.unsubscribe()}},error:ye,complete:fe});this.subscribe(Se)})}_subscribe(de){var W;return null===(W=this.source)||void 0===W?void 0:W.subscribe(de)}[it.L](){return this}pipe(...de){return function I(xe){return 0===xe.length?ve.y:1===xe.length?xe[0]:function(de){return xe.reduce((W,fe)=>fe(W),de)}}(de)(this)}toPromise(de){return new(de=qe(de))((W,fe)=>{let ye;this.subscribe(Se=>ye=Se,Se=>fe(Se),()=>W(ye))})}}return xe.create=we=>new xe(we),xe})();function qe(xe){var we;return null!==(we=null!=xe?xe:tt.v.Promise)&&void 0!==we?we:Promise}},7579:(Gr,Ln,me)=>{"use strict";me.d(Ln,{x:()=>tt});var C=me(8306),h=me(727);const ve=(0,me(3888).d)(nt=>function(){nt(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var Ne=me(8737),I=me(2806);let tt=(()=>{class nt extends C.y{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(qe){const Fe=new Qe(this,this);return Fe.operator=qe,Fe}_throwIfClosed(){if(this.closed)throw new ve}next(qe){(0,I.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const Fe of this.currentObservers)Fe.next(qe)}})}error(qe){(0,I.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=qe;const{observers:Fe}=this;for(;Fe.length;)Fe.shift().error(qe)}})}complete(){(0,I.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:qe}=this;for(;qe.length;)qe.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var qe;return(null===(qe=this.observers)||void 0===qe?void 0:qe.length)>0}_trySubscribe(qe){return this._throwIfClosed(),super._trySubscribe(qe)}_subscribe(qe){return this._throwIfClosed(),this._checkFinalizedStatuses(qe),this._innerSubscribe(qe)}_innerSubscribe(qe){const{hasError:Fe,isStopped:He,observers:xe}=this;return Fe||He?h.Lc:(this.currentObservers=null,xe.push(qe),new h.w0(()=>{this.currentObservers=null,(0,Ne.P)(xe,qe)}))}_checkFinalizedStatuses(qe){const{hasError:Fe,thrownError:He,isStopped:xe}=this;Fe?qe.error(He):xe&&qe.complete()}asObservable(){const qe=new C.y;return qe.source=this,qe}}return nt.create=(ze,qe)=>new Qe(ze,qe),nt})();class Qe extends tt{constructor(ze,qe){super(),this.destination=ze,this.source=qe}next(ze){var qe,Fe;null===(Fe=null===(qe=this.destination)||void 0===qe?void 0:qe.next)||void 0===Fe||Fe.call(qe,ze)}error(ze){var qe,Fe;null===(Fe=null===(qe=this.destination)||void 0===qe?void 0:qe.error)||void 0===Fe||Fe.call(qe,ze)}complete(){var ze,qe;null===(qe=null===(ze=this.destination)||void 0===ze?void 0:ze.complete)||void 0===qe||qe.call(ze)}_subscribe(ze){var qe,Fe;return null!==(Fe=null===(qe=this.source)||void 0===qe?void 0:qe.subscribe(ze))&&void 0!==Fe?Fe:h.Lc}}},930:(Gr,Ln,me)=>{"use strict";me.d(Ln,{Hp:()=>de,Lv:()=>Fe});var C=me(576),h=me(727),it=me(2416),ve=me(7849),Ne=me(5032);const I=nt("C",void 0,void 0);function nt(oe,se,pe){return{kind:oe,value:se,error:pe}}var ze=me(3410),qe=me(2806);class Fe extends h.w0{constructor(se){super(),this.isStopped=!1,se?(this.destination=se,(0,h.Nn)(se)&&se.add(this)):this.destination=Se}static create(se,pe,Ce){return new de(se,pe,Ce)}next(se){this.isStopped?ye(function Qe(oe){return nt("N",oe,void 0)}(se),this):this._next(se)}error(se){this.isStopped?ye(function tt(oe){return nt("E",void 0,oe)}(se),this):(this.isStopped=!0,this._error(se))}complete(){this.isStopped?ye(I,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(se){this.destination.next(se)}_error(se){try{this.destination.error(se)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const He=Function.prototype.bind;function xe(oe,se){return He.call(oe,se)}class we{constructor(se){this.partialObserver=se}next(se){const{partialObserver:pe}=this;if(pe.next)try{pe.next(se)}catch(Ce){W(Ce)}}error(se){const{partialObserver:pe}=this;if(pe.error)try{pe.error(se)}catch(Ce){W(Ce)}else W(se)}complete(){const{partialObserver:se}=this;if(se.complete)try{se.complete()}catch(pe){W(pe)}}}class de extends Fe{constructor(se,pe,Ce){let L;if(super(),(0,C.m)(se)||!se)L={next:null!=se?se:void 0,error:null!=pe?pe:void 0,complete:null!=Ce?Ce:void 0};else{let Q;this&&it.v.useDeprecatedNextContext?(Q=Object.create(se),Q.unsubscribe=()=>this.unsubscribe(),L={next:se.next&&xe(se.next,Q),error:se.error&&xe(se.error,Q),complete:se.complete&&xe(se.complete,Q)}):L=se}this.destination=new we(L)}}function W(oe){it.v.useDeprecatedSynchronousErrorHandling?(0,qe.O)(oe):(0,ve.h)(oe)}function ye(oe,se){const{onStoppedNotification:pe}=it.v;pe&&ze.z.setTimeout(()=>pe(oe,se))}const Se={closed:!0,next:Ne.Z,error:function fe(oe){throw oe},complete:Ne.Z}},727:(Gr,Ln,me)=>{"use strict";me.d(Ln,{Lc:()=>I,w0:()=>Ne,Nn:()=>tt});var C=me(576);const it=(0,me(3888).d)(nt=>function(qe){nt(this),this.message=qe?`${qe.length} errors occurred during unsubscription:\n${qe.map((Fe,He)=>`${He+1}) ${Fe.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=qe});var ve=me(8737);class Ne{constructor(ze){this.initialTeardown=ze,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let ze;if(!this.closed){this.closed=!0;const{_parentage:qe}=this;if(qe)if(this._parentage=null,Array.isArray(qe))for(const xe of qe)xe.remove(this);else qe.remove(this);const{initialTeardown:Fe}=this;if((0,C.m)(Fe))try{Fe()}catch(xe){ze=xe instanceof it?xe.errors:[xe]}const{_finalizers:He}=this;if(He){this._finalizers=null;for(const xe of He)try{Qe(xe)}catch(we){ze=null!=ze?ze:[],we instanceof it?ze=[...ze,...we.errors]:ze.push(we)}}if(ze)throw new it(ze)}}add(ze){var qe;if(ze&&ze!==this)if(this.closed)Qe(ze);else{if(ze instanceof Ne){if(ze.closed||ze._hasParent(this))return;ze._addParent(this)}(this._finalizers=null!==(qe=this._finalizers)&&void 0!==qe?qe:[]).push(ze)}}_hasParent(ze){const{_parentage:qe}=this;return qe===ze||Array.isArray(qe)&&qe.includes(ze)}_addParent(ze){const{_parentage:qe}=this;this._parentage=Array.isArray(qe)?(qe.push(ze),qe):qe?[qe,ze]:ze}_removeParent(ze){const{_parentage:qe}=this;qe===ze?this._parentage=null:Array.isArray(qe)&&(0,ve.P)(qe,ze)}remove(ze){const{_finalizers:qe}=this;qe&&(0,ve.P)(qe,ze),ze instanceof Ne&&ze._removeParent(this)}}Ne.EMPTY=(()=>{const nt=new Ne;return nt.closed=!0,nt})();const I=Ne.EMPTY;function tt(nt){return nt instanceof Ne||nt&&"closed"in nt&&(0,C.m)(nt.remove)&&(0,C.m)(nt.add)&&(0,C.m)(nt.unsubscribe)}function Qe(nt){(0,C.m)(nt)?nt():nt.unsubscribe()}},2416:(Gr,Ln,me)=>{"use strict";me.d(Ln,{v:()=>C});const C={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},7272:(Gr,Ln,me)=>{"use strict";me.d(Ln,{z:()=>Ne});var C=me(8189),it=me(7669),ve=me(8996);function Ne(...I){return function h(){return(0,C.J)(1)}()((0,ve.D)(I,(0,it.yG)(I)))}},515:(Gr,Ln,me)=>{"use strict";me.d(Ln,{E:()=>h});const h=new(me(8306).y)(Ne=>Ne.complete())},8996:(Gr,Ln,me)=>{"use strict";me.d(Ln,{D:()=>se});var C=me(8421),h=me(5363),it=me(9468),I=me(8306),Qe=me(2202),nt=me(576),ze=me(9672);function Fe(pe,Ce){if(!pe)throw new Error("Iterable cannot be null");return new I.y(L=>{(0,ze.f)(L,Ce,()=>{const Q=pe[Symbol.asyncIterator]();(0,ze.f)(L,Ce,()=>{Q.next().then(re=>{re.done?L.complete():L.next(re.value)})},0,!0)})})}var He=me(3670),xe=me(8239),we=me(1144),de=me(6495),W=me(2206),fe=me(4532),ye=me(3260);function se(pe,Ce){return Ce?function oe(pe,Ce){if(null!=pe){if((0,He.c)(pe))return function ve(pe,Ce){return(0,C.Xf)(pe).pipe((0,it.R)(Ce),(0,h.Q)(Ce))}(pe,Ce);if((0,we.z)(pe))return function tt(pe,Ce){return new I.y(L=>{let Q=0;return Ce.schedule(function(){Q===pe.length?L.complete():(L.next(pe[Q++]),L.closed||this.schedule())})})}(pe,Ce);if((0,xe.t)(pe))return function Ne(pe,Ce){return(0,C.Xf)(pe).pipe((0,it.R)(Ce),(0,h.Q)(Ce))}(pe,Ce);if((0,W.D)(pe))return Fe(pe,Ce);if((0,de.T)(pe))return function qe(pe,Ce){return new I.y(L=>{let Q;return(0,ze.f)(L,Ce,()=>{Q=pe[Qe.h](),(0,ze.f)(L,Ce,()=>{let re,P;try{({value:re,done:P}=Q.next())}catch(G){return void L.error(G)}P?L.complete():L.next(re)},0,!0)}),()=>(0,nt.m)(null==Q?void 0:Q.return)&&Q.return()})}(pe,Ce);if((0,ye.L)(pe))return function Se(pe,Ce){return Fe((0,ye.Q)(pe),Ce)}(pe,Ce)}throw(0,fe.z)(pe)}(pe,Ce):(0,C.Xf)(pe)}},8421:(Gr,Ln,me)=>{"use strict";me.d(Ln,{Xf:()=>He});var C=me(655),h=me(1144),it=me(8239),ve=me(8306),Ne=me(3670),I=me(2206),tt=me(4532),Qe=me(6495),nt=me(3260),ze=me(576),qe=me(7849),Fe=me(8822);function He(oe){if(oe instanceof ve.y)return oe;if(null!=oe){if((0,Ne.c)(oe))return function xe(oe){return new ve.y(se=>{const pe=oe[Fe.L]();if((0,ze.m)(pe.subscribe))return pe.subscribe(se);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(oe);if((0,h.z)(oe))return function we(oe){return new ve.y(se=>{for(let pe=0;pe<oe.length&&!se.closed;pe++)se.next(oe[pe]);se.complete()})}(oe);if((0,it.t)(oe))return function de(oe){return new ve.y(se=>{oe.then(pe=>{se.closed||(se.next(pe),se.complete())},pe=>se.error(pe)).then(null,qe.h)})}(oe);if((0,I.D)(oe))return fe(oe);if((0,Qe.T)(oe))return function W(oe){return new ve.y(se=>{for(const pe of oe)if(se.next(pe),se.closed)return;se.complete()})}(oe);if((0,nt.L)(oe))return function ye(oe){return fe((0,nt.Q)(oe))}(oe)}throw(0,tt.z)(oe)}function fe(oe){return new ve.y(se=>{(function Se(oe,se){var pe,Ce,L,Q;return(0,C.mG)(this,void 0,void 0,function*(){try{for(pe=(0,C.KL)(oe);!(Ce=yield pe.next()).done;)if(se.next(Ce.value),se.closed)return}catch(re){L={error:re}}finally{try{Ce&&!Ce.done&&(Q=pe.return)&&(yield Q.call(pe))}finally{if(L)throw L.error}}se.complete()})})(oe,se).catch(pe=>se.error(pe))})}},6451:(Gr,Ln,me)=>{"use strict";me.d(Ln,{T:()=>I});var C=me(8189),h=me(8421),it=me(515),ve=me(7669),Ne=me(8996);function I(...tt){const Qe=(0,ve.yG)(tt),nt=(0,ve._6)(tt,1/0),ze=tt;return ze.length?1===ze.length?(0,h.Xf)(ze[0]):(0,C.J)(nt)((0,Ne.D)(ze,Qe)):it.E}},9646:(Gr,Ln,me)=>{"use strict";me.d(Ln,{of:()=>it});var C=me(7669),h=me(8996);function it(...ve){const Ne=(0,C.yG)(ve);return(0,h.D)(ve,Ne)}},5403:(Gr,Ln,me)=>{"use strict";me.d(Ln,{Q:()=>it,x:()=>h});var C=me(930);function h(ve,Ne,I,tt,Qe){return new it(ve,Ne,I,tt,Qe)}class it extends C.Lv{constructor(Ne,I,tt,Qe,nt,ze){super(Ne),this.onFinalize=nt,this.shouldUnsubscribe=ze,this._next=I?function(qe){try{I(qe)}catch(Fe){Ne.error(Fe)}}:super._next,this._error=Qe?function(qe){try{Qe(qe)}catch(Fe){Ne.error(Fe)}finally{this.unsubscribe()}}:super._error,this._complete=tt?function(){try{tt()}catch(qe){Ne.error(qe)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var Ne;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:I}=this;super.unsubscribe(),!I&&(null===(Ne=this.onFinalize)||void 0===Ne||Ne.call(this))}}}},6590:(Gr,Ln,me)=>{"use strict";me.d(Ln,{d:()=>it});var C=me(4482),h=me(5403);function it(ve){return(0,C.e)((Ne,I)=>{let tt=!1;Ne.subscribe((0,h.x)(I,Qe=>{tt=!0,I.next(Qe)},()=>{tt||I.next(ve),I.complete()}))})}},1884:(Gr,Ln,me)=>{"use strict";me.d(Ln,{x:()=>ve});var C=me(4671),h=me(4482),it=me(5403);function ve(I,tt=C.y){return I=null!=I?I:Ne,(0,h.e)((Qe,nt)=>{let ze,qe=!0;Qe.subscribe((0,it.x)(nt,Fe=>{const He=tt(Fe);(qe||!I(ze,He))&&(qe=!1,ze=He,nt.next(Fe))}))})}function Ne(I,tt){return I===tt}},9300:(Gr,Ln,me)=>{"use strict";me.d(Ln,{h:()=>it});var C=me(4482),h=me(5403);function it(ve,Ne){return(0,C.e)((I,tt)=>{let Qe=0;I.subscribe((0,h.x)(tt,nt=>ve.call(Ne,nt,Qe++)&&tt.next(nt)))})}},590:(Gr,Ln,me)=>{"use strict";me.d(Ln,{P:()=>tt});var C=me(6805),h=me(9300),it=me(5698),ve=me(6590),Ne=me(8068),I=me(4671);function tt(Qe,nt){const ze=arguments.length>=2;return qe=>qe.pipe(Qe?(0,h.h)((Fe,He)=>Qe(Fe,He,qe)):I.y,(0,it.q)(1),ze?(0,ve.d)(nt):(0,Ne.T)(()=>new C.K))}},4004:(Gr,Ln,me)=>{"use strict";me.d(Ln,{U:()=>it});var C=me(4482),h=me(5403);function it(ve,Ne){return(0,C.e)((I,tt)=>{let Qe=0;I.subscribe((0,h.x)(tt,nt=>{tt.next(ve.call(Ne,nt,Qe++))}))})}},8189:(Gr,Ln,me)=>{"use strict";me.d(Ln,{J:()=>it});var C=me(5577),h=me(4671);function it(ve=1/0){return(0,C.z)(h.y,ve)}},5577:(Gr,Ln,me)=>{"use strict";me.d(Ln,{z:()=>Qe});var C=me(4004),h=me(8421),it=me(4482),ve=me(9672),Ne=me(5403),tt=me(576);function Qe(nt,ze,qe=1/0){return(0,tt.m)(ze)?Qe((Fe,He)=>(0,C.U)((xe,we)=>ze(Fe,xe,He,we))((0,h.Xf)(nt(Fe,He))),qe):("number"==typeof ze&&(qe=ze),(0,it.e)((Fe,He)=>function I(nt,ze,qe,Fe,He,xe,we,de){const W=[];let fe=0,ye=0,Se=!1;const oe=()=>{Se&&!W.length&&!fe&&ze.complete()},se=Ce=>fe<Fe?pe(Ce):W.push(Ce),pe=Ce=>{xe&&ze.next(Ce),fe++;let L=!1;(0,h.Xf)(qe(Ce,ye++)).subscribe((0,Ne.x)(ze,Q=>{null==He||He(Q),xe?se(Q):ze.next(Q)},()=>{L=!0},void 0,()=>{if(L)try{for(fe--;W.length&&fe<Fe;){const Q=W.shift();we?(0,ve.f)(ze,we,()=>pe(Q)):pe(Q)}oe()}catch(Q){ze.error(Q)}}))};return nt.subscribe((0,Ne.x)(ze,se,()=>{Se=!0,oe()})),()=>{null==de||de()}}(Fe,He,nt,qe)))}},5363:(Gr,Ln,me)=>{"use strict";me.d(Ln,{Q:()=>ve});var C=me(9672),h=me(4482),it=me(5403);function ve(Ne,I=0){return(0,h.e)((tt,Qe)=>{tt.subscribe((0,it.x)(Qe,nt=>(0,C.f)(Qe,Ne,()=>Qe.next(nt),I),()=>(0,C.f)(Qe,Ne,()=>Qe.complete(),I),nt=>(0,C.f)(Qe,Ne,()=>Qe.error(nt),I)))})}},1520:(Gr,Ln,me)=>{"use strict";me.d(Ln,{G:()=>it});var C=me(4482),h=me(5403);function it(){return(0,C.e)((ve,Ne)=>{let I,tt=!1;ve.subscribe((0,h.x)(Ne,Qe=>{const nt=I;I=Qe,tt&&Ne.next([nt,Qe]),tt=!0}))})}},5026:(Gr,Ln,me)=>{"use strict";me.d(Ln,{R:()=>ve});var C=me(4482),h=me(5403);function it(Ne,I,tt,Qe,nt){return(ze,qe)=>{let Fe=tt,He=I,xe=0;ze.subscribe((0,h.x)(qe,we=>{const de=xe++;He=Fe?Ne(He,we,de):(Fe=!0,we),Qe&&qe.next(He)},nt&&(()=>{Fe&&qe.next(He),qe.complete()})))}}function ve(Ne,I){return(0,C.e)(it(Ne,I,arguments.length>=2,!0))}},3099:(Gr,Ln,me)=>{"use strict";me.d(Ln,{B:()=>I});var C=me(8996),h=me(5698),it=me(7579),ve=me(930),Ne=me(4482);function I(Qe={}){const{connector:nt=(()=>new it.x),resetOnError:ze=!0,resetOnComplete:qe=!0,resetOnRefCountZero:Fe=!0}=Qe;return He=>{let xe=null,we=null,de=null,W=0,fe=!1,ye=!1;const Se=()=>{null==we||we.unsubscribe(),we=null},oe=()=>{Se(),xe=de=null,fe=ye=!1},se=()=>{const pe=xe;oe(),null==pe||pe.unsubscribe()};return(0,Ne.e)((pe,Ce)=>{W++,!ye&&!fe&&Se();const L=de=null!=de?de:nt();Ce.add(()=>{W--,0===W&&!ye&&!fe&&(we=tt(se,Fe))}),L.subscribe(Ce),xe||(xe=new ve.Hp({next:Q=>L.next(Q),error:Q=>{ye=!0,Se(),we=tt(oe,ze,Q),L.error(Q)},complete:()=>{fe=!0,Se(),we=tt(oe,qe),L.complete()}}),(0,C.D)(pe).subscribe(xe))})(He)}}function tt(Qe,nt,...ze){return!0===nt?(Qe(),null):!1===nt?null:nt(...ze).pipe((0,h.q)(1)).subscribe(()=>Qe())}},3151:(Gr,Ln,me)=>{"use strict";me.d(Ln,{d:()=>Ne});var C=me(7579),h=me(6063);class it extends C.x{constructor(tt=1/0,Qe=1/0,nt=h.l){super(),this._bufferSize=tt,this._windowTime=Qe,this._timestampProvider=nt,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=Qe===1/0,this._bufferSize=Math.max(1,tt),this._windowTime=Math.max(1,Qe)}next(tt){const{isStopped:Qe,_buffer:nt,_infiniteTimeWindow:ze,_timestampProvider:qe,_windowTime:Fe}=this;Qe||(nt.push(tt),!ze&&nt.push(qe.now()+Fe)),this._trimBuffer(),super.next(tt)}_subscribe(tt){this._throwIfClosed(),this._trimBuffer();const Qe=this._innerSubscribe(tt),{_infiniteTimeWindow:nt,_buffer:ze}=this,qe=ze.slice();for(let Fe=0;Fe<qe.length&&!tt.closed;Fe+=nt?1:2)tt.next(qe[Fe]);return this._checkFinalizedStatuses(tt),Qe}_trimBuffer(){const{_bufferSize:tt,_timestampProvider:Qe,_buffer:nt,_infiniteTimeWindow:ze}=this,qe=(ze?1:2)*tt;if(tt<1/0&&qe<nt.length&&nt.splice(0,nt.length-qe),!ze){const Fe=Qe.now();let He=0;for(let xe=1;xe<nt.length&&nt[xe]<=Fe;xe+=2)He=xe;He&&nt.splice(0,He+1)}}}var ve=me(3099);function Ne(I,tt,Qe){let nt,ze=!1;return I&&"object"==typeof I?({bufferSize:nt=1/0,windowTime:tt=1/0,refCount:ze=!1,scheduler:Qe}=I):nt=null!=I?I:1/0,(0,ve.B)({connector:()=>new it(nt,tt,Qe),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:ze})}},8675:(Gr,Ln,me)=>{"use strict";me.d(Ln,{O:()=>ve});var C=me(7272),h=me(7669),it=me(4482);function ve(...Ne){const I=(0,h.yG)(Ne);return(0,it.e)((tt,Qe)=>{(I?(0,C.z)(Ne,tt,I):(0,C.z)(Ne,tt)).subscribe(Qe)})}},9468:(Gr,Ln,me)=>{"use strict";me.d(Ln,{R:()=>h});var C=me(4482);function h(it,ve=0){return(0,C.e)((Ne,I)=>{I.add(it.schedule(()=>Ne.subscribe(I),ve))})}},3900:(Gr,Ln,me)=>{"use strict";me.d(Ln,{w:()=>ve});var C=me(8421),h=me(4482),it=me(5403);function ve(Ne,I){return(0,h.e)((tt,Qe)=>{let nt=null,ze=0,qe=!1;const Fe=()=>qe&&!nt&&Qe.complete();tt.subscribe((0,it.x)(Qe,He=>{null==nt||nt.unsubscribe();let xe=0;const we=ze++;(0,C.Xf)(Ne(He,we)).subscribe(nt=(0,it.x)(Qe,de=>Qe.next(I?I(He,de,we,xe++):de),()=>{nt=null,Fe()}))},()=>{qe=!0,Fe()}))})}},5698:(Gr,Ln,me)=>{"use strict";me.d(Ln,{q:()=>ve});var C=me(515),h=me(4482),it=me(5403);function ve(Ne){return Ne<=0?()=>C.E:(0,h.e)((I,tt)=>{let Qe=0;I.subscribe((0,it.x)(tt,nt=>{++Qe<=Ne&&(tt.next(nt),Ne<=Qe&&tt.complete())}))})}},8505:(Gr,Ln,me)=>{"use strict";me.d(Ln,{b:()=>Ne});var C=me(576),h=me(4482),it=me(5403),ve=me(4671);function Ne(I,tt,Qe){const nt=(0,C.m)(I)||tt||Qe?{next:I,error:tt,complete:Qe}:I;return nt?(0,h.e)((ze,qe)=>{var Fe;null===(Fe=nt.subscribe)||void 0===Fe||Fe.call(nt);let He=!0;ze.subscribe((0,it.x)(qe,xe=>{var we;null===(we=nt.next)||void 0===we||we.call(nt,xe),qe.next(xe)},()=>{var xe;He=!1,null===(xe=nt.complete)||void 0===xe||xe.call(nt),qe.complete()},xe=>{var we;He=!1,null===(we=nt.error)||void 0===we||we.call(nt,xe),qe.error(xe)},()=>{var xe,we;He&&(null===(xe=nt.unsubscribe)||void 0===xe||xe.call(nt)),null===(we=nt.finalize)||void 0===we||we.call(nt)}))}):ve.y}},8068:(Gr,Ln,me)=>{"use strict";me.d(Ln,{T:()=>ve});var C=me(6805),h=me(4482),it=me(5403);function ve(I=Ne){return(0,h.e)((tt,Qe)=>{let nt=!1;tt.subscribe((0,it.x)(Qe,ze=>{nt=!0,Qe.next(ze)},()=>nt?Qe.complete():Qe.error(I())))})}function Ne(){return new C.K}},4408:(Gr,Ln,me)=>{"use strict";me.d(Ln,{o:()=>Ne});var C=me(727);class h extends C.w0{constructor(tt,Qe){super()}schedule(tt,Qe=0){return this}}const it={setInterval(I,tt,...Qe){const{delegate:nt}=it;return(null==nt?void 0:nt.setInterval)?nt.setInterval(I,tt,...Qe):setInterval(I,tt,...Qe)},clearInterval(I){const{delegate:tt}=it;return((null==tt?void 0:tt.clearInterval)||clearInterval)(I)},delegate:void 0};var ve=me(8737);class Ne extends h{constructor(tt,Qe){super(tt,Qe),this.scheduler=tt,this.work=Qe,this.pending=!1}schedule(tt,Qe=0){if(this.closed)return this;this.state=tt;const nt=this.id,ze=this.scheduler;return null!=nt&&(this.id=this.recycleAsyncId(ze,nt,Qe)),this.pending=!0,this.delay=Qe,this.id=this.id||this.requestAsyncId(ze,this.id,Qe),this}requestAsyncId(tt,Qe,nt=0){return it.setInterval(tt.flush.bind(tt,this),nt)}recycleAsyncId(tt,Qe,nt=0){if(null!=nt&&this.delay===nt&&!1===this.pending)return Qe;it.clearInterval(Qe)}execute(tt,Qe){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const nt=this._execute(tt,Qe);if(nt)return nt;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(tt,Qe){let ze,nt=!1;try{this.work(tt)}catch(qe){nt=!0,ze=qe||new Error("Scheduled action threw falsy error")}if(nt)return this.unsubscribe(),ze}unsubscribe(){if(!this.closed){const{id:tt,scheduler:Qe}=this,{actions:nt}=Qe;this.work=this.state=this.scheduler=null,this.pending=!1,(0,ve.P)(nt,this),null!=tt&&(this.id=this.recycleAsyncId(Qe,tt,null)),this.delay=null,super.unsubscribe()}}}},7565:(Gr,Ln,me)=>{"use strict";me.d(Ln,{v:()=>it});var C=me(6063);class h{constructor(Ne,I=h.now){this.schedulerActionCtor=Ne,this.now=I}schedule(Ne,I=0,tt){return new this.schedulerActionCtor(this,Ne).schedule(tt,I)}}h.now=C.l.now;class it extends h{constructor(Ne,I=h.now){super(Ne,I),this.actions=[],this._active=!1,this._scheduled=void 0}flush(Ne){const{actions:I}=this;if(this._active)return void I.push(Ne);let tt;this._active=!0;do{if(tt=Ne.execute(Ne.state,Ne.delay))break}while(Ne=I.shift());if(this._active=!1,tt){for(;Ne=I.shift();)Ne.unsubscribe();throw tt}}}},4986:(Gr,Ln,me)=>{"use strict";me.d(Ln,{z:()=>it});var C=me(4408);const it=new(me(7565).v)(C.o)},6063:(Gr,Ln,me)=>{"use strict";me.d(Ln,{l:()=>C});const C={now:()=>(C.delegate||Date).now(),delegate:void 0}},3410:(Gr,Ln,me)=>{"use strict";me.d(Ln,{z:()=>C});const C={setTimeout(h,it,...ve){const{delegate:Ne}=C;return(null==Ne?void 0:Ne.setTimeout)?Ne.setTimeout(h,it,...ve):setTimeout(h,it,...ve)},clearTimeout(h){const{delegate:it}=C;return((null==it?void 0:it.clearTimeout)||clearTimeout)(h)},delegate:void 0}},2202:(Gr,Ln,me)=>{"use strict";me.d(Ln,{h:()=>h});const h=function C(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},8822:(Gr,Ln,me)=>{"use strict";me.d(Ln,{L:()=>C});const C="function"==typeof Symbol&&Symbol.observable||"@@observable"},6805:(Gr,Ln,me)=>{"use strict";me.d(Ln,{K:()=>h});const h=(0,me(3888).d)(it=>function(){it(this),this.name="EmptyError",this.message="no elements in sequence"})},7669:(Gr,Ln,me)=>{"use strict";me.d(Ln,{_6:()=>I,jO:()=>ve,yG:()=>Ne});var C=me(576);function it(tt){return tt[tt.length-1]}function ve(tt){return(0,C.m)(it(tt))?tt.pop():void 0}function Ne(tt){return function h(tt){return tt&&(0,C.m)(tt.schedule)}(it(tt))?tt.pop():void 0}function I(tt,Qe){return"number"==typeof it(tt)?tt.pop():Qe}},4742:(Gr,Ln,me)=>{"use strict";me.d(Ln,{D:()=>Ne});const{isArray:C}=Array,{getPrototypeOf:h,prototype:it,keys:ve}=Object;function Ne(tt){if(1===tt.length){const Qe=tt[0];if(C(Qe))return{args:Qe,keys:null};if(function I(tt){return tt&&"object"==typeof tt&&h(tt)===it}(Qe)){const nt=ve(Qe);return{args:nt.map(ze=>Qe[ze]),keys:nt}}}return{args:tt,keys:null}}},8737:(Gr,Ln,me)=>{"use strict";function C(h,it){if(h){const ve=h.indexOf(it);0<=ve&&h.splice(ve,1)}}me.d(Ln,{P:()=>C})},3888:(Gr,Ln,me)=>{"use strict";function C(h){const ve=h(Ne=>{Error.call(Ne),Ne.stack=(new Error).stack});return ve.prototype=Object.create(Error.prototype),ve.prototype.constructor=ve,ve}me.d(Ln,{d:()=>C})},1810:(Gr,Ln,me)=>{"use strict";function C(h,it){return h.reduce((ve,Ne,I)=>(ve[Ne]=it[I],ve),{})}me.d(Ln,{n:()=>C})},2806:(Gr,Ln,me)=>{"use strict";me.d(Ln,{O:()=>ve,x:()=>it});var C=me(2416);let h=null;function it(Ne){if(C.v.useDeprecatedSynchronousErrorHandling){const I=!h;if(I&&(h={errorThrown:!1,error:null}),Ne(),I){const{errorThrown:tt,error:Qe}=h;if(h=null,tt)throw Qe}}else Ne()}function ve(Ne){C.v.useDeprecatedSynchronousErrorHandling&&h&&(h.errorThrown=!0,h.error=Ne)}},9672:(Gr,Ln,me)=>{"use strict";function C(h,it,ve,Ne=0,I=!1){const tt=it.schedule(function(){ve(),I?h.add(this.schedule(null,Ne)):this.unsubscribe()},Ne);if(h.add(tt),!I)return tt}me.d(Ln,{f:()=>C})},4671:(Gr,Ln,me)=>{"use strict";function C(h){return h}me.d(Ln,{y:()=>C})},1144:(Gr,Ln,me)=>{"use strict";me.d(Ln,{z:()=>C});const C=h=>h&&"number"==typeof h.length&&"function"!=typeof h},2206:(Gr,Ln,me)=>{"use strict";me.d(Ln,{D:()=>h});var C=me(576);function h(it){return Symbol.asyncIterator&&(0,C.m)(null==it?void 0:it[Symbol.asyncIterator])}},576:(Gr,Ln,me)=>{"use strict";function C(h){return"function"==typeof h}me.d(Ln,{m:()=>C})},3670:(Gr,Ln,me)=>{"use strict";me.d(Ln,{c:()=>it});var C=me(8822),h=me(576);function it(ve){return(0,h.m)(ve[C.L])}},6495:(Gr,Ln,me)=>{"use strict";me.d(Ln,{T:()=>it});var C=me(2202),h=me(576);function it(ve){return(0,h.m)(null==ve?void 0:ve[C.h])}},8239:(Gr,Ln,me)=>{"use strict";me.d(Ln,{t:()=>h});var C=me(576);function h(it){return(0,C.m)(null==it?void 0:it.then)}},3260:(Gr,Ln,me)=>{"use strict";me.d(Ln,{L:()=>ve,Q:()=>it});var C=me(655),h=me(576);function it(Ne){return(0,C.FC)(this,arguments,function*(){const tt=Ne.getReader();try{for(;;){const{value:Qe,done:nt}=yield(0,C.qq)(tt.read());if(nt)return yield(0,C.qq)(void 0);yield yield(0,C.qq)(Qe)}}finally{tt.releaseLock()}})}function ve(Ne){return(0,h.m)(null==Ne?void 0:Ne.getReader)}},4482:(Gr,Ln,me)=>{"use strict";me.d(Ln,{A:()=>h,e:()=>it});var C=me(576);function h(ve){return(0,C.m)(null==ve?void 0:ve.lift)}function it(ve){return Ne=>{if(h(Ne))return Ne.lift(function(I){try{return ve(I,this)}catch(tt){this.error(tt)}});throw new TypeError("Unable to lift unknown Observable type")}}},3268:(Gr,Ln,me)=>{"use strict";me.d(Ln,{Z:()=>ve});var C=me(4004);const{isArray:h}=Array;function ve(Ne){return(0,C.U)(I=>function it(Ne,I){return h(I)?Ne(...I):Ne(I)}(Ne,I))}},5032:(Gr,Ln,me)=>{"use strict";function C(){}me.d(Ln,{Z:()=>C})},7849:(Gr,Ln,me)=>{"use strict";me.d(Ln,{h:()=>it});var C=me(2416),h=me(3410);function it(ve){h.z.setTimeout(()=>{const{onUnhandledError:Ne}=C.v;if(!Ne)throw ve;Ne(ve)})}},4532:(Gr,Ln,me)=>{"use strict";function C(h){return new TypeError(`You provided ${null!==h&&"object"==typeof h?"an invalid object":`'${h}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}me.d(Ln,{z:()=>C})},655:(Gr,Ln,me)=>{"use strict";function ve(P,G){var F={};for(var ae in P)Object.prototype.hasOwnProperty.call(P,ae)&&G.indexOf(ae)<0&&(F[ae]=P[ae]);if(null!=P&&"function"==typeof Object.getOwnPropertySymbols){var R=0;for(ae=Object.getOwnPropertySymbols(P);R<ae.length;R++)G.indexOf(ae[R])<0&&Object.prototype.propertyIsEnumerable.call(P,ae[R])&&(F[ae[R]]=P[ae[R]])}return F}function Qe(P,G,F,ae){return new(F||(F=Promise))(function(z,De){function Ke(Te){try{We(ae.next(Te))}catch(Je){De(Je)}}function dt(Te){try{We(ae.throw(Te))}catch(Je){De(Je)}}function We(Te){Te.done?z(Te.value):function R(z){return z instanceof F?z:new F(function(De){De(z)})}(Te.value).then(Ke,dt)}We((ae=ae.apply(P,G||[])).next())})}function W(P){return this instanceof W?(this.v=P,this):new W(P)}function fe(P,G,F){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var R,ae=F.apply(P,G||[]),z=[];return R={},De("next"),De("throw"),De("return"),R[Symbol.asyncIterator]=function(){return this},R;function De(Z){ae[Z]&&(R[Z]=function(ne){return new Promise(function(Oe,$e){z.push([Z,ne,Oe,$e])>1||Ke(Z,ne)})})}function Ke(Z,ne){try{!function dt(Z){Z.value instanceof W?Promise.resolve(Z.value.v).then(We,Te):Je(z[0][2],Z)}(ae[Z](ne))}catch(Oe){Je(z[0][3],Oe)}}function We(Z){Ke("next",Z)}function Te(Z){Ke("throw",Z)}function Je(Z,ne){Z(ne),z.shift(),z.length&&Ke(z[0][0],z[0][1])}}function Se(P){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var F,G=P[Symbol.asyncIterator];return G?G.call(P):(P=function Fe(P){var G="function"==typeof Symbol&&Symbol.iterator,F=G&&P[G],ae=0;if(F)return F.call(P);if(P&&"number"==typeof P.length)return{next:function(){return P&&ae>=P.length&&(P=void 0),{value:P&&P[ae++],done:!P}}};throw new TypeError(G?"Object is not iterable.":"Symbol.iterator is not defined.")}(P),F={},ae("next"),ae("throw"),ae("return"),F[Symbol.asyncIterator]=function(){return this},F);function ae(z){F[z]=P[z]&&function(De){return new Promise(function(Ke,dt){!function R(z,De,Ke,dt){Promise.resolve(dt).then(function(We){z({value:We,done:Ke})},De)}(Ke,dt,(De=P[z](De)).done,De.value)})}}}me.d(Ln,{FC:()=>fe,KL:()=>Se,_T:()=>ve,mG:()=>Qe,qq:()=>W})},9808:(Gr,Ln,me)=>{"use strict";me.d(Ln,{Do:()=>oe,EM:()=>Tc,HT:()=>Ne,JF:()=>Ns,K0:()=>tt,Mx:()=>To,NF:()=>Yo,O5:()=>Tn,Ov:()=>Vo,PC:()=>Ca,PM:()=>vo,S$:()=>W,V_:()=>ze,Ye:()=>se,b0:()=>Se,bD:()=>ya,ez:()=>Fl,lw:()=>Qe,mk:()=>Ha,mr:()=>ye,q:()=>it,sg:()=>Ys,uU:()=>sc,w_:()=>I});var C=me(5e3);let h=null;function it(){return h}function Ne(Le){h||(h=Le)}class I{}const tt=new C.OlP("DocumentToken");let Qe=(()=>{class Le{historyGo(Re){throw new Error("Not implemented")}}return Le.\u0275fac=function(Re){return new(Re||Le)},Le.\u0275prov=C.Yz7({token:Le,factory:function(){return function nt(){return(0,C.LFG)(qe)}()},providedIn:"platform"}),Le})();const ze=new C.OlP("Location Initialized");let qe=(()=>{class Le extends Qe{constructor(Re){super(),this._doc=Re,this._init()}_init(){this.location=window.location,this._history=window.history}getBaseHrefFromDOM(){return it().getBaseHref(this._doc)}onPopState(Re){const Mt=it().getGlobalEventTarget(this._doc,"window");return Mt.addEventListener("popstate",Re,!1),()=>Mt.removeEventListener("popstate",Re)}onHashChange(Re){const Mt=it().getGlobalEventTarget(this._doc,"window");return Mt.addEventListener("hashchange",Re,!1),()=>Mt.removeEventListener("hashchange",Re)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(Re){this.location.pathname=Re}pushState(Re,Mt,En){Fe()?this._history.pushState(Re,Mt,En):this.location.hash=En}replaceState(Re,Mt,En){Fe()?this._history.replaceState(Re,Mt,En):this.location.hash=En}forward(){this._history.forward()}back(){this._history.back()}historyGo(Re=0){this._history.go(Re)}getState(){return this._history.state}}return Le.\u0275fac=function(Re){return new(Re||Le)(C.LFG(tt))},Le.\u0275prov=C.Yz7({token:Le,factory:function(){return function He(){return new qe((0,C.LFG)(tt))}()},providedIn:"platform"}),Le})();function Fe(){return!!window.history.pushState}function xe(Le,Et){if(0==Le.length)return Et;if(0==Et.length)return Le;let Re=0;return Le.endsWith("/")&&Re++,Et.startsWith("/")&&Re++,2==Re?Le+Et.substring(1):1==Re?Le+Et:Le+"/"+Et}function we(Le){const Et=Le.match(/#|\?|$/),Re=Et&&Et.index||Le.length;return Le.slice(0,Re-("/"===Le[Re-1]?1:0))+Le.slice(Re)}function de(Le){return Le&&"?"!==Le[0]?"?"+Le:Le}let W=(()=>{class Le{historyGo(Re){throw new Error("Not implemented")}}return Le.\u0275fac=function(Re){return new(Re||Le)},Le.\u0275prov=C.Yz7({token:Le,factory:function(){return function fe(Le){const Et=(0,C.LFG)(tt).location;return new Se((0,C.LFG)(Qe),Et&&Et.origin||"")}()},providedIn:"root"}),Le})();const ye=new C.OlP("appBaseHref");let Se=(()=>{class Le extends W{constructor(Re,Mt){if(super(),this._platformLocation=Re,this._removeListenerFns=[],null==Mt&&(Mt=this._platformLocation.getBaseHrefFromDOM()),null==Mt)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");this._baseHref=Mt}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(Re){this._removeListenerFns.push(this._platformLocation.onPopState(Re),this._platformLocation.onHashChange(Re))}getBaseHref(){return this._baseHref}prepareExternalUrl(Re){return xe(this._baseHref,Re)}path(Re=!1){const Mt=this._platformLocation.pathname+de(this._platformLocation.search),En=this._platformLocation.hash;return En&&Re?`${Mt}${En}`:Mt}pushState(Re,Mt,En,yr){const Fr=this.prepareExternalUrl(En+de(yr));this._platformLocation.pushState(Re,Mt,Fr)}replaceState(Re,Mt,En,yr){const Fr=this.prepareExternalUrl(En+de(yr));this._platformLocation.replaceState(Re,Mt,Fr)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(Re=0){var Mt,En;null===(En=(Mt=this._platformLocation).historyGo)||void 0===En||En.call(Mt,Re)}}return Le.\u0275fac=function(Re){return new(Re||Le)(C.LFG(Qe),C.LFG(ye,8))},Le.\u0275prov=C.Yz7({token:Le,factory:Le.\u0275fac}),Le})(),oe=(()=>{class Le extends W{constructor(Re,Mt){super(),this._platformLocation=Re,this._baseHref="",this._removeListenerFns=[],null!=Mt&&(this._baseHref=Mt)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(Re){this._removeListenerFns.push(this._platformLocation.onPopState(Re),this._platformLocation.onHashChange(Re))}getBaseHref(){return this._baseHref}path(Re=!1){let Mt=this._platformLocation.hash;return null==Mt&&(Mt="#"),Mt.length>0?Mt.substring(1):Mt}prepareExternalUrl(Re){const Mt=xe(this._baseHref,Re);return Mt.length>0?"#"+Mt:Mt}pushState(Re,Mt,En,yr){let Fr=this.prepareExternalUrl(En+de(yr));0==Fr.length&&(Fr=this._platformLocation.pathname),this._platformLocation.pushState(Re,Mt,Fr)}replaceState(Re,Mt,En,yr){let Fr=this.prepareExternalUrl(En+de(yr));0==Fr.length&&(Fr=this._platformLocation.pathname),this._platformLocation.replaceState(Re,Mt,Fr)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(Re=0){var Mt,En;null===(En=(Mt=this._platformLocation).historyGo)||void 0===En||En.call(Mt,Re)}}return Le.\u0275fac=function(Re){return new(Re||Le)(C.LFG(Qe),C.LFG(ye,8))},Le.\u0275prov=C.Yz7({token:Le,factory:Le.\u0275fac}),Le})(),se=(()=>{class Le{constructor(Re,Mt){this._subject=new C.vpe,this._urlChangeListeners=[],this._platformStrategy=Re;const En=this._platformStrategy.getBaseHref();this._platformLocation=Mt,this._baseHref=we(L(En)),this._platformStrategy.onPopState(yr=>{this._subject.emit({url:this.path(!0),pop:!0,state:yr.state,type:yr.type})})}path(Re=!1){return this.normalize(this._platformStrategy.path(Re))}getState(){return this._platformLocation.getState()}isCurrentPathEqualTo(Re,Mt=""){return this.path()==this.normalize(Re+de(Mt))}normalize(Re){return Le.stripTrailingSlash(function Ce(Le,Et){return Le&&Et.startsWith(Le)?Et.substring(Le.length):Et}(this._baseHref,L(Re)))}prepareExternalUrl(Re){return Re&&"/"!==Re[0]&&(Re="/"+Re),this._platformStrategy.prepareExternalUrl(Re)}go(Re,Mt="",En=null){this._platformStrategy.pushState(En,"",Re,Mt),this._notifyUrlChangeListeners(this.prepareExternalUrl(Re+de(Mt)),En)}replaceState(Re,Mt="",En=null){this._platformStrategy.replaceState(En,"",Re,Mt),this._notifyUrlChangeListeners(this.prepareExternalUrl(Re+de(Mt)),En)}forward(){this._platformStrategy.forward()}back(){this._platformStrategy.back()}historyGo(Re=0){var Mt,En;null===(En=(Mt=this._platformStrategy).historyGo)||void 0===En||En.call(Mt,Re)}onUrlChange(Re){this._urlChangeListeners.push(Re),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(Mt=>{this._notifyUrlChangeListeners(Mt.url,Mt.state)}))}_notifyUrlChangeListeners(Re="",Mt){this._urlChangeListeners.forEach(En=>En(Re,Mt))}subscribe(Re,Mt,En){return this._subject.subscribe({next:Re,error:Mt,complete:En})}}return Le.normalizeQueryParams=de,Le.joinWithSlash=xe,Le.stripTrailingSlash=we,Le.\u0275fac=function(Re){return new(Re||Le)(C.LFG(W),C.LFG(Qe))},Le.\u0275prov=C.Yz7({token:Le,factory:function(){return function pe(){return new se((0,C.LFG)(W),(0,C.LFG)(Qe))}()},providedIn:"root"}),Le})();function L(Le){return Le.replace(/\/index.html$/,"")}var G=(()=>((G=G||{})[G.Format=0]="Format",G[G.Standalone=1]="Standalone",G))(),F=(()=>((F=F||{})[F.Narrow=0]="Narrow",F[F.Abbreviated=1]="Abbreviated",F[F.Wide=2]="Wide",F[F.Short=3]="Short",F))(),ae=(()=>((ae=ae||{})[ae.Short=0]="Short",ae[ae.Medium=1]="Medium",ae[ae.Long=2]="Long",ae[ae.Full=3]="Full",ae))(),R=(()=>((R=R||{})[R.Decimal=0]="Decimal",R[R.Group=1]="Group",R[R.List=2]="List",R[R.PercentSign=3]="PercentSign",R[R.PlusSign=4]="PlusSign",R[R.MinusSign=5]="MinusSign",R[R.Exponential=6]="Exponential",R[R.SuperscriptingExponent=7]="SuperscriptingExponent",R[R.PerMille=8]="PerMille",R[R.Infinity=9]="Infinity",R[R.NaN=10]="NaN",R[R.TimeSeparator=11]="TimeSeparator",R[R.CurrencyDecimal=12]="CurrencyDecimal",R[R.CurrencyGroup=13]="CurrencyGroup",R))();function ne(Le,Et){return vn((0,C.cg1)(Le)[C.wAp.DateFormat],Et)}function Oe(Le,Et){return vn((0,C.cg1)(Le)[C.wAp.TimeFormat],Et)}function $e(Le,Et){return vn((0,C.cg1)(Le)[C.wAp.DateTimeFormat],Et)}function ot(Le,Et){const Re=(0,C.cg1)(Le),Mt=Re[C.wAp.NumberSymbols][Et];if(void 0===Mt){if(Et===R.CurrencyDecimal)return Re[C.wAp.NumberSymbols][R.Decimal];if(Et===R.CurrencyGroup)return Re[C.wAp.NumberSymbols][R.Group]}return Mt}function lt(Le){if(!Le[C.wAp.ExtraData])throw new Error(`Missing extra locale data for the locale "${Le[C.wAp.LocaleId]}". Use "registerLocaleData" to load new data. See the "I18n guide" on angular.io to know more.`)}function vn(Le,Et){for(let Re=Et;Re>-1;Re--)if(void 0!==Le[Re])return Le[Re];throw new Error("Locale data API: locale data undefined")}function Nn(Le){const[Et,Re]=Le.split(":");return{hours:+Et,minutes:+Re}}const ke=/^(\d{4})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,ft={},It=/((?:[^BEGHLMOSWYZabcdhmswyz']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|Y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|c{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/;var ct=(()=>((ct=ct||{})[ct.Short=0]="Short",ct[ct.ShortGMT=1]="ShortGMT",ct[ct.Long=2]="Long",ct[ct.Extended=3]="Extended",ct))(),jt=(()=>((jt=jt||{})[jt.FullYear=0]="FullYear",jt[jt.Month=1]="Month",jt[jt.Date=2]="Date",jt[jt.Hours=3]="Hours",jt[jt.Minutes=4]="Minutes",jt[jt.Seconds=5]="Seconds",jt[jt.FractionalSeconds=6]="FractionalSeconds",jt[jt.Day=7]="Day",jt))(),nn=(()=>((nn=nn||{})[nn.DayPeriods=0]="DayPeriods",nn[nn.Days=1]="Days",nn[nn.Months=2]="Months",nn[nn.Eras=3]="Eras",nn))();function jn(Le,Et,Re,Mt){let En=function hr(Le){if(ai(Le))return Le;if("number"==typeof Le&&!isNaN(Le))return new Date(Le);if("string"==typeof Le){if(Le=Le.trim(),/^(\d{4}(-\d{1,2}(-\d{1,2})?)?)$/.test(Le)){const[En,yr=1,Fr=1]=Le.split("-").map(Pi=>+Pi);return br(En,yr-1,Fr)}const Re=parseFloat(Le);if(!isNaN(Le-Re))return new Date(Re);let Mt;if(Mt=Le.match(ke))return function vr(Le){const Et=new Date(0);let Re=0,Mt=0;const En=Le[8]?Et.setUTCFullYear:Et.setFullYear,yr=Le[8]?Et.setUTCHours:Et.setHours;Le[9]&&(Re=Number(Le[9]+Le[10]),Mt=Number(Le[9]+Le[11])),En.call(Et,Number(Le[1]),Number(Le[2])-1,Number(Le[3]));const Fr=Number(Le[4]||0)-Re,Pi=Number(Le[5]||0)-Mt,js=Number(Le[6]||0),Ms=Math.floor(1e3*parseFloat("0."+(Le[7]||0)));return yr.call(Et,Fr,Pi,js,Ms),Et}(Mt)}const Et=new Date(Le);if(!ai(Et))throw new Error(`Unable to convert "${Le}" into a date`);return Et}(Le);Et=mr(Re,Et)||Et;let Pi,Fr=[];for(;Et;){if(Pi=It.exec(Et),!Pi){Fr.push(Et);break}{Fr=Fr.concat(Pi.slice(1));const Lt=Fr.pop();if(!Lt)break;Et=Lt}}let js=En.getTimezoneOffset();Mt&&(js=On(Mt,js),En=function Rt(Le,Et,Re){const Mt=Re?-1:1,En=Le.getTimezoneOffset();return function mn(Le,Et){return(Le=new Date(Le.getTime())).setMinutes(Le.getMinutes()+Et),Le}(Le,Mt*(On(Et,En)-En))}(En,Mt,!0));let Ms="";return Fr.forEach(Lt=>{const Ut=function Ar(Le){if(Zr[Le])return Zr[Le];let Et;switch(Le){case"G":case"GG":case"GGG":Et=mt(nn.Eras,F.Abbreviated);break;case"GGGG":Et=mt(nn.Eras,F.Wide);break;case"GGGGG":Et=mt(nn.Eras,F.Narrow);break;case"y":Et=Pr(jt.FullYear,1,0,!1,!0);break;case"yy":Et=Pr(jt.FullYear,2,0,!0,!0);break;case"yyy":Et=Pr(jt.FullYear,3,0,!1,!0);break;case"yyyy":Et=Pr(jt.FullYear,4,0,!1,!0);break;case"Y":Et=Dr(1);break;case"YY":Et=Dr(2,!0);break;case"YYY":Et=Dr(3);break;case"YYYY":Et=Dr(4);break;case"M":case"L":Et=Pr(jt.Month,1,1);break;case"MM":case"LL":Et=Pr(jt.Month,2,1);break;case"MMM":Et=mt(nn.Months,F.Abbreviated);break;case"MMMM":Et=mt(nn.Months,F.Wide);break;case"MMMMM":Et=mt(nn.Months,F.Narrow);break;case"LLL":Et=mt(nn.Months,F.Abbreviated,G.Standalone);break;case"LLLL":Et=mt(nn.Months,F.Wide,G.Standalone);break;case"LLLLL":Et=mt(nn.Months,F.Narrow,G.Standalone);break;case"w":Et=xr(1);break;case"ww":Et=xr(2);break;case"W":Et=xr(1,!0);break;case"d":Et=Pr(jt.Date,1);break;case"dd":Et=Pr(jt.Date,2);break;case"c":case"cc":Et=Pr(jt.Day,1);break;case"ccc":Et=mt(nn.Days,F.Abbreviated,G.Standalone);break;case"cccc":Et=mt(nn.Days,F.Wide,G.Standalone);break;case"ccccc":Et=mt(nn.Days,F.Narrow,G.Standalone);break;case"cccccc":Et=mt(nn.Days,F.Short,G.Standalone);break;case"E":case"EE":case"EEE":Et=mt(nn.Days,F.Abbreviated);break;case"EEEE":Et=mt(nn.Days,F.Wide);break;case"EEEEE":Et=mt(nn.Days,F.Narrow);break;case"EEEEEE":Et=mt(nn.Days,F.Short);break;case"a":case"aa":case"aaa":Et=mt(nn.DayPeriods,F.Abbreviated);break;case"aaaa":Et=mt(nn.DayPeriods,F.Wide);break;case"aaaaa":Et=mt(nn.DayPeriods,F.Narrow);break;case"b":case"bb":case"bbb":Et=mt(nn.DayPeriods,F.Abbreviated,G.Standalone,!0);break;case"bbbb":Et=mt(nn.DayPeriods,F.Wide,G.Standalone,!0);break;case"bbbbb":Et=mt(nn.DayPeriods,F.Narrow,G.Standalone,!0);break;case"B":case"BB":case"BBB":Et=mt(nn.DayPeriods,F.Abbreviated,G.Format,!0);break;case"BBBB":Et=mt(nn.DayPeriods,F.Wide,G.Format,!0);break;case"BBBBB":Et=mt(nn.DayPeriods,F.Narrow,G.Format,!0);break;case"h":Et=Pr(jt.Hours,1,-12);break;case"hh":Et=Pr(jt.Hours,2,-12);break;case"H":Et=Pr(jt.Hours,1);break;case"HH":Et=Pr(jt.Hours,2);break;case"m":Et=Pr(jt.Minutes,1);break;case"mm":Et=Pr(jt.Minutes,2);break;case"s":Et=Pr(jt.Seconds,1);break;case"ss":Et=Pr(jt.Seconds,2);break;case"S":Et=Pr(jt.FractionalSeconds,1);break;case"SS":Et=Pr(jt.FractionalSeconds,2);break;case"SSS":Et=Pr(jt.FractionalSeconds,3);break;case"Z":case"ZZ":case"ZZZ":Et=et(ct.Short);break;case"ZZZZZ":Et=et(ct.Extended);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":Et=et(ct.ShortGMT);break;case"OOOO":case"ZZZZ":case"zzzz":Et=et(ct.Long);break;default:return null}return Zr[Le]=Et,Et}(Lt);Ms+=Ut?Ut(En,Re,js):"''"===Lt?"'":Lt.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),Ms}function br(Le,Et,Re){const Mt=new Date(0);return Mt.setFullYear(Le,Et,Re),Mt.setHours(0,0,0),Mt}function mr(Le,Et){const Re=function De(Le){return(0,C.cg1)(Le)[C.wAp.LocaleId]}(Le);if(ft[Re]=ft[Re]||{},ft[Re][Et])return ft[Re][Et];let Mt="";switch(Et){case"shortDate":Mt=ne(Le,ae.Short);break;case"mediumDate":Mt=ne(Le,ae.Medium);break;case"longDate":Mt=ne(Le,ae.Long);break;case"fullDate":Mt=ne(Le,ae.Full);break;case"shortTime":Mt=Oe(Le,ae.Short);break;case"mediumTime":Mt=Oe(Le,ae.Medium);break;case"longTime":Mt=Oe(Le,ae.Long);break;case"fullTime":Mt=Oe(Le,ae.Full);break;case"short":const En=mr(Le,"shortTime"),yr=mr(Le,"shortDate");Mt=Mr($e(Le,ae.Short),[En,yr]);break;case"medium":const Fr=mr(Le,"mediumTime"),Pi=mr(Le,"mediumDate");Mt=Mr($e(Le,ae.Medium),[Fr,Pi]);break;case"long":const js=mr(Le,"longTime"),Ms=mr(Le,"longDate");Mt=Mr($e(Le,ae.Long),[js,Ms]);break;case"full":const Lt=mr(Le,"fullTime"),Ut=mr(Le,"fullDate");Mt=Mr($e(Le,ae.Full),[Lt,Ut])}return Mt&&(ft[Re][Et]=Mt),Mt}function Mr(Le,Et){return Et&&(Le=Le.replace(/\{([^}]+)}/g,function(Re,Mt){return null!=Et&&Mt in Et?Et[Mt]:Re})),Le}function dr(Le,Et,Re="-",Mt,En){let yr="";(Le<0||En&&Le<=0)&&(En?Le=1-Le:(Le=-Le,yr=Re));let Fr=String(Le);for(;Fr.length<Et;)Fr="0"+Fr;return Mt&&(Fr=Fr.substr(Fr.length-Et)),yr+Fr}function Pr(Le,Et,Re=0,Mt=!1,En=!1){return function(yr,Fr){let Pi=function fn(Le,Et){switch(Le){case jt.FullYear:return Et.getFullYear();case jt.Month:return Et.getMonth();case jt.Date:return Et.getDate();case jt.Hours:return Et.getHours();case jt.Minutes:return Et.getMinutes();case jt.Seconds:return Et.getSeconds();case jt.FractionalSeconds:return Et.getMilliseconds();case jt.Day:return Et.getDay();default:throw new Error(`Unknown DateType value "${Le}".`)}}(Le,yr);if((Re>0||Pi>-Re)&&(Pi+=Re),Le===jt.Hours)0===Pi&&-12===Re&&(Pi=12);else if(Le===jt.FractionalSeconds)return function zr(Le,Et){return dr(Le,3).substr(0,Et)}(Pi,Et);const js=ot(Fr,R.MinusSign);return dr(Pi,Et,js,Mt,En)}}function mt(Le,Et,Re=G.Format,Mt=!1){return function(En,yr){return function Be(Le,Et,Re,Mt,En,yr){switch(Re){case nn.Months:return function We(Le,Et,Re){const Mt=(0,C.cg1)(Le),yr=vn([Mt[C.wAp.MonthsFormat],Mt[C.wAp.MonthsStandalone]],Et);return vn(yr,Re)}(Et,En,Mt)[Le.getMonth()];case nn.Days:return function dt(Le,Et,Re){const Mt=(0,C.cg1)(Le),yr=vn([Mt[C.wAp.DaysFormat],Mt[C.wAp.DaysStandalone]],Et);return vn(yr,Re)}(Et,En,Mt)[Le.getDay()];case nn.DayPeriods:const Fr=Le.getHours(),Pi=Le.getMinutes();if(yr){const Ms=function Tt(Le){const Et=(0,C.cg1)(Le);return lt(Et),(Et[C.wAp.ExtraData][2]||[]).map(Mt=>"string"==typeof Mt?Nn(Mt):[Nn(Mt[0]),Nn(Mt[1])])}(Et),Lt=function Ft(Le,Et,Re){const Mt=(0,C.cg1)(Le);lt(Mt);const yr=vn([Mt[C.wAp.ExtraData][0],Mt[C.wAp.ExtraData][1]],Et)||[];return vn(yr,Re)||[]}(Et,En,Mt),Ut=Ms.findIndex(_n=>{if(Array.isArray(_n)){const[Xn,Tr]=_n,ri=Fr>=Xn.hours&&Pi>=Xn.minutes,yi=Fr<Tr.hours||Fr===Tr.hours&&Pi<Tr.minutes;if(Xn.hours<Tr.hours){if(ri&&yi)return!0}else if(ri||yi)return!0}else if(_n.hours===Fr&&_n.minutes===Pi)return!0;return!1});if(-1!==Ut)return Lt[Ut]}return function Ke(Le,Et,Re){const Mt=(0,C.cg1)(Le),yr=vn([Mt[C.wAp.DayPeriodsFormat],Mt[C.wAp.DayPeriodsStandalone]],Et);return vn(yr,Re)}(Et,En,Mt)[Fr<12?0:1];case nn.Eras:return function Te(Le,Et){return vn((0,C.cg1)(Le)[C.wAp.Eras],Et)}(Et,Mt)[Le.getFullYear()<=0?0:1];default:throw new Error(`unexpected translation type ${Re}`)}}(En,yr,Le,Et,Re,Mt)}}function et(Le){return function(Et,Re,Mt){const En=-1*Mt,yr=ot(Re,R.MinusSign),Fr=En>0?Math.floor(En/60):Math.ceil(En/60);switch(Le){case ct.Short:return(En>=0?"+":"")+dr(Fr,2,yr)+dr(Math.abs(En%60),2,yr);case ct.ShortGMT:return"GMT"+(En>=0?"+":"")+dr(Fr,1,yr);case ct.Long:return"GMT"+(En>=0?"+":"")+dr(Fr,2,yr)+":"+dr(Math.abs(En%60),2,yr);case ct.Extended:return 0===Mt?"Z":(En>=0?"+":"")+dr(Fr,2,yr)+":"+dr(Math.abs(En%60),2,yr);default:throw new Error(`Unknown zone width "${Le}"`)}}}function Mn(Le){return br(Le.getFullYear(),Le.getMonth(),Le.getDate()+(4-Le.getDay()))}function xr(Le,Et=!1){return function(Re,Mt){let En;if(Et){const yr=new Date(Re.getFullYear(),Re.getMonth(),1).getDay()-1,Fr=Re.getDate();En=1+Math.floor((Fr+yr)/7)}else{const yr=Mn(Re),Fr=function pn(Le){const Et=br(Le,0,1).getDay();return br(Le,0,1+(Et<=4?4:11)-Et)}(yr.getFullYear()),Pi=yr.getTime()-Fr.getTime();En=1+Math.round(Pi/6048e5)}return dr(En,Le,ot(Mt,R.MinusSign))}}function Dr(Le,Et=!1){return function(Re,Mt){return dr(Mn(Re).getFullYear(),Le,ot(Mt,R.MinusSign),Et)}}const Zr={};function On(Le,Et){Le=Le.replace(/:/g,"");const Re=Date.parse("Jan 01, 1970 00:00:00 "+Le)/6e4;return isNaN(Re)?Et:Re}function ai(Le){return Le instanceof Date&&!isNaN(Le.valueOf())}function To(Le,Et){Et=encodeURIComponent(Et);for(const Re of Le.split(";")){const Mt=Re.indexOf("="),[En,yr]=-1==Mt?[Re,""]:[Re.slice(0,Mt),Re.slice(Mt+1)];if(En.trim()===Et)return decodeURIComponent(yr)}return null}let Ha=(()=>{class Le{constructor(Re,Mt,En,yr){this._iterableDiffers=Re,this._keyValueDiffers=Mt,this._ngEl=En,this._renderer=yr,this._iterableDiffer=null,this._keyValueDiffer=null,this._initialClasses=[],this._rawClass=null}set klass(Re){this._removeClasses(this._initialClasses),this._initialClasses="string"==typeof Re?Re.split(/\s+/):[],this._applyClasses(this._initialClasses),this._applyClasses(this._rawClass)}set ngClass(Re){this._removeClasses(this._rawClass),this._applyClasses(this._initialClasses),this._iterableDiffer=null,this._keyValueDiffer=null,this._rawClass="string"==typeof Re?Re.split(/\s+/):Re,this._rawClass&&((0,C.sIi)(this._rawClass)?this._iterableDiffer=this._iterableDiffers.find(this._rawClass).create():this._keyValueDiffer=this._keyValueDiffers.find(this._rawClass).create())}ngDoCheck(){if(this._iterableDiffer){const Re=this._iterableDiffer.diff(this._rawClass);Re&&this._applyIterableChanges(Re)}else if(this._keyValueDiffer){const Re=this._keyValueDiffer.diff(this._rawClass);Re&&this._applyKeyValueChanges(Re)}}_applyKeyValueChanges(Re){Re.forEachAddedItem(Mt=>this._toggleClass(Mt.key,Mt.currentValue)),Re.forEachChangedItem(Mt=>this._toggleClass(Mt.key,Mt.currentValue)),Re.forEachRemovedItem(Mt=>{Mt.previousValue&&this._toggleClass(Mt.key,!1)})}_applyIterableChanges(Re){Re.forEachAddedItem(Mt=>{if("string"!=typeof Mt.item)throw new Error(`NgClass can only toggle CSS classes expressed as strings, got ${(0,C.AaK)(Mt.item)}`);this._toggleClass(Mt.item,!0)}),Re.forEachRemovedItem(Mt=>this._toggleClass(Mt.item,!1))}_applyClasses(Re){Re&&(Array.isArray(Re)||Re instanceof Set?Re.forEach(Mt=>this._toggleClass(Mt,!0)):Object.keys(Re).forEach(Mt=>this._toggleClass(Mt,!!Re[Mt])))}_removeClasses(Re){Re&&(Array.isArray(Re)||Re instanceof Set?Re.forEach(Mt=>this._toggleClass(Mt,!1)):Object.keys(Re).forEach(Mt=>this._toggleClass(Mt,!1)))}_toggleClass(Re,Mt){(Re=Re.trim())&&Re.split(/\s+/g).forEach(En=>{Mt?this._renderer.addClass(this._ngEl.nativeElement,En):this._renderer.removeClass(this._ngEl.nativeElement,En)})}}return Le.\u0275fac=function(Re){return new(Re||Le)(C.Y36(C.ZZ4),C.Y36(C.aQg),C.Y36(C.SBq),C.Y36(C.Qsj))},Le.\u0275dir=C.lG2({type:Le,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"}}),Le})();class tl{constructor(Et,Re,Mt,En){this.$implicit=Et,this.ngForOf=Re,this.index=Mt,this.count=En}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let Ys=(()=>{class Le{constructor(Re,Mt,En){this._viewContainer=Re,this._template=Mt,this._differs=En,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(Re){this._ngForOf=Re,this._ngForOfDirty=!0}set ngForTrackBy(Re){this._trackByFn=Re}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(Re){Re&&(this._template=Re)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const Re=this._ngForOf;!this._differ&&Re&&(this._differ=this._differs.find(Re).create(this.ngForTrackBy))}if(this._differ){const Re=this._differ.diff(this._ngForOf);Re&&this._applyChanges(Re)}}_applyChanges(Re){const Mt=this._viewContainer;Re.forEachOperation((En,yr,Fr)=>{if(null==En.previousIndex)Mt.createEmbeddedView(this._template,new tl(En.item,this._ngForOf,-1,-1),null===Fr?void 0:Fr);else if(null==Fr)Mt.remove(null===yr?void 0:yr);else if(null!==yr){const Pi=Mt.get(yr);Mt.move(Pi,Fr),Do(Pi,En)}});for(let En=0,yr=Mt.length;En<yr;En++){const Pi=Mt.get(En).context;Pi.index=En,Pi.count=yr,Pi.ngForOf=this._ngForOf}Re.forEachIdentityChange(En=>{Do(Mt.get(En.currentIndex),En)})}static ngTemplateContextGuard(Re,Mt){return!0}}return Le.\u0275fac=function(Re){return new(Re||Le)(C.Y36(C.s_b),C.Y36(C.Rgc),C.Y36(C.ZZ4))},Le.\u0275dir=C.lG2({type:Le,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}}),Le})();function Do(Le,Et){Le.context.$implicit=Et.item}let Tn=(()=>{class Le{constructor(Re,Mt){this._viewContainer=Re,this._context=new Hn,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=Mt}set ngIf(Re){this._context.$implicit=this._context.ngIf=Re,this._updateView()}set ngIfThen(Re){Or("ngIfThen",Re),this._thenTemplateRef=Re,this._thenViewRef=null,this._updateView()}set ngIfElse(Re){Or("ngIfElse",Re),this._elseTemplateRef=Re,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(Re,Mt){return!0}}return Le.\u0275fac=function(Re){return new(Re||Le)(C.Y36(C.s_b),C.Y36(C.Rgc))},Le.\u0275dir=C.lG2({type:Le,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}}),Le})();class Hn{constructor(){this.$implicit=null,this.ngIf=null}}function Or(Le,Et){if(Et&&!Et.createEmbeddedView)throw new Error(`${Le} must be a TemplateRef, but received '${(0,C.AaK)(Et)}'.`)}let Ca=(()=>{class Le{constructor(Re,Mt,En){this._ngEl=Re,this._differs=Mt,this._renderer=En,this._ngStyle=null,this._differ=null}set ngStyle(Re){this._ngStyle=Re,!this._differ&&Re&&(this._differ=this._differs.find(Re).create())}ngDoCheck(){if(this._differ){const Re=this._differ.diff(this._ngStyle);Re&&this._applyChanges(Re)}}_setStyle(Re,Mt){const[En,yr]=Re.split(".");null!=(Mt=null!=Mt&&yr?`${Mt}${yr}`:Mt)?this._renderer.setStyle(this._ngEl.nativeElement,En,Mt):this._renderer.removeStyle(this._ngEl.nativeElement,En)}_applyChanges(Re){Re.forEachRemovedItem(Mt=>this._setStyle(Mt.key,null)),Re.forEachAddedItem(Mt=>this._setStyle(Mt.key,Mt.currentValue)),Re.forEachChangedItem(Mt=>this._setStyle(Mt.key,Mt.currentValue))}}return Le.\u0275fac=function(Re){return new(Re||Le)(C.Y36(C.SBq),C.Y36(C.aQg),C.Y36(C.Qsj))},Le.\u0275dir=C.lG2({type:Le,selectors:[["","ngStyle",""]],inputs:{ngStyle:"ngStyle"}}),Le})();function Is(Le,Et){return new C.vHH(2100,"")}class Ec{createSubscription(Et,Re){return Et.subscribe({next:Re,error:Mt=>{throw Mt}})}dispose(Et){Et.unsubscribe()}onDestroy(Et){Et.unsubscribe()}}class Xc{createSubscription(Et,Re){return Et.then(Re,Mt=>{throw Mt})}dispose(Et){}onDestroy(Et){}}const Aa=new Xc,Ks=new Ec;let Vo=(()=>{class Le{constructor(Re){this._ref=Re,this._latestValue=null,this._subscription=null,this._obj=null,this._strategy=null}ngOnDestroy(){this._subscription&&this._dispose()}transform(Re){return this._obj?Re!==this._obj?(this._dispose(),this.transform(Re)):this._latestValue:(Re&&this._subscribe(Re),this._latestValue)}_subscribe(Re){this._obj=Re,this._strategy=this._selectStrategy(Re),this._subscription=this._strategy.createSubscription(Re,Mt=>this._updateLatestValue(Re,Mt))}_selectStrategy(Re){if((0,C.QGY)(Re))return Aa;if((0,C.F4k)(Re))return Ks;throw Is()}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(Re,Mt){Re===this._obj&&(this._latestValue=Mt,this._ref.markForCheck())}}return Le.\u0275fac=function(Re){return new(Re||Le)(C.Y36(C.sBO,16))},Le.\u0275pipe=C.Yjl({name:"async",type:Le,pure:!1}),Le})();const _u=new C.OlP("DATE_PIPE_DEFAULT_TIMEZONE");let sc=(()=>{class Le{constructor(Re,Mt){this.locale=Re,this.defaultTimezone=Mt}transform(Re,Mt="mediumDate",En,yr){var Fr;if(null==Re||""===Re||Re!=Re)return null;try{return jn(Re,Mt,yr||this.locale,null!==(Fr=null!=En?En:this.defaultTimezone)&&void 0!==Fr?Fr:void 0)}catch(Pi){throw Is()}}}return Le.\u0275fac=function(Re){return new(Re||Le)(C.Y36(C.soG,16),C.Y36(_u,24))},Le.\u0275pipe=C.Yjl({name:"date",type:Le,pure:!0}),Le})(),Fl=(()=>{class Le{}return Le.\u0275fac=function(Re){return new(Re||Le)},Le.\u0275mod=C.oAB({type:Le}),Le.\u0275inj=C.cJS({}),Le})();const ya="browser";function Yo(Le){return Le===ya}function vo(Le){return"server"===Le}let Tc=(()=>{class Le{}return Le.\u0275prov=(0,C.Yz7)({token:Le,providedIn:"root",factory:()=>new Jc((0,C.LFG)(tt),window)}),Le})();class Jc{constructor(Et,Re){this.document=Et,this.window=Re,this.offset=()=>[0,0]}setOffset(Et){this.offset=Array.isArray(Et)?()=>Et:Et}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(Et){this.supportsScrolling()&&this.window.scrollTo(Et[0],Et[1])}scrollToAnchor(Et){if(!this.supportsScrolling())return;const Re=function ql(Le,Et){const Re=Le.getElementById(Et)||Le.getElementsByName(Et)[0];if(Re)return Re;if("function"==typeof Le.createTreeWalker&&Le.body&&(Le.body.createShadowRoot||Le.body.attachShadow)){const Mt=Le.createTreeWalker(Le.body,NodeFilter.SHOW_ELEMENT);let En=Mt.currentNode;for(;En;){const yr=En.shadowRoot;if(yr){const Fr=yr.getElementById(Et)||yr.querySelector(`[name="${Et}"]`);if(Fr)return Fr}En=Mt.nextNode()}}return null}(this.document,Et);Re&&(this.scrollToElement(Re),Re.focus())}setHistoryScrollRestoration(Et){if(this.supportScrollRestoration()){const Re=this.window.history;Re&&Re.scrollRestoration&&(Re.scrollRestoration=Et)}}scrollToElement(Et){const Re=Et.getBoundingClientRect(),Mt=Re.left+this.window.pageXOffset,En=Re.top+this.window.pageYOffset,yr=this.offset();this.window.scrollTo(Mt-yr[0],En-yr[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const Et=sl(this.window.history)||sl(Object.getPrototypeOf(this.window.history));return!(!Et||!Et.writable&&!Et.set)}catch(Et){return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch(Et){return!1}}}function sl(Le){return Object.getOwnPropertyDescriptor(Le,"scrollRestoration")}class Ns{}},5e3:(Gr,Ln,me)=>{"use strict";me.d(Ln,{$8M:()=>yl,$Z:()=>mw,AFp:()=>D1,ALo:()=>kS,AaK:()=>Qe,AsE:()=>N_,CHM:()=>Qt,CRH:()=>LS,CZH:()=>GE,CqO:()=>Tm,DdM:()=>bE,EJc:()=>n5,EpF:()=>e0,F4k:()=>c1,FYo:()=>gS,FiY:()=>rs,G48:()=>iT,GfV:()=>mS,Gpc:()=>qe,IIB:()=>XS,JOm:()=>ku,L6J:()=>Qk,LFG:()=>wl,LSH:()=>Yh,Lbi:()=>ZE,MAs:()=>ym,NdJ:()=>u1,OlP:()=>qa,Oqu:()=>P_,PXZ:()=>d5,Q6J:()=>b_,QGY:()=>Em,Qsj:()=>rk,R0b:()=>If,RDi:()=>sl,Rgc:()=>H_,SBq:()=>U_,Sil:()=>Fu,Suo:()=>RS,TTD:()=>Ia,TgZ:()=>l1,Udp:()=>v1,VKq:()=>bS,VLi:()=>Wd,X6Q:()=>rT,XFs:()=>Ft,Xpm:()=>Mn,Y36:()=>bm,YKP:()=>_S,YNc:()=>cg,Yjl:()=>vr,Yz7:()=>ne,ZZ4:()=>u2,_Bn:()=>hS,_UZ:()=>jd,_Vd:()=>Yw,_c5:()=>P1,_uU:()=>Nw,aQg:()=>cT,c2e:()=>t5,cJS:()=>$e,cg1:()=>aE,dDg:()=>nA,deG:()=>fc,dqk:()=>mr,eFA:()=>lA,ekj:()=>I_,evT:()=>pv,g9A:()=>Wc,h0i:()=>S1,hGG:()=>K_,hij:()=>b1,iGM:()=>FS,ifc:()=>ct,ip1:()=>QS,kL8:()=>BC,kYT:()=>mn,lG2:()=>hr,lcZ:()=>PS,n5z:()=>Yu,oAB:()=>On,oxw:()=>_w,q4F:()=>vS,qLn:()=>Jf,qOj:()=>hm,qZA:()=>dg,r_U:()=>Nm,s9C:()=>Sm,sBO:()=>dA,sIi:()=>ag,s_b:()=>Jw,soG:()=>yg,tBr:()=>Gf,tb:()=>hd,tp0:()=>Eh,uIk:()=>dm,vHH:()=>we,vpe:()=>gp,wAp:()=>fs,xi3:()=>NS,xp6:()=>Py,z2F:()=>o2,zSh:()=>lp,zs3:()=>Od});var C=me(7579),h=me(727),it=me(8306),ve=me(6451),Ne=me(3099);function I(l){for(let c in l)if(l[c]===I)return c;throw Error("Could not find renamed property on target object.")}function tt(l,c){for(const f in c)c.hasOwnProperty(f)&&!l.hasOwnProperty(f)&&(l[f]=c[f])}function Qe(l){if("string"==typeof l)return l;if(Array.isArray(l))return"["+l.map(Qe).join(", ")+"]";if(null==l)return""+l;if(l.overriddenName)return`${l.overriddenName}`;if(l.name)return`${l.name}`;const c=l.toString();if(null==c)return""+c;const f=c.indexOf("\n");return-1===f?c:c.substring(0,f)}function nt(l,c){return null==l||""===l?null===c?"":c:null==c||""===c?l:l+" "+c}const ze=I({__forward_ref__:I});function qe(l){return l.__forward_ref__=qe,l.toString=function(){return Qe(this())},l}function Fe(l){return He(l)?l():l}function He(l){return"function"==typeof l&&l.hasOwnProperty(ze)&&l.__forward_ref__===qe}class we extends Error{constructor(c,f){super(function de(l,c){return`NG0${Math.abs(l)}${c?": "+c:""}`}(c,f)),this.code=c}}function W(l){return"string"==typeof l?l:null==l?"":String(l)}function fe(l){return"function"==typeof l?l.name||l.toString():"object"==typeof l&&null!=l&&"function"==typeof l.type?l.type.name||l.type.toString():W(l)}function se(l,c){const f=c?` in ${c}`:"";throw new we(-201,`No provider for ${fe(l)} found${f}`)}function dt(l,c){null==l&&function We(l,c,f,v){throw new Error(`ASSERTION ERROR: ${l}`+(null==v?"":` [Expected=> ${f} ${v} ${c} <=Actual]`))}(c,l,null,"!=")}function ne(l){return{token:l.token,providedIn:l.providedIn||null,factory:l.factory,value:void 0}}function $e(l){return{providers:l.providers||[],imports:l.imports||[]}}function ot(l){return at(l,Ee)||at(l,lt)}function at(l,c){return l.hasOwnProperty(c)?l[c]:null}function J(l){return l&&(l.hasOwnProperty(Ue)||l.hasOwnProperty(Tt))?l[Ue]:null}const Ee=I({\u0275prov:I}),Ue=I({\u0275inj:I}),lt=I({ngInjectableDef:I}),Tt=I({ngInjectorDef:I});var Ft=(()=>((Ft=Ft||{})[Ft.Default=0]="Default",Ft[Ft.Host=1]="Host",Ft[Ft.Self=2]="Self",Ft[Ft.SkipSelf=4]="SkipSelf",Ft[Ft.Optional=8]="Optional",Ft))();let $t;function Nn(l){const c=$t;return $t=l,c}function $n(l,c,f){const v=ot(l);return v&&"root"==v.providedIn?void 0===v.value?v.value=v.factory():v.value:f&Ft.Optional?null:void 0!==c?c:void se(Qe(l),"Injector")}function hn(l){return{toString:l}.toString()}var ke=(()=>((ke=ke||{})[ke.OnPush=0]="OnPush",ke[ke.Default=1]="Default",ke))(),ct=(()=>{return(l=ct||(ct={}))[l.Emulated=0]="Emulated",l[l.None=2]="None",l[l.ShadowDom=3]="ShadowDom",ct;var l})();const jt="undefined"!=typeof globalThis&&globalThis,nn="undefined"!=typeof window&&window,jn="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,mr=jt||"undefined"!=typeof global&&global||nn||jn,zr={},Pr=[],fn=I({\u0275cmp:I}),mt=I({\u0275dir:I}),Be=I({\u0275pipe:I}),et=I({\u0275mod:I}),ht=I({\u0275fac:I}),Nt=I({__NG_ELEMENT_ID__:I});let pn=0;function Mn(l){return hn(()=>{const f={},v={type:l.type,providersResolver:null,decls:l.decls,vars:l.vars,factory:null,template:l.template||null,consts:l.consts||null,ngContentSelectors:l.ngContentSelectors,hostBindings:l.hostBindings||null,hostVars:l.hostVars||0,hostAttrs:l.hostAttrs||null,contentQueries:l.contentQueries||null,declaredInputs:f,inputs:null,outputs:null,exportAs:l.exportAs||null,onPush:l.changeDetection===ke.OnPush,directiveDefs:null,pipeDefs:null,selectors:l.selectors||Pr,viewQuery:l.viewQuery||null,features:l.features||null,data:l.data||{},encapsulation:l.encapsulation||ct.Emulated,id:"c",styles:l.styles||Pr,_:null,setInput:null,schemas:l.schemas||null,tView:null},x=l.directives,T=l.features,U=l.pipes;return v.id+=pn++,v.inputs=Rt(l.inputs,f),v.outputs=Rt(l.outputs),T&&T.forEach(te=>te(v)),v.directiveDefs=x?()=>("function"==typeof x?x():x).map(Dr):null,v.pipeDefs=U?()=>("function"==typeof U?U():U).map(Zr):null,v})}function Dr(l){return ai(l)||function ki(l){return l[mt]||null}(l)}function Zr(l){return function Zi(l){return l[Be]||null}(l)}const Ar={};function On(l){return hn(()=>{const c={type:l.type,bootstrap:l.bootstrap||Pr,declarations:l.declarations||Pr,imports:l.imports||Pr,exports:l.exports||Pr,transitiveCompileScopes:null,schemas:l.schemas||null,id:l.id||null};return null!=l.id&&(Ar[l.id]=l.type),c})}function mn(l,c){return hn(()=>{const f=Wi(l,!0);f.declarations=c.declarations||Pr,f.imports=c.imports||Pr,f.exports=c.exports||Pr})}function Rt(l,c){if(null==l)return zr;const f={};for(const v in l)if(l.hasOwnProperty(v)){let x=l[v],T=x;Array.isArray(x)&&(T=x[1],x=x[0]),f[x]=v,c&&(c[x]=T)}return f}const hr=Mn;function vr(l){return{type:l.type,name:l.name,factory:null,pure:!1!==l.pure,onDestroy:l.type.prototype.ngOnDestroy||null}}function ai(l){return l[fn]||null}function Wi(l,c){const f=l[et]||null;if(!f&&!0===c)throw new Error(`Type ${Qe(l)} does not have '\u0275mod' property.`);return f}function ni(l){return Array.isArray(l)&&"object"==typeof l[1]}function as(l){return Array.isArray(l)&&!0===l[1]}function Us(l){return 0!=(8&l.flags)}function ji(l){return 2==(2&l.flags)}function ro(l){return 1==(1&l.flags)}function Co(l){return null!==l.template}function Ca(l){return 0!=(512&l[2])}function la(l,c){return l.hasOwnProperty(ht)?l[ht]:null}class Hl{constructor(c,f,v){this.previousValue=c,this.currentValue=f,this.firstChange=v}isFirstChange(){return this.firstChange}}function Ia(){return ca}function ca(l){return l.type.prototype.ngOnChanges&&(l.setInput=il),Ol}function Ol(){const l=ya(this),c=null==l?void 0:l.current;if(c){const f=l.previous;if(f===zr)l.previous=c;else for(let v in c)f[v]=c[v];l.current=null,this.ngOnChanges(c)}}function il(l,c,f,v){const x=ya(l)||function Bs(l,c){return l[Fl]=c}(l,{previous:zr,current:null}),T=x.current||(x.current={}),U=x.previous,te=this.declaredInputs[f],ge=U[te];T[te]=new Hl(ge&&ge.currentValue,c,U===zr),l[v]=c}Ia.ngInherit=!0;const Fl="__ngSimpleChanges__";function ya(l){return l[Fl]||null}let Jc;function sl(l){Jc=l}function Ns(l){return!!l.listen}const Le={createRenderer:(l,c)=>function ql(){return void 0!==Jc?Jc:"undefined"!=typeof document?document:void 0}()};function Re(l){for(;Array.isArray(l);)l=l[0];return l}function yr(l,c){return Re(c[l])}function Fr(l,c){return Re(c[l.index])}function js(l,c){return l.data[c]}function Ms(l,c){return l[c]}function Lt(l,c){const f=c[l];return ni(f)?f:f[0]}function Ut(l){return 4==(4&l[2])}function _n(l){return 128==(128&l[2])}function Tr(l,c){return null==c?null:l[c]}function ri(l){l[18]=0}function yi(l,c){l[5]+=c;let f=l,v=l[3];for(;null!==v&&(1===c&&1===f[5]||-1===c&&0===f[5]);)v[5]+=c,f=v,v=v[3]}const ii={lFrame:ef(null),bindingsEnabled:!0};function Me(){return ii.bindingsEnabled}function K(){return ii.lFrame.lView}function gt(){return ii.lFrame.tView}function Qt(l){return ii.lFrame.contextLView=l,l[8]}function xn(){let l=er();for(;null!==l&&64===l.type;)l=l.parent;return l}function er(){return ii.lFrame.currentTNode}function pi(l,c){const f=ii.lFrame;f.currentTNode=l,f.isParent=c}function fi(){return ii.lFrame.isParent}function qs(){const l=ii.lFrame;let c=l.bindingRootIndex;return-1===c&&(c=l.bindingRootIndex=l.tView.bindingStartIndex),c}function ua(){return ii.lFrame.bindingIndex++}function Xo(l){const c=ii.lFrame,f=c.bindingIndex;return c.bindingIndex=c.bindingIndex+l,f}function wu(l,c){const f=ii.lFrame;f.bindingIndex=f.bindingRootIndex=l,bu(c)}function bu(l){ii.lFrame.currentDirectiveIndex=l}function Wu(){return ii.lFrame.currentQueryIndex}function pd(l){ii.lFrame.currentQueryIndex=l}function qu(l){const c=l[1];return 2===c.type?c.declTNode:1===c.type?l[6]:null}function lu(l,c,f){if(f&Ft.SkipSelf){let x=c,T=l;for(;!(x=x.parent,null!==x||f&Ft.Host||(x=qu(T),null===x||(T=T[15],10&x.type))););if(null===x)return!1;c=x,l=T}const v=ii.lFrame=Ts();return v.currentTNode=c,v.lView=l,!0}function Gu(l){const c=Ts(),f=l[1];ii.lFrame=c,c.currentTNode=f.firstChild,c.lView=l,c.tView=f,c.contextLView=l,c.bindingIndex=f.bindingStartIndex,c.inI18n=!1}function Ts(){const l=ii.lFrame,c=null===l?null:l.child;return null===c?ef(l):c}function ef(l){const c={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:l,child:null,inI18n:!1};return null!==l&&(l.child=c),c}function Qo(){const l=ii.lFrame;return ii.lFrame=l.parent,l.currentTNode=null,l.lView=null,l}const Lh=Qo;function ml(){const l=Qo();l.isParent=!0,l.tView=null,l.selectedIndex=-1,l.contextLView=null,l.elementDepthCount=0,l.currentDirectiveIndex=-1,l.currentNamespace=null,l.bindingRootIndex=-1,l.bindingIndex=-1,l.currentQueryIndex=0}function ns(){return ii.lFrame.selectedIndex}function $l(l){ii.lFrame.selectedIndex=l}function yo(){const l=ii.lFrame;return js(l.tView,l.selectedIndex)}function So(l,c){for(let f=c.directiveStart,v=c.directiveEnd;f<v;f++){const T=l.data[f].type.prototype,{ngAfterContentInit:U,ngAfterContentChecked:te,ngAfterViewInit:ge,ngAfterViewChecked:rt,ngOnDestroy:Ct}=T;U&&(l.contentHooks||(l.contentHooks=[])).push(-f,U),te&&((l.contentHooks||(l.contentHooks=[])).push(f,te),(l.contentCheckHooks||(l.contentCheckHooks=[])).push(f,te)),ge&&(l.viewHooks||(l.viewHooks=[])).push(-f,ge),rt&&((l.viewHooks||(l.viewHooks=[])).push(f,rt),(l.viewCheckHooks||(l.viewCheckHooks=[])).push(f,rt)),null!=Ct&&(l.destroyHooks||(l.destroyHooks=[])).push(f,Ct)}}function md(l,c,f){Uh(l,c,3,f)}function ol(l,c,f,v){(3&l[2])===f&&Uh(l,c,f,v)}function ka(l,c){let f=l[2];(3&f)===c&&(f&=2047,f+=1,l[2]=f)}function Uh(l,c,f,v){const T=null!=v?v:-1,U=c.length-1;let te=0;for(let ge=void 0!==v?65535&l[18]:0;ge<U;ge++)if("number"==typeof c[ge+1]){if(te=c[ge],null!=v&&te>=v)break}else c[ge]<0&&(l[18]+=65536),(te<T||-1==T)&&(hc(l,f,c,ge),l[18]=(4294901760&l[18])+ge+2),ge++}function hc(l,c,f,v){const x=f[v]<0,T=f[v+1],te=l[x?-f[v]:f[v]];if(x){if(l[2]>>11<l[18]>>16&&(3&l[2])===c){l[2]+=2048;try{T.call(te)}finally{}}}else try{T.call(te)}finally{}}class Ic{constructor(c,f,v){this.factory=c,this.resolving=!1,this.canSeeViewProviders=f,this.injectImpl=v}}function ts(l,c,f){const v=Ns(l);let x=0;for(;x<f.length;){const T=f[x];if("number"==typeof T){if(0!==T)break;x++;const U=f[x++],te=f[x++],ge=f[x++];v?l.setAttribute(c,te,ge,U):c.setAttributeNS(U,te,ge)}else{const U=T,te=f[++x];os(U)?v&&l.setProperty(c,U,te):v?l.setAttribute(c,U,te):c.setAttribute(U,te),x++}}return x}function bi(l){return 3===l||4===l||6===l}function os(l){return 64===l.charCodeAt(0)}function jh(l,c){if(null!==c&&0!==c.length)if(null===l||0===l.length)l=c.slice();else{let f=-1;for(let v=0;v<c.length;v++){const x=c[v];"number"==typeof x?f=x:0===f||ui(l,f,x,null,-1===f||2===f?c[++v]:null)}}return l}function ui(l,c,f,v,x){let T=0,U=l.length;if(-1===c)U=-1;else for(;T<l.length;){const te=l[T++];if("number"==typeof te){if(te===c){U=-1;break}if(te>c){U=T-1;break}}}for(;T<l.length;){const te=l[T];if("number"==typeof te)break;if(te===f){if(null===v)return void(null!==x&&(l[T+1]=x));if(v===l[T+1])return void(l[T+2]=x)}T++,null!==v&&T++,null!==x&&T++}-1!==U&&(l.splice(U,0,c),T=U+1),l.splice(T++,0,f),null!==v&&l.splice(T++,0,v),null!==x&&l.splice(T++,0,x)}function wr(l){return-1!==l}function Nr(l){return 32767&l}function Eu(l,c){let f=function vl(l){return l>>16}(l),v=c;for(;f>0;)v=v[15],f--;return v}let vd=!0;function yd(l){const c=vd;return vd=l,c}let mh=0;function _d(l,c){const f=Vh(l,c);if(-1!==f)return f;const v=c[1];v.firstCreatePass&&(l.injectorIndex=c.length,kc(v.data,l),kc(c,null),kc(v.blueprint,null));const x=ie(l,c),T=l.injectorIndex;if(wr(x)){const U=Nr(x),te=Eu(x,c),ge=te[1].data;for(let rt=0;rt<8;rt++)c[T+rt]=te[U+rt]|ge[U+rt]}return c[T+8]=x,T}function kc(l,c){l.push(0,0,0,0,0,0,0,0,c)}function Vh(l,c){return-1===l.injectorIndex||l.parent&&l.parent.injectorIndex===l.injectorIndex||null===c[l.injectorIndex+8]?-1:l.injectorIndex}function ie(l,c){if(l.parent&&-1!==l.parent.injectorIndex)return l.parent.injectorIndex;let f=0,v=null,x=c;for(;null!==x;){const T=x[1],U=T.type;if(v=2===U?T.declTNode:1===U?x[6]:null,null===v)return-1;if(f++,x=x[15],-1!==v.injectorIndex)return v.injectorIndex|f<<16}return-1}function Y(l,c,f){!function Bf(l,c,f){let v;"string"==typeof f?v=f.charCodeAt(0)||0:f.hasOwnProperty(Nt)&&(v=f[Nt]),null==v&&(v=f[Nt]=mh++);const x=255&v;c.data[l+(x>>5)]|=1<<x}(l,c,f)}function Ae(l,c,f){if(f&Ft.Optional)return l;se(c,"NodeInjector")}function Ge(l,c,f,v){if(f&Ft.Optional&&void 0===v&&(v=null),0==(f&(Ft.Self|Ft.Host))){const x=l[9],T=Nn(void 0);try{return x?x.get(c,v,f&Ft.Optional):$n(c,v,f&Ft.Optional)}finally{Nn(T)}}return Ae(v,c,f)}function kt(l,c,f,v=Ft.Default,x){if(null!==l){const T=function Vi(l){if("string"==typeof l)return l.charCodeAt(0)||0;const c=l.hasOwnProperty(Nt)?l[Nt]:void 0;return"number"==typeof c?c>=0?255&c:Dn:c}(f);if("function"==typeof T){if(!lu(c,l,v))return v&Ft.Host?Ae(x,f,v):Ge(c,f,v,x);try{const U=T(v);if(null!=U||v&Ft.Optional)return U;se(f)}finally{Lh()}}else if("number"==typeof T){let U=null,te=Vh(l,c),ge=-1,rt=v&Ft.Host?c[16][6]:null;for((-1===te||v&Ft.SkipSelf)&&(ge=-1===te?ie(l,c):c[te+8],-1!==ge&&oo(v,!1)?(U=c[1],te=Nr(ge),c=Eu(ge,c)):te=-1);-1!==te;){const Ct=c[1];if(Xs(T,te,Ct.data)){const en=ar(te,c,f,U,v,rt);if(en!==Zt)return en}ge=c[te+8],-1!==ge&&oo(v,c[1].data[te+8]===rt)&&Xs(T,te,c)?(U=Ct,te=Nr(ge),c=Eu(ge,c)):te=-1}}}return Ge(c,f,v,x)}const Zt={};function Dn(){return new fo(xn(),K())}function ar(l,c,f,v,x,T){const U=c[1],te=U.data[l+8],Ct=rr(te,U,f,null==v?ji(te)&&vd:v!=U&&0!=(3&te.type),x&Ft.Host&&T===te);return null!==Ct?hs(c,U,Ct,te):Zt}function rr(l,c,f,v,x){const T=l.providerIndexes,U=c.data,te=1048575&T,ge=l.directiveStart,Ct=T>>20,kn=x?te+Ct:l.directiveEnd;for(let Yn=v?te:te+Ct;Yn<kn;Yn++){const Ir=U[Yn];if(Yn<ge&&f===Ir||Yn>=ge&&Ir.type===f)return Yn}if(x){const Yn=U[ge];if(Yn&&Co(Yn)&&Yn.type===f)return ge}return null}function hs(l,c,f,v){let x=l[f];const T=c.data;if(function da(l){return l instanceof Ic}(x)){const U=x;U.resolving&&function ye(l,c){const f=c?`. Dependency path: ${c.join(" > ")} > ${l}`:"";throw new we(-200,`Circular dependency in DI detected for ${l}${f}`)}(fe(T[f]));const te=yd(U.canSeeViewProviders);U.resolving=!0;const ge=U.injectImpl?Nn(U.injectImpl):null;lu(l,v,Ft.Default);try{x=l[f]=U.factory(void 0,T,l,v),c.firstCreatePass&&f>=v.directiveStart&&function nf(l,c,f){const{ngOnChanges:v,ngOnInit:x,ngDoCheck:T}=c.type.prototype;if(v){const U=ca(c);(f.preOrderHooks||(f.preOrderHooks=[])).push(l,U),(f.preOrderCheckHooks||(f.preOrderCheckHooks=[])).push(l,U)}x&&(f.preOrderHooks||(f.preOrderHooks=[])).push(0-l,x),T&&((f.preOrderHooks||(f.preOrderHooks=[])).push(l,T),(f.preOrderCheckHooks||(f.preOrderCheckHooks=[])).push(l,T))}(f,T[f],c)}finally{null!==ge&&Nn(ge),yd(te),U.resolving=!1,Lh()}}return x}function Xs(l,c,f){return!!(f[c+(l>>5)]&1<<l)}function oo(l,c){return!(l&Ft.Self||l&Ft.Host&&c)}class fo{constructor(c,f){this._tNode=c,this._lView=f}get(c,f,v){return kt(this._tNode,this._lView,c,v,f)}}function Yu(l){return hn(()=>{const c=l.prototype.constructor,f=c[ht]||Hh(c),v=Object.prototype;let x=Object.getPrototypeOf(l.prototype).constructor;for(;x&&x!==v;){const T=x[ht]||Hh(x);if(T&&T!==f)return T;x=Object.getPrototypeOf(x)}return T=>new T})}function Hh(l){return He(l)?()=>{const c=Hh(Fe(l));return c&&c()}:la(l)}function yl(l){return function H(l,c){if("class"===c)return l.classes;if("style"===c)return l.styles;const f=l.attrs;if(f){const v=f.length;let x=0;for(;x<v;){const T=f[x];if(bi(T))break;if(0===T)x+=2;else if("number"==typeof T)for(x++;x<v&&"string"==typeof f[x];)x++;else{if(T===c)return f[x+1];x+=2}}}return null}(xn(),l)}const dc="__parameters__",vh="__prop__metadata__";function _h(l){return function(...f){if(l){const v=l(...f);for(const x in v)this[x]=v[x]}}}function or(l,c,f){return hn(()=>{const v=_h(c);function x(...T){if(this instanceof x)return v.apply(this,T),this;const U=new x(...T);return te.annotation=U,te;function te(ge,rt,Ct){const en=ge.hasOwnProperty(dc)?ge[dc]:Object.defineProperty(ge,dc,{value:[]})[dc];for(;en.length<=Ct;)en.push(null);return(en[Ct]=en[Ct]||[]).push(U),ge}}return f&&(x.prototype=Object.create(f.prototype)),x.prototype.ngMetadataName=l,x.annotationCls=x,x})}function zh(l,c,f,v){return hn(()=>{const x=_h(c);function T(...U){if(this instanceof T)return x.apply(this,U),this;const te=new T(...U);return function ge(rt,Ct){const en=rt.constructor,kn=en.hasOwnProperty(vh)?en[vh]:Object.defineProperty(en,vh,{value:{}})[vh];kn[Ct]=kn.hasOwnProperty(Ct)&&kn[Ct]||[],kn[Ct].unshift(te),v&&v(rt,Ct,...U)}}return f&&(T.prototype=Object.create(f.prototype)),T.prototype.ngMetadataName=l,T.annotationCls=T,T})}class qa{constructor(c,f){this._desc=c,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof f?this.__NG_ELEMENT_ID__=f:void 0!==f&&(this.\u0275prov=ne({token:this,providedIn:f.providedIn||"root",factory:f.factory}))}toString(){return`InjectionToken ${this._desc}`}}const fc=new qa("AnalyzeForEntryComponents");function co(l,c){void 0===c&&(c=l);for(let f=0;f<l.length;f++){let v=l[f];Array.isArray(v)?(c===l&&(c=l.slice(0,f)),co(v,c)):c!==l&&c.push(v)}return c}function Gs(l,c){l.forEach(f=>Array.isArray(f)?Gs(f,c):c(f))}function _a(l,c,f){c>=l.length?l.push(f):l.splice(c,0,f)}function Su(l,c){return c>=l.length-1?l.pop():l.splice(c,1)[0]}function pc(l,c,f){let v=wh(l,c);return v>=0?l[1|v]=f:(v=~v,function A0(l,c,f,v){let x=l.length;if(x==c)l.push(f,v);else if(1===x)l.push(v,l[0]),l[0]=f;else{for(x--,l.push(l[x-1],l[x]);x>c;)l[x]=l[x-2],x--;l[c]=f,l[c+1]=v}}(l,v,c,f)),v}function Vf(l,c){const f=wh(l,c);if(f>=0)return l[1|f]}function wh(l,c){return function Xu(l,c,f){let v=0,x=l.length>>f;for(;x!==v;){const T=v+(x-v>>1),U=l[T<<f];if(c===U)return T<<f;U>c?x=T:v=T+1}return~(x<<f)}(l,c,1)}const qh={},Ju="__NG_DI_FLAG__",Hf="ngTempTokenPath",zf=/\n/gm,Vc="__source",Rg=I({provide:String,useValue:I});let Qu;function ms(l){const c=Qu;return Qu=l,c}function I0(l,c=Ft.Default){if(void 0===Qu)throw new we(203,"");return null===Qu?$n(l,void 0,c):Qu.get(l,c&Ft.Optional?null:void 0,c)}function wl(l,c=Ft.Default){return(function vn(){return $t}()||I0)(Fe(l),c)}const Ma=wl;function qf(l){const c=[];for(let f=0;f<l.length;f++){const v=Fe(l[f]);if(Array.isArray(v)){if(0===v.length)throw new we(900,"");let x,T=Ft.Default;for(let U=0;U<v.length;U++){const te=v[U],ge=D0(te);"number"==typeof ge?-1===ge?x=te.token:T|=ge:x=te}c.push(wl(x,T))}else c.push(wl(v))}return c}function Ya(l,c){return l[Ju]=c,l.prototype[Ju]=c,l}function D0(l){return l[Ju]}const Gf=Ya(or("Inject",l=>({token:l})),-1),rs=Ya(or("Optional"),8),Eh=Ya(or("SkipSelf"),4);class Gh{constructor(c){this.changingThisBreaksApplicationSecurity=c}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}function bl(l){return l instanceof Gh?l.changingThisBreaksApplicationSecurity:l}const M0=/^(?:(?:https?|mailto|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi,S=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;var ra=(()=>((ra=ra||{})[ra.NONE=0]="NONE",ra[ra.HTML=1]="HTML",ra[ra.STYLE=2]="STYLE",ra[ra.SCRIPT=3]="SCRIPT",ra[ra.URL=4]="URL",ra[ra.RESOURCE_URL=5]="RESOURCE_URL",ra))();function Yh(l){const c=function Mo(){const l=K();return l&&l[12]}();return c?c.sanitize(ra.URL,l)||"":function bd(l,c){const f=function av(l){return l instanceof Gh&&l.getTypeName()||null}(l);if(null!=f&&f!==c){if("ResourceURL"===f&&"URL"===c)return!0;throw new Error(`Required a safe ${c}, got a ${f} (see https://g.co/ng/security#xss)`)}return f===c}(l,"URL")?bl(l):function k(l){return(l=String(l)).match(M0)||l.match(S)?l:"unsafe:"+l}(W(l))}const ul="__ngContext__";function Gi(l,c){l[ul]=c}function ks(l){const c=function Kl(l){return l[ul]||null}(l);return c?Array.isArray(c)?c:c.lView:null}function Du(l){return l.ngOriginalError}function Tx(l,...c){l.error(...c)}class Jf{constructor(){this._console=console}handleError(c){const f=this._findOriginalError(c),v=function vy(l){return l&&l.ngErrorLogger||Tx}(c);v(this._console,"ERROR",c),f&&v(this._console,"ORIGINAL ERROR",f)}_findOriginalError(c){let f=c&&Du(c);for(;f&&Du(f);)f=Du(f);return f||null}}const fv=(()=>("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind(mr))();function pv(l){return l.ownerDocument}function Ul(l){return l instanceof Function?l():l}var ku=(()=>((ku=ku||{})[ku.Important=1]="Important",ku[ku.DashCase=2]="DashCase",ku))();function _y(l,c){return undefined(l,c)}function L0(l){const c=l[3];return as(c)?c[3]:c}function U0(l){return Gg(l[13])}function gv(l){return Gg(l[4])}function Gg(l){for(;null!==l&&!as(l);)l=l[4];return l}function pf(l,c,f,v,x){if(null!=v){let T,U=!1;as(v)?T=v:ni(v)&&(U=!0,v=v[0]);const te=Re(v);0===l&&null!==f?null==x?j0(c,f,te):Th(c,f,te,x||null,!0):1===l&&null!==f?Th(c,f,te,x||null,!0):2===l?function xv(l,c,f){const v=Ss(l,c);v&&function Ay(l,c,f,v){Ns(l)?l.removeChild(c,f,v):c.removeChild(f)}(l,v,c,f)}(c,te,U):3===l&&c.destroyNode(te),null!=T&&function W0(l,c,f,v,x){const T=f[7];T!==Re(f)&&pf(c,l,v,T,x);for(let te=10;te<f.length;te++){const ge=f[te];z0(ge[1],ge,l,c,v,T)}}(c,l,T,f,x)}}function by(l,c,f){if(Ns(l))return l.createElement(c,f);{const v=null!==f?function Tc(l){const c=l.toLowerCase();return"svg"===c?"http://www.w3.org/2000/svg":"math"===c?"http://www.w3.org/1998/MathML/":null}(f):null;return null===v?l.createElement(c):l.createElementNS(v,c)}}function mv(l,c){const f=l[9],v=f.indexOf(c),x=c[3];1024&c[2]&&(c[2]&=-1025,yi(x,-1)),f.splice(v,1)}function Cy(l,c){if(l.length<=10)return;const f=10+c,v=l[f];if(v){const x=v[17];null!==x&&x!==l&&mv(x,v),c>0&&(l[f-1][4]=v[4]);const T=Su(l,10+c);!function cb(l,c){z0(l,c,c[11],2,null,null),c[0]=null,c[6]=null}(v[1],v);const U=T[19];null!==U&&U.detachView(T[1]),v[3]=null,v[4]=null,v[2]&=-129}return v}function Sy(l,c){if(!(256&c[2])){const f=c[11];Ns(f)&&f.destroyNode&&z0(l,c,f,3,null,null),function ub(l){let c=l[13];if(!c)return vv(l[1],l);for(;c;){let f=null;if(ni(c))f=c[13];else{const v=c[10];v&&(f=v)}if(!f){for(;c&&!c[4]&&c!==l;)ni(c)&&vv(c[1],c),c=c[3];null===c&&(c=l),ni(c)&&vv(c[1],c),f=c&&c[4]}c=f}}(c)}}function vv(l,c){if(!(256&c[2])){c[2]&=-129,c[2]|=256,function Qh(l,c){let f;if(null!=l&&null!=(f=l.destroyHooks))for(let v=0;v<f.length;v+=2){const x=c[f[v]];if(!(x instanceof Ic)){const T=f[v+1];if(Array.isArray(T))for(let U=0;U<T.length;U+=2){const te=x[T[U]],ge=T[U+1];try{ge.call(te)}finally{}}else try{T.call(x)}finally{}}}}(l,c),function Fp(l,c){const f=l.cleanup,v=c[7];let x=-1;if(null!==f)for(let T=0;T<f.length-1;T+=2)if("string"==typeof f[T]){const U=f[T+1],te="function"==typeof U?U(c):Re(c[U]),ge=v[x=f[T+2]],rt=f[T+3];"boolean"==typeof rt?te.removeEventListener(f[T],ge,rt):rt>=0?v[x=rt]():v[x=-rt].unsubscribe(),T+=2}else{const U=v[x=f[T+1]];f[T].call(U)}if(null!==v){for(let T=x+1;T<v.length;T++)v[T]();c[7]=null}}(l,c),1===c[1].type&&Ns(c[11])&&c[11].destroy();const f=c[17];if(null!==f&&as(c[3])){f!==c[3]&&mv(f,c);const v=c[19];null!==v&&v.detachView(l)}}}function yc(l,c,f){return function B0(l,c,f){let v=c;for(;null!==v&&40&v.type;)v=(c=v).parent;if(null===v)return f[0];if(2&v.flags){const x=l.data[v.directiveStart].encapsulation;if(x===ct.None||x===ct.Emulated)return null}return Fr(v,f)}(l,c.parent,f)}function Th(l,c,f,v,x){Ns(l)?l.insertBefore(c,f,v,x):c.insertBefore(f,v,x)}function j0(l,c,f){Ns(l)?l.appendChild(c,f):c.appendChild(f)}function gf(l,c,f,v,x){null!==v?Th(l,c,f,v,x):j0(l,c,f)}function Ss(l,c){return Ns(l)?l.parentNode(c):c.parentNode}let uo=function oh(l,c,f){return 40&l.type?Fr(l,f):null};function Zg(l,c,f,v){const x=yc(l,v,c),T=c[11],te=function mf(l,c,f){return uo(l,c,f)}(v.parent||c[6],v,c);if(null!=x)if(Array.isArray(f))for(let ge=0;ge<f.length;ge++)gf(T,x,f[ge],te,!1);else gf(T,x,f,te,!1)}function Rp(l,c){if(null!==c){const f=c.type;if(3&f)return Fr(c,l);if(4&f)return _v(-1,l[c.index]);if(8&f){const v=c.child;if(null!==v)return Rp(l,v);{const x=l[c.index];return as(x)?_v(-1,x):Re(x)}}if(32&f)return _y(c,l)()||Re(l[c.index]);{const v=yv(l,c);return null!==v?Array.isArray(v)?v[0]:Rp(L0(l[16]),v):Rp(l,c.next)}}return null}function yv(l,c){return null!==c?l[16][6].projection[c.projection]:null}function _v(l,c){const f=10+l+1;if(f<c.length){const v=c[f],x=v[1].firstChild;if(null!==x)return Rp(v,x)}return c[7]}function ed(l,c,f,v,x,T,U){for(;null!=f;){const te=v[f.index],ge=f.type;if(U&&0===c&&(te&&Gi(Re(te),v),f.flags|=4),64!=(64&f.flags))if(8&ge)ed(l,c,f.child,v,x,T,!1),pf(c,l,x,te,T);else if(32&ge){const rt=_y(f,v);let Ct;for(;Ct=rt();)pf(c,l,x,Ct,T);pf(c,l,x,te,T)}else 16&ge?Lp(l,c,v,f,x,T):pf(c,l,x,te,T);f=U?f.projectionNext:f.next}}function z0(l,c,f,v,x,T){ed(f,v,l.firstChild,c,x,T,!1)}function Lp(l,c,f,v,x,T){const U=f[16],ge=U[6].projection[v.projection];if(Array.isArray(ge))for(let rt=0;rt<ge.length;rt++)pf(c,l,x,ge[rt],T);else ed(l,c,ge,U[3],x,T,!0)}function Dy(l,c,f){Ns(l)?l.setAttribute(c,"style",f):c.style.cssText=f}function $g(l,c,f){Ns(l)?""===f?l.removeAttribute(c,"class"):l.setAttribute(c,"class",f):c.className=f}function Dx(l,c,f){let v=l.length;for(;;){const x=l.indexOf(c,f);if(-1===x)return x;if(0===x||l.charCodeAt(x-1)<=32){const T=c.length;if(x+T===v||l.charCodeAt(x+T)<=32)return x}f=x+1}}const kx="ng-template";function Yg(l,c,f){let v=0;for(;v<l.length;){let x=l[v++];if(f&&"class"===x){if(x=l[v],-1!==Dx(x.toLowerCase(),c,0))return!0}else if(1===x){for(;v<l.length&&"string"==typeof(x=l[v++]);)if(x.toLowerCase()===c)return!0;return!1}}return!1}function yf(l){return 4===l.type&&l.value!==kx}function _f(l,c,f){return c===(4!==l.type||f?l.value:kx)}function wv(l,c,f){let v=4;const x=l.attrs||[],T=function fb(l){for(let c=0;c<l.length;c++)if(bi(l[c]))return c;return l.length}(x);let U=!1;for(let te=0;te<c.length;te++){const ge=c[te];if("number"!=typeof ge){if(!U)if(4&v){if(v=2|1&v,""!==ge&&!_f(l,ge,f)||""===ge&&1===c.length){if(td(v))return!1;U=!0}}else{const rt=8&v?ge:c[++te];if(8&v&&null!==l.attrs){if(!Yg(l.attrs,rt,f)){if(td(v))return!1;U=!0}continue}const en=db(8&v?"class":ge,x,yf(l),f);if(-1===en){if(td(v))return!1;U=!0;continue}if(""!==rt){let kn;kn=en>T?"":x[en+1].toLowerCase();const Yn=8&v?kn:null;if(Yn&&-1!==Dx(Yn,rt,0)||2&v&&rt!==kn){if(td(v))return!1;U=!0}}}}else{if(!U&&!td(v)&&!td(ge))return!1;if(U&&td(ge))continue;U=!1,v=ge|1&v}}return td(v)||U}function td(l){return 0==(1&l)}function db(l,c,f,v){if(null===c)return-1;let x=0;if(v||!f){let T=!1;for(;x<c.length;){const U=c[x];if(U===l)return x;if(3===U||6===U)T=!0;else{if(1===U||2===U){let te=c[++x];for(;"string"==typeof te;)te=c[++x];continue}if(4===U)break;if(0===U){x+=4;continue}}x+=T?1:2}return-1}return function ky(l,c){let f=l.indexOf(4);if(f>-1)for(f++;f<l.length;){const v=l[f];if("number"==typeof v)return-1;if(v===c)return f;f++}return-1}(c,l)}function bv(l,c,f=!1){for(let v=0;v<c.length;v++)if(wv(l,c[v],f))return!0;return!1}function Z0(l,c){return l?":not("+c.trim()+")":c}function Up(l){let c=l[0],f=1,v=2,x="",T=!1;for(;f<l.length;){let U=l[f];if("string"==typeof U)if(2&v){const te=l[++f];x+="["+U+(te.length>0?'="'+te+'"':"")+"]"}else 8&v?x+="."+U:4&v&&(x+=" "+U);else""!==x&&!td(U)&&(c+=Z0(T,x),x=""),v=U,T=T||!td(v);f++}return""!==x&&(c+=Z0(T,x)),c}const is={};function Py(l){Kg(gt(),K(),ns()+l,!1)}function Kg(l,c,f,v){if(!v)if(3==(3&c[2])){const T=l.preOrderCheckHooks;null!==T&&md(c,T,f)}else{const T=l.preOrderHooks;null!==T&&ol(c,T,0,f)}$l(f)}function Y0(l,c){return l<<17|c<<2}function Mc(l){return l>>17&32767}function Dd(l){return 2|l}function kd(l){return(131068&l)>>2}function np(l,c){return-131069&l|c<<2}function nd(l){return 1|l}function Uy(l,c){const f=l.contentQueries;if(null!==f)for(let v=0;v<f.length;v+=2){const x=f[v],T=f[v+1];if(-1!==T){const U=l.data[T];pd(x),U.contentQueries(2,c[T],T)}}}function Md(l,c,f,v,x,T,U,te,ge,rt){const Ct=c.blueprint.slice();return Ct[0]=x,Ct[2]=140|v,ri(Ct),Ct[3]=Ct[15]=l,Ct[8]=f,Ct[10]=U||l&&l[10],Ct[11]=te||l&&l[11],Ct[12]=ge||l&&l[12]||null,Ct[9]=rt||l&&l[9]||null,Ct[6]=T,Ct[16]=2==c.type?l[16]:Ct,Ct}function sp(l,c,f,v,x){let T=l.data[c];if(null===T)T=function K0(l,c,f,v,x){const T=er(),U=fi(),ge=l.data[c]=function Vy(l,c,f,v,x,T){return{type:f,index:v,insertBeforeIndex:null,injectorIndex:c?c.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:x,attrs:T,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:c,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,U?T:T&&T.parent,f,c,v,x);return null===l.firstChild&&(l.firstChild=ge),null!==T&&(U?null==T.child&&null!==ge.parent&&(T.child=ge):null===T.next&&(T.next=ge)),ge}(l,c,f,v,x),function ha(){return ii.lFrame.inI18n}()&&(T.flags|=64);else if(64&T.type){T.type=f,T.value=v,T.attrs=x;const U=function Lr(){const l=ii.lFrame,c=l.currentTNode;return l.isParent?c:c.parent}();T.injectorIndex=null===U?-1:U.injectorIndex}return pi(T,!0),T}function zp(l,c,f,v){if(0===f)return-1;const x=c.length;for(let T=0;T<f;T++)c.push(v),l.blueprint.push(v),l.data.push(null);return x}function X0(l,c,f){Gu(c);try{const v=l.viewQuery;null!==v&&sm(1,v,f);const x=l.template;null!==x&&Pv(l,c,x,1,f),l.firstCreatePass&&(l.firstCreatePass=!1),l.staticContentQueries&&Uy(l,c),l.staticViewQueries&&sm(2,l.viewQuery,f);const T=l.components;null!==T&&function ip(l,c){for(let f=0;f<c.length;f++)Bv(l,c[f])}(c,T)}catch(v){throw l.firstCreatePass&&(l.incompleteFirstPass=!0,l.firstCreatePass=!1),v}finally{c[2]&=-5,ml()}}function Wp(l,c,f,v){const x=c[2];if(256!=(256&x)){Gu(c);try{ri(c),function Es(l){return ii.lFrame.bindingIndex=l}(l.bindingStartIndex),null!==f&&Pv(l,c,f,2,v);const U=3==(3&x);if(U){const rt=l.preOrderCheckHooks;null!==rt&&md(c,rt,null)}else{const rt=l.preOrderHooks;null!==rt&&ol(c,rt,0,null),ka(c,0)}if(function Uv(l){for(let c=U0(l);null!==c;c=gv(c)){if(!c[2])continue;const f=c[9];for(let v=0;v<f.length;v++){const x=f[v],T=x[3];0==(1024&x[2])&&yi(T,1),x[2]|=1024}}}(c),function Ab(l){for(let c=U0(l);null!==c;c=gv(c))for(let f=10;f<c.length;f++){const v=c[f],x=v[1];_n(v)&&Wp(x,v,x.template,v[8])}}(c),null!==l.contentQueries&&Uy(l,c),U){const rt=l.contentCheckHooks;null!==rt&&md(c,rt)}else{const rt=l.contentHooks;null!==rt&&ol(c,rt,1),ka(c,1)}!function _b(l,c){const f=l.hostBindingOpCodes;if(null!==f)try{for(let v=0;v<f.length;v++){const x=f[v];if(x<0)$l(~x);else{const T=x,U=f[++v],te=f[++v];wu(U,T),te(2,c[T])}}}finally{$l(-1)}}(l,c);const te=l.components;null!==te&&function kv(l,c){for(let f=0;f<c.length;f++)Ib(l,c[f])}(c,te);const ge=l.viewQuery;if(null!==ge&&sm(2,ge,v),U){const rt=l.viewCheckHooks;null!==rt&&md(c,rt)}else{const rt=l.viewHooks;null!==rt&&ol(c,rt,2),ka(c,2)}!0===l.firstUpdatePass&&(l.firstUpdatePass=!1),c[2]&=-73,1024&c[2]&&(c[2]&=-1025,yi(c[3],-1))}finally{ml()}}}function xb(l,c,f,v){const x=c[10],U=Ut(c);try{!U&&x.begin&&x.begin(),U&&X0(l,c,v),Wp(l,c,f,v)}finally{!U&&x.end&&x.end()}}function Pv(l,c,f,v,x){const T=ns(),U=2&v;try{$l(-1),U&&c.length>20&&Kg(l,c,20,!1),f(v,x)}finally{$l(T)}}function em(l,c,f){!Me()||(function Sb(l,c,f,v){const x=f.directiveStart,T=f.directiveEnd;l.firstCreatePass||_d(f,c),Gi(v,c);const U=f.initialInputs;for(let te=x;te<T;te++){const ge=l.data[te],rt=Co(ge);rt&&Wx(c,f,ge);const Ct=hs(c,l,te,f);Gi(Ct,c),null!==U&&bf(0,te-x,Ct,ge,0,U),rt&&(Lt(f.index,c)[8]=Ct)}}(l,c,f,Fr(f,c)),128==(128&f.flags)&&function zx(l,c,f){const v=f.directiveStart,x=f.directiveEnd,U=f.index,te=function Jo(){return ii.lFrame.currentDirectiveIndex}();try{$l(U);for(let ge=v;ge<x;ge++){const rt=l.data[ge],Ct=c[ge];bu(ge),(null!==rt.hostBindings||0!==rt.hostVars||null!==rt.hostAttrs)&&Q0(rt,Ct)}}finally{$l(-1),bu(te)}}(l,c,f))}function Nv(l,c,f=Fr){const v=c.localNames;if(null!==v){let x=c.index+1;for(let T=0;T<v.length;T+=2){const U=v[T+1],te=-1===U?f(c,l):l[U];l[x++]=te}}}function By(l){const c=l.tView;return null===c||c.incompleteFirstPass?l.tView=qp(1,null,l.template,l.decls,l.vars,l.directiveDefs,l.pipeDefs,l.viewQuery,l.schemas,l.consts):c}function qp(l,c,f,v,x,T,U,te,ge,rt){const Ct=20+v,en=Ct+x,kn=function Mv(l,c){const f=[];for(let v=0;v<c;v++)f.push(v<l?null:is);return f}(Ct,en),Yn="function"==typeof rt?rt():rt;return kn[1]={type:l,blueprint:kn,template:f,queries:null,viewQuery:te,declTNode:c,data:kn.slice().fill(null,Ct),bindingStartIndex:Ct,expandoStartIndex:en,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof T?T():T,pipeRegistry:"function"==typeof U?U():U,firstChild:null,schemas:ge,consts:Yn,incompleteFirstPass:!1}}function Fv(l,c,f,v){const x=qx(c);null===f?x.push(v):(x.push(f),l.firstCreatePass&&jv(l).push(v,x.length-1))}function Hy(l,c,f){for(let v in l)if(l.hasOwnProperty(v)){const x=l[v];(f=null===f?{}:f).hasOwnProperty(v)?f[v].push(c,x):f[v]=[c,x]}return f}function lh(l,c,f,v,x,T,U,te){const ge=Fr(c,f);let Ct,rt=c.inputs;!te&&null!=rt&&(Ct=rt[v])?(e_(l,f,Ct,v,x),ji(c)&&function bb(l,c){const f=Lt(c,l);16&f[2]||(f[2]|=64)}(f,c.index)):3&c.type&&(v=function Bx(l){return"class"===l?"className":"for"===l?"htmlFor":"formaction"===l?"formAction":"innerHtml"===l?"innerHTML":"readonly"===l?"readOnly":"tabindex"===l?"tabIndex":l}(v),x=null!=U?U(x,c.value||"",v):x,Ns(T)?T.setProperty(ge,v,x):os(v)||(ge.setProperty?ge.setProperty(v,x):ge[v]=x))}function Wy(l,c,f,v){let x=!1;if(Me()){const T=function qy(l,c,f){const v=l.directiveRegistry;let x=null;if(v)for(let T=0;T<v.length;T++){const U=v[T];bv(f,U.selectors,!1)&&(x||(x=[]),Y(_d(f,c),l,U.type),Co(U)?(op(l,f),x.unshift(U)):x.push(U))}return x}(l,c,f),U=null===v?null:{"":-1};if(null!==T){x=!0,eg(f,l.data.length,T.length);for(let Ct=0;Ct<T.length;Ct++){const en=T[Ct];en.providersResolver&&en.providersResolver(en)}let te=!1,ge=!1,rt=zp(l,c,T.length,null);for(let Ct=0;Ct<T.length;Ct++){const en=T[Ct];f.mergedAttrs=jh(f.mergedAttrs,en.hostAttrs),tm(l,f,c,rt,en),Rv(rt,en,U),null!==en.contentQueries&&(f.flags|=8),(null!==en.hostBindings||null!==en.hostAttrs||0!==en.hostVars)&&(f.flags|=128);const kn=en.type.prototype;!te&&(kn.ngOnChanges||kn.ngOnInit||kn.ngDoCheck)&&((l.preOrderHooks||(l.preOrderHooks=[])).push(f.index),te=!0),!ge&&(kn.ngOnChanges||kn.ngDoCheck)&&((l.preOrderCheckHooks||(l.preOrderCheckHooks=[])).push(f.index),ge=!0),rt++}!function wb(l,c){const v=c.directiveEnd,x=l.data,T=c.attrs,U=[];let te=null,ge=null;for(let rt=c.directiveStart;rt<v;rt++){const Ct=x[rt],en=Ct.inputs,kn=null===T||yf(c)?null:Zy(en,T);U.push(kn),te=Hy(en,rt,te),ge=Hy(Ct.outputs,rt,ge)}null!==te&&(te.hasOwnProperty("class")&&(c.flags|=16),te.hasOwnProperty("style")&&(c.flags|=32)),c.initialInputs=U,c.inputs=te,c.outputs=ge}(l,f)}U&&function Gy(l,c,f){if(c){const v=l.localNames=[];for(let x=0;x<c.length;x+=2){const T=f[c[x+1]];if(null==T)throw new we(-301,!1);v.push(c[x],T)}}}(f,v,U)}return f.mergedAttrs=jh(f.mergedAttrs,f.attrs),x}function Hx(l,c,f,v,x,T){const U=T.hostBindings;if(U){let te=l.hostBindingOpCodes;null===te&&(te=l.hostBindingOpCodes=[]);const ge=~c.index;(function Cb(l){let c=l.length;for(;c>0;){const f=l[--c];if("number"==typeof f&&f<0)return f}return 0})(te)!=ge&&te.push(ge),te.push(v,x,U)}}function Q0(l,c){null!==l.hostBindings&&l.hostBindings(1,c)}function op(l,c){c.flags|=2,(l.components||(l.components=[])).push(c.index)}function Rv(l,c,f){if(f){if(c.exportAs)for(let v=0;v<c.exportAs.length;v++)f[c.exportAs[v]]=l;Co(c)&&(f[""]=l)}}function eg(l,c,f){l.flags|=1,l.directiveStart=c,l.directiveEnd=c+f,l.providerIndexes=c}function tm(l,c,f,v,x){l.data[v]=x;const T=x.factory||(x.factory=la(x.type)),U=new Ic(T,Co(x),null);l.blueprint[v]=U,f[v]=U,Hx(l,c,0,v,zp(l,f,x.hostVars,is),x)}function Wx(l,c,f){const v=Fr(c,l),x=By(f),T=l[10],U=im(l,Md(l,x,null,f.onPush?64:16,v,c,T,T.createRenderer(v,f),null,null));l[c.index]=U}function ch(l,c,f,v,x,T){const U=Fr(l,c);!function nm(l,c,f,v,x,T,U){if(null==T)Ns(l)?l.removeAttribute(c,x,f):c.removeAttribute(x);else{const te=null==U?W(T):U(T,v||"",x);Ns(l)?l.setAttribute(c,x,te,f):f?c.setAttributeNS(f,x,te):c.setAttribute(x,te)}}(c[11],U,T,l.value,f,v,x)}function bf(l,c,f,v,x,T){const U=T[c];if(null!==U){const te=v.setInput;for(let ge=0;ge<U.length;){const rt=U[ge++],Ct=U[ge++],en=U[ge++];null!==te?v.setInput(f,en,rt,Ct):f[Ct]=en}}}function Zy(l,c){let f=null,v=0;for(;v<c.length;){const x=c[v];if(0!==x)if(5!==x){if("number"==typeof x)break;l.hasOwnProperty(x)&&(null===f&&(f=[]),f.push(x,l[x],c[v+1])),v+=2}else v+=2;else v+=4}return f}function Lv(l,c,f,v){return new Array(l,!0,!1,c,null,0,v,f,null,null)}function Ib(l,c){const f=Lt(c,l);if(_n(f)){const v=f[1];80&f[2]?Wp(v,f,v.template,f[8]):f[5]>0&&rm(f)}}function rm(l){for(let v=U0(l);null!==v;v=gv(v))for(let x=10;x<v.length;x++){const T=v[x];if(1024&T[2]){const U=T[1];Wp(U,T,U.template,T[8])}else T[5]>0&&rm(T)}const f=l[1].components;if(null!==f)for(let v=0;v<f.length;v++){const x=Lt(f[v],l);_n(x)&&x[5]>0&&rm(x)}}function Bv(l,c){const f=Lt(c,l),v=f[1];(function $y(l,c){for(let f=c.length;f<l.blueprint.length;f++)c.push(l.blueprint[f])})(v,f),X0(v,f,f[8])}function im(l,c){return l[13]?l[14][4]=c:l[13]=c,l[14]=c,c}function ap(l){for(;l;){l[2]|=64;const c=L0(l);if(Ca(l)&&!c)return l;l=c}return null}function Jy(l){!function Ky(l){for(let c=0;c<l.components.length;c++){const f=l.components[c],v=ks(f),x=v[1];xb(x,v,x.template,f)}}(l[8])}function sm(l,c,f){pd(0),c(l,f)}const Qy=(()=>Promise.resolve(null))();function qx(l){return l[7]||(l[7]=[])}function jv(l){return l.cleanup||(l.cleanup=[])}function om(l,c){const f=l[9],v=f?f.get(Jf,null):null;v&&v.handleError(c)}function e_(l,c,f,v,x){for(let T=0;T<f.length;){const U=f[T++],te=f[T++],ge=c[U],rt=l.data[U];null!==rt.setInput?rt.setInput(ge,x,v,te):ge[te]=x}}function id(l,c,f){const v=yr(c,l);!function Ax(l,c,f){Ns(l)?l.setValue(c,f):c.textContent=f}(l[11],v,f)}function tg(l,c,f){let v=f?l.styles:null,x=f?l.classes:null,T=0;if(null!==c)for(let U=0;U<c.length;U++){const te=c[U];"number"==typeof te?T=te:1==T?x=nt(x,te):2==T&&(v=nt(v,te+": "+c[++U]+";"))}f?l.styles=v:l.stylesWithoutHost=v,f?l.classes=x:l.classesWithoutHost=x}const am=new qa("INJECTOR",-1);class $p{get(c,f=qh){if(f===qh){const v=new Error(`NullInjectorError: No provider for ${Qe(c)}!`);throw v.name="NullInjectorError",v}return f}}const lp=new qa("Set Injector scope."),rg={},ig={};let n_;function Zx(){return void 0===n_&&(n_=new $p),n_}function Vv(l,c=null,f=null,v){const x=Hv(l,c,f,v);return x._resolveInjectorDefTypes(),x}function Hv(l,c=null,f=null,v){return new r_(l,f,c||Zx(),v)}class r_{constructor(c,f,v,x=null){this.parent=v,this.records=new Map,this.injectorDefTypes=new Set,this.onDestroy=new Set,this._destroyed=!1;const T=[];f&&Gs(f,te=>this.processProvider(te,c,f)),Gs([c],te=>this.processInjectorType(te,[],T)),this.records.set(am,Ef(void 0,this));const U=this.records.get(lp);this.scope=null!=U?U.value:null,this.source=x||("object"==typeof c?null:Qe(c))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{this.onDestroy.forEach(c=>c.ngOnDestroy())}finally{this.records.clear(),this.onDestroy.clear(),this.injectorDefTypes.clear()}}get(c,f=qh,v=Ft.Default){this.assertNotDestroyed();const x=ms(this),T=Nn(void 0);try{if(!(v&Ft.SkipSelf)){let te=this.records.get(c);if(void 0===te){const ge=function kb(l){return"function"==typeof l||"object"==typeof l&&l instanceof qa}(c)&&ot(c);te=ge&&this.injectableDefInScope(ge)?Ef(lm(c),rg):null,this.records.set(c,te)}if(null!=te)return this.hydrate(c,te)}return(v&Ft.Self?Zx():this.parent).get(c,f=v&Ft.Optional&&f===qh?null:f)}catch(U){if("NullInjectorError"===U.name){if((U[Hf]=U[Hf]||[]).unshift(Qe(c)),x)throw U;return function Cs(l,c,f,v){const x=l[Hf];throw c[Vc]&&x.unshift(c[Vc]),l.message=function Lg(l,c,f,v=null){l=l&&"\n"===l.charAt(0)&&"\u0275"==l.charAt(1)?l.substr(2):l;let x=Qe(c);if(Array.isArray(c))x=c.map(Qe).join(" -> ");else if("object"==typeof c){let T=[];for(let U in c)if(c.hasOwnProperty(U)){let te=c[U];T.push(U+":"+("string"==typeof te?JSON.stringify(te):Qe(te)))}x=`{${T.join(", ")}}`}return`${f}${v?"("+v+")":""}[${x}]: ${l.replace(zf,"\n  ")}`}("\n"+l.message,x,f,v),l.ngTokenPath=x,l[Hf]=null,l}(U,c,"R3InjectorError",this.source)}throw U}finally{Nn(T),ms(x)}}_resolveInjectorDefTypes(){this.injectorDefTypes.forEach(c=>this.get(c))}toString(){const c=[];return this.records.forEach((v,x)=>c.push(Qe(x))),`R3Injector[${c.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new we(205,!1)}processInjectorType(c,f,v){if(!(c=Fe(c)))return!1;let x=J(c);const T=null==x&&c.ngModule||void 0,U=void 0===T?c:T,te=-1!==v.indexOf(U);if(void 0!==T&&(x=J(T)),null==x)return!1;if(null!=x.imports&&!te){let Ct;v.push(U);try{Gs(x.imports,en=>{this.processInjectorType(en,f,v)&&(void 0===Ct&&(Ct=[]),Ct.push(en))})}finally{}if(void 0!==Ct)for(let en=0;en<Ct.length;en++){const{ngModule:kn,providers:Yn}=Ct[en];Gs(Yn,Ir=>this.processProvider(Ir,kn,Yn||Pr))}}this.injectorDefTypes.add(U);const ge=la(U)||(()=>new U);this.records.set(U,Ef(ge,rg));const rt=x.providers;if(null!=rt&&!te){const Ct=c;Gs(rt,en=>this.processProvider(en,Ct,rt))}return void 0!==T&&void 0!==c.providers}processProvider(c,f,v){let x=sg(c=Fe(c))?c:Fe(c&&c.provide);const T=function $x(l,c,f){return Yp(l)?Ef(void 0,l.useValue):Ef(cm(l),rg)}(c);if(sg(c)||!0!==c.multi)this.records.get(x);else{let U=this.records.get(x);U||(U=Ef(void 0,rg,!0),U.factory=()=>qf(U.multi),this.records.set(x,U)),x=c,U.multi.push(c)}this.records.set(x,T)}hydrate(c,f){return f.value===rg&&(f.value=ig,f.value=f.factory()),"object"==typeof f.value&&f.value&&function Jx(l){return null!==l&&"object"==typeof l&&"function"==typeof l.ngOnDestroy}(f.value)&&this.onDestroy.add(f.value),f.value}injectableDefInScope(c){if(!c.providedIn)return!1;const f=Fe(c.providedIn);return"string"==typeof f?"any"===f||f===this.scope:this.injectorDefTypes.has(f)}}function lm(l){const c=ot(l),f=null!==c?c.factory:la(l);if(null!==f)return f;if(l instanceof qa)throw new we(204,!1);if(l instanceof Function)return function i_(l){const c=l.length;if(c>0)throw function xl(l,c){const f=[];for(let v=0;v<l;v++)f.push(c);return f}(c,"?"),new we(204,!1);const f=function j(l){const c=l&&(l[Ee]||l[lt]);if(c){const f=function be(l){if(l.hasOwnProperty("name"))return l.name;const c=(""+l).match(/^function\s*([^\s(]+)/);return null===c?"":c[1]}(l);return console.warn(`DEPRECATED: DI is instantiating a token "${f}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${f}" class.`),c}return null}(l);return null!==f?()=>f.factory(l):()=>new l}(l);throw new we(204,!1)}function cm(l,c,f){let v;if(sg(l)){const x=Fe(l);return la(x)||lm(x)}if(Yp(l))v=()=>Fe(l.useValue);else if(function Kp(l){return!(!l||!l.useFactory)}(l))v=()=>l.useFactory(...qf(l.deps||[]));else if(function Yx(l){return!(!l||!l.useExisting)}(l))v=()=>wl(Fe(l.useExisting));else{const x=Fe(l&&(l.useClass||l.provide));if(!function Xx(l){return!!l.deps}(l))return la(x)||lm(x);v=()=>new x(...qf(l.deps))}return v}function Ef(l,c,f=!1){return{factory:l,value:c,multi:f?[]:void 0}}function Yp(l){return null!==l&&"object"==typeof l&&Rg in l}function sg(l){return"function"==typeof l}let Od=(()=>{class l{static create(f,v){var x;if(Array.isArray(f))return Vv({name:""},v,f,"");{const T=null!==(x=f.name)&&void 0!==x?x:"";return Vv({name:T},f.parent,f.providers,T)}}}return l.THROW_IF_NOT_FOUND=qh,l.NULL=new $p,l.\u0275prov=ne({token:l,providedIn:"any",factory:()=>wl(am)}),l.__NG_ELEMENT_ID__=-1,l})();function Tf(l,c){So(ks(l)[1],xn())}function hm(l){let c=function h_(l){return Object.getPrototypeOf(l.prototype).constructor}(l.type),f=!0;const v=[l];for(;c;){let x;if(Co(l))x=c.\u0275cmp||c.\u0275dir;else{if(c.\u0275cmp)throw new we(903,"");x=c.\u0275dir}if(x){if(f){v.push(x);const U=l;U.inputs=d_(l.inputs),U.declaredInputs=d_(l.declaredInputs),U.outputs=d_(l.outputs);const te=x.hostBindings;te&&Jv(l,te);const ge=x.viewQuery,rt=x.contentQueries;if(ge&&f_(l,ge),rt&&Fb(l,rt),tt(l.inputs,x.inputs),tt(l.declaredInputs,x.declaredInputs),tt(l.outputs,x.outputs),Co(x)&&x.data.animation){const Ct=l.data;Ct.animation=(Ct.animation||[]).concat(x.data.animation)}}const T=x.features;if(T)for(let U=0;U<T.length;U++){const te=T[U];te&&te.ngInherit&&te(l),te===hm&&(f=!1)}}c=Object.getPrototypeOf(c)}!function Ob(l){let c=0,f=null;for(let v=l.length-1;v>=0;v--){const x=l[v];x.hostVars=c+=x.hostVars,x.hostAttrs=jh(x.hostAttrs,f=jh(f,x.hostAttrs))}}(v)}function d_(l){return l===zr?{}:l===Pr?[]:l}function f_(l,c){const f=l.viewQuery;l.viewQuery=f?(v,x)=>{c(v,x),f(v,x)}:c}function Fb(l,c){const f=l.contentQueries;l.contentQueries=f?(v,x,T)=>{c(v,x,T),f(v,x,T)}:c}function Jv(l,c){const f=l.hostBindings;l.hostBindings=f?(v,x)=>{c(v,x),f(v,x)}:c}let og=null;function Fd(){if(!og){const l=mr.Symbol;if(l&&l.iterator)og=l.iterator;else{const c=Object.getOwnPropertyNames(Map.prototype);for(let f=0;f<c.length;++f){const v=c[f];"entries"!==v&&"size"!==v&&Map.prototype[v]===Map.prototype.entries&&(og=v)}}}return og}function ag(l){return!!Cf(l)&&(Array.isArray(l)||!(l instanceof Map)&&Fd()in l)}function Cf(l){return null!==l&&("function"==typeof l||"object"==typeof l)}function Mu(l,c,f){return l[c]=f}function Ql(l,c,f){return!Object.is(l[c],f)&&(l[c]=f,!0)}function od(l,c,f,v){const x=Ql(l,c,f);return Ql(l,c+1,v)||x}function dm(l,c,f,v){const x=K();return Ql(x,ua(),c)&&(gt(),ch(yo(),x,l,c,f,v)),dm}function ld(l,c,f,v){return Ql(l,ua(),f)?c+W(f)+v:is}function Jp(l,c,f,v,x,T){const te=od(l,function No(){return ii.lFrame.bindingIndex}(),f,x);return Xo(2),te?c+W(f)+v+W(x)+T:is}function cg(l,c,f,v,x,T,U,te){const ge=K(),rt=gt(),Ct=l+20,en=rt.firstCreatePass?function ow(l,c,f,v,x,T,U,te,ge){const rt=c.consts,Ct=sp(c,l,4,U||null,Tr(rt,te));Wy(c,f,Ct,Tr(rt,ge)),So(c,Ct);const en=Ct.tViews=qp(2,Ct,v,x,T,c.directiveRegistry,c.pipeRegistry,null,c.schemas,rt);return null!==c.queries&&(c.queries.template(c,Ct),en.queries=c.queries.embeddedTView(Ct)),Ct}(Ct,rt,ge,c,f,v,x,T,U):rt.data[Ct];pi(en,!1);const kn=ge[11].createComment("");Zg(rt,ge,kn,en),Gi(kn,ge),im(ge,ge[Ct]=Lv(kn,ge,kn,en)),ro(en)&&em(rt,ge,en),null!=U&&Nv(ge,en,te)}function ym(l){return Ms(function Ko(){return ii.lFrame.contextLView}(),20+l)}function bm(l,c=Ft.Default){const f=K();return null===f?wl(l,c):kt(xn(),f,Fe(l),c)}function mw(){throw new Error("invalid")}function b_(l,c,f){const v=K();return Ql(v,ua(),c)&&lh(gt(),yo(),v,l,c,v[11],f,!1),b_}function vw(l,c,f,v,x){const U=x?"class":"style";e_(l,f,c.inputs[U],U,v)}function l1(l,c,f,v){const x=K(),T=gt(),U=20+l,te=x[11],ge=x[U]=by(te,c,function ev(){return ii.lFrame.currentNamespace}()),rt=T.firstCreatePass?function $b(l,c,f,v,x,T,U){const te=c.consts,rt=sp(c,l,2,x,Tr(te,T));return Wy(c,f,rt,Tr(te,U)),null!==rt.attrs&&tg(rt,rt.attrs,!1),null!==rt.mergedAttrs&&tg(rt,rt.mergedAttrs,!0),null!==c.queries&&c.queries.elementStart(c,rt),rt}(U,T,x,0,c,f,v):T.data[U];pi(rt,!0);const Ct=rt.mergedAttrs;null!==Ct&&ts(te,ge,Ct);const en=rt.classes;null!==en&&$g(te,ge,en);const kn=rt.styles;return null!==kn&&Dy(te,ge,kn),64!=(64&rt.flags)&&Zg(T,x,ge,rt),0===function io(){return ii.lFrame.elementDepthCount}()&&Gi(ge,x),function $i(){ii.lFrame.elementDepthCount++}(),ro(rt)&&(em(T,x,rt),function Ux(l,c,f){if(Us(c)){const x=c.directiveEnd;for(let T=c.directiveStart;T<x;T++){const U=l.data[T];U.contentQueries&&U.contentQueries(1,f[T],T)}}}(T,rt,x)),null!==v&&Nv(x,rt),l1}function dg(){let l=xn();fi()?function es(){ii.lFrame.isParent=!1}():(l=l.parent,pi(l,!1));const c=l;!function Ze(){ii.lFrame.elementDepthCount--}();const f=gt();return f.firstCreatePass&&(So(f,l),Us(l)&&f.queries.elementEnd(l)),null!=c.classesWithoutHost&&function Uf(l){return 0!=(16&l.flags)}(c)&&vw(f,c,K(),c.classesWithoutHost,!0),null!=c.stylesWithoutHost&&function Qr(l){return 0!=(32&l.flags)}(c)&&vw(f,c,K(),c.stylesWithoutHost,!1),dg}function jd(l,c,f,v){return l1(l,c,f,v),dg(),jd}function e0(){return K()}function Em(l){return!!l&&"function"==typeof l.then}function c1(l){return!!l&&"function"==typeof l.subscribe}const Tm=c1;function u1(l,c,f,v){const x=K(),T=gt(),U=xn();return function pg(l,c,f,v,x,T,U,te){const ge=ro(v),Ct=l.firstCreatePass&&jv(l),en=c[8],kn=qx(c);let Yn=!0;if(3&v.type||te){const wi=Fr(v,c),Hi=te?te(wi):wi,Wr=kn.length,ss=te?ho=>te(Re(ho[v.index])):v.index;if(Ns(f)){let ho=null;if(!te&&ge&&(ho=function h1(l,c,f,v){const x=l.cleanup;if(null!=x)for(let T=0;T<x.length-1;T+=2){const U=x[T];if(U===f&&x[T+1]===v){const te=c[7],ge=x[T+2];return te.length>ge?te[ge]:null}"string"==typeof U&&(T+=2)}return null}(l,c,x,v.index)),null!==ho)(ho.__ngLastListenerFn__||ho).__ngNextListenerFn__=T,ho.__ngLastListenerFn__=T,Yn=!1;else{T=Cm(v,c,en,T,!1);const qo=f.listen(Hi,x,T);kn.push(T,qo),Ct&&Ct.push(x,ss,Wr,Wr+1)}}else T=Cm(v,c,en,T,!0),Hi.addEventListener(x,T,U),kn.push(T),Ct&&Ct.push(x,ss,Wr,U)}else T=Cm(v,c,en,T,!1);const Ir=v.outputs;let ci;if(Yn&&null!==Ir&&(ci=Ir[x])){const wi=ci.length;if(wi)for(let Hi=0;Hi<wi;Hi+=2){const Ih=c[ci[Hi]][ci[Hi+1]].subscribe(T),xg=kn.length;kn.push(T,Ih),Ct&&Ct.push(x,v.index,xg,-(xg+1))}}}(T,x,x[11],U,l,c,!!f,v),u1}function E_(l,c,f,v){try{return!1!==f(v)}catch(x){return om(l,x),!1}}function Cm(l,c,f,v,x){return function T(U){if(U===Function)return v;const te=2&l.flags?Lt(l.index,c):c;0==(32&c[2])&&ap(te);let ge=E_(c,0,v,U),rt=T.__ngNextListenerFn__;for(;rt;)ge=E_(c,0,rt,U)&&ge,rt=rt.__ngNextListenerFn__;return x&&!1===ge&&(U.preventDefault(),U.returnValue=!1),ge}}function _w(l=1){return function gd(l){return(ii.lFrame.contextLView=function Zl(l,c){for(;l>0;)c=c[15],l--;return c}(l,ii.lFrame.contextLView))[8]}(l)}function Sm(l,c,f){return d1(l,"",c,"",f),Sm}function d1(l,c,f,v,x){const T=K(),U=ld(T,c,f,v);return U!==is&&lh(gt(),yo(),T,l,U,T[11],x,!1),d1}function m1(l,c,f,v,x){const T=l[f+1],U=null===c;let te=v?Mc(T):kd(T),ge=!1;for(;0!==te&&(!1===ge||U);){const Ct=l[te+1];n0(l[te],c)&&(ge=!0,l[te+1]=v?nd(Ct):Dd(Ct)),te=v?Mc(Ct):kd(Ct)}ge&&(l[f+1]=v?Dd(T):nd(T))}function n0(l,c){return null===l||null==c||(Array.isArray(l)?l[1]:l)===c||!(!Array.isArray(l)||"string"!=typeof c)&&wh(l,c)>=0}function v1(l,c,f){return Ch(l,c,f,!1),v1}function I_(l,c){return Ch(l,c,null,!0),I_}function Ch(l,c,f,v){const x=K(),T=gt(),U=Xo(2);T.firstUpdatePass&&function D_(l,c,f,v){const x=l.data;if(null===x[f+1]){const T=x[ns()],U=function y1(l,c){return c>=l.expandoStartIndex}(l,f);(function Pw(l,c){return 0!=(l.flags&(c?16:32))})(T,v)&&null===c&&!U&&(c=!1),c=function eE(l,c,f,v){const x=function Gl(l){const c=ii.lFrame.currentDirectiveIndex;return-1===c?null:l[c]}(l);let T=v?c.residualClasses:c.residualStyles;if(null===x)0===(v?c.classBindings:c.styleBindings)&&(f=Ah(f=x1(null,l,c,f,v),c.attrs,v),T=null);else{const U=c.directiveStylingLast;if(-1===U||l[U]!==x)if(f=x1(x,l,c,f,v),null===T){let ge=function k_(l,c,f){const v=f?c.classBindings:c.styleBindings;if(0!==kd(v))return l[Mc(v)]}(l,c,v);void 0!==ge&&Array.isArray(ge)&&(ge=x1(null,l,c,ge[1],v),ge=Ah(ge,c.attrs,v),function _1(l,c,f,v){l[Mc(f?c.classBindings:c.styleBindings)]=v}(l,c,v,ge))}else T=function tE(l,c,f){let v;const x=c.directiveEnd;for(let T=1+c.directiveStylingLast;T<x;T++)v=Ah(v,l[T].hostAttrs,f);return Ah(v,c.attrs,f)}(l,c,v)}return void 0!==T&&(v?c.residualClasses=T:c.residualStyles=T),f}(x,T,c,v),function t0(l,c,f,v,x,T){let U=T?c.classBindings:c.styleBindings,te=Mc(U),ge=kd(U);l[v]=f;let Ct,rt=!1;if(Array.isArray(f)){const en=f;Ct=en[1],(null===Ct||wh(en,Ct)>0)&&(rt=!0)}else Ct=f;if(x)if(0!==ge){const kn=Mc(l[te+1]);l[v+1]=Y0(kn,te),0!==kn&&(l[kn+1]=np(l[kn+1],v)),l[te+1]=function Ny(l,c){return 131071&l|c<<17}(l[te+1],v)}else l[v+1]=Y0(te,0),0!==te&&(l[te+1]=np(l[te+1],v)),te=v;else l[v+1]=Y0(ge,0),0===te?te=v:l[ge+1]=np(l[ge+1],v),ge=v;rt&&(l[v+1]=Dd(l[v+1])),m1(l,Ct,v,!0),m1(l,Ct,v,!1),function ww(l,c,f,v,x){const T=x?l.residualClasses:l.residualStyles;null!=T&&"string"==typeof c&&wh(T,c)>=0&&(f[v+1]=nd(f[v+1]))}(c,Ct,l,v,T),U=Y0(te,ge),T?c.classBindings=U:c.styleBindings=U}(x,T,c,f,U,v)}}(T,l,U,v),c!==is&&Ql(x,U,c)&&function Dw(l,c,f,v,x,T,U,te){if(!(3&c.type))return;const ge=l.data,rt=ge[te+1];w1(function Ev(l){return 1==(1&l)}(rt)?kw(ge,c,f,x,kd(rt),U):void 0)||(w1(T)||function Id(l){return 2==(2&l)}(rt)&&(T=kw(ge,null,f,x,te,U)),function ah(l,c,f,v,x){const T=Ns(l);if(c)x?T?l.addClass(f,v):f.classList.add(v):T?l.removeClass(f,v):f.classList.remove(v);else{let U=-1===v.indexOf("-")?void 0:ku.DashCase;if(null==x)T?l.removeStyle(f,v,U):f.style.removeProperty(v);else{const te="string"==typeof x&&x.endsWith("!important");te&&(x=x.slice(0,-10),U|=ku.Important),T?l.setStyle(f,v,x,U):f.style.setProperty(v,x,te?"important":"")}}}(v,U,yr(ns(),f),x,T))}(T,T.data[ns()],x,x[11],l,x[U+1]=function iE(l,c){return null==l||("string"==typeof c?l+=c:"object"==typeof l&&(l=Qe(bl(l)))),l}(c,f),v,U)}function x1(l,c,f,v,x){let T=null;const U=f.directiveEnd;let te=f.directiveStylingLast;for(-1===te?te=f.directiveStart:te++;te<U&&(T=c[te],v=Ah(v,T.hostAttrs,x),T!==l);)te++;return null!==l&&(f.directiveStylingLast=te),v}function Ah(l,c,f){const v=f?1:2;let x=-1;if(null!==c)for(let T=0;T<c.length;T++){const U=c[T];"number"==typeof U?x=U:x===v&&(Array.isArray(l)||(l=void 0===l?[]:["",l]),pc(l,U,!!f||c[++T]))}return void 0===l?null:l}function kw(l,c,f,v,x,T){const U=null===c;let te;for(;x>0;){const ge=l[x],rt=Array.isArray(ge),Ct=rt?ge[1]:ge,en=null===Ct;let kn=f[x+1];kn===is&&(kn=en?Pr:void 0);let Yn=en?Vf(kn,v):Ct===v?kn:void 0;if(rt&&!w1(Yn)&&(Yn=Vf(ge,v)),w1(Yn)&&(te=Yn,U))return te;const Ir=l[x+1];x=U?Mc(Ir):kd(Ir)}if(null!==c){let ge=T?c.residualClasses:c.residualStyles;null!=ge&&(te=Vf(ge,v))}return te}function w1(l){return void 0!==l}function Nw(l,c=""){const f=K(),v=gt(),x=l+20,T=v.firstCreatePass?sp(v,x,1,c,null):v.data[x],U=f[x]=function wy(l,c){return Ns(l)?l.createText(c):l.createTextNode(c)}(f[11],c);Zg(v,f,U,T),pi(T,!1)}function P_(l){return b1("",l,""),P_}function b1(l,c,f){const v=K(),x=ld(v,l,c,f);return x!==is&&id(v,ns(),x),b1}function N_(l,c,f,v,x){const T=K(),U=Jp(T,l,c,f,v,x);return U!==is&&id(T,ns(),U),N_}const ec=void 0;var UC=["en",[["a","p"],["AM","PM"],ec],[["AM","PM"],ec,ec],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],ec,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],ec,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",ec,"{1} 'at' {0}",ec],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function Dm(l){const f=Math.floor(Math.abs(l)),v=l.toString().replace(/^[^.]*\.?/,"").length;return 1===f&&0===v?1:5}];let km={};function aE(l){const c=function lE(l){return l.toLowerCase().replace(/_/g,"-")}(l);let f=jC(c);if(f)return f;const v=c.split("-")[0];if(f=jC(v),f)return f;if("en"===v)return UC;throw new Error(`Missing locale data for the locale "${l}".`)}function BC(l){return aE(l)[fs.PluralCase]}function jC(l){return l in km||(km[l]=mr.ng&&mr.ng.common&&mr.ng.common.locales&&mr.ng.common.locales[l]),km[l]}var fs=(()=>((fs=fs||{})[fs.LocaleId=0]="LocaleId",fs[fs.DayPeriodsFormat=1]="DayPeriodsFormat",fs[fs.DayPeriodsStandalone=2]="DayPeriodsStandalone",fs[fs.DaysFormat=3]="DaysFormat",fs[fs.DaysStandalone=4]="DaysStandalone",fs[fs.MonthsFormat=5]="MonthsFormat",fs[fs.MonthsStandalone=6]="MonthsStandalone",fs[fs.Eras=7]="Eras",fs[fs.FirstDayOfWeek=8]="FirstDayOfWeek",fs[fs.WeekendRange=9]="WeekendRange",fs[fs.DateFormat=10]="DateFormat",fs[fs.TimeFormat=11]="TimeFormat",fs[fs.DateTimeFormat=12]="DateTimeFormat",fs[fs.NumberSymbols=13]="NumberSymbols",fs[fs.NumberFormats=14]="NumberFormats",fs[fs.CurrencyCode=15]="CurrencyCode",fs[fs.CurrencySymbol=16]="CurrencySymbol",fs[fs.CurrencyName=17]="CurrencyName",fs[fs.Currencies=18]="Currencies",fs[fs.Directionality=19]="Directionality",fs[fs.PluralCase=20]="PluralCase",fs[fs.ExtraData=21]="ExtraData",fs))();const Vw="en-US";let VC=Vw;function pE(l,c,f,v,x){if(l=Fe(l),Array.isArray(l))for(let T=0;T<l.length;T++)pE(l[T],c,f,v,x);else{const T=gt(),U=K();let te=sg(l)?l:Fe(l.provide),ge=cm(l);const rt=xn(),Ct=1048575&rt.providerIndexes,en=rt.directiveStart,kn=rt.providerIndexes>>20;if(sg(l)||!l.multi){const Yn=new Ic(ge,x,bm),Ir=mE(te,c,x?Ct:Ct+kn,en);-1===Ir?(Y(_d(rt,U),T,te),gE(T,l,c.length),c.push(te),rt.directiveStart++,rt.directiveEnd++,x&&(rt.providerIndexes+=1048576),f.push(Yn),U.push(Yn)):(f[Ir]=Yn,U[Ir]=Yn)}else{const Yn=mE(te,c,Ct+kn,en),Ir=mE(te,c,Ct,Ct+kn),ci=Yn>=0&&f[Yn],wi=Ir>=0&&f[Ir];if(x&&!wi||!x&&!ci){Y(_d(rt,U),T,te);const Hi=function JD(l,c,f,v,x){const T=new Ic(l,f,bm);return T.multi=[],T.index=c,T.componentProviders=0,uS(T,x,v&&!f),T}(x?XD:KD,f.length,x,v,ge);!x&&wi&&(f[Ir].providerFactory=Hi),gE(T,l,c.length,0),c.push(te),rt.directiveStart++,rt.directiveEnd++,x&&(rt.providerIndexes+=1048576),f.push(Hi),U.push(Hi)}else gE(T,l,Yn>-1?Yn:Ir,uS(f[x?Ir:Yn],ge,!x&&v));!x&&v&&wi&&f[Ir].componentProviders++}}}function gE(l,c,f,v){const x=sg(c),T=function Kx(l){return!!l.useClass}(c);if(x||T){const ge=(T?Fe(c.useClass):c).prototype.ngOnDestroy;if(ge){const rt=l.destroyHooks||(l.destroyHooks=[]);if(!x&&c.multi){const Ct=rt.indexOf(f);-1===Ct?rt.push(f,[v,ge]):rt[Ct+1].push(v,ge)}else rt.push(f,ge)}}}function uS(l,c,f){return f&&l.componentProviders++,l.multi.push(c)-1}function mE(l,c,f,v){for(let x=f;x<v;x++)if(c[x]===l)return x;return-1}function KD(l,c,f,v){return vE(this.multi,[])}function XD(l,c,f,v){const x=this.multi;let T;if(this.providerFactory){const U=this.providerFactory.componentProviders,te=hs(f,f[1],this.providerFactory.index,v);T=te.slice(0,U),vE(x,T);for(let ge=U;ge<te.length;ge++)T.push(te[ge])}else T=[],vE(x,T);return T}function vE(l,c){for(let f=0;f<l.length;f++)c.push((0,l[f])());return c}function hS(l,c=[]){return f=>{f.providersResolver=(v,x)=>function YD(l,c,f){const v=gt();if(v.firstCreatePass){const x=Co(l);pE(f,v.data,v.blueprint,x,!0),pE(c,v.data,v.blueprint,x,!1)}}(v,x?x(l):l,c)}}class dS{}class pS{resolveComponentFactory(c){throw function ek(l){const c=Error(`No component factory found for ${Qe(l)}. Did you add it to @NgModule.entryComponents?`);return c.ngComponent=l,c}(c)}}let Yw=(()=>{class l{}return l.NULL=new pS,l})();function tk(){return C1(xn(),K())}function C1(l,c){return new U_(Fr(l,c))}let U_=(()=>{class l{constructor(f){this.nativeElement=f}}return l.__NG_ELEMENT_ID__=tk,l})();function nk(l){return l instanceof U_?l.nativeElement:l}class gS{}let rk=(()=>{class l{}return l.__NG_ELEMENT_ID__=()=>function sk(){const l=K(),f=Lt(xn().index,l);return function ik(l){return l[11]}(ni(f)?f:l)}(),l})(),ok=(()=>{class l{}return l.\u0275prov=ne({token:l,providedIn:"root",factory:()=>null}),l})();class mS{constructor(c){this.full=c,this.major=c.split(".")[0],this.minor=c.split(".")[1],this.patch=c.split(".").slice(2).join(".")}}const vS=new mS("13.3.11"),yE={};function Kw(l,c,f,v,x=!1){for(;null!==f;){const T=c[f.index];if(null!==T&&v.push(Re(T)),as(T))for(let te=10;te<T.length;te++){const ge=T[te],rt=ge[1].firstChild;null!==rt&&Kw(ge[1],ge,rt,v)}const U=f.type;if(8&U)Kw(l,c,f.child,v);else if(32&U){const te=_y(f,c);let ge;for(;ge=te();)v.push(ge)}else if(16&U){const te=yv(c,f);if(Array.isArray(te))v.push(...te);else{const ge=L0(c[16]);Kw(ge[1],ge,te,v,!0)}}f=x?f.projectionNext:f.next}return v}class B_{constructor(c,f){this._lView=c,this._cdRefInjectingView=f,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const c=this._lView,f=c[1];return Kw(f,c,f.firstChild,[])}get context(){return this._lView[8]}set context(c){this._lView[8]=c}get destroyed(){return 256==(256&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const c=this._lView[3];if(as(c)){const f=c[8],v=f?f.indexOf(this):-1;v>-1&&(Cy(c,v),Su(f,v))}this._attachedToViewContainer=!1}Sy(this._lView[1],this._lView)}onDestroy(c){Fv(this._lView[1],this._lView,null,c)}markForCheck(){ap(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-129}reattach(){this._lView[2]|=128}detectChanges(){!function Xy(l,c,f){const v=c[10];v.begin&&v.begin();try{Wp(l,c,l.template,f)}catch(x){throw om(c,x),x}finally{v.end&&v.end()}}(this._lView[1],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new we(902,"");this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function Ix(l,c){z0(l,c,c[11],2,null,null)}(this._lView[1],this._lView)}attachToAppRef(c){if(this._attachedToViewContainer)throw new we(902,"");this._appRef=c}}class ak extends B_{constructor(c){super(c),this._view=c}detectChanges(){Jy(this._view)}checkNoChanges(){}get context(){return null}}class yS extends Yw{constructor(c){super(),this.ngModule=c}resolveComponentFactory(c){const f=ai(c);return new _E(f,this.ngModule)}}function lk(l){const c=[];for(let f in l)l.hasOwnProperty(f)&&c.push({propName:l[f],templateName:f});return c}class _E extends dS{constructor(c,f){super(),this.componentDef=c,this.ngModule=f,this.componentType=c.type,this.selector=function Px(l){return l.map(Up).join(",")}(c.selectors),this.ngContentSelectors=c.ngContentSelectors?c.ngContentSelectors:[],this.isBoundToModule=!!f}get inputs(){return lk(this.componentDef.inputs)}get outputs(){return lk(this.componentDef.outputs)}create(c,f,v,x){const T=(x=x||this.ngModule)?function uk(l,c){return{get:(f,v,x)=>{const T=l.get(f,yE,x);return T!==yE||v===yE?T:c.get(f,v,x)}}}(c,x.injector):c,U=T.get(gS,Le),te=T.get(ok,null),ge=U.createRenderer(null,this.componentDef),rt=this.componentDef.selectors[0][0]||"div",Ct=v?function Ov(l,c,f){if(Ns(l))return l.selectRootElement(c,f===ct.ShadowDom);let v="string"==typeof c?l.querySelector(c):c;return v.textContent="",v}(ge,v,this.componentDef.encapsulation):by(U.createRenderer(null,this.componentDef),rt,function ck(l){const c=l.toLowerCase();return"svg"===c?"svg":"math"===c?"math":null}(rt)),en=this.componentDef.onPush?576:528,kn=function Kv(l,c){return{components:[],scheduler:l||fv,clean:Qy,playerHandler:c||null,flags:0}}(),Yn=qp(0,null,null,1,0,null,null,null,null,null),Ir=Md(null,Yn,kn,en,null,null,U,ge,te,T);let ci,wi;Gu(Ir);try{const Hi=function Yv(l,c,f,v,x,T){const U=f[1];f[20]=l;const ge=sp(U,20,2,"#host",null),rt=ge.mergedAttrs=c.hostAttrs;null!==rt&&(tg(ge,rt,!0),null!==l&&(ts(x,l,rt),null!==ge.classes&&$g(x,l,ge.classes),null!==ge.styles&&Dy(x,l,ge.styles)));const Ct=v.createRenderer(l,c),en=Md(f,By(c),null,c.onPush?64:16,f[20],ge,v,Ct,T||null,null);return U.firstCreatePass&&(Y(_d(ge,f),U,c.type),op(U,ge),eg(ge,f.length,1)),im(f,en),f[20]=en}(Ct,this.componentDef,Ir,U,ge);if(Ct)if(v)ts(ge,Ct,["ng-version",vS.full]);else{const{attrs:Wr,classes:ss}=function Nx(l){const c=[],f=[];let v=1,x=2;for(;v<l.length;){let T=l[v];if("string"==typeof T)2===x?""!==T&&c.push(T,l[++v]):8===x&&f.push(T);else{if(!td(x))break;x=T}v++}return{attrs:c,classes:f}}(this.componentDef.selectors[0]);Wr&&ts(ge,Ct,Wr),ss&&ss.length>0&&$g(ge,Ct,ss.join(" "))}if(wi=js(Yn,20),void 0!==f){const Wr=wi.projection=[];for(let ss=0;ss<this.ngContentSelectors.length;ss++){const ho=f[ss];Wr.push(null!=ho?Array.from(ho):null)}}ci=function iw(l,c,f,v,x){const T=f[1],U=function Vx(l,c,f){const v=xn();l.firstCreatePass&&(f.providersResolver&&f.providersResolver(f),tm(l,v,c,zp(l,c,1,null),f));const x=hs(c,l,v.directiveStart,v);Gi(x,c);const T=Fr(v,c);return T&&Gi(T,c),x}(T,f,c);if(v.components.push(U),l[8]=U,x&&x.forEach(ge=>ge(U,c)),c.contentQueries){const ge=xn();c.contentQueries(1,U,ge.directiveStart)}const te=xn();return!T.firstCreatePass||null===c.hostBindings&&null===c.hostAttrs||($l(te.index),Hx(f[1],te,0,te.directiveStart,te.directiveEnd,c),Q0(c,U)),U}(Hi,this.componentDef,Ir,kn,[Tf]),X0(Yn,Ir,null)}finally{ml()}return new dk(this.componentType,ci,C1(wi,Ir),Ir,wi)}}class dk extends class QD{}{constructor(c,f,v,x,T){super(),this.location=v,this._rootLView=x,this._tNode=T,this.instance=f,this.hostView=this.changeDetectorRef=new ak(x),this.componentType=c}get injector(){return new fo(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(c){this.hostView.onDestroy(c)}}class S1{}class _S{}const vg=new Map;class wS extends S1{constructor(c,f){super(),this._parent=f,this._bootstrapComponents=[],this.injector=this,this.destroyCbs=[],this.componentFactoryResolver=new yS(this);const v=Wi(c);this._bootstrapComponents=Ul(v.bootstrap),this._r3Injector=Hv(c,f,[{provide:S1,useValue:this},{provide:Yw,useValue:this.componentFactoryResolver}],Qe(c)),this._r3Injector._resolveInjectorDefTypes(),this.instance=this.get(c)}get(c,f=Od.THROW_IF_NOT_FOUND,v=Ft.Default){return c===Od||c===S1||c===am?this:this._r3Injector.get(c,f,v)}destroy(){const c=this._r3Injector;!c.destroyed&&c.destroy(),this.destroyCbs.forEach(f=>f()),this.destroyCbs=null}onDestroy(c){this.destroyCbs.push(c)}}class wE extends _S{constructor(c){super(),this.moduleType=c,null!==Wi(c)&&function pk(l){const c=new Set;!function f(v){const x=Wi(v,!0),T=x.id;null!==T&&(function xS(l,c,f){if(c&&c!==f)throw new Error(`Duplicate module registered for ${l} - ${Qe(c)} vs ${Qe(c.name)}`)}(T,vg.get(T),v),vg.set(T,v));const U=Ul(x.imports);for(const te of U)c.has(te)||(c.add(te),f(te))}(l)}(c)}create(c){return new wS(this.moduleType,c)}}function bE(l,c,f){const v=qs()+l,x=K();return x[v]===is?Mu(x,v,f?c.call(f):c()):function Rd(l,c){return l[c]}(x,v)}function bS(l,c,f,v){return CS(K(),qs(),l,c,f,v)}function j_(l,c){const f=l[c];return f===is?void 0:f}function CS(l,c,f,v,x,T){const U=c+f;return Ql(l,U,x)?Mu(l,U+1,T?v.call(T,x):v(x)):j_(l,U+1)}function kS(l,c){const f=gt();let v;const x=l+20;f.firstCreatePass?(v=function Ek(l,c){if(c)for(let f=c.length-1;f>=0;f--){const v=c[f];if(l===v.name)return v}}(c,f.pipeRegistry),f.data[x]=v,v.onDestroy&&(f.destroyHooks||(f.destroyHooks=[])).push(x,v.onDestroy)):v=f.data[x];const T=v.factory||(v.factory=la(v.type)),U=Nn(bm);try{const te=yd(!1),ge=T();return yd(te),function ug(l,c,f,v){f>=l.data.length&&(l.data[f]=null,l.blueprint[f]=null),c[f]=v}(f,K(),x,ge),ge}finally{Nn(U)}}function PS(l,c,f){const v=l+20,x=K(),T=Ms(x,v);return V_(x,v)?CS(x,qs(),c,T.transform,f,T):T.transform(f)}function NS(l,c,f,v){const x=l+20,T=K(),U=Ms(T,x);return V_(T,x)?function SS(l,c,f,v,x,T,U){const te=c+f;return od(l,te,x,T)?Mu(l,te+2,U?v.call(U,x,T):v(x,T)):j_(l,te+2)}(T,qs(),c,U.transform,f,v,U):U.transform(f,v)}function V_(l,c){return l[1].data[c].pure}function EE(l){return c=>{setTimeout(l,void 0,c)}}const gp=class Ak extends C.x{constructor(c=!1){super(),this.__isAsync=c}emit(c){super.next(c)}subscribe(c,f,v){var x,T,U;let te=c,ge=f||(()=>null),rt=v;if(c&&"object"==typeof c){const en=c;te=null===(x=en.next)||void 0===x?void 0:x.bind(en),ge=null===(T=en.error)||void 0===T?void 0:T.bind(en),rt=null===(U=en.complete)||void 0===U?void 0:U.bind(en)}this.__isAsync&&(ge=EE(ge),te&&(te=EE(te)),rt&&(rt=EE(rt)));const Ct=super.subscribe({next:te,error:ge,complete:rt});return c instanceof h.w0&&c.add(Ct),Ct}};function Ik(){return this._results[Fd()]()}class TE{constructor(c=!1){this._emitDistinctChangesOnly=c,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const f=Fd(),v=TE.prototype;v[f]||(v[f]=Ik)}get changes(){return this._changes||(this._changes=new gp)}get(c){return this._results[c]}map(c){return this._results.map(c)}filter(c){return this._results.filter(c)}find(c){return this._results.find(c)}reduce(c,f){return this._results.reduce(c,f)}forEach(c){this._results.forEach(c)}some(c){return this._results.some(c)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(c,f){const v=this;v.dirty=!1;const x=co(c);(this._changesDetected=!function jf(l,c,f){if(l.length!==c.length)return!1;for(let v=0;v<l.length;v++){let x=l[v],T=c[v];if(f&&(x=f(x),T=f(T)),T!==x)return!1}return!0}(v._results,x,f))&&(v._results=x,v.length=x.length,v.last=x[this.length-1],v.first=x[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}Symbol;let H_=(()=>{class l{}return l.__NG_ELEMENT_ID__=vM,l})();const Dk=H_,kk=class extends Dk{constructor(c,f,v){super(),this._declarationLView=c,this._declarationTContainer=f,this.elementRef=v}createEmbeddedView(c){const f=this._declarationTContainer.tViews,v=Md(this._declarationLView,f,c,16,null,f.declTNode,null,null,null,null);v[17]=this._declarationLView[this._declarationTContainer.index];const T=this._declarationLView[19];return null!==T&&(v[19]=T.createEmbeddedView(f)),X0(f,v,c),new B_(v)}};function vM(){return Xw(xn(),K())}function Xw(l,c){return 4&l.type?new kk(c,l,C1(l,c)):null}let Jw=(()=>{class l{}return l.__NG_ELEMENT_ID__=Pk,l})();function Pk(){return MS(xn(),K())}const Nk=Jw,CE=class extends Nk{constructor(c,f,v){super(),this._lContainer=c,this._hostTNode=f,this._hostLView=v}get element(){return C1(this._hostTNode,this._hostLView)}get injector(){return new fo(this._hostTNode,this._hostLView)}get parentInjector(){const c=ie(this._hostTNode,this._hostLView);if(wr(c)){const f=Eu(c,this._hostLView),v=Nr(c);return new fo(f[1].data[v+8],f)}return new fo(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(c){const f=SE(this._lContainer);return null!==f&&f[c]||null}get length(){return this._lContainer.length-10}createEmbeddedView(c,f,v){const x=c.createEmbeddedView(f||{});return this.insert(x,v),x}createComponent(c,f,v,x,T){const U=c&&!function jc(l){return"function"==typeof l}(c);let te;if(U)te=f;else{const en=f||{};te=en.index,v=en.injector,x=en.projectableNodes,T=en.ngModuleRef}const ge=U?c:new _E(ai(c)),rt=v||this.parentInjector;if(!T&&null==ge.ngModule){const kn=(U?rt:this.parentInjector).get(S1,null);kn&&(T=kn)}const Ct=ge.create(rt,x,void 0,T);return this.insert(Ct.hostView,te),Ct}insert(c,f){const v=c._lView,x=v[1];if(function Xn(l){return as(l[3])}(v)){const Ct=this.indexOf(c);if(-1!==Ct)this.detach(Ct);else{const en=v[3],kn=new CE(en,en[6],en[3]);kn.detach(kn.indexOf(c))}}const T=this._adjustIndex(f),U=this._lContainer;!function Ey(l,c,f,v){const x=10+v,T=f.length;v>0&&(f[x-1][4]=c),v<T-10?(c[4]=f[x],_a(f,10+v,c)):(f.push(c),c[4]=null),c[3]=f;const U=c[17];null!==U&&f!==U&&function Ty(l,c){const f=l[9];c[16]!==c[3][3][16]&&(l[2]=!0),null===f?l[9]=[c]:f.push(c)}(U,c);const te=c[19];null!==te&&te.insertView(l),c[2]|=128}(x,v,U,T);const te=_v(T,U),ge=v[11],rt=Ss(ge,U[7]);return null!==rt&&function Nc(l,c,f,v,x,T){v[0]=x,v[6]=c,z0(l,v,f,1,x,T)}(x,U[6],ge,v,rt,te),c.attachToViewContainerRef(),_a(ud(U),T,c),c}move(c,f){return this.insert(c,f)}indexOf(c){const f=SE(this._lContainer);return null!==f?f.indexOf(c):-1}remove(c){const f=this._adjustIndex(c,-1),v=Cy(this._lContainer,f);v&&(Su(ud(this._lContainer),f),Sy(v[1],v))}detach(c){const f=this._adjustIndex(c,-1),v=Cy(this._lContainer,f);return v&&null!=Su(ud(this._lContainer),f)?new B_(v):null}_adjustIndex(c,f=0){return null==c?this.length+f:c}};function SE(l){return l[8]}function ud(l){return l[8]||(l[8]=[])}function MS(l,c){let f;const v=c[l.index];if(as(v))f=v;else{let x;if(8&l.type)x=Re(v);else{const T=c[11];x=T.createComment("");const U=Fr(l,c);Th(T,Ss(T,U),x,function V0(l,c){return Ns(l)?l.nextSibling(c):c.nextSibling}(T,U),!1)}c[l.index]=f=Lv(v,c,x,l),im(c,f)}return new CE(f,l,c)}class AE{constructor(c){this.queryList=c,this.matches=null}clone(){return new AE(this.queryList)}setDirty(){this.queryList.setDirty()}}class IE{constructor(c=[]){this.queries=c}createEmbeddedView(c){const f=c.queries;if(null!==f){const v=null!==c.contentQueries?c.contentQueries[0]:f.length,x=[];for(let T=0;T<v;T++){const U=f.getByIndex(T);x.push(this.queries[U.indexInDeclarationView].clone())}return new IE(x)}return null}insertView(c){this.dirtyQueriesWithMatches(c)}detachView(c){this.dirtyQueriesWithMatches(c)}dirtyQueriesWithMatches(c){for(let f=0;f<this.queries.length;f++)null!==jS(c,f).matches&&this.queries[f].setDirty()}}class OS{constructor(c,f,v=null){this.predicate=c,this.flags=f,this.read=v}}class DE{constructor(c=[]){this.queries=c}elementStart(c,f){for(let v=0;v<this.queries.length;v++)this.queries[v].elementStart(c,f)}elementEnd(c){for(let f=0;f<this.queries.length;f++)this.queries[f].elementEnd(c)}embeddedTView(c){let f=null;for(let v=0;v<this.length;v++){const x=null!==f?f.length:0,T=this.getByIndex(v).embeddedTView(c,x);T&&(T.indexInDeclarationView=v,null!==f?f.push(T):f=[T])}return null!==f?new DE(f):null}template(c,f){for(let v=0;v<this.queries.length;v++)this.queries[v].template(c,f)}getByIndex(c){return this.queries[c]}get length(){return this.queries.length}track(c){this.queries.push(c)}}class W_{constructor(c,f=-1){this.metadata=c,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=f}elementStart(c,f){this.isApplyingToNode(f)&&this.matchTNode(c,f)}elementEnd(c){this._declarationNodeIndex===c.index&&(this._appliesToNextNode=!1)}template(c,f){this.elementStart(c,f)}embeddedTView(c,f){return this.isApplyingToNode(c)?(this.crossesNgTemplate=!0,this.addMatch(-c.index,f),new W_(this.metadata)):null}isApplyingToNode(c){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const f=this._declarationNodeIndex;let v=c.parent;for(;null!==v&&8&v.type&&v.index!==f;)v=v.parent;return f===(null!==v?v.index:-1)}return this._appliesToNextNode}matchTNode(c,f){const v=this.metadata.predicate;if(Array.isArray(v))for(let x=0;x<v.length;x++){const T=v[x];this.matchTNodeWithReadOption(c,f,kE(f,T)),this.matchTNodeWithReadOption(c,f,rr(f,c,T,!1,!1))}else v===H_?4&f.type&&this.matchTNodeWithReadOption(c,f,-1):this.matchTNodeWithReadOption(c,f,rr(f,c,v,!1,!1))}matchTNodeWithReadOption(c,f,v){if(null!==v){const x=this.metadata.read;if(null!==x)if(x===U_||x===Jw||x===H_&&4&f.type)this.addMatch(f.index,-2);else{const T=rr(f,c,x,!1,!1);null!==T&&this.addMatch(f.index,T)}else this.addMatch(f.index,v)}}addMatch(c,f){null===this.matches?this.matches=[c,f]:this.matches.push(c,f)}}function kE(l,c){const f=l.localNames;if(null!==f)for(let v=0;v<f.length;v+=2)if(f[v]===c)return f[v+1];return null}function Fk(l,c,f,v){return-1===f?function Ok(l,c){return 11&l.type?C1(l,c):4&l.type?Xw(l,c):null}(c,l):-2===f?function Rk(l,c,f){return f===U_?C1(c,l):f===H_?Xw(c,l):f===Jw?MS(c,l):void 0}(l,c,v):hs(l,l[1],f,c)}function PE(l,c,f,v){const x=c[19].queries[v];if(null===x.matches){const T=l.data,U=f.matches,te=[];for(let ge=0;ge<U.length;ge+=2){const rt=U[ge];te.push(rt<0?null:Fk(c,T[rt],U[ge+1],f.metadata.read))}x.matches=te}return x.matches}function NE(l,c,f,v){const x=l.queries.getByIndex(f),T=x.matches;if(null!==T){const U=PE(l,c,x,f);for(let te=0;te<T.length;te+=2){const ge=T[te];if(ge>0)v.push(U[te/2]);else{const rt=T[te+1],Ct=c[-ge];for(let en=10;en<Ct.length;en++){const kn=Ct[en];kn[17]===kn[3]&&NE(kn[1],kn,rt,v)}if(null!==Ct[9]){const en=Ct[9];for(let kn=0;kn<en.length;kn++){const Yn=en[kn];NE(Yn[1],Yn,rt,v)}}}}}return v}function FS(l){const c=K(),f=gt(),v=Wu();pd(v+1);const x=jS(f,v);if(l.dirty&&Ut(c)===(2==(2&x.metadata.flags))){if(null===x.matches)l.reset([]);else{const T=x.crossesNgTemplate?NE(f,c,v,[]):PE(f,c,x,v);l.reset(T,nk),l.notifyOnChanges()}return!0}return!1}function RS(l,c,f,v){const x=gt();if(x.firstCreatePass){const T=xn();(function BS(l,c,f){null===l.queries&&(l.queries=new DE),l.queries.track(new W_(c,f))})(x,new OS(c,f,v),T.index),function Bk(l,c){const f=l.contentQueries||(l.contentQueries=[]);c!==(f.length?f[f.length-1]:-1)&&f.push(l.queries.length-1,c)}(x,l),2==(2&f)&&(x.staticContentQueries=!0)}!function US(l,c,f){const v=new TE(4==(4&f));Fv(l,c,v,v.destroy),null===c[19]&&(c[19]=new IE),c[19].queries.push(new AE(v))}(x,K(),f)}function LS(){return function Uk(l,c){return l[19].queries[c].queryList}(K(),Wu())}function jS(l,c){return l.queries.getByIndex(c)}const XS=zh("Input",l=>({bindingPropertyName:l})),Nm=zh("Output",l=>({bindingPropertyName:l})),Qk=zh("HostListener",(l,c)=>({eventName:l,args:c}));function Af(...l){}const QS=new qa("Application Initializer");let GE=(()=>{class l{constructor(f){this.appInits=f,this.resolve=Af,this.reject=Af,this.initialized=!1,this.done=!1,this.donePromise=new Promise((v,x)=>{this.resolve=v,this.reject=x})}runInitializers(){if(this.initialized)return;const f=[],v=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let x=0;x<this.appInits.length;x++){const T=this.appInits[x]();if(Em(T))f.push(T);else if(Tm(T)){const U=new Promise((te,ge)=>{T.subscribe({complete:te,error:ge})});f.push(U)}}Promise.all(f).then(()=>{v()}).catch(x=>{this.reject(x)}),0===f.length&&v(),this.initialized=!0}}return l.\u0275fac=function(f){return new(f||l)(wl(QS,8))},l.\u0275prov=ne({token:l,factory:l.\u0275fac,providedIn:"root"}),l})();const D1=new qa("AppId",{providedIn:"root",factory:function Wo(){return`${Oo()}${Oo()}${Oo()}`}});function Oo(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const Wc=new qa("Platform Initializer"),ZE=new qa("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),hd=new qa("appBootstrapListener");let t5=(()=>{class l{log(f){console.log(f)}warn(f){console.warn(f)}}return l.\u0275fac=function(f){return new(f||l)},l.\u0275prov=ne({token:l,factory:l.\u0275fac,providedIn:"platform"}),l})();const yg=new qa("LocaleId",{providedIn:"root",factory:()=>Ma(yg,Ft.Optional|Ft.SkipSelf)||function zd(){return"undefined"!=typeof $localize&&$localize.locale||Vw}()}),n5=new qa("DefaultCurrencyCode",{providedIn:"root",factory:()=>"USD"});class r5{constructor(c,f){this.ngModuleFactory=c,this.componentFactories=f}}let Fu=(()=>{class l{compileModuleSync(f){return new wE(f)}compileModuleAsync(f){return Promise.resolve(this.compileModuleSync(f))}compileModuleAndAllComponentsSync(f){const v=this.compileModuleSync(f),T=Ul(Wi(f).declarations).reduce((U,te)=>{const ge=ai(te);return ge&&U.push(new _E(ge)),U},[]);return new r5(v,T)}compileModuleAndAllComponentsAsync(f){return Promise.resolve(this.compileModuleAndAllComponentsSync(f))}clearCache(){}clearCacheFor(f){}getModuleId(f){}}return l.\u0275fac=function(f){return new(f||l)},l.\u0275prov=ne({token:l,factory:l.\u0275fac,providedIn:"root"}),l})();const s5=(()=>Promise.resolve(0))();function $E(l){"undefined"==typeof Zone?s5.then(()=>{l&&l.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",l)}class If{constructor({enableLongStackTrace:c=!1,shouldCoalesceEventChangeDetection:f=!1,shouldCoalesceRunChangeDetection:v=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new gp(!1),this.onMicrotaskEmpty=new gp(!1),this.onStable=new gp(!1),this.onError=new gp(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched();const x=this;x._nesting=0,x._outer=x._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(x._inner=x._inner.fork(new Zone.TaskTrackingZoneSpec)),c&&Zone.longStackTraceZoneSpec&&(x._inner=x._inner.fork(Zone.longStackTraceZoneSpec)),x.shouldCoalesceEventChangeDetection=!v&&f,x.shouldCoalesceRunChangeDetection=v,x.lastRequestAnimationFrameId=-1,x.nativeRequestAnimationFrame=function o5(){let l=mr.requestAnimationFrame,c=mr.cancelAnimationFrame;if("undefined"!=typeof Zone&&l&&c){const f=l[Zone.__symbol__("OriginalDelegate")];f&&(l=f);const v=c[Zone.__symbol__("OriginalDelegate")];v&&(c=v)}return{nativeRequestAnimationFrame:l,nativeCancelAnimationFrame:c}}().nativeRequestAnimationFrame,function l5(l){const c=()=>{!function KE(l){l.isCheckStableRunning||-1!==l.lastRequestAnimationFrameId||(l.lastRequestAnimationFrameId=l.nativeRequestAnimationFrame.call(mr,()=>{l.fakeTopEventTask||(l.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{l.lastRequestAnimationFrameId=-1,XE(l),l.isCheckStableRunning=!0,YE(l),l.isCheckStableRunning=!1},void 0,()=>{},()=>{})),l.fakeTopEventTask.invoke()}),XE(l))}(l)};l._inner=l._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(f,v,x,T,U,te)=>{try{return JE(l),f.invokeTask(x,T,U,te)}finally{(l.shouldCoalesceEventChangeDetection&&"eventTask"===T.type||l.shouldCoalesceRunChangeDetection)&&c(),s2(l)}},onInvoke:(f,v,x,T,U,te,ge)=>{try{return JE(l),f.invoke(x,T,U,te,ge)}finally{l.shouldCoalesceRunChangeDetection&&c(),s2(l)}},onHasTask:(f,v,x,T)=>{f.hasTask(x,T),v===x&&("microTask"==T.change?(l._hasPendingMicrotasks=T.microTask,XE(l),YE(l)):"macroTask"==T.change&&(l.hasPendingMacrotasks=T.macroTask))},onHandleError:(f,v,x,T)=>(f.handleError(x,T),l.runOutsideAngular(()=>l.onError.emit(T)),!1)})}(x)}static isInAngularZone(){return"undefined"!=typeof Zone&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!If.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}static assertNotInAngularZone(){if(If.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}run(c,f,v){return this._inner.run(c,f,v)}runTask(c,f,v,x){const T=this._inner,U=T.scheduleEventTask("NgZoneEvent: "+x,c,a5,Af,Af);try{return T.runTask(U,f,v)}finally{T.cancelTask(U)}}runGuarded(c,f,v){return this._inner.runGuarded(c,f,v)}runOutsideAngular(c){return this._outer.run(c)}}const a5={};function YE(l){if(0==l._nesting&&!l.hasPendingMicrotasks&&!l.isStable)try{l._nesting++,l.onMicrotaskEmpty.emit(null)}finally{if(l._nesting--,!l.hasPendingMicrotasks)try{l.runOutsideAngular(()=>l.onStable.emit(null))}finally{l.isStable=!0}}}function XE(l){l.hasPendingMicrotasks=!!(l._hasPendingMicrotasks||(l.shouldCoalesceEventChangeDetection||l.shouldCoalesceRunChangeDetection)&&-1!==l.lastRequestAnimationFrameId)}function JE(l){l._nesting++,l.isStable&&(l.isStable=!1,l.onUnstable.emit(null))}function s2(l){l._nesting--,YE(l)}class QE{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new gp,this.onMicrotaskEmpty=new gp,this.onStable=new gp,this.onError=new gp}run(c,f,v){return c.apply(f,v)}runGuarded(c,f,v){return c.apply(f,v)}runOutsideAngular(c){return c()}runTask(c,f,v,x){return c.apply(f,v)}}let nA=(()=>{class l{constructor(f){this._ngZone=f,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),f.run(()=>{this.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{If.assertNotInAngularZone(),$E(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())$E(()=>{for(;0!==this._callbacks.length;){let f=this._callbacks.pop();clearTimeout(f.timeoutId),f.doneCb(this._didWork)}this._didWork=!1});else{let f=this.getPendingTasks();this._callbacks=this._callbacks.filter(v=>!v.updateCb||!v.updateCb(f)||(clearTimeout(v.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(f=>({source:f.source,creationLocation:f.creationLocation,data:f.data})):[]}addCallback(f,v,x){let T=-1;v&&v>0&&(T=setTimeout(()=>{this._callbacks=this._callbacks.filter(U=>U.timeoutId!==T),f(this._didWork,this.getPendingTasks())},v)),this._callbacks.push({doneCb:f,timeoutId:T,updateCb:x})}whenStable(f,v,x){if(x&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(f,v,x),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}findProviders(f,v,x){return[]}}return l.\u0275fac=function(f){return new(f||l)(wl(If))},l.\u0275prov=ne({token:l,factory:l.\u0275fac}),l})(),c5=(()=>{class l{constructor(){this._applications=new Map,eT.addToWindow(this)}registerApplication(f,v){this._applications.set(f,v)}unregisterApplication(f){this._applications.delete(f)}unregisterAllApplications(){this._applications.clear()}getTestability(f){return this._applications.get(f)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(f,v=!0){return eT.findTestabilityInTree(this,f,v)}}return l.\u0275fac=function(f){return new(f||l)},l.\u0275prov=ne({token:l,factory:l.\u0275fac,providedIn:"platform"}),l})();class u5{addToWindow(c){}findTestabilityInTree(c,f,v){return null}}function Wd(l){eT=l}let eT=new u5,Mm=null;const rA=new qa("AllowMultipleToken"),iA=new qa("PlatformOnDestroy");class d5{constructor(c,f){this.name=c,this.token=f}}function lA(l,c,f=[]){const v=`Platform: ${c}`,x=new qa(v);return(T=[])=>{let U=Z_();if(!U||U.injector.get(rA,!1)){const te=[...f,...T,{provide:x,useValue:!0}];l?l(te):function aA(l){if(Mm&&!Mm.get(rA,!1))throw new we(400,"");Mm=l;const c=l.get(g5),f=l.get(Wc,null);f&&f.forEach(v=>v())}(function p5(l=[],c){return Od.create({name:c,providers:[{provide:lp,useValue:"platform"},{provide:iA,useValue:()=>Mm=null},...l]})}(te,v))}return function f5(l){const c=Z_();if(!c)throw new we(401,"");return c}()}}function Z_(){var l;return null!==(l=null==Mm?void 0:Mm.get(g5))&&void 0!==l?l:null}let g5=(()=>{class l{constructor(f){this._injector=f,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(f,v){const te=function uA(l,c){let f;return f="noop"===l?new QE:("zone.js"===l?void 0:l)||new If({enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!!(null==c?void 0:c.ngZoneEventCoalescing),shouldCoalesceRunChangeDetection:!!(null==c?void 0:c.ngZoneRunCoalescing)}),f}(v?v.ngZone:void 0,{ngZoneEventCoalescing:v&&v.ngZoneEventCoalescing||!1,ngZoneRunCoalescing:v&&v.ngZoneRunCoalescing||!1}),ge=[{provide:If,useValue:te}];return te.run(()=>{const rt=Od.create({providers:ge,parent:this.injector,name:f.moduleType.name}),Ct=f.create(rt),en=Ct.injector.get(Jf,null);if(!en)throw new we(402,"");return te.runOutsideAngular(()=>{const kn=te.onError.subscribe({next:Yn=>{en.handleError(Yn)}});Ct.onDestroy(()=>{tT(this._modules,Ct),kn.unsubscribe()})}),function m5(l,c,f){try{const v=f();return Em(v)?v.catch(x=>{throw c.runOutsideAngular(()=>l.handleError(x)),x}):v}catch(v){throw c.runOutsideAngular(()=>l.handleError(v)),v}}(en,te,()=>{const kn=Ct.injector.get(GE);return kn.runInitializers(),kn.donePromise.then(()=>(function HC(l){dt(l,"Expected localeId to be defined"),"string"==typeof l&&(VC=l.toLowerCase().replace(/_/g,"-"))}(Ct.injector.get(yg,Vw)||Vw),this._moduleDoBootstrap(Ct),Ct))})})}bootstrapModule(f,v=[]){const x=hA({},v);return function sA(l,c,f){const v=new wE(f);return Promise.resolve(v)}(0,0,f).then(T=>this.bootstrapModuleFactory(T,x))}_moduleDoBootstrap(f){const v=f.injector.get(o2);if(f._bootstrapComponents.length>0)f._bootstrapComponents.forEach(x=>v.bootstrap(x));else{if(!f.instance.ngDoBootstrap)throw new we(403,"");f.instance.ngDoBootstrap(v)}this._modules.push(f)}onDestroy(f){this._destroyListeners.push(f)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new we(404,"");this._modules.slice().forEach(v=>v.destroy()),this._destroyListeners.forEach(v=>v());const f=this._injector.get(iA,null);null==f||f(),this._destroyed=!0}get destroyed(){return this._destroyed}}return l.\u0275fac=function(f){return new(f||l)(wl(Od))},l.\u0275prov=ne({token:l,factory:l.\u0275fac,providedIn:"platform"}),l})();function hA(l,c){return Array.isArray(c)?c.reduce(hA,l):Object.assign(Object.assign({},l),c)}let o2=(()=>{class l{constructor(f,v,x,T){this._zone=f,this._injector=v,this._exceptionHandler=x,this._initStatus=T,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const U=new it.y(ge=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{ge.next(this._stable),ge.complete()})}),te=new it.y(ge=>{let rt;this._zone.runOutsideAngular(()=>{rt=this._zone.onStable.subscribe(()=>{If.assertNotInAngularZone(),$E(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,ge.next(!0))})})});const Ct=this._zone.onUnstable.subscribe(()=>{If.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{ge.next(!1)}))});return()=>{rt.unsubscribe(),Ct.unsubscribe()}});this.isStable=(0,ve.T)(U,te.pipe((0,Ne.B)()))}bootstrap(f,v){if(!this._initStatus.done)throw new we(405,"");let x;x=f instanceof dS?f:this._injector.get(Yw).resolveComponentFactory(f),this.componentTypes.push(x.componentType);const T=function h5(l){return l.isBoundToModule}(x)?void 0:this._injector.get(S1),te=x.create(Od.NULL,[],v||x.selector,T),ge=te.location.nativeElement,rt=te.injector.get(nA,null),Ct=rt&&te.injector.get(c5);return rt&&Ct&&Ct.registerApplication(ge,rt),te.onDestroy(()=>{this.detachView(te.hostView),tT(this.components,te),Ct&&Ct.unregisterApplication(ge)}),this._loadComponent(te),te}tick(){if(this._runningTick)throw new we(101,"");try{this._runningTick=!0;for(let f of this._views)f.detectChanges()}catch(f){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(f))}finally{this._runningTick=!1}}attachView(f){const v=f;this._views.push(v),v.attachToAppRef(this)}detachView(f){const v=f;tT(this._views,v),v.detachFromAppRef()}_loadComponent(f){this.attachView(f.hostView),this.tick(),this.components.push(f),this._injector.get(hd,[]).concat(this._bootstrapListeners).forEach(x=>x(f))}ngOnDestroy(){this._views.slice().forEach(f=>f.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}get viewCount(){return this._views.length}}return l.\u0275fac=function(f){return new(f||l)(wl(If),wl(Od),wl(Jf),wl(GE))},l.\u0275prov=ne({token:l,factory:l.\u0275fac,providedIn:"root"}),l})();function tT(l,c){const f=l.indexOf(c);f>-1&&l.splice(f,1)}let $_=!0,nT=!1;function rT(){return nT=!0,$_}function iT(){if(nT)throw new Error("Cannot enable prod mode after platform setup.");$_=!1}let dA=(()=>{class l{}return l.__NG_ELEMENT_ID__=a2,l})();function a2(l){return function fA(l,c,f){if(ji(l)&&!f){const v=Lt(l.index,c);return new B_(v,v)}return 47&l.type?new B_(c[16],c):null}(xn(),K(),16==(16&l))}class C5{constructor(){}supports(c){return ag(c)}create(c){return new S5(c)}}const kM=(l,c)=>c;class S5{constructor(c){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=c||kM}forEachItem(c){let f;for(f=this._itHead;null!==f;f=f._next)c(f)}forEachOperation(c){let f=this._itHead,v=this._removalsHead,x=0,T=null;for(;f||v;){const U=!v||f&&f.currentIndex<vA(v,x,T)?f:v,te=vA(U,x,T),ge=U.currentIndex;if(U===v)x--,v=v._nextRemoved;else if(f=f._next,null==U.previousIndex)x++;else{T||(T=[]);const rt=te-x,Ct=ge-x;if(rt!=Ct){for(let kn=0;kn<rt;kn++){const Yn=kn<T.length?T[kn]:T[kn]=0,Ir=Yn+kn;Ct<=Ir&&Ir<rt&&(T[kn]=Yn+1)}T[U.previousIndex]=Ct-rt}}te!==ge&&c(U,te,ge)}}forEachPreviousItem(c){let f;for(f=this._previousItHead;null!==f;f=f._nextPrevious)c(f)}forEachAddedItem(c){let f;for(f=this._additionsHead;null!==f;f=f._nextAdded)c(f)}forEachMovedItem(c){let f;for(f=this._movesHead;null!==f;f=f._nextMoved)c(f)}forEachRemovedItem(c){let f;for(f=this._removalsHead;null!==f;f=f._nextRemoved)c(f)}forEachIdentityChange(c){let f;for(f=this._identityChangesHead;null!==f;f=f._nextIdentityChange)c(f)}diff(c){if(null==c&&(c=[]),!ag(c))throw new we(900,"");return this.check(c)?this:null}onDestroy(){}check(c){this._reset();let x,T,U,f=this._itHead,v=!1;if(Array.isArray(c)){this.length=c.length;for(let te=0;te<this.length;te++)T=c[te],U=this._trackByFn(te,T),null!==f&&Object.is(f.trackById,U)?(v&&(f=this._verifyReinsertion(f,T,U,te)),Object.is(f.item,T)||this._addIdentityChange(f,T)):(f=this._mismatch(f,T,U,te),v=!0),f=f._next}else x=0,function nu(l,c){if(Array.isArray(l))for(let f=0;f<l.length;f++)c(l[f]);else{const f=l[Fd()]();let v;for(;!(v=f.next()).done;)c(v.value)}}(c,te=>{U=this._trackByFn(x,te),null!==f&&Object.is(f.trackById,U)?(v&&(f=this._verifyReinsertion(f,te,U,x)),Object.is(f.item,te)||this._addIdentityChange(f,te)):(f=this._mismatch(f,te,U,x),v=!0),f=f._next,x++}),this.length=x;return this._truncate(f),this.collection=c,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let c;for(c=this._previousItHead=this._itHead;null!==c;c=c._next)c._nextPrevious=c._next;for(c=this._additionsHead;null!==c;c=c._nextAdded)c.previousIndex=c.currentIndex;for(this._additionsHead=this._additionsTail=null,c=this._movesHead;null!==c;c=c._nextMoved)c.previousIndex=c.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(c,f,v,x){let T;return null===c?T=this._itTail:(T=c._prev,this._remove(c)),null!==(c=null===this._unlinkedRecords?null:this._unlinkedRecords.get(v,null))?(Object.is(c.item,f)||this._addIdentityChange(c,f),this._reinsertAfter(c,T,x)):null!==(c=null===this._linkedRecords?null:this._linkedRecords.get(v,x))?(Object.is(c.item,f)||this._addIdentityChange(c,f),this._moveAfter(c,T,x)):c=this._addAfter(new A5(f,v),T,x),c}_verifyReinsertion(c,f,v,x){let T=null===this._unlinkedRecords?null:this._unlinkedRecords.get(v,null);return null!==T?c=this._reinsertAfter(T,c._prev,x):c.currentIndex!=x&&(c.currentIndex=x,this._addToMoves(c,x)),c}_truncate(c){for(;null!==c;){const f=c._next;this._addToRemovals(this._unlink(c)),c=f}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(c,f,v){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(c);const x=c._prevRemoved,T=c._nextRemoved;return null===x?this._removalsHead=T:x._nextRemoved=T,null===T?this._removalsTail=x:T._prevRemoved=x,this._insertAfter(c,f,v),this._addToMoves(c,v),c}_moveAfter(c,f,v){return this._unlink(c),this._insertAfter(c,f,v),this._addToMoves(c,v),c}_addAfter(c,f,v){return this._insertAfter(c,f,v),this._additionsTail=null===this._additionsTail?this._additionsHead=c:this._additionsTail._nextAdded=c,c}_insertAfter(c,f,v){const x=null===f?this._itHead:f._next;return c._next=x,c._prev=f,null===x?this._itTail=c:x._prev=c,null===f?this._itHead=c:f._next=c,null===this._linkedRecords&&(this._linkedRecords=new mA),this._linkedRecords.put(c),c.currentIndex=v,c}_remove(c){return this._addToRemovals(this._unlink(c))}_unlink(c){null!==this._linkedRecords&&this._linkedRecords.remove(c);const f=c._prev,v=c._next;return null===f?this._itHead=v:f._next=v,null===v?this._itTail=f:v._prev=f,c}_addToMoves(c,f){return c.previousIndex===f||(this._movesTail=null===this._movesTail?this._movesHead=c:this._movesTail._nextMoved=c),c}_addToRemovals(c){return null===this._unlinkedRecords&&(this._unlinkedRecords=new mA),this._unlinkedRecords.put(c),c.currentIndex=null,c._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=c,c._prevRemoved=null):(c._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=c),c}_addIdentityChange(c,f){return c.item=f,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=c:this._identityChangesTail._nextIdentityChange=c,c}}class A5{constructor(c,f){this.item=c,this.trackById=f,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class I5{constructor(){this._head=null,this._tail=null}add(c){null===this._head?(this._head=this._tail=c,c._nextDup=null,c._prevDup=null):(this._tail._nextDup=c,c._prevDup=this._tail,c._nextDup=null,this._tail=c)}get(c,f){let v;for(v=this._head;null!==v;v=v._nextDup)if((null===f||f<=v.currentIndex)&&Object.is(v.trackById,c))return v;return null}remove(c){const f=c._prevDup,v=c._nextDup;return null===f?this._head=v:f._nextDup=v,null===v?this._tail=f:v._prevDup=f,null===this._head}}class mA{constructor(){this.map=new Map}put(c){const f=c.trackById;let v=this.map.get(f);v||(v=new I5,this.map.set(f,v)),v.add(c)}get(c,f){const x=this.map.get(c);return x?x.get(c,f):null}remove(c){const f=c.trackById;return this.map.get(f).remove(c)&&this.map.delete(f),c}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function vA(l,c,f){const v=l.previousIndex;if(null===v)return v;let x=0;return f&&v<f.length&&(x=f[v]),v+c+x}class yA{constructor(){}supports(c){return c instanceof Map||Cf(c)}create(){return new D5}}class D5{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(c){let f;for(f=this._mapHead;null!==f;f=f._next)c(f)}forEachPreviousItem(c){let f;for(f=this._previousMapHead;null!==f;f=f._nextPrevious)c(f)}forEachChangedItem(c){let f;for(f=this._changesHead;null!==f;f=f._nextChanged)c(f)}forEachAddedItem(c){let f;for(f=this._additionsHead;null!==f;f=f._nextAdded)c(f)}forEachRemovedItem(c){let f;for(f=this._removalsHead;null!==f;f=f._nextRemoved)c(f)}diff(c){if(c){if(!(c instanceof Map||Cf(c)))throw new we(900,"")}else c=new Map;return this.check(c)?this:null}onDestroy(){}check(c){this._reset();let f=this._mapHead;if(this._appendAfter=null,this._forEach(c,(v,x)=>{if(f&&f.key===x)this._maybeAddToChanges(f,v),this._appendAfter=f,f=f._next;else{const T=this._getOrCreateRecordForKey(x,v);f=this._insertBeforeOrAppend(f,T)}}),f){f._prev&&(f._prev._next=null),this._removalsHead=f;for(let v=f;null!==v;v=v._nextRemoved)v===this._mapHead&&(this._mapHead=null),this._records.delete(v.key),v._nextRemoved=v._next,v.previousValue=v.currentValue,v.currentValue=null,v._prev=null,v._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(c,f){if(c){const v=c._prev;return f._next=c,f._prev=v,c._prev=f,v&&(v._next=f),c===this._mapHead&&(this._mapHead=f),this._appendAfter=c,c}return this._appendAfter?(this._appendAfter._next=f,f._prev=this._appendAfter):this._mapHead=f,this._appendAfter=f,null}_getOrCreateRecordForKey(c,f){if(this._records.has(c)){const x=this._records.get(c);this._maybeAddToChanges(x,f);const T=x._prev,U=x._next;return T&&(T._next=U),U&&(U._prev=T),x._next=null,x._prev=null,x}const v=new k5(c);return this._records.set(c,v),v.currentValue=f,this._addToAdditions(v),v}_reset(){if(this.isDirty){let c;for(this._previousMapHead=this._mapHead,c=this._previousMapHead;null!==c;c=c._next)c._nextPrevious=c._next;for(c=this._changesHead;null!==c;c=c._nextChanged)c.previousValue=c.currentValue;for(c=this._additionsHead;null!=c;c=c._nextAdded)c.previousValue=c.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(c,f){Object.is(f,c.currentValue)||(c.previousValue=c.currentValue,c.currentValue=f,this._addToChanges(c))}_addToAdditions(c){null===this._additionsHead?this._additionsHead=this._additionsTail=c:(this._additionsTail._nextAdded=c,this._additionsTail=c)}_addToChanges(c){null===this._changesHead?this._changesHead=this._changesTail=c:(this._changesTail._nextChanged=c,this._changesTail=c)}_forEach(c,f){c instanceof Map?c.forEach(f):Object.keys(c).forEach(v=>f(c[v],v))}}class k5{constructor(c){this.key=c,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function _A(){return new u2([new C5])}let u2=(()=>{class l{constructor(f){this.factories=f}static create(f,v){if(null!=v){const x=v.factories.slice();f=f.concat(x)}return new l(f)}static extend(f){return{provide:l,useFactory:v=>l.create(f,v||_A()),deps:[[l,new Eh,new rs]]}}find(f){const v=this.factories.find(x=>x.supports(f));if(null!=v)return v;throw new we(901,"")}}return l.\u0275prov=ne({token:l,providedIn:"root",factory:_A}),l})();function lT(){return new cT([new yA])}let cT=(()=>{class l{constructor(f){this.factories=f}static create(f,v){if(v){const x=v.factories.slice();f=f.concat(x)}return new l(f)}static extend(f){return{provide:l,useFactory:v=>l.create(f,v||lT()),deps:[[l,new Eh,new rs]]}}find(f){const v=this.factories.find(T=>T.supports(f));if(v)return v;throw new we(901,"")}}return l.\u0275prov=ne({token:l,providedIn:"root",factory:lT}),l})();const P1=lA(null,"core",[]);let K_=(()=>{class l{constructor(f){}}return l.\u0275fac=function(f){return new(f||l)(wl(o2))},l.\u0275mod=On({type:l}),l.\u0275inj=$e({}),l})()},2382:(Gr,Ln,me)=>{"use strict";me.d(Ln,{Fj:()=>oe,qu:()=>io,u:()=>ca,sg:()=>Wa,u5:()=>ii,JU:()=>we,JJ:()=>ke,JL:()=>ft,F:()=>ni,On:()=>Ec,YN:()=>Bs,wV:()=>Ks,c5:()=>_n,UX:()=>Vs,EJ:()=>ya,kI:()=>re,_Y:()=>Xc,Kr:()=>xu});var C=me(5e3),h=me(9808),it=me(8306),ve=me(4742),Ne=me(8421),I=me(7669),tt=me(5403),Qe=me(3268),nt=me(1810),qe=me(8996),Fe=me(4004);let He=(()=>{class Ze{constructor(_e,V){this._renderer=_e,this._elementRef=V,this.onChange=K=>{},this.onTouched=()=>{}}setProperty(_e,V){this._renderer.setProperty(this._elementRef.nativeElement,_e,V)}registerOnTouched(_e){this.onTouched=_e}registerOnChange(_e){this.onChange=_e}setDisabledState(_e){this.setProperty("disabled",_e)}}return Ze.\u0275fac=function(_e){return new(_e||Ze)(C.Y36(C.Qsj),C.Y36(C.SBq))},Ze.\u0275dir=C.lG2({type:Ze}),Ze})(),xe=(()=>{class Ze extends He{}return Ze.\u0275fac=function(){let Me;return function(V){return(Me||(Me=C.n5z(Ze)))(V||Ze)}}(),Ze.\u0275dir=C.lG2({type:Ze,features:[C.qOj]}),Ze})();const we=new C.OlP("NgValueAccessor"),fe={provide:we,useExisting:(0,C.Gpc)(()=>oe),multi:!0},Se=new C.OlP("CompositionEventMode");let oe=(()=>{class Ze extends He{constructor(_e,V,K){super(_e,V),this._compositionMode=K,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function ye(){const Ze=(0,h.q)()?(0,h.q)().getUserAgent():"";return/android (\d+)/.test(Ze.toLowerCase())}())}writeValue(_e){this.setProperty("value",null==_e?"":_e)}_handleInput(_e){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(_e)}_compositionStart(){this._composing=!0}_compositionEnd(_e){this._composing=!1,this._compositionMode&&this.onChange(_e)}}return Ze.\u0275fac=function(_e){return new(_e||Ze)(C.Y36(C.Qsj),C.Y36(C.SBq),C.Y36(Se,8))},Ze.\u0275dir=C.lG2({type:Ze,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(_e,V){1&_e&&C.NdJ("input",function(gt){return V._handleInput(gt.target.value)})("blur",function(){return V.onTouched()})("compositionstart",function(){return V._compositionStart()})("compositionend",function(gt){return V._compositionEnd(gt.target.value)})},features:[C._Bn([fe]),C.qOj]}),Ze})();function se(Ze){return null==Ze||0===Ze.length}function pe(Ze){return null!=Ze&&"number"==typeof Ze.length}const Ce=new C.OlP("NgValidators"),L=new C.OlP("NgAsyncValidators"),Q=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class re{static min(Me){return function P(Ze){return Me=>{if(se(Me.value)||se(Ze))return null;const _e=parseFloat(Me.value);return!isNaN(_e)&&_e<Ze?{min:{min:Ze,actual:Me.value}}:null}}(Me)}static max(Me){return function G(Ze){return Me=>{if(se(Me.value)||se(Ze))return null;const _e=parseFloat(Me.value);return!isNaN(_e)&&_e>Ze?{max:{max:Ze,actual:Me.value}}:null}}(Me)}static required(Me){return function F(Ze){return se(Ze.value)?{required:!0}:null}(Me)}static requiredTrue(Me){return function ae(Ze){return!0===Ze.value?null:{required:!0}}(Me)}static email(Me){return function R(Ze){return se(Ze.value)||Q.test(Ze.value)?null:{email:!0}}(Me)}static minLength(Me){return function z(Ze){return Me=>se(Me.value)||!pe(Me.value)?null:Me.value.length<Ze?{minlength:{requiredLength:Ze,actualLength:Me.value.length}}:null}(Me)}static maxLength(Me){return function De(Ze){return Me=>pe(Me.value)&&Me.value.length>Ze?{maxlength:{requiredLength:Ze,actualLength:Me.value.length}}:null}(Me)}static pattern(Me){return Ke(Me)}static nullValidator(Me){return null}static compose(Me){return $e(Me)}static composeAsync(Me){return at(Me)}}function Ke(Ze){if(!Ze)return dt;let Me,_e;return"string"==typeof Ze?(_e="","^"!==Ze.charAt(0)&&(_e+="^"),_e+=Ze,"$"!==Ze.charAt(Ze.length-1)&&(_e+="$"),Me=new RegExp(_e)):(_e=Ze.toString(),Me=Ze),V=>{if(se(V.value))return null;const K=V.value;return Me.test(K)?null:{pattern:{requiredPattern:_e,actualValue:K}}}}function dt(Ze){return null}function We(Ze){return null!=Ze}function Te(Ze){const Me=(0,C.QGY)(Ze)?(0,qe.D)(Ze):Ze;return(0,C.CqO)(Me),Me}function Je(Ze){let Me={};return Ze.forEach(_e=>{Me=null!=_e?Object.assign(Object.assign({},Me),_e):Me}),0===Object.keys(Me).length?null:Me}function Z(Ze,Me){return Me.map(_e=>_e(Ze))}function Oe(Ze){return Ze.map(Me=>function ne(Ze){return!Ze.validate}(Me)?Me:_e=>Me.validate(_e))}function $e(Ze){if(!Ze)return null;const Me=Ze.filter(We);return 0==Me.length?null:function(_e){return Je(Z(_e,Me))}}function ot(Ze){return null!=Ze?$e(Oe(Ze)):null}function at(Ze){if(!Ze)return null;const Me=Ze.filter(We);return 0==Me.length?null:function(_e){return function ze(...Ze){const Me=(0,I.jO)(Ze),{args:_e,keys:V}=(0,ve.D)(Ze),K=new it.y(gt=>{const{length:Qt}=_e;if(!Qt)return void gt.complete();const xn=new Array(Qt);let er=Qt,Lr=Qt;for(let pi=0;pi<Qt;pi++){let fi=!1;(0,Ne.Xf)(_e[pi]).subscribe((0,tt.x)(gt,es=>{fi||(fi=!0,Lr--),xn[pi]=es},()=>er--,void 0,()=>{(!er||!fi)&&(Lr||gt.next(V?(0,nt.n)(V,xn):xn),gt.complete())}))}});return Me?K.pipe((0,Qe.Z)(Me)):K}(Z(_e,Me).map(Te)).pipe((0,Fe.U)(Je))}}function j(Ze){return null!=Ze?at(Oe(Ze)):null}function be(Ze,Me){return null===Ze?[Me]:Array.isArray(Ze)?[...Ze,Me]:[Ze,Me]}function J(Ze){return Ze._rawValidators}function Ee(Ze){return Ze._rawAsyncValidators}function Ue(Ze){return Ze?Array.isArray(Ze)?Ze:[Ze]:[]}function lt(Ze,Me){return Array.isArray(Ze)?Ze.includes(Me):Ze===Me}function Tt(Ze,Me){const _e=Ue(Me);return Ue(Ze).forEach(K=>{lt(_e,K)||_e.push(K)}),_e}function Ft(Ze,Me){return Ue(Me).filter(_e=>!lt(Ze,_e))}class $t{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(Me){this._rawValidators=Me||[],this._composedValidatorFn=ot(this._rawValidators)}_setAsyncValidators(Me){this._rawAsyncValidators=Me||[],this._composedAsyncValidatorFn=j(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(Me){this._onDestroyCallbacks.push(Me)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(Me=>Me()),this._onDestroyCallbacks=[]}reset(Me){this.control&&this.control.reset(Me)}hasError(Me,_e){return!!this.control&&this.control.hasError(Me,_e)}getError(Me,_e){return this.control?this.control.getError(Me,_e):null}}class vn extends $t{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class Nn extends $t{get formDirective(){return null}get path(){return null}}class $n{constructor(Me){this._cd=Me}is(Me){var _e,V,K;return"submitted"===Me?!!(null===(_e=this._cd)||void 0===_e?void 0:_e.submitted):!!(null===(K=null===(V=this._cd)||void 0===V?void 0:V.control)||void 0===K?void 0:K[Me])}}let ke=(()=>{class Ze extends $n{constructor(_e){super(_e)}}return Ze.\u0275fac=function(_e){return new(_e||Ze)(C.Y36(vn,2))},Ze.\u0275dir=C.lG2({type:Ze,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(_e,V){2&_e&&C.ekj("ng-untouched",V.is("untouched"))("ng-touched",V.is("touched"))("ng-pristine",V.is("pristine"))("ng-dirty",V.is("dirty"))("ng-valid",V.is("valid"))("ng-invalid",V.is("invalid"))("ng-pending",V.is("pending"))},features:[C.qOj]}),Ze})(),ft=(()=>{class Ze extends $n{constructor(_e){super(_e)}}return Ze.\u0275fac=function(_e){return new(_e||Ze)(C.Y36(Nn,10))},Ze.\u0275dir=C.lG2({type:Ze,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(_e,V){2&_e&&C.ekj("ng-untouched",V.is("untouched"))("ng-touched",V.is("touched"))("ng-pristine",V.is("pristine"))("ng-dirty",V.is("dirty"))("ng-valid",V.is("valid"))("ng-invalid",V.is("invalid"))("ng-pending",V.is("pending"))("ng-submitted",V.is("submitted"))},features:[C.qOj]}),Ze})();function Nt(Ze,Me){return[...Me.path,Ze]}function pn(Ze,Me){Zr(Ze,Me),Me.valueAccessor.writeValue(Ze.value),function On(Ze,Me){Me.valueAccessor.registerOnChange(_e=>{Ze._pendingValue=_e,Ze._pendingChange=!0,Ze._pendingDirty=!0,"change"===Ze.updateOn&&Rt(Ze,Me)})}(Ze,Me),function hr(Ze,Me){const _e=(V,K)=>{Me.valueAccessor.writeValue(V),K&&Me.viewToModelUpdate(V)};Ze.registerOnChange(_e),Me._registerOnDestroy(()=>{Ze._unregisterOnChange(_e)})}(Ze,Me),function mn(Ze,Me){Me.valueAccessor.registerOnTouched(()=>{Ze._pendingTouched=!0,"blur"===Ze.updateOn&&Ze._pendingChange&&Rt(Ze,Me),"submit"!==Ze.updateOn&&Ze.markAsTouched()})}(Ze,Me),function Dr(Ze,Me){if(Me.valueAccessor.setDisabledState){const _e=V=>{Me.valueAccessor.setDisabledState(V)};Ze.registerOnDisabledChange(_e),Me._registerOnDestroy(()=>{Ze._unregisterOnDisabledChange(_e)})}}(Ze,Me)}function Mn(Ze,Me,_e=!0){const V=()=>{};Me.valueAccessor&&(Me.valueAccessor.registerOnChange(V),Me.valueAccessor.registerOnTouched(V)),Ar(Ze,Me),Ze&&(Me._invokeOnDestroyCallbacks(),Ze._registerOnCollectionChange(()=>{}))}function xr(Ze,Me){Ze.forEach(_e=>{_e.registerOnValidatorChange&&_e.registerOnValidatorChange(Me)})}function Zr(Ze,Me){const _e=J(Ze);null!==Me.validator?Ze.setValidators(be(_e,Me.validator)):"function"==typeof _e&&Ze.setValidators([_e]);const V=Ee(Ze);null!==Me.asyncValidator?Ze.setAsyncValidators(be(V,Me.asyncValidator)):"function"==typeof V&&Ze.setAsyncValidators([V]);const K=()=>Ze.updateValueAndValidity();xr(Me._rawValidators,K),xr(Me._rawAsyncValidators,K)}function Ar(Ze,Me){let _e=!1;if(null!==Ze){if(null!==Me.validator){const K=J(Ze);if(Array.isArray(K)&&K.length>0){const gt=K.filter(Qt=>Qt!==Me.validator);gt.length!==K.length&&(_e=!0,Ze.setValidators(gt))}}if(null!==Me.asyncValidator){const K=Ee(Ze);if(Array.isArray(K)&&K.length>0){const gt=K.filter(Qt=>Qt!==Me.asyncValidator);gt.length!==K.length&&(_e=!0,Ze.setAsyncValidators(gt))}}}const V=()=>{};return xr(Me._rawValidators,V),xr(Me._rawAsyncValidators,V),_e}function Rt(Ze,Me){Ze._pendingDirty&&Ze.markAsDirty(),Ze.setValue(Ze._pendingValue,{emitModelToViewChange:!1}),Me.viewToModelUpdate(Ze._pendingValue),Ze._pendingChange=!1}function vr(Ze,Me){Zr(Ze,Me)}function Ws(Ze,Me){if(!Ze.hasOwnProperty("model"))return!1;const _e=Ze.model;return!!_e.isFirstChange()||!Object.is(Me,_e.currentValue)}function gs(Ze,Me){Ze._syncPendingControls(),Me.forEach(_e=>{const V=_e.control;"submit"===V.updateOn&&V._pendingChange&&(_e.viewToModelUpdate(V._pendingValue),V._pendingChange=!1)})}function xs(Ze,Me){if(!Me)return null;let _e,V,K;return Array.isArray(Me),Me.forEach(gt=>{gt.constructor===oe?_e=gt:function Ji(Ze){return Object.getPrototypeOf(Ze.constructor)===xe}(gt)?V=gt:K=gt}),K||V||_e||null}function Rs(Ze,Me){const _e=Ze.indexOf(Me);_e>-1&&Ze.splice(_e,1)}const Hr="VALID",wn="INVALID",tr="PENDING",kr="DISABLED";function Ni(Ze){return(Io(Ze)?Ze.validators:Ze)||null}function us(Ze){return Array.isArray(Ze)?ot(Ze):Ze||null}function Li(Ze,Me){return(Io(Me)?Me.asyncValidators:Ze)||null}function Ls(Ze){return Array.isArray(Ze)?j(Ze):Ze||null}function Io(Ze){return null!=Ze&&!Array.isArray(Ze)&&"object"==typeof Ze}const Ri=Ze=>Ze instanceof Sn,To=Ze=>Ze instanceof Tn,Ha=Ze=>Ze instanceof Hn;function za(Ze){return Ri(Ze)?Ze.value:Ze.getRawValue()}function tl(Ze,Me){const _e=To(Ze),V=Ze.controls;if(!(_e?Object.keys(V):V).length)throw new C.vHH(1e3,"");if(!V[Me])throw new C.vHH(1001,"")}function Ys(Ze,Me){To(Ze),Ze._forEachChild((V,K)=>{if(void 0===Me[K])throw new C.vHH(1002,"")})}class Do{constructor(Me,_e){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._rawValidators=Me,this._rawAsyncValidators=_e,this._composedValidatorFn=us(this._rawValidators),this._composedAsyncValidatorFn=Ls(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn}set validator(Me){this._rawValidators=this._composedValidatorFn=Me}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(Me){this._rawAsyncValidators=this._composedAsyncValidatorFn=Me}get parent(){return this._parent}get valid(){return this.status===Hr}get invalid(){return this.status===wn}get pending(){return this.status==tr}get disabled(){return this.status===kr}get enabled(){return this.status!==kr}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(Me){this._rawValidators=Me,this._composedValidatorFn=us(Me)}setAsyncValidators(Me){this._rawAsyncValidators=Me,this._composedAsyncValidatorFn=Ls(Me)}addValidators(Me){this.setValidators(Tt(Me,this._rawValidators))}addAsyncValidators(Me){this.setAsyncValidators(Tt(Me,this._rawAsyncValidators))}removeValidators(Me){this.setValidators(Ft(Me,this._rawValidators))}removeAsyncValidators(Me){this.setAsyncValidators(Ft(Me,this._rawAsyncValidators))}hasValidator(Me){return lt(this._rawValidators,Me)}hasAsyncValidator(Me){return lt(this._rawAsyncValidators,Me)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(Me={}){this.touched=!0,this._parent&&!Me.onlySelf&&this._parent.markAsTouched(Me)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(Me=>Me.markAllAsTouched())}markAsUntouched(Me={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(_e=>{_e.markAsUntouched({onlySelf:!0})}),this._parent&&!Me.onlySelf&&this._parent._updateTouched(Me)}markAsDirty(Me={}){this.pristine=!1,this._parent&&!Me.onlySelf&&this._parent.markAsDirty(Me)}markAsPristine(Me={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(_e=>{_e.markAsPristine({onlySelf:!0})}),this._parent&&!Me.onlySelf&&this._parent._updatePristine(Me)}markAsPending(Me={}){this.status=tr,!1!==Me.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!Me.onlySelf&&this._parent.markAsPending(Me)}disable(Me={}){const _e=this._parentMarkedDirty(Me.onlySelf);this.status=kr,this.errors=null,this._forEachChild(V=>{V.disable(Object.assign(Object.assign({},Me),{onlySelf:!0}))}),this._updateValue(),!1!==Me.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(Object.assign(Object.assign({},Me),{skipPristineCheck:_e})),this._onDisabledChange.forEach(V=>V(!0))}enable(Me={}){const _e=this._parentMarkedDirty(Me.onlySelf);this.status=Hr,this._forEachChild(V=>{V.enable(Object.assign(Object.assign({},Me),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:Me.emitEvent}),this._updateAncestors(Object.assign(Object.assign({},Me),{skipPristineCheck:_e})),this._onDisabledChange.forEach(V=>V(!1))}_updateAncestors(Me){this._parent&&!Me.onlySelf&&(this._parent.updateValueAndValidity(Me),Me.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(Me){this._parent=Me}updateValueAndValidity(Me={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Hr||this.status===tr)&&this._runAsyncValidator(Me.emitEvent)),!1!==Me.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!Me.onlySelf&&this._parent.updateValueAndValidity(Me)}_updateTreeValidity(Me={emitEvent:!0}){this._forEachChild(_e=>_e._updateTreeValidity(Me)),this.updateValueAndValidity({onlySelf:!0,emitEvent:Me.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?kr:Hr}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(Me){if(this.asyncValidator){this.status=tr,this._hasOwnPendingAsyncValidator=!0;const _e=Te(this.asyncValidator(this));this._asyncValidationSubscription=_e.subscribe(V=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(V,{emitEvent:Me})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(Me,_e={}){this.errors=Me,this._updateControlsErrors(!1!==_e.emitEvent)}get(Me){return function Ai(Ze,Me,_e){if(null==Me||(Array.isArray(Me)||(Me=Me.split(_e)),Array.isArray(Me)&&0===Me.length))return null;let V=Ze;return Me.forEach(K=>{V=To(V)?V.controls.hasOwnProperty(K)?V.controls[K]:null:Ha(V)&&V.at(K)||null}),V}(this,Me,".")}getError(Me,_e){const V=_e?this.get(_e):this;return V&&V.errors?V.errors[Me]:null}hasError(Me,_e){return!!this.getError(Me,_e)}get root(){let Me=this;for(;Me._parent;)Me=Me._parent;return Me}_updateControlsErrors(Me){this.status=this._calculateStatus(),Me&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(Me)}_initObservables(){this.valueChanges=new C.vpe,this.statusChanges=new C.vpe}_calculateStatus(){return this._allControlsDisabled()?kr:this.errors?wn:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(tr)?tr:this._anyControlsHaveStatus(wn)?wn:Hr}_anyControlsHaveStatus(Me){return this._anyControls(_e=>_e.status===Me)}_anyControlsDirty(){return this._anyControls(Me=>Me.dirty)}_anyControlsTouched(){return this._anyControls(Me=>Me.touched)}_updatePristine(Me={}){this.pristine=!this._anyControlsDirty(),this._parent&&!Me.onlySelf&&this._parent._updatePristine(Me)}_updateTouched(Me={}){this.touched=this._anyControlsTouched(),this._parent&&!Me.onlySelf&&this._parent._updateTouched(Me)}_isBoxedValue(Me){return"object"==typeof Me&&null!==Me&&2===Object.keys(Me).length&&"value"in Me&&"disabled"in Me}_registerOnCollectionChange(Me){this._onCollectionChange=Me}_setUpdateStrategy(Me){Io(Me)&&null!=Me.updateOn&&(this._updateOn=Me.updateOn)}_parentMarkedDirty(Me){return!Me&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}}class Sn extends Do{constructor(Me=null,_e,V){super(Ni(_e),Li(V,_e)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(Me),this._setUpdateStrategy(_e),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),Io(_e)&&_e.initialValueIsDefault&&(this.defaultValue=this._isBoxedValue(Me)?Me.value:Me)}setValue(Me,_e={}){this.value=this._pendingValue=Me,this._onChange.length&&!1!==_e.emitModelToViewChange&&this._onChange.forEach(V=>V(this.value,!1!==_e.emitViewToModelChange)),this.updateValueAndValidity(_e)}patchValue(Me,_e={}){this.setValue(Me,_e)}reset(Me=this.defaultValue,_e={}){this._applyFormState(Me),this.markAsPristine(_e),this.markAsUntouched(_e),this.setValue(this.value,_e),this._pendingChange=!1}_updateValue(){}_anyControls(Me){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(Me){this._onChange.push(Me)}_unregisterOnChange(Me){Rs(this._onChange,Me)}registerOnDisabledChange(Me){this._onDisabledChange.push(Me)}_unregisterOnDisabledChange(Me){Rs(this._onDisabledChange,Me)}_forEachChild(Me){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(Me){this._isBoxedValue(Me)?(this.value=this._pendingValue=Me.value,Me.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=Me}}class Tn extends Do{constructor(Me,_e,V){super(Ni(_e),Li(V,_e)),this.controls=Me,this._initObservables(),this._setUpdateStrategy(_e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(Me,_e){return this.controls[Me]?this.controls[Me]:(this.controls[Me]=_e,_e.setParent(this),_e._registerOnCollectionChange(this._onCollectionChange),_e)}addControl(Me,_e,V={}){this.registerControl(Me,_e),this.updateValueAndValidity({emitEvent:V.emitEvent}),this._onCollectionChange()}removeControl(Me,_e={}){this.controls[Me]&&this.controls[Me]._registerOnCollectionChange(()=>{}),delete this.controls[Me],this.updateValueAndValidity({emitEvent:_e.emitEvent}),this._onCollectionChange()}setControl(Me,_e,V={}){this.controls[Me]&&this.controls[Me]._registerOnCollectionChange(()=>{}),delete this.controls[Me],_e&&this.registerControl(Me,_e),this.updateValueAndValidity({emitEvent:V.emitEvent}),this._onCollectionChange()}contains(Me){return this.controls.hasOwnProperty(Me)&&this.controls[Me].enabled}setValue(Me,_e={}){Ys(this,Me),Object.keys(Me).forEach(V=>{tl(this,V),this.controls[V].setValue(Me[V],{onlySelf:!0,emitEvent:_e.emitEvent})}),this.updateValueAndValidity(_e)}patchValue(Me,_e={}){null!=Me&&(Object.keys(Me).forEach(V=>{this.controls[V]&&this.controls[V].patchValue(Me[V],{onlySelf:!0,emitEvent:_e.emitEvent})}),this.updateValueAndValidity(_e))}reset(Me={},_e={}){this._forEachChild((V,K)=>{V.reset(Me[K],{onlySelf:!0,emitEvent:_e.emitEvent})}),this._updatePristine(_e),this._updateTouched(_e),this.updateValueAndValidity(_e)}getRawValue(){return this._reduceChildren({},(Me,_e,V)=>(Me[V]=za(_e),Me))}_syncPendingControls(){let Me=this._reduceChildren(!1,(_e,V)=>!!V._syncPendingControls()||_e);return Me&&this.updateValueAndValidity({onlySelf:!0}),Me}_forEachChild(Me){Object.keys(this.controls).forEach(_e=>{const V=this.controls[_e];V&&Me(V,_e)})}_setUpControls(){this._forEachChild(Me=>{Me.setParent(this),Me._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(Me){for(const _e of Object.keys(this.controls)){const V=this.controls[_e];if(this.contains(_e)&&Me(V))return!0}return!1}_reduceValue(){return this._reduceChildren({},(Me,_e,V)=>((_e.enabled||this.disabled)&&(Me[V]=_e.value),Me))}_reduceChildren(Me,_e){let V=Me;return this._forEachChild((K,gt)=>{V=_e(V,K,gt)}),V}_allControlsDisabled(){for(const Me of Object.keys(this.controls))if(this.controls[Me].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}}class Hn extends Do{constructor(Me,_e,V){super(Ni(_e),Li(V,_e)),this.controls=Me,this._initObservables(),this._setUpdateStrategy(_e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(Me){return this.controls[Me]}push(Me,_e={}){this.controls.push(Me),this._registerControl(Me),this.updateValueAndValidity({emitEvent:_e.emitEvent}),this._onCollectionChange()}insert(Me,_e,V={}){this.controls.splice(Me,0,_e),this._registerControl(_e),this.updateValueAndValidity({emitEvent:V.emitEvent})}removeAt(Me,_e={}){this.controls[Me]&&this.controls[Me]._registerOnCollectionChange(()=>{}),this.controls.splice(Me,1),this.updateValueAndValidity({emitEvent:_e.emitEvent})}setControl(Me,_e,V={}){this.controls[Me]&&this.controls[Me]._registerOnCollectionChange(()=>{}),this.controls.splice(Me,1),_e&&(this.controls.splice(Me,0,_e),this._registerControl(_e)),this.updateValueAndValidity({emitEvent:V.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(Me,_e={}){Ys(this,Me),Me.forEach((V,K)=>{tl(this,K),this.at(K).setValue(V,{onlySelf:!0,emitEvent:_e.emitEvent})}),this.updateValueAndValidity(_e)}patchValue(Me,_e={}){null!=Me&&(Me.forEach((V,K)=>{this.at(K)&&this.at(K).patchValue(V,{onlySelf:!0,emitEvent:_e.emitEvent})}),this.updateValueAndValidity(_e))}reset(Me=[],_e={}){this._forEachChild((V,K)=>{V.reset(Me[K],{onlySelf:!0,emitEvent:_e.emitEvent})}),this._updatePristine(_e),this._updateTouched(_e),this.updateValueAndValidity(_e)}getRawValue(){return this.controls.map(Me=>za(Me))}clear(Me={}){this.controls.length<1||(this._forEachChild(_e=>_e._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:Me.emitEvent}))}_syncPendingControls(){let Me=this.controls.reduce((_e,V)=>!!V._syncPendingControls()||_e,!1);return Me&&this.updateValueAndValidity({onlySelf:!0}),Me}_forEachChild(Me){this.controls.forEach((_e,V)=>{Me(_e,V)})}_updateValue(){this.value=this.controls.filter(Me=>Me.enabled||this.disabled).map(Me=>Me.value)}_anyControls(Me){return this.controls.some(_e=>_e.enabled&&Me(_e))}_setUpControls(){this._forEachChild(Me=>this._registerControl(Me))}_allControlsDisabled(){for(const Me of this.controls)if(Me.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(Me){Me.setParent(this),Me._registerOnCollectionChange(this._onCollectionChange)}}const Or={provide:Nn,useExisting:(0,C.Gpc)(()=>ni)},jr=(()=>Promise.resolve(null))();let ni=(()=>{class Ze extends Nn{constructor(_e,V){super(),this.submitted=!1,this._directives=new Set,this.ngSubmit=new C.vpe,this.form=new Tn({},ot(_e),j(V))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(_e){jr.then(()=>{const V=this._findContainer(_e.path);_e.control=V.registerControl(_e.name,_e.control),pn(_e.control,_e),_e.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(_e)})}getControl(_e){return this.form.get(_e.path)}removeControl(_e){jr.then(()=>{const V=this._findContainer(_e.path);V&&V.removeControl(_e.name),this._directives.delete(_e)})}addFormGroup(_e){jr.then(()=>{const V=this._findContainer(_e.path),K=new Tn({});vr(K,_e),V.registerControl(_e.name,K),K.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(_e){jr.then(()=>{const V=this._findContainer(_e.path);V&&V.removeControl(_e.name)})}getFormGroup(_e){return this.form.get(_e.path)}updateModel(_e,V){jr.then(()=>{this.form.get(_e.path).setValue(V)})}setValue(_e){this.control.setValue(_e)}onSubmit(_e){return this.submitted=!0,gs(this.form,this._directives),this.ngSubmit.emit(_e),!1}onReset(){this.resetForm()}resetForm(_e){this.form.reset(_e),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(_e){return _e.pop(),_e.length?this.form.get(_e):this.form}}return Ze.\u0275fac=function(_e){return new(_e||Ze)(C.Y36(Ce,10),C.Y36(L,10))},Ze.\u0275dir=C.lG2({type:Ze,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(_e,V){1&_e&&C.NdJ("submit",function(gt){return V.onSubmit(gt)})("reset",function(){return V.onReset()})},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[C._Bn([Or]),C.qOj]}),Ze})();const jo={provide:vn,useExisting:(0,C.Gpc)(()=>Ec)},Is=(()=>Promise.resolve(null))();let Ec=(()=>{class Ze extends vn{constructor(_e,V,K,gt,Qt){super(),this._changeDetectorRef=Qt,this.control=new Sn,this._registered=!1,this.update=new C.vpe,this._parent=_e,this._setValidators(V),this._setAsyncValidators(K),this.valueAccessor=xs(0,gt)}ngOnChanges(_e){if(this._checkForErrors(),!this._registered||"name"in _e){if(this._registered&&(this._checkName(),this.formDirective)){const V=_e.name.previousValue;this.formDirective.removeControl({name:V,path:this._getPath(V)})}this._setUpControl()}"isDisabled"in _e&&this._updateDisabled(_e),Ws(_e,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(_e){this.viewModel=_e,this.update.emit(_e)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){pn(this.control,this),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(_e){Is.then(()=>{var V;this.control.setValue(_e,{emitViewToModelChange:!1}),null===(V=this._changeDetectorRef)||void 0===V||V.markForCheck()})}_updateDisabled(_e){const V=_e.isDisabled.currentValue,K=""===V||V&&"false"!==V;Is.then(()=>{var gt;K&&!this.control.disabled?this.control.disable():!K&&this.control.disabled&&this.control.enable(),null===(gt=this._changeDetectorRef)||void 0===gt||gt.markForCheck()})}_getPath(_e){return this._parent?Nt(_e,this._parent):[_e]}}return Ze.\u0275fac=function(_e){return new(_e||Ze)(C.Y36(Nn,9),C.Y36(Ce,10),C.Y36(L,10),C.Y36(we,10),C.Y36(C.sBO,8))},Ze.\u0275dir=C.lG2({type:Ze,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[C._Bn([jo]),C.qOj,C.TTD]}),Ze})(),Xc=(()=>{class Ze{}return Ze.\u0275fac=function(_e){return new(_e||Ze)},Ze.\u0275dir=C.lG2({type:Ze,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),Ze})();const Aa={provide:we,useExisting:(0,C.Gpc)(()=>Ks),multi:!0};let Ks=(()=>{class Ze extends xe{writeValue(_e){this.setProperty("value",null==_e?"":_e)}registerOnChange(_e){this.onChange=V=>{_e(""==V?null:parseFloat(V))}}}return Ze.\u0275fac=function(){let Me;return function(V){return(Me||(Me=C.n5z(Ze)))(V||Ze)}}(),Ze.\u0275dir=C.lG2({type:Ze,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(_e,V){1&_e&&C.NdJ("input",function(gt){return V.onChange(gt.target.value)})("blur",function(){return V.onTouched()})},features:[C._Bn([Aa]),C.qOj]}),Ze})(),nl=(()=>{class Ze{}return Ze.\u0275fac=function(_e){return new(_e||Ze)},Ze.\u0275mod=C.oAB({type:Ze}),Ze.\u0275inj=C.cJS({}),Ze})();const oc=new C.OlP("NgModelWithFormControlWarning"),ac={provide:Nn,useExisting:(0,C.Gpc)(()=>Wa)};let Wa=(()=>{class Ze extends Nn{constructor(_e,V){super(),this.validators=_e,this.asyncValidators=V,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new C.vpe,this._setValidators(_e),this._setAsyncValidators(V)}ngOnChanges(_e){this._checkFormPresent(),_e.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(Ar(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(_e){const V=this.form.get(_e.path);return pn(V,_e),V.updateValueAndValidity({emitEvent:!1}),this.directives.push(_e),V}getControl(_e){return this.form.get(_e.path)}removeControl(_e){Mn(_e.control||null,_e,!1),Rs(this.directives,_e)}addFormGroup(_e){this._setUpFormContainer(_e)}removeFormGroup(_e){this._cleanUpFormContainer(_e)}getFormGroup(_e){return this.form.get(_e.path)}addFormArray(_e){this._setUpFormContainer(_e)}removeFormArray(_e){this._cleanUpFormContainer(_e)}getFormArray(_e){return this.form.get(_e.path)}updateModel(_e,V){this.form.get(_e.path).setValue(V)}onSubmit(_e){return this.submitted=!0,gs(this.form,this.directives),this.ngSubmit.emit(_e),!1}onReset(){this.resetForm()}resetForm(_e){this.form.reset(_e),this.submitted=!1}_updateDomValue(){this.directives.forEach(_e=>{const V=_e.control,K=this.form.get(_e.path);V!==K&&(Mn(V||null,_e),Ri(K)&&(pn(K,_e),_e.control=K))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(_e){const V=this.form.get(_e.path);vr(V,_e),V.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(_e){if(this.form){const V=this.form.get(_e.path);V&&function ai(Ze,Me){return Ar(Ze,Me)}(V,_e)&&V.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){Zr(this.form,this),this._oldForm&&Ar(this._oldForm,this)}_checkFormPresent(){}}return Ze.\u0275fac=function(_e){return new(_e||Ze)(C.Y36(Ce,10),C.Y36(L,10))},Ze.\u0275dir=C.lG2({type:Ze,selectors:[["","formGroup",""]],hostBindings:function(_e,V){1&_e&&C.NdJ("submit",function(gt){return V.onSubmit(gt)})("reset",function(){return V.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[C._Bn([ac]),C.qOj,C.TTD]}),Ze})();const Ia={provide:vn,useExisting:(0,C.Gpc)(()=>ca)};let ca=(()=>{class Ze extends vn{constructor(_e,V,K,gt,Qt){super(),this._ngModelWarningConfig=Qt,this._added=!1,this.update=new C.vpe,this._ngModelWarningSent=!1,this._parent=_e,this._setValidators(V),this._setAsyncValidators(K),this.valueAccessor=xs(0,gt)}set isDisabled(_e){}ngOnChanges(_e){this._added||this._setUpControl(),Ws(_e,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(_e){this.viewModel=_e,this.update.emit(_e)}get path(){return Nt(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this.control.disabled&&this.valueAccessor.setDisabledState&&this.valueAccessor.setDisabledState(!0),this._added=!0}}return Ze._ngModelWarningSentOnce=!1,Ze.\u0275fac=function(_e){return new(_e||Ze)(C.Y36(Nn,13),C.Y36(Ce,10),C.Y36(L,10),C.Y36(we,10),C.Y36(oc,8))},Ze.\u0275dir=C.lG2({type:Ze,selectors:[["","formControlName",""]],inputs:{name:["formControlName","name"],isDisabled:["disabled","isDisabled"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[C._Bn([Ia]),C.qOj,C.TTD]}),Ze})();const Ol={provide:we,useExisting:(0,C.Gpc)(()=>ya),multi:!0};function il(Ze,Me){return null==Ze?`${Me}`:(Me&&"object"==typeof Me&&(Me="Object"),`${Ze}: ${Me}`.slice(0,50))}let ya=(()=>{class Ze extends xe{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(_e){this._compareWith=_e}writeValue(_e){this.value=_e;const K=il(this._getOptionId(_e),_e);this.setProperty("value",K)}registerOnChange(_e){this.onChange=V=>{this.value=this._getOptionValue(V),_e(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(_e){for(const V of Array.from(this._optionMap.keys()))if(this._compareWith(this._optionMap.get(V),_e))return V;return null}_getOptionValue(_e){const V=function Fl(Ze){return Ze.split(":")[0]}(_e);return this._optionMap.has(V)?this._optionMap.get(V):_e}}return Ze.\u0275fac=function(){let Me;return function(V){return(Me||(Me=C.n5z(Ze)))(V||Ze)}}(),Ze.\u0275dir=C.lG2({type:Ze,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(_e,V){1&_e&&C.NdJ("change",function(gt){return V.onChange(gt.target.value)})("blur",function(){return V.onTouched()})},inputs:{compareWith:"compareWith"},features:[C._Bn([Ol]),C.qOj]}),Ze})(),Bs=(()=>{class Ze{constructor(_e,V,K){this._element=_e,this._renderer=V,this._select=K,this._select&&(this.id=this._select._registerOption())}set ngValue(_e){null!=this._select&&(this._select._optionMap.set(this.id,_e),this._setElementValue(il(this.id,_e)),this._select.writeValue(this._select.value))}set value(_e){this._setElementValue(_e),this._select&&this._select.writeValue(this._select.value)}_setElementValue(_e){this._renderer.setProperty(this._element.nativeElement,"value",_e)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}}return Ze.\u0275fac=function(_e){return new(_e||Ze)(C.Y36(C.SBq),C.Y36(C.Qsj),C.Y36(ya,9))},Ze.\u0275dir=C.lG2({type:Ze,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}}),Ze})();const zl={provide:we,useExisting:(0,C.Gpc)(()=>Da),multi:!0};function Bc(Ze,Me){return null==Ze?`${Me}`:("string"==typeof Me&&(Me=`'${Me}'`),Me&&"object"==typeof Me&&(Me="Object"),`${Ze}: ${Me}`.slice(0,50))}let Da=(()=>{class Ze extends xe{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(_e){this._compareWith=_e}writeValue(_e){let V;if(this.value=_e,Array.isArray(_e)){const K=_e.map(gt=>this._getOptionId(gt));V=(gt,Qt)=>{gt._setSelected(K.indexOf(Qt.toString())>-1)}}else V=(K,gt)=>{K._setSelected(!1)};this._optionMap.forEach(V)}registerOnChange(_e){this.onChange=V=>{const K=[],gt=V.selectedOptions;if(void 0!==gt){const Qt=gt;for(let xn=0;xn<Qt.length;xn++){const Lr=this._getOptionValue(Qt[xn].value);K.push(Lr)}}else{const Qt=V.options;for(let xn=0;xn<Qt.length;xn++){const er=Qt[xn];if(er.selected){const Lr=this._getOptionValue(er.value);K.push(Lr)}}}this.value=K,_e(K)}}_registerOption(_e){const V=(this._idCounter++).toString();return this._optionMap.set(V,_e),V}_getOptionId(_e){for(const V of Array.from(this._optionMap.keys()))if(this._compareWith(this._optionMap.get(V)._value,_e))return V;return null}_getOptionValue(_e){const V=function Yo(Ze){return Ze.split(":")[0]}(_e);return this._optionMap.has(V)?this._optionMap.get(V)._value:_e}}return Ze.\u0275fac=function(){let Me;return function(V){return(Me||(Me=C.n5z(Ze)))(V||Ze)}}(),Ze.\u0275dir=C.lG2({type:Ze,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(_e,V){1&_e&&C.NdJ("change",function(gt){return V.onChange(gt.target)})("blur",function(){return V.onTouched()})},inputs:{compareWith:"compareWith"},features:[C._Bn([zl]),C.qOj]}),Ze})(),xu=(()=>{class Ze{constructor(_e,V,K){this._element=_e,this._renderer=V,this._select=K,this._select&&(this.id=this._select._registerOption(this))}set ngValue(_e){null!=this._select&&(this._value=_e,this._setElementValue(Bc(this.id,_e)),this._select.writeValue(this._select.value))}set value(_e){this._select?(this._value=_e,this._setElementValue(Bc(this.id,_e)),this._select.writeValue(this._select.value)):this._setElementValue(_e)}_setElementValue(_e){this._renderer.setProperty(this._element.nativeElement,"value",_e)}_setSelected(_e){this._renderer.setProperty(this._element.nativeElement,"selected",_e)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}}return Ze.\u0275fac=function(_e){return new(_e||Ze)(C.Y36(C.SBq),C.Y36(C.Qsj),C.Y36(Da,9))},Ze.\u0275dir=C.lG2({type:Ze,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}}),Ze})(),sl=(()=>{class Ze{constructor(){this._validator=dt}ngOnChanges(_e){if(this.inputName in _e){const V=this.normalizeInput(_e[this.inputName].currentValue);this._enabled=this.enabled(V),this._validator=this._enabled?this.createValidator(V):dt,this._onChange&&this._onChange()}}validate(_e){return this._validator(_e)}registerOnValidatorChange(_e){this._onChange=_e}enabled(_e){return null!=_e}}return Ze.\u0275fac=function(_e){return new(_e||Ze)},Ze.\u0275dir=C.lG2({type:Ze,features:[C.TTD]}),Ze})();const Ut={provide:Ce,useExisting:(0,C.Gpc)(()=>_n),multi:!0};let _n=(()=>{class Ze extends sl{constructor(){super(...arguments),this.inputName="pattern",this.normalizeInput=_e=>_e,this.createValidator=_e=>Ke(_e)}}return Ze.\u0275fac=function(){let Me;return function(V){return(Me||(Me=C.n5z(Ze)))(V||Ze)}}(),Ze.\u0275dir=C.lG2({type:Ze,selectors:[["","pattern","","formControlName",""],["","pattern","","formControl",""],["","pattern","","ngModel",""]],hostVars:1,hostBindings:function(_e,V){2&_e&&C.uIk("pattern",V._enabled?V.pattern:null)},inputs:{pattern:"pattern"},features:[C._Bn([Ut]),C.qOj]}),Ze})(),yi=(()=>{class Ze{}return Ze.\u0275fac=function(_e){return new(_e||Ze)},Ze.\u0275mod=C.oAB({type:Ze}),Ze.\u0275inj=C.cJS({imports:[[nl]]}),Ze})(),ii=(()=>{class Ze{}return Ze.\u0275fac=function(_e){return new(_e||Ze)},Ze.\u0275mod=C.oAB({type:Ze}),Ze.\u0275inj=C.cJS({imports:[yi]}),Ze})(),Vs=(()=>{class Ze{static withConfig(_e){return{ngModule:Ze,providers:[{provide:oc,useValue:_e.warnOnNgModelWithFormControl}]}}}return Ze.\u0275fac=function(_e){return new(_e||Ze)},Ze.\u0275mod=C.oAB({type:Ze}),Ze.\u0275inj=C.cJS({imports:[yi]}),Ze})(),io=(()=>{class Ze{group(_e,V=null){const K=this._reduceControls(_e);let xn,gt=null,Qt=null;return null!=V&&(function ko(Ze){return void 0!==Ze.asyncValidators||void 0!==Ze.validators||void 0!==Ze.updateOn}(V)?(gt=null!=V.validators?V.validators:null,Qt=null!=V.asyncValidators?V.asyncValidators:null,xn=null!=V.updateOn?V.updateOn:void 0):(gt=null!=V.validator?V.validator:null,Qt=null!=V.asyncValidator?V.asyncValidator:null)),new Tn(K,{asyncValidators:Qt,updateOn:xn,validators:gt})}control(_e,V,K){return new Sn(_e,V,K)}array(_e,V,K){const gt=_e.map(Qt=>this._createControl(Qt));return new Hn(gt,V,K)}_reduceControls(_e){const V={};return Object.keys(_e).forEach(K=>{V[K]=this._createControl(_e[K])}),V}_createControl(_e){return Ri(_e)||To(_e)||Ha(_e)?_e:Array.isArray(_e)?this.control(_e[0],_e.length>1?_e[1]:null,_e.length>2?_e[2]:null):this.control(_e)}}return Ze.\u0275fac=function(_e){return new(_e||Ze)},Ze.\u0275prov=C.Yz7({token:Ze,factory:Ze.\u0275fac,providedIn:Vs}),Ze})()},441:(Gr,Ln,me)=>{"use strict";me.d(Ln,{jw:()=>ft,F0:()=>ka,yS:()=>Ic,Bz:()=>wr,lC:()=>Tc,fw:()=>sl});var C=me(5e3),h=me(8306),it=me(4742),ve=me(8996),Ne=me(4671),I=me(3268),tt=me(7669),Qe=me(1810),nt=me(5403),ze=me(9672);function He(ie,Y,H){ie?(0,ze.f)(H,ie,Y):Y()}var xe=me(576);function we(ie,Y){const H=(0,xe.m)(ie)?ie:()=>ie,Ae=Ge=>Ge.error(H());return new h.y(Y?Ge=>Y.schedule(Ae,0,Ge):Ae)}var de=me(8421);function W(ie){return new h.y(Y=>{(0,de.Xf)(ie()).subscribe(Y)})}var fe=me(727),ye=me(4482);function Se(){return(0,ye.e)((ie,Y)=>{let H=null;ie._refCount++;const Ae=(0,nt.x)(Y,void 0,void 0,void 0,()=>{if(!ie||ie._refCount<=0||0<--ie._refCount)return void(H=null);const Ge=ie._connection,kt=H;H=null,Ge&&(!kt||Ge===kt)&&Ge.unsubscribe(),Y.unsubscribe()});ie.subscribe(Ae),Ae.closed||(H=ie.connect())})}class oe extends h.y{constructor(Y,H){super(),this.source=Y,this.subjectFactory=H,this._subject=null,this._refCount=0,this._connection=null,(0,ye.A)(Y)&&(this.lift=Y.lift)}_subscribe(Y){return this.getSubject().subscribe(Y)}getSubject(){const Y=this._subject;return(!Y||Y.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:Y}=this;this._subject=this._connection=null,null==Y||Y.unsubscribe()}connect(){let Y=this._connection;if(!Y){Y=this._connection=new fe.w0;const H=this.getSubject();Y.add(this.source.subscribe((0,nt.x)(H,void 0,()=>{this._teardown(),H.complete()},Ae=>{this._teardown(),H.error(Ae)},()=>this._teardown()))),Y.closed&&(this._connection=null,Y=fe.w0.EMPTY)}return Y}refCount(){return Se()(this)}}var se=me(9646),pe=me(1135),Ce=me(6805),L=me(7272),Q=me(515),re=me(7579);function P(ie){return(0,ye.e)((Y,H)=>{let kt,Ae=null,Ge=!1;Ae=Y.subscribe((0,nt.x)(H,void 0,void 0,Zt=>{kt=(0,de.Xf)(ie(Zt,P(ie)(Y))),Ae?(Ae.unsubscribe(),Ae=null,kt.subscribe(H)):Ge=!0})),Ge&&(Ae.unsubscribe(),Ae=null,kt.subscribe(H))})}var G=me(5577);function F(ie,Y){return(0,xe.m)(Y)?(0,G.z)(ie,Y,1):(0,G.z)(ie,1)}var ae=me(9300);function R(ie){return ie<=0?()=>Q.E:(0,ye.e)((Y,H)=>{let Ae=[];Y.subscribe((0,nt.x)(H,Ge=>{Ae.push(Ge),ie<Ae.length&&Ae.shift()},()=>{for(const Ge of Ae)H.next(Ge);H.complete()},void 0,()=>{Ae=null}))})}var z=me(8068),De=me(6590),We=me(4004),Te=me(3900),Je=me(5698),Z=me(8675),ne=me(5026),Oe=me(590),$e=me(8505),ot=me(8189),at=me(9808);class j{constructor(Y,H){this.id=Y,this.url=H}}class be extends j{constructor(Y,H,Ae="imperative",Ge=null){super(Y,H),this.navigationTrigger=Ae,this.restoredState=Ge}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class J extends j{constructor(Y,H,Ae){super(Y,H),this.urlAfterRedirects=Ae}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class Ee extends j{constructor(Y,H,Ae){super(Y,H),this.reason=Ae}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class Ue extends j{constructor(Y,H,Ae){super(Y,H),this.error=Ae}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class lt extends j{constructor(Y,H,Ae,Ge){super(Y,H),this.urlAfterRedirects=Ae,this.state=Ge}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Tt extends j{constructor(Y,H,Ae,Ge){super(Y,H),this.urlAfterRedirects=Ae,this.state=Ge}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Ft extends j{constructor(Y,H,Ae,Ge,kt){super(Y,H),this.urlAfterRedirects=Ae,this.state=Ge,this.shouldActivate=kt}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class $t extends j{constructor(Y,H,Ae,Ge){super(Y,H),this.urlAfterRedirects=Ae,this.state=Ge}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class vn extends j{constructor(Y,H,Ae,Ge){super(Y,H),this.urlAfterRedirects=Ae,this.state=Ge}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Nn{constructor(Y){this.route=Y}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class $n{constructor(Y){this.route=Y}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class yn{constructor(Y){this.snapshot=Y}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class hn{constructor(Y){this.snapshot=Y}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class ke{constructor(Y){this.snapshot=Y}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class ft{constructor(Y){this.snapshot=Y}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class It{constructor(Y,H,Ae){this.routerEvent=Y,this.position=H,this.anchor=Ae}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}const ct="primary";class jt{constructor(Y){this.params=Y||{}}has(Y){return Object.prototype.hasOwnProperty.call(this.params,Y)}get(Y){if(this.has(Y)){const H=this.params[Y];return Array.isArray(H)?H[0]:H}return null}getAll(Y){if(this.has(Y)){const H=this.params[Y];return Array.isArray(H)?H:[H]}return[]}get keys(){return Object.keys(this.params)}}function nn(ie){return new jt(ie)}const jn="ngNavigationCancelingError";function br(ie){const Y=Error("NavigationCancelingError: "+ie);return Y[jn]=!0,Y}function Mr(ie,Y,H){const Ae=H.path.split("/");if(Ae.length>ie.length||"full"===H.pathMatch&&(Y.hasChildren()||Ae.length<ie.length))return null;const Ge={};for(let kt=0;kt<Ae.length;kt++){const Zt=Ae[kt],Dn=ie[kt];if(Zt.startsWith(":"))Ge[Zt.substring(1)]=Dn;else if(Zt!==Dn.path)return null}return{consumed:ie.slice(0,Ae.length),posParams:Ge}}function zr(ie,Y){const H=ie?Object.keys(ie):void 0,Ae=Y?Object.keys(Y):void 0;if(!H||!Ae||H.length!=Ae.length)return!1;let Ge;for(let kt=0;kt<H.length;kt++)if(Ge=H[kt],!Pr(ie[Ge],Y[Ge]))return!1;return!0}function Pr(ie,Y){if(Array.isArray(ie)&&Array.isArray(Y)){if(ie.length!==Y.length)return!1;const H=[...ie].sort(),Ae=[...Y].sort();return H.every((Ge,kt)=>Ae[kt]===Ge)}return ie===Y}function fn(ie){return Array.prototype.concat.apply([],ie)}function mt(ie){return ie.length>0?ie[ie.length-1]:null}function et(ie,Y){for(const H in ie)ie.hasOwnProperty(H)&&Y(ie[H],H)}function ht(ie){return(0,C.CqO)(ie)?ie:(0,C.QGY)(ie)?(0,ve.D)(Promise.resolve(ie)):(0,se.of)(ie)}const pn={exact:function Zr(ie,Y,H){if(!Zi(ie.segments,Y.segments)||!Rt(ie.segments,Y.segments,H)||ie.numberOfChildren!==Y.numberOfChildren)return!1;for(const Ae in Y.children)if(!ie.children[Ae]||!Zr(ie.children[Ae],Y.children[Ae],H))return!1;return!0},subset:On},Mn={exact:function Dr(ie,Y){return zr(ie,Y)},subset:function Ar(ie,Y){return Object.keys(Y).length<=Object.keys(ie).length&&Object.keys(Y).every(H=>Pr(ie[H],Y[H]))},ignored:()=>!0};function xr(ie,Y,H){return pn[H.paths](ie.root,Y.root,H.matrixParams)&&Mn[H.queryParams](ie.queryParams,Y.queryParams)&&!("exact"===H.fragment&&ie.fragment!==Y.fragment)}function On(ie,Y,H){return mn(ie,Y,Y.segments,H)}function mn(ie,Y,H,Ae){if(ie.segments.length>H.length){const Ge=ie.segments.slice(0,H.length);return!(!Zi(Ge,H)||Y.hasChildren()||!Rt(Ge,H,Ae))}if(ie.segments.length===H.length){if(!Zi(ie.segments,H)||!Rt(ie.segments,H,Ae))return!1;for(const Ge in Y.children)if(!ie.children[Ge]||!On(ie.children[Ge],Y.children[Ge],Ae))return!1;return!0}{const Ge=H.slice(0,ie.segments.length),kt=H.slice(ie.segments.length);return!!(Zi(ie.segments,Ge)&&Rt(ie.segments,Ge,Ae)&&ie.children[ct])&&mn(ie.children[ct],Y,kt,Ae)}}function Rt(ie,Y,H){return Y.every((Ae,Ge)=>Mn[H](ie[Ge].parameters,Ae.parameters))}class hr{constructor(Y,H,Ae){this.root=Y,this.queryParams=H,this.fragment=Ae}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=nn(this.queryParams)),this._queryParamMap}toString(){return Ji.serialize(this)}}class vr{constructor(Y,H){this.segments=Y,this.children=H,this.parent=null,et(H,(Ae,Ge)=>Ae.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return gs(this)}}class ai{constructor(Y,H){this.path=Y,this.parameters=H}get parameterMap(){return this._parameterMap||(this._parameterMap=nn(this.parameters)),this._parameterMap}toString(){return kr(this)}}function Zi(ie,Y){return ie.length===Y.length&&ie.every((H,Ae)=>H.path===Y[Ae].path)}class zs{}class Ws{parse(Y){const H=new Ha(Y);return new hr(H.parseRootSegment(),H.parseQueryParams(),H.parseFragment())}serialize(Y){const H=`/${xs(Y.root,!0)}`,Ae=function Ni(ie){const Y=Object.keys(ie).map(H=>{const Ae=ie[H];return Array.isArray(Ae)?Ae.map(Ge=>`${va(H)}=${va(Ge)}`).join("&"):`${va(H)}=${va(Ae)}`}).filter(H=>!!H);return Y.length?`?${Y.join("&")}`:""}(Y.queryParams);return`${H}${Ae}${"string"==typeof Y.fragment?`#${function Eo(ie){return encodeURI(ie)}(Y.fragment)}`:""}`}}const Ji=new Ws;function gs(ie){return ie.segments.map(Y=>kr(Y)).join("/")}function xs(ie,Y){if(!ie.hasChildren())return gs(ie);if(Y){const H=ie.children[ct]?xs(ie.children[ct],!1):"",Ae=[];return et(ie.children,(Ge,kt)=>{kt!==ct&&Ae.push(`${kt}:${xs(Ge,!1)}`)}),Ae.length>0?`${H}(${Ae.join("//")})`:H}{const H=function Wi(ie,Y){let H=[];return et(ie.children,(Ae,Ge)=>{Ge===ct&&(H=H.concat(Y(Ae,Ge)))}),et(ie.children,(Ae,Ge)=>{Ge!==ct&&(H=H.concat(Y(Ae,Ge)))}),H}(ie,(Ae,Ge)=>Ge===ct?[xs(ie.children[ct],!1)]:[`${Ge}:${xs(Ae,!1)}`]);return 1===Object.keys(ie.children).length&&null!=ie.children[ct]?`${gs(ie)}/${H[0]}`:`${gs(ie)}/(${H.join("//")})`}}function Rs(ie){return encodeURIComponent(ie).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function va(ie){return Rs(ie).replace(/%3B/gi,";")}function Hr(ie){return Rs(ie).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function wn(ie){return decodeURIComponent(ie)}function tr(ie){return wn(ie.replace(/\+/g,"%20"))}function kr(ie){return`${Hr(ie.path)}${function Ai(ie){return Object.keys(ie).map(Y=>`;${Hr(Y)}=${Hr(ie[Y])}`).join("")}(ie.parameters)}`}const us=/^[^\/()?;=#]+/;function Li(ie){const Y=ie.match(us);return Y?Y[0]:""}const Ls=/^[^=?&#]+/,Ri=/^[^&#]+/;class Ha{constructor(Y){this.url=Y,this.remaining=Y}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new vr([],{}):new vr([],this.parseChildren())}parseQueryParams(){const Y={};if(this.consumeOptional("?"))do{this.parseQueryParam(Y)}while(this.consumeOptional("&"));return Y}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const Y=[];for(this.peekStartsWith("(")||Y.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),Y.push(this.parseSegment());let H={};this.peekStartsWith("/(")&&(this.capture("/"),H=this.parseParens(!0));let Ae={};return this.peekStartsWith("(")&&(Ae=this.parseParens(!1)),(Y.length>0||Object.keys(H).length>0)&&(Ae[ct]=new vr(Y,H)),Ae}parseSegment(){const Y=Li(this.remaining);if(""===Y&&this.peekStartsWith(";"))throw new Error(`Empty path url segment cannot have parameters: '${this.remaining}'.`);return this.capture(Y),new ai(wn(Y),this.parseMatrixParams())}parseMatrixParams(){const Y={};for(;this.consumeOptional(";");)this.parseParam(Y);return Y}parseParam(Y){const H=Li(this.remaining);if(!H)return;this.capture(H);let Ae="";if(this.consumeOptional("=")){const Ge=Li(this.remaining);Ge&&(Ae=Ge,this.capture(Ae))}Y[wn(H)]=wn(Ae)}parseQueryParam(Y){const H=function Io(ie){const Y=ie.match(Ls);return Y?Y[0]:""}(this.remaining);if(!H)return;this.capture(H);let Ae="";if(this.consumeOptional("=")){const Zt=function To(ie){const Y=ie.match(Ri);return Y?Y[0]:""}(this.remaining);Zt&&(Ae=Zt,this.capture(Ae))}const Ge=tr(H),kt=tr(Ae);if(Y.hasOwnProperty(Ge)){let Zt=Y[Ge];Array.isArray(Zt)||(Zt=[Zt],Y[Ge]=Zt),Zt.push(kt)}else Y[Ge]=kt}parseParens(Y){const H={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const Ae=Li(this.remaining),Ge=this.remaining[Ae.length];if("/"!==Ge&&")"!==Ge&&";"!==Ge)throw new Error(`Cannot parse url '${this.url}'`);let kt;Ae.indexOf(":")>-1?(kt=Ae.substr(0,Ae.indexOf(":")),this.capture(kt),this.capture(":")):Y&&(kt=ct);const Zt=this.parseChildren();H[kt]=1===Object.keys(Zt).length?Zt[ct]:new vr([],Zt),this.consumeOptional("//")}return H}peekStartsWith(Y){return this.remaining.startsWith(Y)}consumeOptional(Y){return!!this.peekStartsWith(Y)&&(this.remaining=this.remaining.substring(Y.length),!0)}capture(Y){if(!this.consumeOptional(Y))throw new Error(`Expected "${Y}".`)}}class za{constructor(Y){this._root=Y}get root(){return this._root.value}parent(Y){const H=this.pathFromRoot(Y);return H.length>1?H[H.length-2]:null}children(Y){const H=tl(Y,this._root);return H?H.children.map(Ae=>Ae.value):[]}firstChild(Y){const H=tl(Y,this._root);return H&&H.children.length>0?H.children[0].value:null}siblings(Y){const H=Ys(Y,this._root);return H.length<2?[]:H[H.length-2].children.map(Ge=>Ge.value).filter(Ge=>Ge!==Y)}pathFromRoot(Y){return Ys(Y,this._root).map(H=>H.value)}}function tl(ie,Y){if(ie===Y.value)return Y;for(const H of Y.children){const Ae=tl(ie,H);if(Ae)return Ae}return null}function Ys(ie,Y){if(ie===Y.value)return[Y];for(const H of Y.children){const Ae=Ys(ie,H);if(Ae.length)return Ae.unshift(Y),Ae}return[]}class Do{constructor(Y,H){this.value=Y,this.children=H}toString(){return`TreeNode(${this.value})`}}function Sn(ie){const Y={};return ie&&ie.children.forEach(H=>Y[H.value.outlet]=H),Y}class Tn extends za{constructor(Y,H){super(Y),this.snapshot=H,ro(this,Y)}toString(){return this.snapshot.toString()}}function Hn(ie,Y){const H=function Or(ie,Y){const Zt=new Us([],{},{},"",{},ct,Y,null,ie.root,-1,{});return new ji("",new Do(Zt,[]))}(ie,Y),Ae=new pe.X([new ai("",{})]),Ge=new pe.X({}),kt=new pe.X({}),Zt=new pe.X({}),Dn=new pe.X(""),ar=new jr(Ae,Ge,Zt,Dn,kt,ct,Y,H.root);return ar.snapshot=H.root,new Tn(new Do(ar,[]),H)}class jr{constructor(Y,H,Ae,Ge,kt,Zt,Dn,ar){this.url=Y,this.params=H,this.queryParams=Ae,this.fragment=Ge,this.data=kt,this.outlet=Zt,this.component=Dn,this._futureSnapshot=ar}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,We.U)(Y=>nn(Y)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,We.U)(Y=>nn(Y)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function ni(ie,Y="emptyOnly"){const H=ie.pathFromRoot;let Ae=0;if("always"!==Y)for(Ae=H.length-1;Ae>=1;){const Ge=H[Ae],kt=H[Ae-1];if(Ge.routeConfig&&""===Ge.routeConfig.path)Ae--;else{if(kt.component)break;Ae--}}return function as(ie){return ie.reduce((Y,H)=>({params:Object.assign(Object.assign({},Y.params),H.params),data:Object.assign(Object.assign({},Y.data),H.data),resolve:Object.assign(Object.assign({},Y.resolve),H._resolvedData)}),{params:{},data:{},resolve:{}})}(H.slice(Ae))}class Us{constructor(Y,H,Ae,Ge,kt,Zt,Dn,ar,rr,hs,Vi){this.url=Y,this.params=H,this.queryParams=Ae,this.fragment=Ge,this.data=kt,this.outlet=Zt,this.component=Dn,this.routeConfig=ar,this._urlSegment=rr,this._lastPathIndex=hs,this._resolve=Vi}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=nn(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=nn(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(Ae=>Ae.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class ji extends za{constructor(Y,H){super(H),this.url=Y,ro(this,H)}toString(){return Co(this._root)}}function ro(ie,Y){Y.value._routerState=ie,Y.children.forEach(H=>ro(ie,H))}function Co(ie){const Y=ie.children.length>0?` { ${ie.children.map(Co).join(", ")} } `:"";return`${ie.value}${Y}`}function Ca(ie){if(ie.snapshot){const Y=ie.snapshot,H=ie._futureSnapshot;ie.snapshot=H,zr(Y.queryParams,H.queryParams)||ie.queryParams.next(H.queryParams),Y.fragment!==H.fragment&&ie.fragment.next(H.fragment),zr(Y.params,H.params)||ie.params.next(H.params),function dr(ie,Y){if(ie.length!==Y.length)return!1;for(let H=0;H<ie.length;++H)if(!zr(ie[H],Y[H]))return!1;return!0}(Y.url,H.url)||ie.url.next(H.url),zr(Y.data,H.data)||ie.data.next(H.data)}else ie.snapshot=ie._futureSnapshot,ie.data.next(ie._futureSnapshot.data)}function Sa(ie,Y){const H=zr(ie.params,Y.params)&&function ki(ie,Y){return Zi(ie,Y)&&ie.every((H,Ae)=>zr(H.parameters,Y[Ae].parameters))}(ie.url,Y.url);return H&&!(!ie.parent!=!Y.parent)&&(!ie.parent||Sa(ie.parent,Y.parent))}function Is(ie,Y,H){if(H&&ie.shouldReuseRoute(Y.value,H.value.snapshot)){const Ae=H.value;Ae._futureSnapshot=Y.value;const Ge=function Ec(ie,Y,H){return Y.children.map(Ae=>{for(const Ge of H.children)if(ie.shouldReuseRoute(Ae.value,Ge.value.snapshot))return Is(ie,Ae,Ge);return Is(ie,Ae)})}(ie,Y,H);return new Do(Ae,Ge)}{if(ie.shouldAttach(Y.value)){const kt=ie.retrieve(Y.value);if(null!==kt){const Zt=kt.route;return Zt.value._futureSnapshot=Y.value,Zt.children=Y.children.map(Dn=>Is(ie,Dn)),Zt}}const Ae=function Xc(ie){return new jr(new pe.X(ie.url),new pe.X(ie.params),new pe.X(ie.queryParams),new pe.X(ie.fragment),new pe.X(ie.data),ie.outlet,ie.component,ie)}(Y.value),Ge=Y.children.map(kt=>Is(ie,kt));return new Do(Ae,Ge)}}function Ks(ie){return"object"==typeof ie&&null!=ie&&!ie.outlets&&!ie.segmentPath}function Vo(ie){return"object"==typeof ie&&null!=ie&&ie.outlets}function yu(ie,Y,H,Ae,Ge){let kt={};if(Ae&&et(Ae,(Dn,ar)=>{kt[ar]=Array.isArray(Dn)?Dn.map(rr=>`${rr}`):`${Dn}`}),ie===Y)return new hr(H,kt,Ge);const Zt=nl(ie,Y,H);return new hr(Zt,kt,Ge)}function nl(ie,Y,H){const Ae={};return et(ie.children,(Ge,kt)=>{Ae[kt]=Ge===Y?H:nl(Ge,Y,H)}),new vr(ie.segments,Ae)}class au{constructor(Y,H,Ae){if(this.isAbsolute=Y,this.numberOfDoubleDots=H,this.commands=Ae,Y&&Ae.length>0&&Ks(Ae[0]))throw new Error("Root segment cannot have matrix parameters");const Ge=Ae.find(Vo);if(Ge&&Ge!==mt(Ae))throw new Error("{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class _u{constructor(Y,H,Ae){this.segmentGroup=Y,this.processChildren=H,this.index=Ae}}function Uc(ie,Y,H){if(ie||(ie=new vr([],{})),0===ie.segments.length&&ie.hasChildren())return ac(ie,Y,H);const Ae=function Wa(ie,Y,H){let Ae=0,Ge=Y;const kt={match:!1,pathIndex:0,commandIndex:0};for(;Ge<ie.segments.length;){if(Ae>=H.length)return kt;const Zt=ie.segments[Ge],Dn=H[Ae];if(Vo(Dn))break;const ar=`${Dn}`,rr=Ae<H.length-1?H[Ae+1]:null;if(Ge>0&&void 0===ar)break;if(ar&&rr&&"object"==typeof rr&&void 0===rr.outlets){if(!la(ar,rr,Zt))return kt;Ae+=2}else{if(!la(ar,{},Zt))return kt;Ae++}Ge++}return{match:!0,pathIndex:Ge,commandIndex:Ae}}(ie,Y,H),Ge=H.slice(Ae.commandIndex);if(Ae.match&&Ae.pathIndex<ie.segments.length){const kt=new vr(ie.segments.slice(0,Ae.pathIndex),{});return kt.children[ct]=new vr(ie.segments.slice(Ae.pathIndex),ie.children),ac(kt,0,Ge)}return Ae.match&&0===Ge.length?new vr(ie.segments,{}):Ae.match&&!ie.hasChildren()?lc(ie,Y,H):Ae.match?ac(ie,0,Ge):lc(ie,Y,H)}function ac(ie,Y,H){if(0===H.length)return new vr(ie.segments,{});{const Ae=function rl(ie){return Vo(ie[0])?ie[0].outlets:{[ct]:ie}}(H),Ge={};return et(Ae,(kt,Zt)=>{"string"==typeof kt&&(kt=[kt]),null!==kt&&(Ge[Zt]=Uc(ie.children[Zt],Y,kt))}),et(ie.children,(kt,Zt)=>{void 0===Ae[Zt]&&(Ge[Zt]=kt)}),new vr(ie.segments,Ge)}}function lc(ie,Y,H){const Ae=ie.segments.slice(0,Y);let Ge=0;for(;Ge<H.length;){const kt=H[Ge];if(Vo(kt)){const ar=cc(kt.outlets);return new vr(Ae,ar)}if(0===Ge&&Ks(H[0])){Ae.push(new ai(ie.segments[Y].path,$o(H[0]))),Ge++;continue}const Zt=Vo(kt)?kt.outlets[ct]:`${kt}`,Dn=Ge<H.length-1?H[Ge+1]:null;Zt&&Dn&&Ks(Dn)?(Ae.push(new ai(Zt,$o(Dn))),Ge+=2):(Ae.push(new ai(Zt,{})),Ge++)}return new vr(Ae,{})}function cc(ie){const Y={};return et(ie,(H,Ae)=>{"string"==typeof H&&(H=[H]),null!==H&&(Y[Ae]=lc(new vr([],{}),0,H))}),Y}function $o(ie){const Y={};return et(ie,(H,Ae)=>Y[Ae]=`${H}`),Y}function la(ie,Y,H){return ie==H.path&&zr(Y,H.parameters)}class Ia{constructor(Y,H,Ae,Ge){this.routeReuseStrategy=Y,this.futureState=H,this.currState=Ae,this.forwardEvent=Ge}activate(Y){const H=this.futureState._root,Ae=this.currState?this.currState._root:null;this.deactivateChildRoutes(H,Ae,Y),Ca(this.futureState.root),this.activateChildRoutes(H,Ae,Y)}deactivateChildRoutes(Y,H,Ae){const Ge=Sn(H);Y.children.forEach(kt=>{const Zt=kt.value.outlet;this.deactivateRoutes(kt,Ge[Zt],Ae),delete Ge[Zt]}),et(Ge,(kt,Zt)=>{this.deactivateRouteAndItsChildren(kt,Ae)})}deactivateRoutes(Y,H,Ae){const Ge=Y.value,kt=H?H.value:null;if(Ge===kt)if(Ge.component){const Zt=Ae.getContext(Ge.outlet);Zt&&this.deactivateChildRoutes(Y,H,Zt.children)}else this.deactivateChildRoutes(Y,H,Ae);else kt&&this.deactivateRouteAndItsChildren(H,Ae)}deactivateRouteAndItsChildren(Y,H){Y.value.component&&this.routeReuseStrategy.shouldDetach(Y.value.snapshot)?this.detachAndStoreRouteSubtree(Y,H):this.deactivateRouteAndOutlet(Y,H)}detachAndStoreRouteSubtree(Y,H){const Ae=H.getContext(Y.value.outlet),Ge=Ae&&Y.value.component?Ae.children:H,kt=Sn(Y);for(const Zt of Object.keys(kt))this.deactivateRouteAndItsChildren(kt[Zt],Ge);if(Ae&&Ae.outlet){const Zt=Ae.outlet.detach(),Dn=Ae.children.onOutletDeactivated();this.routeReuseStrategy.store(Y.value.snapshot,{componentRef:Zt,route:Y,contexts:Dn})}}deactivateRouteAndOutlet(Y,H){const Ae=H.getContext(Y.value.outlet),Ge=Ae&&Y.value.component?Ae.children:H,kt=Sn(Y);for(const Zt of Object.keys(kt))this.deactivateRouteAndItsChildren(kt[Zt],Ge);Ae&&Ae.outlet&&(Ae.outlet.deactivate(),Ae.children.onOutletDeactivated(),Ae.attachRef=null,Ae.resolver=null,Ae.route=null)}activateChildRoutes(Y,H,Ae){const Ge=Sn(H);Y.children.forEach(kt=>{this.activateRoutes(kt,Ge[kt.value.outlet],Ae),this.forwardEvent(new ft(kt.value.snapshot))}),Y.children.length&&this.forwardEvent(new hn(Y.value.snapshot))}activateRoutes(Y,H,Ae){const Ge=Y.value,kt=H?H.value:null;if(Ca(Ge),Ge===kt)if(Ge.component){const Zt=Ae.getOrCreateContext(Ge.outlet);this.activateChildRoutes(Y,H,Zt.children)}else this.activateChildRoutes(Y,H,Ae);else if(Ge.component){const Zt=Ae.getOrCreateContext(Ge.outlet);if(this.routeReuseStrategy.shouldAttach(Ge.snapshot)){const Dn=this.routeReuseStrategy.retrieve(Ge.snapshot);this.routeReuseStrategy.store(Ge.snapshot,null),Zt.children.onOutletReAttached(Dn.contexts),Zt.attachRef=Dn.componentRef,Zt.route=Dn.route.value,Zt.outlet&&Zt.outlet.attach(Dn.componentRef,Dn.route.value),Ca(Dn.route.value),this.activateChildRoutes(Y,null,Zt.children)}else{const Dn=function ca(ie){for(let Y=ie.parent;Y;Y=Y.parent){const H=Y.routeConfig;if(H&&H._loadedConfig)return H._loadedConfig;if(H&&H.component)return null}return null}(Ge.snapshot),ar=Dn?Dn.module.componentFactoryResolver:null;Zt.attachRef=null,Zt.route=Ge,Zt.resolver=ar,Zt.outlet&&Zt.outlet.activateWith(Ge,ar),this.activateChildRoutes(Y,null,Zt.children)}}else this.activateChildRoutes(Y,null,Ae)}}class Ol{constructor(Y,H){this.routes=Y,this.module=H}}function il(ie){return"function"==typeof ie}function ya(ie){return ie instanceof hr}const vo=Symbol("INITIAL_VALUE");function Da(){return(0,Te.w)(ie=>function qe(...ie){const Y=(0,tt.yG)(ie),H=(0,tt.jO)(ie),{args:Ae,keys:Ge}=(0,it.D)(ie);if(0===Ae.length)return(0,ve.D)([],Y);const kt=new h.y(function Fe(ie,Y,H=Ne.y){return Ae=>{He(Y,()=>{const{length:Ge}=ie,kt=new Array(Ge);let Zt=Ge,Dn=Ge;for(let ar=0;ar<Ge;ar++)He(Y,()=>{const rr=(0,ve.D)(ie[ar],Y);let hs=!1;rr.subscribe((0,nt.x)(Ae,Vi=>{kt[ar]=Vi,hs||(hs=!0,Dn--),Dn||Ae.next(H(kt.slice()))},()=>{--Zt||Ae.complete()}))},Ae)},Ae)}}(Ae,Y,Ge?Zt=>(0,Qe.n)(Ge,Zt):Ne.y));return H?kt.pipe((0,I.Z)(H)):kt}(ie.map(Y=>Y.pipe((0,Je.q)(1),(0,Z.O)(vo)))).pipe((0,ne.R)((Y,H)=>{let Ae=!1;return H.reduce((Ge,kt,Zt)=>Ge!==vo?Ge:(kt===vo&&(Ae=!0),Ae||!1!==kt&&Zt!==H.length-1&&!ya(kt)?Ge:kt),Y)},vo),(0,ae.h)(Y=>Y!==vo),(0,We.U)(Y=>ya(Y)?Y:!0===Y),(0,Je.q)(1)))}class xu{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.children=new Wl,this.attachRef=null}}class Wl{constructor(){this.contexts=new Map}onChildOutletCreated(Y,H){const Ae=this.getOrCreateContext(Y);Ae.outlet=H,this.contexts.set(Y,Ae)}onChildOutletDestroyed(Y){const H=this.getContext(Y);H&&(H.outlet=null,H.attachRef=null)}onOutletDeactivated(){const Y=this.contexts;return this.contexts=new Map,Y}onOutletReAttached(Y){this.contexts=Y}getOrCreateContext(Y){let H=this.getContext(Y);return H||(H=new xu,this.contexts.set(Y,H)),H}getContext(Y){return this.contexts.get(Y)||null}}let Tc=(()=>{class ie{constructor(H,Ae,Ge,kt,Zt){this.parentContexts=H,this.location=Ae,this.resolver=Ge,this.changeDetector=Zt,this.activated=null,this._activatedRoute=null,this.activateEvents=new C.vpe,this.deactivateEvents=new C.vpe,this.attachEvents=new C.vpe,this.detachEvents=new C.vpe,this.name=kt||ct,H.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const H=this.parentContexts.getContext(this.name);H&&H.route&&(H.attachRef?this.attach(H.attachRef,H.route):this.activateWith(H.route,H.resolver||null))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Error("Outlet is not activated");this.location.detach();const H=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(H.instance),H}attach(H,Ae){this.activated=H,this._activatedRoute=Ae,this.location.insert(H.hostView),this.attachEvents.emit(H.instance)}deactivate(){if(this.activated){const H=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(H)}}activateWith(H,Ae){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=H;const Zt=(Ae=Ae||this.resolver).resolveComponentFactory(H._futureSnapshot.routeConfig.component),Dn=this.parentContexts.getOrCreateContext(this.name).children,ar=new Jc(H,Dn,this.location.injector);this.activated=this.location.createComponent(Zt,this.location.length,ar),this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return ie.\u0275fac=function(H){return new(H||ie)(C.Y36(Wl),C.Y36(C.s_b),C.Y36(C._Vd),C.$8M("name"),C.Y36(C.sBO))},ie.\u0275dir=C.lG2({type:ie,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"]}),ie})();class Jc{constructor(Y,H,Ae){this.route=Y,this.childContexts=H,this.parent=Ae}get(Y,H){return Y===jr?this.route:Y===Wl?this.childContexts:this.parent.get(Y,H)}}let sl=(()=>{class ie{}return ie.\u0275fac=function(H){return new(H||ie)},ie.\u0275cmp=C.Xpm({type:ie,selectors:[["ng-component"]],decls:1,vars:0,template:function(H,Ae){1&H&&C._UZ(0,"router-outlet")},directives:[Tc],encapsulation:2}),ie})();function ql(ie,Y=""){for(let H=0;H<ie.length;H++){const Ae=ie[H];Cc(Ae,Ns(Y,Ae))}}function Cc(ie,Y){ie.children&&ql(ie.children,Y)}function Ns(ie,Y){return Y?ie||Y.path?ie&&!Y.path?`${ie}/`:!ie&&Y.path?Y.path:`${ie}/${Y.path}`:"":ie}function Le(ie){const Y=ie.children&&ie.children.map(Le),H=Y?Object.assign(Object.assign({},ie),{children:Y}):Object.assign({},ie);return!H.component&&(Y||H.loadChildren)&&H.outlet&&H.outlet!==ct&&(H.component=sl),H}function Et(ie){return ie.outlet||ct}function Re(ie,Y){const H=ie.filter(Ae=>Et(Ae)===Y);return H.push(...ie.filter(Ae=>Et(Ae)!==Y)),H}const Mt={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function En(ie,Y,H){var Ae;if(""===Y.path)return"full"===Y.pathMatch&&(ie.hasChildren()||H.length>0)?Object.assign({},Mt):{matched:!0,consumedSegments:[],remainingSegments:H,parameters:{},positionalParamSegments:{}};const kt=(Y.matcher||Mr)(H,ie,Y);if(!kt)return Object.assign({},Mt);const Zt={};et(kt.posParams,(ar,rr)=>{Zt[rr]=ar.path});const Dn=kt.consumed.length>0?Object.assign(Object.assign({},Zt),kt.consumed[kt.consumed.length-1].parameters):Zt;return{matched:!0,consumedSegments:kt.consumed,remainingSegments:H.slice(kt.consumed.length),parameters:Dn,positionalParamSegments:null!==(Ae=kt.posParams)&&void 0!==Ae?Ae:{}}}function yr(ie,Y,H,Ae,Ge="corrected"){if(H.length>0&&function js(ie,Y,H){return H.some(Ae=>Lt(ie,Y,Ae)&&Et(Ae)!==ct)}(ie,H,Ae)){const Zt=new vr(Y,function Pi(ie,Y,H,Ae){const Ge={};Ge[ct]=Ae,Ae._sourceSegment=ie,Ae._segmentIndexShift=Y.length;for(const kt of H)if(""===kt.path&&Et(kt)!==ct){const Zt=new vr([],{});Zt._sourceSegment=ie,Zt._segmentIndexShift=Y.length,Ge[Et(kt)]=Zt}return Ge}(ie,Y,Ae,new vr(H,ie.children)));return Zt._sourceSegment=ie,Zt._segmentIndexShift=Y.length,{segmentGroup:Zt,slicedSegments:[]}}if(0===H.length&&function Ms(ie,Y,H){return H.some(Ae=>Lt(ie,Y,Ae))}(ie,H,Ae)){const Zt=new vr(ie.segments,function Fr(ie,Y,H,Ae,Ge,kt){const Zt={};for(const Dn of Ae)if(Lt(ie,H,Dn)&&!Ge[Et(Dn)]){const ar=new vr([],{});ar._sourceSegment=ie,ar._segmentIndexShift="legacy"===kt?ie.segments.length:Y.length,Zt[Et(Dn)]=ar}return Object.assign(Object.assign({},Ge),Zt)}(ie,Y,H,Ae,ie.children,Ge));return Zt._sourceSegment=ie,Zt._segmentIndexShift=Y.length,{segmentGroup:Zt,slicedSegments:H}}const kt=new vr(ie.segments,ie.children);return kt._sourceSegment=ie,kt._segmentIndexShift=Y.length,{segmentGroup:kt,slicedSegments:H}}function Lt(ie,Y,H){return(!(ie.hasChildren()||Y.length>0)||"full"!==H.pathMatch)&&""===H.path}function Ut(ie,Y,H,Ae){return!!(Et(ie)===Ae||Ae!==ct&&Lt(Y,H,ie))&&("**"===ie.path||En(Y,ie,H).matched)}function _n(ie,Y,H){return 0===Y.length&&!ie.children[H]}class Xn{constructor(Y){this.segmentGroup=Y||null}}class Tr{constructor(Y){this.urlTree=Y}}function ri(ie){return we(new Xn(ie))}function yi(ie){return we(new Tr(ie))}class io{constructor(Y,H,Ae,Ge,kt){this.configLoader=H,this.urlSerializer=Ae,this.urlTree=Ge,this.config=kt,this.allowRedirects=!0,this.ngModule=Y.get(C.h0i)}apply(){const Y=yr(this.urlTree.root,[],[],this.config).segmentGroup,H=new vr(Y.segments,Y.children);return this.expandSegmentGroup(this.ngModule,this.config,H,ct).pipe((0,We.U)(kt=>this.createUrlTree(Ze(kt),this.urlTree.queryParams,this.urlTree.fragment))).pipe(P(kt=>{if(kt instanceof Tr)return this.allowRedirects=!1,this.match(kt.urlTree);throw kt instanceof Xn?this.noMatchError(kt):kt}))}match(Y){return this.expandSegmentGroup(this.ngModule,this.config,Y.root,ct).pipe((0,We.U)(Ge=>this.createUrlTree(Ze(Ge),Y.queryParams,Y.fragment))).pipe(P(Ge=>{throw Ge instanceof Xn?this.noMatchError(Ge):Ge}))}noMatchError(Y){return new Error(`Cannot match any routes. URL Segment: '${Y.segmentGroup}'`)}createUrlTree(Y,H,Ae){const Ge=Y.segments.length>0?new vr([],{[ct]:Y}):Y;return new hr(Ge,H,Ae)}expandSegmentGroup(Y,H,Ae,Ge){return 0===Ae.segments.length&&Ae.hasChildren()?this.expandChildren(Y,H,Ae).pipe((0,We.U)(kt=>new vr([],kt))):this.expandSegment(Y,Ae,H,Ae.segments,Ge,!0)}expandChildren(Y,H,Ae){const Ge=[];for(const kt of Object.keys(Ae.children))"primary"===kt?Ge.unshift(kt):Ge.push(kt);return(0,ve.D)(Ge).pipe(F(kt=>{const Zt=Ae.children[kt],Dn=Re(H,kt);return this.expandSegmentGroup(Y,Dn,Zt,kt).pipe((0,We.U)(ar=>({segment:ar,outlet:kt})))}),(0,ne.R)((kt,Zt)=>(kt[Zt.outlet]=Zt.segment,kt),{}),function Ke(ie,Y){const H=arguments.length>=2;return Ae=>Ae.pipe(ie?(0,ae.h)((Ge,kt)=>ie(Ge,kt,Ae)):Ne.y,R(1),H?(0,De.d)(Y):(0,z.T)(()=>new Ce.K))}())}expandSegment(Y,H,Ae,Ge,kt,Zt){return(0,ve.D)(Ae).pipe(F(Dn=>this.expandSegmentAgainstRoute(Y,H,Ae,Dn,Ge,kt,Zt).pipe(P(rr=>{if(rr instanceof Xn)return(0,se.of)(null);throw rr}))),(0,Oe.P)(Dn=>!!Dn),P((Dn,ar)=>{if(Dn instanceof Ce.K||"EmptyError"===Dn.name)return _n(H,Ge,kt)?(0,se.of)(new vr([],{})):ri(H);throw Dn}))}expandSegmentAgainstRoute(Y,H,Ae,Ge,kt,Zt,Dn){return Ut(Ge,H,kt,Zt)?void 0===Ge.redirectTo?this.matchSegmentAgainstRoute(Y,H,Ge,kt,Zt):Dn&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(Y,H,Ae,Ge,kt,Zt):ri(H):ri(H)}expandSegmentAgainstRouteUsingRedirect(Y,H,Ae,Ge,kt,Zt){return"**"===Ge.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(Y,Ae,Ge,Zt):this.expandRegularSegmentAgainstRouteUsingRedirect(Y,H,Ae,Ge,kt,Zt)}expandWildCardWithParamsAgainstRouteUsingRedirect(Y,H,Ae,Ge){const kt=this.applyRedirectCommands([],Ae.redirectTo,{});return Ae.redirectTo.startsWith("/")?yi(kt):this.lineralizeSegments(Ae,kt).pipe((0,G.z)(Zt=>{const Dn=new vr(Zt,{});return this.expandSegment(Y,Dn,H,Zt,Ge,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(Y,H,Ae,Ge,kt,Zt){const{matched:Dn,consumedSegments:ar,remainingSegments:rr,positionalParamSegments:hs}=En(H,Ge,kt);if(!Dn)return ri(H);const Vi=this.applyRedirectCommands(ar,Ge.redirectTo,hs);return Ge.redirectTo.startsWith("/")?yi(Vi):this.lineralizeSegments(Ge,Vi).pipe((0,G.z)(Xs=>this.expandSegment(Y,H,Ae,Xs.concat(rr),Zt,!1)))}matchSegmentAgainstRoute(Y,H,Ae,Ge,kt){if("**"===Ae.path)return Ae.loadChildren?(Ae._loadedConfig?(0,se.of)(Ae._loadedConfig):this.configLoader.load(Y.injector,Ae)).pipe((0,We.U)(Vi=>(Ae._loadedConfig=Vi,new vr(Ge,{})))):(0,se.of)(new vr(Ge,{}));const{matched:Zt,consumedSegments:Dn,remainingSegments:ar}=En(H,Ae,Ge);return Zt?this.getChildConfig(Y,Ae,Ge).pipe((0,G.z)(hs=>{const Vi=hs.module,Xs=hs.routes,{segmentGroup:oo,slicedSegments:fo}=yr(H,Dn,ar,Xs),Yu=new vr(oo.segments,oo.children);if(0===fo.length&&Yu.hasChildren())return this.expandChildren(Vi,Xs,Yu).pipe((0,We.U)(dc=>new vr(Dn,dc)));if(0===Xs.length&&0===fo.length)return(0,se.of)(new vr(Dn,{}));const Hh=Et(Ae)===kt;return this.expandSegment(Vi,Yu,Xs,fo,Hh?ct:kt,!0).pipe((0,We.U)(Na=>new vr(Dn.concat(Na.segments),Na.children)))})):ri(H)}getChildConfig(Y,H,Ae){return H.children?(0,se.of)(new Ol(H.children,Y)):H.loadChildren?void 0!==H._loadedConfig?(0,se.of)(H._loadedConfig):this.runCanLoadGuards(Y.injector,H,Ae).pipe((0,G.z)(Ge=>Ge?this.configLoader.load(Y.injector,H).pipe((0,We.U)(kt=>(H._loadedConfig=kt,kt))):function Vs(ie){return we(br(`Cannot load children because the guard of the route "path: '${ie.path}'" returned false`))}(H))):(0,se.of)(new Ol([],Y))}runCanLoadGuards(Y,H,Ae){const Ge=H.canLoad;if(!Ge||0===Ge.length)return(0,se.of)(!0);const kt=Ge.map(Zt=>{const Dn=Y.get(Zt);let ar;if(function Bs(ie){return ie&&il(ie.canLoad)}(Dn))ar=Dn.canLoad(H,Ae);else{if(!il(Dn))throw new Error("Invalid CanLoad guard");ar=Dn(H,Ae)}return ht(ar)});return(0,se.of)(kt).pipe(Da(),(0,$e.b)(Zt=>{if(!ya(Zt))return;const Dn=br(`Redirecting to "${this.urlSerializer.serialize(Zt)}"`);throw Dn.url=Zt,Dn}),(0,We.U)(Zt=>!0===Zt))}lineralizeSegments(Y,H){let Ae=[],Ge=H.root;for(;;){if(Ae=Ae.concat(Ge.segments),0===Ge.numberOfChildren)return(0,se.of)(Ae);if(Ge.numberOfChildren>1||!Ge.children[ct])return we(new Error(`Only absolute redirects can have named outlets. redirectTo: '${Y.redirectTo}'`));Ge=Ge.children[ct]}}applyRedirectCommands(Y,H,Ae){return this.applyRedirectCreatreUrlTree(H,this.urlSerializer.parse(H),Y,Ae)}applyRedirectCreatreUrlTree(Y,H,Ae,Ge){const kt=this.createSegmentGroup(Y,H.root,Ae,Ge);return new hr(kt,this.createQueryParams(H.queryParams,this.urlTree.queryParams),H.fragment)}createQueryParams(Y,H){const Ae={};return et(Y,(Ge,kt)=>{if("string"==typeof Ge&&Ge.startsWith(":")){const Dn=Ge.substring(1);Ae[kt]=H[Dn]}else Ae[kt]=Ge}),Ae}createSegmentGroup(Y,H,Ae,Ge){const kt=this.createSegments(Y,H.segments,Ae,Ge);let Zt={};return et(H.children,(Dn,ar)=>{Zt[ar]=this.createSegmentGroup(Y,Dn,Ae,Ge)}),new vr(kt,Zt)}createSegments(Y,H,Ae,Ge){return H.map(kt=>kt.path.startsWith(":")?this.findPosParam(Y,kt,Ge):this.findOrReturn(kt,Ae))}findPosParam(Y,H,Ae){const Ge=Ae[H.path.substring(1)];if(!Ge)throw new Error(`Cannot redirect to '${Y}'. Cannot find '${H.path}'.`);return Ge}findOrReturn(Y,H){let Ae=0;for(const Ge of H){if(Ge.path===Y.path)return H.splice(Ae),Ge;Ae++}return Y}}function Ze(ie){const Y={};for(const Ae of Object.keys(ie.children)){const kt=Ze(ie.children[Ae]);(kt.segments.length>0||kt.hasChildren())&&(Y[Ae]=kt)}return function $i(ie){if(1===ie.numberOfChildren&&ie.children[ct]){const Y=ie.children[ct];return new vr(ie.segments.concat(Y.segments),Y.children)}return ie}(new vr(ie.segments,Y))}class _e{constructor(Y){this.path=Y,this.route=this.path[this.path.length-1]}}class V{constructor(Y,H){this.component=Y,this.route=H}}function K(ie,Y,H){const Ae=ie._root;return er(Ae,Y?Y._root:null,H,[Ae.value])}function Qt(ie,Y,H){const Ae=function xn(ie){if(!ie)return null;for(let Y=ie.parent;Y;Y=Y.parent){const H=Y.routeConfig;if(H&&H._loadedConfig)return H._loadedConfig}return null}(Y);return(Ae?Ae.module.injector:H).get(ie)}function er(ie,Y,H,Ae,Ge={canDeactivateChecks:[],canActivateChecks:[]}){const kt=Sn(Y);return ie.children.forEach(Zt=>{(function Lr(ie,Y,H,Ae,Ge={canDeactivateChecks:[],canActivateChecks:[]}){const kt=ie.value,Zt=Y?Y.value:null,Dn=H?H.getContext(ie.value.outlet):null;if(Zt&&kt.routeConfig===Zt.routeConfig){const ar=function pi(ie,Y,H){if("function"==typeof H)return H(ie,Y);switch(H){case"pathParamsChange":return!Zi(ie.url,Y.url);case"pathParamsOrQueryParamsChange":return!Zi(ie.url,Y.url)||!zr(ie.queryParams,Y.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Sa(ie,Y)||!zr(ie.queryParams,Y.queryParams);default:return!Sa(ie,Y)}}(Zt,kt,kt.routeConfig.runGuardsAndResolvers);ar?Ge.canActivateChecks.push(new _e(Ae)):(kt.data=Zt.data,kt._resolvedData=Zt._resolvedData),er(ie,Y,kt.component?Dn?Dn.children:null:H,Ae,Ge),ar&&Dn&&Dn.outlet&&Dn.outlet.isActivated&&Ge.canDeactivateChecks.push(new V(Dn.outlet.component,Zt))}else Zt&&fi(Y,Dn,Ge),Ge.canActivateChecks.push(new _e(Ae)),er(ie,null,kt.component?Dn?Dn.children:null:H,Ae,Ge)})(Zt,kt[Zt.value.outlet],H,Ae.concat([Zt.value]),Ge),delete kt[Zt.value.outlet]}),et(kt,(Zt,Dn)=>fi(Zt,H.getContext(Dn),Ge)),Ge}function fi(ie,Y,H){const Ae=Sn(ie),Ge=ie.value;et(Ae,(kt,Zt)=>{fi(kt,Ge.component?Y?Y.children.getContext(Zt):null:Y,H)}),H.canDeactivateChecks.push(new V(Ge.component&&Y&&Y.outlet&&Y.outlet.isActivated?Y.outlet.component:null,Ge))}class ua{}function Xo(ie){return new h.y(Y=>Y.error(ie))}class Ro{constructor(Y,H,Ae,Ge,kt,Zt){this.rootComponentType=Y,this.config=H,this.urlTree=Ae,this.url=Ge,this.paramsInheritanceStrategy=kt,this.relativeLinkResolution=Zt}recognize(){const Y=yr(this.urlTree.root,[],[],this.config.filter(Zt=>void 0===Zt.redirectTo),this.relativeLinkResolution).segmentGroup,H=this.processSegmentGroup(this.config,Y,ct);if(null===H)return null;const Ae=new Us([],Object.freeze({}),Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,{},ct,this.rootComponentType,null,this.urlTree.root,-1,{}),Ge=new Do(Ae,H),kt=new ji(this.url,Ge);return this.inheritParamsAndData(kt._root),kt}inheritParamsAndData(Y){const H=Y.value,Ae=ni(H,this.paramsInheritanceStrategy);H.params=Object.freeze(Ae.params),H.data=Object.freeze(Ae.data),Y.children.forEach(Ge=>this.inheritParamsAndData(Ge))}processSegmentGroup(Y,H,Ae){return 0===H.segments.length&&H.hasChildren()?this.processChildren(Y,H):this.processSegment(Y,H,H.segments,Ae)}processChildren(Y,H){const Ae=[];for(const kt of Object.keys(H.children)){const Zt=H.children[kt],Dn=Re(Y,kt),ar=this.processSegmentGroup(Dn,Zt,kt);if(null===ar)return null;Ae.push(...ar)}const Ge=Gl(Ae);return function wu(ie){ie.sort((Y,H)=>Y.value.outlet===ct?-1:H.value.outlet===ct?1:Y.value.outlet.localeCompare(H.value.outlet))}(Ge),Ge}processSegment(Y,H,Ae,Ge){for(const kt of Y){const Zt=this.processSegmentAgainstRoute(kt,H,Ae,Ge);if(null!==Zt)return Zt}return _n(H,Ae,Ge)?[]:null}processSegmentAgainstRoute(Y,H,Ae,Ge){if(Y.redirectTo||!Ut(Y,H,Ae,Ge))return null;let kt,Zt=[],Dn=[];if("**"===Y.path){const oo=Ae.length>0?mt(Ae).parameters:{};kt=new Us(Ae,oo,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,lu(Y),Et(Y),Y.component,Y,pd(H),qu(H)+Ae.length,Gu(Y))}else{const oo=En(H,Y,Ae);if(!oo.matched)return null;Zt=oo.consumedSegments,Dn=oo.remainingSegments,kt=new Us(Zt,oo.parameters,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,lu(Y),Et(Y),Y.component,Y,pd(H),qu(H)+Zt.length,Gu(Y))}const ar=function Jo(ie){return ie.children?ie.children:ie.loadChildren?ie._loadedConfig.routes:[]}(Y),{segmentGroup:rr,slicedSegments:hs}=yr(H,Zt,Dn,ar.filter(oo=>void 0===oo.redirectTo),this.relativeLinkResolution);if(0===hs.length&&rr.hasChildren()){const oo=this.processChildren(ar,rr);return null===oo?null:[new Do(kt,oo)]}if(0===ar.length&&0===hs.length)return[new Do(kt,[])];const Vi=Et(Y)===Ge,Xs=this.processSegment(ar,rr,hs,Vi?ct:Ge);return null===Xs?null:[new Do(kt,Xs)]}}function bu(ie){const Y=ie.value.routeConfig;return Y&&""===Y.path&&void 0===Y.redirectTo}function Gl(ie){const Y=[],H=new Set;for(const Ae of ie){if(!bu(Ae)){Y.push(Ae);continue}const Ge=Y.find(kt=>Ae.value.routeConfig===kt.value.routeConfig);void 0!==Ge?(Ge.children.push(...Ae.children),H.add(Ge)):Y.push(Ae)}for(const Ae of H){const Ge=Gl(Ae.children);Y.push(new Do(Ae.value,Ge))}return Y.filter(Ae=>!H.has(Ae))}function pd(ie){let Y=ie;for(;Y._sourceSegment;)Y=Y._sourceSegment;return Y}function qu(ie){let Y=ie,H=Y._segmentIndexShift?Y._segmentIndexShift:0;for(;Y._sourceSegment;)Y=Y._sourceSegment,H+=Y._segmentIndexShift?Y._segmentIndexShift:0;return H-1}function lu(ie){return ie.data||{}}function Gu(ie){return ie.resolve||{}}function ml(ie){return[...Object.keys(ie),...Object.getOwnPropertySymbols(ie)]}function Zl(ie){return(0,Te.w)(Y=>{const H=ie(Y);return H?(0,ve.D)(H).pipe((0,We.U)(()=>Y)):(0,se.of)(Y)})}class yo extends class $l{shouldDetach(Y){return!1}store(Y,H){}shouldAttach(Y){return!1}retrieve(Y){return null}shouldReuseRoute(Y,H){return Y.routeConfig===H.routeConfig}}{}const uc=new C.OlP("ROUTES");class Sc{constructor(Y,H,Ae,Ge){this.injector=Y,this.compiler=H,this.onLoadStartListener=Ae,this.onLoadEndListener=Ge}load(Y,H){if(H._loader$)return H._loader$;this.onLoadStartListener&&this.onLoadStartListener(H);const Ge=this.loadModuleFactory(H.loadChildren).pipe((0,We.U)(kt=>{this.onLoadEndListener&&this.onLoadEndListener(H);const Zt=kt.create(Y);return new Ol(fn(Zt.injector.get(uc,void 0,C.XFs.Self|C.XFs.Optional)).map(Le),Zt)}),P(kt=>{throw H._loader$=void 0,kt}));return H._loader$=new oe(Ge,()=>new re.x).pipe(Se()),H._loader$}loadModuleFactory(Y){return ht(Y()).pipe((0,G.z)(H=>H instanceof C.YKP?(0,se.of)(H):(0,ve.D)(this.compiler.compileModuleAsync(H))))}}class Qc{shouldProcessUrl(Y){return!0}extract(Y){return Y}merge(Y,H){return Y}}function ev(ie){throw ie}function nf(ie,Y,H){return Y.parse("/")}function So(ie,Y){return(0,se.of)(null)}const md={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},ol={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let ka=(()=>{class ie{constructor(H,Ae,Ge,kt,Zt,Dn,ar){this.rootComponentType=H,this.urlSerializer=Ae,this.rootContexts=Ge,this.location=kt,this.config=ar,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.disposed=!1,this.navigationId=0,this.currentPageId=0,this.isNgZoneEnabled=!1,this.events=new re.x,this.errorHandler=ev,this.malformedUriErrorHandler=nf,this.navigated=!1,this.lastSuccessfulId=-1,this.hooks={beforePreactivation:So,afterPreactivation:So},this.urlHandlingStrategy=new Qc,this.routeReuseStrategy=new yo,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.canceledNavigationResolution="replace",this.ngModule=Zt.get(C.h0i),this.console=Zt.get(C.c2e);const Vi=Zt.get(C.R0b);this.isNgZoneEnabled=Vi instanceof C.R0b&&C.R0b.isInAngularZone(),this.resetConfig(ar),this.currentUrlTree=function Nt(){return new hr(new vr([],{}),{},null)}(),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.configLoader=new Sc(Zt,Dn,Xs=>this.triggerEvent(new Nn(Xs)),Xs=>this.triggerEvent(new $n(Xs))),this.routerState=Hn(this.currentUrlTree,this.rootComponentType),this.transitions=new pe.X({id:0,targetPageId:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}get browserPageId(){var H;return null===(H=this.location.getState())||void 0===H?void 0:H.\u0275routerPageId}setupNavigations(H){const Ae=this.events;return H.pipe((0,ae.h)(Ge=>0!==Ge.id),(0,We.U)(Ge=>Object.assign(Object.assign({},Ge),{extractedUrl:this.urlHandlingStrategy.extract(Ge.rawUrl)})),(0,Te.w)(Ge=>{let kt=!1,Zt=!1;return(0,se.of)(Ge).pipe((0,$e.b)(Dn=>{this.currentNavigation={id:Dn.id,initialUrl:Dn.currentRawUrl,extractedUrl:Dn.extractedUrl,trigger:Dn.source,extras:Dn.extras,previousNavigation:this.lastSuccessfulNavigation?Object.assign(Object.assign({},this.lastSuccessfulNavigation),{previousNavigation:null}):null}}),(0,Te.w)(Dn=>{const ar=this.browserUrlTree.toString(),rr=!this.navigated||Dn.extractedUrl.toString()!==ar||ar!==this.currentUrlTree.toString();if(("reload"===this.onSameUrlNavigation||rr)&&this.urlHandlingStrategy.shouldProcessUrl(Dn.rawUrl))return hc(Dn.source)&&(this.browserUrlTree=Dn.extractedUrl),(0,se.of)(Dn).pipe((0,Te.w)(Vi=>{const Xs=this.transitions.getValue();return Ae.next(new be(Vi.id,this.serializeUrl(Vi.extractedUrl),Vi.source,Vi.restoredState)),Xs!==this.transitions.getValue()?Q.E:Promise.resolve(Vi)}),function Me(ie,Y,H,Ae){return(0,Te.w)(Ge=>function ko(ie,Y,H,Ae,Ge){return new io(ie,Y,H,Ae,Ge).apply()}(ie,Y,H,Ge.extractedUrl,Ae).pipe((0,We.U)(kt=>Object.assign(Object.assign({},Ge),{urlAfterRedirects:kt}))))}(this.ngModule.injector,this.configLoader,this.urlSerializer,this.config),(0,$e.b)(Vi=>{this.currentNavigation=Object.assign(Object.assign({},this.currentNavigation),{finalUrl:Vi.urlAfterRedirects})}),function Ts(ie,Y,H,Ae,Ge){return(0,G.z)(kt=>function ha(ie,Y,H,Ae,Ge="emptyOnly",kt="legacy"){try{const Zt=new Ro(ie,Y,H,Ae,Ge,kt).recognize();return null===Zt?Xo(new ua):(0,se.of)(Zt)}catch(Zt){return Xo(Zt)}}(ie,Y,kt.urlAfterRedirects,H(kt.urlAfterRedirects),Ae,Ge).pipe((0,We.U)(Zt=>Object.assign(Object.assign({},kt),{targetSnapshot:Zt}))))}(this.rootComponentType,this.config,Vi=>this.serializeUrl(Vi),this.paramsInheritanceStrategy,this.relativeLinkResolution),(0,$e.b)(Vi=>{if("eager"===this.urlUpdateStrategy){if(!Vi.extras.skipLocationChange){const oo=this.urlHandlingStrategy.merge(Vi.urlAfterRedirects,Vi.rawUrl);this.setBrowserUrl(oo,Vi)}this.browserUrlTree=Vi.urlAfterRedirects}const Xs=new lt(Vi.id,this.serializeUrl(Vi.extractedUrl),this.serializeUrl(Vi.urlAfterRedirects),Vi.targetSnapshot);Ae.next(Xs)}));if(rr&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:Xs,extractedUrl:oo,source:fo,restoredState:Yu,extras:Hh}=Dn,yl=new be(Xs,this.serializeUrl(oo),fo,Yu);Ae.next(yl);const Na=Hn(oo,this.rootComponentType).snapshot;return(0,se.of)(Object.assign(Object.assign({},Dn),{targetSnapshot:Na,urlAfterRedirects:oo,extras:Object.assign(Object.assign({},Hh),{skipLocationChange:!1,replaceUrl:!1})}))}return this.rawUrlTree=Dn.rawUrl,Dn.resolve(null),Q.E}),Zl(Dn=>{const{targetSnapshot:ar,id:rr,extractedUrl:hs,rawUrl:Vi,extras:{skipLocationChange:Xs,replaceUrl:oo}}=Dn;return this.hooks.beforePreactivation(ar,{navigationId:rr,appliedUrlTree:hs,rawUrlTree:Vi,skipLocationChange:!!Xs,replaceUrl:!!oo})}),(0,$e.b)(Dn=>{const ar=new Tt(Dn.id,this.serializeUrl(Dn.extractedUrl),this.serializeUrl(Dn.urlAfterRedirects),Dn.targetSnapshot);this.triggerEvent(ar)}),(0,We.U)(Dn=>Object.assign(Object.assign({},Dn),{guards:K(Dn.targetSnapshot,Dn.currentSnapshot,this.rootContexts)})),function es(ie,Y){return(0,G.z)(H=>{const{targetSnapshot:Ae,currentSnapshot:Ge,guards:{canActivateChecks:kt,canDeactivateChecks:Zt}}=H;return 0===Zt.length&&0===kt.length?(0,se.of)(Object.assign(Object.assign({},H),{guardsResult:!0})):function Ds(ie,Y,H,Ae){return(0,ve.D)(ie).pipe((0,G.z)(Ge=>function Es(ie,Y,H,Ae,Ge){const kt=Y&&Y.routeConfig?Y.routeConfig.canDeactivate:null;if(!kt||0===kt.length)return(0,se.of)(!0);const Zt=kt.map(Dn=>{const ar=Qt(Dn,Y,Ge);let rr;if(function Yo(ie){return ie&&il(ie.canDeactivate)}(ar))rr=ht(ar.canDeactivate(ie,Y,H,Ae));else{if(!il(ar))throw new Error("Invalid CanDeactivate guard");rr=ht(ar(ie,Y,H,Ae))}return rr.pipe((0,Oe.P)())});return(0,se.of)(Zt).pipe(Da())}(Ge.component,Ge.route,H,Y,Ae)),(0,Oe.P)(Ge=>!0!==Ge,!0))}(Zt,Ae,Ge,ie).pipe((0,G.z)(Dn=>Dn&&function Fl(ie){return"boolean"==typeof ie}(Dn)?function Ko(ie,Y,H,Ae){return(0,ve.D)(Y).pipe(F(Ge=>(0,L.z)(function Ho(ie,Y){return null!==ie&&Y&&Y(new yn(ie)),(0,se.of)(!0)}(Ge.route.parent,Ae),function so(ie,Y){return null!==ie&&Y&&Y(new ke(ie)),(0,se.of)(!0)}(Ge.route,Ae),function No(ie,Y,H){const Ae=Y[Y.length-1],kt=Y.slice(0,Y.length-1).reverse().map(Zt=>function gt(ie){const Y=ie.routeConfig?ie.routeConfig.canActivateChild:null;return Y&&0!==Y.length?{node:ie,guards:Y}:null}(Zt)).filter(Zt=>null!==Zt).map(Zt=>W(()=>{const Dn=Zt.guards.map(ar=>{const rr=Qt(ar,Zt.node,H);let hs;if(function Bc(ie){return ie&&il(ie.canActivateChild)}(rr))hs=ht(rr.canActivateChild(Ae,ie));else{if(!il(rr))throw new Error("Invalid CanActivateChild guard");hs=ht(rr(Ae,ie))}return hs.pipe((0,Oe.P)())});return(0,se.of)(Dn).pipe(Da())}));return(0,se.of)(kt).pipe(Da())}(ie,Ge.path,H),function qs(ie,Y,H){const Ae=Y.routeConfig?Y.routeConfig.canActivate:null;if(!Ae||0===Ae.length)return(0,se.of)(!0);const Ge=Ae.map(kt=>W(()=>{const Zt=Qt(kt,Y,H);let Dn;if(function zl(ie){return ie&&il(ie.canActivate)}(Zt))Dn=ht(Zt.canActivate(Y,ie));else{if(!il(Zt))throw new Error("Invalid CanActivate guard");Dn=ht(Zt(Y,ie))}return Dn.pipe((0,Oe.P)())}));return(0,se.of)(Ge).pipe(Da())}(ie,Ge.route,H))),(0,Oe.P)(Ge=>!0!==Ge,!0))}(Ae,kt,ie,Y):(0,se.of)(Dn)),(0,We.U)(Dn=>Object.assign(Object.assign({},H),{guardsResult:Dn})))})}(this.ngModule.injector,Dn=>this.triggerEvent(Dn)),(0,$e.b)(Dn=>{if(ya(Dn.guardsResult)){const rr=br(`Redirecting to "${this.serializeUrl(Dn.guardsResult)}"`);throw rr.url=Dn.guardsResult,rr}const ar=new Ft(Dn.id,this.serializeUrl(Dn.extractedUrl),this.serializeUrl(Dn.urlAfterRedirects),Dn.targetSnapshot,!!Dn.guardsResult);this.triggerEvent(ar)}),(0,ae.h)(Dn=>!!Dn.guardsResult||(this.restoreHistory(Dn),this.cancelNavigationTransition(Dn,""),!1)),Zl(Dn=>{if(Dn.guards.canActivateChecks.length)return(0,se.of)(Dn).pipe((0,$e.b)(ar=>{const rr=new $t(ar.id,this.serializeUrl(ar.extractedUrl),this.serializeUrl(ar.urlAfterRedirects),ar.targetSnapshot);this.triggerEvent(rr)}),(0,Te.w)(ar=>{let rr=!1;return(0,se.of)(ar).pipe(function ef(ie,Y){return(0,G.z)(H=>{const{targetSnapshot:Ae,guards:{canActivateChecks:Ge}}=H;if(!Ge.length)return(0,se.of)(H);let kt=0;return(0,ve.D)(Ge).pipe(F(Zt=>function Qo(ie,Y,H,Ae){return function Lh(ie,Y,H,Ae){const Ge=ml(ie);if(0===Ge.length)return(0,se.of)({});const kt={};return(0,ve.D)(Ge).pipe((0,G.z)(Zt=>function gd(ie,Y,H,Ae){const Ge=Qt(ie,Y,Ae);return ht(Ge.resolve?Ge.resolve(Y,H):Ge(Y,H))}(ie[Zt],Y,H,Ae).pipe((0,$e.b)(Dn=>{kt[Zt]=Dn}))),R(1),(0,G.z)(()=>ml(kt).length===Ge.length?(0,se.of)(kt):Q.E))}(ie._resolve,ie,Y,Ae).pipe((0,We.U)(kt=>(ie._resolvedData=kt,ie.data=Object.assign(Object.assign({},ie.data),ni(ie,H).resolve),null)))}(Zt.route,Ae,ie,Y)),(0,$e.b)(()=>kt++),R(1),(0,G.z)(Zt=>kt===Ge.length?(0,se.of)(H):Q.E))})}(this.paramsInheritanceStrategy,this.ngModule.injector),(0,$e.b)({next:()=>rr=!0,complete:()=>{rr||(this.restoreHistory(ar),this.cancelNavigationTransition(ar,"At least one route resolver didn't emit any value."))}}))}),(0,$e.b)(ar=>{const rr=new vn(ar.id,this.serializeUrl(ar.extractedUrl),this.serializeUrl(ar.urlAfterRedirects),ar.targetSnapshot);this.triggerEvent(rr)}))}),Zl(Dn=>{const{targetSnapshot:ar,id:rr,extractedUrl:hs,rawUrl:Vi,extras:{skipLocationChange:Xs,replaceUrl:oo}}=Dn;return this.hooks.afterPreactivation(ar,{navigationId:rr,appliedUrlTree:hs,rawUrlTree:Vi,skipLocationChange:!!Xs,replaceUrl:!!oo})}),(0,We.U)(Dn=>{const ar=function jo(ie,Y,H){const Ae=Is(ie,Y._root,H?H._root:void 0);return new Tn(Ae,Y)}(this.routeReuseStrategy,Dn.targetSnapshot,Dn.currentRouterState);return Object.assign(Object.assign({},Dn),{targetRouterState:ar})}),(0,$e.b)(Dn=>{this.currentUrlTree=Dn.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(Dn.urlAfterRedirects,Dn.rawUrl),this.routerState=Dn.targetRouterState,"deferred"===this.urlUpdateStrategy&&(Dn.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,Dn),this.browserUrlTree=Dn.urlAfterRedirects)}),((ie,Y,H)=>(0,We.U)(Ae=>(new Ia(Y,Ae.targetRouterState,Ae.currentRouterState,H).activate(ie),Ae)))(this.rootContexts,this.routeReuseStrategy,Dn=>this.triggerEvent(Dn)),(0,$e.b)({next(){kt=!0},complete(){kt=!0}}),function dt(ie){return(0,ye.e)((Y,H)=>{try{Y.subscribe(H)}finally{H.add(ie)}})}(()=>{var Dn;kt||Zt||this.cancelNavigationTransition(Ge,`Navigation ID ${Ge.id} is not equal to the current navigation id ${this.navigationId}`),(null===(Dn=this.currentNavigation)||void 0===Dn?void 0:Dn.id)===Ge.id&&(this.currentNavigation=null)}),P(Dn=>{if(Zt=!0,function mr(ie){return ie&&ie[jn]}(Dn)){const ar=ya(Dn.url);ar||(this.navigated=!0,this.restoreHistory(Ge,!0));const rr=new Ee(Ge.id,this.serializeUrl(Ge.extractedUrl),Dn.message);Ae.next(rr),ar?setTimeout(()=>{const hs=this.urlHandlingStrategy.merge(Dn.url,this.rawUrlTree),Vi={skipLocationChange:Ge.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||hc(Ge.source)};this.scheduleNavigation(hs,"imperative",null,Vi,{resolve:Ge.resolve,reject:Ge.reject,promise:Ge.promise})},0):Ge.resolve(!1)}else{this.restoreHistory(Ge,!0);const ar=new Ue(Ge.id,this.serializeUrl(Ge.extractedUrl),Dn);Ae.next(ar);try{Ge.resolve(this.errorHandler(Dn))}catch(rr){Ge.reject(rr)}}return Q.E}))}))}resetRootComponentType(H){this.rootComponentType=H,this.routerState.root.component=this.rootComponentType}setTransition(H){this.transitions.next(Object.assign(Object.assign({},this.transitions.value),H))}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(H=>{const Ae="popstate"===H.type?"popstate":"hashchange";"popstate"===Ae&&setTimeout(()=>{var Ge;const kt={replaceUrl:!0},Zt=(null===(Ge=H.state)||void 0===Ge?void 0:Ge.navigationId)?H.state:null;if(Zt){const ar=Object.assign({},Zt);delete ar.navigationId,delete ar.\u0275routerPageId,0!==Object.keys(ar).length&&(kt.state=ar)}const Dn=this.parseUrl(H.url);this.scheduleNavigation(Dn,Ae,Zt,kt)},0)}))}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(H){this.events.next(H)}resetConfig(H){ql(H),this.config=H.map(Le),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.transitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(H,Ae={}){const{relativeTo:Ge,queryParams:kt,fragment:Zt,queryParamsHandling:Dn,preserveFragment:ar}=Ae,rr=Ge||this.routerState.root,hs=ar?this.currentUrlTree.fragment:Zt;let Vi=null;switch(Dn){case"merge":Vi=Object.assign(Object.assign({},this.currentUrlTree.queryParams),kt);break;case"preserve":Vi=this.currentUrlTree.queryParams;break;default:Vi=kt||null}return null!==Vi&&(Vi=this.removeEmptyProps(Vi)),function Aa(ie,Y,H,Ae,Ge){if(0===H.length)return yu(Y.root,Y.root,Y.root,Ae,Ge);const kt=function ic(ie){if("string"==typeof ie[0]&&1===ie.length&&"/"===ie[0])return new au(!0,0,ie);let Y=0,H=!1;const Ae=ie.reduce((Ge,kt,Zt)=>{if("object"==typeof kt&&null!=kt){if(kt.outlets){const Dn={};return et(kt.outlets,(ar,rr)=>{Dn[rr]="string"==typeof ar?ar.split("/"):ar}),[...Ge,{outlets:Dn}]}if(kt.segmentPath)return[...Ge,kt.segmentPath]}return"string"!=typeof kt?[...Ge,kt]:0===Zt?(kt.split("/").forEach((Dn,ar)=>{0==ar&&"."===Dn||(0==ar&&""===Dn?H=!0:".."===Dn?Y++:""!=Dn&&Ge.push(Dn))}),Ge):[...Ge,kt]},[]);return new au(H,Y,Ae)}(H);if(kt.toRoot())return yu(Y.root,Y.root,new vr([],{}),Ae,Ge);const Zt=function sc(ie,Y,H){if(ie.isAbsolute)return new _u(Y.root,!0,0);if(-1===H.snapshot._lastPathIndex){const kt=H.snapshot._urlSegment;return new _u(kt,kt===Y.root,0)}const Ae=Ks(ie.commands[0])?0:1;return function oc(ie,Y,H){let Ae=ie,Ge=Y,kt=H;for(;kt>Ge;){if(kt-=Ge,Ae=Ae.parent,!Ae)throw new Error("Invalid number of '../'");Ge=Ae.segments.length}return new _u(Ae,!1,Ge-kt)}(H.snapshot._urlSegment,H.snapshot._lastPathIndex+Ae,ie.numberOfDoubleDots)}(kt,Y,ie),Dn=Zt.processChildren?ac(Zt.segmentGroup,Zt.index,kt.commands):Uc(Zt.segmentGroup,Zt.index,kt.commands);return yu(Y.root,Zt.segmentGroup,Dn,Ae,Ge)}(rr,this.currentUrlTree,H,Vi,null!=hs?hs:null)}navigateByUrl(H,Ae={skipLocationChange:!1}){const Ge=ya(H)?H:this.parseUrl(H),kt=this.urlHandlingStrategy.merge(Ge,this.rawUrlTree);return this.scheduleNavigation(kt,"imperative",null,Ae)}navigate(H,Ae={skipLocationChange:!1}){return function Uh(ie){for(let Y=0;Y<ie.length;Y++){const H=ie[Y];if(null==H)throw new Error(`The requested path contains ${H} segment at index ${Y}`)}}(H),this.navigateByUrl(this.createUrlTree(H,Ae),Ae)}serializeUrl(H){return this.urlSerializer.serialize(H)}parseUrl(H){let Ae;try{Ae=this.urlSerializer.parse(H)}catch(Ge){Ae=this.malformedUriErrorHandler(Ge,this.urlSerializer,H)}return Ae}isActive(H,Ae){let Ge;if(Ge=!0===Ae?Object.assign({},md):!1===Ae?Object.assign({},ol):Ae,ya(H))return xr(this.currentUrlTree,H,Ge);const kt=this.parseUrl(H);return xr(this.currentUrlTree,kt,Ge)}removeEmptyProps(H){return Object.keys(H).reduce((Ae,Ge)=>{const kt=H[Ge];return null!=kt&&(Ae[Ge]=kt),Ae},{})}processNavigations(){this.navigations.subscribe(H=>{this.navigated=!0,this.lastSuccessfulId=H.id,this.currentPageId=H.targetPageId,this.events.next(new J(H.id,this.serializeUrl(H.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,H.resolve(!0)},H=>{this.console.warn(`Unhandled Navigation Error: ${H}`)})}scheduleNavigation(H,Ae,Ge,kt,Zt){var Dn,ar;if(this.disposed)return Promise.resolve(!1);let rr,hs,Vi;Zt?(rr=Zt.resolve,hs=Zt.reject,Vi=Zt.promise):Vi=new Promise((fo,Yu)=>{rr=fo,hs=Yu});const Xs=++this.navigationId;let oo;return"computed"===this.canceledNavigationResolution?(0===this.currentPageId&&(Ge=this.location.getState()),oo=Ge&&Ge.\u0275routerPageId?Ge.\u0275routerPageId:kt.replaceUrl||kt.skipLocationChange?null!==(Dn=this.browserPageId)&&void 0!==Dn?Dn:0:(null!==(ar=this.browserPageId)&&void 0!==ar?ar:0)+1):oo=0,this.setTransition({id:Xs,targetPageId:oo,source:Ae,restoredState:Ge,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:H,extras:kt,resolve:rr,reject:hs,promise:Vi,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),Vi.catch(fo=>Promise.reject(fo))}setBrowserUrl(H,Ae){const Ge=this.urlSerializer.serialize(H),kt=Object.assign(Object.assign({},Ae.extras.state),this.generateNgRouterState(Ae.id,Ae.targetPageId));this.location.isCurrentPathEqualTo(Ge)||Ae.extras.replaceUrl?this.location.replaceState(Ge,"",kt):this.location.go(Ge,"",kt)}restoreHistory(H,Ae=!1){var Ge,kt;if("computed"===this.canceledNavigationResolution){const Zt=this.currentPageId-H.targetPageId;"popstate"!==H.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==(null===(Ge=this.currentNavigation)||void 0===Ge?void 0:Ge.finalUrl)||0===Zt?this.currentUrlTree===(null===(kt=this.currentNavigation)||void 0===kt?void 0:kt.finalUrl)&&0===Zt&&(this.resetState(H),this.browserUrlTree=H.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(Zt)}else"replace"===this.canceledNavigationResolution&&(Ae&&this.resetState(H),this.resetUrlToCurrentUrlTree())}resetState(H){this.routerState=H.currentRouterState,this.currentUrlTree=H.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,H.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}cancelNavigationTransition(H,Ae){const Ge=new Ee(H.id,this.serializeUrl(H.extractedUrl),Ae);this.triggerEvent(Ge),H.resolve(!1)}generateNgRouterState(H,Ae){return"computed"===this.canceledNavigationResolution?{navigationId:H,\u0275routerPageId:Ae}:{navigationId:H}}}return ie.\u0275fac=function(H){C.$Z()},ie.\u0275prov=C.Yz7({token:ie,factory:ie.\u0275fac}),ie})();function hc(ie){return"imperative"!==ie}let Ic=(()=>{class ie{constructor(H,Ae,Ge){this.router=H,this.route=Ae,this.locationStrategy=Ge,this.commands=null,this.href=null,this.onChanges=new re.x,this.subscription=H.events.subscribe(kt=>{kt instanceof J&&this.updateTargetUrlAndHref()})}set routerLink(H){this.commands=null!=H?Array.isArray(H)?H:[H]:null}ngOnChanges(H){this.updateTargetUrlAndHref(),this.onChanges.next(this)}ngOnDestroy(){this.subscription.unsubscribe()}onClick(H,Ae,Ge,kt,Zt){if(0!==H||Ae||Ge||kt||Zt||"string"==typeof this.target&&"_self"!=this.target||null===this.urlTree)return!0;const Dn={skipLocationChange:da(this.skipLocationChange),replaceUrl:da(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,Dn),!1}updateTargetUrlAndHref(){this.href=null!==this.urlTree?this.locationStrategy.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:da(this.preserveFragment)})}}return ie.\u0275fac=function(H){return new(H||ie)(C.Y36(ka),C.Y36(jr),C.Y36(at.S$))},ie.\u0275dir=C.lG2({type:ie,selectors:[["a","routerLink",""],["area","routerLink",""]],hostVars:2,hostBindings:function(H,Ae){1&H&&C.NdJ("click",function(kt){return Ae.onClick(kt.button,kt.ctrlKey,kt.shiftKey,kt.altKey,kt.metaKey)}),2&H&&C.uIk("target",Ae.target)("href",Ae.href,C.LSH)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state",relativeTo:"relativeTo",routerLink:"routerLink"},features:[C.TTD]}),ie})();function da(ie){return""===ie||!!ie}class cu{}class Qr{preload(Y,H){return(0,se.of)(null)}}let Pa=(()=>{class ie{constructor(H,Ae,Ge,kt){this.router=H,this.injector=Ge,this.preloadingStrategy=kt,this.loader=new Sc(Ge,Ae,ar=>H.triggerEvent(new Nn(ar)),ar=>H.triggerEvent(new $n(ar)))}setUpPreloading(){this.subscription=this.router.events.pipe((0,ae.h)(H=>H instanceof J),F(()=>this.preload())).subscribe(()=>{})}preload(){const H=this.injector.get(C.h0i);return this.processRoutes(H,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(H,Ae){const Ge=[];for(const kt of Ae)if(kt.loadChildren&&!kt.canLoad&&kt._loadedConfig){const Zt=kt._loadedConfig;Ge.push(this.processRoutes(Zt.module,Zt.routes))}else kt.loadChildren&&!kt.canLoad?Ge.push(this.preloadConfig(H,kt)):kt.children&&Ge.push(this.processRoutes(H,kt.children));return(0,ve.D)(Ge).pipe((0,ot.J)(),(0,We.U)(kt=>{}))}preloadConfig(H,Ae){return this.preloadingStrategy.preload(Ae,()=>(Ae._loadedConfig?(0,se.of)(Ae._loadedConfig):this.loader.load(H.injector,Ae)).pipe((0,G.z)(kt=>(Ae._loadedConfig=kt,this.processRoutes(kt.module,kt.routes)))))}}return ie.\u0275fac=function(H){return new(H||ie)(C.LFG(ka),C.LFG(C.Sil),C.LFG(C.zs3),C.LFG(cu))},ie.\u0275prov=C.Yz7({token:ie,factory:ie.\u0275fac}),ie})(),Bh=(()=>{class ie{constructor(H,Ae,Ge={}){this.router=H,this.viewportScroller=Ae,this.options=Ge,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},Ge.scrollPositionRestoration=Ge.scrollPositionRestoration||"disabled",Ge.anchorScrolling=Ge.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(H=>{H instanceof be?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=H.navigationTrigger,this.restoredId=H.restoredState?H.restoredState.navigationId:0):H instanceof J&&(this.lastId=H.id,this.scheduleScrollEvent(H,this.router.parseUrl(H.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(H=>{H instanceof It&&(H.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(H.position):H.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(H.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(H,Ae){this.router.triggerEvent(new It(H,"popstate"===this.lastSource?this.store[this.restoredId]:null,Ae))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return ie.\u0275fac=function(H){C.$Z()},ie.\u0275prov=C.Yz7({token:ie,factory:ie.\u0275fac}),ie})();const bi=new C.OlP("ROUTER_CONFIGURATION"),os=new C.OlP("ROUTER_FORROOT_GUARD"),jh=[at.Ye,{provide:zs,useClass:Ws},{provide:ka,useFactory:function yd(ie,Y,H,Ae,Ge,kt,Zt={},Dn,ar){const rr=new ka(null,ie,Y,H,Ae,Ge,fn(kt));return Dn&&(rr.urlHandlingStrategy=Dn),ar&&(rr.routeReuseStrategy=ar),function tv(ie,Y){ie.errorHandler&&(Y.errorHandler=ie.errorHandler),ie.malformedUriErrorHandler&&(Y.malformedUriErrorHandler=ie.malformedUriErrorHandler),ie.onSameUrlNavigation&&(Y.onSameUrlNavigation=ie.onSameUrlNavigation),ie.paramsInheritanceStrategy&&(Y.paramsInheritanceStrategy=ie.paramsInheritanceStrategy),ie.relativeLinkResolution&&(Y.relativeLinkResolution=ie.relativeLinkResolution),ie.urlUpdateStrategy&&(Y.urlUpdateStrategy=ie.urlUpdateStrategy),ie.canceledNavigationResolution&&(Y.canceledNavigationResolution=ie.canceledNavigationResolution)}(Zt,rr),Zt.enableTracing&&rr.events.subscribe(hs=>{var Vi,Xs;null===(Vi=console.group)||void 0===Vi||Vi.call(console,`Router Event: ${hs.constructor.name}`),console.log(hs.toString()),console.log(hs),null===(Xs=console.groupEnd)||void 0===Xs||Xs.call(console)}),rr},deps:[zs,Wl,at.Ye,C.zs3,C.Sil,uc,bi,[class tf{},new C.FiY],[class ns{},new C.FiY]]},Wl,{provide:jr,useFactory:function C0(ie){return ie.routerState.root},deps:[ka]},Pa,Qr,class Uf{preload(Y,H){return H().pipe(P(()=>(0,se.of)(null)))}},{provide:bi,useValue:{enableTracing:!1}}];function ui(){return new C.PXZ("Router",ka)}let wr=(()=>{class ie{constructor(H,Ae){}static forRoot(H,Ae){return{ngModule:ie,providers:[jh,vd(H),{provide:os,useFactory:Eu,deps:[[ka,new C.FiY,new C.tp0]]},{provide:bi,useValue:Ae||{}},{provide:at.S$,useFactory:vl,deps:[at.lw,[new C.tBr(at.mr),new C.FiY],bi]},{provide:Bh,useFactory:Nr,deps:[ka,at.EM,bi]},{provide:cu,useExisting:Ae&&Ae.preloadingStrategy?Ae.preloadingStrategy:Qr},{provide:C.PXZ,multi:!0,useFactory:ui},[$u,{provide:C.ip1,multi:!0,useFactory:mh,deps:[$u]},{provide:_d,useFactory:Bf,deps:[$u]},{provide:C.tb,multi:!0,useExisting:_d}]]}}static forChild(H){return{ngModule:ie,providers:[vd(H)]}}}return ie.\u0275fac=function(H){return new(H||ie)(C.LFG(os,8),C.LFG(ka,8))},ie.\u0275mod=C.oAB({type:ie}),ie.\u0275inj=C.cJS({}),ie})();function Nr(ie,Y,H){return H.scrollOffset&&Y.setOffset(H.scrollOffset),new Bh(ie,Y,H)}function vl(ie,Y,H={}){return H.useHash?new at.Do(ie,Y):new at.b0(ie,Y)}function Eu(ie){return"guarded"}function vd(ie){return[{provide:C.deG,multi:!0,useValue:ie},{provide:uc,multi:!0,useValue:ie}]}let $u=(()=>{class ie{constructor(H){this.injector=H,this.initNavigation=!1,this.destroyed=!1,this.resultOfPreactivationDone=new re.x}appInitializer(){return this.injector.get(at.V_,Promise.resolve(null)).then(()=>{if(this.destroyed)return Promise.resolve(!0);let Ae=null;const Ge=new Promise(Dn=>Ae=Dn),kt=this.injector.get(ka),Zt=this.injector.get(bi);return"disabled"===Zt.initialNavigation?(kt.setUpLocationChangeListener(),Ae(!0)):"enabled"===Zt.initialNavigation||"enabledBlocking"===Zt.initialNavigation?(kt.hooks.afterPreactivation=()=>this.initNavigation?(0,se.of)(null):(this.initNavigation=!0,Ae(!0),this.resultOfPreactivationDone),kt.initialNavigation()):Ae(!0),Ge})}bootstrapListener(H){const Ae=this.injector.get(bi),Ge=this.injector.get(Pa),kt=this.injector.get(Bh),Zt=this.injector.get(ka),Dn=this.injector.get(C.z2F);H===Dn.components[0]&&(("enabledNonBlocking"===Ae.initialNavigation||void 0===Ae.initialNavigation)&&Zt.initialNavigation(),Ge.setUpPreloading(),kt.init(),Zt.resetRootComponentType(Dn.componentTypes[0]),this.resultOfPreactivationDone.next(null),this.resultOfPreactivationDone.complete())}ngOnDestroy(){this.destroyed=!0}}return ie.\u0275fac=function(H){return new(H||ie)(C.LFG(C.zs3))},ie.\u0275prov=C.Yz7({token:ie,factory:ie.\u0275fac}),ie})();function mh(ie){return ie.appInitializer.bind(ie)}function Bf(ie){return ie.bootstrapListener.bind(ie)}const _d=new C.OlP("Router Initializer")},579:(Gr,Ln,me)=>{"use strict";me.d(Ln,{EI:()=>fn,Gb:()=>mr,Iv:()=>zr,Kz:()=>mt,Xd:()=>Ft,lT:()=>dr,xP:()=>Pr});var C=me(5861),h=me(9681),it=me(1877),ve=me(2090),Ne=me(4859);me(2833);const tt="analytics",Qe="firebase_id",qe="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",Fe="https://www.googletagmanager.com/gtag/js",He=new it.Yd("@firebase/analytics");function xe(Nt){return Promise.all(Nt.map(pn=>pn.catch(Mn=>Mn)))}function we(Nt,pn){const Mn=document.createElement("script");Mn.src=`${Fe}?l=${Nt}&id=${pn}`,Mn.async=!0,document.head.appendChild(Mn)}function W(Nt,pn,Mn,xr,Dr,Zr){return fe.apply(this,arguments)}function fe(){return(fe=(0,C.Z)(function*(Nt,pn,Mn,xr,Dr,Zr){const Ar=xr[Dr];try{if(Ar)yield pn[Ar];else{const mn=(yield xe(Mn)).find(Rt=>Rt.measurementId===Dr);mn&&(yield pn[mn.appId])}}catch(On){He.error(On)}Nt("config",Dr,Zr)})).apply(this,arguments)}function ye(Nt,pn,Mn,xr,Dr){return Se.apply(this,arguments)}function Se(){return(Se=(0,C.Z)(function*(Nt,pn,Mn,xr,Dr){try{let Zr=[];if(Dr&&Dr.send_to){let Ar=Dr.send_to;Array.isArray(Ar)||(Ar=[Ar]);const On=yield xe(Mn);for(const mn of Ar){const Rt=On.find(vr=>vr.measurementId===mn),hr=Rt&&pn[Rt.appId];if(!hr){Zr=[];break}Zr.push(hr)}}0===Zr.length&&(Zr=Object.values(pn)),yield Promise.all(Zr),Nt("event",xr,Dr||{})}catch(Zr){He.error(Zr)}})).apply(this,arguments)}function pe(){const Nt=window.document.getElementsByTagName("script");for(const pn of Object.values(Nt))if(pn.src&&pn.src.includes(Fe))return pn;return null}const L=new ve.LL("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.'}),G=new class P{constructor(pn={},Mn=1e3){this.throttleMetadata=pn,this.intervalMillis=Mn}getThrottleMetadata(pn){return this.throttleMetadata[pn]}setThrottleMetadata(pn,Mn){this.throttleMetadata[pn]=Mn}deleteThrottleMetadata(pn){delete this.throttleMetadata[pn]}};function F(Nt){return new Headers({Accept:"application/json","x-goog-api-key":Nt})}function ae(Nt){return R.apply(this,arguments)}function R(){return(R=(0,C.Z)(function*(Nt){var pn;const{appId:Mn,apiKey:xr}=Nt,Dr={method:"GET",headers:F(xr)},Zr=qe.replace("{app-id}",Mn),Ar=yield fetch(Zr,Dr);if(200!==Ar.status&&304!==Ar.status){let On="";try{const mn=yield Ar.json();(null===(pn=mn.error)||void 0===pn?void 0:pn.message)&&(On=mn.error.message)}catch(mn){}throw L.create("config-fetch-failed",{httpStatus:Ar.status,responseMessage:On})}return Ar.json()})).apply(this,arguments)}function z(Nt){return De.apply(this,arguments)}function De(){return(De=(0,C.Z)(function*(Nt,pn=G,Mn){const{appId:xr,apiKey:Dr,measurementId:Zr}=Nt.options;if(!xr)throw L.create("no-app-id");if(!Dr){if(Zr)return{measurementId:Zr,appId:xr};throw L.create("no-api-key")}const Ar=pn.getThrottleMetadata(xr)||{backoffCount:0,throttleEndTimeMillis:Date.now()},On=new Je;return setTimeout((0,C.Z)(function*(){On.abort()}),void 0!==Mn?Mn:6e4),Ke({appId:xr,apiKey:Dr,measurementId:Zr},Ar,On,pn)})).apply(this,arguments)}function Ke(Nt,pn,Mn){return dt.apply(this,arguments)}function dt(){return(dt=(0,C.Z)(function*(Nt,{throttleEndTimeMillis:pn,backoffCount:Mn},xr,Dr=G){var Zr,Ar;const{appId:On,measurementId:mn}=Nt;try{yield We(xr,pn)}catch(Rt){if(mn)return He.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${mn} provided in the "measurementId" field in the local Firebase config. [${null===(Zr=Rt)||void 0===Zr?void 0:Zr.message}]`),{appId:On,measurementId:mn};throw Rt}try{const Rt=yield ae(Nt);return Dr.deleteThrottleMetadata(On),Rt}catch(Rt){const hr=Rt;if(!Te(hr)){if(Dr.deleteThrottleMetadata(On),mn)return He.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${mn} provided in the "measurementId" field in the local Firebase config. [${null==hr?void 0:hr.message}]`),{appId:On,measurementId:mn};throw Rt}const vr=503===Number(null===(Ar=null==hr?void 0:hr.customData)||void 0===Ar?void 0:Ar.httpStatus)?(0,ve.$s)(Mn,Dr.intervalMillis,30):(0,ve.$s)(Mn,Dr.intervalMillis),ai={throttleEndTimeMillis:Date.now()+vr,backoffCount:Mn+1};return Dr.setThrottleMetadata(On,ai),He.debug(`Calling attemptFetch again in ${vr} millis`),Ke(Nt,ai,xr,Dr)}})).apply(this,arguments)}function We(Nt,pn){return new Promise((Mn,xr)=>{const Dr=Math.max(pn-Date.now(),0),Zr=setTimeout(Mn,Dr);Nt.addEventListener(()=>{clearTimeout(Zr),xr(L.create("fetch-throttle",{throttleEndTimeMillis:pn}))})})}function Te(Nt){if(!(Nt instanceof ve.ZR&&Nt.customData))return!1;const pn=Number(Nt.customData.httpStatus);return 429===pn||500===pn||503===pn||504===pn}class Je{constructor(){this.listeners=[]}addEventListener(pn){this.listeners.push(pn)}abort(){this.listeners.forEach(pn=>pn())}}function Z(){return ne.apply(this,arguments)}function ne(){return(ne=(0,C.Z)(function*(){var Nt;if(!(0,ve.hl)())return He.warn(L.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield(0,ve.eu)()}catch(pn){return He.warn(L.create("indexeddb-unavailable",{errorInfo:null===(Nt=pn)||void 0===Nt?void 0:Nt.toString()}).message),!1}return!0})).apply(this,arguments)}function $e(){return($e=(0,C.Z)(function*(Nt,pn,Mn,xr,Dr,Zr,Ar){var On;const mn=z(Nt);mn.then(ki=>{Mn[ki.measurementId]=ki.appId,Nt.options.measurementId&&ki.measurementId!==Nt.options.measurementId&&He.warn(`The measurement ID in the local Firebase config (${Nt.options.measurementId}) does not match the measurement ID fetched from the server (${ki.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(ki=>He.error(ki)),pn.push(mn);const Rt=Z().then(ki=>{if(ki)return xr.getId()}),[hr,vr]=yield Promise.all([mn,Rt]);pe()||we(Zr,hr.measurementId),Dr("js",new Date);const ai=null!==(On=null==Ar?void 0:Ar.config)&&void 0!==On?On:{};return ai.origin="firebase",ai.update=!0,null!=vr&&(ai[Qe]=vr),Dr("config",hr.measurementId,ai),hr.measurementId})).apply(this,arguments)}class ot{constructor(pn){this.app=pn}_delete(){return delete at[this.app.options.appId],Promise.resolve()}}let at={},j=[];const be={};let Ue,lt,J="dataLayer",Ee="gtag",Tt=!1;function Ft(Nt){if(Tt)throw L.create("already-initialized");Nt.dataLayerName&&(J=Nt.dataLayerName),Nt.gtagName&&(Ee=Nt.gtagName)}function vn(Nt,pn,Mn){!function $t(){const Nt=[];if((0,ve.ru)()&&Nt.push("This is a browser extension environment."),(0,ve.zI)()||Nt.push("Cookies are not available."),Nt.length>0){const pn=Nt.map((xr,Dr)=>`(${Dr+1}) ${xr}`).join(" "),Mn=L.create("invalid-analytics-context",{errorInfo:pn});He.warn(Mn.message)}}();const xr=Nt.options.appId;if(!xr)throw L.create("no-app-id");if(!Nt.options.apiKey){if(!Nt.options.measurementId)throw L.create("no-api-key");He.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${Nt.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=at[xr])throw L.create("already-exists",{id:xr});if(!Tt){!function de(Nt){let pn=[];Array.isArray(window[Nt])?pn=window[Nt]:window[Nt]=pn}(J);const{wrappedGtag:Zr,gtagCore:Ar}=function se(Nt,pn,Mn,xr,Dr){let Zr=function(...Ar){window[xr].push(arguments)};return window[Dr]&&"function"==typeof window[Dr]&&(Zr=window[Dr]),window[Dr]=function oe(Nt,pn,Mn,xr){function Zr(){return(Zr=(0,C.Z)(function*(Ar,On,mn){try{"event"===Ar?yield ye(Nt,pn,Mn,On,mn):"config"===Ar?yield W(Nt,pn,Mn,xr,On,mn):Nt("set",On)}catch(Rt){He.error(Rt)}})).apply(this,arguments)}return function Dr(Ar,On,mn){return Zr.apply(this,arguments)}}(Zr,Nt,pn,Mn),{gtagCore:Zr,wrappedGtag:window[Dr]}}(at,j,be,J,Ee);lt=Zr,Ue=Ar,Tt=!0}return at[xr]=function Oe(Nt,pn,Mn,xr,Dr,Zr,Ar){return $e.apply(this,arguments)}(Nt,j,be,pn,Ue,J,Mn),new ot(Nt)}function $n(){return($n=(0,C.Z)(function*(Nt,pn,Mn,xr,Dr){if(Dr&&Dr.global)Nt("event",Mn,xr);else{const Zr=yield pn;Nt("event",Mn,Object.assign(Object.assign({},xr),{send_to:Zr}))}})).apply(this,arguments)}function hn(){return(hn=(0,C.Z)(function*(Nt,pn,Mn,xr){if(xr&&xr.global)return Nt("set",{screen_name:Mn}),Promise.resolve();Nt("config",yield pn,{update:!0,screen_name:Mn})})).apply(this,arguments)}function ft(){return(ft=(0,C.Z)(function*(Nt,pn,Mn,xr){if(xr&&xr.global)return Nt("set",{user_id:Mn}),Promise.resolve();Nt("config",yield pn,{update:!0,user_id:Mn})})).apply(this,arguments)}function ct(){return(ct=(0,C.Z)(function*(Nt,pn,Mn,xr){if(xr&&xr.global){const Dr={};for(const Zr of Object.keys(Mn))Dr[`user_properties.${Zr}`]=Mn[Zr];return Nt("set",Dr),Promise.resolve()}Nt("config",yield pn,{update:!0,user_properties:Mn})})).apply(this,arguments)}function nn(){return(nn=(0,C.Z)(function*(Nt,pn){const Mn=yield Nt;window[`ga-disable-${Mn}`]=!pn})).apply(this,arguments)}function mr(){return Mr.apply(this,arguments)}function Mr(){return(Mr=(0,C.Z)(function*(){if((0,ve.ru)()||!(0,ve.zI)()||!(0,ve.hl)())return!1;try{return yield(0,ve.eu)()}catch(Nt){return!1}})).apply(this,arguments)}function dr(Nt,pn,Mn){Nt=(0,ve.m9)(Nt),function yn(Nt,pn,Mn,xr){return hn.apply(this,arguments)}(lt,at[Nt.app.options.appId],pn,Mn).catch(xr=>He.error(xr))}function zr(Nt,pn,Mn){Nt=(0,ve.m9)(Nt),function ke(Nt,pn,Mn,xr){return ft.apply(this,arguments)}(lt,at[Nt.app.options.appId],pn,Mn).catch(xr=>He.error(xr))}function Pr(Nt,pn,Mn){Nt=(0,ve.m9)(Nt),function It(Nt,pn,Mn,xr){return ct.apply(this,arguments)}(lt,at[Nt.app.options.appId],pn,Mn).catch(xr=>He.error(xr))}function fn(Nt,pn){Nt=(0,ve.m9)(Nt),function jt(Nt,pn){return nn.apply(this,arguments)}(at[Nt.app.options.appId],pn).catch(Mn=>He.error(Mn))}function mt(Nt,pn,Mn,xr){Nt=(0,ve.m9)(Nt),function Nn(Nt,pn,Mn,xr,Dr){return $n.apply(this,arguments)}(lt,at[Nt.app.options.appId],pn,Mn,xr).catch(Dr=>He.error(Dr))}const Be="@firebase/analytics";!function ht(){(0,h._registerComponent)(new Ne.wA(tt,(pn,{options:Mn})=>vn(pn.getProvider("app").getImmediate(),pn.getProvider("installations-internal").getImmediate(),Mn),"PUBLIC")),(0,h._registerComponent)(new Ne.wA("analytics-internal",function Nt(pn){try{const Mn=pn.getProvider(tt).getImmediate();return{logEvent:(xr,Dr,Zr)=>mt(Mn,xr,Dr,Zr)}}catch(Mn){throw L.create("interop-component-reg-failed",{reason:Mn})}},"PRIVATE")),(0,h.registerVersion)(Be,"0.7.11"),(0,h.registerVersion)(Be,"0.7.11","esm2017")}()},3942:(Gr,Ln,me)=>{"use strict";me.d(Ln,{Z:()=>we});var C=me(2090),h=me(4859),it=me(9681),ve=me(1877);class Ne{constructor(W,fe){this._delegate=W,this.firebase=fe,(0,it._addComponent)(W,new h.wA("app-compat",()=>this,"PUBLIC")),this.container=W.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(W){this._delegate.automaticDataCollectionEnabled=W}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(W=>{this._delegate.checkDestroyed(),W()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,it.deleteApp)(this._delegate)))}_getService(W,fe=it._DEFAULT_ENTRY_NAME){var ye;this._delegate.checkDestroyed();const Se=this._delegate.container.getProvider(W);return!Se.isInitialized()&&"EXPLICIT"===(null===(ye=Se.getComponent())||void 0===ye?void 0:ye.instantiationMode)&&Se.initialize(),Se.getImmediate({identifier:fe})}_removeServiceInstance(W,fe=it._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(W).clearInstance(fe)}_addComponent(W){(0,it._addComponent)(this._delegate,W)}_addOrOverwriteComponent(W){(0,it._addOrOverwriteComponent)(this._delegate,W)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const tt=new C.LL("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),ze=function nt(){const de=function Qe(de){const W={},fe={__esModule:!0,initializeApp:function oe(L,Q={}){const re=it.initializeApp(L,Q);if((0,C.r3)(W,re.name))return W[re.name];const P=new de(re,fe);return W[re.name]=P,P},app:Se,registerVersion:it.registerVersion,setLogLevel:it.setLogLevel,onLog:it.onLog,apps:null,SDK_VERSION:it.SDK_VERSION,INTERNAL:{registerComponent:function pe(L){const Q=L.name,re=Q.replace("-compat","");if(it._registerComponent(L)&&"PUBLIC"===L.type){const P=(G=Se())=>{if("function"!=typeof G[re])throw tt.create("invalid-app-argument",{appName:Q});return G[re]()};void 0!==L.serviceProps&&(0,C.ZB)(P,L.serviceProps),fe[re]=P,de.prototype[re]=function(...G){return this._getService.bind(this,Q).apply(this,L.multipleInstances?G:[])}}return"PUBLIC"===L.type?fe[re]:null},removeApp:function ye(L){delete W[L]},useAsService:function Ce(L,Q){return"serverAuth"===Q?null:Q},modularAPIs:it}};function Se(L){if(!(0,C.r3)(W,L=L||it._DEFAULT_ENTRY_NAME))throw tt.create("no-app",{appName:L});return W[L]}return fe.default=fe,Object.defineProperty(fe,"apps",{get:function se(){return Object.keys(W).map(L=>W[L])}}),Se.App=de,fe}(Ne);return de.INTERNAL=Object.assign(Object.assign({},de.INTERNAL),{createFirebaseNamespace:nt,extendNamespace:function W(fe){(0,C.ZB)(de,fe)},createSubscribe:C.ne,ErrorFactory:C.LL,deepExtend:C.ZB}),de}(),qe=new ve.Yd("@firebase/app-compat");if((0,C.jU)()&&void 0!==self.firebase){qe.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const de=self.firebase.SDK_VERSION;de&&de.indexOf("LITE")>=0&&qe.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const we=ze;!function xe(de){(0,it.registerVersion)("@firebase/app-compat","0.1.28",de)}()},9681:(Gr,Ln,me)=>{"use strict";me.r(Ln),me.d(Ln,{FirebaseError:()=>ve.ZR,SDK_VERSION:()=>Ee,_DEFAULT_ENTRY_NAME:()=>dt,_addComponent:()=>Z,_addOrOverwriteComponent:()=>ne,_apps:()=>Te,_clearComponents:()=>at,_components:()=>Je,_getProvider:()=>$e,_registerComponent:()=>Oe,_removeServiceInstance:()=>ot,deleteApp:()=>Ft,getApp:()=>lt,getApps:()=>Tt,initializeApp:()=>Ue,onLog:()=>Nn,registerVersion:()=>vn,setLogLevel:()=>$n});var C=me(5861),h=me(4859),it=me(1877),ve=me(2090),Ne=me(8766);class I{constructor(ht){this.container=ht}getPlatformInfoString(){return this.container.getProviders().map(Nt=>{if(function tt(et){const ht=et.getComponent();return"VERSION"===(null==ht?void 0:ht.type)}(Nt)){const pn=Nt.getImmediate();return`${pn.library}/${pn.version}`}return null}).filter(Nt=>Nt).join(" ")}}const Qe="@firebase/app",ze=new it.Yd("@firebase/app"),dt="[DEFAULT]",We={[Qe]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},Te=new Map,Je=new Map;function Z(et,ht){try{et.container.addComponent(ht)}catch(Nt){ze.debug(`Component ${ht.name} failed to register with FirebaseApp ${et.name}`,Nt)}}function ne(et,ht){et.container.addOrOverwriteComponent(ht)}function Oe(et){const ht=et.name;if(Je.has(ht))return ze.debug(`There were multiple attempts to register component ${ht}.`),!1;Je.set(ht,et);for(const Nt of Te.values())Z(Nt,et);return!0}function $e(et,ht){const Nt=et.container.getProvider("heartbeat").getImmediate({optional:!0});return Nt&&Nt.triggerHeartbeat(),et.container.getProvider(ht)}function ot(et,ht,Nt=dt){$e(et,ht).clearInstance(Nt)}function at(){Je.clear()}const be=new ve.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}."});class J{constructor(ht,Nt,pn){this._isDeleted=!1,this._options=Object.assign({},ht),this._config=Object.assign({},Nt),this._name=Nt.name,this._automaticDataCollectionEnabled=Nt.automaticDataCollectionEnabled,this._container=pn,this.container.addComponent(new h.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(ht){this.checkDestroyed(),this._automaticDataCollectionEnabled=ht}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(ht){this._isDeleted=ht}checkDestroyed(){if(this.isDeleted)throw be.create("app-deleted",{appName:this._name})}}const Ee="9.8.4";function Ue(et,ht={}){"object"!=typeof ht&&(ht={name:ht});const Nt=Object.assign({name:dt,automaticDataCollectionEnabled:!1},ht),pn=Nt.name;if("string"!=typeof pn||!pn)throw be.create("bad-app-name",{appName:String(pn)});const Mn=Te.get(pn);if(Mn){if((0,ve.vZ)(et,Mn.options)&&(0,ve.vZ)(Nt,Mn.config))return Mn;throw be.create("duplicate-app",{appName:pn})}const xr=new h.H0(pn);for(const Zr of Je.values())xr.addComponent(Zr);const Dr=new J(et,Nt,xr);return Te.set(pn,Dr),Dr}function lt(et=dt){const ht=Te.get(et);if(!ht)throw be.create("no-app",{appName:et});return ht}function Tt(){return Array.from(Te.values())}function Ft(et){return $t.apply(this,arguments)}function $t(){return($t=(0,C.Z)(function*(et){const ht=et.name;Te.has(ht)&&(Te.delete(ht),yield Promise.all(et.container.getProviders().map(Nt=>Nt.delete())),et.isDeleted=!0)})).apply(this,arguments)}function vn(et,ht,Nt){var pn;let Mn=null!==(pn=We[et])&&void 0!==pn?pn:et;Nt&&(Mn+=`-${Nt}`);const xr=Mn.match(/\s|\//),Dr=ht.match(/\s|\//);if(xr||Dr){const Zr=[`Unable to register library "${Mn}" with version "${ht}":`];return xr&&Zr.push(`library name "${Mn}" contains illegal characters (whitespace or "/")`),xr&&Dr&&Zr.push("and"),Dr&&Zr.push(`version name "${ht}" contains illegal characters (whitespace or "/")`),void ze.warn(Zr.join(" "))}Oe(new h.wA(`${Mn}-version`,()=>({library:Mn,version:ht}),"VERSION"))}function Nn(et,ht){if(null!==et&&"function"!=typeof et)throw be.create("invalid-log-argument");(0,it.Am)(et,ht)}function $n(et){(0,it.Ub)(et)}const ke="firebase-heartbeat-store";let ft=null;function It(){return ft||(ft=(0,Ne.X3)("firebase-heartbeat-database",1,{upgrade:(et,ht)=>{0===ht&&et.createObjectStore(ke)}}).catch(et=>{throw be.create("storage-open",{originalErrorMessage:et.message})})),ft}function jt(){return(jt=(0,C.Z)(function*(et){var ht;try{return(yield It()).transaction(ke).objectStore(ke).get(br(et))}catch(Nt){throw be.create("storage-get",{originalErrorMessage:null===(ht=Nt)||void 0===ht?void 0:ht.message})}})).apply(this,arguments)}function nn(et,ht){return jn.apply(this,arguments)}function jn(){return(jn=(0,C.Z)(function*(et,ht){var Nt;try{const Mn=(yield It()).transaction(ke,"readwrite");return yield Mn.objectStore(ke).put(ht,br(et)),Mn.done}catch(pn){throw be.create("storage-set",{originalErrorMessage:null===(Nt=pn)||void 0===Nt?void 0:Nt.message})}})).apply(this,arguments)}function br(et){return`${et.name}!${et.options.appId}`}class dr{constructor(ht){this.container=ht,this._heartbeatsCache=null;const Nt=this.container.getProvider("app").getImmediate();this._storage=new fn(Nt),this._heartbeatsCachePromise=this._storage.read().then(pn=>(this._heartbeatsCache=pn,pn))}triggerHeartbeat(){var ht=this;return(0,C.Z)(function*(){const pn=ht.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),Mn=zr();if(null===ht._heartbeatsCache&&(ht._heartbeatsCache=yield ht._heartbeatsCachePromise),ht._heartbeatsCache.lastSentHeartbeatDate!==Mn&&!ht._heartbeatsCache.heartbeats.some(xr=>xr.date===Mn))return ht._heartbeatsCache.heartbeats.push({date:Mn,agent:pn}),ht._heartbeatsCache.heartbeats=ht._heartbeatsCache.heartbeats.filter(xr=>{const Dr=new Date(xr.date).valueOf();return Date.now()-Dr<=2592e6}),ht._storage.overwrite(ht._heartbeatsCache)})()}getHeartbeatsHeader(){var ht=this;return(0,C.Z)(function*(){if(null===ht._heartbeatsCache&&(yield ht._heartbeatsCachePromise),null===ht._heartbeatsCache||0===ht._heartbeatsCache.heartbeats.length)return"";const Nt=zr(),{heartbeatsToSend:pn,unsentEntries:Mn}=function Pr(et,ht=1024){const Nt=[];let pn=et.slice();for(const Mn of et){const xr=Nt.find(Dr=>Dr.agent===Mn.agent);if(xr){if(xr.dates.push(Mn.date),mt(Nt)>ht){xr.dates.pop();break}}else if(Nt.push({agent:Mn.agent,dates:[Mn.date]}),mt(Nt)>ht){Nt.pop();break}pn=pn.slice(1)}return{heartbeatsToSend:Nt,unsentEntries:pn}}(ht._heartbeatsCache.heartbeats),xr=(0,ve.L)(JSON.stringify({version:2,heartbeats:pn}));return ht._heartbeatsCache.lastSentHeartbeatDate=Nt,Mn.length>0?(ht._heartbeatsCache.heartbeats=Mn,yield ht._storage.overwrite(ht._heartbeatsCache)):(ht._heartbeatsCache.heartbeats=[],ht._storage.overwrite(ht._heartbeatsCache)),xr})()}}function zr(){return(new Date).toISOString().substring(0,10)}class fn{constructor(ht){this.app=ht,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,C.Z)(function*(){return!!(0,ve.hl)()&&(0,ve.eu)().then(()=>!0).catch(()=>!1)})()}read(){var ht=this;return(0,C.Z)(function*(){return(yield ht._canUseIndexedDBPromise)&&(yield function ct(et){return jt.apply(this,arguments)}(ht.app))||{heartbeats:[]}})()}overwrite(ht){var Nt=this;return(0,C.Z)(function*(){var pn;if(yield Nt._canUseIndexedDBPromise){const xr=yield Nt.read();return nn(Nt.app,{lastSentHeartbeatDate:null!==(pn=ht.lastSentHeartbeatDate)&&void 0!==pn?pn:xr.lastSentHeartbeatDate,heartbeats:ht.heartbeats})}})()}add(ht){var Nt=this;return(0,C.Z)(function*(){var pn;if(yield Nt._canUseIndexedDBPromise){const xr=yield Nt.read();return nn(Nt.app,{lastSentHeartbeatDate:null!==(pn=ht.lastSentHeartbeatDate)&&void 0!==pn?pn:xr.lastSentHeartbeatDate,heartbeats:[...xr.heartbeats,...ht.heartbeats]})}})()}}function mt(et){return(0,ve.L)(JSON.stringify({version:2,heartbeats:et})).length}!function Be(et){Oe(new h.wA("platform-logger",ht=>new I(ht),"PRIVATE")),Oe(new h.wA("heartbeat",ht=>new dr(ht),"PRIVATE")),vn(Qe,"0.7.27",et),vn(Qe,"0.7.27","esm2017"),vn("fire-js","")}("")},4859:(Gr,Ln,me)=>{"use strict";me.d(Ln,{H0:()=>Qe,wA:()=>it,zt:()=>Ne});var C=me(5861),h=me(2090);class it{constructor(ze,qe,Fe){this.name=ze,this.instanceFactory=qe,this.type=Fe,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(ze){return this.instantiationMode=ze,this}setMultipleInstances(ze){return this.multipleInstances=ze,this}setServiceProps(ze){return this.serviceProps=ze,this}setInstanceCreatedCallback(ze){return this.onInstanceCreated=ze,this}}const ve="[DEFAULT]";class Ne{constructor(ze,qe){this.name=ze,this.container=qe,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(ze){const qe=this.normalizeInstanceIdentifier(ze);if(!this.instancesDeferred.has(qe)){const Fe=new h.BH;if(this.instancesDeferred.set(qe,Fe),this.isInitialized(qe)||this.shouldAutoInitialize())try{const He=this.getOrInitializeService({instanceIdentifier:qe});He&&Fe.resolve(He)}catch(He){}}return this.instancesDeferred.get(qe).promise}getImmediate(ze){var qe;const Fe=this.normalizeInstanceIdentifier(null==ze?void 0:ze.identifier),He=null!==(qe=null==ze?void 0:ze.optional)&&void 0!==qe&&qe;if(!this.isInitialized(Fe)&&!this.shouldAutoInitialize()){if(He)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:Fe})}catch(xe){if(He)return null;throw xe}}getComponent(){return this.component}setComponent(ze){if(ze.name!==this.name)throw Error(`Mismatching Component ${ze.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=ze,this.shouldAutoInitialize()){if(function tt(nt){return"EAGER"===nt.instantiationMode}(ze))try{this.getOrInitializeService({instanceIdentifier:ve})}catch(qe){}for(const[qe,Fe]of this.instancesDeferred.entries()){const He=this.normalizeInstanceIdentifier(qe);try{const xe=this.getOrInitializeService({instanceIdentifier:He});Fe.resolve(xe)}catch(xe){}}}}clearInstance(ze=ve){this.instancesDeferred.delete(ze),this.instancesOptions.delete(ze),this.instances.delete(ze)}delete(){var ze=this;return(0,C.Z)(function*(){const qe=Array.from(ze.instances.values());yield Promise.all([...qe.filter(Fe=>"INTERNAL"in Fe).map(Fe=>Fe.INTERNAL.delete()),...qe.filter(Fe=>"_delete"in Fe).map(Fe=>Fe._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(ze=ve){return this.instances.has(ze)}getOptions(ze=ve){return this.instancesOptions.get(ze)||{}}initialize(ze={}){const{options:qe={}}=ze,Fe=this.normalizeInstanceIdentifier(ze.instanceIdentifier);if(this.isInitialized(Fe))throw Error(`${this.name}(${Fe}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const He=this.getOrInitializeService({instanceIdentifier:Fe,options:qe});for(const[xe,we]of this.instancesDeferred.entries())Fe===this.normalizeInstanceIdentifier(xe)&&we.resolve(He);return He}onInit(ze,qe){var Fe;const He=this.normalizeInstanceIdentifier(qe),xe=null!==(Fe=this.onInitCallbacks.get(He))&&void 0!==Fe?Fe:new Set;xe.add(ze),this.onInitCallbacks.set(He,xe);const we=this.instances.get(He);return we&&ze(we,He),()=>{xe.delete(ze)}}invokeOnInitCallbacks(ze,qe){const Fe=this.onInitCallbacks.get(qe);if(Fe)for(const He of Fe)try{He(ze,qe)}catch(xe){}}getOrInitializeService({instanceIdentifier:ze,options:qe={}}){let Fe=this.instances.get(ze);if(!Fe&&this.component&&(Fe=this.component.instanceFactory(this.container,{instanceIdentifier:(nt=ze,nt===ve?void 0:nt),options:qe}),this.instances.set(ze,Fe),this.instancesOptions.set(ze,qe),this.invokeOnInitCallbacks(Fe,ze),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,ze,Fe)}catch(He){}var nt;return Fe||null}normalizeInstanceIdentifier(ze=ve){return this.component?this.component.multipleInstances?ze:ve:ze}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class Qe{constructor(ze){this.name=ze,this.providers=new Map}addComponent(ze){const qe=this.getProvider(ze.name);if(qe.isComponentSet())throw new Error(`Component ${ze.name} has already been registered with ${this.name}`);qe.setComponent(ze)}addOrOverwriteComponent(ze){this.getProvider(ze.name).isComponentSet()&&this.providers.delete(ze.name),this.addComponent(ze)}getProvider(ze){if(this.providers.has(ze))return this.providers.get(ze);const qe=new Ne(ze,this);return this.providers.set(ze,qe),qe}getProviders(){return Array.from(this.providers.values())}}},2833:(Gr,Ln,me)=>{"use strict";var C=me(5861),h=me(9681),it=me(4859),ve=me(2090),Ne=me(8766);const I="@firebase/installations",tt="0.5.11",nt=`w:${tt}`,ze="FIS_v2",de=new ve.LL("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function W(wn){return wn instanceof ve.ZR&&wn.code.includes("request-failed")}function fe({projectId:wn}){return`https://firebaseinstallations.googleapis.com/v1/projects/${wn}/installations`}function ye(wn){return{token:wn.token,requestStatus:2,expiresIn:Q(wn.expiresIn),creationTime:Date.now()}}function Se(wn,tr){return oe.apply(this,arguments)}function oe(){return(oe=(0,C.Z)(function*(wn,tr){const Ai=(yield tr.json()).error;return de.create("request-failed",{requestName:wn,serverCode:Ai.code,serverMessage:Ai.message,serverStatus:Ai.status})})).apply(this,arguments)}function se({apiKey:wn}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":wn})}function pe(wn,{refreshToken:tr}){const kr=se(wn);return kr.append("Authorization",function re(wn){return`${ze} ${wn}`}(tr)),kr}function Ce(wn){return L.apply(this,arguments)}function L(){return(L=(0,C.Z)(function*(wn){const tr=yield wn();return tr.status>=500&&tr.status<600?wn():tr})).apply(this,arguments)}function Q(wn){return Number(wn.replace("s","000"))}function P(wn,tr){return G.apply(this,arguments)}function G(){return(G=(0,C.Z)(function*({appConfig:wn,heartbeatServiceProvider:tr},{fid:kr}){const Ai=fe(wn),Ni=se(wn),us=tr.getImmediate({optional:!0});if(us){const Ri=yield us.getHeartbeatsHeader();Ri&&Ni.append("x-firebase-client",Ri)}const Ls={method:"POST",headers:Ni,body:JSON.stringify({fid:kr,authVersion:ze,appId:wn.appId,sdkVersion:nt})},Io=yield Ce(()=>fetch(Ai,Ls));if(Io.ok){const Ri=yield Io.json();return{fid:Ri.fid||kr,registrationStatus:2,refreshToken:Ri.refreshToken,authToken:ye(Ri.authToken)}}throw yield Se("Create Installation",Io)})).apply(this,arguments)}function F(wn){return new Promise(tr=>{setTimeout(tr,wn)})}const R=/^[cdef][\w-]{21}$/;function De(){try{const wn=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(wn),wn[0]=112+wn[0]%16;const kr=function Ke(wn){return function ae(wn){return btoa(String.fromCharCode(...wn)).replace(/\+/g,"-").replace(/\//g,"_")}(wn).substr(0,22)}(wn);return R.test(kr)?kr:""}catch(wn){return""}}function dt(wn){return`${wn.appName}!${wn.appId}`}const We=new Map;function Te(wn,tr){const kr=dt(wn);ne(kr,tr),function Oe(wn,tr){const kr=function ot(){return!$e&&"BroadcastChannel"in self&&($e=new BroadcastChannel("[Firebase] FID Change"),$e.onmessage=wn=>{ne(wn.data.key,wn.data.fid)}),$e}();kr&&kr.postMessage({key:wn,fid:tr}),function at(){0===We.size&&$e&&($e.close(),$e=null)}()}(kr,tr)}function ne(wn,tr){const kr=We.get(wn);if(kr)for(const Ai of kr)Ai(tr)}let $e=null;const J="firebase-installations-store";let Ee=null;function Ue(){return Ee||(Ee=(0,Ne.X3)("firebase-installations-database",1,{upgrade:(wn,tr)=>{0===tr&&wn.createObjectStore(J)}})),Ee}function lt(wn,tr){return Tt.apply(this,arguments)}function Tt(){return(Tt=(0,C.Z)(function*(wn,tr){const kr=dt(wn),Ni=(yield Ue()).transaction(J,"readwrite"),us=Ni.objectStore(J),Li=yield us.get(kr);return yield us.put(tr,kr),yield Ni.done,(!Li||Li.fid!==tr.fid)&&Te(wn,tr.fid),tr})).apply(this,arguments)}function Ft(wn){return $t.apply(this,arguments)}function $t(){return($t=(0,C.Z)(function*(wn){const tr=dt(wn),Ai=(yield Ue()).transaction(J,"readwrite");yield Ai.objectStore(J).delete(tr),yield Ai.done})).apply(this,arguments)}function vn(wn,tr){return Nn.apply(this,arguments)}function Nn(){return(Nn=(0,C.Z)(function*(wn,tr){const kr=dt(wn),Ni=(yield Ue()).transaction(J,"readwrite"),us=Ni.objectStore(J),Li=yield us.get(kr),Ls=tr(Li);return void 0===Ls?yield us.delete(kr):yield us.put(Ls,kr),yield Ni.done,Ls&&(!Li||Li.fid!==Ls.fid)&&Te(wn,Ls.fid),Ls})).apply(this,arguments)}function $n(wn){return yn.apply(this,arguments)}function yn(){return(yn=(0,C.Z)(function*(wn){let tr;const kr=yield vn(wn.appConfig,Ai=>{const Ni=hn(Ai),us=ke(wn,Ni);return tr=us.registrationPromise,us.installationEntry});return""===kr.fid?{installationEntry:yield tr}:{installationEntry:kr,registrationPromise:tr}})).apply(this,arguments)}function hn(wn){return jn(wn||{fid:De(),registrationStatus:0})}function ke(wn,tr){if(0===tr.registrationStatus){if(!navigator.onLine)return{installationEntry:tr,registrationPromise:Promise.reject(de.create("app-offline"))};const kr={fid:tr.fid,registrationStatus:1,registrationTime:Date.now()},Ai=function ft(wn,tr){return It.apply(this,arguments)}(wn,kr);return{installationEntry:kr,registrationPromise:Ai}}return 1===tr.registrationStatus?{installationEntry:tr,registrationPromise:ct(wn)}:{installationEntry:tr}}function It(){return(It=(0,C.Z)(function*(wn,tr){try{const kr=yield P(wn,tr);return lt(wn.appConfig,kr)}catch(kr){throw W(kr)&&409===kr.customData.serverCode?yield Ft(wn.appConfig):yield lt(wn.appConfig,{fid:tr.fid,registrationStatus:0}),kr}})).apply(this,arguments)}function ct(wn){return jt.apply(this,arguments)}function jt(){return(jt=(0,C.Z)(function*(wn){let tr=yield nn(wn.appConfig);for(;1===tr.registrationStatus;)yield F(100),tr=yield nn(wn.appConfig);if(0===tr.registrationStatus){const{installationEntry:kr,registrationPromise:Ai}=yield $n(wn);return Ai||kr}return tr})).apply(this,arguments)}function nn(wn){return vn(wn,tr=>{if(!tr)throw de.create("installation-not-found");return jn(tr)})}function jn(wn){return function br(wn){return 1===wn.registrationStatus&&wn.registrationTime+1e4<Date.now()}(wn)?{fid:wn.fid,registrationStatus:0}:wn}function mr(wn,tr){return Mr.apply(this,arguments)}function Mr(){return(Mr=(0,C.Z)(function*({appConfig:wn,heartbeatServiceProvider:tr},kr){const Ai=dr(wn,kr),Ni=pe(wn,kr),us=tr.getImmediate({optional:!0});if(us){const Ri=yield us.getHeartbeatsHeader();Ri&&Ni.append("x-firebase-client",Ri)}const Ls={method:"POST",headers:Ni,body:JSON.stringify({installation:{sdkVersion:nt,appId:wn.appId}})},Io=yield Ce(()=>fetch(Ai,Ls));if(Io.ok)return ye(yield Io.json());throw yield Se("Generate Auth Token",Io)})).apply(this,arguments)}function dr(wn,{fid:tr}){return`${fe(wn)}/${tr}/authTokens:generate`}function zr(wn){return Pr.apply(this,arguments)}function Pr(){return(Pr=(0,C.Z)(function*(wn,tr=!1){let kr;const Ai=yield vn(wn.appConfig,us=>{if(!Nt(us))throw de.create("not-registered");const Li=us.authToken;if(!tr&&pn(Li))return us;if(1===Li.requestStatus)return kr=fn(wn,tr),us;{if(!navigator.onLine)throw de.create("app-offline");const Ls=xr(us);return kr=et(wn,Ls),Ls}});return kr?yield kr:Ai.authToken})).apply(this,arguments)}function fn(wn,tr){return mt.apply(this,arguments)}function mt(){return(mt=(0,C.Z)(function*(wn,tr){let kr=yield Be(wn.appConfig);for(;1===kr.authToken.requestStatus;)yield F(100),kr=yield Be(wn.appConfig);const Ai=kr.authToken;return 0===Ai.requestStatus?zr(wn,tr):Ai})).apply(this,arguments)}function Be(wn){return vn(wn,tr=>{if(!Nt(tr))throw de.create("not-registered");return function Dr(wn){return 1===wn.requestStatus&&wn.requestTime+1e4<Date.now()}(tr.authToken)?Object.assign(Object.assign({},tr),{authToken:{requestStatus:0}}):tr})}function et(wn,tr){return ht.apply(this,arguments)}function ht(){return(ht=(0,C.Z)(function*(wn,tr){try{const kr=yield mr(wn,tr),Ai=Object.assign(Object.assign({},tr),{authToken:kr});return yield lt(wn.appConfig,Ai),kr}catch(kr){if(!W(kr)||401!==kr.customData.serverCode&&404!==kr.customData.serverCode){const Ai=Object.assign(Object.assign({},tr),{authToken:{requestStatus:0}});yield lt(wn.appConfig,Ai)}else yield Ft(wn.appConfig);throw kr}})).apply(this,arguments)}function Nt(wn){return void 0!==wn&&2===wn.registrationStatus}function pn(wn){return 2===wn.requestStatus&&!function Mn(wn){const tr=Date.now();return tr<wn.creationTime||wn.creationTime+wn.expiresIn<tr+36e5}(wn)}function xr(wn){const tr={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},wn),{authToken:tr})}function Ar(){return(Ar=(0,C.Z)(function*(wn){const tr=wn,{installationEntry:kr,registrationPromise:Ai}=yield $n(tr);return Ai?Ai.catch(console.error):zr(tr).catch(console.error),kr.fid})).apply(this,arguments)}function mn(){return(mn=(0,C.Z)(function*(wn,tr=!1){const kr=wn;return yield Rt(kr),(yield zr(kr,tr)).token})).apply(this,arguments)}function Rt(wn){return hr.apply(this,arguments)}function hr(){return(hr=(0,C.Z)(function*(wn){const{registrationPromise:tr}=yield $n(wn);tr&&(yield tr)})).apply(this,arguments)}function gs(wn){return de.create("missing-app-config-values",{valueName:wn})}const xs="installations",va=wn=>{const tr=wn.getProvider("app").getImmediate(),kr=function Ji(wn){if(!wn||!wn.options)throw gs("App Configuration");if(!wn.name)throw gs("App Name");const tr=["projectId","apiKey","appId"];for(const kr of tr)if(!wn.options[kr])throw gs(kr);return{appName:wn.name,projectId:wn.options.projectId,apiKey:wn.options.apiKey,appId:wn.options.appId}}(tr);return{app:tr,appConfig:kr,heartbeatServiceProvider:(0,h._getProvider)(tr,"heartbeat"),_delete:()=>Promise.resolve()}},Eo=wn=>{const tr=wn.getProvider("app").getImmediate(),kr=(0,h._getProvider)(tr,xs).getImmediate();return{getId:()=>function Zr(wn){return Ar.apply(this,arguments)}(kr),getToken:Ni=>function On(wn){return mn.apply(this,arguments)}(kr,Ni)}};(function Hr(){(0,h._registerComponent)(new it.wA(xs,va,"PUBLIC")),(0,h._registerComponent)(new it.wA("installations-internal",Eo,"PRIVATE"))})(),(0,h.registerVersion)(I,tt),(0,h.registerVersion)(I,tt,"esm2017")},1877:(Gr,Ln,me)=>{"use strict";me.d(Ln,{Am:()=>nt,Ub:()=>Qe,Yd:()=>tt,in:()=>h});const C=[];var h=(()=>{return(ze=h||(h={}))[ze.DEBUG=0]="DEBUG",ze[ze.VERBOSE=1]="VERBOSE",ze[ze.INFO=2]="INFO",ze[ze.WARN=3]="WARN",ze[ze.ERROR=4]="ERROR",ze[ze.SILENT=5]="SILENT",h;var ze})();const it={debug:h.DEBUG,verbose:h.VERBOSE,info:h.INFO,warn:h.WARN,error:h.ERROR,silent:h.SILENT},ve=h.INFO,Ne={[h.DEBUG]:"log",[h.VERBOSE]:"log",[h.INFO]:"info",[h.WARN]:"warn",[h.ERROR]:"error"},I=(ze,qe,...Fe)=>{if(qe<ze.logLevel)return;const He=(new Date).toISOString(),xe=Ne[qe];if(!xe)throw new Error(`Attempted to log a message with an invalid logType (value: ${qe})`);console[xe](`[${He}]  ${ze.name}:`,...Fe)};class tt{constructor(qe){this.name=qe,this._logLevel=ve,this._logHandler=I,this._userLogHandler=null,C.push(this)}get logLevel(){return this._logLevel}set logLevel(qe){if(!(qe in h))throw new TypeError(`Invalid value "${qe}" assigned to \`logLevel\``);this._logLevel=qe}setLogLevel(qe){this._logLevel="string"==typeof qe?it[qe]:qe}get logHandler(){return this._logHandler}set logHandler(qe){if("function"!=typeof qe)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=qe}get userLogHandler(){return this._userLogHandler}set userLogHandler(qe){this._userLogHandler=qe}debug(...qe){this._userLogHandler&&this._userLogHandler(this,h.DEBUG,...qe),this._logHandler(this,h.DEBUG,...qe)}log(...qe){this._userLogHandler&&this._userLogHandler(this,h.VERBOSE,...qe),this._logHandler(this,h.VERBOSE,...qe)}info(...qe){this._userLogHandler&&this._userLogHandler(this,h.INFO,...qe),this._logHandler(this,h.INFO,...qe)}warn(...qe){this._userLogHandler&&this._userLogHandler(this,h.WARN,...qe),this._logHandler(this,h.WARN,...qe)}error(...qe){this._userLogHandler&&this._userLogHandler(this,h.ERROR,...qe),this._logHandler(this,h.ERROR,...qe)}}function Qe(ze){C.forEach(qe=>{qe.setLogLevel(ze)})}function nt(ze,qe){for(const Fe of C){let He=null;qe&&qe.level&&(He=it[qe.level]),Fe.userLogHandler=null===ze?null:(xe,we,...de)=>{const W=de.map(fe=>{if(null==fe)return null;if("string"==typeof fe)return fe;if("number"==typeof fe||"boolean"==typeof fe)return fe.toString();if(fe instanceof Error)return fe.message;try{return JSON.stringify(fe)}catch(ye){return null}}).filter(fe=>fe).join(" ");we>=(null!=He?He:xe.logLevel)&&ze({level:h[we].toLowerCase(),message:W,args:de,type:xe.name})}}}},8766:(Gr,Ln,me)=>{"use strict";me.d(Ln,{Lj:()=>oe,X3:()=>Se});var C=me(5861);let it,ve;const tt=new WeakMap,Qe=new WeakMap,nt=new WeakMap,ze=new WeakMap,qe=new WeakMap;let xe={get(Q,re,P){if(Q instanceof IDBTransaction){if("done"===re)return Qe.get(Q);if("objectStoreNames"===re)return Q.objectStoreNames||nt.get(Q);if("store"===re)return P.objectStoreNames[1]?void 0:P.objectStore(P.objectStoreNames[0])}return fe(Q[re])},set:(Q,re,P)=>(Q[re]=P,!0),has:(Q,re)=>Q instanceof IDBTransaction&&("done"===re||"store"===re)||re in Q};function W(Q){return"function"==typeof Q?function de(Q){return Q!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function I(){return ve||(ve=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(Q)?function(...re){return Q.apply(ye(this),re),fe(tt.get(this))}:function(...re){return fe(Q.apply(ye(this),re))}:function(re,...P){const G=Q.call(ye(this),re,...P);return nt.set(G,re.sort?re.sort():[re]),fe(G)}}(Q):(Q instanceof IDBTransaction&&function He(Q){if(Qe.has(Q))return;const re=new Promise((P,G)=>{const F=()=>{Q.removeEventListener("complete",ae),Q.removeEventListener("error",R),Q.removeEventListener("abort",R)},ae=()=>{P(),F()},R=()=>{G(Q.error||new DOMException("AbortError","AbortError")),F()};Q.addEventListener("complete",ae),Q.addEventListener("error",R),Q.addEventListener("abort",R)});Qe.set(Q,re)}(Q),((Q,re)=>re.some(P=>Q instanceof P))(Q,function Ne(){return it||(it=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(Q,xe):Q)}function fe(Q){if(Q instanceof IDBRequest)return function Fe(Q){const re=new Promise((P,G)=>{const F=()=>{Q.removeEventListener("success",ae),Q.removeEventListener("error",R)},ae=()=>{P(fe(Q.result)),F()},R=()=>{G(Q.error),F()};Q.addEventListener("success",ae),Q.addEventListener("error",R)});return re.then(P=>{P instanceof IDBCursor&&tt.set(P,Q)}).catch(()=>{}),qe.set(re,Q),re}(Q);if(ze.has(Q))return ze.get(Q);const re=W(Q);return re!==Q&&(ze.set(Q,re),qe.set(re,Q)),re}const ye=Q=>qe.get(Q);function Se(Q,re,{blocked:P,upgrade:G,blocking:F,terminated:ae}={}){const R=indexedDB.open(Q,re),z=fe(R);return G&&R.addEventListener("upgradeneeded",De=>{G(fe(R.result),De.oldVersion,De.newVersion,fe(R.transaction))}),P&&R.addEventListener("blocked",()=>P()),z.then(De=>{ae&&De.addEventListener("close",()=>ae()),F&&De.addEventListener("versionchange",()=>F())}).catch(()=>{}),z}function oe(Q,{blocked:re}={}){const P=indexedDB.deleteDatabase(Q);return re&&P.addEventListener("blocked",()=>re()),fe(P).then(()=>{})}const se=["get","getKey","getAll","getAllKeys","count"],pe=["put","add","delete","clear"],Ce=new Map;function L(Q,re){if(!(Q instanceof IDBDatabase)||re in Q||"string"!=typeof re)return;if(Ce.get(re))return Ce.get(re);const P=re.replace(/FromIndex$/,""),G=re!==P,F=pe.includes(P);if(!(P in(G?IDBIndex:IDBObjectStore).prototype)||!F&&!se.includes(P))return;const ae=function(){var R=(0,C.Z)(function*(z,...De){const Ke=this.transaction(z,F?"readwrite":"readonly");let dt=Ke.store;return G&&(dt=dt.index(De.shift())),(yield Promise.all([dt[P](...De),F&&Ke.done]))[0]});return function(De){return R.apply(this,arguments)}}();return Ce.set(re,ae),ae}!function we(Q){xe=Q(xe)}(Q=>WR(zR({},Q),{get:(re,P,G)=>L(re,P)||Q.get(re,P,G),has:(re,P)=>!!L(re,P)||Q.has(re,P)}))},5861:(Gr,Ln,me)=>{"use strict";function C(it,ve,Ne,I,tt,Qe,nt){try{var ze=it[Qe](nt),qe=ze.value}catch(Fe){return void Ne(Fe)}ze.done?ve(qe):Promise.resolve(qe).then(I,tt)}function h(it){return function(){var ve=this,Ne=arguments;return new Promise(function(I,tt){var Qe=it.apply(ve,Ne);function nt(qe){C(Qe,I,tt,nt,ze,"next",qe)}function ze(qe){C(Qe,I,tt,nt,ze,"throw",qe)}nt(void 0)})}}me.d(Ln,{Z:()=>h})}},Gr=>{Gr(Gr.s=2961)}]);